a000.Y59=function(){return typeof a000.e59.P09 === 'function'?a000.e59.P09.apply(a000.e59,arguments):a000.e59.P09;};a000.e59=(function(o59){return {P09:function(){var I59,k59=arguments;switch(o59){case 9:I59=k59[1] + k59[2] + k59[4] + k59[0] + k59[3];break;case 5:I59=k59[0] - k59[1] + -k59[2];break;case 8:I59=k59[1] + k59[2] + k59[0];break;case 18:I59=k59[2] - k59[0] + -k59[3] + k59[1];break;case 3:I59=k59[1] / k59[2] / k59[0];break;case 7:I59=void k59[0] !== k59[1];break;case 2:I59=k59[0] - k59[1];break;case 11:I59=(-k59[1] - k59[3] + -k59[0]) / -k59[2];break;case 1:I59=k59[0] * k59[2] / k59[1];break;case 20:I59=(k59[1] - k59[4] + k59[0]) * k59[2] / k59[3];break;case 22:I59=k59[1] >= k59[0];break;case 23:I59=k59[0] === k59[1];break;case 6:I59=k59[0] * k59[3] - k59[4] + k59[2] + k59[1];break;case 13:I59=(k59[3] / k59[2] | k59[1]) * k59[0];break;case 17:I59=k59[1] * (k59[0] + k59[3]) - k59[2];break;case 24:I59=k59[1] % k59[0] / k59[2];break;case 19:I59=(k59[0] - k59[1]) * k59[2];break;case 0:I59=k59[0] / k59[1];break;case 12:I59=k59[1] * k59[0];break;case 21:I59=k59[0] * k59[2] - k59[1];break;case 16:I59=k59[0] / k59[2] * k59[1];break;case 15:I59=k59[1] / k59[0] | k59[2];break;case 14:I59=k59[2] + k59[3] / k59[0] * k59[1];break;case 10:I59=k59[2] * (k59[3] - k59[1]) + k59[0];break;case 4:I59=k59[0] + k59[1];break;}return I59;},m59:function(U59){o59=U59;}};})();function a000(){}a000.z59=function(){return typeof a000.e59.P09 === 'function'?a000.e59.P09.apply(a000.e59,arguments):a000.e59.P09;};a000.V59=function(){return typeof a000.e59.m59 === 'function'?a000.e59.m59.apply(a000.e59,arguments):a000.e59.m59;};a000.s59=function(){return typeof a000.e59.m59 === 'function'?a000.e59.m59.apply(a000.e59,arguments):a000.e59.m59;};(function(){(function(pb,Bb){var jc,tc,Ob,cd,Eb,Hb,Vb,ce,de,Mb,Lb,Cc,ee,dd,fe,ge,wd,Ja,Cb,Qc,he,xd,gb,wb,Db,kc,dc,Sb,xb,Wb,Nb,Sc,Ib,uc,Kb,Xb,ed,lc,hc,ic,fd,yd,ie,vc,wc,Ec,zd,Tc,mc,gd,Bc,Ad,je,Jc,Bd,Cd,Dd,Ed,nc,Fd,Gd,Hd,Lc,oc,pc,Mc,hd,id,jd,fc,jf,Pb,Dc,ke,kd,qc,le,kf,rc,me,lf,ld,ne,mf,Pc,oe,hf,nf,Id,md,of,pf,$d,qf,ae,pe,ec,Uc,qe,Vc,re,gc,se,te,ue,ve,sf,be,we,vd,xe,rf,ye,Jd,ze,Ae,Be,Kd,Ac,De,Ce,tf,Xc,Ee,Md,Yc,Fe,Ld,Ge,He,Nd,Je,Ke,qd,Fc,Nc,Gc,Le,Me,Ne,Oe,Pe,Qe,rd,uf,Re,Se,Pd,Te,cc,Wc,Kc,nd,xc,sc,od,yc,Rc,Ie,Ue,Zc,Ve,vf,$c,We,wf,xf,Xe,Od,pd,Ye,zf,yf,Oc,bd,Af,Zd,Bf,Cf;function Yb(ib,hb){if(!hb || "utf-8" === hb)return sd(ib);throw Error("unsupported encoding");}function Zb(ib,hb){if(!hb || "utf-8" === hb)return td(ib);throw Error("unsupported encoding");}function sd(ib){for(var hb=0,fb,bb=ib.length,lb="";hb < bb;){fb=ib[hb++];if(fb & 128)if(192 === (fb & 224))fb=((fb & 31) << 6) + (ib[hb++] & 63);else if(224 === (fb & 240))fb=((fb & 15) << 12) + ((ib[hb++] & 63) << 6) + (ib[hb++] & 63);else throw Error("unsupported character");lb+=String.fromCharCode(fb);}return lb;}function td(ib){var hb,fb,bb,lb,ub;hb=ib.length;fb=0;lb=0;for(bb=hb;bb--;){ub=ib.charCodeAt(bb);128 > ub?fb++:fb=2048 > ub?fb + 2:fb + 3;}fb=new Uint8Array(fb);for(bb=0;bb < hb;bb++){ub=ib.charCodeAt(bb);128 > ub?fb[lb++]=ub:(2048 > ub?fb[lb++]=192 | ub >>> 6:(fb[lb++]=224 | ub >>> 12,fb[lb++]=128 | ub >>> 6 & 63),fb[lb++]=128 | ub & 63);}return fb;}function $b(ib,hb){if(ib === hb)return !0;if(!ib || !hb || ib.length != hb.length)return !1;for(var fb=0;fb < ib.length;++fb){if(ib[fb] != hb[fb])return !1;}return !0;}function ac(ib){var bb;if(!(ib && ib.constructor == Uint8Array || Array.isArray(ib)))throw new TypeError("Cannot compute the hash code of " + ib);for(var hb=1,fb=0;fb < ib.length;++fb){bb=ib[fb];if("number" !== typeof bb)throw new TypeError("Cannot compute the hash code over non-numeric elements: " + bb);hb=31 * hb + bb & 4294967295;}return hb;}function Ud(ib,hb){var jb;if(ib === hb)return !0;if(!ib || !hb)return !1;hb instanceof Array || (hb=[hb]);for(var fb=0;fb < hb.length;++fb){for(var bb=hb[fb],lb=!1,ub=0;ub < ib.length;++ub){jb=ib[ub];if(bb.equals && "function" === typeof bb.equals && bb.equals(jb) || bb == jb){lb=!0;break;}}if(!lb)return !1;}return !0;}function Vd(ib,hb){return Ud(ib,hb) && (ib.length == hb.length || Ud(hb,ib));}function Pa(ib,hb,fb){var bb,lb;fb && (bb=fb);if("object" !== typeof ib || "function" !== typeof ib.result || "function" !== typeof ib.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{lb=hb.call(bb,ib);lb !== Bb && ib.result(lb);}catch(ub){try{ib.error(ub);}catch(jb){}}}function db(ib,hb,fb){if("object" !== typeof ib || "function" !== typeof ib.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");Pa(ib,hb,fb);}function Y(ib,hb,fb){1E5 > ib && (ib=1E5 + ib);Object.defineProperties(this,{internalCode:{value:ib,writable:!1,configurable:!1},responseCode:{value:hb,writable:!1,configurable:!1},message:{value:fb,writable:!1,configurable:!1}});}function ud(ib){switch(ib){case Pb.PSK:case Pb.MGK:return !0;default:return !1;}}function Wd(ib){switch(ib){case Pb.PSK:case Pb.MGK:case Pb.X509:case Pb.RSA:case Pb.NPTICKET:case Pb.ECC:return !0;default:return !1;}}function df(ib){return ib.toJSON();}function Xd(ib,hb){bd?hb.result(bd):Promise.resolve().then(function(){return Kb.getKeyByName(ib);}).catch(function(){return Kb.generateKey({name:ib},!1,["wrapKey","unwrapKey"]);}).then(function(fb){bd=fb;hb.result(bd);}).catch(function(fb){hb.error(new gb(Y.INTERNAL_EXCEPTION,"Unable to get system key"));});}function Yd(ib,hb){var fb,bb;fb=hb.masterToken;bb=hb.userIdToken;hb=hb.serviceTokens;return {NccpMethod:ib.method,UserId:ib.userId,UT:bb && bb.serialNumber,MT:fb && fb.serialNumber + ":" + fb.sequenceNumber,STCount:hb && hb.length};}function ef(ib){return ib.uniqueKey();}function ff(ib,hb,fb,bb,lb){var Qa;function ub(Aa,qa){Aa.errorCode === Ja.ENTITY_REAUTH || Aa.errorCode === Ja.ENTITYDATA_REAUTH?(bb.clearCryptoContexts(),Na()):Aa.errorCode !== Ja.USER_REAUTH && Aa.errorCode !== Ja.USERDATA_REAUTH || jb(qa);}function jb(Aa){if(Aa=bb.getUserIdToken(Aa))(bb.removeUserIdToken(Aa),Na());}function Ha(Aa,qa,ja){var ca;ca=[];(function aa(){Aa.read(-1,qa,{result:function(ha){Pa(ja,function(){var ba,ma,Ba,va,oa;if(ha)(ca.push(ha),aa());else switch(ca.length){case 0:return new Uint8Array(0);case 1:return ca[0];default:(Ba=ca.length,va=0);for(ma=ba=0;ma < Ba;ma++){ba+=ca[ma].length;}ba=new Uint8Array(ba);for(ma=0;ma < Ba;ma++){oa=ca[ma];ba.set(oa,va);va+=oa.length;}return ba;}});},timeout:function(){ja.timeout();},error:function(ha){ja.error(ha);}});})();}function Na(){bb.getStoreState({result:function(Aa){for(var qa=Qa.slice(),ja=0;ja < qa.length;ja++){qa[ja]({storeState:Aa});}},timeout:function(){ib.error("Timeout getting store state","" + e);},error:function(Aa){ib.error("Error getting store state","" + Aa);}});}Qa=[];this.addEventHandler=function(Aa,qa){switch(Aa){case "shouldpersist":Qa.push(qa);}};this.send=function(Aa){return new Promise(function(qa,ja){var ca,Z,aa;ca=Aa.timeout;Z=new Zd(ib,fb,Aa,bb.getKeyRequestData());aa=new $d(Aa.url);ib.trace("Sending MSL request");hb.request(fb,Z,aa,ca,{result:function(ha){var ba;ib.trace("Received MSL response",{Method:Aa.method});if(ha){Aa.allowTokenRefresh && Na();ba=ha.getErrorHeader();ba?(ub(ba,Aa.profileGuid || Aa.userId),ja({success:!1,error:ba})):Ha(ha,ca,{result:function(ma){qa({success:!0,body:Yb(ma)});},timeout:function(){ja({success:!1,subCode:lb.MSL_READ_TIMEOUT});},error:function(ma){ja({success:!1,error:ma});}});}else ja({success:!1,error:new gb(Y.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){ja({success:!1,subCode:lb.MSL_REQUEST_TIMEOUT});},error:function(ha){ja({success:!1,error:ha});}});});};this.hasUserIdToken=function(Aa){return ! !bb.getUserIdToken(Aa);};this.getUserIdTokenKeys=function(){return bb.getUserIdTokenKeys();};this.removeUserIdToken=jb;this.clearUserIdTokens=function(){bb.clearUserIdTokens();Na();};this.isErrorReauth=function(Aa){return Aa && Aa.errorCode == Ja.USERDATA_REAUTH;};this.isErrorHeader=function(Aa){return Aa instanceof Ac;};this.getErrorCode=function(Aa){return Aa && Aa.errorCode;};this.getStateForMdx=function(Aa){var qa,ja;qa=bb.getMasterToken();Aa=bb.getUserIdToken(Aa);ja=bb.getCryptoContext(qa);return {masterToken:qa,userIdToken:Aa,cryptoContext:ja};};this.buildPlayDataRequest=function(Aa,qa){var ja;ja=new ae();hb.request(fb,new Zd(ib,fb,Aa),ja,Aa.timeout,{result:function(){qa.result(ja.getRequest());},error:function(){qa.result(ja.getRequest());},timeout:function(){qa.timeout();}});};this.rekeyUserIdToken=function(Aa,qa){bb.rekeyUserIdToken(Aa,qa);Na();};this.getServiceTokens=function(Aa){var qa;qa=bb.getMasterToken();(Aa=bb.getUserIdToken(Aa)) && !Aa.isBoundTo(qa) && (Aa=Bb);return bb.getServiceTokens(qa,Aa);};this.removeServiceToken=function(Aa){var qa;qa=bb.getMasterToken();bb.getServiceTokens(qa).find(function(ja){return ja.name === Aa;}) && (bb.removeServiceTokens(Aa,qa),Na());};}function gf(ib,hb,fb){var ub;function bb(){return Promise.resolve().then(function(){return Kb.generateKey(hb,!1,["wrapKey","unwrapKey"]);}).then(function(jb){return lb(jb.publicKey,jb.privateKey);});}function lb(jb,Ha){return Promise.all([new Promise(function(Na,Qa){Bc(jb,{result:Na,error:function(Aa){Qa(new gb(Y.INTERNAL_EXCEPTION,"Unable to create keyx public key",Aa));}});}),new Promise(function(Na,Qa){Jc(Ha,{result:Na,error:function(Aa){Qa(new gb(Y.INTERNAL_EXCEPTION,"Unable to create keyx private key",Aa));}});})]).then(function(Na){Na=new vd("rsaKeypairId",fb,Na[0],Na[1]);ub && (Na.storeData={keyxPublicKey:jb,keyxPrivateKey:Ha});return Na;});}ub=!ib.systemKeyWrapFormat;return Promise.resolve().then(function(){var jb,Ha;jb=ib.storeState;Ha=jb && jb.keyxPublicKey;jb=jb && jb.keyxPrivateKey;return ub && Ha && jb?lb(Ha,jb):bb();}).then(function(jb){var Ha,Na,Qa;Ha={};Ha[Pb.NONE]=new hf();Na=new Pc(ib.esn);Qa=[new be()];return {entityAuthFactories:Ha,entityAuthData:Na,keyExchangeFactories:Qa,keyRequestData:jb,createKeyRequestData:ub?bb:Bb};});}tc=pb.nfCrypto || pb.msCrypto || pb.webkitCrypto || pb.crypto;Ob=tc && (tc.webkitSubtle || tc.subtle);cd=pb.nfCryptokeys || pb.msCryptokeys || pb.webkitCryptokeys || pb.cryptokeys;(function(ib){var hb,fb;hb=(function(){function bb(lb,ub){lb instanceof hb?(this.abv=lb.abv,this.position=lb.position):(this.abv=lb,this.position=ub || 0);}bb.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(lb){this.abv[this.position++]=lb;},peekByte:function(lb){return this.abv[lb];},copyBytes:function(lb,ub,jb){var Ha;Ha=new Uint8Array(this.abv.buffer,this.position,jb);lb=new Uint8Array(lb.buffer,ub,jb);Ha.set(lb);this.position+=jb;},seek:function(lb){this.position=lb;},skip:function(lb){this.position+=lb;},getPosition:function(){return this.position;},setPosition:function(lb){this.position=lb;},getRemaining:function(){return this.abv.length - this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position >= this.abv.length;},show:function(){return "AbvStream: pos " + (this.getPosition().toString() + " of " + this.getLength().toString());}};return bb;})();fb={};(function(){var ha,ba,ma,Ba,va,oa,ua,Ea,ra;function bb(ea,ka){var na;ka.writeByte(ea.tagClass << 6 | ea.constructed << 5 | ea.tag);na=ea.payloadLen;if(128 > na)ka.writeByte(na);else {for(var Ca=na,Ua=0;Ca;){++Ua;Ca>>=8;}ka.writeByte(128 | Ua);for(Ca=0;Ca < Ua;++Ca){ka.writeByte(na >> 8 * (Ua - Ca - 1) & 255);}}if(ea.child)for((ea.tag == ha.BIT_STRING && ka.writeByte(0),ea=ea._child);ea;){if(!bb(ea,ka))return !1;ea=ea.next;}else switch(ea.tag){case ha.INTEGER:ea.backingStore[ea.dataIdx] >> 7 && ka.writeByte(0);ka.copyBytes(ea.backingStore,ea.dataIdx,ea.dataLen);break;case ha.BIT_STRING:ka.writeByte(0);ka.copyBytes(ea.backingStore,ea.dataIdx,ea.dataLen);break;case ha.OCTET_STRING:ka.copyBytes(ea.backingStore,ea.dataIdx,ea.dataLen);break;case ha.OBJECT_IDENTIFIER:ka.copyBytes(ea.backingStore,ea.dataIdx,ea.dataLen);}return !0;}function lb(ea){var ka,na;ka=ea.readByte();na=ka & 127;if(na == ka)return na;if(3 < na || 0 === na)return -1;for(var Ca=ka=0;Ca < na;++Ca){ka=ka << 8 | ea.readByte();}return ka;}function ub(ea,ka,na){var Ca,Ua,Oa,Sa,Va,ta,Da;Ca=ea.backingStore;Ua=new hb(Ca,ka);ka+=na;na=ea;if(8 < va++)return Bb;for(;Ua.getPosition() < ka;){Ua.getPosition();Sa=Ua.readByte();if(31 == (Sa & 31)){for(Oa=0;Sa & 128;){Oa<<=8;Oa|=Sa & 127;}Sa=Oa;}Va=Sa;Oa=Va & 31;if(0 > Oa || 30 < Oa)return Bb;Sa=lb(Ua);if(0 > Sa || Sa > Ua.getRemaining())return Bb;na.constructed=Va & 32;na.tagClass=(Va & 192) >> 6;na.tag=Oa;na.dataLen=Sa;na.dataIdx=Ua.getPosition();Oa=Ua;ta=Va;Va=Sa;if(ta & 32)Oa=!0;else if(ta < ha.BIT_STRING || ta > ha.OCTET_STRING)Oa=!1;else {Da=new hb(Oa);ta == ha.BIT_STRING && Da.skip(1);Da.readByte() >> 6 & 1?Oa=!1:(ta=lb(Da),Oa=Da.getPosition() - Oa.getPosition() + ta == Va);}Oa && (Oa=Ua.getPosition(),Va=Sa,na.tag == ha.BIT_STRING && (na.dataIdx++,na.dataLen--,Oa++,Va--),na.child=new ba(Ca,na),ub(na.child,Oa,Va));na.tag == ha.INTEGER && (Oa=Ua.getPosition(),0 == Ua.peekByte(Oa) && Ua.peekByte(Oa + 1) >> 7 && (na.dataIdx++,na.dataLen--));Ua.skip(Sa);Ua.getPosition() < ka && (na.next=new ba(Ca,na.parent),na=na.next);}va--;return ea;}function jb(ea,ka,na){if(9 != na)return !1;for(na=0;9 > na;++na){if(ea[ka++] != oa[na])return !1;}return !0;}function Ha(ea){var ka;if(!(ea && ea.child && ea.child.next && ea.child.child && ea.child.next.child))return !1;ka=ea.child.child;return jb(ka.backingStore,ka.dataIdx,ka.dataLen) && 2 == ea.nChildren && 2 == ea.child.nChildren && 2 == ea.child.next.child.nChildren?!0:!1;}function Na(ea){var ka;if(!(ea && ea.child && ea.child.next && ea.child.next.child && ea.child.next.next && ea.child.next.next.child))return !1;ka=ea.child.next.child;return jb(ka.backingStore,ka.dataIdx,ka.dataLen) && 3 == ea.nChildren && 2 == ea.child.next.nChildren && 9 == ea.child.next.next.child.nChildren?!0:!1;}function Qa(ea){var ka,na;ka=ma.createSequenceNode();na=new Ba(ka);na.addChild(ma.createSequenceNode());na.addChild(ma.createOidNode(oa));na.addSibling(ma.createNullNode());na.addToParent(ka,ma.createBitStringNode(null));na.addChild(ma.createSequenceNode());na.addChild(ma.createIntegerNode(ea.n));na.addSibling(ma.createIntegerNode(ea.e));return ka;}function Aa(ea){var ka;ea=ea.child.next.child.child;ka=ea.data;ea=ea.next;return new ua(ka,ea.data,null,null);}function qa(ea){var ka,na;ka=ma.createSequenceNode();na=new Ba(ka);na.addChild(ma.createIntegerNode(new Uint8Array([0])));na.addSibling(ma.createSequenceNode());na.addChild(ma.createOidNode(oa));na.addSibling(ma.createNullNode());na.addToParent(ka,ma.createOctetStringNode(null));na.addChild(ma.createSequenceNode());na.addChild(ma.createIntegerNode(new Uint8Array([0])));na.addSibling(ma.createIntegerNode(ea.n));na.addSibling(ma.createIntegerNode(ea.e));na.addSibling(ma.createIntegerNode(ea.d));na.addSibling(ma.createIntegerNode(ea.p));na.addSibling(ma.createIntegerNode(ea.q));na.addSibling(ma.createIntegerNode(ea.dp));na.addSibling(ma.createIntegerNode(ea.dq));na.addSibling(ma.createIntegerNode(ea.qi));return ka;}function ja(ea){var ka;ka=[];ea=ea.child.next.next.child.child.next;for(var na=0;8 > na;na++){ka.push(ea.data);ea=ea.next;}return new Ea(ka[0],ka[1],ka[2],ka[3],ka[4],ka[5],ka[6],ka[7]);}function ca(ea,ka,na,Ca){if(!(ea instanceof ua || ea instanceof Ea))return Bb;if(na)for(var Ua=0;Ua < na.length;++Ua){if(-1 == ra.indexOf(na[Ua]))return Bb;}ka={kty:"RSA",alg:ka,key_ops:na || [],ext:Ca == Bb?!1:Ca,n:Eb(ea.n,!0),e:Eb(ea.e,!0)};ea instanceof Ea && (ka.d=Eb(ea.d,!0),ka.p=Eb(ea.p,!0),ka.q=Eb(ea.q,!0),ka.dp=Eb(ea.dp,!0),ka.dq=Eb(ea.dq,!0),ka.qi=Eb(ea.qi,!0));return ka;}function Z(ea){var ka,na,Ca,Ua,Oa,Sa,Va,ta,Da,Ia;if(!ea.kty || "RSA" != ea.kty || !ea.n || !ea.e)return Bb;ka=("RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512").split(" ");if(ea.alg && -1 == ka.indexOf(ea.alg))return Bb;ka=[];ea.use?"enc" == ea.use?ka=["encrypt","decrypt","wrap","unwrap"]:"sig" == ea.use && (ka=["sign","verify"]):ka=ea.key_ops;na=ea.ext;Ca=Hb(ea.n,!0);Ua=Hb(ea.e,!0);if(ea.d){Oa=Hb(ea.d,!0);Sa=Hb(ea.p,!0);Va=Hb(ea.q,!0);ta=Hb(ea.dp,!0);Da=Hb(ea.dq,!0);Ia=Hb(ea.qi,!0);return new Ea(Ca,Ua,Oa,Sa,Va,ta,Da,Ia,ea.alg,ka,na);}return new ua(Ca,Ua,na,ka);}function aa(ea,ka,na,Ca){this.der=ea;this.type=ka;this.keyOps=na;this.extractable=Ca;}ha={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};ba=function(ea,ka,na,Ca,Ua,Oa){this._data=ea;this._parent=ka || Bb;this._constructed=na || !1;this._tagClass=0;this._tag=Ca || 0;this._dataIdx=Ua || 0;this._dataLen=Oa || 0;};ba.prototype={_child:Bb,_next:Bb,get data() {return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx + this._dataLen));},get backingStore() {return this._data;},get constructed() {return this._constructed;},set constructed(ea) {this._constructed=0 != ea?!0:!1;},get tagClass() {return this._tagClass;},set tagClass(ea) {this._tagClass=ea;},get tag() {return this._tag;},set tag(ea) {this._tag=ea;},get dataIdx() {return this._dataIdx;},set dataIdx(ea) {this._dataIdx=ea;},get dataLen() {return this._dataLen;},set dataLen(ea) {this._dataLen=ea;},get child() {return this._child;},set child(ea) {this._child=ea;this._child.parent=this;},get next() {return this._next;},set next(ea) {this._next=ea;},get parent() {return this._parent;},set parent(ea) {this._parent=ea;},get payloadLen() {var ea;ea=0;if(this._child){for(var ka=this._child;ka;){ea+=ka.length;ka=ka.next;}this._tag == ha.BIT_STRING && ea++;}else switch(this._tag){case ha.INTEGER:ea=this._dataLen;this._data[this._dataIdx] >> 7 && ea++;break;case ha.BIT_STRING:ea=this._dataLen + 1;break;case ha.OCTET_STRING:ea=this._dataLen;break;case ha.NULL:ea=0;break;case ha.OBJECT_IDENTIFIER:jb(this._data,this._dataIdx,this._dataLen) && (ea=9);}return ea;},get length() {var ea,ka;ea=this.payloadLen;if(127 < ea)for(ka=ea;ka;){ka>>=8;++ea;}return ea + 2;},get der() {var ea,ka;ea=this.length;if(!ea)return Bb;ea=new Uint8Array(ea);ka=new hb(ea);return bb(this,ka)?ea:Bb;},get nChildren() {for(var ea=0,ka=this._child;ka;){ea++;ka=ka.next;}return ea;}};ma={createSequenceNode:function(){return new ba(null,null,!0,ha.SEQUENCE,null,null);},createOidNode:function(ea){return new ba(ea,null,!1,ha.OBJECT_IDENTIFIER,0,ea?ea.length:0);},createNullNode:function(){return new ba(null,null,!1,ha.NULL,null,null);},createBitStringNode:function(ea){return new ba(ea,null,!1,ha.BIT_STRING,0,ea?ea.length:0);},createIntegerNode:function(ea){return new ba(ea,null,!1,ha.INTEGER,0,ea?ea.length:0);},createOctetStringNode:function(ea){return new ba(ea,null,!1,ha.OCTET_STRING,0,ea?ea.length:0);}};Ba=function(ea){this._currentNode=this._rootNode=ea;};Ba.prototype={addChild:function(ea){this.addTo(this._currentNode,ea);},addSibling:function(ea){this.addTo(this._currentNode.parent,ea);},addTo:function(ea,ka){this._currentNode=ka;this._currentNode.parent=ea;if(ea.child){for(ea=ea.child;ea.next;){ea=ea.next;}ea.next=ka;}else ea.child=ka;},addToParent:function(ea,ka){this.findNode(ea) && this.addTo(ea,ka);},findNode:function(ea){for(var ka=this._currentNode;ka;){if(ea == ka)return !0;ka=ka.parent;}return !1;}};va=0;oa=new Uint8Array([42,134,72,134,247,13,1,1,1]);ua=function(ea,ka,na,Ca){this.n=ea;this.e=ka;this.ext=na;this.keyOps=Ca;};Ea=function(ea,ka,na,Ca,Ua,Oa,Sa,Va,ta,Da,Ia){this.n=ea;this.e=ka;this.d=na;this.p=Ca;this.q=Ua;this.dp=Oa;this.dq=Sa;this.qi=Va;this.alg=ta;this.keyOps=Da;this.ext=Ia;};ra=("sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits").split(" ");aa.prototype.getDer=function(){return this.der;};aa.prototype.getType=function(){return this.type;};aa.prototype.getKeyOps=function(){return this.keyOps;};aa.prototype.getExtractable=function(){return this.extractable;};fb.parse=function(ea){va=0;return ub(new ba(ea),0,ea.length);};fb.show=function(ea,ka){};fb.isRsaSpki=Ha;fb.isRsaPkcs8=Na;fb.NodeFactory=ma;fb.Builder=Ba;fb.tagVal=ha;fb.RsaPublicKey=ua;fb.RsaPrivateKey=Ea;fb.buildRsaSpki=Qa;fb.parseRsaSpki=function(ea){ea=fb.parse(ea);return Ha?Aa(ea):Bb;};fb.buildRsaPkcs8=qa;fb.parseRsaPkcs8=function(ea){ea=fb.parse(ea);return Na(ea)?ja(ea):Bb;};fb.buildRsaJwk=ca;fb.parseRsaJwk=Z;fb.RsaDer=aa;fb.rsaDerToJwk=function(ea,ka,na,Ca){ea=fb.parse(ea);if(!ea)return Bb;if(Ha(ea))ea=Aa(ea);else if(Na(ea))ea=ja(ea);else return Bb;return ca(ea,ka,na,Ca);};fb.jwkToRsaDer=function(ea){var ka,na;ea=Z(ea);if(!ea)return Bb;if(ea instanceof ua){ka="spki";na=Qa(ea).der;}else if(ea instanceof Ea)(ka="pkcs8",na=qa(ea).der);else return Bb;return new aa(na,ka,ea.keyOps,ea.ext);};fb.webCryptoAlgorithmToJwkAlg=function(ea){return "RSAES-PKCS1-v1_5" == ea.name?"RSA1_5":"RSASSA-PKCS1-v1_5" == ea.name?"SHA-256" == ea.hash.name?"RS256":"SHA-384" == ea.hash.name?"RS384":"SHA-512" == ea.hash.name?"RS512":Bb:Bb;};fb.webCryptoUsageToJwkKeyOps=function(ea){return ea.map(function(ka){return "wrapKey" == ka?"wrap":"unwrapKey" == ka?"unwrap":ka;});};})();ib.ASN1=fb;})(pb);(function(){for(var ib={},hb={},fb={"=":0,".":0},bb={"=":0,".":0},lb=/\s+/g,ub=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,jb=64;jb--;){ib[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=262144 * jb;hb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=4096 * jb;fb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=64 * jb;bb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=jb;}for(jb=64;jb-- && ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb] != ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb];){ib[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=262144 * jb;hb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=4096 * jb;fb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=64 * jb;bb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=jb;}Eb=function(Ha,Na){for(var Qa="",Aa=0,qa=Ha.length,ja=qa - 2,ca=Na?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Z=Na?"":"=";Aa < ja;){Na=65536 * Ha[Aa++] + 256 * Ha[Aa++] + Ha[Aa++];Qa+=ca[Na >>> 18] + ca[Na >>> 12 & 63] + ca[Na >>> 6 & 63] + ca[Na & 63];}Aa == ja?(Na=65536 * Ha[Aa++] + 256 * Ha[Aa++],Qa+=ca[Na >>> 18] + ca[Na >>> 12 & 63] + ca[Na >>> 6 & 63] + Z):Aa == qa - 1 && (Na=65536 * Ha[Aa++],Qa+=ca[Na >>> 18] + ca[Na >>> 12 & 63] + Z + Z);return Qa;};Hb=function(Ha,Na){Ha=Ha.replace(lb,"");if(Na && (Na=Ha.length % 4)){Na=4 - Na;for(var Qa=0;Qa < Na;++Qa){Ha+="=";}}Na=Ha.length;if(0 != Na % 4 || !ub.test(Ha))throw Error("bad base64: " + Ha);for(var Aa=Na / 4 * 3 - ("=" == Ha[Na - 1]?1:0) - ("=" == Ha[Na - 2]?1:0),qa=new Uint8Array(Aa),ja=0,ca=0;ja < Na;){Qa=ib[Ha[ja++]] + hb[Ha[ja++]] + fb[Ha[ja++]] + bb[Ha[ja++]];qa[ca++]=Qa >>> 16;ca < Aa && (qa[ca++]=Qa >>> 8 & 255,ca < Aa && (qa[ca++]=Qa & 255));}return qa;};})();Vb={};(function(){var ub,jb,Ha,Qa;function ib(Aa){if(!(this instanceof ib))return new ib(Aa);for(var qa=0,ja=jb.length;qa < ja;qa++){this[jb[qa]]="";}this.bufferCheckPosition=Vb.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=Aa || ({});this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=Ha.BEGIN;this.stack=new ub();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;hb(this,"onready");}function hb(Aa,qa,ja){if(Aa[qa])Aa[qa](ja);}function fb(Aa,qa){var ja,ca;ja=Aa.opt;ca=Aa.textNode;ja.trim && (ca=ca.trim());ja.normalize && (ca=ca.replace(/\s+/g," "));Aa.textNode=ca;Aa.textNode && hb(Aa,qa?qa:"onvalue",Aa.textNode);Aa.textNode="";}function bb(Aa,qa){fb(Aa);qa+="\nLine: " + Aa.line + "\nColumn: " + Aa.column + "\nChar: " + Aa.c;qa=Error(qa);Aa.error=qa;hb(Aa,"onerror",qa);return Aa;}function lb(Aa){Aa.state !== Ha.VALUE && bb(Aa,"Unexpected end");fb(Aa);Aa.c="";Aa.closed=!0;hb(Aa,"onend");ib.call(Aa,Aa.opt);return Aa;}ub=Array;Vb.parser=function(Aa){return new ib(Aa);};Vb.CParser=ib;Vb.MAX_BUFFER_LENGTH=65536;Vb.DEBUG=!1;Vb.INFO=!1;Vb.EVENTS=("value string key openobject closeobject openarray closearray error end ready").split(" ");jb=["textNode","numberNode"];Vb.EVENTS.filter(function(Aa){return "error" !== Aa && "end" !== Aa;});Ha=0;Vb.STATE={BEGIN:Ha++,VALUE:Ha++,OPEN_OBJECT:Ha++,CLOSE_OBJECT:Ha++,OPEN_ARRAY:Ha++,CLOSE_ARRAY:Ha++,TEXT_ESCAPE:Ha++,STRING:Ha++,BACKSLASH:Ha++,END:Ha++,OPEN_KEY:Ha++,CLOSE_KEY:Ha++,TRUE:Ha++,TRUE2:Ha++,TRUE3:Ha++,FALSE:Ha++,FALSE2:Ha++,FALSE3:Ha++,FALSE4:Ha++,NULL:Ha++,NULL2:Ha++,NULL3:Ha++,NUMBER_DECIMAL_POINT:Ha++,NUMBER_DIGIT:Ha++};for(var Na in Vb.STATE){Vb.STATE[Vb.STATE[Na]]=Na;}Ha=Vb.STATE;Object.getPrototypeOf || (Object.getPrototypeOf=function(Aa){return Aa.__proto__;});Qa=/[\\"\n]/g;ib.prototype={end:function(){lb(this);},write:function(Aa){var ca,Z,aa;if(this.error)throw this.error;if(this.closed)return bb(this,"Cannot write after close. Assign an onready handler.");if(null === Aa)return lb(this);for(var qa=Aa[0],ja;qa;){ja=qa;this.c=qa=Aa.charAt(this.index++);ja !== qa?this.p=ja:ja=this.p;if(!qa)break;this.position++;"\n" === qa?(this.line++,this.column=0):this.column++;switch(this.state){case Ha.BEGIN:"{" === qa?this.state=Ha.OPEN_OBJECT:"[" === qa?this.state=Ha.OPEN_ARRAY:"\r" !== qa && "\n" !== qa && " " !== qa && "\t" !== qa && bb(this,"Non-whitespace before {[.");continue;case Ha.OPEN_KEY:case Ha.OPEN_OBJECT:if("\r" === qa || "\n" === qa || " " === qa || "\t" === qa)continue;if(this.state === Ha.OPEN_KEY)this.stack.push(Ha.CLOSE_KEY);else if("}" === qa){hb(this,"onopenobject");hb(this,"oncloseobject");this.state=this.stack.pop() || Ha.VALUE;continue;}else this.stack.push(Ha.CLOSE_OBJECT);'"' === qa?this.state=Ha.STRING:bb(this,'Malformed object key should start with "');continue;case Ha.CLOSE_KEY:case Ha.CLOSE_OBJECT:if("\r" === qa || "\n" === qa || " " === qa || "\t" === qa)continue;":" === qa?(this.state === Ha.CLOSE_OBJECT?(this.stack.push(Ha.CLOSE_OBJECT),fb(this,"onopenobject")):fb(this,"onkey"),this.state=Ha.VALUE):"}" === qa?(fb(this),hb(this,"oncloseobject",void 0),this.state=this.stack.pop() || Ha.VALUE):"," === qa?(this.state === Ha.CLOSE_OBJECT && this.stack.push(Ha.CLOSE_OBJECT),fb(this),this.state=Ha.OPEN_KEY):bb(this,"Bad object");continue;case Ha.OPEN_ARRAY:case Ha.VALUE:if("\r" === qa || "\n" === qa || " " === qa || "\t" === qa)continue;if(this.state === Ha.OPEN_ARRAY)if((hb(this,"onopenarray"),this.state=Ha.VALUE,"]" === qa)){hb(this,"onclosearray");this.state=this.stack.pop() || Ha.VALUE;continue;}else this.stack.push(Ha.CLOSE_ARRAY);'"' === qa?this.state=Ha.STRING:"{" === qa?this.state=Ha.OPEN_OBJECT:"[" === qa?this.state=Ha.OPEN_ARRAY:"t" === qa?this.state=Ha.TRUE:"f" === qa?this.state=Ha.FALSE:"n" === qa?this.state=Ha.NULL:"-" === qa?this.numberNode+=qa:"0" === qa?(this.numberNode+=qa,this.state=Ha.NUMBER_DIGIT):-1 !== ("123456789").indexOf(qa)?(this.numberNode+=qa,this.state=Ha.NUMBER_DIGIT):bb(this,"Bad value");continue;case Ha.CLOSE_ARRAY:if("," === qa)(this.stack.push(Ha.CLOSE_ARRAY),fb(this,"onvalue"),this.state=Ha.VALUE);else if("]" === qa)(fb(this),hb(this,"onclosearray",void 0),this.state=this.stack.pop() || Ha.VALUE);else if("\r" === qa || "\n" === qa || " " === qa || "\t" === qa)continue;else bb(this,"Bad array");continue;case Ha.STRING:ja=this.index - 1;(ca=this.slashed,Z=this.unicodeI);a:for(;;){if(Vb.DEBUG)for(;0 < Z;){if((this.unicodeS+=qa,qa=Aa.charAt(this.index++),4 === Z?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),Z=0,ja=this.index - 1):Z++,!qa))break a;}if('"' === qa && !ca){this.state=this.stack.pop() || Ha.VALUE;(this.textNode+=Aa.substring(ja,this.index - 1)) || hb(this,"onvalue","");break;}if("\\" === qa && !ca && (ca=!0,this.textNode+=Aa.substring(ja,this.index - 1),qa=Aa.charAt(this.index++),!qa))break;if(ca)if((ca=!1,"n" === qa?this.textNode+="\n":"r" === qa?this.textNode+="\r":"t" === qa?this.textNode+="\t":"f" === qa?this.textNode+="\f":"b" === qa?this.textNode+="\b":"u" === qa?(Z=1,this.unicodeS=""):this.textNode+=qa,qa=Aa.charAt(this.index++),ja=this.index - 1,qa))continue;else break;Qa.lastIndex=this.index;aa=Qa.exec(Aa);if(null === aa){this.index=Aa.length + 1;this.textNode+=Aa.substring(ja,this.index - 1);break;}this.index=aa.index + 1;qa=Aa.charAt(aa.index);if(!qa){this.textNode+=Aa.substring(ja,this.index - 1);break;}}this.slashed=ca;this.unicodeI=Z;continue;case Ha.TRUE:if("" === qa)continue;"r" === qa?this.state=Ha.TRUE2:bb(this,"Invalid true started with t" + qa);continue;case Ha.TRUE2:if("" === qa)continue;"u" === qa?this.state=Ha.TRUE3:bb(this,"Invalid true started with tr" + qa);continue;case Ha.TRUE3:if("" === qa)continue;"e" === qa?(hb(this,"onvalue",!0),this.state=this.stack.pop() || Ha.VALUE):bb(this,"Invalid true started with tru" + qa);continue;case Ha.FALSE:if("" === qa)continue;"a" === qa?this.state=Ha.FALSE2:bb(this,"Invalid false started with f" + qa);continue;case Ha.FALSE2:if("" === qa)continue;"l" === qa?this.state=Ha.FALSE3:bb(this,"Invalid false started with fa" + qa);continue;case Ha.FALSE3:if("" === qa)continue;"s" === qa?this.state=Ha.FALSE4:bb(this,"Invalid false started with fal" + qa);continue;case Ha.FALSE4:if("" === qa)continue;"e" === qa?(hb(this,"onvalue",!1),this.state=this.stack.pop() || Ha.VALUE):bb(this,"Invalid false started with fals" + qa);continue;case Ha.NULL:if("" === qa)continue;"u" === qa?this.state=Ha.NULL2:bb(this,"Invalid null started with n" + qa);continue;case Ha.NULL2:if("" === qa)continue;"l" === qa?this.state=Ha.NULL3:bb(this,"Invalid null started with nu" + qa);continue;case Ha.NULL3:if("" === qa)continue;"l" === qa?(hb(this,"onvalue",null),this.state=this.stack.pop() || Ha.VALUE):bb(this,"Invalid null started with nul" + qa);continue;case Ha.NUMBER_DECIMAL_POINT:"." === qa?(this.numberNode+=qa,this.state=Ha.NUMBER_DIGIT):bb(this,"Leading zero not followed by .");continue;case Ha.NUMBER_DIGIT:-1 !== ("0123456789").indexOf(qa)?this.numberNode+=qa:"." === qa?(-1 !== this.numberNode.indexOf(".") && bb(this,"Invalid number has two dots"),this.numberNode+=qa):"e" === qa || "E" === qa?(-1 === this.numberNode.indexOf("e") && -1 === this.numberNode.indexOf("E") || bb(this,"Invalid number has two exponential"),this.numberNode+=qa):"+" === qa || "-" === qa?("e" !== ja && "E" !== ja && bb(this,"Invalid symbol in number"),this.numberNode+=qa):(this.numberNode && hb(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop() || Ha.VALUE);continue;default:bb(this,"Unknown state: " + this.state);}}if(this.position >= this.bufferCheckPosition){Aa=Math.max(Vb.MAX_BUFFER_LENGTH,10);ja=qa=0;for(ca=jb.length;ja < ca;ja++){Z=this[jb[ja]].length;if(Z > Aa)switch(jb[ja]){case "text":break;default:bb(this,"Max buffer length exceeded: " + jb[ja]);}qa=Math.max(qa,Z);}this.bufferCheckPosition=Vb.MAX_BUFFER_LENGTH - qa + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};})();(function(){var bb,lb,ub;function ib(jb,Ha){Ha || (Ha=jb.length);return jb.reduce(function(Na,Qa,Aa){return Aa < Ha?Na + String.fromCharCode(Qa):Na;},"");}for(var hb={},fb=0;256 > fb;++fb){bb=ib([fb]);hb[bb]=fb;}lb=Object.keys(hb).length;ub=[];for(fb=0;256 > fb;++fb){ub[fb]=[fb];}ce=function(jb,Ha){var ba,ma;function Na(Ba,va){var oa;for(;0 < va;){if(Z >= ca.length)return !1;if(va > aa){oa=Ba;oa>>>=va - aa;ca[Z]|=oa & 255;va-=aa;aa=8;++Z;}else va <= aa && (oa=Ba,oa<<=aa - va,oa&=255,oa>>>=8 - aa,ca[Z]|=oa & 255,aa-=va,va=0,0 == aa && (aa=8,++Z));}return !0;}for(var Qa in hb){Ha[Qa]=hb[Qa];}for(var Aa=lb,qa=[],ja=8,ca=new Uint8Array(jb.length),Z=0,aa=8,ha=0;ha < jb.length;++ha){ba=jb[ha];qa.push(ba);Qa=ib(qa);ma=Ha[Qa];if(!ma){qa=ib(qa,qa.length - 1);if(!Na(Ha[qa],ja))return null;0 != Aa >> ja && ++ja;Ha[Qa]=Aa++;qa=[ba];}}return 0 < qa.length && (Qa=ib(qa),ma=Ha[Qa],!Na(ma,ja))?null:ca.subarray(0,8 > aa?Z + 1:Z);};de=function(jb){var ha,ba;for(var Ha=ub.slice(),Na=0,Qa=0,Aa=8,qa=new Uint8Array(Math.ceil(1.5 * jb.length)),ja=0,ca,Z=[];Na < jb.length && !(8 * (jb.length - Na) - Qa < Aa);){for(var aa=ca=0;aa < Aa;){ha=Math.min(Aa - aa,8 - Qa);ba=jb[Na];ba<<=Qa;ba&=255;ba>>>=8 - ha;aa+=ha;Qa+=ha;8 == Qa && (Qa=0,++Na);ca|=(ba & 255) << Aa - aa;}aa=Ha[ca];0 == Z.length?++Aa:(aa?Z.push(aa[0]):Z.push(Z[0]),Ha[Ha.length]=Z,Z=[],Ha.length == 1 << Aa && ++Aa,aa || (aa=Ha[ca]));ca=ja + aa.length;ca >= qa.length && (ha=new Uint8Array(Math.ceil(1.5 * ca)),ha.set(qa),qa=ha);qa.set(aa,ja);ja=ca;Z=Z.concat(aa);}return qa.subarray(0,ja);};})();(function(){var ib,hb,fb;Mb="utf-8";Lb=9007199254740992;ib=Cc={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Cc);ee=function(bb){for(var lb=[ib.GZIP,ib.LZW],ub=0;ub < lb.length && 0 < bb.length;++ub){for(var jb=lb[ub],Ha=0;Ha < bb.length;++Ha){if(bb[Ha] == jb)return jb;}}return null;};hb=dd={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(dd);fe=function(bb){return hb.AES_CBC_PKCS5Padding == bb?hb.AES_CBC_PKCS5Padding:hb.RSA_ECB_PKCS1Padding == bb?hb.RSA_ECB_PKCS1Padding:hb[bb];};fb=ge={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(ge);wd=function(bb){return fb[bb];};Ja={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(Ja);})();Cb={isObjectLiteral:function(ib){return null !== ib && "object" === typeof ib && ib.constructor === Object;},extendDeep:function(){var ib,hb,fb,bb,lb,ub,jb,Ha;ib=arguments[0];hb=1;fb=arguments.length;bb=!1;"boolean" === typeof ib && (bb=ib,ib=arguments[1],hb=2);for(;hb < fb;hb++){if(null != (lb=arguments[hb]))for(ub in lb){if(!(bb && (ub in ib))){jb=lb[ub];if(ib !== jb && jb !== Bb){Ha=ib[ub];ib[ub]=null !== Ha && null !== jb && "object" === typeof Ha && "object" === typeof jb?Cb.extendDeep(bb,{},Ha,jb):jb;}}}}return ib;}};(function(){var jb,Ha;function ib(Na,Qa){return function(){var Aa,qa;Aa=Na.base;Na.base=Qa;qa=Na.apply(this,arguments);Na.base=Aa;return qa;};}function hb(Na,Qa,Aa){var qa,ja,ca,Z;Aa=Aa || Ha;ja=! !Aa.extendAll;for(qa in Qa){ca=Qa.__lookupGetter__(qa);Z=Qa.__lookupSetter__(qa);ca || Z?(ca && Na.__defineGetter__(qa,ca),Z && Na.__defineSetter__(qa,Z)):(ca=Qa[qa],Z=Na[qa],"function" === typeof ca && "function" === typeof Z && ca !== Z?(ca.base !== Function.prototype.base && (ca=ib(ca,Z)),ca.base=Z):(ja || Aa[qa]) && Cb.isObjectLiteral(ca) && Cb.isObjectLiteral(Z) && (ca=Cb.extendDeep({},Z,ca)),Na[qa]=ca);}}function fb(){var Na,Qa;Na=Array.prototype.slice;Qa=Na.call(arguments,1);return this.extend({init:function qa(){var ja;ja=Na.call(arguments,0);qa.base.apply(this,Qa.concat(ja));}});}function bb(Na,Qa){var Aa;Aa=new this(jb);hb(Aa,Na,Qa);return ub(Aa);}function lb(Na,Qa){hb(this.prototype,Na,Qa);return this;}function ub(Na){var Qa;Qa=function(){var Aa;Aa=this.init;Aa && arguments[0] !== jb && Aa.apply(this,arguments);};Na && (Qa.prototype=Na);Qa.prototype.constructor=Qa;Qa.extend=bb;Qa.bind=fb;Qa.mixin=lb;return Qa;}jb={};Ha={actions:!0};Function.prototype.base=function(){};Cb.Class={create:ub,mixin:hb,extend:function(Na,Qa){var Aa;Aa=ub();Aa.prototype=new Na();return Aa.extend(Qa);}};Cb.mixin=function(){Cb.log && Cb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");hb.apply(null,arguments);};})();(function(){var jb,Ha,Na;function ib(Qa,Aa){return function(){var qa,ja;qa=Qa.base;Qa.base=Aa;ja=Qa.apply(this,arguments);Qa.base=qa;return ja;};}function hb(Qa,Aa,qa){var ja,ca,Z,aa;qa=qa || Ha;ca=! !qa.extendAll;for(ja in Aa){Z=Aa.__lookupGetter__(ja);aa=Aa.__lookupSetter__(ja);Z || aa?(Z && Qa.__defineGetter__(ja,Z),aa && Qa.__defineSetter__(ja,aa)):(Z=Aa[ja],aa=Qa[ja],"function" === typeof Z && "function" === typeof aa && Z !== aa?(Z.base !== Na && (Z=ib(Z,aa)),Z.base=aa):(ca || qa[ja]) && Cb.isObjectLiteral(Z) && Cb.isObjectLiteral(aa) && (Z=Cb.extendDeep({},aa,Z)),Qa[ja]=Z);}}function fb(){var Qa,Aa;Qa=Array.prototype.slice;Aa=Qa.call(arguments,1);return this.extend({init:function ja(){var ca;ca=Qa.call(arguments,0);ja.base.apply(this,Aa.concat(ca));}});}function bb(Qa,Aa){var qa;qa=new this(jb);hb(qa,Qa,Aa);return ub(qa);}function lb(Qa,Aa){hb(this.prototype,Qa,Aa);return this;}function ub(Qa){var Aa;Aa=function(){var qa;qa=this.init;qa && arguments[0] !== jb && qa.apply(this,arguments);};Qa && (Aa.prototype=Qa);Aa.prototype.constructor=Aa;Aa.extend=bb;Aa.bind=fb;Aa.mixin=lb;return Aa;}jb={};Ha={actions:!0};Na=function(){};Function.prototype.base=Na;Cb.Class={create:ub,mixin:hb,extend:function(Qa,Aa){var qa;qa=ub();qa.prototype=new Qa();return qa.extend(Aa);}};Cb.mixin=function(){Cb.log && Cb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");hb.apply(null,arguments);};})();(function(){function ib(fb){return fb == Lb?1:fb + 1;}function hb(fb){if(0 === Object.keys(fb._waiters).length)return 0;for(var bb=ib(fb._nextWaiter);!fb._waiters[bb];){bb=ib(bb);}return bb;}Qc=Cb.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(fb){var bb;if(this._waiters[fb]){bb=this._waiters[fb];delete this._waiters[fb];fb == this._nextWaiter && (this._nextWaiter=hb(this));bb.call(this,Bb);}},cancelAll:function(){for(;0 !== this._nextWaiter;){this.cancel(this._nextWaiter);}},poll:function(fb,bb){var lb,ub;lb=this;ub=ib(this._lastWaiter);this._lastWaiter=ub;db(bb,function(){var jb,Ha;if(0 < this._queue.length){jb=this._queue.shift();setTimeout(function(){bb.result(jb);},0);}else {-1 != fb && (Ha=setTimeout(function(){delete lb._waiters[ub];ub == lb._nextWaiter && (lb._nextWaiter=hb(lb));bb.timeout();},fb));this._waiters[ub]=function(Na){clearTimeout(Ha);setTimeout(function(){bb.result(Na);},0);};this._nextWaiter || (this._nextWaiter=ub);}},lb);return ub;},add:function(fb){var bb;if(this._nextWaiter){bb=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=hb(this);bb.call(this,fb);}else this._queue.push(fb);}});})();(function(){var ib;ib=0 - Lb;he=Cb.Class.create({nextBoolean:function(){var hb;hb=new Uint8Array(1);tc.getRandomValues(hb);return hb[0] & 1?!0:!1;},nextInt:function(hb){var fb;if(null !== hb && hb !== Bb){if("number" !== typeof hb)throw new TypeError("n must be of type number");if(1 > hb)throw new RangeError("n must be greater than zero");--hb;fb=new Uint8Array(4);tc.getRandomValues(fb);return Math.floor(((fb[3] & 127) << 24 | fb[2] << 16 | fb[1] << 8 | fb[0]) / 2147483648 * (hb - 0 + 1));}hb=new Uint8Array(4);tc.getRandomValues(hb);fb=(hb[3] & 127) << 24 | hb[2] << 16 | hb[1] << 8 | hb[0];return hb[3] & 128?-fb:fb;},nextLong:function(){var fb;for(var hb=ib;hb == ib;){hb=new Uint8Array(7);tc.getRandomValues(hb);fb=16777216 * ((hb[6] & 31) << 24 | hb[5] << 16 | hb[4] << 8 | hb[3]) + (hb[2] << 16 | hb[1] << 8 | hb[0]);hb=hb[6] & 128?-fb - 1:fb;}return hb;},nextBytes:function(hb){tc.getRandomValues(hb);}});})();(function(){function ib(bb){return bb == Lb?1:bb + 1;}function hb(bb){if(0 === Object.keys(bb._waitingReaders).length)return 0;for(var lb=ib(bb._nextReader);!bb._waitingReaders[lb];){lb=ib(lb);}return lb;}function fb(bb){if(0 === Object.keys(bb._waitingWriters).length)return 0;for(var lb=ib(bb._nextWriter);!bb._waitingWriters[lb];){lb=ib(lb);}return lb;}xd=Cb.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(bb){var lb;if(this._waitingReaders[bb]){lb=this._waitingReaders[bb];delete this._waitingReaders[bb];bb == this._nextReader && (this._nextReader=hb(this));lb.call(this,!0);}this._waitingWriters[bb] && (lb=this._waitingWriters[bb],delete this._waitingWriters[bb],bb == this._nextWriter && (this._nextWriter=fb(this)),lb.call(this,!0));},cancelAll:function(){for(;0 !== this._nextWriter;){this.cancel(this._nextWriter);}for(;0 !== this._nextReader;){this.cancel(this._nextReader);}},readLock:function(bb,lb){var ub,jb;ub=this;jb=ib(this._lastNumber);this._lastNumber=jb;db(lb,function(){var Ha;if(!this._writer && 0 === Object.keys(this._waitingWriters).length)return (this._readers[jb]=!0,jb);-1 != bb && (Ha=setTimeout(function(){delete ub._waitingReaders[jb];jb == ub._nextReader && (ub._nextReader=hb(ub));lb.timeout();},bb));this._waitingReaders[jb]=function(Na){clearTimeout(Ha);Na?setTimeout(function(){lb.result(Bb);},0):(ub._readers[jb]=!0,setTimeout(function(){lb.result(jb);},0));};this._nextReader || (this._nextReader=jb);},ub);return jb;},writeLock:function(bb,lb){var ub,jb;ub=this;jb=ib(this._lastNumber);this._lastNumber=jb;db(lb,function(){var Ha;if(0 === Object.keys(this._readers).length && 0 === Object.keys(this._waitingReaders).length && !this._writer)return this._writer=jb;-1 != bb && (Ha=setTimeout(function(){delete ub._waitingWriters[jb];jb == ub._nextWriter && (ub._nextWriter=fb(ub));lb.timeout();},bb));this._waitingWriters[jb]=function(Na){clearTimeout(Ha);Na?setTimeout(function(){lb.result(Bb);},0):(ub._writer=jb,setTimeout(function(){lb.result(jb);},0));};this._nextWriter || (this._nextWriter=jb);},ub);return jb;},unlock:function(bb){if(bb == this._writer)this._writer=null;else {if(!this._readers[bb])throw new xb("There is no reader or writer with ticket number " + bb + ".");delete this._readers[bb];}if(this._nextWriter)0 < Object.keys(this._readers).length || (bb=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=fb(this),bb.call(this,!1));else {for(var lb=this._nextReader;0 < Object.keys(this._waitingReaders).length;lb=ib(lb)){this._waitingReaders[lb] && (bb=this._waitingReaders[lb],delete this._waitingReaders[lb],bb.call(this,!1));}this._nextReader=0;}}});})();Cb.Class.mixin(Y,{JSON_PARSE_ERROR:new Y(0,Ja.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new Y(1,Ja.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new Y(2,Ja.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new Y(3,Ja.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new Y(4,Ja.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new Y(5,Ja.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new Y(6,Ja.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new Y(7,Ja.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new Y(8,Ja.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new Y(9,Ja.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new Y(10,Ja.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new Y(11,Ja.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new Y(12,Ja.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new Y(13,Ja.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new Y(14,Ja.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new Y(15,Ja.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new Y(16,Ja.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new Y(17,Ja.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new Y(18,Ja.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new Y(19,Ja.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new Y(20,Ja.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new Y(21,Ja.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new Y(22,Ja.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new Y(23,Ja.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new Y(24,Ja.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new Y(25,Ja.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new Y(26,Ja.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new Y(27,Ja.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new Y(28,Ja.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new Y(29,Ja.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new Y(30,Ja.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new Y(31,Ja.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new Y(32,Ja.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new Y(33,Ja.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new Y(34,Ja.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new Y(35,Ja.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new Y(36,Ja.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new Y(37,Ja.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new Y(38,Ja.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new Y(39,Ja.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new Y(40,Ja.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new Y(41,Ja.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new Y(42,Ja.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new Y(43,Ja.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new Y(44,Ja.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new Y(45,Ja.FAIL,"Error exporting key."),DIGEST_ERROR:new Y(46,Ja.FAIL,"Error in digest."),UNSUPPORTED_KEY:new Y(47,Ja.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new Y(48,Ja.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new Y(49,Ja.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new Y(50,Ja.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new Y(51,Ja.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new Y(52,Ja.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new Y(53,Ja.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new Y(54,Ja.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new Y(55,Ja.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new Y(56,Ja.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new Y(57,Ja.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new Y(58,Ja.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new Y(59,Ja.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new Y(60,Ja.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new Y(61,Ja.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new Y(62,Ja.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new Y(1E3,Ja.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new Y(1001,Ja.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new Y(1002,Ja.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new Y(1003,Ja.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new Y(1004,Ja.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new Y(1005,Ja.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new Y(1006,Ja.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new Y(1007,Ja.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new Y(1008,Ja.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new Y(1009,Ja.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new Y(1010,Ja.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new Y(1011,Ja.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new Y(1012,Ja.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new Y(1013,Ja.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new Y(1014,Ja.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new Y(2E3,Ja.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new Y(2001,Ja.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new Y(2002,Ja.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new Y(2003,Ja.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new Y(2004,Ja.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new Y(2005,Ja.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new Y(2006,Ja.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new Y(2007,Ja.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new Y(2008,Ja.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new Y(2009,Ja.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new Y(2010,Ja.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new Y(2011,Ja.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new Y(2012,Ja.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new Y(2013,Ja.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new Y(2014,Ja.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new Y(2015,Ja.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new Y(2016,Ja.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new Y(2017,Ja.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new Y(2018,Ja.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new Y(2019,Ja.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new Y(2020,Ja.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new Y(3E3,Ja.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new Y(3001,Ja.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new Y(3002,Ja.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new Y(3003,Ja.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new Y(3004,Ja.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new Y(3005,Ja.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new Y(3006,Ja.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new Y(3007,Ja.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new Y(3008,Ja.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new Y(3009,Ja.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new Y(4E3,Ja.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new Y(4001,Ja.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new Y(4002,Ja.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new Y(4003,Ja.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new Y(4004,Ja.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new Y(4005,Ja.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new Y(4006,Ja.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new Y(4007,Ja.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new Y(4008,Ja.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new Y(4009,Ja.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new Y(4010,Ja.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new Y(4011,Ja.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new Y(4012,Ja.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new Y(4013,Ja.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new Y(4014,Ja.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new Y(4015,Ja.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new Y(4016,Ja.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new Y(4017,Ja.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new Y(4018,Ja.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new Y(4019,Ja.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new Y(4020,Ja.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new Y(4021,Ja.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new Y(4022,Ja.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new Y(4023,Ja.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new Y(4024,Ja.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new Y(4025,Ja.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new Y(4026,Ja.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new Y(5E3,Ja.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new Y(5001,Ja.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new Y(5002,Ja.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new Y(5003,Ja.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new Y(5004,Ja.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new Y(5005,Ja.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new Y(5006,Ja.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new Y(5007,Ja.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new Y(5008,Ja.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new Y(5009,Ja.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new Y(5010,Ja.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new Y(5011,Ja.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new Y(5012,Ja.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new Y(5013,Ja.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new Y(5014,Ja.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new Y(5015,Ja.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new Y(5016,Ja.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new Y(5017,Ja.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new Y(5018,Ja.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new Y(5019,Ja.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new Y(5020,Ja.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new Y(5021,Ja.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new Y(5022,Ja.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new Y(5023,Ja.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new Y(5024,Ja.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new Y(5025,Ja.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new Y(5026,Ja.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new Y(5027,Ja.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new Y(5028,Ja.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new Y(5029,Ja.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new Y(5030,Ja.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new Y(5031,Ja.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new Y(5032,Ja.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new Y(5033,Ja.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new Y(5034,Ja.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new Y(5035,Ja.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new Y(5036,Ja.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new Y(5037,Ja.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new Y(5038,Ja.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new Y(5039,Ja.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new Y(5040,Ja.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new Y(6E3,Ja.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new Y(6001,Ja.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new Y(6002,Ja.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new Y(6003,Ja.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new Y(6004,Ja.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new Y(6005,Ja.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new Y(6006,Ja.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new Y(6007,Ja.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new Y(6008,Ja.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new Y(6009,Ja.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new Y(6010,Ja.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new Y(6011,Ja.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new Y(6012,Ja.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new Y(6013,Ja.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new Y(6014,Ja.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new Y(6015,Ja.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new Y(6016,Ja.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new Y(6017,Ja.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new Y(6018,Ja.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new Y(6019,Ja.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new Y(6020,Ja.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new Y(6021,Ja.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new Y(6022,Ja.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new Y(6023,Ja.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new Y(6024,Ja.FAIL,"Invalid header data."),PAYLOAD_INVALID:new Y(6025,Ja.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new Y(6026,Ja.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new Y(6027,Ja.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new Y(6028,Ja.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new Y(6029,Ja.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new Y(6030,Ja.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new Y(6031,Ja.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new Y(6032,Ja.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new Y(6033,Ja.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new Y(6034,Ja.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new Y(6035,Ja.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new Y(6036,Ja.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new Y(6037,Ja.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new Y(7E3,Ja.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new Y(7001,Ja.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new Y(7002,Ja.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new Y(7003,Ja.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new Y(7004,Ja.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new Y(7005,Ja.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new Y(7006,Ja.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new Y(7007,Ja.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new Y(7008,Ja.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new Y(7009,Ja.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new Y(7010,Ja.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new Y(7011,Ja.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new Y(7012,Ja.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new Y(7013,Ja.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new Y(7014,Ja.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new Y(7015,Ja.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new Y(7016,Ja.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new Y(8E3,Ja.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new Y(8001,Ja.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new Y(8002,Ja.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new Y(8003,Ja.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new Y(8004,Ja.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new Y(8005,Ja.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new Y(8006,Ja.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new Y(8007,Ja.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new Y(8008,Ja.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new Y(8009,Ja.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new Y(8010,Ja.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new Y(8011,Ja.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new Y(8012,Ja.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new Y(9E3,Ja.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new Y(9001,Ja.FAIL,"Error communicating with MSL entity."),NONE:new Y(9999,Ja.FAIL,"Special unit test error.")});Object.freeze(Y);(function(){gb=Cb.Class.create(Error());gb.mixin({init:function(ib,hb,fb){var lb,ub,jb;function bb(){return ub?ub:this.cause && this.cause instanceof gb?this.cause.messageId:Bb;}Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);lb=ib.message;hb && (lb+=" [" + hb + "]");jb=this.stack;Object.defineProperties(this,{message:{value:lb,writable:!1,configurable:!0},error:{value:ib,writable:!1,configurable:!0},cause:{value:fb,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:bb,set:function(Ha){if(0 > Ha || Ha > Lb)throw new RangeError("Message ID " + Ha + " is outside the valid range.");bb() || (ub=Ha);},configurable:!0},stack:{get:function(){var Ha;Ha=this.toString();jb && (Ha+="\n" + jb);fb && fb.stack && (Ha+="\nCaused by " + fb.stack);return Ha;},configurable:!0}});},setEntity:function(ib){!ib || this.masterToken || this.entityAuthenticationData || (ib instanceof cc?this.masterToken=ib:ib instanceof Dc && (this.entityAuthenticationData=ib));return this;},setUser:function(ib){!ib || this.userIdToken || this.userAuthenticationData || (ib instanceof Kc?this.userIdToken=ib:ib instanceof Rc && (this.userAuthenticationData=ib));return this;},setMessageId:function(ib){this.messageId=ib;return this;},toString:function(){return this.name + ": " + this.message;}});})();wb=gb.extend({init:function lb(hb,fb,bb){lb.base.call(this,hb,fb,bb);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});Db=gb.extend({init:function ub(fb,bb,lb){ub.base.call(this,fb,bb,lb);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});kc=gb.extend({init:function jb(bb,lb,ub){jb.base.call(this,bb,lb,ub);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){dc=Cb.Class.create(Error());dc.mixin({init:function(bb,lb,ub){var jb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);jb=this.stack;Object.defineProperties(this,{message:{value:bb,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},requestCause:{value:ub,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var Ha;Ha=this.toString();jb && (Ha+="\n" + jb);lb && lb.stack && (Ha+="\nCaused by " + lb.stack);return Ha;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Sb=Cb.Class.create(Error());Sb.mixin({init:function(bb,lb){var ub;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);ub=this.stack;Object.defineProperties(this,{message:{value:bb,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var jb;jb=this.toString();ub && (jb+="\n" + ub);lb && lb.stack && (jb+="\nCaused by " + lb.stack);return jb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){xb=Cb.Class.create(Error());xb.mixin({init:function(bb,lb){var ub;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);ub=this.stack;Object.defineProperties(this,{message:{value:bb,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var jb;jb=this.toString();ub && (jb+="\n" + ub);lb && lb.stack && (jb+="\nCaused by " + lb.stack);return jb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Wb=Cb.Class.create(Error());Wb.mixin({init:function(bb,lb){var ub;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);ub=this.stack;Object.defineProperties(this,{message:{value:bb,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var jb;jb=this.toString();ub && (jb+="\n" + ub);lb && lb.stack && (jb+="\nCaused by " + lb.stack);return jb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();Nb=gb.extend({init:function Ha(lb,ub,jb){Ha.base.call(this,lb,ub,jb);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Sc=gb.extend({init:function Ha(ub,jb){Ha.base.call(this,ub);Object.defineProperties(this,{masterToken:{value:jb,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Ib=gb.extend({init:function Qa(jb,Ha,Na){Qa.base.call(this,jb,Ha,Na);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});uc=gb.extend({init:function Aa(Ha,Na,Qa){Aa.base.call(this,Ha,Na,Qa);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var qa;function Ha(ja){return "undefined" === typeof ja?!1:ja;}function Na(ja){return ja && ja.length?(Xb === qa.V2014_02 && (ja=ja.map(function(ca){return "wrap" == ca?"wrapKey":"unwrap" == ca?"unwrapKey":ca;})),ja):Xb === qa.V2014_02?("encrypt decrypt sign verify deriveKey wrapKey unwrapKey").split(" "):("encrypt decrypt sign verify deriveKey wrap unwrap").split(" ");}function Qa(ja,ca,Z,aa,ha){return Promise.resolve().then(function(){return Ob.importKey(ja,ca,Z,aa,ha);}).catch(function(ba){var ma;if("spki" !== ja && "pkcs8" !== ja)throw ba;ba=ASN1.webCryptoAlgorithmToJwkAlg(Z);ma=ASN1.webCryptoUsageToJwkKeyOps(ha);ba=ASN1.rsaDerToJwk(ca,ba,ma,aa);if(!ba)throw Error("Could not make valid JWK from DER input");ba=JSON.stringify(ba);return Ob.importKey("jwk",td(ba),Z,aa,ha);});}function Aa(ja,ca){return Promise.resolve().then(function(){return Ob.exportKey(ja,ca);}).catch(function(Z){if("spki" !== ja && "pkcs8" !== ja)throw Z;return Ob.exportKey("jwk",ca).then(function(aa){aa=JSON.parse(sd(new Uint8Array(aa)));aa=ASN1.jwkToRsaDer(aa);if(!aa)throw Error("Could not make valid DER from JWK input");return aa.getDer().buffer;});});}qa=ed={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(ed);Xb=qa.LATEST;Kb={encrypt:function(ja,ca,Z){switch(Xb){case qa.LEGACY:return new Promise(function(aa,ha){var ba;ba=Ob.encrypt(ja,ca,Z);ba.oncomplete=function(ma){aa(ma.target.result);};ba.onerror=function(ma){ha(ma);};});case qa.V2014_01:case qa.V2014_02:return Ob.encrypt(ja,ca,Z).then(function(aa){return new Uint8Array(aa);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},decrypt:function(ja,ca,Z){switch(Xb){case qa.LEGACY:return new Promise(function(aa,ha){var ba;ba=Ob.decrypt(ja,ca,Z);ba.oncomplete=function(ma){aa(ma.target.result);};ba.onerror=function(ma){ha(ma);};});case qa.V2014_01:case qa.V2014_02:return Ob.decrypt(ja,ca,Z).then(function(aa){return new Uint8Array(aa);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},sign:function(ja,ca,Z){switch(Xb){case qa.LEGACY:return new Promise(function(aa,ha){var ba;ba=Ob.sign(ja,ca,Z);ba.oncomplete=function(ma){aa(ma.target.result);};ba.onerror=function(ma){ha(ma);};});case qa.V2014_01:case qa.V2014_02:return Ob.sign(ja,ca,Z).then(function(aa){return new Uint8Array(aa);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},verify:function(ja,ca,Z,aa){switch(Xb){case qa.LEGACY:return new Promise(function(ha,ba){var ma;ma=Ob.verify(ja,ca,Z,aa);ma.oncomplete=function(Ba){ha(Ba.target.result);};ma.onerror=function(Ba){ba(Ba);};});case qa.V2014_01:case qa.V2014_02:return Ob.verify(ja,ca,Z,aa);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},digest:function(ja,ca){switch(Xb){case qa.LEGACY:return new Promise(function(Z,aa){var ha;ha=Ob.digest(ja,ca);ha.oncomplete=function(ba){Z(ba.target.result);};ha.onerror=function(ba){aa(ba);};});case qa.V2014_01:case qa.V2014_02:return Ob.digest(ja,ca).then(function(Z){return new Uint8Array(Z);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},generateKey:function(ja,ca,Z){var aa,ha;aa=Ha(ca);ha=Na(Z);switch(Xb){case qa.LEGACY:return new Promise(function(ba,ma){var Ba;Ba=Ob.generateKey(ja,aa,ha);Ba.oncomplete=function(va){ba(va.target.result);};Ba.onerror=function(va){ma(va);};});case qa.V2014_01:case qa.V2014_02:return Ob.generateKey(ja,aa,ha);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},deriveKey:function(ja,ca,Z,aa,ha){var ba,ma;ba=Ha(aa);ma=Na(ha);switch(Xb){case qa.LEGACY:return new Promise(function(Ba,va){var oa;oa=Ob.deriveKey(ja,ca,Z,ba,ma);oa.oncomplete=function(ua){Ba(ua.target.result);};oa.onerror=function(ua){va(ua);};});case qa.V2014_01:case qa.V2014_02:return Ob.deriveKey(ja,ca,Z,ba,ma);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},importKey:function(ja,ca,Z,aa,ha){var ba,ma;ba=Ha(aa);ma=Na(ha);switch(Xb){case qa.LEGACY:return new Promise(function(Ba,va){var oa;oa=Ob.importKey(ja,ca,Z,ba,ma);oa.oncomplete=function(ua){Ba(ua.target.result);};oa.onerror=function(ua){va(ua);};});case qa.V2014_01:case qa.V2014_02:return Qa(ja,ca,Z,ba,ma);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},exportKey:function(ja,ca){switch(Xb){case qa.LEGACY:return new Promise(function(Z,aa){var ha;ha=Ob.exportKey(ja,ca);ha.oncomplete=function(ba){Z(ba.target.result);};ha.onerror=function(ba){aa(ba);};});case qa.V2014_01:case qa.V2014_02:return Aa(ja,ca).then(function(Z){return new Uint8Array(Z);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},wrapKey:function(ja,ca,Z,aa){switch(Xb){case qa.LEGACY:return new Promise(function(ha,ba){var ma;ma=Ob.wrapKey(ca,Z,aa);ma.oncomplete=function(Ba){ha(Ba.target.result);};ma.onerror=function(Ba){ba(Ba);};});case qa.V2014_01:case qa.V2014_02:return Ob.wrapKey(ja,ca,Z,aa).then(function(ha){return new Uint8Array(ha);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},unwrapKey:function(ja,ca,Z,aa,ha,ba,ma){switch(Xb){case qa.LEGACY:return new Promise(function(Ba,va){var oa;oa=Ob.unwrapKey(ca,ha,Z);oa.oncomplete=function(ua){Ba(ua.target.result);};oa.onerror=function(ua){va(ua);};});case qa.V2014_01:case qa.V2014_02:return Ob.unwrapKey(ja,ca,Z,aa,ha,Ha(ba),Na(ma));default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}};cd && cd.getKeyByName && (Kb.getKeyByName=function(ja){switch(Xb){case qa.LEGACY:return new Promise(function(ca,Z){var aa;aa=cd.getKeyByName(ja);aa.oncomplete=function(ha){ca(ha.target.result);};aa.onerror=function(ha){Z(ha);};});case qa.V2014_01:case qa.V2014_02:return cd.getKeyByName(ja);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}});pb.netflix=pb.netflix || ({});pb.netflix.crypto=Kb;})();lc={name:"AES-KW"};hc={name:"AES-CBC"};ic={name:"HMAC",hash:{name:"SHA-256"}};fd={name:"RSA-OAEP",hash:{name:"SHA-1"}};yd={name:"RSAES-PKCS1-v1_5"};ie={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};vc=["encrypt","decrypt"];wc=["wrap","unwrap"];Ec=["sign","verify"];(function(){zd=Cb.Class.create({init:function(Ha,Na,Qa){var qa;function Aa(ja){Pa(Na,function(){var ca;ca=ja?Eb(ja):Bb;Object.defineProperties(qa,{rawKey:{value:Ha,writable:!1,configurable:!1},keyData:{value:ja,writable:!1,configurable:!1},keyDataB64:{value:ca,writable:!1,configurable:!1}});return this;},qa);}qa=this;Pa(Na,function(){if(!Ha || "object" != typeof Ha)throw new wb(Y.INVALID_SYMMETRIC_KEY);!Qa && Ha.extractable?Kb.exportKey("raw",Ha).then(function(ja){Aa(new Uint8Array(ja));},function(ja){Na.error(new wb(Y.KEY_EXPORT_ERROR,"raw"));}):Aa(Qa);},qa);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});Tc=function(Ha,Na){new zd(Ha,Na);};mc=function(Ha,Na,Qa,Aa){Pa(Aa,function(){try{Ha="string" == typeof Ha?Hb(Ha):Ha;}catch(qa){throw new wb(Y.INVALID_SYMMETRIC_KEY,"keydata " + Ha,qa);}Kb.importKey("raw",Ha,Na,!0,Qa).then(function(qa){new zd(qa,Aa,Ha);},function(qa){Aa.error(new wb(Y.INVALID_SYMMETRIC_KEY));});});};})();(function(){gd=Cb.Class.create({init:function(Ha,Na,Qa){var qa;function Aa(ja){Pa(Na,function(){Object.defineProperties(qa,{rawKey:{value:Ha,writable:!1,configurable:!1},encoded:{value:ja,writable:!1,configurable:!1}});return this;},qa);}qa=this;Pa(Na,function(){if(!Ha || "object" != typeof Ha || "public" != Ha.type)throw new TypeError("Only original public crypto keys are supported.");!Qa && Ha.extractable?Kb.exportKey("spki",Ha).then(function(ja){Aa(new Uint8Array(ja));},function(ja){Na.error(new wb(Y.KEY_EXPORT_ERROR,"spki"));}):Aa(Qa);});},getEncoded:function(){return this.encoded;}});Bc=function(Ha,Na){new gd(Ha,Na);};Ad=function(Ha,Na,Qa,Aa){Pa(Aa,function(){try{Ha="string" == typeof Ha?Hb(Ha):Ha;}catch(qa){throw new wb(Y.INVALID_PUBLIC_KEY,"spki " + Ha,qa);}Kb.importKey("spki",Ha,Na,!0,Qa).then(function(qa){new gd(qa,Aa,Ha);},function(qa){Aa.error(new wb(Y.INVALID_PUBLIC_KEY));});});};})();(function(){je=Cb.Class.create({init:function(Ha,Na,Qa){var qa;function Aa(ja){Pa(Na,function(){Object.defineProperties(qa,{rawKey:{value:Ha,writable:!1,configurable:!1},encoded:{value:ja,writable:!1,configurable:!1}});return this;},qa);}qa=this;Pa(Na,function(){if(!Ha || "object" != typeof Ha || "private" != Ha.type)throw new TypeError("Only original private crypto keys are supported.");!Qa && Ha.extractable?Kb.exportKey("pkcs8",Ha).then(function(ja){Aa(new Uint8Array(ja));},function(ja){Na.error(new wb(Y.KEY_EXPORT_ERROR,"pkcs8"));}):Aa(Qa);});},getEncoded:function(){return this.encoded;}});Jc=function(Ha,Na){new je(Ha,Na);};})();(function(){var Ha;Ha=Ed={V1:1,V2:2};Bd=Cb.Class.create({init:function(Na,Qa,Aa,qa){Pa(qa,function(){var ja,ca,Z,aa;ja=Ha.V1;ca=Na;Z=null;for(aa in dd){if(dd[aa] == Na){ja=Ha.V2;ca=null;Z=Na;break;}}Object.defineProperties(this,{version:{value:ja,writable:!1,enumerable:!1,configurable:!1},keyId:{value:ca,writable:!1,configurable:!1},cipherSpec:{value:Z,writable:!1,configurable:!1},iv:{value:Qa,writable:!1,configurable:!1},ciphertext:{value:Aa,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var Na;Na={};switch(this.version){case Ha.V1:Na.keyid=this.keyId;this.iv && (Na.iv=Eb(this.iv));Na.ciphertext=Eb(this.ciphertext);Na.sha256="AA==";break;case Ha.V2:Na.version=this.version;Na.cipherspec=this.cipherSpec;this.iv && (Na.iv=Eb(this.iv));Na.ciphertext=Eb(this.ciphertext);break;default:throw new xb("Ciphertext envelope version " + this.version + " encoding unsupported.");}return Na;}});Cd=function(Na,Qa,Aa,qa){new Bd(Na,Qa,Aa,qa);};Dd=function(Na,Qa,Aa){Pa(Aa,function(){var qa,ja,ca,Z,aa,ha,ba;qa=Na.keyid;ja=Na.cipherspec;ca=Na.iv;Z=Na.ciphertext;aa=Na.sha256;if(!Qa)if((Qa=Na.version) && "number" === typeof Qa && Qa === Qa){ha=!1;for(ba in Ha){if(Ha[ba] == Qa){ha=!0;break;}}if(!ha)throw new wb(Y.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Na));}else Qa=Ha.V1;switch(Qa){case Ha.V1:if("string" !== typeof qa || ca && "string" !== typeof ca || "string" !== typeof Z || "string" !== typeof aa)throw new Db(Y.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Na));break;case Ha.V2:ba=Na.version;if(ba != Ha.V2)throw new wb(Y.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Na));if("string" !== typeof ja || ca && "string" !== typeof ca || "string" !== typeof Z)throw new Db(Y.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Na));ja=fe(ja);if(!ja)throw new wb(Y.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope " + JSON.stringify(Na));qa=ja;break;default:throw new wb(Y.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Na));}try{ca && (ca=Hb(ca));Z=Hb(Z);}catch(ma){throw new wb(Y.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope " + JSON.stringify(Na),ma);}new Bd(qa,ca,Z,Aa);});};})();(function(){var Ha;Ha=Hd={V1:1,V2:2};nc=Cb.Class.create({init:function(Na,Qa,Aa){var qa;switch(Na){case Ha.V1:qa=Aa;break;case Ha.V2:qa={};qa.version=Na;qa.algorithm=Qa;qa.signature=Eb(Aa);qa=Zb(JSON.stringify(qa),Mb);break;default:throw new xb("Signature envelope version " + Na + " encoding unsupported.");}Object.defineProperties(this,{version:{value:Na,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:Qa,writable:!1,configurable:!1},signature:{value:Aa,writable:!1,configurable:!1},bytes:{value:qa,writable:!1,configurable:!1}});}});Fd=function(){var Na,Qa,Aa,qa;if(2 == arguments.length){Na=Ha.V1;Qa=arguments[0];Aa=null;qa=arguments[1];}else 3 == arguments.length && (Na=Ha.V2,Aa=arguments[0],Qa=arguments[1],qa=arguments[2]);Pa(qa,function(){return new nc(Na,Aa,Qa);});};Gd=function(Na,Qa,Aa){Pa(Aa,function(){var qa,ja,ca,Z,aa,ha,ba;if(Qa)switch(Qa){case Ha.V1:return new nc(Ha.V1,null,Na);case Ha.V2:try{qa=Yb(Na,Mb);ja=JSON.parse(qa);ca=parseInt(ja.version);Z=ja.algorithm;aa=ja.signature;if(!ca || "number" !== typeof ca || ca != ca || "string" !== typeof Z || "string" !== typeof aa)throw new Db(Y.JSON_PARSE_ERROR,"signature envelope " + Eb(Na));if(Ha.V2 != ca)throw new wb(Y.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Eb(Na));ha=wd(Z);if(!ha)throw new wb(Y.UNIDENTIFIED_ALGORITHM,"signature envelope " + Eb(Na));ba=Hb(aa);if(!ba)throw new wb(Y.INVALID_SIGNATURE,"signature envelope " + Base64Util.encode(Na));return new nc(Ha.V2,ha,ba);}catch(ma){if(ma instanceof SyntaxError)throw new Db(Y.JSON_PARSE_ERROR,"signature envelope " + Eb(Na),ma);throw ma;}default:throw new wb(Y.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Eb(Na));}try{qa=Yb(Na,Mb);ja=JSON.parse(qa);}catch(ma){ja=null;}if(ja && ja.version){if((qa=ja.version,"number" !== typeof qa || qa !== qa))qa=Ha.V1;}else qa=Ha.V1;switch(qa){case Ha.V1:return new nc(qa,null,Na);case Ha.V2:ha=ja.algorithm;aa=ja.signature;if("string" !== typeof ha || "string" !== typeof aa)return new nc(Ha.V1,null,Na);ha=wd(ha);if(!ha)return new nc(Ha.V1,null,Na);try{ba=Hb(aa);}catch(ma){return new nc(Ha.V1,null,Na);}return new nc(qa,ha,ba);default:throw new wb(Y.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Na);}});};})();Lc=Cb.Class.create({encrypt:function(Ha,Na){},decrypt:function(Ha,Na){},wrap:function(Ha,Na){},unwrap:function(Ha,Na,Qa,Aa){},sign:function(Ha,Na){},verify:function(Ha,Na,Qa){}});(function(){var Ha;Ha=pc={RSA_OAEP:fd.name,A128KW:lc.name};jc="A128GCM";oc=Cb.Class.create({init:function(Na,Qa,Aa,qa,ja){switch(Qa){case Ha.RSA_OAEP:ja=ja && (ja.rawKey || ja);qa=qa && (qa.rawKey || qa);break;case Ha.A128KW:ja=qa=qa && (qa.rawKey || qa);break;default:throw new xb("Unsupported algorithm: " + Qa);}Object.defineProperties(this,{_ctx:{value:Na,writable:!1,enumerable:!1,configurable:!1},_algo:{value:Qa,writable:!1,enumerable:!1,configurable:!1},_enc:{value:Aa,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:ja,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:qa,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Na,Qa){Qa.error(new wb(Y.ENCRYPT_NOT_SUPPORTED));},decrypt:function(Na,Qa){Qa.error(new wb(Y.DECRYPT_NOT_SUPPORTED));},wrap:function(Na,Qa){Pa(Qa,function(){Kb.wrapKey("jwe+jwk",Na.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(Aa){Qa.result(Aa);},function(Aa){Qa.error(new wb(Y.WRAP_ERROR));});},this);},unwrap:function(Na,Qa,Aa,qa){function ja(ca){Pa(qa,function(){switch(ca.type){case "secret":Tc(ca,qa);break;case "public":Bc(ca,qa);break;case "private":Jc(ca,qa);break;default:throw new wb(Y.UNSUPPORTED_KEY,"type: " + ca.type);}});}Pa(qa,function(){Kb.unwrapKey("jwe+jwk",Na,this._unwrapKey,this._unwrapKey.algorithm,Qa,!1,Aa).then(function(ca){ja(ca);},function(){qa.error(new wb(Y.UNWRAP_ERROR));});},this);},sign:function(Na,Qa){Qa.error(new wb(Y.SIGN_NOT_SUPPORTED));},verify:function(Na,Qa,Aa){Aa.error(new wb(Y.VERIFY_NOT_SUPPORTED));}});})();Mc=Lc.extend({encrypt:function(Ha,Na){Na.result(Ha);},decrypt:function(Ha,Na){Na.result(Ha);},wrap:function(Ha,Na){Na.result(Ha);},unwrap:function(Ha,Na,Qa,Aa){Aa.result(Ha);},sign:function(Ha,Na){Na.result(new Uint8Array(0));},verify:function(Ha,Na,Qa){Qa.result(!0);}});(function(){var Ha;Ha=id={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};hd=Lc.extend({init:function Z(Qa,Aa,qa,ja,ca){Z.base.call(this);qa && (qa=qa.rawKey);ja && (ja=ja.rawKey);Object.defineProperties(this,{id:{value:Aa,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:qa,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:ja,writable:!1,enumerable:!1,configurable:!1},transform:{value:ca == Ha.ENCRYPT_DECRYPT_PKCS1?yd:ca == Ha.ENCRYPT_DECRYPT_OAEP?fd:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:ca == Ha.WRAP_UNWRAP_PKCS1?yd:ca == Ha.WRAP_UNWRAP_OAEP?fd:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:ca == Ha.SIGN_VERIFY?ie:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Qa,Aa){var qa;qa=this;Pa(Aa,function(){if("nullOp" == this.transform)return Qa;if(!this.publicKey)throw new wb(Y.ENCRYPT_NOT_SUPPORTED,"no public key");if(0 == Qa.length)return Qa;Kb.encrypt(qa.transform,qa.publicKey,Qa).then(function(ja){Cd(qa.id,null,ja,{result:function(ca){var Z;try{Z=JSON.stringify(ca);Aa.result(Zb(Z,Mb));}catch(aa){Aa.error(new wb(Y.ENCRYPT_ERROR,null,aa));}},error:function(ca){ca instanceof gb || (ca=new wb(Y.ENCRYPT_ERROR,null,ca));Aa.error(ca);}});},function(ja){Aa.error(new wb(Y.ENCRYPT_ERROR));});},this);},decrypt:function(Qa,Aa){var qa;qa=this;Pa(Aa,function(){var ja,ca;if("nullOp" == this.transform)return Qa;if(!this.privateKey)throw new wb(Y.DECRYPT_NOT_SUPPORTED,"no private key");if(0 == Qa.length)return Qa;try{ja=Yb(Qa,Mb);ca=JSON.parse(ja);}catch(Z){if(Z instanceof SyntaxError)throw new wb(Y.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,Z);throw new wb(Y.DECRYPT_ERROR,null,Z);}Dd(ca,Ed.V1,{result:function(Z){var aa;try{if(Z.keyId != qa.id)throw new wb(Y.ENVELOPE_KEY_ID_MISMATCH);aa=Aa.result;Kb.decrypt(qa.transform,qa.privateKey,Z.ciphertext).then(aa,function(ha){Aa.error(new wb(Y.DECRYPT_ERROR));});}catch(ha){ha instanceof gb?Aa.error(ha):Aa.error(new wb(Y.DECRYPT_ERROR,null,ha));}},error:function(Z){Z instanceof Db && (Z=new wb(Y.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,Z));Z instanceof gb || (Z=new wb(Y.DECRYPT_ERROR,null,Z));Aa.error(Z);}});},this);},wrap:function(Qa,Aa){Pa(Aa,function(){var qa;if("nullOp" == this.wrapTransform || !this.publicKey)throw new wb(Y.WRAP_NOT_SUPPORTED,"no public key");qa=Aa.result;Kb.wrapKey("jwk",Qa.rawKey,this.publicKey,this.wrapTransform).then(qa,function(ja){Aa.error(new wb(Y.WRAP_ERROR));});},this);},unwrap:function(Qa,Aa,qa,ja){function ca(Z){Pa(ja,function(){switch(Z.type){case "secret":Tc(Z,ja);break;case "public":Bc(Z,ja);break;case "private":Jc(Z,ja);break;default:throw new wb(Y.UNSUPPORTED_KEY,"type: " + Z.type);}});}Pa(ja,function(){if("nullOp" == this.wrapTransform || !this.privateKey)throw new wb(Y.UNWRAP_NOT_SUPPORTED,"no private key");Kb.unwrapKey("jwk",Qa,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},Aa,!1,qa).then(ca,function(Z){ja.error(new wb(Y.UNWRAP_ERROR));});},this);},sign:function(Qa,Aa){Pa(Aa,function(){if("nullOp" == this.algo)return new Uint8Array(0);if(!this.privateKey)throw new wb(Y.SIGN_NOT_SUPPORTED,"no private key");Kb.sign(this.algo,this.privateKey,Qa).then(function(qa){Fd(qa,{result:function(ja){Aa.result(ja.bytes);},error:Aa.error});},function(qa){Aa.error(new wb(Y.SIGNATURE_ERROR));});},this);},verify:function(Qa,Aa,qa){var ja;ja=this;Pa(qa,function(){if("nullOp" == this.algo)return !0;if(!this.publicKey)throw new wb(Y.VERIFY_NOT_SUPPORTED,"no public key");Gd(Aa,Hd.V1,{result:function(ca){Pa(qa,function(){var Z;Z=qa.result;Kb.verify(this.algo,this.publicKey,ca.signature,Qa).then(Z,function(aa){qa.error(new wb(Y.SIGNATURE_ERROR));});},ja);},error:qa.error});},this);}});})();(function(){jd=Lc.extend({init:function ca(Na,Qa,Aa,qa,ja){ca.base.call(this);Aa=Aa && Aa.rawKey;qa=qa && qa.rawKey;ja=ja && ja.rawKey;Object.defineProperties(this,{ctx:{value:Na,writable:!1,enumerable:!1,configurable:!1},id:{value:Qa,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:Aa,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:qa,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:ja,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Na,Qa){var Aa;Aa=this;Pa(Qa,function(){var qa;if(!this.encryptionKey)throw new wb(Y.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Na.length)return Na;qa=new Uint8Array(16);this.ctx.getRandom().nextBytes(qa);Kb.encrypt({name:hc.name,iv:qa},Aa.encryptionKey,Na).then(function(ja){ja=new Uint8Array(ja);Cd(Aa.id,qa,ja,{result:function(ca){var Z;try{Z=JSON.stringify(ca);Qa.result(Zb(Z,Mb));}catch(aa){Qa.error(new wb(Y.ENCRYPT_ERROR,null,aa));}},error:function(ca){ca instanceof gb || (ca=new wb(Y.ENCRYPT_ERROR,null,ca));Qa.error(ca);}});},function(ja){Qa.error(new wb(Y.ENCRYPT_ERROR));});},this);},decrypt:function(Na,Qa){var Aa;Aa=this;Pa(Qa,function(){var qa,ja;if(!this.encryptionKey)throw new wb(Y.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Na.length)return Na;try{qa=Yb(Na,Mb);ja=JSON.parse(qa);}catch(ca){if(ca instanceof SyntaxError)throw new wb(Y.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,ca);throw new wb(Y.DECRYPT_ERROR,null,ca);}Dd(ja,Ed.V1,{result:function(ca){try{if(ca.keyId != Aa.id)throw new wb(Y.ENVELOPE_KEY_ID_MISMATCH);Kb.decrypt({name:hc.name,iv:ca.iv},Aa.encryptionKey,ca.ciphertext).then(function(Z){Z=new Uint8Array(Z);Qa.result(Z);},function(){Qa.error(new wb(Y.DECRYPT_ERROR));});}catch(Z){Z instanceof gb?Qa.error(Z):Qa.error(new wb(Y.DECRYPT_ERROR,null,Z));}},error:function(ca){ca instanceof Db && (ca=new wb(Y.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,ca));ca instanceof gb || (ca=new wb(Y.DECRYPT_ERROR,null,ca));Qa.error(ca);}});},this);},wrap:function(Na,Qa){Pa(Qa,function(){if(!this.wrapKey)throw new wb(Y.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Kb.wrapKey("raw",Na.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(Aa){Qa.result(Aa);},function(Aa){Qa.error(new wb(Y.WRAP_ERROR));});},this);},unwrap:function(Na,Qa,Aa,qa){function ja(ca){Pa(qa,function(){switch(ca.type){case "secret":Tc(ca,qa);break;case "public":Bc(ca,qa);break;case "private":Jc(ca,qa);break;default:throw new wb(Y.UNSUPPORTED_KEY,"type: " + ca.type);}});}Pa(qa,function(){if(!this.wrapKey)throw new wb(Y.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Kb.unwrapKey("raw",Na,this.wrapKey,this.wrapKey.algorithm,Qa,!1,Aa).then(function(ca){ja(ca);},function(ca){qa.error(new wb(Y.UNWRAP_ERROR));});},this);},sign:function(Na,Qa){var Aa;Aa=this;Pa(Qa,function(){if(!this.hmacKey)throw new wb(Y.SIGN_NOT_SUPPORTED,"no HMAC key.");Kb.sign(ic,this.hmacKey,Na).then(function(qa){Pa(Qa,function(){var ja;ja=new Uint8Array(qa);Fd(ja,{result:function(ca){Qa.result(ca.bytes);},error:Qa.error});},Aa);},function(){Qa.error(new wb(Y.HMAC_ERROR));});},this);},verify:function(Na,Qa,Aa){var qa;qa=this;Pa(Aa,function(){if(!this.hmacKey)throw new wb(Y.VERIFY_NOT_SUPPORTED,"no HMAC key.");Gd(Qa,Hd.V1,{result:function(ja){Pa(Aa,function(){Kb.verify(ic,this.hmacKey,ja.signature,Na).then(function(ca){Aa.result(ca);},function(ca){Aa.error(new wb(Y.HMAC_ERROR));});},qa);},error:Aa.error});},this);}});})();fc=jd.extend({init:function ca(Na,Qa,Aa,qa,ja){if(Aa || qa || ja)ca.base.call(this,Na,Aa + "_" + Qa.sequenceNumber,qa,ja,null);else {if(!Qa.isDecrypted())throw new Sc(Y.MASTERTOKEN_UNTRUSTED,Qa);ca.base.call(this,Na,Qa.identity + "_" + Qa.sequenceNumber,Qa.encryptionKey,Qa.hmacKey,null);}}});jf=Lc.extend({encrypt:function(Na,Qa){Qa.result(Na);},decrypt:function(Na,Qa){Qa.result(Na);},wrap:function(Na,Qa){Qa.error(new xb("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(Na,Qa,Aa,qa){qa.error(new xb("Unwrap is unsupported by the MSL token crypto context."));},sign:function(Na,Qa){Qa.result(new Uint8Array(0));},verify:function(Na,Qa,Aa){Aa.result(!1);}});Pb={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Pb);(function(){Dc=Cb.Class.create({init:function(Na){Object.defineProperties(this,{scheme:{value:Na,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(Na){return this === Na?!0:Na instanceof Dc?this.scheme == Na.scheme:!1;},toJSON:function(){var Na;Na={};Na.scheme=this.scheme;Na.authdata=this.getAuthData();return Na;}});ke=function(Na,Qa){var Aa,qa;Aa=Qa.scheme;qa=Qa.authdata;if(!Aa || !qa)throw new Db(Y.JSON_PARSE_ERROR,"entityauthdata " + JSON.stringify(Qa));if(!Pb[Aa])throw new kc(Y.UNIDENTIFIED_ENTITYAUTH_SCHEME,Aa);Qa=Na.getEntityAuthenticationFactory(Aa);if(!Qa)throw new kc(Y.ENTITYAUTH_FACTORY_NOT_FOUND,Aa);return Qa.createData(Na,qa);};})();kd=Cb.Class.create({init:function(Na){Object.defineProperties(this,{scheme:{value:Na,writable:!1,configurable:!1}});},createData:function(Na,Qa){},getCryptoContext:function(Na,Qa){}});(function(){qc=Dc.extend({init:function Aa(Qa){Aa.base.call(this,Pb.MGK);Object.defineProperties(this,{identity:{value:Qa,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var Qa;Qa={};Qa.identity=this.identity;return Qa;},equals:function qa(Aa){return this === Aa?!0:Aa instanceof qc?qa.base.call(this,this,Aa) && this.identity == Aa.identity:!1;}});le=function(Aa){var qa;qa=Aa.identity;if(!qa)throw new Db(Y.JSON_PARSE_ERROR,"mgk authdata" + JSON.stringify(Aa));return new qc(qa);};})();kf=kd.extend({init:function Aa(Qa){Aa.base.call(this,Pb.MGK);Object.defineProperties(this,{localIdentity:{value:Qa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(Qa,Aa){return le(Aa);},getCryptoContext:function(Qa,Aa){if(!(Aa instanceof qc))throw new xb("Incorrect authentication data type " + JSON.stringify(Aa) + ".");if(Aa.identity != this.localIdentity)throw new kc(Y.ENTITY_NOT_FOUND,"mgk " + Aa.identity).setEntity(Aa);return new Mc();}});(function(){rc=Dc.extend({init:function qa(Aa){qa.base.call(this,Pb.PSK);Object.defineProperties(this,{identity:{value:Aa,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var Aa;Aa={};Aa.identity=this.identity;return Aa;},equals:function ja(qa){return this === qa?!0:qa instanceof rc?ja.base.call(this,this,qa) && this.identity == qa.identity:!1;}});me=function(qa){var ja;ja=qa.identity;if(!ja)throw new Db(Y.JSON_PARSE_ERROR,"psk authdata" + JSON.stringify(qa));return new rc(ja);};})();lf=kd.extend({init:function qa(Aa){qa.base.call(this,Pb.PSK);Object.defineProperties(this,{localIdentity:{value:Aa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(Aa,qa){return me(qa);},getCryptoContext:function(Aa,qa){if(!(qa instanceof rc))throw new xb("Incorrect authentication data type " + JSON.stringify(qa) + ".");if(qa.getIdentity() != this.localIdentity)throw new kc(Y.ENTITY_NOT_FOUND,"psk " + qa.identity).setEntity(qa);return new Mc();}});(function(){ld=Dc.extend({init:function ca(qa,ja){ca.base.call(this,Pb.RSA);Object.defineProperties(this,{identity:{value:qa,writable:!1,configurable:!1},publicKeyId:{value:ja,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var qa;qa={};qa.identity=this.identity;qa.pubkeyid=this.publicKeyId;return qa;},equals:function ca(ja){return this === ja?!0:ja instanceof ld?ca.base.call(this,this,ja) && this.identity == ja.identity && this.publicKeyId == ja.publicKeyId:!1;}});ne=function(ja){var ca,Z;ca=ja.identity;Z=ja.pubkeyid;if(!ca || "string" !== typeof ca || !Z || "string" !== typeof Z)throw new Db(Y.JSON_PARSE_ERROR,"RSA authdata" + JSON.stringify(ja));return new ld(ca,Z);};})();mf=kd.extend({init:function ja(qa){ja.base.call(this,Pb.RSA);Object.defineProperties(this,{store:{value:qa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(qa,ja){return ne(ja);},getCryptoContext:function(qa,ja){var ca,Z,aa;if(!(ja instanceof ld))throw new xb("Incorrect authentication data type " + ja + ".");ca=ja.identity;Z=ja.publicKeyId;aa=this.store.getPublicKey(Z);if(!aa)throw new kc(Y.RSA_PUBLICKEY_NOT_FOUND,Z).setEntity(ja);return new hd(qa,ca,null,aa,id.SIGN_VERIFY);}});(function(){Pc=Dc.extend({init:function ca(ja){ca.base.call(this,Pb.NONE);Object.defineProperties(this,{identity:{value:ja,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ja;ja={};ja.identity=this.identity;return ja;},equals:function Z(ca){return this === ca?!0:ca instanceof Pc?Z.base.call(this,this,ca) && this.identity == ca.identity:!1;}});oe=function(ca){var Z;Z=ca.identity;if(!Z)throw new Db(Y.JSON_PARSE_ERROR,"Unauthenticated authdata" + JSON.stringify(ca));return new Pc(Z);};})();hf=kd.extend({init:function ja(){ja.base.call(this,Pb.NONE);},createData:function(ja,ca){return oe(ca);},getCryptoContext:function(ja,ca){if(!(ca instanceof Pc))throw new xb("Incorrect authentication data type " + JSON.stringify(ca) + ".");return new Mc();}});nf=Cb.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(ja,ca){if(!(ca instanceof gd))throw new xb("Incorrect key data type " + ca + ".");this.rsaKeys[ja]=ca;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(ja){delete this.rsaKeys[ja];},getPublicKey:function(ja){return this.rsaKeys[ja];}});Id=Cb.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(ja,ca,Z){}});md=Cb.Class.create({abort:function(){},close:function(ja,ca){},write:function(ja,ca,Z,aa,ha){},flush:function(ja,ca){}});of=Cb.Class.create({init:function(ja){Object.defineProperties(this,{_data:{value:ja,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1 == this._mark)throw new Sb("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return !0;},read:function(ja,ca,Z){db(Z,function(){var aa;if(this._closed)throw new Sb("Stream is already closed.");if(this._currentPosition == this._data.length)return null;-1 == ja && (ja=this._data.length - this._currentPosition);aa=this._data.subarray(this._currentPosition,this._currentPosition + ja);this._currentPosition+=aa.length;return aa;},this);}});pf=Cb.Class.create({init:function(){var ja;ja={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ja);},abort:function(){},close:function(ja,ca){this._closed=!0;ca.result(!0);},write:function(ja,ca,Z,aa,ha){db(ha,function(){var ba;if(this._closed)throw new Sb("Stream is already closed.");if(0 > ca)throw new RangeError("Offset cannot be negative.");if(0 > Z)throw new RangeError("Length cannot be negative.");if(ca + Z > ja.length)throw new RangeError("Offset plus length cannot be greater than the array length.");ba=ja.subarray(ca,Z);this._buffered.push(ba);return ba.length;},this);},flush:function(ja,ca){var Z;for(;0 < this._buffered.length;){if((ja=this._buffered.shift(),this._result)){Z=new Uint8Array(this._result.length + ja.length);Z.set(this._result);Z.set(ja,this._result.length);this._result=Z;}else this._result=new Uint8Array(ja);}ca.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});qf=Cb.Class.create({getResponse:function(ja,ca,Z){}});(function(){var ja,ca;ja=md.extend({init:function(Z,aa){Z={_httpLocation:{value:Z,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:aa,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new pf(),writable:!1,enumerable:!1,configurable:!1},_response:{value:Bb,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:Bb,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new Qc(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,Z);},setTimeout:function(Z){this._timeout=Z;},getResponse:function(Z,aa){var ha;ha=this;this._responseQueue.poll(Z,{result:function(ba){db(aa,function(){ba && this._responseQueue.add(ba);return ba;},ha);},timeout:function(){db(aa,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();aa.timeout();},ha);},error:function(ba){db(aa,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw ba;},ha);}});},abort:function(){this._abortToken && this._abortToken.abort();},close:function(Z,aa){var ha;ha=this;db(aa,function(){var ba;if(this._response)return !0;ba=this._buffer.toByteArray();0 < ba.length && (this._abortToken=this._httpLocation.getResponse({body:ba},this._timeout,{result:function(ma){ha._response={response:ma};ha._responseQueue.add(ha._response);},timeout:function(){ha._response={isTimeout:!0};ha._responseQueue.add(ha._response);},error:function(ma){ha._response={isError:!0,error:ma};ha._responseQueue.add(ha._response);}}));return !0;},this);},write:function(Z,aa,ha,ba,ma){db(ma,function(){if(this._response)throw new Sb("HttpOutputStream already closed.");this._buffer.write(Z,aa,ha,ba,ma);},this);},flush:function(Z,aa){db(aa,function(){if(this._response)return !0;this._buffer.flush(Z,aa);},this);}});ca=Id.extend({init:function(Z){Object.defineProperties(this,{_out:{value:Z,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:Bb,writable:!0,enumerable:!1,configurable:!1},_exception:{value:Bb,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:Bb,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer && this._buffer.close();},mark:function(){this._buffer || this._buffer.mark();},reset:function(){this._buffer && this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(Z,aa,ha){var ma;function ba(Ba){db(ha,function(){if(!Ba)return new Uint8Array(0);this._out.getResponse(aa,{result:function(va){db(ha,function(){var oa;if(va.isTimeout)(this._timedout=!0,ha.timeout());else {if(va.isError)throw (this._exception=va.error || new Sb("Unknown HTTP exception."),this._exception);if(!va.response)throw (this._exception=new Sb("Missing HTTP response."),this._exception);va.response.json !== Bb && (this._json=va.response.json,this.getJSON=function(){return ma._json;});oa=va.response.content || td("string" === typeof va.response.body?va.response.body:JSON.stringify(this._json));this._buffer=new of(oa);this._buffer.read(Z,aa,ha);}},ma);},timeout:function(){ha.timeout();},error:function(va){ha.error(va);}});},ma);}ma=this;db(ha,function(){if(this._exception)throw this._exception;if(this._timedout)ha.timeout();else {if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(Z,aa,ha):this._out.close(aa,{result:function(Ba){ba(Ba);},timeout:function(){ha.timeout();},error:function(Ba){ha.error(Ba);}});}},ma);}});$d=Cb.Class.create({init:function(Z,aa){Object.defineProperties(this,{_httpLocation:{value:Z,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:aa,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(Z){this._timeout=Z;},openConnection:function(){var Z;Z=new ja(this._httpLocation,this._timeout);return {input:new ca(Z),output:Z};}});})();(function(){var ja,ca;ja=md.extend({init:function(){var Z;Z={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,Z);},setTimeout:function(){},getResponse:function(Z,aa){aa.result({success:!1,content:null,errorHttpCode:Bb,errorSubCode:Bb});},abort:function(){},close:function(Z,aa){aa.result(!0);},write:function(Z,aa,ha,ba,ma){var Ba,va;try{if(0 > aa)throw new RangeError("Offset cannot be negative.");if(0 > ha)throw new RangeError("Length cannot be negative.");if(aa + ha > Z.length)throw new RangeError("Offset plus length cannot be greater than the array length.");Ba=Z.subarray(aa,ha);va=new Uint8Array(this._buffer.length + Ba.length);va.set(this._buffer);va.set(Ba,this._buffer.length);this._buffer=va;ma.result(Ba.length);}catch(oa){ma.error(oa);}},flush:function(Z,aa){aa.result(!0);},request:function(){return this._buffer;}});ca=Id.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(Z,aa,ha){ha.result(new Uint8Array(16));}});ae=Cb.Class.create({init:function(){var Z;Z={output:{value:new ja(),writable:!1,enumerable:!1,configurable:!1},input:{value:new ca(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,Z);},setTimeout:function(){},openConnection:function(){return {input:this.input,output:this.output};},getRequest:function(){return sd(this.output.request());}});})();pe=function(ja,ca,Z){(function(aa,ha,ba){aa.read(-1,ha,{result:function(ma){ma && ma.length?ba(null,ma):ba(null,null);},timeout:function(){Z.timeout();},error:function(ma){ba(ma,null);}});})(ja,ca,function(aa,ha){var ba,ma;if(aa)Z.error(aa);else if(ha){if(ja.getJSON !== Bb && "function" === typeof ja.getJSON)Z.result(ja.getJSON());else {aa=Z.result;ha=new rf(Yb(ha,"utf-8"));ba=[];for(ma=ha.nextValue();ma !== Bb;){ba.push(ma);ma=ha.nextValue();}aa.call(Z,ba);}}else Z.result(null);});};ec={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(ec);(function(){Uc=Cb.Class.create({init:function(ja){Object.defineProperties(this,{keyExchangeScheme:{value:ja,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var ja;ja={};ja.scheme=this.keyExchangeScheme;ja.keydata=this.getKeydata();return ja;},equals:function(ja){return this === ja?!0:ja instanceof Uc?this.keyExchangeScheme == ja.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});qe=function(ja,ca,Z){Pa(Z,function(){var aa,ha,ba;aa=ca.scheme;ha=ca.keydata;if(!aa || !ha || "object" !== typeof ha)throw new Db(Y.JSON_PARSE_ERROR,"keyrequestdata " + JSON.stringify(ca));if(!ec[aa])throw new Nb(Y.UNIDENTIFIED_KEYX_SCHEME,aa);ba=ja.getKeyExchangeFactory(aa);if(!ba)throw new Nb(Y.KEYX_FACTORY_NOT_FOUND,aa);ba.createRequestData(ja,ha,Z);});};})();(function(){Vc=Cb.Class.create({init:function(ja,ca){Object.defineProperties(this,{masterToken:{value:ja,writable:!1,configurable:!1},keyExchangeScheme:{value:ca,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var ja;ja={};ja.mastertoken=this.masterToken;ja.scheme=this.keyExchangeScheme;ja.keydata=this.getKeydata();return ja;},equals:function(ja){return this === ja?!0:ja instanceof Vc?this.masterToken.equals(ja.masterToken) && this.keyExchangeScheme == ja.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey() + ":" + this.keyExchangeScheme;}});re=function(ja,ca,Z){Pa(Z,function(){var aa,ha,ba;aa=ca.mastertoken;ha=ca.scheme;ba=ca.keydata;if(!ha || !aa || "object" !== typeof aa || !ba || "object" !== typeof ba)throw new Db(Y.JSON_PARSE_ERROR,"keyresponsedata " + JSON.stringify(ca));if(!ec[ha])throw new Nb(Y.UNIDENTIFIED_KEYX_SCHEME,ha);Wc(ja,aa,{result:function(ma){Pa(Z,function(){var Ba;Ba=ja.getKeyExchangeFactory(ha);if(!Ba)throw new Nb(Y.KEYX_FACTORY_NOT_FOUND,ha);return Ba.createResponseData(ja,ma,ba);});},error:function(ma){Z.error(ma);}});});};})();(function(){var ja;ja=Cb.Class.create({init:function(ca,Z){Object.defineProperties(this,{keyResponseData:{value:ca,writable:!1,configurable:!1},cryptoContext:{value:Z,writable:!1,configurable:!1}});}});gc=Cb.Class.create({init:function(ca){Object.defineProperties(this,{scheme:{value:ca,writable:!1,configurable:!1}});},createRequestData:function(ca,Z,aa){},createResponseData:function(ca,Z,aa){},generateResponse:function(ca,Z,aa,ha){},getCryptoContext:function(ca,Z,aa,ha,ba){},generateSessionKeys:function(ca,Z){Pa(Z,function(){var aa,ha;aa=new Uint8Array(16);ha=new Uint8Array(32);ca.getRandom().nextBytes(aa);ca.getRandom().nextBytes(ha);mc(aa,hc,vc,{result:function(ba){mc(ha,ic,Ec,{result:function(ma){Z.result({encryptionKey:ba,hmacKey:ma});},error:function(ma){Z.error(new wb(Y.SESSION_KEY_CREATION_FAILURE,null,ma));}});},error:function(ba){Z.error(new wb(Y.SESSION_KEY_CREATION_FAILURE,null,ba));}});});},importSessionKeys:function(ca,Z,aa){mc(ca,hc,vc,{result:function(ha){mc(Z,ic,Ec,{result:function(ba){aa.result({encryptionKey:ha,hmacKey:ba});},error:function(ba){aa.error(ba);}});},error:function(ha){aa.error(ha);}});}});gc.KeyExchangeData=ja;})();(function(){var ca,Z,aa;function ja(ha,ba,ma,Ba,va){Pa(va,function(){var oa,ua;switch(ba){case ca.PSK:(oa=new rc(Ba),ua=ha.getEntityAuthenticationFactory(Pb.PSK));if(!ua)throw new Nb(Y.UNSUPPORTED_KEYX_MECHANISM,ba);oa=ua.getCryptoContext(ha,oa);return new oc(ha,pc.A128KW,jc,Bb);case ca.MGK:oa=new qc(Ba);ua=ha.getEntityAuthenticationFactory(Pb.MGK);if(!ua)throw new Nb(Y.UNSUPPORTED_KEYX_MECHANISM,ba);oa=ua.getCryptoContext(ha,oa);return new oc(ha,pc.A128KW,jc,Bb);case ca.WRAP:oa=ha.getMslCryptoContext();oa.unwrap(ma,lc,wc,{result:function(Ea){Pa(va,function(){return new oc(ha,pc.A128KW,jc,Ea);});},error:va.error});break;default:throw new Nb(Y.UNSUPPORTED_KEYX_MECHANISM,ba);}});}ca={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};Z=se=Uc.extend({init:function Ba(ba,ma){Ba.base.call(this,ec.JWE_LADDER);switch(ba){case ca.WRAP:if(!ma)throw new xb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:ma=null;}Object.defineProperties(this,{mechanism:{value:ba,writable:!1,configurable:!1},wrapdata:{value:ma,writable:!1,configurable:!1}});},getKeydata:function(){var ba;ba={};ba.mechanism=this.mechanism;this.wrapdata && (ba.wrapdata=Eb(this.wrapdata));return ba;},equals:function Ba(ma){return ma === this?!0:ma instanceof se?Ba.base.call(this,ma) && this.mechanism == ma.mechanism && $b(this.wrapdata,ma.wrapdata):!1;},uniqueKey:function Ba(){var va;va=Ba.base.call(this) + ":" + this.mechanism;this.wrapdata && (va+=":" + ac(this.wrapdata));return va;}});aa=te=Vc.extend({init:function ea(va,oa,ua,Ea,ra){ea.base.call(this,va,ec.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:oa,writable:!1,configurable:!1},wrapdata:{value:ua,writable:!1,configurable:!1},encryptionKey:{value:Ea,writable:!1,configurable:!1},hmacKey:{value:ra,writable:!1,configurable:!1}});},getKeydata:function(){var va;va={};va.wrapkey=Eb(this.wrapKey);va.wrapdata=Eb(this.wrapdata);va.encryptionkey=Eb(this.encryptionKey);va.hmackey=Eb(this.hmacKey);return va;},equals:function ua(oa){return this === oa?!0:oa instanceof te?ua.base.call(this,oa) && $b(this.wrapKey,oa.wrapKey) && $b(this.wrapdata,oa.wrapdata) && $b(this.encryptionKey,oa.encryptionKey) && $b(this.hmacKey,oa.hmacKey):!1;},uniqueKey:function ua(){return ua.base.call(this) + ":" + ac(this.wrapKey) + ":" + ac(this.wrapdata) + ":" + ac(this.encryptionKey) + ":" + ac(this.hmacKey);}});gc.extend({init:function ra(Ea){ra.base.call(this,ec.JWE_LADDER);Object.defineProperties(this,{repository:{value:Ea,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(Ea,ra,ea){Pa(ea,function(){var ka,na,Ca;ka=ra.mechanism;na=ra.wrapdata;if(!ka || ka == ca.WRAP && (!na || "string" !== typeof na))throw new Db(Y.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ra));if(!ca[ka])throw new Nb(Y.UNIDENTIFIED_KEYX_MECHANISM,ka);switch(ka){case ca.WRAP:try{Ca=Hb(na);}catch(Ua){throw new Nb(Y.KEYX_WRAPPING_KEY_MISSING,"keydata " + ra.toString());}if(null == Ca || 0 == Ca.length)throw new Nb(Y.KEYX_WRAPPING_KEY_MISSING,"keydata " + ra.toString());break;default:Ca=null;}return new Z(ka,Ca);});},createResponseData:function(Ea,ra,ea){var ka,na,Ca,Ua,Oa,Sa,Va;Ea=ea.wrapkey;ka=ea.wrapdata;na=ea.encryptionkey;Ca=ea.hmackey;if(!(Ea && "string" === typeof Ea && ka && "string" === typeof ka && na && "string" === typeof na && Ca) || "string" !== typeof Ca)throw new Db(Y.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ea));try{Ua=Hb(Ea);Oa=Hb(ka);}catch(ta){throw new wb(Y.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(ea),ta);}try{Sa=Hb(na);}catch(ta){throw new wb(Y.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ea),ta);}try{Va=Hb(Ca);}catch(ta){throw new wb(Y.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ea),ta);}return new aa(ra,Ua,Oa,Sa,Va);},generateResponse:function(Ea,ra,ea,ka){var Sa,Va;function na(ta,Da,Ia){Sa.generateSessionKeys(Ea,{result:function(Ma){Pa(ka,function(){Ca(ta,Da,Ia,Ma.encryptionKey,Ma.hmacKey);},Sa);},error:function(Ma){Pa(ka,function(){Ma instanceof gb && Ma.setEntity(Va);throw Ma;});}});}function Ca(ta,Da,Ia,Ma,Ga){Pa(ka,function(){ja(Ea,ra.mechanism,ra.wrapdata,ta,{result:function(Wa){Wa.wrap(Da,{result:function(La){Ua(Da,Ia,Ma,Ga,La);},error:function(La){Pa(ka,function(){La instanceof gb && La.setEntity(Va);throw La;});}});},error:function(Wa){Pa(ka,function(){Wa instanceof gb && Wa.setEntity(Va);throw Wa;});}});},Sa);}function Ua(ta,Da,Ia,Ma,Ga){Pa(ka,function(){var Wa;Wa=new oc(Ea,pc.A128KW,jc,ta);Wa.wrap(Ia,{result:function(La){Wa.wrap(Ma,{result:function(Za){Oa(Da,Ga,Ia,La,Ma,Za);},error:function(Za){Pa(ka,function(){Za instanceof gb && Za.setEntity(Va);throw Za;});}});},error:function(La){Pa(ka,function(){La instanceof gb && La.setEntity(Va);throw La;});}});},Sa);}function Oa(ta,Da,Ia,Ma,Ga,Wa){Pa(ka,function(){var La;La=Ea.getTokenFactory();Va?La.renewMasterToken(Ea,Va,Ia,Ga,{result:function(Za){Pa(ka,function(){var cb,Ya;cb=new fc(Ea,Za);Ya=new aa(Za,Da,ta,Ma,Wa);return new gc.KeyExchangeData(Ya,cb,ka);},Sa);},error:function(Za){Pa(ka,function(){Za instanceof gb && Za.setEntity(Va);throw Za;});}}):La.createMasterToken(Ea,ea,Ia,Ga,{result:function(Za){Pa(ka,function(){var cb,Ya;cb=new fc(Ea,Za);Ya=new aa(Za,Da,ta,Ma,Wa);return new gc.KeyExchangeData(Ya,cb,ka);},Sa);},error:ka.error});},Sa);}Sa=this;Pa(ka,function(){var ta,Da;if(!(ra instanceof Z))throw new xb("Key request data " + JSON.stringify(ra) + " was not created by this factory.");ta=ea;if(ea instanceof cc){if(!ea.isVerified())throw new Sc(Y.MASTERTOKEN_UNTRUSTED,ea);Va=ea;ta=ea.identity;}Da=new Uint8Array(16);Ea.getRandom().nextBytes(Da);mc(Da,lc,wc,{result:function(Ia){Pa(ka,function(){Ea.getMslCryptoContext().wrap(Ia,{result:function(Ma){na(ta,Ia,Ma);},error:function(Ma){Pa(ka,function(){Ma instanceof gb && Ma.setEntity(Va);throw Ma;},Sa);}});},Sa);},error:function(Ia){Pa(ka,function(){throw new wb(Y.WRAP_KEY_CREATION_FAILURE,null,Ia).setEntity(Va);},Sa);}});},Sa);},getCryptoContext:function(Ea,ra,ea,ka,na){var Ua;function Ca(Oa,Sa,Va,ta,Da){Pa(na,function(){var Ia;Ia=new oc(Ea,pc.A128KW,jc,Da);Ia.unwrap(Sa.encryptionKey,hc,vc,{result:function(Ma){Ia.unwrap(Sa.hmacKey,ic,Ec,{result:function(Ga){Pa(na,function(){this.repository.addCryptoContext(Sa.wrapdata,Ia);this.repository.removeCryptoContext(Va);return new fc(Ea,Sa.masterToken,ta,Ma,Ga);},Ua);},error:function(Ga){Pa(na,function(){Ga instanceof gb && Ga.setEntity(Oa);throw Ga;});}});},error:function(Ma){Pa(na,function(){Ma instanceof gb && Ma.setEntity(Oa);throw Ma;});}});},Ua);}Ua=this;Pa(na,function(){var Oa,Sa;if(!(ra instanceof Z))throw new xb("Key request data " + JSON.stringify(ra) + " was not created by this factory.");if(!(ea instanceof aa))throw new xb("Key response data " + JSON.stringify(ea) + " was not created by this factory.");Oa=ra.mechanism;Sa=ra.wrapdata;Ea.getEntityAuthenticationData(null,{result:function(Va){Pa(na,function(){var ta,Da,Ia;ta=Va.getIdentity();switch(Oa){case ca.PSK:Da=new rc(ta);Ia=Ea.getEntityAuthenticationFactory(Pb.PSK);if(!Ia)throw new Nb(Y.UNSUPPORTED_KEYX_MECHANISM,Oa).setEntity(Va);Da=Ia.getCryptoContext(Ea,Da);Da=new oc(Ea,pc.A128KW,jc,Bb);break;case ca.MGK:Da=new qc(ta);Ia=Ea.getEntityAuthenticationFactory(Pb.MGK);if(!Ia)throw new Nb(Y.UNSUPPORTED_KEYX_MECHANISM,Oa).setEntity(Va);Da=Ia.getCryptoContext(Ea,Da);Da=new oc(Ea,pc.A128KW,jc,Da.wrapKey);break;case ca.WRAP:Da=this.repository.getCryptoContext(Sa);if(!Da)throw new Nb(Y.KEYX_WRAPPING_KEY_MISSING,Eb(Sa)).setEntity(Va);break;default:throw new Nb(Y.UNSUPPORTED_KEYX_MECHANISM,Oa).setEntity(Va);}Da.unwrap(ea.wrapKey,lc,wc,{result:function(Ma){Ca(Va,ea,Sa,ta,Ma);},error:function(Ma){Pa(na,function(){Ma instanceof gb && Ma.setEntity(Va);throw Ma;});}});},Ua);},error:na.error});},Ua);}});})();(function(){var ca,Z,aa,ha;function ja(ba,ma,Ba,va,oa){Pa(oa,function(){var ua,Ea;switch(ma){case ca.PSK:(ua=new rc(va),Ea=ba.getEntityAuthenticationFactory(Pb.PSK));if(!Ea)throw new Nb(Y.UNSUPPORTED_KEYX_MECHANISM,ma);ua=Ea.getCryptoContext(ba,ua);return new ha(Bb);case ca.MGK:ua=new qc(va);Ea=ba.getEntityAuthenticationFactory(Pb.MGK);if(!Ea)throw new Nb(Y.UNSUPPORTED_KEYX_MECHANISM,ma);ua=Ea.getCryptoContext(ba,ua);return new ha(Bb);case ca.WRAP:ua=ba.getMslCryptoContext();ua.unwrap(Ba,lc,wc,{result:function(ra){Pa(oa,function(){return new ha(ra);});},error:oa.error});break;default:throw new Nb(Y.UNSUPPORTED_KEYX_MECHANISM,ma);}});}ca={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};Z=ue=Uc.extend({init:function va(ma,Ba){va.base.call(this,ec.JWK_LADDER);switch(ma){case ca.WRAP:if(!Ba)throw new xb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:Ba=null;}Object.defineProperties(this,{mechanism:{value:ma,writable:!1,configurable:!1},wrapdata:{value:Ba,writable:!1,configurable:!1}});},getKeydata:function(){var ma;ma={};ma.mechanism=this.mechanism;this.wrapdata && (ma.wrapdata=Eb(this.wrapdata));return ma;},equals:function va(Ba){return Ba === this?!0:Ba instanceof ue?va.base.call(this,Ba) && this.mechanism == Ba.mechanism && $b(this.wrapdata,Ba.wrapdata):!1;},uniqueKey:function va(){var oa;oa=va.base.call(this) + ":" + this.mechanism;this.wrapdata && (oa+=":" + ac(this.wrapdata));return oa;}});aa=ve=Vc.extend({init:function ka(oa,ua,Ea,ra,ea){ka.base.call(this,oa,ec.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:ua,writable:!1,configurable:!1},wrapdata:{value:Ea,writable:!1,configurable:!1},encryptionKey:{value:ra,writable:!1,configurable:!1},hmacKey:{value:ea,writable:!1,configurable:!1}});},getKeydata:function(){var oa;oa={};oa.wrapkey=Eb(this.wrapKey);oa.wrapdata=Eb(this.wrapdata);oa.encryptionkey=Eb(this.encryptionKey);oa.hmackey=Eb(this.hmacKey);return oa;},equals:function Ea(ua){return this === ua?!0:ua instanceof ve?Ea.base.call(this,ua) && $b(this.wrapKey,ua.wrapKey) && $b(this.wrapdata,ua.wrapdata) && $b(this.encryptionKey,ua.encryptionKey) && $b(this.hmacKey,ua.hmacKey):!1;},uniqueKey:function Ea(){return Ea.base.call(this) + ":" + ac(this.wrapKey) + ":" + ac(this.wrapdata) + ":" + ac(this.encryptionKey) + ":" + ac(this.hmacKey);}});ha=Lc.extend({init:function(Ea){Ea && Ea.rawKey && (Ea=Ea.rawKey);Object.defineProperties(this,{_wrapKey:{value:Ea,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Ea,ra){ra.error(new wb(Y.ENCRYPT_NOT_SUPPORTED));},decrypt:function(Ea,ra){ra.error(new wb(Y.DECRYPT_NOT_SUPPORTED));},wrap:function(Ea,ra){Pa(ra,function(){Kb.wrapKey("jwk",Ea.rawKey,this._wrapKey,lc).then(function(ea){ra.result(ea);},function(ea){ra.error(new wb(Y.WRAP_ERROR));});},this);},unwrap:function(Ea,ra,ea,ka){function na(Ca){Pa(ka,function(){switch(Ca.type){case "secret":Tc(Ca,ka);break;case "public":Bc(Ca,ka);break;case "private":Jc(Ca,ka);break;default:throw new wb(Y.UNSUPPORTED_KEY,"type: " + Ca.type);}});}Pa(ka,function(){Kb.unwrapKey("jwk",Ea,this._wrapKey,lc,ra,!1,ea).then(function(Ca){na(Ca);},function(Ca){ka.error(new wb(Y.UNWRAP_ERROR));});},this);},sign:function(Ea,ra){ra.error(new wb(Y.SIGN_NOT_SUPPORTED));},verify:function(Ea,ra,ea){ea.error(new wb(Y.VERIFY_NOT_SUPPORTED));}});gc.extend({init:function ea(ra){ea.base.call(this,ec.JWK_LADDER);Object.defineProperties(this,{repository:{value:ra,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(ra,ea,ka){Pa(ka,function(){var na,Ca,Ua;na=ea.mechanism;Ca=ea.wrapdata;if(!na || na == ca.WRAP && (!Ca || "string" !== typeof Ca))throw new Db(Y.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ea));if(!ca[na])throw new Nb(Y.UNIDENTIFIED_KEYX_MECHANISM,na);switch(na){case ca.WRAP:try{Ua=Hb(Ca);}catch(Oa){throw new Nb(Y.KEYX_WRAPPING_KEY_MISSING,"keydata " + ea.toString());}if(null == Ua || 0 == Ua.length)throw new Nb(Y.KEYX_WRAPPING_KEY_MISSING,"keydata " + ea.toString());break;default:Ua=null;}return new Z(na,Ua);});},createResponseData:function(ra,ea,ka){var na,Ca,Ua,Oa,Sa,Va,ta;ra=ka.wrapkey;na=ka.wrapdata;Ca=ka.encryptionkey;Ua=ka.hmackey;if(!(ra && "string" === typeof ra && na && "string" === typeof na && Ca && "string" === typeof Ca && Ua) || "string" !== typeof Ua)throw new Db(Y.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ka));try{Oa=Hb(ra);Sa=Hb(na);}catch(Da){throw new wb(Y.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(ka),Da);}try{Va=Hb(Ca);}catch(Da){throw new wb(Y.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ka),Da);}try{ta=Hb(Ua);}catch(Da){throw new wb(Y.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ka),Da);}return new aa(ea,Oa,Sa,Va,ta);},generateResponse:function(ra,ea,ka,na){var Va,ta;function Ca(Da,Ia,Ma){Va.generateSessionKeys(ra,{result:function(Ga){Pa(na,function(){Ua(Da,Ia,Ma,Ga.encryptionKey,Ga.hmacKey);},Va);},error:function(Ga){Pa(na,function(){Ga instanceof gb && Ga.setEntity(ta);throw Ga;});}});}function Ua(Da,Ia,Ma,Ga,Wa){Pa(na,function(){ja(ra,ea.mechanism,ea.wrapdata,Da,{result:function(La){La.wrap(Ia,{result:function(Za){Oa(Ia,Ma,Ga,Wa,Za);},error:function(Za){Pa(na,function(){Za instanceof gb && Za.setEntity(ta);throw Za;});}});},error:function(La){Pa(na,function(){La instanceof gb && La.setEntity(ta);throw La;});}});},Va);}function Oa(Da,Ia,Ma,Ga,Wa){Pa(na,function(){var La;La=new ha(Da);La.wrap(Ma,{result:function(Za){La.wrap(Ga,{result:function(cb){Sa(Ia,Wa,Ma,Za,Ga,cb);},error:function(cb){Pa(na,function(){cb instanceof gb && cb.setEntity(ta);throw cb;});}});},error:function(Za){Pa(na,function(){Za instanceof gb && Za.setEntity(ta);throw Za;});}});},Va);}function Sa(Da,Ia,Ma,Ga,Wa,La){Pa(na,function(){var Za;Za=ra.getTokenFactory();ta?Za.renewMasterToken(ra,ta,Ma,Wa,{result:function(cb){Pa(na,function(){var Ya,kb;Ya=new fc(ra,cb);kb=new aa(cb,Ia,Da,Ga,La);return new gc.KeyExchangeData(kb,Ya,na);},Va);},error:function(cb){Pa(na,function(){cb instanceof gb && cb.setEntity(ta);throw cb;});}}):Za.createMasterToken(ra,ka,Ma,Wa,{result:function(cb){Pa(na,function(){var Ya,kb;Ya=new fc(ra,cb);kb=new aa(cb,Ia,Da,Ga,La);return new gc.KeyExchangeData(kb,Ya,na);},Va);},error:na.error});},Va);}Va=this;Pa(na,function(){var Da,Ia;if(!(ea instanceof Z))throw new xb("Key request data " + JSON.stringify(ea) + " was not created by this factory.");Da=ka;if(ka instanceof cc){if(!ka.isVerified())throw new Sc(Y.MASTERTOKEN_UNTRUSTED,ka);ta=ka;Da=ka.identity;}Ia=new Uint8Array(16);ra.getRandom().nextBytes(Ia);mc(Ia,lc,wc,{result:function(Ma){Pa(na,function(){ra.getMslCryptoContext().wrap(Ma,{result:function(Ga){Ca(Da,Ma,Ga);},error:function(Ga){Pa(na,function(){Ga instanceof gb && Ga.setEntity(ta);throw Ga;},Va);}});},Va);},error:function(Ma){Pa(na,function(){throw new wb(Y.WRAP_KEY_CREATION_FAILURE,null,Ma).setEntity(ta);},Va);}});},Va);},getCryptoContext:function(ra,ea,ka,na,Ca){var Oa;function Ua(Sa,Va,ta,Da,Ia){Pa(Ca,function(){var Ma;Ma=new ha(Ia);Ma.unwrap(Va.encryptionKey,hc,vc,{result:function(Ga){Ma.unwrap(Va.hmacKey,ic,Ec,{result:function(Wa){Pa(Ca,function(){this.repository.addCryptoContext(Va.wrapdata,Ma);this.repository.removeCryptoContext(ta);return new fc(ra,Va.masterToken,Da,Ga,Wa);},Oa);},error:function(Wa){Pa(Ca,function(){Wa instanceof gb && Wa.setEntity(Sa);throw Wa;});}});},error:function(Ga){Pa(Ca,function(){Ga instanceof gb && Ga.setEntity(Sa);throw Ga;});}});},Oa);}Oa=this;Pa(Ca,function(){var Sa,Va;if(!(ea instanceof Z))throw new xb("Key request data " + JSON.stringify(ea) + " was not created by this factory.");if(!(ka instanceof aa))throw new xb("Key response data " + JSON.stringify(ka) + " was not created by this factory.");Sa=ea.mechanism;Va=ea.wrapdata;ra.getEntityAuthenticationData(null,{result:function(ta){Pa(Ca,function(){var Da,Ia,Ma;Da=ta.getIdentity();switch(Sa){case ca.PSK:Ia=new rc(Da);Ma=ra.getEntityAuthenticationFactory(Pb.PSK);if(!Ma)throw new Nb(Y.UNSUPPORTED_KEYX_MECHANISM,Sa).setEntity(ta);Ia=Ma.getCryptoContext(ra,Ia);Ia=new ha(Ia.wrapKey);break;case ca.MGK:Ia=new qc(Da);Ma=ra.getEntityAuthenticationFactory(Pb.MGK);if(!Ma)throw new Nb(Y.UNSUPPORTED_KEYX_MECHANISM,Sa).setEntity(ta);Ia=Ma.getCryptoContext(ra,Ia);Ia=new ha(Ia.wrapKey);break;case ca.WRAP:Ia=this.repository.getCryptoContext(Va);if(!Ia)throw new Nb(Y.KEYX_WRAPPING_KEY_MISSING,Eb(Va)).setEntity(ta);break;default:throw new Nb(Y.UNSUPPORTED_KEYX_MECHANISM,Sa).setEntity(ta);}Ia.unwrap(ka.wrapKey,lc,wc,{result:function(Ga){Ua(ta,ka,Va,Da,Ga);},error:function(Ga){Pa(Ca,function(){Ga instanceof gb && Ga.setEntity(ta);throw Ga;});}});},Oa);},error:Ca.error});},Oa);}});})();sf=Cb.Class.create({addCryptoContext:function(ja,ca){},getCryptoContext:function(ja){},removeCryptoContext:function(ja){}});(function(){var ca,Z,aa,ha;function ja(ba,ma,Ba,va,oa){switch(Ba){case ca.JWE_RSA:case ca.JWEJS_RSA:return new oc(ba,pc.RSA_OAEP,jc,va,oa);case ca.JWK_RSA:return new hd(ba,ma,va,oa,id.WRAP_UNWRAP_OAEP);case ca.JWK_RSAES:return new hd(ba,ma,va,oa,id.WRAP_UNWRAP_PKCS1);default:throw new wb(Y.UNSUPPORTED_KEYX_MECHANISM,Ba);}}ca=we={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};Z=vd=Uc.extend({init:function ua(ma,Ba,va,oa){ua.base.call(this,ec.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:ma,writable:!1,configurable:!1},mechanism:{value:Ba,writable:!1,configurable:!1},publicKey:{value:va,writable:!1,configurable:!1},privateKey:{value:oa,writable:!1,configurable:!1}});},getKeydata:function(){var ma;ma={};ma.keypairid=this.keyPairId;ma.mechanism=this.mechanism;ma.publickey=Eb(this.publicKey.getEncoded());return ma;},equals:function va(Ba){var oa;if(Ba === this)return !0;if(!(Ba instanceof vd))return !1;oa=this.privateKey === Ba.privateKey || this.privateKey && Ba.privateKey && $b(this.privateKey.getEncoded(),Ba.privateKey.getEncoded());return va.base.call(this,Ba) && this.keyPairId == Ba.keyPairId && this.mechanism == Ba.mechanism && $b(this.publicKey.getEncoded(),Ba.publicKey.getEncoded()) && oa;},uniqueKey:function va(){var oa,ua;oa=this.publicKey.getEncoded();ua=this.privateKey && this.privateKey.getEncoded();oa=va.base.call(this) + ":" + this.keyPairId + ":" + this.mechanism + ":" + ac(oa);ua && (oa+=":" + ac(ua));return oa;}});aa=function(va,oa){Pa(oa,function(){var ua,Ea,ra,ea;ua=va.keypairid;Ea=va.mechanism;ra=va.publickey;if(!ua || "string" !== typeof ua || !Ea || !ra || "string" !== typeof ra)throw new Db(Y.JSON_PARSE_ERROR,"keydata " + JSON.stringify(va));if(!ca[Ea])throw new Nb(Y.UNIDENTIFIED_KEYX_MECHANISM,Ea);try{ea=Hb(ra);switch(Ea){case ca.JWE_RSA:case ca.JWEJS_RSA:case ca.JWK_RSA:Ad(ea,fd,wc,{result:function(ka){oa.result(new Z(ua,Ea,ka,null));},error:function(ka){oa.error(ka);}});break;case ca.JWK_RSAES:Ad(ea,yd,wc,{result:function(ka){oa.result(new Z(ua,Ea,ka,null));},error:function(ka){oa.error(ka);}});break;default:throw new wb(Y.UNSUPPORTED_KEYX_MECHANISM,Ea);}}catch(ka){if(!(ka instanceof gb))throw new wb(Y.INVALID_PUBLIC_KEY,"keydata " + JSON.stringify(va),ka);throw ka;}});};ha=xe=Vc.extend({init:function ea(oa,ua,Ea,ra){ea.base.call(this,oa,ec.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:ua,writable:!1,configurable:!1},encryptionKey:{value:Ea,writable:!1,configurable:!1},hmacKey:{value:ra,writable:!1,configurable:!1}});},getKeydata:function(){var oa;oa={};oa.keypairid=this.keyPairId;oa.encryptionkey=Eb(this.encryptionKey);oa.hmackey=Eb(this.hmacKey);return oa;},equals:function Ea(ua){return this === ua?!0:ua instanceof xe?Ea.base.call(this,ua) && this.keyPairId == ua.keyPairId && $b(this.encryptionKey,ua.encryptionKey) && $b(this.hmacKey,ua.hmacKey):!1;},uniqueKey:function Ea(){return Ea.base.call(this) + ":" + this.keyPairId + ":" + ac(this.encryptionKey) + ":" + ac(this.hmacKey);}});be=gc.extend({init:function ra(){ra.base.call(this,ec.ASYMMETRIC_WRAPPED);},createRequestData:function(ra,ea,ka){aa(ea,ka);},createResponseData:function(ra,ea,ka){var na,Ca,Ua,Oa;ra=ka.keypairid;na=ka.encryptionkey;Ca=ka.hmackey;if(!ra || "string" !== typeof ra || !na || "string" !== typeof na || !Ca || "string" !== typeof Ca)throw new Db(Y.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ka));try{Ua=Hb(na);}catch(Sa){throw new wb(Y.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ka),Sa);}try{Oa=Hb(Ca);}catch(Sa){throw new wb(Y.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ka),Sa);}return new ha(ea,ra,Ua,Oa);},generateResponse:function(ra,ea,ka,na){var Oa;function Ca(Sa,Va){Pa(na,function(){var ta;ta=ja(ra,ea.keyPairId,ea.mechanism,null,ea.publicKey);ta.wrap(Sa,{result:function(Da){Pa(na,function(){ta.wrap(Va,{result:function(Ia){Ua(Sa,Da,Va,Ia);},error:function(Ia){Pa(na,function(){Ia instanceof gb && ka instanceof cc && Ia.setEntity(ka);throw Ia;},Oa);}});},Oa);},error:function(Da){Pa(na,function(){Da instanceof gb && ka instanceof cc && Da.setEntity(ka);throw Da;},Oa);}});},Oa);}function Ua(Sa,Va,ta,Da){Pa(na,function(){var Ia;Ia=ra.getTokenFactory();ka instanceof cc?Ia.renewMasterToken(ra,ka,Sa,ta,{result:function(Ma){Pa(na,function(){var Ga,Wa;Ga=new fc(ra,Ma);Wa=new ha(Ma,ea.keyPairId,Va,Da);return new gc.KeyExchangeData(Wa,Ga,na);},Oa);},error:function(Ma){Pa(na,function(){Ma instanceof gb && Ma.setEntity(ka);throw Ma;},Oa);}}):Ia.createMasterToken(ra,ka,Sa,ta,{result:function(Ma){Pa(na,function(){var Ga,Wa;Ga=new fc(ra,Ma);Wa=new ha(Ma,ea.keyPairId,Va,Da);return new gc.KeyExchangeData(Wa,Ga,na);},Oa);},error:na.error});},Oa);}Oa=this;Pa(na,function(){if(!(ea instanceof Z))throw new xb("Key request data " + JSON.stringify(ea) + " was not created by this factory.");this.generateSessionKeys(ra,{result:function(Sa){Ca(Sa.encryptionKey,Sa.hmacKey);},error:function(Sa){Pa(na,function(){Sa instanceof gb && ka instanceof cc && Sa.setEntity(ka);throw Sa;},Oa);}});},Oa);},getCryptoContext:function(ra,ea,ka,na,Ca){var Ua;Ua=this;Pa(Ca,function(){var Oa,Sa,Va;if(!(ea instanceof Z))throw new xb("Key request data " + JSON.stringify(ea) + " was not created by this factory.");if(!(ka instanceof ha))throw new xb("Key response data " + JSON.stringify(ka) + " was not created by this factory.");Oa=ea.keyPairId;Sa=ka.keyPairId;if(Oa != Sa)throw new Nb(Y.KEYX_RESPONSE_REQUEST_MISMATCH,"request " + Oa + "; response " + Sa).setEntity(na);Sa=ea.privateKey;if(!Sa)throw new Nb(Y.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(na);Va=ja(ra,Oa,ea.mechanism,Sa,null);Va.unwrap(ka.encryptionKey,hc,vc,{result:function(ta){Va.unwrap(ka.hmacKey,ic,Ec,{result:function(Da){ra.getEntityAuthenticationData(null,{result:function(Ia){Pa(Ca,function(){var Ma;Ma=Ia.getIdentity();return new fc(ra,ka.masterToken,Ma,ta,Da);},Ua);},error:function(Ia){Pa(Ca,function(){Ia instanceof gb && Ia.setEntity(na);throw Ia;},Ua);}});},error:function(Da){Pa(Ca,function(){Da instanceof gb && Da.setEntity(na);throw Da;},Ua);}});},error:function(ta){Pa(Ca,function(){ta instanceof gb && ta.setEntity(na);throw ta;},Ua);}});},Ua);}});})();rf=Cb.Class.create({init:function(ja){var ca,Z,aa,ha,ba,ma,Ba,va;ca=Vb.parser();Z=[];aa=[];Ba=0;va=!1;ca.onerror=function(oa){va || (va=!0,ca.end());};ca.onopenobject=function(oa){var ua;if(ha)(ha[ma]={},aa.push(ha),ha=ha[ma]);else if(ba){ua={};aa.push(ba);ba.push(ua);ha=ua;ba=Bb;}else ha={};ma=oa;};ca.oncloseobject=function(){var oa;oa=aa.pop();oa?"object" === typeof oa?ha=oa:(ha=Bb,ba=oa):(Z.push(ha),Ba=ca.index,ha=Bb);};ca.onopenarray=function(){var oa;if(ha)(ha[ma]=[],aa.push(ha),ba=ha[ma],ha=Bb);else if(ba){oa=[];aa.push(ba);ba.push(oa);ba=oa;}else ba=[];};ca.onclosearray=function(){var oa;oa=aa.pop();oa?"object" === typeof oa?(ha=oa,ba=Bb):ba=oa:(Z.push(ba),Ba=ca.index,ba=Bb);};ca.onkey=function(oa){ma=oa;};ca.onvalue=function(oa){ha?ha[ma]=oa:ba?ba.push(oa):(Z.push(oa),Ba=ca.index);};ca.write(ja).close();Object.defineProperties(this,{_values:{value:Z,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:Ba,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0 < this._values.length;},nextValue:function(){return 0 == this._values.length?Bb:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var ja,ca,Z,aa,ha;ja=Jd="entityauthdata";ca=ze="mastertoken";Z=Ae="headerdata";aa=Be="errordata";ha=Kd="signature";ye=function(ba,ma,Ba,va){Pa(va,function(){var oa,ua,Ea,ra,ea,ka;oa=ma[ja];ua=ma[ca];Ea=ma[ha];if(oa && "object" !== typeof oa || ua && "object" !== typeof ua || "string" !== typeof Ea)throw new Db(Y.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ma));try{ra=Hb(Ea);}catch(na){throw new Ib(Y.HEADER_SIGNATURE_INVALID,"header/errormsg " + JSON.stringify(ma),na);}ea=null;oa && (ea=ke(ba,oa));ka=ma[Z];if(ka != Bb && null != ka){if("string" !== typeof ka)throw new Db(Y.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ma));ua?Wc(ba,ua,{result:function(na){Ld(ba,ka,ea,na,ra,Ba,va);},error:function(na){va.error(na);}}):Ld(ba,ka,ea,null,ra,Ba,va);}else if((oa=ma[aa],oa != Bb && null != oa)){if("string" !== typeof oa)throw new Db(Y.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ma));Ce(ba,oa,ea,ra,va);}else throw new Db(Y.JSON_PARSE_ERROR,JSON.stringify(ma));});};})();(function(){function ja(ca,Z){this.errordata=ca;this.signature=Z;}Ac=Cb.Class.create({init:function(ca,Z,aa,ha,ba,ma,Ba,va,oa,ua){var Ea;Ea=this;Pa(ua,function(){var ra,ea;0 > ma && (ma=-1);if(0 > ha || ha > Lb)throw new xb("Message ID " + ha + " is out of range.");if(!Z)throw new Ib(Y.MESSAGE_ENTITY_NOT_FOUND);if(oa)return (Object.defineProperties(this,{entityAuthenticationData:{value:Z,writable:!1,configurable:!1},recipient:{value:aa,writable:!1,configurable:!1},messageId:{value:ha,writable:!1,configurable:!1},errorCode:{value:ba,writable:!1,configurable:!1},internalCode:{value:ma,writable:!1,configurable:!1},errorMessage:{value:Ba,writable:!1,configurable:!1},userMessage:{value:va,writable:!1,configurable:!1},errordata:{value:oa.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:oa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);ra={};aa && (ra.recipient=aa);ra.messageid=ha;ra.errorcode=ba;0 < ma && (ra.internalcode=ma);Ba && (ra.errormsg=Ba);va && (ra.usermsg=va);try{ea=ca.getEntityAuthenticationFactory(Z.scheme).getCryptoContext(ca,Z);}catch(ka){throw (ka instanceof gb && (ka.setEntity(Z),ka.setMessageId(ha)),ka);}ra=Zb(JSON.stringify(ra),Mb);ea.encrypt(ra,{result:function(ka){Pa(ua,function(){ea.sign(ka,{result:function(na){Pa(ua,function(){Object.defineProperties(this,{entityAuthenticationData:{value:Z,writable:!1,configurable:!1},recipient:{value:aa,writable:!1,configurable:!1},messageId:{value:ha,writable:!1,configurable:!1},errorCode:{value:ba,writable:!1,configurable:!1},internalCode:{value:ma,writable:!1,configurable:!1},errorMessage:{value:Ba,writable:!1,configurable:!1},userMessage:{value:va,writable:!1,configurable:!1},errordata:{value:ka,writable:!1,enumerable:!1,configurable:!1},signature:{value:na,writable:!1,enumerable:!1,configurable:!1}});return this;},Ea);},error:function(na){Pa(ua,function(){na instanceof gb && (na.setEntity(Z),na.setMessageId(ha));throw na;},Ea);}});},Ea);},error:function(ka){Pa(ua,function(){ka instanceof gb && (ka.setEntity(Z),ka.setMessageId(ha));throw ka;},Ea);}});},Ea);},toJSON:function(){var ca;ca={};ca[Jd]=this.entityAuthenticationData;ca[Be]=Eb(this.errordata);ca[Kd]=Eb(this.signature);return ca;}});De=function(ca,Z,aa,ha,ba,ma,Ba,va,oa){new Ac(ca,Z,aa,ha,ba,ma,Ba,va,null,oa);};Ce=function(ca,Z,aa,ha,ba){Pa(ba,function(){var ma,Ba,va;if(!aa)throw new Ib(Y.MESSAGE_ENTITY_NOT_FOUND);try{ma=aa.scheme;Ba=ca.getEntityAuthenticationFactory(ma);if(!Ba)throw new kc(Y.ENTITYAUTH_FACTORY_NOT_FOUND,ma);va=Ba.getCryptoContext(ca,aa);}catch(oa){throw (oa instanceof gb && oa.setEntity(aa),oa);}try{Z=Hb(Z);}catch(oa){throw new Ib(Y.HEADER_DATA_INVALID,Z,oa).setEntity(aa);}if(!Z || 0 == Z.length)throw new Ib(Y.HEADER_DATA_MISSING,Z).setEntity(aa);va.verify(Z,ha,{result:function(oa){Pa(ba,function(){if(!oa)throw new wb(Y.MESSAGE_VERIFICATION_FAILED).setEntity(aa);va.decrypt(Z,{result:function(ua){Pa(ba,function(){var Ea,ra,ea,ka,na,Ca,Ua,Oa;Ea=Yb(ua,Mb);try{ra=JSON.parse(Ea);}catch(Va){if(Va instanceof SyntaxError)throw new Db(Y.JSON_PARSE_ERROR,"errordata " + Ea,Va).setEntity(aa);throw Va;}ea=ra.recipient !== Bb?ra.recipient:null;ka=parseInt(ra.messageid);na=parseInt(ra.errorcode);Ca=parseInt(ra.internalcode);Ua=ra.errormsg;Oa=ra.usermsg;if(ea && "string" !== typeof ea || !ka || ka != ka || !na || na != na || ra.internalcode && Ca != Ca || Ua && "string" !== typeof Ua || Oa && "string" !== typeof Oa)throw new Db(Y.JSON_PARSE_ERROR,"errordata " + Ea).setEntity(aa);if(0 > ka || ka > Lb)throw new Ib(Y.MESSAGE_ID_OUT_OF_RANGE,"errordata " + Ea).setEntity(aa);ra=!1;for(var Sa in Ja){if(Ja[Sa] == na){ra=!0;break;}}ra || (na=Ja.FAIL);if(Ca){if(0 > Ca)throw new Ib(Y.INTERNAL_CODE_NEGATIVE,"errordata " + Ea).setEntity(aa).setMessageId(ka);}else Ca=-1;Ea=new ja(Z,ha);new Ac(ca,aa,ea,ka,na,Ca,Ua,Oa,Ea,ba);});},error:function(ua){Pa(ba,function(){ua instanceof gb && ua.setEntity(aa);throw ua;});}});});},error:function(oa){Pa(ba,function(){oa instanceof gb && oa.setEntity(aa);throw oa;});}});});};})();tf=Cb.Class.create({getUserMessage:function(ja,ca){}});(function(){Md=function(ja,ca){var Z;if(!ja || !ca)return null;Z=ja.compressionAlgorithms.filter(function(aa){for(var ha=0;ha < ca.compressionAlgorithms.length;++ha){if(aa == ca.compressionAlgorithms[ha])return !0;}return !1;});ja=ja.languages.filter(function(aa){for(var ha=0;ha < ca.languages.length;++ha){if(aa == ca.languages[ha])return !0;}return !1;});return new Xc(Z,ja);};Xc=Cb.Class.create({init:function(ja,ca){ja || (ja=[]);ca || (ca=[]);ja.sort();Object.defineProperties(this,{compressionAlgorithms:{value:ja,writable:!1,enumerable:!0,configurable:!1},languages:{value:ca,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var ja;ja={};ja.compressionalgos=this.compressionAlgorithms;ja.languages=this.languages;return ja;},equals:function(ja){return this === ja?!0:ja instanceof Xc?Vd(this.compressionAlgorithms,ja.compressionAlgorithms) && Vd(this.languages,ja.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":") + "|" + this.languages.join(":");}});Ee=function(ja){var ca,Z,ha;ca=ja.compressionalgos;Z=ja.languages;if(ca && !(ca instanceof Array) || Z && !(Z instanceof Array))throw new Db(Y.JSON_PARSE_ERROR,"capabilities " + JSON.stringify(ja));ja=[];for(var aa=0;ca && aa < ca.length;++aa){ha=ca[aa];Cc[ha] && ja.push(ha);}return new Xc(ja,Z);};})();(function(){var ua,Ea;function ja(ra,ea,ka,na,Ca){this.customer=ra;this.sender=ea;this.messageCryptoContext=ka;this.headerdata=na;this.signature=Ca;}function ca(ra,ea,ka,na,Ca,Ua,Oa,Sa,Va,ta,Da,Ia,Ma,Ga,Wa,La,Za,cb,Ya,kb){return {cryptoContext:{value:ea,writable:!1,configurable:!1},customer:{value:ka,writable:!1,configurable:!1},entityAuthenticationData:{value:na,writable:!1,configurable:!1},masterToken:{value:Ca,writable:!1,configurable:!1},sender:{value:Ua,writable:!1,configurable:!1},messageId:{value:Oa,writable:!1,configurable:!1},nonReplayableId:{value:La,writable:!1,configurable:!1},keyRequestData:{value:Sa,writable:!1,configurable:!1},keyResponseData:{value:Va,writable:!1,configurable:!1},userAuthenticationData:{value:ta,writable:!1,configurable:!1},userIdToken:{value:Da,writable:!1,configurable:!1},serviceTokens:{value:Ia,writable:!1,configurable:!1},peerMasterToken:{value:Ma,writable:!1,configurable:!1},peerUserIdToken:{value:Ga,writable:!1,configurable:!1},peerServiceTokens:{value:Wa,writable:!1,configurable:!1},messageCapabilities:{value:cb,writable:!1,configurable:!1},renewable:{value:Za,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:Ya,writable:!1,enumerable:!1,configurable:!1},signature:{value:kb,writable:!1,enumerable:!1,configurable:!1}};}function Z(ra,ea,ka){var na;if(ka){if(ea=ra.getMslStore().getCryptoContext(ka))return ea;if(!ka.isVerified() || !ka.isDecrypted())throw new Sc(Y.MASTERTOKEN_UNTRUSTED,ka);return new fc(ra,ka);}ka=ea.scheme;na=ra.getEntityAuthenticationFactory(ka);if(!na)throw new kc(Y.ENTITYAUTH_FACTORY_NOT_FOUND,ka);return na.getCryptoContext(ra,ea);}function aa(ra,ea,ka,na,Ca){Pa(Ca,function(){ea.verify(ka,na,{result:function(Ua){Pa(Ca,function(){if(!Ua)throw new wb(Y.MESSAGE_VERIFICATION_FAILED);ea.decrypt(ka,{result:function(Oa){Pa(Ca,function(){return Yb(Oa,Mb);});},error:function(Oa){Ca.error(Oa);}});});},error:function(Ua){Ca.error(Ua);}});});}function ha(ra,ea,ka){Pa(ka,function(){if(ea)re(ra,ea,ka);else return null;});}function ba(ra,ea,ka,na){Pa(na,function(){if(ea)nd(ra,ea,ka,na);else return null;});}function ma(ra,ea,ka,na){Pa(na,function(){if(ka)Ie(ra,ea,ka,na);else return null;});}function Ba(ra,ea,ka,na,Ca,Ua,Oa){var Va;function Sa(ta,Da,Ia){var Ma,Ga;if(Da >= ta.length){Ma=[];for(Ga in Va){Ma.push(Va[Ga]);}Ia.result(Ma);}else {Ma=ta[Da];if("object" !== typeof Ma)throw new Db(Y.JSON_PARSE_ERROR,"headerdata " + Ua);od(ra,Ma,ka,na,Ca,{result:function(Wa){Pa(Ia,function(){Va[Wa.uniqueKey()]=Wa;Sa(ta,Da + 1,Ia);});},error:function(Wa){Ia.error(Wa);}});}}Va={};Pa(Oa,function(){if(ea){if(!(ea instanceof Array))throw new Db(Y.JSON_PARSE_ERROR,"headerdata " + Ua);Sa(ea,0,Oa);}else return [];});}function va(ra,ea,ka,na,Ca,Ua){function Oa(Va,ta,Da){Pa(Da,function(){var Ia;Ia=ta.peermastertoken;if(Ia && "object" !== typeof Ia)throw new Db(Y.JSON_PARSE_ERROR,"headerdata " + Ca);if(!Ia)return null;Wc(Va,Ia,Da);});}function Sa(Va,ta,Da,Ia){Pa(Ia,function(){var Ma;Ma=ta.peeruseridtoken;if(Ma && "object" !== typeof Ma)throw new Db(Y.JSON_PARSE_ERROR,"headerdata " + Ca);if(!Ma)return null;nd(Va,Ma,Da,Ia);});}Pa(Ua,function(){if(!ra.isPeerToPeer())return {peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};Oa(ra,ea,{result:function(Va){Pa(Ua,function(){var ta;ta=ka?ka.masterToken:Va;Sa(ra,ea,ta,{result:function(Da){Pa(Ua,function(){Ba(ra,ea.peerservicetokens,ta,Da,na,Ca,{result:function(Ia){Pa(Ua,function(){return {peerMasterToken:Va,peerUserIdToken:Da,peerServiceTokens:Ia};});},error:function(Ia){Pa(Ua,function(){Ia instanceof gb && (Ia.setEntity(ta),Ia.setUser(Da));throw Ia;});}});});},error:function(Da){Pa(Ua,function(){Da instanceof gb && Da.setEntity(ta);throw Da;});}});});},error:Ua.error});});}function oa(ra,ea,ka,na){var Ua;function Ca(Oa,Sa){Pa(na,function(){if(Sa >= Oa.length)return Ua;qe(ra,Oa[Sa],{result:function(Va){Pa(na,function(){Ua.push(Va);Ca(Oa,Sa + 1);});},error:function(Va){na.error(Va);}});});}Ua=[];Pa(na,function(){var Oa;Oa=ea.keyrequestdata;if(!Oa)return Ua;if(!(Oa instanceof Array))throw new Db(Y.JSON_PARSE_ERROR,"headerdata " + ka);Ca(Oa,0);});}ua=Ge=Cb.Class.create({init:function(ra,ea,ka,na,Ca,Ua,Oa,Sa,Va){Object.defineProperties(this,{messageId:{value:ra,writable:!1,configurable:!1},nonReplayableId:{value:ea,writable:!1,configurable:!1},renewable:{value:ka,writable:!1,configurable:!1},capabilities:{value:na,writable:!1,configurable:!1},keyRequestData:{value:Ca,writable:!1,configurable:!1},keyResponseData:{value:Ua,writable:!1,configurable:!1},userAuthData:{value:Oa,writable:!1,configurable:!1},userIdToken:{value:Sa,writable:!1,configurable:!1},serviceTokens:{value:Va,writable:!1,configurable:!1}});}});Ea=He=Cb.Class.create({init:function(ra,ea,ka){Object.defineProperties(this,{peerMasterToken:{value:ra,writable:!1,configurable:!1},peerUserIdToken:{value:ea,writable:!1,configurable:!1},peerServiceTokens:{value:ka,writable:!1,configurable:!1}});}});Yc=Cb.Class.create({init:function(ra,ea,ka,na,Ca,Ua,Oa){var Va;function Sa(ta){Pa(Oa,function(){var Da,Ia,Ma,Ga,Wa,La,Za,cb,Ya,kb,nb,qb,sb,tb,Ab,zb,q;ea=ka?null:ea;Da=na.nonReplayableId;Ia=na.renewable;Ma=na.capabilities;Ga=na.messageId;Wa=na.keyRequestData?na.keyRequestData:[];La=na.keyResponseData;Za=na.userAuthData;cb=na.userIdToken;Ya=na.serviceTokens?na.serviceTokens:[];if(ra.isPeerToPeer()){kb=Ca.peerMasterToken;nb=Ca.peerUserIdToken;qb=Ca.peerServiceTokens?Ca.peerServiceTokens:[];}else (nb=kb=null,qb=[]);if(0 > Ga || Ga > Lb)throw new xb("Message ID " + Ga + " is out of range.");if(!ea && !ka)throw new xb("Message entity authentication data or master token must be provided.");if(La){if(ra.isPeerToPeer()){sb=ka;tb=La.masterToken;}else (sb=La.masterToken,tb=kb);}else (sb=ka,tb=kb);if(cb && (!sb || !cb.isBoundTo(sb)))throw new xb("User ID token must be bound to a master token.");if(nb && (!tb || !nb.isBoundTo(tb)))throw new xb("Peer user ID token must be bound to a peer master token.");Ya.forEach(function(b){if(b.isMasterTokenBound() && (!sb || !b.isBoundTo(sb)))throw new xb("Master token bound service tokens must be bound to the provided master token.");if(b.isUserIdTokenBound() && (!cb || !b.isBoundTo(cb)))throw new xb("User ID token bound service tokens must be bound to the provided user ID token.");},this);qb.forEach(function(b){if(b.isMasterTokenBound() && (!tb || !b.isBoundTo(tb)))throw new xb("Master token bound peer service tokens must be bound to the provided peer master token.");if(b.isUserIdTokenBound() && (!nb || !b.isBoundTo(nb)))throw new xb("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(Ua){q=Ua.customer;Ab=Ua.messageCryptoContext;zb=ca(ra,Ab,q,ea,ka,ta,Ga,Wa,La,Za,cb,Ya,kb,nb,qb,Da,Ia,Ma,Ua.headerdata,Ua.signature);Object.defineProperties(this,zb);return this;}q=cb?cb.customer:null;zb={};ta && (zb.sender=ta);zb.messageid=Ga;"number" === typeof Da && (zb.nonreplayableid=Da);zb.renewable=Ia;Ma && (zb.capabilities=Ma);0 < Wa.length && (zb.keyrequestdata=Wa);La && (zb.keyresponsedata=La);Za && (zb.userauthdata=Za);cb && (zb.useridtoken=cb);0 < Ya.length && (zb.servicetokens=Ya);kb && (zb.peermastertoken=kb);nb && (zb.peeruseridtoken=nb);0 < qb.length && (zb.peerservicetokens=qb);try{Ab=Z(ra,ea,ka);}catch(b){throw (b instanceof gb && (b.setEntity(ka),b.setEntity(ea),b.setUser(cb),b.setUser(Za),b.setMessageId(Ga)),b);}zb=Zb(JSON.stringify(zb),Mb);Ab.encrypt(zb,{result:function(b){Pa(Oa,function(){Ab.sign(b,{result:function(a){Pa(Oa,function(){var c;c=ca(ra,Ab,q,ea,ka,ta,Ga,Wa,La,Za,cb,Ya,kb,nb,qb,Da,Ia,Ma,b,a);Object.defineProperties(this,c);return this;},Va);},error:function(a){Pa(Oa,function(){a instanceof gb && (a.setEntity(ka),a.setEntity(ea),a.setUser(cb),a.setUser(Za),a.setMessageId(Ga));throw a;},Va);}});},Va);},error:function(b){Pa(Oa,function(){b instanceof gb && (b.setEntity(ka),b.setEntity(ea),b.setUser(cb),b.setUser(Za),b.setMessageId(Ga));throw b;},Va);}});},Va);}Va=this;Pa(Oa,function(){Ua?Sa(Ua.sender):ka?ra.getEntityAuthenticationData(null,{result:function(ta){ta=ta.getIdentity();Sa(ta);},error:Oa.error}):Sa(null);},Va);},isEncrypting:function(){return this.masterToken || ud(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var ra;ra={};this.masterToken?ra[ze]=this.masterToken:ra[Jd]=this.entityAuthenticationData;ra[Ae]=Eb(this.headerdata);ra[Kd]=Eb(this.signature);return ra;}});Fe=function(ra,ea,ka,na,Ca,Ua){new Yc(ra,ea,ka,na,Ca,null,Ua);};Ld=function(ra,ea,ka,na,Ca,Ua,Oa){Pa(Oa,function(){var Sa,Va;ka=na?null:ka;if(!ka && !na)throw new Ib(Y.MESSAGE_ENTITY_NOT_FOUND);Sa=ea;try{ea=Hb(Sa);}catch(ta){throw new Ib(Y.HEADER_DATA_INVALID,Sa,ta);}if(!ea || 0 == ea.length)throw new Ib(Y.HEADER_DATA_MISSING,Sa);try{Va=Z(ra,ka,na);}catch(ta){throw (ta instanceof gb && (ta.setEntity(na),ta.setEntity(ka)),ta);}aa(ra,Va,ea,Ca,{result:function(ta){Pa(Oa,function(){var Da,Ia,Ma,Ga,Wa;try{Da=JSON.parse(ta);}catch(La){if(La instanceof SyntaxError)throw new Db(Y.JSON_PARSE_ERROR,"headerdata " + ta,La).setEntity(na).setEntity(ka);throw La;}Ia=parseInt(Da.messageid);if(!Ia || Ia != Ia)throw new Db(Y.JSON_PARSE_ERROR,"headerdata " + ta).setEntity(na).setEntity(ka);if(0 > Ia || Ia > Lb)throw new Ib(Y.MESSAGE_ID_OUT_OF_RANGE,"headerdata " + ta).setEntity(na).setEntity(ka);Ma=na?Da.sender:null;if(na && (!Ma || "string" !== typeof Ma))throw new Db(Y.JSON_PARSE_ERROR,"headerdata " + ta).setEntity(na).setEntity(ka).setMessageId(Ia);Ga=Da.keyresponsedata;if(Ga && "object" !== typeof Ga)throw new Db(Y.JSON_PARSE_ERROR,"headerdata " + ta).setEntity(na).setEntity(ka).setMessageId(Ia);Wa=Oa;Oa={result:function(La){Wa.result(La);},error:function(La){La instanceof gb && (La.setEntity(na),La.setEntity(ka),La.setMessageId(Ia));Wa.error(La);}};ha(ra,Ga,{result:function(La){Pa(Oa,function(){var Za,cb;Za=!ra.isPeerToPeer() && La?La.masterToken:na;cb=Da.useridtoken;if(cb && "object" !== typeof cb)throw new Db(Y.JSON_PARSE_ERROR,"headerdata " + ta);ba(ra,cb,Za,{result:function(Ya){Pa(Oa,function(){var kb;kb=Da.userauthdata;if(kb && "object" !== typeof kb)throw new Db(Y.JSON_PARSE_ERROR,"headerdata " + ta);ma(ra,Za,kb,{result:function(nb){Pa(Oa,function(){var qb,sb,tb;if(nb){qb=nb.scheme;sb=ra.getUserAuthenticationFactory(qb);if(!sb)throw new uc(Y.USERAUTH_FACTORY_NOT_FOUND,qb).setUser(Ya).setUser(nb);qb=na?na.identity:ka.getIdentity();tb=sb.authenticate(ra,qb,nb,Ya);}else tb=Ya?Ya.customer:null;Ba(ra,Da.servicetokens,Za,Ya,Ua,ta,{result:function(Ab){Pa(Oa,function(){var zb,q,b,a;zb=Da.nonreplayableid !== Bb?parseInt(Da.nonreplayableid):null;q=Da.renewable;if(zb != zb || "boolean" !== typeof q)throw new Db(Y.JSON_PARSE_ERROR,"headerdata " + ta);if(0 > zb || zb > Lb)throw new Ib(Y.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata " + ta);b=null;a=Da.capabilities;if(a){if("object" !== typeof a)throw new Db(Y.JSON_PARSE_ERROR,"headerdata " + ta);b=Ee(a);}oa(ra,Da,ta,{result:function(c){va(ra,Da,La,Ua,ta,{result:function(k){Pa(Oa,function(){var g,f,d,h;g=k.peerMasterToken;f=k.peerUserIdToken;d=k.peerServiceTokens;h=new ua(Ia,zb,q,b,c,La,nb,Ya,Ab);g=new Ea(g,f,d);f=new ja(tb,Ma,Va,ea,Ca);new Yc(ra,ka,na,h,g,f,Oa);});},error:Oa.error});},error:function(c){Pa(Oa,function(){c instanceof gb && (c.setUser(Ya),c.setUser(nb));throw c;});}});});},error:function(Ab){Pa(Oa,function(){Ab instanceof gb && (Ab.setEntity(Za),Ab.setUser(Ya),Ab.setUser(nb));throw Ab;});}});});},error:Oa.error});});},error:Oa.error});});},error:Oa.error});});},error:Oa.error});});};})();(function(){function ja(ca,Z){this.payload=ca;this.signature=Z;}Nd=Cb.Class.create({init:function(ca,Z,aa,ha,ba,ma,Ba,va){var oa;oa=this;Pa(va,function(){var ua,Ea;if(0 > ca || ca > Lb)throw new xb("Sequence number " + ca + " is outside the valid range.");if(0 > Z || Z > Lb)throw new xb("Message ID " + Z + " is outside the valid range.");if(Ba)return (Object.defineProperties(this,{sequenceNumber:{value:ca,writable:!1,configurable:!1},messageId:{value:Z,writable:!1,configurable:!1},compressionAlgo:{value:ha,writable:!1,configurable:!1},data:{value:ba,writable:!1,configurable:!1},endofmsg:{value:aa,writable:!1,enumerable:!1,configurable:!1},payload:{value:Ba.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ba.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(ha){ua=Od(ha,ba);ua || (ha=null,ua=ba);}else (ha=null,ua=ba);Ea={};Ea.sequencenumber=ca;Ea.messageid=Z;aa && (Ea.endofmsg=aa);ha && (Ea.compressionalgo=ha);Ea.data=Eb(ua);ua=Zb(JSON.stringify(Ea),Mb);ma.encrypt(ua,{result:function(ra){Pa(va,function(){ma.sign(ra,{result:function(ea){Pa(va,function(){Object.defineProperties(this,{sequenceNumber:{value:ca,writable:!1,configurable:!1},messageId:{value:Z,writable:!1,configurable:!1},compressionAlgo:{value:ha,writable:!1,configurable:!1},data:{value:ba,writable:!1,configurable:!1},endofmsg:{value:aa,writable:!1,enumerable:!1,configurable:!1},payload:{value:ra,writable:!1,enumerable:!1,configurable:!1},signature:{value:ea,writable:!1,enumerable:!1,configurable:!1}});return this;},oa);},error:function(ea){va.error(ea);}});},oa);},error:function(ra){va.error(ra);}});},oa);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var ca;ca={};ca.payload=Eb(this.payload);ca.signature=Eb(this.signature);return ca;}});Je=function(ca,Z,aa,ha,ba,ma,Ba){new Nd(ca,Z,aa,ha,ba,ma,null,Ba);};Ke=function(ca,Z,aa){Pa(aa,function(){var ha,ba,ma,Ba;ha=ca.payload;ba=ca.signature;if(!ha || "string" !== typeof ha || "string" !== typeof ba)throw new Db(Y.JSON_PARSE_ERROR,"payload chunk " + JSON.stringify(ca));try{ma=Hb(ha);}catch(va){throw new Ib(Y.PAYLOAD_INVALID,"payload chunk " + JSON.stringify(ca),va);}try{Ba=Hb(ba);}catch(va){throw new Ib(Y.PAYLOAD_SIGNATURE_INVALID,"payload chunk " + JSON.stringify(ca),va);}Z.verify(ma,Ba,{result:function(va){Pa(aa,function(){if(!va)throw new wb(Y.PAYLOAD_VERIFICATION_FAILED);Z.decrypt(ma,{result:function(oa){Pa(aa,function(){var ua,Ea,ra,ea,ka,na,Ca;ua=Yb(oa,Mb);try{Ea=JSON.parse(ua);}catch(Ua){if(Ua instanceof SyntaxError)throw new Db(Y.JSON_PARSE_ERROR,"payload chunk payload " + ua,Ua);throw Ua;}ra=parseInt(Ea.sequencenumber);ea=parseInt(Ea.messageid);ka=Ea.endofmsg;na=Ea.compressionalgo;Ea=Ea.data;if(!ra || ra != ra || !ea || ea != ea || ka && "boolean" !== typeof ka || na && "string" !== typeof na || "string" !== typeof Ea)throw new Db(Y.JSON_PARSE_ERROR,"payload chunk payload " + ua);if(0 > ra || ra > Lb)throw new gb(Y.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload " + ua);if(0 > ea || ea > Lb)throw new gb(Y.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload " + ua);ka || (ka=!1);if(na && !Cc[na])throw new Ib(Y.UNIDENTIFIED_COMPRESSION,na);try{Ca=Hb(Ea);}catch(Ua){throw new Ib(Y.PAYLOAD_DATA_CORRUPT,Ea,Ua);}if(Ca && 0 != Ca.length)ua=na?pd(na,Ca):Ca;else {if(0 < Ea.length)throw new Ib(Y.PAYLOAD_DATA_CORRUPT,Ea);if(ka)ua=new Uint8Array(0);else throw new Ib(Y.PAYLOAD_DATA_MISSING,Ea);}Ca=new ja(ma,Ba);new Nd(ra,ea,ka,na,ua,Z,Ca,aa);});},error:function(oa){aa.error(oa);}});});},error:function(va){aa.error(va);}});});};})();(function(){var aa,ha;function ja(ba,ma,Ba,va,oa){var Ea,ra,ea,ka,na;function ua(){Pa(oa,function(){var Ca,Ua;ra >= ma.length && (ra=0,++Ea);if(Ea >= ea.length){if(ka)throw ka;throw new Nb(Y.KEYX_FACTORY_NOT_FOUND,JSON.stringify(ma));}Ca=ea[Ea];Ua=ma[ra];Ca.scheme != Ua.keyExchangeScheme?(++ra,ua()):Ca.generateResponse(ba,Ua,na,{result:function(Oa){oa.result(Oa);},error:function(Oa){Pa(oa,function(){if(!(Oa instanceof gb))throw Oa;ka=Oa;++ra;ua();});}});});}Ea=0;ra=0;ea=ba.getKeyExchangeFactories();na=Ba?Ba:va;ua();}function ca(ba,ma,Ba,va,oa){Pa(oa,function(){var ua;ua=ma.keyRequestData;if(ma.isRenewable() && 0 < ua.length)va?va.isRenewable() || va.isExpired()?ja(ba,ua,va,null,oa):ba.getTokenFactory().isNewestMasterToken(ba,va,{result:function(Ea){Pa(oa,function(){if(Ea)return null;ja(ba,ua,va,null,oa);});},error:oa.error}):ja(ba,ua,null,Ba.getIdentity(),oa);else return null;});}function Z(ba,ma,Ba,va){Pa(va,function(){var oa,ua,Ea,ra;oa=ma.userIdToken;ua=ma.userAuthenticationData;Ea=ma.messageId;if(oa && oa.isVerified()){if(oa.isRenewable() && ma.isRenewable() || oa.isExpired() || !oa.isBoundTo(Ba)){ua=ba.getTokenFactory();ua.renewUserIdToken(ba,oa,Ba,va);return;}}else if(ma.isRenewable() && Ba && ua){oa=ma.customer;if(!oa){oa=ua.scheme;ra=ba.getUserAuthenticationFactory(oa);if(!ra)throw new uc(Y.USERAUTH_FACTORY_NOT_FOUND,oa).setEntity(Ba).setUser(ua).setMessageId(Ea);oa=ra.authenticate(ba,Ba.identity,ua,null);}ua=ba.getTokenFactory();ua.createUserIdToken(ba,oa,Ba,va);return;}return oa;});}aa=new Uint8Array(0);ha=Fc=function(ba){if(0 > ba || ba > Lb)throw new xb("Message ID " + ba + " is outside the valid range.");return ba == Lb?0:ba + 1;};Nc=function(ba){if(0 > ba || ba > Lb)throw new xb("Message ID " + ba + " is outside the valid range.");return 0 == ba?Lb:ba - 1;};Gc=function(ba,ma,Ba,va,oa){Pa(oa,function(){var ua;if(va == Bb || null == va){ua=ba.getRandom();do {va=ua.nextLong();}while(0 > va || va > Lb);}else if(0 > va || va > Lb)throw new xb("Message ID " + va + " is outside the valid range.");ba.getEntityAuthenticationData(null,{result:function(Ea){Pa(oa,function(){var ra;ra=ba.getMessageCapabilities();return new qd(ba,va,ra,Ea,ma,Ba,null,null,null,null,null);});},error:function(Ea){oa.error(Ea);}});});};Le=function(ba,ma,Ba){Pa(Ba,function(){var oa,ua,Ea,ra,ea,ka;function va(na){Pa(Ba,function(){na instanceof gb && (na.setEntity(oa),na.setEntity(ua),na.setUser(Ea),na.setUser(ra),na.setMessageId(ea));throw na;});}oa=ma.masterToken;ua=ma.entityAuthenticationData;Ea=ma.userIdToken;ra=ma.userAuthenticationData;ea=ma.messageId;ka=ha(ea);ca(ba,ma,ua,oa,{result:function(na){Pa(Ba,function(){var Ca;Ca=na?na.keyResponseData.masterToken:Ca=oa;ba.getEntityAuthenticationData(null,{result:function(Ua){Pa(Ba,function(){Z(ba,ma,Ca,{result:function(Oa){Pa(Ba,function(){var Sa,Va,ta;Ea=Oa;Sa=Md(ma.messageCapabilities,ba.getMessageCapabilities());Va=ma.keyResponseData;ta=ma.serviceTokens;return ba.isPeerToPeer()?new qd(ba,ka,Sa,Ua,Va?Va.masterToken:ma.peerMasterToken,ma.peerUserIdToken,ma.peerServiceTokens,oa,Ea,ta,na):new qd(ba,ka,Sa,Ua,Va?Va.masterToken:oa,Ea,ta,null,null,null,na);});},error:va});});},error:va});});},error:va});});};Me=function(ba,ma,Ba,va,oa){Pa(oa,function(){ba.getEntityAuthenticationData(null,{result:function(ua){Pa(oa,function(){var Ea,ra;if(ma != Bb && null != ma)Ea=ha(ma);else {ra=ba.getRandom();do {Ea=ra.nextInt();}while(0 > Ea || Ea > Lb);}De(ba,ua,Ea,Ba.responseCode,Ba.internalCode,Ba.message,va,oa);});},error:function(ua){oa.error(ua);}});});};qd=Cb.Class.create({init:function(ba,ma,Ba,va,oa,ua,Ea,ra,ea,ka,na){var Ca,Ua,Oa,Sa,Va;if(!ba.isPeerToPeer() && (ra || ea))throw new xb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");Ca=na && !ba.isPeerToPeer()?na.keyResponseData.masterToken:oa;Ua=[];Ca=ba.getMslStore().getServiceTokens(Ca,ua);Ua.push.apply(Ua,Ca);Ea && Ea.forEach(function(ta){Ua.push(ta);},this);Oa=[];if(ba.isPeerToPeer()){Sa=ra;Va=ea;Ea=na?na.keyResponseData.masterToken:ra;ea=ba.getMslStore().getServiceTokens(Ea,ea);Oa.push.apply(Oa,ea);ka && ka.forEach(function(ta){Oa.push(ta);},this);}Object.defineProperties(this,{_ctx:{value:ba,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:va,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:oa,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:ma,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:Ba,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:na,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:ua,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:Ua,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:Sa,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:Va,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:Oa,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken || ud(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || ud(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken || Wd(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || Wd(this._entityAuthData.scheme);},getHeader:function(ba){Pa(ba,function(){var ma,Ba,va;ma=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;Ba=[];for(va in this._keyRequestData){Ba.push(this._keyRequestData[va]);}if(this._nonReplayable){if(!this._masterToken)throw new Ib(Y.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);va=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else va=null;ma=new Ge(this._messageId,va,this._renewable,this._capabilities,Ba,ma,this._userAuthData,this._userIdToken,this._serviceTokens);Ba=new He(this._peerMasterToken,this._peerUserIdToken,this._peerServiceTokens);Fe(this._ctx,this._entityAuthData,this._masterToken,ma,Ba,ba);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(ba){this._nonReplayable=ba;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(ba){this._renewable=ba;return this;},setAuthTokens:function(ba,ma){var Ba,oa;if(ma && !ma.isBoundTo(ba))throw new xb("User ID token must be bound to master token.");if(this._keyExchangeData && !this._ctx.isPeerToPeer())throw new xb("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{Ba=this._ctx.getMslStore().getServiceTokens(ba,ma);}catch(ua){if(ua instanceof gb)throw new xb("Invalid master token and user ID token combination despite checking above.",ua);throw ua;}for(var va=this._serviceTokens.length - 1;0 <= va;--va){oa=this._serviceTokens[va];(oa.isUserIdTokenBound() && !oa.isBoundTo(ma) || oa.isMasterTokenBound() && !oa.isBoundTo(ba)) && this._serviceTokens.splice(va,1);}Ba.forEach(function(ua){this.excludeServiceToken(ua.name,ua.isMasterTokenBound(),ua.isUserIdTokenBound());this._serviceTokens.push(ua);},this);this._masterToken=ba;this._userIdToken=ma;},setUserAuthenticationData:function(ba){this._userAuthData=ba;return this;},setCustomer:function(ba,ma){var Ba;Ba=this;Pa(ma,function(){var va;if(!this._ctx.isPeerToPeer() && null != this._userIdToken || this._ctx.isPeerToPeer() && null != this._peerUserIdToken)throw new xb("User ID token or peer user ID token already exists for the remote user.");va=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!va)throw new xb("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,ba,va,{result:function(oa){Pa(ma,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=oa:(this._userIdToken=oa,this._userAuthData=null);return !0;},Ba);},error:function(oa){ma.error(oa);}});},Ba);},addKeyRequestData:function(ba){this._keyRequestData[ba.uniqueKey()]=ba;return this;},removeKeyRequestData:function(ba){delete this._keyRequestData[ba.uniqueKey()];return this;},addServiceToken:function(ba){var ma;ma=this._keyExchangeData && !this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(ba.isMasterTokenBound() && !ba.isBoundTo(ma))throw new Ib(Y.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(ba) + "; mt " + JSON.stringify(ma)).setEntity(ma);if(ba.isUserIdTokenBound() && !ba.isBoundTo(this._userIdToken))throw new Ib(Y.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(ba) + "; uit " + JSON.stringify(this._userIdToken)).setEntity(ma).setUser(this._userIdToken);this.excludeServiceToken(ba.name,ba.isMasterTokenBound(),ba.isUserIdTokenBound());this._serviceTokens.push(ba);return this;},addServiceTokenIfAbsent:function(ba){var Ba;for(var ma=this._serviceTokens.length - 1;0 <= ma;--ma){Ba=this._serviceTokens[ma];if(Ba.name == ba.name && Ba.isMasterTokenBound() == ba.isMasterTokenBound() && Ba.isUserIdTokenBound() == ba.isUserIdTokenBound())return this;}this.addServiceToken(ba);return this;},excludeServiceToken:function(){var ba,ma,Ba,oa;if(1 == arguments.length){ba=arguments[0];ma=ba.name;Ba=ba.isMasterTokenBound();ba=ba.isUserIdTokenBound();}else (arguments.length=3,ma=arguments[0],Ba=arguments[1],ba=arguments[2]);for(var va=this._serviceTokens.length - 1;0 <= va;--va){oa=this._serviceTokens[va];oa.name == ma && oa.isMasterTokenBound() == Ba && oa.isUserIdTokenBound() == ba && this._serviceTokens.splice(va,1);}return this;},deleteServiceToken:function(){var ba,ma,Ba,va;if(2 == arguments.length){ba=arguments[0];ma=ba.name;ba.isMasterTokenBound();ba.isUserIdTokenBound();Ba=arguments[1];}else (arguments.length=4,ma=arguments[0],Ba=arguments[3]);va=this;Pa(Ba,function(){var oa,ua;oa=originalToken.isMasterTokenBound()?this._masterToken:null;ua=originalToken.isUserIdTokenBound()?this._userIdToken:null;sc(this._ctx,ma,aa,oa,ua,!1,null,new Mc(),{result:function(Ea){Pa(Ba,function(){return this.addServiceToken(Ea);},va);},error:function(Ea){Ea instanceof gb && (Ea=new xb("Failed to create and add empty service token to message.",Ea));Ba.error(Ea);}});},va);},getServiceTokens:function(){var ba;ba=[];ba.push.apply(ba,this._serviceTokens);return ba;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(ba,ma){var Ba,oa;if(!this._ctx.isPeerToPeer())throw new xb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(ma && !ba)throw new xb("Peer master token cannot be null when setting peer user ID token.");if(ma && !ma.isBoundTo(ba))throw new Ib(Y.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit " + ma + "; mt " + ba).setEntity(ba).setUser(ma);try{Ba=this._ctx.getMslStore().getServiceTokens(ba,ma);}catch(ua){if(ua instanceof gb)throw new xb("Invalid peer master token and user ID token combination despite proper check.",ua);throw ua;}for(var va=this._peerServiceTokens.length - 1;0 <= va;--va){oa=this._peerServiceTokens[va];(oa.isUserIdTokenBound() && !oa.isBoundTo(ma) || oa.isMasterTokenBound() && !oa.isBoundTo(ba)) && this._peerServiceTokens.slice(va,1);}Ba.forEach(function(ua){this.excludePeerServiceToken(ua.name,ua.isMasterTokenBound(),ua.isUserIdTokenBound());this._peerServiceTokens.push(ua);},this);this._peerUserIdToken=ma;this._peerMasterToken=ba;return this;},addPeerServiceToken:function(ba){if(!this._ctx.isPeerToPeer())throw new xb("Cannot set peer service tokens when not in peer-to-peer mode.");if(ba.isMasterTokenBound() && !ba.isBoundTo(this._peerMasterToken))throw new Ib(Y.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(ba) + "; mt " + JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(ba.isUserIdTokenBound() && !ba.isBoundTo(this._peerUserIdToken))throw new Ib(Y.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(ba) + "; uit " + JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this.excludePeerServiceToken(ba.name,ba.isMasterTokenBound(),ba.isUserIdTokenBound());this._peerServiceTokens.push(ba);return this;},addPeerServiceTokenIfAbsent:function(ba){var Ba;for(var ma=this._peerServiceTokens.length - 1;0 <= ma;--ma){Ba=this._peerServiceTokens[ma];if(Ba.name == ba.name && Ba.isMasterTokenBound() == ba.isMasterTokenBound() && Ba.isUserIdTokenBound() == ba.isUserIdTokenBound())return this;}this.addPeerServiceToken(ba);return this;},excludePeerServiceToken:function(){var ba,ma,Ba,oa;if(1 == arguments.length){ba=arguments[0];ma=ba.name;Ba=ba.isMasterTokenBound();ba=ba.isUserIdTokenBound();}else (arguments.length=3,ma=arguments[0],Ba=arguments[1],ba=arguments[2]);for(var va=this._peerServiceTokens.length - 1;0 <= va;--va){oa=this._peerServiceTokens[va];oa.name == ma && oa.isMasterTokenBound() == Ba && oa.isUserIdTokenBound() == ba && this._peerServiceTokens.splice(va,1);}return this;},deletePeerServiceToken:function(){var ba,ma,Ba,va,oa,ua;if(2 == arguments.length){ba=arguments[0];ma=ba.name;Ba=ba.isMasterTokenBound();va=ba.isUserIdTokenBound();oa=arguments[1];}else (arguments.length=4,ma=arguments[0],Ba=arguments[1],va=arguments[2],oa=arguments[3]);ua=this;Pa(oa,function(){sc(this._ctx,ma,aa,Ba?this._peerMasterToken:null,va?this._peerUserIdToken:null,!1,null,new Mc(),{result:function(Ea){Pa(oa,function(){return this.addPeerServiceToken(Ea);},ua);},error:function(Ea){Ea instanceof gb && (Ea=new xb("Failed to create and add empty peer service token to message.",Ea));oa.error(Ea);}});},ua);},getPeerServiceTokens:function(){var ba;ba=[];ba.push.apply(ba,this._peerServiceTokens);return ba;}});})();(function(){function ja(Z,aa){return aa[Z]?aa[Z]:aa[""];}function ca(Z){var aa;aa=Z.builder.getKeyExchangeData();return aa && !Z.ctx.isPeerToPeer()?aa.keyResponseData.masterToken:Z.builder.getMasterToken();}Ne=Cb.Class.create({init:function(Z,aa,ha){Z={ctx:{value:Z,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:aa.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:ha,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,Z);},isPrimaryMasterTokenAvailable:function(){return ca(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(Z){try{return (this.builder.addServiceToken(Z),!0);}catch(aa){if(aa instanceof Ib)return !1;throw aa;}},addPeerServiceToken:function(Z){try{return (this.builder.addPeerServiceToken(Z),!0);}catch(aa){if(aa instanceof Ib)return !1;throw aa;}},addUnboundPrimaryServiceToken:function(Z,aa,ha,ba,ma){var Ba;Ba=this;Pa(ma,function(){var va;va=ja(Z,this.cryptoContexts);if(!va)return !1;sc(this.ctx,Z,aa,null,null,ha,ba,va,{result:function(oa){Pa(ma,function(){try{this.builder.addServiceToken(oa);}catch(ua){if(ua instanceof Ib)throw new xb("Service token bound to incorrect authentication tokens despite being unbound.",ua);throw ua;}return !0;},Ba);},error:function(oa){ma.error(oa);}});},Ba);},addUnboundPeerServiceToken:function(Z,aa,ha,ba,ma){var Ba;Ba=this;Pa(ma,function(){var va;va=ja(Z,this.cryptoContexts);if(!va)return !1;sc(this.ctx,Z,aa,null,null,ha,ba,va,{result:function(oa){Pa(ma,function(){try{this.builder.addPeerServiceToken(oa);}catch(ua){if(ua instanceof Ib)throw new xb("Service token bound to incorrect authentication tokens despite being unbound.",ua);throw ua;}return !0;},Ba);},error:function(oa){ma.error(oa);}});},Ba);},addMasterBoundPrimaryServiceToken:function(Z,aa,ha,ba,ma){var Ba;Ba=this;Pa(ma,function(){var va,oa;va=ca(this);if(!va)return !1;oa=ja(Z,this.cryptoContexts);if(!oa)return !1;sc(this.ctx,Z,aa,va,null,ha,ba,oa,{result:function(ua){Pa(ma,function(){try{this.builder.addServiceToken(ua);}catch(Ea){if(Ea instanceof Ib)throw new xb("Service token bound to incorrect authentication tokens despite setting correct master token.",Ea);throw Ea;}return !0;},Ba);},error:function(ua){ma.error(ua);}});},Ba);},addMasterBoundPeerServiceToken:function(Z,aa,ha,ba,ma){var Ba;Ba=this;Pa(ma,function(){var va,oa;va=this.builder.getPeerMasterToken();if(!va)return !1;oa=ja(Z,this.cryptoContexts);if(!oa)return !1;sc(this.ctx,Z,aa,va,null,ha,ba,oa,{result:function(ua){Pa(ma,function(){try{this.builder.addPeerServiceToken(ua);}catch(Ea){if(Ea instanceof Ib)throw new xb("Service token bound to incorrect authentication tokens despite setting correct master token.",Ea);throw Ea;}return !0;},Ba);},error:function(ua){ma.error(ua);}});},Ba);},addUserBoundPrimaryServiceToken:function(Z,aa,ha,ba,ma){var Ba;Ba=this;Pa(ma,function(){var va,oa,ua;va=ca(this);if(!va)return !1;oa=this.builder.getUserIdToken();if(!oa)return !1;ua=ja(Z,this.cryptoContexts);if(!ua)return !1;sc(this.ctx,Z,aa,va,oa,ha,ba,ua,{result:function(Ea){Pa(ma,function(){try{this.builder.addServiceToken(Ea);}catch(ra){if(ra instanceof Ib)throw new xb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",ra);throw ra;}return !0;},Ba);},error:function(Ea){ma.error(Ea);}});},Ba);},addUserBoundPeerServiceToken:function(Z,aa,ha,ba,ma){var Ba;Ba=this;Pa(ma,function(){var va,oa,ua;va=this.builder.getPeerMasterToken();if(!va)return !1;oa=this.builder.getPeerUserIdToken();if(!oa)return !1;ua=ja(Z,this.cryptoContexts);if(!ua)return !1;sc(this.ctx,Z,aa,va,oa,ha,ba,ua,{result:function(Ea){Pa(ma,function(){try{this.builder.addPeerServiceToken(Ea);}catch(ra){if(ra instanceof Ib)throw new xb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",ra);throw ra;}return !0;},Ba);},error:function(Ea){ma.error(Ea);}});},Ba);},excludePrimaryServiceToken:function(){var Z,aa,ha,ba;if(1 == arguments.length){Z=arguments[0];aa=Z.name;ha=Z.isMasterTokenBound();ba=Z.isUserIdTokenBound();}else (arguments.length=3,aa=arguments[0],ha=arguments[1],ba=arguments[2]);for(var ma=this.builder.getServiceTokens(),Ba=0;Ba < ma.length;++Ba){if((Z=ma[Ba],Z.name == aa && Z.isMasterTokenBound() == ha && Z.isUserIdTokenBound() == ba))return (this.builder.excludeServiceToken(aa,ha,ba),!0);}return !1;},excludePeerServiceToken:function(){var Z,aa,ha,ba;if(1 == arguments.length){Z=arguments[0];aa=Z.name;ha=Z.isMasterTokenBound();ba=Z.isUserIdTokenBound();}else (arguments.length=3,aa=arguments[0],ha=arguments[1],ba=arguments[2]);for(var ma=this.builder.getPeerServiceTokens(),Ba=0;Ba < ma.length;++Ba){if((Z=ma[Ba],Z.name == aa && Z.isMasterTokenBound() == ha && Z.isUserIdTokenBound() == ba))return (this.builder.excludePeerServiceToken(aa,ha,ba),!0);}return !1;},deletePrimaryServiceToken:function(){var Z,aa,ha,ba,ma;if(2 == arguments.length){Z=arguments[0];aa=Z.name;ha=Z.isMasterTokenBound();ba=Z.isUserIdTokenBound();ma=arguments[1];}else 4 == arguments.length && (aa=arguments[0],ha=arguments[1],ba=arguments[2],ma=arguments[3]);Pa(ma,function(){var oa;for(var Ba=this.builder.getServiceTokens(),va=0;va < Ba.length;++va){oa=Ba[va];if(oa.name == aa && oa.isMasterTokenBound() == ha && oa.isUserIdTokenBound() == ba){this.builder.deleteServiceToken(aa,ha,ba,{result:function(){ma.result(!0);},error:function(ua){ma.error(ua);}});return;}}return !1;},this);},deletePeerServiceToken:function(){var Z,aa,ha,ba,ma;if(2 == arguments.length){Z=arguments[0];aa=Z.name;ha=Z.isMasterTokenBound();ba=Z.isUserIdTokenBound();ma=arguments[1];}else 4 == arguments.length && (aa=arguments[0],ha=arguments[1],ba=arguments[2],ma=arguments[3]);Pa(ma,function(){var oa;for(var Ba=this.builder.getPeerServiceTokens(),va=0;va < Ba.length;++va){oa=Ba[va];if(oa.name == aa && oa.isMasterTokenBound() == ha && oa.isUserIdTokenBound() == ba){this.builder.deletePeerServiceToken(aa,ha,ba,{result:function(){ma.result(!0);},error:function(ua){ma.error(ua);}});return;}}return !1;},this);}});})();(function(){function ja(ca,Z,aa,ha){Pa(ha,function(){var ma,Ba,va,oa,ua,Ea;function ba(){Pa(ha,function(){var ra;if(Ea >= aa.length){if(ua)throw ua;throw new Nb(Y.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(aa));}ra=aa[Ea];va != ra.keyExchangeScheme?(++Ea,ba()):oa.getCryptoContext(ca,ra,Ba,ma,{result:ha.result,error:function(ea){Pa(ha,function(){if(!(ea instanceof gb))throw ea;ua=ea;++Ea;ba();});}});});}ma=Z.masterToken;Ba=Z.keyResponseData;if(!Ba)return null;va=Ba.keyExchangeScheme;oa=ca.getKeyExchangeFactory(va);if(!oa)throw new Nb(Y.KEYX_FACTORY_NOT_FOUND,va);Ea=0;ba();});}Oe=Id.extend({init:function(ca,Z,aa,ha,ba,ma,Ba){var va;va=this;db(Ba,function(){var ka;function oa(){va._ready=!0;va._readyQueue.add(!0);}function ua(na,Ca){var Ua;try{Ua=Ca.masterToken;na.getTokenFactory().isMasterTokenRevoked(na,Ua,{result:function(Oa){Oa?(va._errored=new Sc(Oa,Ua).setUser(Ca.userIdToken).setUser(Ca.userAuthenticationData).setMessageId(Ca.messageId),oa()):Ea(na,Ca);},error:function(Oa){Oa instanceof gb && (Oa.setEntity(Ca.masterToken),Oa.setUser(Ca.userIdToken),Oa.setUser(Ca.userAuthenticationData),Oa.setMessageId(Ca.messageId));va._errored=Oa;oa();}});}catch(Oa){Oa instanceof gb && (Oa.setEntity(Ca.masterToken),Oa.setUser(Ca.userIdToken),Oa.setUser(Ca.userAuthenticationData),Oa.setMessageId(Ca.messageId));va._errored=Oa;oa();}}function Ea(na,Ca){var Ua,Oa;try{Ua=Ca.masterToken;Oa=Ca.userIdToken;Oa?na.getTokenFactory().isUserIdTokenRevoked(na,Ua,Oa,{result:function(Sa){Sa?(va._errored=new MslUserIdTokenException(Sa,Oa).setEntity(Ua).setUser(Oa).setMessageId(Ca.messageId),oa()):ra(na,Ca);},error:function(Sa){Sa instanceof gb && (Sa.setEntity(Ca.masterToken),Sa.setUser(Ca.userIdToken),Sa.setUser(Ca.userAuthenticationData),Sa.setMessageId(Ca.messageId));va._errored=Sa;oa();}}):ra(na,Ca);}catch(Sa){Sa instanceof gb && (Sa.setEntity(Ca.masterToken),Sa.setUser(Ca.userIdToken),Sa.setUser(Ca.userAuthenticationData),Sa.setMessageId(Ca.messageId));va._errored=Sa;oa();}}function ra(na,Ca){var Ua;try{Ua=Ca.masterToken;Ua.isExpired()?Ca.isRenewable() && 0 != Ca.keyRequestData.length?na.getTokenFactory().isMasterTokenRenewable(na,Ua,{result:function(Oa){Oa?(va._errored=new Ib(Oa,"Master token is expired and not renewable.").setEntity(Ua).setUser(Ca.userIdToken).setUser(Ca.userAuthenticationData).setMessageId(Ca.messageId),oa()):ea(na,Ca);},error:function(Oa){Oa instanceof gb && (Oa.setEntity(Ca.masterToken),Oa.setUser(Ca.userIdToken),Oa.setUser(Ca.userAuthenticationData),Oa.setMessageId(Ca.messageId));va._errored=Oa;oa();}}):(va._errored=new Ib(Y.MESSAGE_EXPIRED,JSON.stringify(Ca)).setEntity(Ua).setUser(Ca.userIdToken).setUser(Ca.userAuthenticationData).setMessageId(Ca.messageId),oa()):ea(na,Ca);}catch(Oa){Oa instanceof gb && (Oa.setEntity(Ca.masterToken),Oa.setUser(Ca.userIdToken),Oa.setUser(Ca.userAuthenticationData),Oa.setMessageId(Ca.messageId));va._errored=Oa;oa();}}function ea(na,Ca){var Ua,Oa;try{Ua=Ca.masterToken;Oa=Ca.nonReplayableId;"number" === typeof Oa?Ua?na.getTokenFactory().acceptNonReplayableId(na,Ua,Oa,{result:function(Sa){Sa || (va._errored=new Ib(Y.MESSAGE_REPLAYED,JSON.stringify(Ca)).setEntity(Ua).setUser(Ca.userIdToken).setUser(Ca.userAuthenticationData).setMessageId(Ca.messageId));oa();},error:function(Sa){Sa instanceof gb && (Sa.setEntity(Ua),Sa.setUser(Ca.userIdToken),Sa.setUser(Ca.userAuthenticationData),Sa.setMessageId(Ca.messageId));va._errored=Sa;oa();}}):(va._errored=new Ib(Y.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(Ca)).setEntity(Ca.entityAuthenticationData).setUser(Ca.userIdToken).setUser(Ca.userAuthenticationData).setMessageId(Ca.messageId),oa()):oa();}catch(Sa){Sa instanceof gb && (Sa.setEntity(Ca.masterToken),Sa.setEntity(Ca.entityAuthenticationData),Sa.setUser(Ca.userIdToken),Sa.setUser(Ca.userAuthenticationData),Sa.setMessageId(Ca.messageId));va._errored=Sa;oa();}}ka={_source:{value:Z,writable:!1,enumerable:!1,configurable:!1},_parser:{value:Bb,writable:!0,enumerable:!1,configurable:!1},_charset:{value:aa,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:ma,writable:!1,enumerable:!1,configurable:!1},_header:{value:Bb,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:Bb,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:Bb,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Qc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ka);pe(va._source,ma,{result:function(na){va._json=na;va._jsonIndex=0;null === va._json?(va._errored=new Db(Y.MESSAGE_DATA_MISSING),oa()):ye(ca,va._json[va._jsonIndex++],ba,{result:function(Ca){var Ua;va._header=Ca;if(va._header instanceof Ac)(va._keyxCryptoContext=null,va._cryptoContext=null,oa());else {Ua=va._header;ja(ca,Ua,ha,{result:function(Oa){var Sa;try{va._keyxCryptoContext=Oa;ca.isPeerToPeer() || !va._keyxCryptoContext?va._cryptoContext=Ua.cryptoContext:va._cryptoContext=va._keyxCryptoContext;try{Sa=Ua.masterToken;Sa && (ca.isPeerToPeer() || Sa.isVerified())?ua(ca,Ua):ea(ca,Ua);}catch(Va){Va instanceof gb && (Va.setEntity(Ua.masterToken),Va.setUser(Ua.userIdToken),Va.setUser(Ua.userAuthenticationData),Va.setMessageId(Ua.messageId));va._errored=Va;oa();}}catch(Va){Va instanceof gb && (Va.setEntity(Ua.masterToken),Va.setEntity(Ua.entityAuthenticationData),Va.setUser(Ua.userIdToken),Va.setUser(Ua.userAuthenticationData),Va.setMessageId(Ua.messageId));va._errored=Va;oa();}},error:function(Oa){Oa instanceof gb && (Oa.setEntity(Ua.masterToken),Oa.setEntity(Ua.entityAuthenticationData),Oa.setUser(Ua.userIdToken),Oa.setUser(Ua.userAuthenticationData),Oa.setMessageId(Ua.messageId));va._errored=Oa;oa();}});}},error:function(Ca){va._errored=Ca;oa();}});},timeout:function(){va._timedout=!0;oa();},error:function(na){va._errored=na;oa();}});return this;},va);},nextData:function(ca,Z){var aa;aa=this;db(Z,function(){var ba;function ha(ma){db(ma,function(){var Ba;if(this._jsonIndex < this._json.length)return Ba=this._json[this._jsonIndex++];pe(this._source,this._timeout,{result:function(va){va && va.length && 0 < va.length?(va.forEach(function(oa){this._json.push(oa);}),ha(ma)):(this._eom=!0,ma.result(null));},timeout:function(){ma.timeout();},error:function(va){ma.error(va);}});},aa);}ba=this.getMessageHeader();if(!ba)throw new xb("Read attempted with error message.");if(-1 != this._payloadIndex && this._payloadIndex < this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;ha({result:function(ma){db(Z,function(){if(!ma)return null;if("object" !== typeof ma)throw new Db(Y.MESSAGE_FORMAT_ERROR);Ke(ma,this._cryptoContext,{result:function(Ba){db(Z,function(){var va,oa,ua,Ea;va=ba.masterToken;oa=ba.entityAuthenticationData;ua=ba.userIdToken;Ea=ba.getUserAuthenticationData;if(Ba.messageId != ba.messageId)throw new Ib(Y.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid " + Ba.messageId + " header mid " + ba.messageId).setEntity(va).setEntity(oa).setUser(ua).setUser(Ea);if(Ba.sequenceNumber != this._payloadSequenceNumber)throw new Ib(Y.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno " + Ba.sequenceNumber + " expected seqno " + this._payloadSequenceNumber).setEntity(va).setEntity(oa).setUser(ua).setUser(Ea);++this._payloadSequenceNumber;Ba.isEndOfMessage() && (this._eom=!0);va=Ba.data;this._payloads.push(va);this._payloadIndex=-1;return va;},aa);},error:function(Ba){Ba instanceof SyntaxError && (Ba=new Db(Y.JSON_PARSE_ERROR,"payloadchunk",Ba));Z.error(Ba);}});},aa);},timeout:function(){Z.timeout();},error:function(ma){Z.error(ma);}});},aa);},isReady:function(ca,Z){var ha;function aa(){db(Z,function(){if(this._aborted)return !1;if(this._timedout)Z.timeout();else {if(this._errored)throw this._errored;return !0;}},ha);}ha=this;db(Z,function(){this._ready?aa():this._readyQueue.poll(ca,{result:function(ba){db(Z,function(){if(ba === Bb)return !1;aa();},ha);},timeout:function(){Z.timeout();},error:function(ba){Z.error(ba);}});},ha);},getMessageHeader:function(){return this._header instanceof Yc?this._header:null;},getErrorHeader:function(){return this._header instanceof Ac?this._header:null;},getIdentity:function(){var ca,Z;ca=this.getMessageHeader();if(ca){Z=ca.masterToken;return Z?Z.identity:ca.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var ca;ca=this.getMessageHeader();return ca?ca.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(ca){this._closeSource=ca;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource && this._source.close();},mark:function(){if(this._currentPayload){for(;0 < this._payloads.length && this._payloads[0] !== this._currentPayload;){this._payloads.shift();}this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else (this._payloadIndex=-1,this._payloads=[]);},markSupported:function(){return !0;},read:function(ca,Z,aa){var ba;function ha(){db(aa,function(){var Ba,va,oa,ua;function ma(Ea){db(Ea,function(){var ra,ea,ka;if(va && ua >= va.length)return va.subarray(0,ua);ra=-1;if(this._currentPayload){ea=this._currentPayload.length - this._payloadOffset;if(!va){ka=ea;if(-1 != this._payloadIndex)for(var na=this._payloadIndex;na < this._payloads.length;++na){ka+=this._payloads[na].length;}0 < ka && (va=new Uint8Array(ka));}ea=Math.min(ea,va?va.length - ua:0);0 < ea && (ra=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset + ea),va.set(ra,oa),ra=ea,oa+=ea,this._payloadOffset+=ea);}-1 != ra?(ua+=ra,ma(Ea)):this.nextData(Z,{result:function(Ca){db(Ea,function(){if(this._aborted)return va?va.subarray(0,ua):new Uint8Array(0);this._currentPayload=Ca;this._payloadOffset=0;if(this._currentPayload)ma(Ea);else return 0 == ua && 0 != ca?null:va?va.subarray(0,ua):new Uint8Array(0);},ba);},timeout:function(){Ea.timeout(va?va.subarray(0,ua):new Uint8Array(0));},error:function(Ca){db(Ea,function(){Ca instanceof gb && (Ca=new Sb("Error reading the payload chunk.",Ca));if(0 < ua)return (ba._readException=Ca,va.subarray(0,ua));throw Ca;},ba);}});},ba);}if(this._aborted)return new Uint8Array(0);if(this._timedout)aa.timeout(new Uint8Array(0));else {if(this._errored)throw this._errored;if(null != this._readException){Ba=this._readException;this._readException=null;throw Ba;}va=-1 != ca?new Uint8Array(ca):Bb;oa=0;ua=0;ma(aa);}},ba);}ba=this;db(aa,function(){if(-1 > ca)throw new RangeError("read requested with illegal length " + ca);this._ready?ha():this._readyQueue.poll(Z,{result:function(ma){ma === Bb?aa.result(!1):ha();},timeout:function(){aa.timeout(new Uint8Array(0));},error:function(ma){aa.error(ma);}});},ba);},reset:function(){this._payloadIndex=0;0 < this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});Pe=function(ca,Z,aa,ha,ba,ma,Ba){new Oe(ca,Z,aa,ha,ba,ma,Ba);};})();(function(){Qe=md.extend({init:function(ja,ca,Z,aa,ha,ba,ma){var Ba;Ba=this;db(ma,function(){var oa,ua,Ea;function va(){Ba._ready=!0;Ba._readyQueue.add(!0);}oa=Md(ja.getMessageCapabilities(),aa.messageCapabilities);ua=null;oa && (ua=ee(oa.compressionAlgorithms));oa={_destination:{value:ca,writable:!1,enumerable:!1,configurable:!1},_charset:{value:Z,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:oa,writable:!1,enumerable:!1,configurable:!1},_header:{value:aa,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:ua,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:ha,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Qc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,oa);Ea=Zb(JSON.stringify(aa),Z);ca.write(Ea,0,Ea.length,ba,{result:function(ra){try{Ba._aborted?va():ra < Ea.length?(Ba._timedout=!0,va()):ca.flush(ba,{result:function(ea){Ba._aborted || (Ba._timedout=!ea);va();},timeout:function(){Ba._timedout=!0;va();},error:function(ea){Ba._errored=ea;va();}});}catch(ea){Ba._errored=ea;va();}},timeout:function(){Ba._timedout=!0;va();},error:function(ra){Ba._errored=ra;va();}});return this;},Ba);},setCompressionAlgorithm:function(ja,ca,Z){var ha;function aa(){ha.flush(ca,{result:function(ba){db(Z,function(){if(!ba)throw new Sb("flush() aborted");this._compressionAlgo=ja;return !0;},ha);},timeout:function(){Z.timeout();},error:function(ba){Z.error(ba);}});}ha=this;db(Z,function(){if(!this.getMessageHeader())throw new xb("Cannot write payload data for an error message.");if(this._compressionAlgo == ja)return !0;if(ja){if(!this._capabilities)return !1;for(var ba=this._capabilities.compressionAlgorithms,ma=0;ma < ba.length;++ma){if(ba[ma] == ja){aa();return;}}return !1;}aa();},ha);},getMessageHeader:function(){return this._header instanceof Yc?this._header:null;},getErrorMessage:function(){return this._header instanceof Ac?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(ja,ca){var Z;Z=this;db(ca,function(){if(this._aborted)return !1;if(this._timedout)ca.timeout();else {if(this._errored)throw this._errored;if(this._closed)return !0;this._closed=!0;this.flush(ja,{result:function(aa){db(ca,function(){aa && (this._currentPayload=null);return aa;},Z);},timeout:function(){ca.timeout();},error:function(aa){ca.error(aa);}});}},Z);},flush:function(ja,ca){var aa;function Z(){db(ca,function(){var ha,ba,oa;if(this._aborted)return !1;if(this._timedout)ca.timeout();else {if(this._errored)throw this._errored;if(!this._currentPayload || !this._closed && 0 == this._currentPayload.length)return !0;ha=this.getMessageHeader();if(!ha)return !0;ba=0;this._currentPayload && this._currentPayload.forEach(function(ua){ba+=ua.length;});for(var ma=new Uint8Array(ba),Ba=0,va=0;this._currentPayload && va < this._currentPayload.length;++va){oa=this._currentPayload[va];ma.set(oa,Ba);Ba+=oa.length;}Je(this._payloadSequenceNumber,ha.messageId,this._closed,this._compressionAlgo,ma,this._cryptoContext,{result:function(ua){db(ca,function(){var Ea;this._payloads.push(ua);Ea=Zb(JSON.stringify(ua),this._charset);this._destination.write(Ea,0,Ea.length,ja,{result:function(ra){db(ca,function(){if(this._aborted)return !1;ra < ua.length?ca.timeout():this._destination.flush(ja,{result:function(ea){db(ca,function(){if(this._aborted)return !1;if(ea)return (++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0);ca.timeout();},aa);},timeout:function(){ca.timeout();},error:function(ea){ea instanceof gb && (ea=new Sb("Error encoding payload chunk [sequence number " + aa._payloadSequenceNumber + "].",ea));ca.error(ea);}});},aa);},timeout:function(ra){ca.timeout();},error:function(ra){ra instanceof gb && (ra=new Sb("Error encoding payload chunk [sequence number " + aa._payloadSequenceNumber + "].",ra));ca.error(ra);}});},aa);},error:function(ua){ua instanceof gb && (ua=new Sb("Error encoding payload chunk [sequence number " + aa._payloadSequenceNumber + "].",ua));ca.error(ua);}});}},aa);}aa=this;db(ca,function(){this._ready?Z():this._readyQueue.poll(ja,{result:function(ha){ha === Bb?ca.result(!1):Z();},timeout:function(){ca.timeout();},error:function(ha){ca.error(ha);}});},aa);},write:function(ja,ca,Z,aa,ha){db(ha,function(){var ba;if(this._aborted)return !1;if(this._timedout)ha.timeout();else {if(this._errored)throw this._errored;if(this._closed)throw new Sb("Message output stream already closed.");if(0 > ca)throw new RangeError("Offset cannot be negative.");if(0 > Z)throw new RangeError("Length cannot be negative.");if(ca + Z > ja.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new xb("Cannot write payload data for an error message.");ba=ja.subarray(ca,ca + Z);this._currentPayload.push(ba);return ba.length;}},this);}});rd=function(ja,ca,Z,aa,ha,ba,ma){new Qe(ja,ca,Z,aa,ha,ba,ma);};})();uf=Cb.Class.create({sentHeader:function(ja){},receivedHeader:function(ja){}});Object.freeze({USERDATA_REAUTH:Ja.USERDATA_REAUTH,SSOTOKEN_REJECTED:Ja.SSOTOKEN_REJECTED});Re=Cb.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(ja,ca,Z,aa){},getCustomer:function(){},getKeyRequestData:function(ja){},updateServiceTokens:function(ja,ca,Z){},write:function(ja,ca,Z){},getDebugContext:function(){}});Cb.Class.create({getInputStream:function(ja){},getOutputStream:function(ja){}});(function(){var Ba,va,oa,ua,Ea,ra,ea,ka,na,Ca,Ua,Oa;function ja(Sa){return function(){Sa.abort();};}function ca(Sa,Va){Object.defineProperties(this,{masterToken:{value:Sa,writable:!1,configurable:!1},ticket:{value:Va,writable:!1,configurable:!1}});}function Z(Sa,Va){Object.defineProperties(this,{builder:{value:Sa,writable:!1,configurable:!1},msgCtx:{value:Va,writable:!1,configurable:!1}});}function aa(Sa,Va,ta){Object.defineProperties(this,{requestHeader:{value:Sa,writable:!1,configurable:!1},payloads:{value:Va,writable:!1,configurable:!1},handshake:{value:ta,writable:!1,configurable:!1}});}function ha(Sa,Va){Object.defineProperties(this,{requestHeader:{value:Va.requestHeader,writable:!1,configurable:!1},payloads:{value:Va.payloads,writable:!1,configurable:!1},handshake:{value:Va.handshake,writable:!1,configurable:!1},response:{value:Sa,writable:!1,configurable:!1}});}function ba(Sa){for(;Sa;){if(Sa instanceof Wb)return !0;Sa=Sa instanceof gb?Sa.cause:Bb;}return !1;}function ma(Sa,Va,ta,Da,Ia,Ma,Ga,Wa,La){Me(Va,Da,Ia,Ma,{result:function(Za){ta && ta.sentHeader(Za);rd(Va,Ga,Mb,Za,null,null,Wa,{result:function(cb){Sa.setAbort(function(){cb.abort();});cb.close(Wa,{result:function(Ya){db(La,function(){if(!Ya)throw new Wb("sendError aborted.");return Ya;});},timeout:function(){La.timeout();},error:function(Ya){La.error(Ya);}});},timeout:function(){},error:function(cb){La.error(cb);}});},error:function(Za){La.error(Za);}});}Ba=md.extend({close:function(Sa,Va){Va.result(!0);},write:function(Sa,Va,ta,Da,Ia){Pa(Ia,function(){return Math.min(Sa.length - Va,ta);});},flush:function(Sa,Va){Va.result(!0);}});va=tf.extend({getUserMessage:function(Sa,Va){return null;}});oa=Re.extend({init:function(Sa){Object.defineProperties(this,{_appCtx:{value:Sa,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(Sa,Va,ta,Da){this._appCtx.getUserAuthData(Sa,Va,ta,Da);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(Sa){this._appCtx.getKeyRequestData(Sa);},updateServiceTokens:function(Sa,Va,ta){this._appCtx.updateServiceTokens(Sa,Va,ta);},write:function(Sa,Va,ta){this._appCtx.write(Sa,Va,ta);},getDebugContext:function(){return this._appCtx.getDebugContext();}});ua=oa.extend({init:function Da(Va,ta){Da.base.call(this,ta);Object.defineProperties(this,{_payloads:{value:Va,writable:!1,enumerable:!1,configurable:!1}});},write:function(Va,ta,Da){var Ma;function Ia(Ga,Wa){var La;if(Ga == Ma._payloads.length)Da.result(!0);else {La=Ma._payloads[Ga];Va.setCompressionAlgorithm(La.compressionAlgo,ta,{result:function(Za){Va.write(La.data,0,La.data.length,ta,{result:function(cb){db(Da,function(){La.isEndOfMessage()?Ia(Ga + 1,Wa):Va.flush(ta,{result:function(Ya){Da.result(Ya);},timeout:function(){Da.timeout();},error:function(Ya){Da.error(Ya);}});},Ma);},timeout:function(cb){Da.timeout(cb);},error:function(cb){Da.error(cb);}});},timeout:function(){},error:function(Za){Da.error(Za);}});}}Ma=this;Ia(0);}});Ea=oa.extend({init:function Da(ta){Da.base.call(this,ta);},isEncrypted:function(){return !1;},isNonReplayable:function(){return !1;},write:function(ta,Da,Ia){Ia.result(!0);}});ra={};ea=Cb.Class.create({init:function(ta){ta || (ta=new va());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:ta,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(ta){this._filterFactory=ta;},getNewestMasterToken:function(ta,Da,Ia,Ma){var Ga;Ga=this;db(Ma,function(){var Wa,La,Za,cb,Ya;Wa=Da.getMslStore();La=Wa.getMasterToken();if(!La)return null;Za=La.uniqueKey();cb=this._masterTokenLocks[Za];cb || (cb=new xd(),this._masterTokenLocks[Za]=cb);Ya=cb.readLock(Ia,{result:function(kb){db(Ma,function(){var nb;if(kb === Bb)throw new Wb("getNewestMasterToken aborted.");nb=Wa.getMasterToken();if(La.equals(nb))return new ca(La,kb);cb.unlock(kb);cb.writeLock(Ia,{result:function(qb){db(Ma,function(){if(qb === Bb)throw new Wb("getNewestMasterToken aborted.");delete this._masterTokenLocks[Za];cb.unlock(qb);return this.getNewestMasterToken(ta,Da,Ia,Ma);},Ga);},timeout:function(){Ma.timeout();},error:function(qb){Ma.error(qb);}});},Ga);},timeout:function(){Ma.timeout();},error:function(kb){Ma.error(kb);}});ta.setAbort(function(){Ya && (cb.cancel(Ya),Ya=Bb);});},Ga);},deleteMasterToken:function(ta,Da){var Ia;if(Da){Ia=this;setTimeout(function(){var Ma,Ga;Ma=Da.uniqueKey();Ga=Ia._masterTokenLocks[Ma];Ga || (Ga=new xd(),Ia._masterTokenLocks[Ma]=Ga);Ga.writeLock(-1,{result:function(Wa){ta.getMslStore().removeCryptoContext(Da);delete Ia._masterTokenLocks[Ma];Ga.unlock(Wa);},timeout:function(){throw new xb("Unexpected timeout received.");},error:function(Wa){throw Wa;}});},0);}},releaseMasterToken:function(ta){var Da;if(ta && ta.masterToken){Da=ta.masterToken.uniqueKey();Da=this._masterTokenLocks[Da];if(!Da)throw new xb("Master token read/write lock does not exist when it should.");Da.unlock(ta.ticket);}},updateOutgoingCryptoContexts:function(ta,Da,Ia){var Ma;Ma=ta.getMslStore();!ta.isPeerToPeer() && Ia && (Ma.setCryptoContext(Ia.keyResponseData.masterToken,Ia.cryptoContext),this.deleteMasterToken(ta,Da.masterToken));},updateIncomingCryptoContexts:function(ta,Da,Ia){var Ma,Ga;Ma=Ia.getMessageHeader();if(Ma){Ga=ta.getMslStore();if(Ma=Ma.keyResponseData)(Ga.setCryptoContext(Ma.masterToken,Ia.getKeyExchangeCryptoContext()),this.deleteMasterToken(ta,Da.masterToken));}},storeServiceTokens:function(ta,Da,Ia,Ma){var La,Za;ta=ta.getMslStore();for(var Ga=[],Wa=0;Wa < Ma.length;++Wa){La=Ma[Wa];if(!La.isBoundTo(Da) || !Da.isVerified()){Za=La.data;Za && 0 == Za.length?ta.removeServiceTokens(La.name,La.isMasterTokenBound()?Da:null,La.isUserIdTokenBound()?Ia:null):Ga.push(La);}}0 < Ga.length && ta.addServiceTokens(Ga);},buildRequest:function(ta,Da,Ia,Ma,Ga){var Wa;Wa=this;this.getNewestMasterToken(ta,Da,Ma,{result:function(La){Pa(Ga,function(){var Za,cb,Ya;Za=La && La.masterToken;if(Za){cb=Ia.getUserId();Ya=Da.getMslStore();cb=(cb=cb?Ya.getUserIdToken(cb):null) && cb.isBoundTo(Za)?cb:null;}else cb=null;Gc(Da,Za,cb,null,{result:function(kb){Pa(Ga,function(){kb.setNonReplayable(Ia.isNonReplayable());return {builder:kb,tokenTicket:La};});},error:function(kb){Pa(Ga,function(){this.releaseMasterToken(La);kb instanceof gb && (kb=new xb("User ID token not bound to master token despite internal check.",kb));throw kb;},Wa);}});},Wa);},timeout:function(){Ga.timeout();},error:function(La){Ga.error(La);}});},buildResponse:function(ta,Da,Ia,Ma,Ga,Wa){var La;La=this;Le(Da,Ma,{result:function(Za){db(Wa,function(){Za.setNonReplayable(Ia.isNonReplayable());if(!Da.isPeerToPeer() && !Ma.keyResponseData)return {builder:Za,tokenTicket:null};this.getNewestMasterToken(ta,Da,Ga,{result:function(cb){db(Wa,function(){var Ya,kb,nb;Ya=cb && cb.masterToken;if(Ya){kb=Ia.getUserId();nb=Da.getMslStore();kb=(kb=kb?nb.getUserIdToken(kb):null) && kb.isBoundTo(Ya)?kb:null;}else kb=null;Za.setAuthTokens(Ya,kb);return {builder:Za,tokenTicket:cb};},La);},timeout:function(){Wa.timeout();},error:function(cb){Wa.error(cb);}});},La);},error:function(Za){Wa.error(Za);}});},buildErrorResponse:function(ta,Da,Ia,Ma,Ga,Wa,La){var Ya;function Za(kb,nb){db(La,function(){var qb,sb;qb=Fc(Ga.messageId);sb=new ua(nb,Ia);Gc(Da,null,null,qb,{result:function(tb){db(La,function(){Da.isPeerToPeer() && tb.setPeerAuthTokens(kb.peerMasterToken,kb.peerUserIdToken);tb.setNonReplayable(sb.isNonReplayable());return {errorResult:new Z(tb,sb),tokenTicket:null};},Ya);},error:function(tb){La.error(tb);}});},Ya);}function cb(kb,nb){Ya.getNewestMasterToken(ta,Da,Wa,{result:function(qb){db(La,function(){var sb,tb,Ab;sb=qb && qb.masterToken;tb=Fc(Ga.messageId);Ab=new ua(nb,Ia);Gc(Da,sb,null,tb,{result:function(zb){db(La,function(){Da.isPeerToPeer() && zb.setPeerAuthTokens(kb.peerMasterToken,kb.peerUserIdToken);zb.setNonReplayable(Ab.isNonReplayable());return {errorResult:new Z(zb,Ab),tokenTicket:qb};},Ya);},error:function(zb){La.error(zb);}});},Ya);},timeout:function(){La.timeout();},error:function(qb){La.error(qb);}});}Ya=this;db(La,function(){var kb,nb,qb,sb;kb=Ma.requestHeader;nb=Ma.payloads;qb=Ga.errorCode;switch(qb){case Ja.ENTITYDATA_REAUTH:case Ja.ENTITY_REAUTH:Da.getEntityAuthenticationData(qb,{result:function(tb){db(La,function(){if(!tb)return null;Za(kb,nb);},Ya);},error:function(tb){La.error(tb);}});break;case Ja.USERDATA_REAUTH:case Ja.SSOTOKEN_REJECTED:Ia.getUserAuthData(qb,!1,!0,{result:function(tb){db(La,function(){if(!tb)return null;cb(kb,nb);},Ya);},error:function(tb){La.error(tb);}});break;case Ja.USER_REAUTH:cb(kb,nb);break;case Ja.KEYX_REQUIRED:qb=Fc(Ga.messageId);sb=new ua(nb,Ia);Gc(Da,null,null,qb,{result:function(tb){db(La,function(){Da.isPeerToPeer() && tb.setPeerAuthTokens(kb.peerMasterToken,kb.peerUserIdToken);tb.setRenewable(!0);tb.setNonReplayable(sb.isNonReplayable());return {errorResult:new Z(tb,sb),tokenTicket:null};},Ya);},error:function(tb){La.error(tb);}});break;case Ja.EXPIRED:this.getNewestMasterToken(ta,Da,Wa,{result:function(tb){db(La,function(){var Ab,zb,q,b;Ab=tb && tb.masterToken;zb=kb.userIdToken;q=Fc(Ga.messageId);b=new ua(nb,Ia);Gc(Da,Ab,zb,q,{result:function(a){db(La,function(){Da.isPeerToPeer() && a.setPeerAuthTokens(kb.peerMasterToken,kb.peerUserIdToken);kb.masterToken.equals(Ab) && a.setRenewable(!0);a.setNonReplayable(b.isNonReplayable());return {errorResult:new Z(a,b),tokenTicket:tb};},Ya);},error:function(a){La.error(a);}},Ya);},Ya);},timeout:function(){La.timeout();},error:function(tb){La.error(tb);}});break;case Ja.REPLAYED:this.getNewestMasterToken(ta,Da,Wa,{result:function(tb){db(La,function(){var Ab,zb,q,b;Ab=tb && tb.masterToken;zb=kb.userIdToken;q=Fc(Ga.messageId);b=new ua(nb,Ia);Gc(Da,Ab,zb,q,{result:function(a){db(La,function(){Da.isPeerToPeer() && a.setPeerAuthTokens(kb.peerMasterToken,kb.peerUserIdToken);kb.masterToken.equals(Ab)?(a.setRenewable(!0),a.setNonReplayable(!1)):a.setNonReplayable(b.isNonReplayable());return {errorResult:new Z(a,b),tokenTicket:tb};},Ya);},error:function(a){La.error(a);}});},Ya);},timeout:function(){La.timeout();},error:function(tb){La.error(tb);}});break;default:return null;}},Ya);},cleanupContext:function(ta,Da,Ia){switch(Ia.errorCode){case Ja.ENTITY_REAUTH:this.deleteMasterToken(ta,Da.masterToken);break;case Ja.USER_REAUTH:(Ia=Da.userIdToken,Da.masterToken && Ia && ta.getMslStore().removeUserIdToken(Ia));}},send:function(ta,Da,Ia,Ma,Ga,Wa,La){var qb;function Za(sb,tb,Ab){db(La,function(){var zb;zb=Ga.getPeerUserIdToken();!Da.isPeerToPeer() && !tb || Da.isPeerToPeer() && !zb?(zb=Ia.getCustomer())?Ga.setCustomer(zb,{result:function(q){db(La,function(){tb=Ga.getUserIdToken();cb(sb,tb,Ab);},qb);},error:function(q){La.error(q);}}):cb(sb,tb,Ab):cb(sb,tb,Ab);},qb);}function cb(sb,tb,Ab){db(La,function(){var zb,q;zb=!Ab && (!Ia.isEncrypted() || Ga.willEncryptPayloads()) && (!Ia.isIntegrityProtected() || Ga.willIntegrityProtectPayloads()) && (!Ia.isNonReplayable() || Ga.isNonReplayable() && sb);zb || Ga.setNonReplayable(!1);q=[];Ga.isRenewable() && (!sb || sb.isRenewable() || Ia.isNonReplayable())?Ia.getKeyRequestData({result:function(b){db(La,function(){var c;for(var a=0;a < b.length;++a){c=b[a];q.push(c);Ga.addKeyRequestData(c);}Ya(sb,tb,zb,q);},qb);},error:function(b){La.error(b);}}):Ya(sb,tb,zb,q);},qb);}function Ya(sb,tb,Ab,zb){db(La,function(){var q;q=new Ne(Da,Ia,Ga);Ia.updateServiceTokens(q,!Ab,{result:function(b){Ga.getHeader({result:function(a){db(La,function(){var c,k;c=Ia.getDebugContext();c && c.sentHeader(a);c=Ga.getKeyExchangeData();this.updateOutgoingCryptoContexts(Da,a,c);this.storeServiceTokens(Da,sb,tb,a.serviceTokens);c=!Da.isPeerToPeer() && c?c.cryptoContext:a.cryptoContext;if(ta.isAborted())throw new Wb("send aborted.");k=null != this._filterFactory?this._filterFactory.getOutputStream(Ma):Ma;rd(Da,k,Mb,a,c,Wa,{result:function(g){ta.setAbort(function(){g.abort();});kb(g,a,Ab);},timeout:function(){La.timeout();},error:function(g){La.error(g);}});},qb);},timeout:function(){La.timeout();},error:function(a){La.error(a);}});},error:function(b){La.error(b);}});},qb);}function kb(sb,tb,Ab){var zb,q;if(Ab)Ia.write(sb,Wa,{result:function(b){db(La,function(){if(ta.isAborted())throw new Wb("MessageOutputStream write aborted.");nb(sb,tb,Ab);},qb);},timeout:function(){La.timeout();},error:function(b){La.error(b);}});else {zb=new Ba();q=new Mc();rd(Da,zb,Mb,tb,q,Wa,{result:function(b){Ia.write(b,Wa,{result:function(a){db(La,function(){if(ta.isAborted())throw new Wb("MessageOutputStream proxy write aborted.");b.close(Wa,{result:function(c){db(La,function(){var k;if(!c)throw new Wb("MessageOutputStream proxy close aborted.");k=b.getPayloads();nb(sb,tb,Ab,k);},qb);},timeout:function(){La.timeout();},error:function(c){La.error(c);}});},qb);},timeout:function(){La.timeout();},error:function(a){La.error(a);}});},timeout:function(){La.timeout();},error:function(b){La.error(b);}});}}function nb(sb,tb,Ab,zb){sb.close(Wa,{result:function(q){db(La,function(){if(!q)throw new Wb("MessageOutputStream close aborted.");zb || (zb=sb.getPayloads());return new aa(tb,zb,!Ab);},qb);},timeout:function(){La.timeout();},error:function(q){La.error(q);}});}qb=this;db(La,function(){var sb,tb,Ab,zb;sb=Ga.getMasterToken();tb=Ga.getUserIdToken();Ab=!1;if(Ia.getUserId()){zb=!tb;Ia.getUserAuthData(null,Ga.isRenewable(),zb,{result:function(q){db(La,function(){q && (Ga.willEncryptHeader() && Ga.willIntegrityProtectHeader()?Ga.setUserAuthenticationData(q):Ab=!0);Za(sb,tb,Ab);},qb);},error:function(q){La.error(q);}});}else Za(sb,tb,Ab);},qb);},receive:function(ta,Da,Ia,Ma,Ga,Wa,La){var Za;Za=this;db(La,function(){var cb,Ya,kb;if(ta.isAborted())throw new Wb("receive aborted.");cb=[];Ga && (cb=Ga.keyRequestData.filter(function(){return !0;}));Ya=Ia.getCryptoContexts();kb=this._filterFactory?this._filterFactory.getInputStream(Ma):Ma;Pe(Da,kb,Mb,cb,Ya,Wa,{result:function(nb){ta.setAbort(function(){nb.abort();});nb.isReady(Wa,{result:function(qb){db(La,function(){var sb,tb,Ab,zb;if(!qb)throw new Wb("MessageInputStream aborted.");sb=nb.getMessageHeader();tb=nb.getErrorHeader();Ab=Ia.getDebugContext();Ab && Ab.receivedHeader(sb?sb:tb);if(Ga && (Ab=tb?tb.errorCode:null,sb || Ab != Ja.FAIL && Ab != Ja.TRANSIENT_FAILURE && Ab != Ja.ENTITY_REAUTH && Ab != Ja.ENTITYDATA_REAUTH)){Ab=sb?sb.messageId:tb.messageId;zb=Fc(Ga.messageId);if(Ab != zb)throw new Ib(Y.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected " + zb + "; received " + Ab);}Da.getEntityAuthenticationData(null,{result:function(q){db(La,function(){var b,a,c,k;b=q.getIdentity();if(sb){a=sb.entityAuthenticationData;c=sb.masterToken;a=c?sb.sender:a.getIdentity();if(c && c.isDecrypted() && c.identity != a || b == a)throw new Ib(Y.UNEXPECTED_MESSAGE_SENDER,a);Ga && this.updateIncomingCryptoContexts(Da,Ga,nb);b=sb.keyResponseData;Da.isPeerToPeer()?(b=b?b.masterToken:sb.peerMasterToken,c=sb.peerUserIdToken,a=sb.peerServiceTokens):(b=b?b.masterToken:sb.masterToken,c=sb.userIdToken,a=sb.serviceTokens);k=Ia.getUserId();k && c && !c.isVerified() && Da.getMslStore().addUserIdToken(k,c);this.storeServiceTokens(Da,b,c,a);}else if((a=tb.entityAuthenticationData.getIdentity(),b == a))throw new Ib(Y.UNEXPECTED_MESSAGE_SENDER,a);return nb;},Za);},error:La.error});},Za);},timeout:function(){La.timeout();},error:function(qb){La.error(qb);}});},timeout:function(){La.timeout();},error:function(nb){La.error(nb);}});},Za);},sendReceive:function(ta,Da,Ia,Ma,Ga,Wa,La,Za,cb){var kb;function Ya(nb,qb){db(cb,function(){Wa.setRenewable(qb);this.send(ta,Da,Ia,Ga,Wa,La,{result:function(sb){db(cb,function(){var tb;tb=sb.requestHeader.keyRequestData;Za || sb.handshake || !tb.isEmpty()?this.receive(ta,Da,Ia,Ma,sb.requestHeader,La,{result:function(Ab){db(cb,function(){qb && this.releaseRenewalLock(Da,nb,Ab);return new ha(Ab,sb);},kb);},timeout:function(){db(cb,function(){qb && this.releaseRenewalLock(Da,nb,null);cb.timeout();},kb);},error:function(Ab){db(cb,function(){qb && this.releaseRenewalLock(Da,nb,null);throw Ab;},kb);}}):db(cb,function(){qb && this.releaseRenewalLock(Da,nb,null);return new ha(null,sb);},kb);},kb);},timeout:function(){db(cb,function(){qb && this.releaseRenewalLock(Da,nb,null);cb.timeout();},kb);},error:function(sb){db(cb,function(){qb && this.releaseRenewalLock(Da,nb,null);throw sb;},kb);}});},kb);}kb=this;db(cb,function(){var nb;nb=new Qc();this.acquireRenewalLock(ta,Da,Ia,nb,Wa,La,{result:function(qb){Ya(nb,qb);},timeout:function(){cb.timeout();},error:function(qb){qb instanceof Wb?cb.result(null):cb.error(qb);}});},kb);},acquireRenewalLock:function(ta,Da,Ia,Ma,Ga,Wa,La){var Ya;function Za(kb,nb,qb){db(La,function(){var Ab,zb;if(ta.isAborted())throw new Wb("acquireRenewalLock aborted.");for(var sb=null,tb=0;tb < this._renewingContexts.length;++tb){Ab=this._renewingContexts[tb];if(Ab.ctx === Da){sb=Ab.queue;break;}}if(!sb)return (this._renewingContexts.push({ctx:Da,queue:Ma}),!0);zb=sb.poll(Wa,{result:function(q){db(La,function(){var b;if(q === Bb)throw new Wb("acquireRenewalLock aborted.");sb.add(q);if(q === ra || q.isExpired())Za(q,nb,qb);else {if(qb && !nb || nb && !nb.isBoundTo(q)){b=Da.getMslStore().getUserIdToken(qb);nb=b && b.isBoundTo(q)?b:null;}Ga.setAuthTokens(q,nb);Ga.isRenewable() && q.equals(kb)?Za(q,nb,qb):Ia.isRequestingTokens() && !nb?Za(q,nb,qb):cb(q,nb);}},Ya);},timeout:function(){},error:function(q){}});ta.setAbort(function(){zb && (sb.cancel(zb),zb=Bb);});},Ya);}function cb(kb,nb){db(La,function(){var tb;if(ta.isAborted())throw new Wb("acquireRenewalLock aborted.");if(!kb || kb.isRenewable() || !nb && Ia.getUserId() || nb && nb.isRenewable()){for(var qb=null,sb=0;sb < this._renewingContexts.length;++sb){tb=this._renewingContexts[sb];if(tb.ctx === Da){qb=tb.queue;break;}}if(!qb)return (this._renewingContexts.push({ctx:Da,queue:Ma}),!0);}return !1;},Ya);}Ya=this;db(La,function(){var kb,nb,qb;kb=Ga.getMasterToken();nb=Ga.getUserIdToken();qb=Ia.getUserId();Ia.isEncrypted() && !Ga.willEncryptPayloads() || Ia.isIntegrityProtected() && !Ga.willIntegrityProtectPayloads() || Ga.isRenewable() || !kb && Ia.isNonReplayable() || kb && kb.isExpired() || !(nb || !qb || Ga.willEncryptHeader() && Ga.willIntegrityProtectHeader()) || Ia.isRequestingTokens() && (!kb || qb && !nb)?Za(kb,nb,qb):cb(kb,nb);},Ya);},releaseRenewalLock:function(ta,Da,Ia){var La;for(var Ma,Ga,Wa=0;Wa < this._renewingContexts.length;++Wa){La=this._renewingContexts[Wa];if(La.ctx === ta){Ma=Wa;Ga=La.queue;break;}}if(Ga !== Da)throw new xb("Attempt to release renewal lock that is not owned by this queue.");Ia?(Ia=Ia.messageHeader)?(Ga=Ia.keyResponseData)?Da.add(Ga.masterToken):(ta=ta.isPeerToPeer()?Ia.peerMasterToken:Ia.masterToken)?Da.add(ta):Da.add(ra):Da.add(ra):Da.add(ra);this._renewingContexts.splice(Ma,1);}});Se=Cb.Class.create({init:function(){var ta;ta={_impl:{value:new ea(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ta);},setFilterFactory:function(ta){this._impl.setFilterFactory(ta);},shutdown:function(){this._shutdown=!0;},receive:function(ta,Da,Ia,Ma,Ga,Wa){var La;if(this._shutdown)throw new gb("MslControl is shutdown.");La=new ka(this._impl,ta,Da,Ia,Ma,Ga);setTimeout(function(){La.call(Wa);},0);return ja(La);},respond:function(ta,Da,Ia,Ma,Ga,Wa,La){var Za;if(this._shutdown)throw new gb("MslControl is shutdown.");Za=new na(this._impl,ta,Da,Ia,Ma,Ga,Wa);setTimeout(function(){Za.call(La);},0);return ja(Za);},error:function Ia(ta,Da,Ia,Ma,Ga,Wa,La){var Za;if(this._shutdown)throw new gb("MslControl is shutdown.");Za=new Ca(this._impl,ta,Da,Ia,Ma,Ga,Wa);setTimeout(function(){Za.call(La);},0);return ja(Za);},request:function(ta,Da){var Ia,Ma,Ga,Wa,La,Za;if(this._shutdown)throw new gb("MslControl is shutdown.");if(5 == arguments.length){Ma=arguments[2];Ga=Ia=null;Wa=arguments[3];La=arguments[4];if(ta.isPeerToPeer()){La.error(new xb("This method cannot be used in peer-to-peer mode."));return;}}else if(6 == arguments.length && (Ma=null,Ia=arguments[2],Ga=arguments[3],Wa=arguments[4],La=arguments[5],!ta.isPeerToPeer())){La.error(new xb("This method cannot be used in trusted network mode."));return;}Za=new Oa(this._impl,ta,Da,Ma,Ia,Ga,null,0,Wa);setTimeout(function(){Za.call(La);},0);return ja(Za);}});ka=Cb.Class.create({init:function(ta,Da,Ia,Ma,Ga,Wa){Object.defineProperties(this,{_ctrl:{value:ta,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:Da,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ma,writable:!1,enumerable:!1,configurable:!1},_output:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Wa,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Bb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ta){this._abortFunc=ta;},call:function(ta){var Ga;function Da(Wa){db(ta,function(){var La;La=Wa.messageHeader;if(!La)return Wa;this.setAbort(function(){Wa.abort();});Wa.mark(Number.MAX_VALUE);Wa.read(1,Ga._timeout,{result:function(Za){db(ta,function(){if(Za && 0 == Za.length)return null;if(Za)return (Wa.reset(),Wa);Ia(Wa);},Ga);},timeout:function(){ta.timeout();},error:function(Za){db(ta,function(){var cb,Ya,kb;if(ba(Za))return null;cb=La?La.messageId:null;if(Za instanceof Sb){Ya=Y.MSL_COMMS_FAILURE;kb=Za;}else (Ya=Y.INTERNAL_EXCEPTION,kb=new xb("Error peeking into the message payloads."));ma(this,this._ctx,this._msgCtx.getDebugContext(),cb,Ya,null,this._output,this._timeout,{result:function(nb){ta.error(kb);},timeout:function(){ta.timeout();},error:function(nb){db(ta,function(){if(ba(nb))return null;throw new dc("Error peeking into the message payloads.",nb,Za);},Ga);}});},Ga);}});},Ga);}function Ia(Wa){db(ta,function(){Wa.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,Wa.messageHeader,this._timeout,{result:function(La){db(ta,function(){var Za,cb,Ya,kb,nb;Za=La.builder;cb=La.tokenTicket;Ya=Wa.messageHeader;kb=new Ea(this._msgCtx);if(!this._ctx.isPeerToPeer() || Ya.isEncrypting() || Ya.keyResponseData)Ma(Ya,Za,kb,cb);else {nb=new Oa(this._ctrl,this._ctx,kb,null,this._input,this._output,La,1,this._timeout);this.setAbort(function(){nb.abort();});nb.call(ta);}},Ga);},timeout:function(){ta.timeout();},error:function(La){db(ta,function(){var Za,cb,Ya,kb;if(ba(La))return null;if(La instanceof gb){Za=La.messageId;cb=La.error;Ya=Wa.messageHeader.messageCapabilities;Ya=this._ctrl.messageRegistry.getUserMessage(cb,Ya?Ya.languages:null);kb=La;}else (Za=requestHeader?requestHeader.messageId:null,cb=Y.INTERNAL_EXCEPTION,Ya=null,kb=new xb("Error creating an automatic handshake response.",La));ma(this,this._ctx,this._msgCtx.getDebugContext(),Za,cb,Ya,this._output,this._timeout,{result:function(nb){ta.error(kb);},timeout:function(){ta.timeout();},error:function(nb){db(ta,function(){if(ba(nb))return null;throw new dc("Error creating an automatic handshake response.",nb,La);},Ga);}});},Ga);}});},Ga);}function Ma(Wa,La,Za,cb){db(ta,function(){La.setRenewable(!1);this._ctrl.send(this._ctx,Za,this._output,La,this._timeout,{result:function(Ya){db(ta,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(cb);return null;},Ga);},timeout:function(){db(ta,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(cb);ta.timeout();},Ga);},error:function(Ya){db(ta,function(){var kb,nb,qb,sb;this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(cb);if(ba(Ya))return null;if(Ya instanceof gb){kb=Ya.messageId;nb=Ya.error;qb=Wa?Wa.messageCapabilities:null;qb=this._ctrl.messageRegistry.getUserMessage(nb,qb?qb.languages:null);sb=Ya;}else Ya instanceof Sb?(kb=Wa?Wa.messageId:null,nb=Y.MSL_COMMS_FAILURE,qb=null,sb=Ya):(kb=Wa?Wa.messageId:null,nb=Y.INTERNAL_EXCEPTION,qb=null,sb=new xb("Error sending an automatic handshake response.",Ya));ma(this,this._ctx,this._msgCtx.getDebugContext(),kb,nb,qb,this._output,this._timeout,{result:function(tb){ta.error(sb);},timeout:function(){ta.timeout();},error:function(tb){db(ta,function(){if(ba(tb))return null;throw new dc("Error sending an automatic handshake response.",tb,Ya);},Ga);}});},Ga);}});},Ga);}Ga=this;db(ta,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(Wa){Da(Wa);},timeout:function(){ta.timeout();},error:function(Wa){db(ta,function(){var La,Za,cb,Ya;if(ba(Wa))return null;if(Wa instanceof gb){La=Wa.messageId;Za=Wa.error;cb=this._ctrl.messageRegistry.getUserMessage(Za,null);Ya=Wa;}else (La=null,Za=Y.INTERNAL_EXCEPTION,cb=null,Ya=new xb("Error receiving the message header.",Wa));ma(this,this._ctx,this._msgCtx.getDebugContext(),La,Za,cb,this._output,this._timeout,{result:function(kb){ta.error(Ya);},timeout:function(){ta.timeout();},error:function(kb){db(ta,function(){if(ba(kb))return null;throw new dc("Error receiving the message header.",kb,Wa);},Ga);}});},Ga);}});},Ga);}});na=Cb.Class.create({init:function(ta,Da,Ia,Ma,Ga,Wa,La){Object.defineProperties(this,{_ctrl:{value:ta,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:Da,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ma,writable:!1,enumerable:!1,configurable:!1},_output:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_request:{value:Wa,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:La,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Bb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ta){this._abortFunc=ta;},trustedNetworkExecute:function(ta,Da,Ia){var Ma;Ma=this;db(Ia,function(){var Ga,Wa;if(12 < Da + 1)return !1;if(Ga=this._msgCtx.isIntegrityProtected() && !ta.willIntegrityProtectHeader()?Y.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted() && !ta.willEncryptPayloads()?Y.RESPONSE_REQUIRES_ENCRYPTION:null){Wa=Nc(ta.getMessageId());ma(this,this._ctx,this._msgCtx.getDebugContext(),Wa,Ga,null,this._output,this._timeout,{result:function(La){Ia.result(!1);},timeout:function(){Ia.timeout();},error:function(La){db(Ia,function(){if(ba(La))return !1;throw new dc("Response requires encryption or integrity protection but cannot be protected: " + Ga,La,null);},Ma);}});}else !this._msgCtx.getCustomer() || ta.getMasterToken() || ta.getKeyExchangeData()?(ta.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,ta,this._timeout,{result:function(La){Ia.result(!0);},timeout:function(){Ia.timeout();},error:function(La){Ia.error(La);}})):(Wa=Nc(ta.getMessageId()),ma(this,this._ctx,this._msgCtx.getDebugContext(),Wa,Y.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(La){Ia.result(!1);},timeout:function(){Ia.timeout();},error:function(La){db(Ia,function(){if(ba(La))return !1;throw new dc("Response wishes to attach a user ID token but there is no master token.",La,null);},Ma);}}));},Ma);},peerToPeerExecute:function(ta,Da,Ia,Ma){var Wa;function Ga(La){db(Ma,function(){var Za;Za=La.response;Za.close();Za=Za.getErrorHeader();this._ctrl.cleanupContext(this._ctx,La.requestHeader,Za);this._ctrl.buildErrorResponse(this,this._ctx,ta,La,Za,{result:function(cb){db(Ma,function(){var Ya,kb;if(!cb)return !1;Ya=cb.errorResult;kb=cb.tokenTicket;this.peerToPeerExecute(Ya.msgCtx,Ya.builder,Ia,{result:function(nb){db(Ma,function(){this._ctrl.releaseMasterToken(kb);return nb;},Wa);},timeout:function(){db(Ma,function(){this._ctrl.releaseMasterToken(kb);Ma.timeout();},Wa);},error:function(nb){db(Ma,function(){this._ctrl.releaseMasterToken(kb);throw nb;},Wa);}});},Wa);}});},Wa);}Wa=this;db(Ma,function(){var La;if(12 < Ia + 2)return !1;if(null != ta.getCustomer() && null == Da.getPeerMasterToken() && null == Da.getKeyExchangeData()){La=Nc(Da.getMessageId());ma(this,this._ctx,ta.getDebugContext(),La,Y.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Za){Ma.result(!1);},timeout:function(){Ma.timeout();},error:function(Za){db(Ma,function(){if(ba(Za))return !1;throw new dc("Response wishes to attach a user ID token but there is no master token.",Za,null);},Wa);}});}else this._ctrl.sendReceive(this._ctx,ta,this._input,this._output,Da,this._timeout,!1,{result:function(Za){db(Ma,function(){var kb,nb,qb;function cb(){kb.read(32768,Wa._timeout,{result:function(sb){db(Ma,function(){sb?cb():Ya();},Wa);},timeout:function(){Ma.timeout();},error:function(sb){Ma.error(sb);}});}function Ya(){db(Ma,function(){var sb;sb=new ua(Za.payloads,ta);this._ctrl.buildResponse(this,this._ctx,sb,nb,this._timeout,{result:function(tb){db(Ma,function(){var Ab;Ab=tb.tokenTicket;this.peerToPeerExecute(sb,tb.builder,Ia,{result:function(zb){db(Ma,function(){this._ctrl.releaseMasterToken(Ab);return zb;},Wa);},timeout:function(){db(Ma,function(){this._ctrl.releaseMasterToken(Ab);Ma.timeout();},Wa);},error:function(zb){db(Ma,function(){this._ctrl.releaseMasterToken(Ab);throw zb;},Wa);}});},Wa);},timeout:function(){Ma.timeout();},error:function(tb){Ma.error(tb);}});},Wa);}kb=Za.response;Ia+=2;if(!kb)return !0;nb=kb.getMessageHeader();if(nb){qb=Za.payloads;qb=0 < qb.length && 0 < qb[0].data.length;if(Za.handshake && qb)cb();else return !0;}else Ga(Za);},Wa);},timeout:function(){Ma.timeout();},error:function(Za){Ma.error(Za);}});},Wa);},call:function(ta){var Da;Da=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(Ia){db(ta,function(){var Ma,Ga;Ma=Ia.builder;Ga=Ia.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,Ma,3,{result:function(Wa){db(ta,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ga);return Wa;},Da);},timeout:function(){db(ta,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ga);ta.timeout();},Da);},error:function(Wa){db(ta,function(){var La,Za,cb,Ya;this._ctx.isPeerToPeer() && this.releaseMasterToken(Ga);if(ba(Wa))return !1;La=Nc(Ma.getMessageId());if(Wa instanceof gb){Za=Wa.error;cb=this._request.messageCapabilities;cb=this._ctrl.messageRegistry.getUserMessage(Za,cb?cb.languages:null);Ya=Wa;}else Wa instanceof Sb?(Za=Y.MSL_COMMS_FAILURE,cb=null,Ya=Wa):(Za=Y.INTERNAL_EXCEPTION,cb=null,Ya=new xb("Error sending the response.",Wa));ma(this,this._ctx,this._msgCtx.getDebugContext(),La,Za,cb,this._output,this._timeout,{result:function(kb){ta.error(Ya);},timeout:function(){ta.timeout();},error:function(kb){db(ta,function(){if(ba(kb))return !1;throw new dc("Error sending the response.",kb,null);},Da);}});},Da);}}):this.trustedNetworkExecute(Ma,3,{result:function(Wa){db(ta,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ga);return Wa;},Da);},timeout:function(){db(ta,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ga);ta.timeout();},Da);},error:function(Wa){db(ta,function(){var La,Za,cb,Ya;this._ctx.isPeerToPeer() && this.releaseMasterToken(Ga);if(ba(Wa))return !1;La=Nc(Ma.getMessageId());if(Wa instanceof gb){Za=Wa.error;cb=this._request.messageCapabilities;cb=this._ctrl.messageRegistry.getUserMessage(Za,cb?cb.languages:null);Ya=Wa;}else Wa instanceof Sb?(Za=Y.MSL_COMMS_FAILURE,cb=null,Ya=Wa):(Za=Y.INTERNAL_EXCEPTION,cb=null,Ya=new xb("Error sending the response.",Wa));ma(this,this._ctx,this._msgCtx.getDebugContext(),La,Za,cb,this._output,this._timeout,{result:function(kb){ta.error(Ya);},timeout:function(){ta.timeout();},error:function(kb){db(ta,function(){if(ba(kb))return !1;throw new dc("Error sending the response.",kb,null);},Da);}});},Da);}});},Da);},timeout:function(){ta.timeout();},error:function(Ia){db(ta,function(){var Ma,Ga,Wa,La;if(ba(Ia))return !1;if(Ia instanceof gb){Ma=Ia.messageId;Ga=Ia.error;Wa=this._request.messageCapabilities;Wa=this._ctrl.messageRegistry.getUserMessage(Ga,Wa?Wa.languages:null);La=Ia;}else (Ma=null,Ga=Y.INTERNAL_EXCEPTION,Wa=null,La=new xb("Error building the response.",Ia));ma(this,this._ctx,this._msgCtx.getDebugContext(),Ma,Ga,Wa,this._output,this._timeout,{result:function(Za){ta.error(La);},timeout:function(){ta.timeout();},error:function(Za){db(ta,function(){if(ba(Za))return null;throw new dc("Error building the response.",Za,Ia);},Da);}});},Da);}});}});Ca=Cb.Class.create({init:function(ta,Da,Ia,Ma,Ga,Wa,La){Object.defineProperties(this,{_ctrl:{value:ta,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:Da,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_appError:{value:Ma,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:Wa,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:La,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Bb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ta){this._abortFunc=ta;},call:function(ta){var Da;Da=this;db(ta,function(){var Ia,Ma;if(this._appError == ENTITY_REJECTED)Ia=this._request.masterToken?Y.MASTERTOKEN_REJECTED_BY_APP:Y.ENTITY_REJECTED_BY_APP;else if(this._appError == USER_REJECTED)Ia=this._request.userIdToken?Y.USERIDTOKEN_REJECTED_BY_APP:Y.USER_REJECTED_BY_APP;else throw new xb("Unhandled application error " + this._appError + ".");Ma=this._request.messageCapabilities;Ma=this._ctrl.messageRegistry.getUserMessage(Ia,Ma?Ma.languages:null);ma(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,Ia,Ma,this._output,this._timeout,{result:function(Ga){ta.result(Ga);},timeout:ta.timeout,error:function(Ga){db(ta,function(){if(ba(Ga))return !1;if(Ga instanceof gb)throw Ga;throw new xb("Error building the error response.",Ga);},Da);}});},Da);}});Ua={result:function(){},timeout:function(){},error:function(){}};Oa=Cb.Class.create({init:function(ta,Da,Ia,Ma,Ga,Wa,La,Za,cb){var Ya;if(La){Ya=La.builder;La=La.tokenTicket;}else La=Ya=null;Object.defineProperties(this,{_ctrl:{value:ta,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:Da,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:Ma,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ga,writable:!0,enumerable:!1,configurable:!1},_output:{value:Wa,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:Ya,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:La,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:cb,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:Za,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Bb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ta){this._abortFunc=ta;},execute:function(ta,Da,Ia,Ma,Ga){var Za;function Wa(cb){function Ya(kb){db(Ga,function(){var nb;nb=cb.response;return kb?kb:nb;},Za);}db(Ga,function(){var kb,nb;kb=cb.response;kb.close();nb=kb.getErrorHeader();this._ctrl.cleanupContext(this._ctx,cb.requestHeader,nb);this._ctrl.buildErrorResponse(this,this._ctx,ta,cb,nb,Ia,{result:function(qb){db(Ga,function(){var sb,tb,Ab,zb;if(!qb)return kb;sb=qb.errorResult;tb=qb.tokenTicket;Ab=sb.builder;sb=sb.msgCtx;if(this._ctx.isPeerToPeer())this.execute(sb,Ab,this._timeout,Ma,{result:function(q){db(Ga,function(){this._ctrl.releaseMasterToken(tb);Ya(q);},Za);},timeout:function(){db(Ga,function(){this._ctrl.releaseMasterToken(tb);Ga.timeout();},Za);},error:function(q){db(Ga,function(){this._ctrl.releaseMasterToken(tb);Ga.error(q);},Za);}});else {this._openedStreams && (this._input.close(),this._output.close(Ia,Ua));zb=new Oa(this._ctrl,this._ctx,sb,this._remoteEntity,null,null,{builder:Ab,tokenTicket:tb},Ma,this._timeout);this.setAbort(function(){zb.abort();});zb.call({result:function(q){Ya(q);},timeout:function(){Ga.timeout();},error:function(q){Ga.error(q);}});}},Za);},timeout:function(){Ga.timeout();},error:function(qb){Ga.error(qb);}});},Za);}function La(cb){db(Ga,function(){var nb,qb,sb,tb,Ab;function Ya(){nb.read(32768,Za._timeout,{result:function(zb){zb?Ya():kb();},timeout:function(){Ga.timeout();},error:function(zb){Ga.error(zb);}});}function kb(){db(Ga,function(){var zb;zb=new ua(cb.payloads,ta);this._ctrl.buildResponse(this,this._ctx,ta,qb,Ia,{result:function(q){db(Ga,function(){var b;b=q.tokenTicket;this.execute(zb,q.builder,this._timeout,Ma,{result:function(a){db(Ga,function(){this._ctrl.releaseMasterToken(b);return a;},Za);},timeout:function(){db(Ga,function(){this._ctrl.releaseMasterToken(b);Ga.timeout();},Za);},error:function(a){db(Ga,function(){this._ctrl.releaseMasterToken(b);throw a;},Za);}});},Za);},timeout:function(){Ga.timeout();},error:function(q){Ga.error(q);}});},Za);}nb=cb.response;qb=nb.getMessageHeader();sb=cb.payloads;sb=0 < sb.length && 0 < sb[0].data.length;if(!this._ctx.isPeerToPeer()){if(!cb.handshake || !sb)return nb;this._openedStreams && (this._input.close(),this._output.close(Ia,Ua));tb=new ua(cb.payloads,ta);this._ctrl.buildResponse(this,this._ctx,ta,qb,Ia,{result:function(zb){db(Ga,function(){var q;q=new Oa(this._ctrl,this._ctx,tb,this._remoteEntity,null,null,zb,Ma,this._timeout);this.setAbort(function(){q.abort();});q.call(Ga);},Za);},timeout:function(){Ga.timeout();},error:function(zb){Ga.error(zb);}});}else if(cb.handshake && sb)Ya();else if(0 < qb.keyRequestData.length){Ab=new Ea(ta);this._ctrl.buildResponse(this,this._ctx,Ab,qb,Ia,{result:function(zb){db(Ga,function(){var q,b;q=zb.builder;b=zb.tokenTicket;nb.mark();nb.read(1,this._timeout,{result:function(a){db(Ga,function(){function c(){nb.read(32768,Za._timeout,{result:function(g){g?c():k();},timeout:function(){Ga.timeout();},error:function(g){Ga.error(g);}});}function k(){Za.execute(Ab,q,Za._timeout,Ma,{result:function(g){db(Ga,function(){this._ctrl.releaseMasterToken(b);return g;},Za);},timeout:function(){db(Ga,function(){this._ctrl.releaseMasterToken(b);Ga.timeout();},Za);},error:function(g){db(Ga,function(){this._ctrl.releaseMasterToken(b);throw g;},Za);}});}if(a){if((nb.reset(),12 >= Ma + 1))(q.setRenewable(!1),this._ctrl.send(this,this._ctx,Ab,this._output,q,this._timeout,{result:function(g){db(Ga,function(){this.releaseMasterToken(b);return nb;},Za);},timeout:function(){Ga.timeout();},error:function(g){Ga.error(g);}}));else return (this.releaseMasterToken(b),nb);}else c();},Za);},timeout:function(){db(Ga,function(){this.releaseMasterToken(b);Ga.timeout();},Za);},error:function(a){db(Ga,function(){this.releaseMasterToken(b);throw a;},Za);}});},Za);},timeout:function(){Ga.timeout();},error:function(zb){Ga.error(zb);}});}},Za);}Za=this;db(Ga,function(){if(12 < Ma + 2)return null;this._ctrl.sendReceive(this,this._ctx,ta,this._input,this._output,Da,Ia,!0,{result:function(cb){db(Ga,function(){var Ya;if(!cb)return null;Ya=cb.response;Ma+=2;Ya.getMessageHeader()?La(cb):Wa(cb);},Za);},timeout:function(){Ga.timeout();},error:function(cb){Ga.error(cb);}});},Za);},call:function(ta){var Ia;function Da(Ma,Ga,Wa){db(ta,function(){this.execute(this._msgCtx,Ma,Wa,this._msgCount,{result:function(La){db(ta,function(){this._ctrl.releaseMasterToken(Ga);this._openedStreams && this._output.close(Wa,Ua);La && La.closeSource(this._openedStreams);return La;},Ia);},timeout:function(){db(ta,function(){this._ctrl.releaseMasterToken(Ga);this._openedStreams && (this._output.close(Wa,Ua),this._input.close());ta.timeout();},Ia);},error:function(La){db(ta,function(){this._ctrl.releaseMasterToken(Ga);this._openedStreams && (this._output.close(Wa,Ua),this._input.close());if(ba(La))return null;throw La;},Ia);}});},Ia);}Ia=this;db(ta,function(){var Ma,Ga,Wa;Ma=this._timeout;if(!this._input || !this._output)try{this._remoteEntity.setTimeout(this._timeout);Ga=Date.now();Wa=this._remoteEntity.openConnection();this._output=Wa.output;this._input=Wa.input;-1 != Ma && (Ma=this._timeout - (Date.now() - Ga));this._openedStreams=!0;}catch(La){this._builder && this._ctrl.releaseMasterToken(this._tokenTicket);this._output && this._output.close(this._timeout,Ua);this._input && this._input.close();if(ba(La))return null;throw La;}this._builder?Da(this._builder,this._tokenTicket,Ma):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(La){db(ta,function(){Da(La.builder,La.tokenTicket,Ma);},Ia);},timeout:function(){db(ta,function(){this._openedStreams && (this._output.close(this._timeout,Ua),this._input.close());ta.timeout();},Ia);},error:function(La){db(ta,function(){this._openedStreams && (this._output.close(this._timeout,Ua),this._input.close());if(ba(La))return null;throw La;},Ia);}});},Ia);}});})();(function(){Pd=Cb.Class.create({init:function(ja){Object.defineProperties(this,{id:{value:ja,writable:!1,configurable:!1}});},toJSON:function(){var ja;ja={};ja.id=this.id;return ja;},equals:function(ja){return this === ja?!0:ja instanceof Pd?this.id == ja.id:!1;},uniqueKey:function(){return this.id;}});Te=function(ja){var ca;ca=ja.id;if(!ca)throw new Db(Y.JSON_PARSE_ERROR,JSON.stringify(ja));return new Pd(ca);};})();Cb.Class.create({isNewestMasterToken:function(ja,ca,Z){},isMasterTokenRevoked:function(ja,ca){},acceptNonReplayableId:function(ja,ca,Z,aa){},createMasterToken:function(ja,ca,Z,aa,ha){},isMasterTokenRenewable:function(ja,ca,Z){},renewMasterToken:function(ja,ca,Z,aa,ha){},isUserIdTokenRevoked:function(ja,ca,Z,aa){},createUserIdToken:function(ja,ca,Z,aa){},renewUserIdToken:function(ja,ca,Z,aa){}});(function(){function ja(ca,Z,aa,ha){this.sessiondata=ca;this.tokendata=Z;this.signature=aa;this.verified=ha;}cc=Cb.Class.create({init:function(ca,Z,aa,ha,ba,ma,Ba,va,oa,ua,Ea){var ra;ra=this;Pa(Ea,function(){var ea,ka,na,Ca,Ua;if(aa.getTime() < Z.getTime())throw new xb("Cannot construct a master token that expires before its renewal window opens.");if(0 > ha || ha > Lb)throw new xb("Sequence number " + ha + " is outside the valid range.");if(0 > ba || ba > Lb)throw new xb("Serial number " + ba + " is outside the valid range.");ea=Math.floor(Z.getTime() / 1E3);ka=Math.floor(aa.getTime() / 1E3);if(ua)na=ua.sessiondata;else {Ca={};ma && (Ca.issuerdata=ma);Ca.identity=Ba;Ca.encryptionkey=Eb(va.toByteArray());Ca.hmackey=Eb(oa.toByteArray());na=Zb(JSON.stringify(Ca),Mb);}if(ua)return (Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:ea,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ka,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ha,writable:!1,configurable:!1},serialNumber:{value:ba,writable:!1,configurable:!1},issuerData:{value:ma,writable:!1,configurable:!1},identity:{value:Ba,writable:!1,configurable:!1},encryptionKey:{value:va,writable:!1,configurable:!1},hmacKey:{value:oa,writable:!1,configurable:!1},sessiondata:{value:na,writable:!1,enumerable:!1,configurable:!1},verified:{value:ua.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ua.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:ua.signature,writable:!1,enumerable:!1,configurable:!1}}),this);Ua=ca.getMslCryptoContext();Ua.encrypt(na,{result:function(Oa){Pa(Ea,function(){var Sa,Va;Sa={};Sa.renewalwindow=ea;Sa.expiration=ka;Sa.sequencenumber=ha;Sa.serialnumber=ba;Sa.sessiondata=Eb(Oa);Va=Zb(JSON.stringify(Sa),Mb);Ua.sign(Va,{result:function(ta){Pa(Ea,function(){Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:ea,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ka,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ha,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:ba,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:ma,writable:!1,configurable:!1},identity:{value:Ba,writable:!1,configurable:!1},encryptionKey:{value:va,writable:!1,configurable:!1},hmacKey:{value:oa,writable:!1,configurable:!1},sessiondata:{value:na,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Va,writable:!1,enumerable:!1,configurable:!1},signature:{value:ta,writable:!1,enumerable:!1,configurable:!1}});return this;},ra);},error:function(ta){Ea.error(ta);}});},ra);},error:function(Oa){Ea.error(Oa);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(ca){return this.isVerified()?this.renewalWindow.getTime() <= this.ctx.getTime():!0;},isExpired:function(ca){return this.isVerified()?this.expiration.getTime() <= this.ctx.getTime():!1;},isNewerThan:function(ca){var Z;if(this.sequenceNumber == ca.sequenceNumber)return this.expiration > ca.expiration;if(this.sequenceNumber > ca.sequenceNumber){Z=this.sequenceNumber - Lb + 127;return ca.sequenceNumber >= Z;}Z=ca.sequenceNumber - Lb + 127;return this.sequenceNumber < Z;},toJSON:function(){var ca;ca={};ca.tokendata=Eb(this.tokendata);ca.signature=Eb(this.signature);return ca;},equals:function(ca){return this === ca?!0:ca instanceof cc?this.serialNumber == ca.serialNumber && this.sequenceNumber == ca.sequenceNumber && this.expiration.getTime() == ca.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber + ":" + this.sequenceNumber + this.expiration.getTime();}});Wc=function(ca,Z,aa){Pa(aa,function(){var ha,ba,ma,Ba,va;ha=ca.getMslCryptoContext();ba=Z.tokendata;ma=Z.signature;if("string" !== typeof ba || "string" !== typeof ma)throw new Db(Y.JSON_PARSE_ERROR,"mastertoken " + JSON.stringify(Z));try{Ba=Hb(ba);}catch(oa){throw new gb(Y.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken " + JSON.stringify(Z),oa);}if(!Ba || 0 == Ba.length)throw new Db(Y.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken " + JSON.stringify(Z));try{va=Hb(ma);}catch(oa){throw new gb(Y.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken " + JSON.stringify(Z),oa);}ha.verify(Ba,va,{result:function(oa){Pa(aa,function(){var ua,Ea,ra,ea,ka,na,Ca,Ua,Oa,Sa;ua=Yb(Ba,Mb);try{Ea=JSON.parse(ua);ra=parseInt(Ea.renewalwindow);ea=parseInt(Ea.expiration);ka=parseInt(Ea.sequencenumber);na=parseInt(Ea.serialnumber);Ca=Ea.sessiondata;}catch(Va){if(Va instanceof SyntaxError)throw new Db(Y.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + ua,Va);throw Va;}if(!ra || ra != ra || !ea || ea != ea || "number" !== typeof ka || ka != ka || "number" !== typeof na || na != na || "string" !== typeof Ca)throw new Db(Y.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + ua);if(ea < ra)throw new gb(Y.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + ua);if(0 > ka || ka > Lb)throw new gb(Y.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata " + ua);if(0 > na || na > Lb)throw new gb(Y.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata " + ua);Ua=new Date(1E3 * ra);Oa=new Date(1E3 * ea);try{Sa=Hb(Ca);}catch(Va){throw new gb(Y.MASTERTOKEN_SESSIONDATA_INVALID,Ca,Va);}if(!Sa || 0 == Sa.length)throw new gb(Y.MASTERTOKEN_SESSIONDATA_MISSING,Ca);oa?ha.decrypt(Sa,{result:function(Va){Pa(aa,function(){var ta,Da,Ia,Ma,Ga,Wa;ta=Yb(Va,Mb);try{Da=JSON.parse(ta);Ia=Da.issuerdata;Ma=Da.identity;Ga=Da.encryptionkey;Wa=Da.hmackey;}catch(La){if(La instanceof SyntaxError)throw new Db(Y.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + ta,La);throw La;}if(Ia && "object" !== typeof Ia || !Ma || "string" !== typeof Ga || "string" !== typeof Wa)throw new Db(Y.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + ta);mc(Ga,hc,vc,{result:function(La){mc(Wa,ic,Ec,{result:function(Za){Pa(aa,function(){var cb;cb=new ja(Va,Ba,va,oa);new cc(ca,Ua,Oa,ka,na,Ia,Ma,La,Za,cb,aa);});},error:function(Za){aa.error(new wb(Y.MASTERTOKEN_KEY_CREATION_ERROR,Za));}});},error:function(La){aa.error(new wb(Y.MASTERTOKEN_KEY_CREATION_ERROR,La));}});});},error:function(Va){aa.error(Va);}}):(ra=new ja(null,Ba,va,oa),new cc(ca,Ua,Oa,ka,na,null,null,null,null,ra,aa));});},error:function(oa){aa.error(oa);}});});};})();(function(){function ja(ca,Z,aa){this.tokendata=ca;this.signature=Z;this.verified=aa;}Kc=Cb.Class.create({init:function(ca,Z,aa,ha,ba,ma,Ba,va,oa){var ua;ua=this;Pa(oa,function(){var Ea,ra,ea,ka,na,Ca,Ua;if(aa.getTime() < Z.getTime())throw new xb("Cannot construct a user ID token that expires before its renewal window opens.");if(!ha)throw new xb("Cannot construct a user ID token without a master token.");if(0 > ba || ba > Lb)throw new xb("Serial number " + ba + " is outside the valid range.");Ea=Math.floor(Z.getTime() / 1E3);ra=Math.floor(aa.getTime() / 1E3);ea=ha.serialNumber;if(va){ka=va.tokendata;na=va.signature;Ca=va.verified;ea=ha.serialNumber;Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:Ea,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ra,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:ea,writable:!1,configurable:!1},serialNumber:{value:ba,writable:!1,configurable:!1},issuerData:{value:ma,writable:!1,configurable:!1},customer:{value:Ba,writable:!1,configurable:!1},verified:{value:Ca,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ka,writable:!1,enumerable:!1,configurable:!1},signature:{value:na,writable:!1,enumerable:!1,configurable:!1}});return this;}ka={};ma && (ka.issuerdata=ma);ka.identity=Ba;ka=Zb(JSON.stringify(ka),Mb);Ua=ca.getMslCryptoContext();Ua.encrypt(ka,{result:function(Oa){Pa(oa,function(){var Sa,Va;Sa={};Sa.renewalwindow=Ea;Sa.expiration=ra;Sa.mtserialnumber=ea;Sa.serialnumber=ba;Sa.userdata=Eb(Oa);Va=Zb(JSON.stringify(Sa),Mb);Ua.sign(Va,{result:function(ta){Pa(oa,function(){Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:Ea,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ra,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:ha.serialNumber,writable:!1,configurable:!1},serialNumber:{value:ba,writable:!1,configurable:!1},issuerData:{value:ma,writable:!1,configurable:!1},customer:{value:Ba,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Va,writable:!1,enumerable:!1,configurable:!1},signature:{value:ta,writable:!1,enumerable:!1,configurable:!1}});return this;},ua);},error:function(ta){Pa(oa,function(){ta instanceof gb && ta.setEntity(ha);throw ta;},ua);}});},ua);},error:function(Oa){Pa(oa,function(){Oa instanceof gb && Oa.setEntity(ha);throw Oa;},ua);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime() <= this.ctx.getTime();},isExpired:function(){return this.expiration.getTime() <= this.ctx.getTime();},isBoundTo:function(ca){return ca && ca.serialNumber == this.mtSerialNumber;},toJSON:function(){var ca;ca={};ca.tokendata=Eb(this.tokendata);ca.signature=Eb(this.signature);return ca;},equals:function(ca){return this === ca?!0:ca instanceof Kc?this.serialNumber == ca.serialNumber && this.mtSerialNumber == ca.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber + ":" + this.mtSerialNumber;}});nd=function(ca,Z,aa,ha){Pa(ha,function(){var ba,ma,Ba,va,oa;ba=ca.getMslCryptoContext();ma=Z.tokendata;Ba=Z.signature;if("string" !== typeof ma || "string" !== typeof Ba)throw new Db(Y.JSON_PARSE_ERROR,"useridtoken " + JSON.stringify(Z)).setEntity(aa);try{va=Hb(ma);}catch(ua){throw new gb(Y.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(Z),ua).setEntity(aa);}if(!va || 0 == va.length)throw new Db(Y.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken " + JSON.stringify(Z)).setEntity(aa);try{oa=Hb(Ba);}catch(ua){throw new gb(Y.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(Z),ua).setEntity(aa);}ba.verify(va,oa,{result:function(ua){Pa(ha,function(){var Ea,ra,ea,ka,na,Ca,Ua,Oa,Sa,Va;Ea=Yb(va,Mb);try{ra=JSON.parse(Ea);ea=parseInt(ra.renewalwindow);ka=parseInt(ra.expiration);na=parseInt(ra.mtserialnumber);Ca=parseInt(ra.serialnumber);Ua=ra.userdata;}catch(ta){if(ta instanceof SyntaxError)throw new Db(Y.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + Ea,ta).setEntity(aa);throw ta;}if(!ea || ea != ea || !ka || ka != ka || "number" !== typeof na || na != na || "number" !== typeof Ca || Ca != Ca || "string" !== typeof Ua)throw new Db(Y.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + Ea).setEntity(aa);if(ka < ea)throw new gb(Y.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + Ea).setEntity(aa);if(0 > na || na > Lb)throw new gb(Y.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + Ea).setEntity(aa);if(0 > Ca || Ca > Lb)throw new gb(Y.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + Ea).setEntity(aa);Oa=new Date(1E3 * ea);Sa=new Date(1E3 * ka);if(!aa || na != aa.serialNumber)throw new gb(Y.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + na + "; mt " + JSON.stringify(aa)).setEntity(aa);try{Va=Hb(Ua);}catch(ta){throw new gb(Y.USERIDTOKEN_USERDATA_INVALID,Ua,ta).setEntity(aa);}if(!Va || 0 == Va.length)throw new gb(Y.USERIDTOKEN_USERDATA_MISSING,Ua).setEntity(aa);ua?ba.decrypt(Va,{result:function(ta){Pa(ha,function(){var Da,Ia,Ma,Ga,Wa;Da=Yb(ta,Mb);try{Ia=JSON.parse(Da);Ma=Ia.issuerdata;Ga=Ia.identity;}catch(La){if(La instanceof SyntaxError)throw new Db(Y.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + Da).setEntity(aa);throw La;}if(Ma && "object" !== typeof Ma || "object" !== typeof Ga)throw new Db(Y.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + Da).setEntity(aa);try{Wa=Te(Ga);}catch(La){throw new gb(Y.USERIDTOKEN_IDENTITY_INVALID,"userdata " + Da,La).setEntity(aa);}Ga=new ja(va,oa,ua);new Kc(ca,Oa,Sa,aa,Ca,Ma,Wa,Ga,ha);});},error:function(ta){Pa(ha,function(){ta instanceof gb && ta.setEntity(aa);throw ta;});}}):(ea=new ja(va,oa,ua),new Kc(ca,Oa,Sa,aa,Ca,null,null,ea,ha));});},error:function(ua){Pa(ha,function(){ua instanceof gb && ua.setEntity(aa);throw ua;});}});});};})();(function(){function ja(Z,aa){var ha,ba,ma;ha=Z.tokendata;if("string" !== typeof ha)throw new Db(Y.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(Z));try{ba=Hb(ha);}catch(Ba){throw new gb(Y.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(Z),Ba);}if(!ba || 0 == ba.length)throw new Db(Y.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(Z));try{ma=JSON.parse(Yb(ba,Mb)).name;}catch(Ba){if(Ba instanceof SyntaxError)throw new Db(Y.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(Z),Ba);throw Ba;}if(!ma)throw new Db(Y.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(Z));return aa[ma]?aa[ma]:aa[""];}function ca(Z,aa,ha){this.tokendata=Z;this.signature=aa;this.verified=ha;}xc=Cb.Class.create({init:function(Z,aa,ha,ba,ma,Ba,va,oa,ua,Ea){var ra;ra=this;Pa(Ea,function(){var ea,ka,na,Ca,Ua;if(ba && ma && !ma.isBoundTo(ba))throw new xb("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");ea=ba?ba.serialNumber:-1;ka=ma?ma.serialNumber:-1;if(ua)return (Ua=ua.tokendata,Object.defineProperties(this,{ctx:{value:Z,writable:!1,enumerable:!1,configurable:!1},name:{value:aa,writable:!1,configurable:!1},mtSerialNumber:{value:ea,writable:!1,configurable:!1},uitSerialNumber:{value:ka,writable:!1,configurable:!1},data:{value:ha,writable:!1,configurable:!1},encrypted:{value:Ba,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:va,writable:!1,configurable:!1},verified:{value:ua.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ua,writable:!1,enumerable:!1,configurable:!1},signature:{value:ua.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(va){na=Od(va,ha);na.length < ha.length || (va=null,na=ha);}else (va=null,na=ha);Ca={};Ca.name=aa;-1 != ea && (Ca.mtserialnumber=ea);-1 != ka && (Ca.uitserialnumber=ka);Ca.encrypted=Ba;va && (Ca.compressionalgo=va);if(Ba && 0 < na.length)oa.encrypt(na,{result:function(Oa){Pa(Ea,function(){var Sa;Ca.servicedata=Eb(Oa);Sa=Zb(JSON.stringify(Ca),Mb);oa.sign(Sa,{result:function(Va){Pa(Ea,function(){Object.defineProperties(this,{ctx:{value:Z,writable:!1,enumerable:!1,configurable:!1},name:{value:aa,writable:!1,configurable:!1},mtSerialNumber:{value:ea,writable:!1,configurable:!1},uitSerialNumber:{value:ka,writable:!1,configurable:!1},data:{value:ha,writable:!1,configurable:!1},encrypted:{value:Ba,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:va,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Sa,writable:!1,enumerable:!1,configurable:!1},signature:{value:Va,writable:!1,enumerable:!1,configurable:!1}});return this;},ra);},error:function(Va){Pa(Ea,function(){Va instanceof gb && (Va.setEntity(ba),Va.setUser(ma));throw Va;});}});},ra);},error:function(Oa){Pa(Ea,function(){Oa instanceof gb && (Oa.setEntity(ba),Oa.setUser(ma));throw Oa;});}});else {Ca.servicedata=Eb(na);Ua=Zb(JSON.stringify(Ca),Mb);oa.sign(Ua,{result:function(Oa){Pa(Ea,function(){Object.defineProperties(this,{ctx:{value:Z,writable:!1,enumerable:!1,configurable:!1},name:{value:aa,writable:!1,configurable:!1},mtSerialNumber:{value:ea,writable:!1,configurable:!1},uitSerialNumber:{value:ka,writable:!1,configurable:!1},data:{value:ha,writable:!1,configurable:!1},encrypted:{value:Ba,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:va,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ua,writable:!1,enumerable:!1,configurable:!1},signature:{value:Oa,writable:!1,enumerable:!1,configurable:!1}});return this;},ra);},error:function(Oa){Pa(Ea,function(){Oa instanceof gb && (Oa.setEntity(ba),Oa.setUser(ma));throw Oa;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data && 0 == this.data.length;},isMasterTokenBound:function(){return -1 != this.mtSerialNumber;},isBoundTo:function(Z){return Z?Z instanceof cc?Z.serialNumber == this.mtSerialNumber:Z instanceof Kc?Z.serialNumber == this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return -1 != this.uitSerialNumber;},isUnbound:function(){return -1 == this.mtSerialNumber && -1 == this.uitSerialNumber;},toJSON:function(){var Z;Z={};Z.tokendata=Eb(this.tokendata);Z.signature=Eb(this.signature);return Z;},equals:function(Z){return this === Z?!0:Z instanceof xc?this.name == Z.name && this.mtSerialNumber == Z.mtSerialNumber && this.uitSerialNumber == Z.uitSerialNumber:!1;},uniqueKey:function(){return this.name + ":" + this.mtSerialNumber + ":" + this.uitSerialNumber;}});sc=function(Z,aa,ha,ba,ma,Ba,va,oa,ua){new xc(Z,aa,ha,ba,ma,Ba,va,oa,null,ua);};od=function(Z,aa,ha,ba,ma,Ba){Pa(Ba,function(){var va,oa,ua,Ea,ra,ea,ka,na,Ca,Ua,Oa,Sa,Va;!ma || ma instanceof Lc || (ma=ja(aa,ma));va=aa.tokendata;oa=aa.signature;if("string" !== typeof va || "string" !== typeof oa)throw new Db(Y.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(aa)).setEntity(ha).setEntity(ba);try{ua=Hb(va);}catch(ta){throw new gb(Y.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(aa),ta).setEntity(ha).setEntity(ba);}if(!ua || 0 == ua.length)throw new Db(Y.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(aa)).setEntity(ha).setEntity(ba);try{Ea=Hb(oa);}catch(ta){throw new gb(Y.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken " + JSON.stringify(aa),ta).setEntity(ha).setEntity(ba);}ra=Yb(ua,Mb);try{ea=JSON.parse(ra);ka=ea.name;na=ea.mtserialnumber?parseInt(ea.mtserialnumber):-1;Ca=ea.uitserialnumber?parseInt(ea.uitserialnumber):-1;Ua=ea.encrypted;Oa=ea.compressionalgo;Sa=ea.servicedata;}catch(ta){if(ta instanceof SyntaxError)throw new Db(Y.JSON_PARSE_ERROR,"servicetokendata " + ra,ta).setEntity(ha).setEntity(ba);throw ta;}if(!ka || "number" !== typeof na || na != na || "number" !== typeof Ca || Ca != Ca || "boolean" !== typeof Ua || Oa && "string" !== typeof Oa || "string" !== typeof Sa)throw new Db(Y.JSON_PARSE_ERROR,"servicetokendata " + ra).setEntity(ha).setEntity(ba);if(ea.mtserialnumber && 0 > na || na > Lb)throw new gb(Y.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + ra).setEntity(ha).setEntity(ba);if(ea.uitserialnumber && 0 > Ca || Ca > Lb)throw new gb(Y.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + ra).setEntity(ha).setEntity(ba);if(-1 != na && (!ha || na != ha.serialNumber))throw new gb(Y.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber " + na + "; mt " + ha).setEntity(ha).setEntity(ba);if(-1 != Ca && (!ba || Ca != ba.serialNumber))throw new gb(Y.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber " + Ca + "; uit " + ba).setEntity(ha).setEntity(ba);Ua=!0 === Ua;if(Oa){if(!Cc[Oa])throw new gb(Y.UNIDENTIFIED_COMPRESSION,Oa);Va=Oa;}else Va=null;ma?ma.verify(ua,Ea,{result:function(ta){Pa(Ba,function(){var Da,Ia;if(ta){try{Da=Hb(Sa);}catch(Ma){throw new gb(Y.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + ra,Ma).setEntity(ha).setEntity(ba);}if(!Da || 0 != Sa.length && 0 == Da.length)throw new gb(Y.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + ra).setEntity(ha).setEntity(ba);if(Ua && 0 < Da.length)ma.decrypt(Da,{result:function(Ma){Pa(Ba,function(){var Ga,Wa;Ga=Va?pd(Va,Ma):Ma;Wa=new ca(ua,Ea,ta);new xc(Z,ka,Ga,-1 != na?ha:null,-1 != Ca?ba:null,Ua,Va,ma,Wa,Ba);});},error:function(Ma){Pa(Ba,function(){Ma instanceof gb && (Ma.setEntity(ha),Ma.setUser(ba));throw Ma;});}});else {Da=Va?pd(Va,Da):Da;Ia=new ca(ua,Ea,ta);new xc(Z,ka,Da,-1 != na?ha:null,-1 != Ca?ba:null,Ua,Va,ma,Ia,Ba);}}else (Da="" == Sa?new Uint8Array(0):null,Ia=new ca(ua,Ea,ta),new xc(Z,ka,Da,-1 != na?ha:null,-1 != Ca?ba:null,Ua,Va,ma,Ia,Ba));});},error:function(ta){Pa(Ba,function(){ta instanceof gb && (ta.setEntity(ha),ta.setUser(ba));throw ta;});}}):(va="" == Sa?new Uint8Array(0):null,oa=new ca(ua,Ea,!1),new xc(Z,ka,va,-1 != na?ha:null,-1 != Ca?ba:null,Ua,Va,ma,oa,Ba));});};})();yc={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(yc);(function(){Rc=Cb.Class.create({init:function(ja){Object.defineProperties(this,{scheme:{value:ja,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(ja){return this === ja?!0:ja instanceof Rc?this.scheme == ja.scheme:!1;},toJSON:function(){var ja;ja={};ja.scheme=this.scheme;ja.authdata=this.getAuthData();return ja;}});Ie=function(ja,ca,Z,aa){Pa(aa,function(){var ha,ba,ma;ha=Z.scheme;ba=Z.authdata;if(!ha || !ba)throw new Db(Y.JSON_PARSE_ERROR,"userauthdata " + JSON.stringify(Z));if(!yc[ha])throw new uc(Y.UNIDENTIFIED_USERAUTH_SCHEME,ha);ma=ja.getUserAuthenticationFactory(ha);if(!ma)throw new uc(Y.USERAUTH_FACTORY_NOT_FOUND,ha);ma.createData(ja,ca,ba,aa);});};})();Ue=Cb.Class.create({init:function(ja){Object.defineProperties(this,{scheme:{value:ja,writable:!1,configurable:!1}});},createData:function(ja,ca,Z,aa){},authenticate:function(ja,ca,Z,aa){}});(function(){Zc=Rc.extend({init:function aa(ca,Z){aa.base.call(this,yc.NETFLIXID);Object.defineProperties(this,{netflixId:{value:ca,writable:!1,configurable:!1},secureNetflixId:{value:Z,writable:!1,configurable:!1}});},getAuthData:function(){var ca;ca={};ca.netflixid=this.netflixId;this.secureNetflixId && (ca.securenetflixid=this.secureNetflixId);return ca;},equals:function aa(Z){return this === Z?!0:Z instanceof Zc?aa.base.call(this,Z) && this.netflixId == Z.netflixId && this.secureNetflixId == Z.secureNetflixId:!1;}});Ve=function(Z){var aa,ha;aa=Z.netflixid;ha=Z.securenetflixid;if(!aa)throw new Db(Y.JSON_PARSE_ERROR,"NetflixId authdata " + JSON.stringify(Z));return new Zc(aa,ha);};})();vf=Ue.extend({init:function ca(){ca.base.call(this,yc.NETFLIXID);},createData:function(ca,Z,aa,ha){Pa(ha,function(){return Ve(aa);});},authenticate:function(ca,Z,aa,ha){if(!(aa instanceof Zc))throw new xb("Incorrect authentication data type " + aa + ".");ca=aa.secureNetflixId;if(!aa.netflixId || !ca)throw new uc(Y.NETFLIXID_COOKIES_BLANK).setUser(aa);throw new uc(Y.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(aa);}});(function(){$c=Rc.extend({init:function ha(Z,aa){ha.base.call(this,yc.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:Z,writable:!1,configurable:!1},password:{value:aa,writable:!1,configurable:!1}});},getAuthData:function(){var Z;Z={};Z.email=this.email;Z.password=this.password;return Z;},equals:function ha(aa){return this === aa?!0:aa instanceof $c?ha.base.call(this,this,aa) && this.email == aa.email && this.password == aa.password:!1;}});We=function(aa){var ha,ba;ha=aa.email;ba=aa.password;if(!ha || !ba)throw new Db(Y.JSON_PARSE_ERROR,"email/password authdata " + JSON.stringify(aa));return new $c(ha,ba);};})();wf=Ue.extend({init:function Z(){Z.base.call(this,yc.EMAIL_PASSWORD);},createData:function(Z,aa,ha,ba){Pa(ba,function(){return We(ha);});},authenticate:function(Z,aa,ha,ba){if(!(ha instanceof $c))throw new xb("Incorrect authentication data type " + ha + ".");Z=ha.password;if(!ha.email || !Z)throw new uc(Y.EMAILPASSWORD_BLANK).setUser(ha);throw new uc(Y.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(ha);}});Object.freeze({ENTITY_REAUTH:Ja.ENTITY_REAUTH,ENTITYDATA_REAUTH:Ja.ENTITYDATA_REAUTH});xf=Cb.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(Z,aa){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(Z){},getUserAuthenticationFactory:function(Z){},getTokenFactory:function(){},getKeyExchangeFactory:function(Z){},getKeyExchangeFactories:function(){},getMslStore:function(){}});Xe=Cb.Class.create({setCryptoContext:function(Z,aa){},getMasterToken:function(){},getNonReplayableId:function(Z){},getCryptoContext:function(Z){},removeCryptoContext:function(Z){},clearCryptoContexts:function(){},addUserIdToken:function(Z,aa){},getUserIdToken:function(Z){},removeUserIdToken:function(Z){},clearUserIdTokens:function(){},addServiceTokens:function(Z){},getServiceTokens:function(Z,aa){},removeServiceTokens:function(Z,aa,ha){},clearServiceTokens:function(){}});(function(){var Z;Z=Cc;Od=function(aa,ha){var ba;ba={};switch(aa){case Z.LZW:return ce(ha,ba);case Z.GZIP:return gzip$compress(ha);default:throw new gb(Y.UNSUPPORTED_COMPRESSION,aa);}};pd=function(aa,ha,ba){switch(aa){case Z.LZW:return de(ha);case Z.GZIP:return gzip$uncompress(ha);default:throw new gb(Y.UNSUPPORTED_COMPRESSION,aa.name());}};})();Xe.extend({setCryptoContext:function(Z,aa){},getMasterToken:function(){return null;},getNonReplayableId:function(Z){return 1;},getCryptoContext:function(Z){return null;},removeCryptoContext:function(Z){},clearCryptoContexts:function(){},addUserIdToken:function(Z,aa){},getUserIdToken:function(Z){return null;},removeUserIdToken:function(Z){},clearUserIdTokens:function(){},addServiceTokens:function(Z){},getServiceTokens:function(Z,aa){if(aa){if(!Z)throw new gb(Y.USERIDTOKEN_MASTERTOKEN_NULL);if(!aa.isBoundTo(Z))throw new gb(Y.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + aa.mtSerialNumber + "; mt " + Z.serialNumber);}return [];},removeServiceTokens:function(Z,aa,ha){if(ha && aa && !ha.isBoundTo(aa))throw new gb(Y.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ha.masterTokenSerialNumber + "; mt " + aa.serialNumber);},clearServiceTokens:function(){}});(function(){Ye=Xe.extend({init:function aa(){aa.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(aa,ha){var ba;if(ha){ba=aa.uniqueKey();this.masterTokens[ba]=aa;this.cryptoContexts[ba]=ha;}else this.removeCryptoContext(aa);},getMasterToken:function(){var aa,ha,ba;aa=null;for(ha in this.masterTokens){ba=this.masterTokens[ha];if(!aa || ba.isNewerThan(aa))aa=ba;}return aa;},getNonReplayableId:function(aa){var ha;aa=aa.serialNumber;ha=this.nonReplayableIds[aa] !== Bb?this.nonReplayableIds[aa]:0;if(0 > ha || ha > Lb)throw new xb("Non-replayable ID " + ha + " is outside the valid range.");ha=ha == Lb?0:ha + 1;return this.nonReplayableIds[aa]=ha;},getCryptoContext:function(aa){return this.cryptoContexts[aa.uniqueKey()];},removeCryptoContext:function(aa){var ha,ba,ma,Ba;ha=aa.uniqueKey();if(this.masterTokens[ha]){ba=aa.serialNumber;for(ma in this.masterTokens){Ba=this.masterTokens[ma];if(!Ba.equals(aa) && Ba.serialNumber == ba){delete this.masterTokens[ha];delete this.cryptoContexts[ha];return;}}Object.keys(this.userIdTokens).forEach(function(va){va=this.userIdTokens[va];va.isBoundTo(aa) && this.removeUserIdToken(va);},this);try{this.removeServiceTokens(null,aa,null);}catch(va){if(va instanceof gb)throw new xb("Unexpected exception while removing master token bound service tokens.",va);throw va;}delete this.nonReplayableIds[ba];delete this.masterTokens[ha];delete this.cryptoContexts[ha];}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(aa){for(var ha in aa){delete aa[ha];}},this);},addUserIdToken:function(aa,ha){var ba,ma;ba=!1;for(ma in this.masterTokens){if(ha.isBoundTo(this.masterTokens[ma])){ba=!0;break;}}if(!ba)throw new gb(Y.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber " + ha.mtSerialNumber);this.userIdTokens[aa]=ha;},getUserIdToken:function(aa){return this.userIdTokens[aa];},removeUserIdToken:function(aa){var ha,ba,ma;ha=null;for(ba in this.masterTokens){ma=this.masterTokens[ba];if(aa.isBoundTo(ma)){ha=ma;break;}}Object.keys(this.userIdTokens).forEach(function(Ba){if(this.userIdTokens[Ba].equals(aa)){try{this.removeServiceTokens(null,ha,aa);}catch(va){if(va instanceof gb)throw new xb("Unexpected exception while removing user ID token bound service tokens.",va);throw va;}delete this.userIdTokens[Ba];}},this);},clearUserIdTokens:function(){for(var aa in this.userIdTokens){this.removeUserIdToken(this.userIdTokens[aa]);}},addServiceTokens:function(aa){aa.forEach(function(ha){var ba,ma;if(ha.isMasterTokenBound()){ba=!1;for(ma in this.masterTokens){if(ha.isBoundTo(this.masterTokens[ma])){ba=!0;break;}}if(!ba)throw new gb(Y.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber " + ha.mtSerialNumber);}if(ha.isUserIdTokenBound()){ba=!1;for(var Ba in this.userIdTokens){if(ha.isBoundTo(this.userIdTokens[Ba])){ba=!0;break;}}if(!ba)throw new gb(Y.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber " + ha.uitSerialNumber);}},this);aa.forEach(function(ha){var ba;if(ha.isUnbound())this.unboundServiceTokens[ha.uniqueKey()]=ha;else {if(ha.isMasterTokenBound()){ba=this.mtServiceTokens[ha.mtSerialNumber];ba || (ba={});ba[ha.uniqueKey()]=ha;this.mtServiceTokens[ha.mtSerialNumber]=ba;}ha.isUserIdTokenBound() && ((ba=this.uitServiceTokens[ha.uitSerialNumber]) || (ba={}),ba[ha.uniqueKey()]=ha,this.uitServiceTokens[ha.uitSerialNumber]=ba);}},this);},getServiceTokens:function(aa,ha){var ba,ma,Ba;if(ha){if(!aa)throw new gb(Y.USERIDTOKEN_MASTERTOKEN_NULL);if(!ha.isBoundTo(aa))throw new gb(Y.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ha.mtSerialNumber + "; mt " + aa.serialNumber);}ba={};for(ma in this.unboundServiceTokens){Ba=this.unboundServiceTokens[ma];ba[Ba.uniqueKey()]=Ba;}if(aa && (ma=this.mtServiceTokens[aa.serialNumber]))for(var va in ma){Ba=ma[va];Ba.isUserIdTokenBound() || (ba[va]=Ba);}if(ha && (ha=this.uitServiceTokens[ha.serialNumber]))for(var oa in ha){va=ha[oa];va.isBoundTo(aa) && (ba[oa]=va);}aa=[];for(var ua in ba){aa.push(ba[ua]);}return aa;},removeServiceTokens:function(aa,ha,ba){var ma,Ba,va;if(ba && ha && !ba.isBoundTo(ha))throw new gb(Y.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ba.mtSerialNumber + "; mt " + ha.serialNumber);!aa || ha || ba || Object.keys(this.unboundServiceTokens).forEach(function(oa){this.unboundServiceTokens[oa].name == aa && delete this.unboundServiceTokens[oa];},this);if(ha && !ba && (ma=this.mtServiceTokens[ha.serialNumber])){va=Object.keys(ma);va.forEach(function(oa){var ua;ua=ma[oa];aa && ua.name != aa || delete ma[oa];},this);this.mtServiceTokens[ha.serialNumber]=ma;}ba && (Ba=this.uitServiceTokens[ba.serialNumber]) && (ha=Object.keys(Ba),ha.forEach(function(oa){var ua;ua=Ba[oa];aa && ua.name != aa || delete Ba[oa];},this),this.uitServiceTokens[ba.serialNumber]=Ba);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(aa){for(var ha in aa){delete aa[ha];}},this);}});})();sf.extend({init:function aa(){aa.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(aa,ha){ha && aa && aa.length && (aa=Eb(aa),this._contextMap[aa]=ha);},getCryptoContext:function(aa){return aa && aa.length?(aa=Eb(aa),this._contextMap[aa] || null):null;},removeCryptoContext:function(aa){aa && aa.length && (aa=Eb(aa),delete this._contextMap[aa]);}});kf.extend({init:function va(ha,ba,ma,Ba){va.base.call(this,ha);Object.defineProperties(this,{_kde:{value:ba,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:ma,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:Ba,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(ha,ba){if(!(ba instanceof qc))throw new xb("Incorrect authentication data type " + JSON.stringify(ba) + ".");if(ba.identity != this.localIdentity)throw new kc(Y.ENTITY_NOT_FOUND,"mgk " + ba.identity);return new jd(ha,this.localIdentity,this._kde,this._kdh,this._kdw);}});lf.extend({init:function oa(ba,ma,Ba,va){oa.base.call(this,ba);Object.defineProperties(this,{_kpe:{value:ma,writable:!1,enumerable:!1,configurable:!1},_kph:{value:Ba,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:va,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(ba,ma){if(!(ma instanceof rc))throw new xb("Incorrect authentication data type " + JSON.stringify(ma) + ".");if(ma.identity != this.localIdentity)throw new kc(Y.ENTITY_NOT_FOUND,"psk " + ma.identity);return new jd(ba,this.localIdentity,this._kpe,this._kph,this._kpw);}});zf=Ye.extend({init:function ra(ma,Ba,va,oa,ua,Ea){ra.base.call(this);this._log=ma;this._esn=Ba;this._keyRequestData=va;this._createKeyRequestData=oa;this._systemKeyName=ua;this._systemKeyWrapFormat=Ea;},setCryptoContext:function ua(Ba,va,oa){var Ea;Ea=this;Ea._log.trace("Adding MasterToken",{SequenceNumber:Ba.sequenceNumber,SerialNumber:Ba.serialNumber,Expiration:Ba.expiration.getTime()});ua.base.call(this,Ba,va);!oa && (Ba=Ea._createKeyRequestData) && (Ea._log.trace("Generating new keyx request data"),Ba().then(function(ra){Ea._keyRequestData=ra;},function(ra){Ea._log.error("Unable to generate new keyx request data","" + ra);}));},addUserIdToken:function ua(va,oa){this._log.trace("Adding UserIdToken",{UserId:va,SerialNumber:oa.serialNumber,MTSerialNumber:oa.mtSerialNumber,Expiration:oa.expiration.getTime()});ua.base.call(this,va,oa);},addServiceTokens:function ua(oa){ua.base.call(this,oa.filter(function(Ea){return !yf[Ea.name];}));},getUserIdTokenKeys:function(){var oa,ua;oa=[];for(ua in this.userIdTokens){oa.push(ua);}return oa;},rekeyUserIdToken:function(oa,ua){this.userIdTokens[oa] && (this.userIdTokens[ua]=this.userIdTokens[oa],delete this.userIdTokens[oa]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(oa){var ua;ua=this;Pa(oa,function(){var Ea;Ea=ua.getMasterToken();Ea?ua.getKeysForStore(Ea,{result:function(ra){Pa(oa,function(){var ea,ka,na;ea=ua.userIdTokens;ka=Object.keys(ea).map(function(Ca){var Ua;Ua=ea[Ca];return {userId:Ca,userIdTokenJSON:ea[Ca].toJSON(),serviceTokenJSONList:ua.getServiceTokens(Ea,Ua).map(df)};});ra.esn=ua._esn;ra.masterTokenJSON=Ea.toJSON();ra.userList=ka;na=ua._keyRequestData.storeData;na && Object.keys(na).forEach(function(Ca){ra[Ca]=na[Ca];});return ra;});},timeout:oa.timeout,error:oa.error}):oa.result(null);});},getKeysForStore:function(oa,ua){var Ea;Ea=this;Pa(ua,function(){var ra;ra=Ea.getCryptoContext(oa);ra={encryptionKey:ra.encryptionKey,hmacKey:ra.hmacKey};if(ra.encryptionKey && ra.hmacKey){if(Ea._systemKeyWrapFormat)Ea.wrapKeysWithSystemKey(ra,ua);else return ra;}else throw new gb(Y.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(oa,ua){var Ea;Ea=this;Xd(this._systemKeyName,{result:function(ra){Pa(ua,function(){var ea,ka,na,Ca;ea=oa.encryptionKey;ka=oa.hmacKey;na=ea[Oc];Ca=ka[Oc];if(na && Ca)return {wrappedEncryptionKey:na,wrappedHmacKey:Ca};Promise.resolve().then(function(){return Promise.all([Kb.wrapKey(Ea._systemKeyWrapFormat,ea,ra,ra.algorithm),Kb.wrapKey(Ea._systemKeyWrapFormat,ka,ra,ra.algorithm)]);}).then(function(Ua){na=Eb(Ua[0]);ea[Oc]=na;Ca=Eb(Ua[1]);ka[Oc]=Ca;ua.result({wrappedEncryptionKey:na,wrappedHmacKey:Ca});}).catch(function(Ua){ua.error(new gb(Y.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",Ua));});});},timeout:ua.timeout,error:ua.error});},unwrapKeysWithSystemKey:function(oa,ua){var Ea;Ea=this;Xd(this._systemKeyName,{result:function(ra){Pa(ua,function(){var ea,ka;ea=Hb(oa.wrappedEncryptionKey);ka=Hb(oa.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Kb.unwrapKey(Ea._systemKeyWrapFormat,ea,ra,ra.algorithm,hc,!1,vc),Kb.unwrapKey(Ea._systemKeyWrapFormat,ka,ra,ra.algorithm,ic,!1,Ec)]);}).then(function(na){var Ca;Ca=na[0];na=na[1];Ca[Oc]=oa.wrappedEncryptionKey;na[Oc]=oa.wrappedHmacKey;ua.result({encryptionKey:Ca,hmacKey:na});}).catch(function(na){ua.error(new gb(Y.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",na));});});},timeout:ua.timeout,error:ua.error});},loadStoreState:function(oa,ua,Ea,ra){var na,Ca;function ea(Ua,Oa){var Sa;try{Sa=Ea.userList.slice();}catch(Va){}Sa?(function ta(){var Da;Da=Sa.shift();Da?nd(ua,Da.userIdTokenJSON,Ua,{result:function(Ia){try{na.addUserIdToken(Da.userId,Ia);ka(Ua,Ia,Da.serviceTokenJSONList,{result:ta,timeout:ta,error:ta});}catch(Ma){ta();}},timeout:ta,error:ta}):Oa.result();})():Oa.result();}function ka(Ua,Oa,Sa,Va){var ta,Da;try{ta=Sa.slice();}catch(Ia){}if(ta){Da=na.getCryptoContext(Ua);(function Ma(){var Ga;Ga=ta.shift();Ga?od(ua,Ga,Ua,Oa,Da,{result:function(Wa){na.addServiceTokens([Wa]);Ma();},timeout:function(){Ma();},error:function(){Ma();}}):Va.result();})();}else Va.result();}na=this;Ca=na._log;Ea.esn != na._esn?(Ca.error("Esn mismatch, starting fresh"),ra.error()):(function(Ua){var Va,ta,Da,Ia;function Oa(){var Ma;if(!Va && ta && Da && Ia){Va=!0;Ma=new fc(ua,ta,oa.esn,{rawKey:Da},{rawKey:Ia});na.setCryptoContext(ta,Ma,!0);Ua.result(ta);}}function Sa(Ma,Ga){Ca.error(Ma,Ga && "" + Ga);Va || (Va=!0,Ua.error());}Ea.masterTokenJSON?(Wc(ua,Ea.masterTokenJSON,{result:function(Ma){ta=Ma;Oa();},timeout:function(){Sa("Timeout parsing MasterToken");},error:function(Ma){Sa("Error parsing MasterToken",Ma);}}),na._systemKeyWrapFormat?na.unwrapKeysWithSystemKey(Ea,{result:function(Ma){Da=Ma.encryptionKey;Ia=Ma.hmacKey;Oa();},timeout:function(){Sa("Timeout unwrapping keys");},error:function(Ma){Sa("Error unwrapping keys",Ma);}}):Promise.resolve().then(function(){return Kb.encrypt({name:hc.name,iv:new Uint8Array(16)},Ea.encryptionKey,new Uint8Array(1));}).then(function(Ma){Da=Ea.encryptionKey;}).catch(function(Ma){Sa("Error loading encryptionKey");}).then(function(){return Kb.sign(ic,Ea.hmacKey,new Uint8Array(1));}).then(function(Ma){Ia=Ea.hmacKey;Oa();}).catch(function(Ma){Sa("Error loading hmacKey");})):Sa("Persisted store is corrupt");})({result:function(Ua){ea(Ua,ra);},timeout:ra.timeout,error:ra.error});}});yf={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};Oc="$netflix$msl$wrapsys";Af=xf.extend({init:function(oa,ua,Ea,ra,ea,ka){var na,Ca;na=new Xc([Cc.LZW]);Ca=new nf();Ca.addPublicKey(ua,Ea);ra[Pb.RSA]=new mf(Ca);ua={};ua[yc.EMAIL_PASSWORD]=new wf();ua[yc.NETFLIXID]=new vf();oa={_mslCryptoContext:{value:new jf(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:na,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:ea,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:ra,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:ua,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:ka,writable:!1,enumerable:!1,configurable:!1},_store:{value:oa,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,oa);},getTime:function(){return Date.now();},getRandom:function(){return new he();},isPeerToPeer:function(){return !1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(oa,ua){ua.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(oa){return this._entityAuthFactories[oa];},getUserAuthenticationFactory:function(oa){return this._userAuthFactories[oa];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(oa){return this._keyExchangeFactories.filter(function(ua){return ua.scheme == oa;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});Zd=Re.extend({init:function(oa,ua,Ea,ra){this._log=oa;this._mslContext=ua;this._mslRequest=Ea;this._keyRequestData=ra;},getCryptoContexts:function(){return {};},isEncrypted:function(){return ! !this._mslRequest.encrypted;},isNonReplayable:function(){return ! !this._mslRequest.nonReplayable;},isRequestingTokens:function(){return !0;},getUserId:function(){return this._mslRequest.profileGuid || this._mslRequest.userId || null;},getUserAuthData:function(oa,ua,Ea,ra){var ea;ea=this._mslRequest;Pa(ra,function(){return oa || !ea.shouldSendUserAuthData?null:ea.email?new $c(ea.email,ea.password):ea.useNetflixUserAuthData || Ea && ea.sendUserAuthIfRequired?new Zc():null;});},getCustomer:function(){return null;},getKeyRequestData:function(oa){oa.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(oa,ua,Ea){var ra,ea,ka,na,Ca,Ua;ra=this._log;ea=(this._mslRequest.serviceTokens || []).slice();ka=this._mslContext;ua=ka.getMslStore();na=oa.builder.getMasterToken();Ca=this.getUserId();Ua=ua.getUserIdToken(Ca);(function Sa(){var Va;Va=ea.shift();if(Va)try{Va instanceof xc?(oa.addPrimaryServiceToken(Va),Sa()):od(ka,Va,na,Ua,null,{result:function(ta){try{oa.addPrimaryServiceToken(ta);}catch(Da){ra.warn("Exception adding service token","" + Da);}Sa();},timeout:function(){ra.warn("Timeout parsing service token");Sa();},error:function(ta){ra.warn("Error parsing service token","" + ta);Sa();}});}catch(ta){ra.warn("Exception processing service token","" + ta);Sa();}else Ea.result(!0);})();},write:function(oa,ua,Ea){var ra;ra=Zb(this._mslRequest.body);oa.write(ra,0,ra.length,ua,{result:function(ea){ea != ra.length?Ea.error(new Sb("Not all data was written to output.")):oa.flush(ua,{result:function(){Ea.result(!0);},timeout:function(){Ea.timeout();},error:function(ka){Ea.error(ka);}});},timeout:function(){Ea.timeout();},error:function(ea){Ea.error(ea);}});},getDebugContext:function(){this._dc || (this._dc=new Bf(this._log,this._mslRequest));return this._dc;}});Bf=uf.extend({init:function(oa,ua){this._log=oa;this._mslRequest=ua;},sentHeader:function(oa){this._log.trace("Sent MSL header",Yd(this._mslRequest,oa),oa.serviceTokens && oa.serviceTokens.map(ef).join("\n"));},receivedHeader:function(oa){var ua,Ea;ua=Yd(this._mslRequest,oa);Ea=oa.errorCode;Ea?this._log.warn("Received MSL error header",ua,{errorCode:Ea,errorMessage:oa.errorMessage,internalCode:oa.internalCode}):this._log.trace("Received MSL header",ua);}});Cf={JWK_RSA:function(oa){return gf(oa,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},we.JWK_RSA);}};pb.netflix=pb.netflix || ({});pb.netflix.msl={createMslClient:function(oa,ua){var Ea,ra,ea,ka,na;Ea=oa.log;na=oa.notifyMilestone || (function(){});Promise.resolve().then(function(){if(!(Ob && Ob.generateKey && Ob.importKey && Ob.unwrapKey))throw new gb(Y.INTERNAL_EXCEPTION,"No WebCrypto");Xb=Ob.generateKey({name:"AES-CBC",length:128},!0,vc).then?ed.V2014_02:ed.LEGACY;na("mslisik");return Kb.importKey("spki",oa.serverIdentityKeyData,ie,!1,["verify"]);}).then(function(Ca){return new Promise(function(Ua,Oa){Bc(Ca,{result:Ua,error:function(){Oa(new gb(Y.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(Ca){ra=Ca;if(Ca=Cf.JWK_RSA)return (na("mslcc"),Ca(oa));throw new gb(Y.INTERNAL_EXCEPTION,"Invalid authenticationType: JWK_RSA");}).then(function(Ca){var Ua;ea=new zf(Ea,oa.esn,Ca.keyRequestData,Ca.createKeyRequestData,oa.authenticationKeyNames.s,oa.systemKeyWrapFormat);ka=new Af(ea,oa.serverIdentityId,ra,Ca.entityAuthFactories,Ca.entityAuthData,Ca.keyExchangeFactories);Ua=oa.storeState;if(Ua)return (na("mslss"),Ea.info("Loading store state"),new Promise(function(Oa,Sa){ea.loadStoreState(oa,ka,Ua,{result:Oa,timeout:Oa,error:Oa});}));Ea.info("No store state, starting fresh");}).then(function(){var Ca;Ca=new Se();na("msldone");ua.result(new ff(Ea,Ca,ka,ea,oa.ErrorSubCodes));}).catch(function(Ca){ua.error(Ca);});},IHttpLocation:qf,MslIoException:Sb};(function(){var cb,Ya,kb,nb,qb,sb,tb,Ab,zb;function oa(q){var b;b=0;return function(){return b < q.length?{done:!1,value:q[b++]}:{done:!0};};}function ua(q,b){var a,k;if(b)a:{a=Ya;q=q.split(".");for(var c=0;c < q.length - 1;c++){k=q[c];if(!((k in a)))break a;a=a[k];}q=q[q.length - 1];c=a[q];b=b(c);b != c && null != b && cb(a,q,{configurable:!0,writable:!0,value:b});}}function Ea(q){q={next:q};q[Symbol.iterator]=function(){return this;};return q;}function ra(q){var b;b="undefined" != typeof Symbol && Symbol.iterator && q[Symbol.iterator];return b?b.call(q):{next:oa(q)};}function ea(q){for(var b,a=[];!(b=q.next()).done;){a.push(b.value);}return a;}function ka(q){return q instanceof Array?q:ea(ra(q));}function na(q,b){var c;q.prototype=kb(b.prototype);q.prototype.constructor=q;if(Ab)Ab(q,b);else for(var a in b){if("prototype" != a)if(Object.defineProperties){c=Object.getOwnPropertyDescriptor(b,a);c && Object.defineProperty(q,a,c);}else q[a]=b[a];}q.Djc=b.prototype;}function Ca(){this.h_=!1;this.uH=null;this.Hga=void 0;this.kG=1;this.h1a=this.UAb=0;this.oW=null;}function Ua(q){if(q.h_)throw new TypeError("Generator is already running");q.h_=!0;}function Oa(q,b){q.kG=2;return {value:b};}function Sa(q){this.ig=new Ca();this.W_b=q;}function Va(q,b){var a;Ua(q.ig);a=q.ig.uH;if(a)return ta(q,("return" in a)?a["return"]:function(c){return {value:c,done:!0};},b,q.ig.return);q.ig.return(b);return Da(q);}function ta(q,b,a,c){var k,g;try{k=b.call(q.ig.uH,a);if(!(k instanceof Object))throw new TypeError("Iterator result " + k + " is not an object");if(!k.done)return (q.ig.h_=!1,k);g=k.value;}catch(f){return (q.ig.uH=null,q.ig.Y2(f),Da(q));}q.ig.uH=null;c.call(q.ig,g);return Da(q);}function Da(q){var b;for(;q.ig.kG;){try{b=q.W_b(q.ig);if(b)return (q.ig.h_=!1,{value:b.value,done:!1});}catch(a){q.ig.Hga=void 0;q.ig.Y2(a);}}q.ig.h_=!1;if(q.ig.oW){b=q.ig.oW;q.ig.oW=null;if(b.uRb)throw b.DP;return {value:b.return,done:!0};}return {value:void 0,done:!0};}function Ia(q){this.next=function(b){return q.k0(b);};this.throw=function(b){return q.Y2(b);};this.return=function(b){return Va(q,b);};this[Symbol.iterator]=function(){return this;};}function Ma(q,b){b=new Ia(new Sa(b));Ab && q.prototype && Ab(b,q.prototype);return b;}function Ga(q,b){return Object.prototype.hasOwnProperty.call(q,b);}function Wa(q,b){var a,c,k;q instanceof String && (q+="");a=0;c=!1;k={next:function(){var g;if(!c && a < q.length){g=a++;return {value:b(g,q[g]),done:!1};}c=!0;return {done:!0,value:void 0};}};k[Symbol.iterator]=function(){return k;};return k;}function La(q,b,a){var g;q instanceof String && (q=String(q));for(var c=q.length,k=0;k < c;k++){g=q[k];if(b.call(a,g,k,q))return {yua:k,Qz:g};}return {yua:-1,Qz:void 0};}function Za(q,b,a){if(null == q)throw new TypeError("The 'this' value for String.prototype." + a + " must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype." + a + " must not be a regular expression");return q + "";}cb="function" == typeof Object.defineProperties?Object.defineProperty:function(q,b,a){if(q == Array.prototype || q == Object.prototype)return q;q[b]=a.value;return q;};Ya=(function(q){var a;q=["object" == typeof globalThis && globalThis,q,"object" == typeof pb && pb,"object" == typeof self && self,"object" == typeof global && global];for(var b=0;b < q.length;++b){a=q[b];if(a && a.Math == Math)return a;}throw Error("Cannot find global object");})(this);ua("Symbol",function(q){var c;function b(k){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new a("jscomp_symbol_" + (k || "") + "_" + c++,k);}function a(k,g){this.pjb=k;cb(this,"description",{configurable:!0,writable:!0,value:g});}if(q)return q;a.prototype.toString=function(){return this.pjb;};c=0;return b;});ua("Symbol.iterator",function(q){var c;if(q)return q;q=Symbol("Symbol.iterator");for(var b=("Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array").split(" "),a=0;a < b.length;a++){c=Ya[b[a]];"function" === typeof c && "function" != typeof c.prototype[q] && cb(c.prototype,q,{configurable:!0,writable:!0,value:function(){return Ea(oa(this));}});}return q;});kb="function" == typeof Object.create?Object.create:function(q){function b(){}b.prototype=q;return new b();};nb=(function(){var b;function q(){function a(){}new a();Reflect.construct(a,[],function(){});return new a() instanceof a;}if("undefined" != typeof Reflect && Reflect.construct){if(q())return Reflect.construct;b=Reflect.construct;return function(a,c,k){a=b(a,c);k && Reflect.setPrototypeOf(a,k.prototype);return a;};}return function(a,c,k){void 0 === k && (k=a);k=kb(k.prototype || Object.prototype);return Function.prototype.apply.call(a,k,c) || k;};})();if("function" == typeof Object.setPrototypeOf)qb=Object.setPrototypeOf;else {a:{sb={a:!0};tb={};try{tb.__proto__=sb;qb=tb.a;break a;}catch(q){}qb=!1;}qb=qb?function(q,b){q.__proto__=b;if(q.__proto__ !== b)throw new TypeError(q + " is not extensible");return q;}:null;}Ab=qb;Ca.prototype.k0=function(q){this.Hga=q;};Ca.prototype.Y2=function(q){this.oW={DP:q,uRb:!0};this.kG=this.UAb || this.h1a;};Ca.prototype.return=function(q){this.oW={return:q};this.kG=this.h1a;};Sa.prototype.k0=function(q){Ua(this.ig);if(this.ig.uH)return ta(this,this.ig.uH.next,q,this.ig.k0);this.ig.k0(q);return Da(this);};Sa.prototype.Y2=function(q){Ua(this.ig);if(this.ig.uH)return ta(this,this.ig.uH["throw"],q,this.ig.k0);this.ig.Y2(q);return Da(this);};ua("Reflect",function(q){return q?q:{};});ua("Reflect.construct",function(){return nb;});ua("Reflect.setPrototypeOf",function(q){return q?q:Ab?function(b,a){try{return (Ab(b,a),!0);}catch(c){return !1;}}:null;});ua("Object.setPrototypeOf",function(q){return q || Ab;});zb="function" == typeof Object.assign?Object.assign:function(q,b){var c;for(var a=1;a < arguments.length;a++){c=arguments[a];if(c)for(var k in c){Ga(c,k) && (q[k]=c[k]);}}return q;};ua("Object.assign",function(q){return q || zb;});ua("Promise",function(q){var k,g;function b(f){var d;this.mS=0;this.Z1=void 0;this.eR=[];this.H6a=!1;d=this.bqa();try{f(d.resolve,d.reject);}catch(h){d.reject(h);}}function a(){this.FE=null;}function c(f){return f instanceof b?f:new b(function(d){d(f);});}if(q)return q;a.prototype.gWa=function(f){var d;if(null == this.FE){this.FE=[];d=this;this.hWa(function(){d.$Ib();});}this.FE.push(f);};k=Ya.setTimeout;a.prototype.hWa=function(f){k(f,0);};a.prototype.$Ib=function(){var f,h;for(;this.FE && this.FE.length;){f=this.FE;this.FE=[];for(var d=0;d < f.length;++d){h=f[d];f[d]=null;try{h();}catch(m){this.Ryb(m);}}}this.FE=null;};a.prototype.Ryb=function(f){this.hWa(function(){throw f;});};b.prototype.bqa=function(){var d,h;function f(m){return function(l){h || (h=!0,m.call(d,l));};}d=this;h=!1;return {resolve:f(this.h2b),reject:f(this.Oza)};};b.prototype.h2b=function(f){var d;if(f === this)this.Oza(new TypeError("A Promise cannot resolve to itself"));else if(f instanceof b)this.e4b(f);else {a:switch(typeof f){case "object":d=null != f;break a;case "function":d=!0;break a;default:d=!1;}d?this.g2b(f):this.W1a(f);}};b.prototype.g2b=function(f){var d;d=void 0;try{d=f.then;}catch(h){this.Oza(h);return;}"function" == typeof d?this.f4b(d,f):this.W1a(f);};b.prototype.Oza=function(f){this.Reb(2,f);};b.prototype.W1a=function(f){this.Reb(1,f);};b.prototype.Reb=function(f,d){if(0 != this.mS)throw Error("Cannot settle(" + f + ", " + d + "): Promise already settled in state" + this.mS);this.mS=f;this.Z1=d;2 === this.mS && this.L2b();this.aJb();};b.prototype.L2b=function(){var f;f=this;k(function(){var d;if(f.RWb()){d=Ya.console;"undefined" !== typeof d && d.error(f.Z1);}},1);};b.prototype.RWb=function(){var f,d,h;if(this.H6a)return !1;f=Ya.CustomEvent;d=Ya.Event;h=Ya.dispatchEvent;if("undefined" === typeof h)return !0;"function" === typeof f?f=new f("unhandledrejection",{cancelable:!0}):"function" === typeof d?f=new d("unhandledrejection",{cancelable:!0}):(f=Ya.document.createEvent("CustomEvent"),f.initCustomEvent("unhandledrejection",!1,!0,f));f.promise=this;f.reason=this.Z1;return h(f);};b.prototype.aJb=function(){if(null != this.eR){for(var f=0;f < this.eR.length;++f){g.gWa(this.eR[f]);}this.eR=null;}};g=new a();b.prototype.e4b=function(f){var d;d=this.bqa();f.q9(d.resolve,d.reject);};b.prototype.f4b=function(f,d){var h;h=this.bqa();try{f.call(d,h.resolve,h.reject);}catch(m){h.reject(m);}};b.prototype.then=function(f,d){var m,l,n;function h(p,r){return "function" == typeof p?function(t){try{m(p(t));}catch(w){l(w);}}:r;}n=new b(function(p,r){m=p;l=r;});this.q9(h(f,m),h(d,l));return n;};b.prototype.catch=function(f){return this.then(void 0,f);};b.prototype.q9=function(f,d){var m;function h(){switch(m.mS){case 1:f(m.Z1);break;case 2:d(m.Z1);break;default:throw Error("Unexpected state: " + m.mS);}}m=this;null == this.eR?g.gWa(h):this.eR.push(h);this.H6a=!0;};b.resolve=c;b.reject=function(f){return new b(function(d,h){h(f);});};b.race=function(f){return new b(function(d,h){for(var m=ra(f),l=m.next();!l.done;l=m.next()){c(l.value).q9(d,h);}});};b.all=function(f){var d,h;d=ra(f);h=d.next();return h.done?c([]):new b(function(m,l){var p,r;function n(t){return function(w){p[t]=w;r--;0 == r && m(p);};}p=[];r=0;do {p.push(void 0);r++;c(h.value).q9(n(p.length - 1),l);h=d.next();}while(!h.done);});};return b;});ua("Array.prototype.keys",function(q){return q?q:function(){return Wa(this,function(b){return b;});};});ua("Array.prototype.find",function(q){return q?q:function(b,a){return La(this,b,a).Qz;};});ua("Object.is",function(q){return q?q:function(b,a){return b === a?0 !== b || 1 / b === 1 / a:b !== b && a !== a;};});ua("Array.prototype.includes",function(q){return q?q:function(b,a){var c,k,g;c=this;c instanceof String && (c=String(c));k=c.length;a=a || 0;for(0 > a && (a=Math.max(a + k,0));a < k;a++){g=c[a];if(g === b || Object.is(g,b))return !0;}return !1;};});ua("String.prototype.includes",function(q){return q?q:function(b,a){return -1 !== Za(this,b,"includes").indexOf(b,a || 0);};});ua("Math.tanh",function(q){return q?q:function(b){var a;b=Number(b);if(0 === b)return b;a=Math.exp(-2 * Math.abs(b));a=(1 - a) / (1 + a);return 0 > b?-a:a;};});ua("Number.isNaN",function(q){return q?q:function(b){return "number" === typeof b && isNaN(b);};});ua("WeakMap",function(q){var f,d;function b(h){this.PZ=(d+=Math.random() + 1).toString();if(h){h=ra(h);for(var m;!(m=h.next()).done;){m=m.value;this.set(m[0],m[1]);}}}function a(){}function c(h){var m;m=typeof h;return "object" === m && null !== h || "function" === m;}function k(h){var m;if(!Ga(h,f)){m=new a();cb(h,f,{value:m});}}function g(h){var m;m=Object[h];m && (Object[h]=function(l){if(l instanceof a)return l;Object.isExtensible(l) && k(l);return m(l);});}if((function(){var h,m,l;if(!q || !Object.seal)return !1;try{h=Object.seal({});m=Object.seal({});l=new q([[h,2],[m,3]]);if(2 != l.get(h) || 3 != l.get(m))return !1;l.delete(h);l.set(m,4);return !l.has(h) && 4 == l.get(m);}catch(n){return !1;}})())return q;f="$jscomp_hidden_" + Math.random();g("freeze");g("preventExtensions");g("seal");d=0;b.prototype.set=function(h,m){if(!c(h))throw Error("Invalid WeakMap key");k(h);if(!Ga(h,f))throw Error("WeakMap key fail: " + h);h[f][this.PZ]=m;return this;};b.prototype.get=function(h){return c(h) && Ga(h,f)?h[f][this.PZ]:void 0;};b.prototype.has=function(h){return c(h) && Ga(h,f) && Ga(h[f],this.PZ);};b.prototype.delete=function(h){return c(h) && Ga(h,f) && Ga(h[f],this.PZ)?delete h[f][this.PZ]:!1;};return b;});ua("Map",function(q){var g,f;function b(){var d;d={};return d.Tq=d.next=d.head=d;}function a(d,h){var m;m=d.UB;return Ea(function(){if(m){for(;m.head != d.UB;){m=m.Tq;}for(;m.next != m.head;){return (m=m.next,{done:!1,value:h(m)});}m=null;}return {done:!0,value:void 0};});}function c(d,h){var m,l,n;m=h && typeof h;"object" == m || "function" == m?g.has(h)?m=g.get(h):(m="" + ++f,g.set(h,m)):m="p_" + h;l=d.wB[m];if(l && Ga(d.wB,m))for(d=0;d < l.length;d++){n=l[d];if(h !== h && n.key !== n.key || h === n.key)return {id:m,list:l,index:d,entry:n};}return {id:m,list:l,index:-1,entry:void 0};}function k(d){this.wB={};this.UB=b();this.size=0;if(d){d=ra(d);for(var h;!(h=d.next()).done;){h=h.value;this.set(h[0],h[1]);}}}if((function(){var d,h,m,l;if(!q || "function" != typeof q || !q.prototype.entries || "function" != typeof Object.seal)return !1;try{d=Object.seal({x:4});h=new q(ra([[d,"s"]]));if("s" != h.get(d) || 1 != h.size || h.get({x:4}) || h.set({x:4},"t") != h || 2 != h.size)return !1;m=h.entries();l=m.next();if(l.done || l.value[0] != d || "s" != l.value[1])return !1;l=m.next();return l.done || 4 != l.value[0].x || "t" != l.value[1] || !m.next().done?!1:!0;}catch(n){return !1;}})())return q;g=new WeakMap();k.prototype.set=function(d,h){var m;d=0 === d?0:d;m=c(this,d);m.list || (m.list=this.wB[m.id]=[]);m.entry?m.entry.value=h:(m.entry={next:this.UB,Tq:this.UB.Tq,head:this.UB,key:d,value:h},m.list.push(m.entry),this.UB.Tq.next=m.entry,this.UB.Tq=m.entry,this.size++);return this;};k.prototype.delete=function(d){d=c(this,d);return d.entry && d.list?(d.list.splice(d.index,1),d.list.length || delete this.wB[d.id],d.entry.Tq.next=d.entry.next,d.entry.next.Tq=d.entry.Tq,d.entry.head=null,this.size--,!0):!1;};k.prototype.clear=function(){this.wB={};this.UB=this.UB.Tq=b();this.size=0;};k.prototype.has=function(d){return ! !c(this,d).entry;};k.prototype.get=function(d){return (d=c(this,d).entry) && d.value;};k.prototype.entries=function(){return a(this,function(d){return [d.key,d.value];});};k.prototype.keys=function(){return a(this,function(d){return d.key;});};k.prototype.values=function(){return a(this,function(d){return d.value;});};k.prototype.forEach=function(d,h){for(var m=this.entries(),l;!(l=m.next()).done;){l=l.value;d.call(h,l[1],l[0],this);}};k.prototype[Symbol.iterator]=k.prototype.entries;f=0;return k;});ua("Set",function(q){function b(a){this.cz=new Map();if(a){a=ra(a);for(var c;!(c=a.next()).done;){this.add(c.value);}}this.size=this.cz.size;}if((function(){var a,c,k,g;if(!q || "function" != typeof q || !q.prototype.entries || "function" != typeof Object.seal)return !1;try{a=Object.seal({x:4});c=new q(ra([a]));if(!c.has(a) || 1 != c.size || c.add(a) != c || 1 != c.size || c.add({x:4}) != c || 2 != c.size)return !1;k=c.entries();g=k.next();if(g.done || g.value[0] != a || g.value[1] != a)return !1;g=k.next();return g.done || g.value[0] == a || 4 != g.value[0].x || g.value[1] != g.value[0]?!1:k.next().done;}catch(f){return !1;}})())return q;b.prototype.add=function(a){a=0 === a?0:a;this.cz.set(a,a);this.size=this.cz.size;return this;};b.prototype.delete=function(a){a=this.cz.delete(a);this.size=this.cz.size;return a;};b.prototype.clear=function(){this.cz.clear();this.size=0;};b.prototype.has=function(a){return this.cz.has(a);};b.prototype.entries=function(){return this.cz.entries();};b.prototype.values=function(){return this.cz.values();};b.prototype.keys=b.prototype.values;b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,c){var k;k=this;this.cz.forEach(function(g){return a.call(c,g,g,k);});};return b;});ua("Array.prototype.entries",function(q){return q?q:function(){return Wa(this,function(b,a){return [b,a];});};});ua("Object.entries",function(q){return q?q:function(b){var a,c;a=[];for(c in b){Ga(b,c) && a.push([c,b[c]]);}return a;};});ua("Object.getOwnPropertySymbols",function(q){return q?q:function(){return [];};});ua("Reflect.apply",function(q){var b;if(q)return q;b=Function.prototype.apply;return function(a,c,k){return b.call(a,c,k);};});ua("Number.isFinite",function(q){return q?q:function(b){return "number" !== typeof b?!1:!isNaN(b) && Infinity !== b && -Infinity !== b;};});ua("String.prototype.endsWith",function(q){return q?q:function(b,a){var c;c=Za(this,b,"endsWith");b+="";void 0 === a && (a=c.length);a=Math.max(0,Math.min(a | 0,c.length));for(var k=b.length;0 < k && 0 < a;){if(c[--a] != b[--k])return !1;}return 0 >= k;};});ua("String.prototype.repeat",function(q){return q?q:function(b){var a;a=Za(this,null,"repeat");if(0 > b || 1342177279 < b)throw new RangeError("Invalid count value");b|=0;for(var c="";b;){if((b & 1 && (c+=a),b>>>=1))a+=a;}return c;};});ua("Array.prototype.values",function(q){return q?q:function(){return Wa(this,function(b,a){return a;});};});ua("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});ua("Array.from",function(q){return q?q:function(b,a,c){var k,g;a=null != a?a:function(d){return d;};k=[];g="undefined" != typeof Symbol && Symbol.iterator && b[Symbol.iterator];if("function" == typeof g){b=g.call(b);for(var f=0;!(g=b.next()).done;){k.push(a.call(c,g.value,f++));}}else for((g=b.length,f=0);f < g;f++){k.push(a.call(c,b[f],f));}return k;};});ua("Object.values",function(q){return q?q:function(b){var a,c;a=[];for(c in b){Ga(b,c) && a.push(b[c]);}return a;};});ua("String.prototype.startsWith",function(q){return q?q:function(b,a){var c,k,g;c=Za(this,b,"startsWith");b+="";k=c.length;g=b.length;a=Math.max(0,Math.min(a | 0,c.length));for(var f=0;f < g && a < k;){if(c[a++] != b[f++])return !1;}return f >= g;};});ua("Promise.prototype.finally",function(q){return q?q:function(b){return this.then(function(a){return Promise.resolve(b()).then(function(){return a;});},function(a){return Promise.resolve(b()).then(function(){throw a;});});};});ua("Array.prototype.findIndex",function(q){return q?q:function(b,a){return La(this,b,a).yua;};});ua("String.fromCodePoint",function(q){return q?q:function(b){var k;for(var a="",c=0;c < arguments.length;c++){k=Number(arguments[c]);if(0 > k || 1114111 < k || k !== Math.floor(k))throw new RangeError("invalid_code_point " + k);65535 >= k?a+=String.fromCharCode(k):(k-=65536,a+=String.fromCharCode(k >>> 10 & 1023 | 55296),a+=String.fromCharCode(k & 1023 | 56320));}return a;};});ua("Number.parseInt",function(q){return q || parseInt;});(function(q){var a;function b(c){var k;if(a[c])return a[c].exports;k=a[c]={yua:c,CSb:!1,exports:{}};q[c].call(k.exports,k,k.exports,b);k.CSb=!0;return k.exports;}a={};b.thc=q;b.c=a;b.d=function(c,k,g){b.aXb(c,k) || Object.defineProperty(c,k,{enumerable:!0,get:g});};b.r=function(c){"undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});Object.defineProperty(c,"__esModule",{value:!0});};b.t=function(c,k){var g;k & 1 && (c=b(c));if(k & 8 || k & 4 && "object" === typeof c && c && c.__esModule)return c;g=Object.create(null);b.r(g);Object.defineProperty(g,"default",{enumerable:!0,value:c});if(k & 2 && "string" != typeof c)for(var f in c){b.d(g,f,(function(d){return c[d];}).bind(null,f));}return g;};b.n=function(c){var k;k=c && c.__esModule?function(){return c["default"];}:function(){return c;};b.d(k,"a",k);return k;};b.aXb=function(c,k){return Object.prototype.hasOwnProperty.call(c,k);};b.p="";return b(b.z2b=632);})([function(q,b,a){Object.defineProperty(b,"__esModule",{value:!0});q=a(44);b.Nbc=q;q=a(680);b.q4=q.q4;q=a(77);b.Qu=q.Qu;b.Ok=q.Ok;b.wA=q.wA;q=a(696);b.kEa=q.kEa;b.Nd=q.Nd;q=a(697);b.X=q.X;q=a(698);b.pgb=q.pgb;q=a(699);b.a$a=q.a$a;q=a(355);b.u=q.u;b.Lia=q.Lia;q=a(700);b.optional=q.optional;q=a(701);b.zp=q.zp;q=a(702);b.TK=q.TK;q=a(703);b.V2=q.V2;q=a(704);b.wbb=q.wbb;q=a(353);b.hja=q.hja;q=a(115);b.id=q.id;q=a(100);b.kq=q.kq;q=a(358);b.mhb=q.mhb;b.qgb=q.qgb;b.b$a=q.b$a;b.uhb=q.uhb;q=a(144);b.ZP=q.ZP;a=a(705);b.X9a=a.X9a;},function(q,b,a){function c(){c=Object.assign || (function(E){for(var I,K=1,L=arguments.length;K < L;K++){I=arguments[K];for(var H in I){Object.prototype.hasOwnProperty.call(I,H) && (E[H]=I[H]);}}return E;});return c.apply(this,arguments);}function k(E,I){k=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(K,L){K.__proto__=L;}) || (function(K,L){for(var H in L){L.hasOwnProperty(H) && (K[H]=L[H]);}});return k(E,I);}function g(E,I){function K(){this.constructor=E;}k(E,I);E.prototype=null === I?Object.create(I):(K.prototype=I.prototype,new K());}function f(E,I){var K,L,H;K={};for(L in E){Object.prototype.hasOwnProperty.call(E,L) && 0 > I.indexOf(L) && (K[L]=E[L]);}if(null != E && "function" === typeof Object.getOwnPropertySymbols){H=0;for(L=Object.getOwnPropertySymbols(E);H < L.length;H++){0 > I.indexOf(L[H]) && Object.prototype.propertyIsEnumerable.call(E,L[H]) && (K[L[H]]=E[L[H]]);}}return K;}function d(E,I,K,L){var H,P,N;H=arguments.length;P=3 > H?I:null === L?L=Object.getOwnPropertyDescriptor(I,K):L;if("object" === typeof Reflect && "function" === typeof Reflect.kq)P=Reflect.kq(E,I,K,L);else for(var J=E.length - 1;0 <= J;J--){if(N=E[J])P=(3 > H?N(P):3 < H?N(I,K,P):N(I,K)) || P;}return (3 < H && P && Object.defineProperty(I,K,P),P);}function h(E,I){return function(K,L){I(K,L,E);};}function m(E,I){if("object" === typeof Reflect && "function" === typeof Reflect.Oc)return Reflect.Oc(E,I);}function l(E,I,K,L){function H(P){return P instanceof K?P:new K(function(N){N(P);});}return new (K || (K=Promise))(function(P,N){function J(Q){try{O(L.next(Q));}catch(T){N(T);}}function M(Q){try{O(L["throw"](Q));}catch(T){N(T);}}function O(Q){Q.done?P(Q.value):H(Q.value).then(J,M);}O((L=L.apply(E,I || [])).next());});}function n(E,I){var H,P,N,J,M;function K(O){return function(Q){return L([O,Q]);};}function L(O){if(P)throw new TypeError("Generator is already executing.");for(;H;){try{if((P=1,N && (J=O[0] & 2?N["return"]:O[0]?N["throw"] || ((J=N["return"]) && J.call(N),0):N.next) && !(J=J.call(N,O[1])).done))return J;if((N=0,J))O=[O[0] & 2,J.value];switch(O[0]){case 0:case 1:J=O;break;case 4:return (H.label++,{value:O[1],done:!1});case 5:H.label++;N=O[1];O=[0];continue;case 7:O=H.wl.pop();H.qj.pop();continue;default:if(!(J=H.qj,J=0 < J.length && J[J.length - 1]) && (6 === O[0] || 2 === O[0])){H=0;continue;}if(3 === O[0] && (!J || O[1] > J[0] && O[1] < J[3]))H.label=O[1];else if(6 === O[0] && H.label < J[1])(H.label=J[1],J=O);else if(J && H.label < J[2])(H.label=J[2],H.wl.push(O));else {J[2] && H.wl.pop();H.qj.pop();continue;}}O=I.call(E,H);}catch(Q){O=[6,Q];N=0;}finally{P=J=0;}}if(O[0] & 5)throw O[1];return {value:O[0]?O[1]:void 0,done:!0};}H={label:0,pc:function(){if(J[0] & 1)throw J[1];return J[1];},qj:[],wl:[]};return (M={next:K(0),"throw":K(1),"return":K(2)},"function" === typeof Symbol && (M[Symbol.iterator]=function(){return this;}),M);}function p(E,I,K,L){void 0 === L && (L=K);E[L]=I[K];}function r(E,I){for(var K in E){"default" === K || I.hasOwnProperty(K) || (I[K]=E[K]);}}function t(E){var I,K,L;I="function" === typeof Symbol && Symbol.iterator;K=I && E[I];L=0;if(K)return K.call(E);if(E && "number" === typeof E.length)return {next:function(){E && L >= E.length && (E=void 0);return {value:E && E[L++],done:!E};}};throw new TypeError(I?"Object is not iterable.":"Symbol.iterator is not defined.");}function w(E,I){var K,L,H;K="function" === typeof Symbol && E[Symbol.iterator];if(!K)return E;E=K.call(E);H=[];try{for(;(void 0 === I || 0 < I--) && !(L=E.next()).done;){H.push(L.value);}}catch(N){var P;P={error:N};}finally{try{L && !L.done && (K=E["return"]) && K.call(E);}finally{if(P)throw P.error;}}return H;}function v(){for(var E=[],I=0;I < arguments.length;I++){E=E.concat(w(arguments[I]));}return E;}function u(){var L;for(var E=0,I=0,K=arguments.length;I < K;I++){E+=arguments[I].length;}E=Array(E);L=0;for(I=0;I < K;I++){for(var H=arguments[I],P=0,N=H.length;P < N;(P++,L++)){E[L]=H[P];}}return E;}function x(E){return this instanceof x?(this.Qz=E,this):new x(E);}function y(E,I,K){var M,O,Q;function L(T){M[T] && (O[T]=function(V){return new Promise(function(da,pa){1 < Q.push([T,V,da,pa]) || H(T,V);});});}function H(T,V){var da;try{da=M[T](V);da.value instanceof x?Promise.resolve(da.value.Qz).then(P,N):J(Q[0][2],da);}catch(pa){J(Q[0][3],pa);}}function P(T){H("next",T);}function N(T){H("throw",T);}function J(T,V){(T(V),Q.shift(),Q.length) && H(Q[0][0],Q[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");M=K.apply(E,I || []);Q=[];return (O={},L("next"),L("throw"),L("return"),O[Symbol.asyncIterator]=function(){return this;},O);}function z(E){var K,L;function I(H,P){K[H]=E[H]?function(N){return (L=!L)?{value:x(E[H](N)),done:"return" === H}:P?P(N):N;}:P;}return (K={},I("next"),I("throw",function(H){throw H;}),I("return"),K[Symbol.iterator]=function(){return this;},K);}function A(E){var L,H;function I(P){H[P]=E[P] && (function(N){return new Promise(function(J,M){N=E[P](N);K(J,M,N.done,N.value);});});}function K(P,N,J,M){Promise.resolve(M).then(function(O){P({value:O,done:J});},N);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");L=E[Symbol.asyncIterator];return L?L.call(E):(E="function" === typeof t?t(E):E[Symbol.iterator](),H={},I("next"),I("throw"),I("return"),H[Symbol.asyncIterator]=function(){return this;},H);}function B(E,I){Object.defineProperty?Object.defineProperty(E,"raw",{value:I}):E.raw=I;return E;}function D(E){var I;if(E && E.__esModule)return E;I={};if(null != E)for(var K in E){Object.hasOwnProperty.call(E,K) && (I[K]=E[K]);}I.default=E;return I;}function C(E){return E && E.__esModule?E:{default:E};}function F(E,I){if(!I.has(E))throw new TypeError("attempted to get private field on non-instance");return I.get(E);}function G(E,I,K){if(!I.has(E))throw new TypeError("attempted to set private field on non-instance");I.set(E,K);return K;}a.r(b);a.d(b,"__extends",function(){return g;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return f;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return h;});a.d(b,"__metadata",function(){return m;});a.d(b,"__awaiter",function(){return l;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return p;});a.d(b,"__exportStar",function(){return r;});a.d(b,"__values",function(){return t;});a.d(b,"__read",function(){return w;});a.d(b,"__spread",function(){return v;});a.d(b,"__spreadArrays",function(){return u;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return D;});a.d(b,"__importDefault",function(){return C;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return G;});},function(q,b,a){var I,K;function c(){c=Object.assign || (function(L){for(var H,P=1,N=arguments.length;P < N;P++){H=arguments[P];for(var J in H){Object.prototype.hasOwnProperty.call(H,J) && (L[J]=H[J]);}}return L;});return c.apply(this,arguments);}function k(L,H){k=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(P,N){P.__proto__=N;}) || (function(P,N){for(var J in N){Object.prototype.hasOwnProperty.call(N,J) && (P[J]=N[J]);}});return k(L,H);}function g(L,H){function P(){this.constructor=L;}if("function" !== typeof H && null !== H)throw new TypeError("Class extends value " + String(H) + " is not a constructor or null");k(L,H);L.prototype=null === H?Object.create(H):(P.prototype=H.prototype,new P());}function f(L,H){var P,N,J;P={};for(N in L){Object.prototype.hasOwnProperty.call(L,N) && 0 > H.indexOf(N) && (P[N]=L[N]);}if(null != L && "function" === typeof Object.getOwnPropertySymbols){J=0;for(N=Object.getOwnPropertySymbols(L);J < N.length;J++){0 > H.indexOf(N[J]) && Object.prototype.propertyIsEnumerable.call(L,N[J]) && (P[N[J]]=L[N[J]]);}}return P;}function d(L,H,P,N){var J,M,O;J=arguments.length;M=3 > J?H:null === N?N=Object.getOwnPropertyDescriptor(H,P):N;if("object" === typeof Reflect && "function" === typeof Reflect.kq)M=Reflect.kq(L,H,P,N);else for(var Q=L.length - 1;0 <= Q;Q--){if(O=L[Q])M=(3 > J?O(M):3 < J?O(H,P,M):O(H,P)) || M;}return (3 < J && M && Object.defineProperty(H,P,M),M);}function h(L,H){return function(P,N){H(P,N,L);};}function m(L,H){if("object" === typeof Reflect && "function" === typeof Reflect.Oc)return Reflect.Oc(L,H);}function l(L,H,P,N){function J(M){return M instanceof P?M:new P(function(O){O(M);});}return new (P || (P=Promise))(function(M,O){function Q(da){try{V(N.next(da));}catch(pa){O(pa);}}function T(da){try{V(N["throw"](da));}catch(pa){O(pa);}}function V(da){da.done?M(da.value):J(da.value).then(Q,T);}V((N=N.apply(L,H || [])).next());});}function n(L,H){var J,M,O,Q,T;function P(V){return function(da){return N([V,da]);};}function N(V){if(M)throw new TypeError("Generator is already executing.");for(;J;){try{if((M=1,O && (Q=V[0] & 2?O["return"]:V[0]?O["throw"] || ((Q=O["return"]) && Q.call(O),0):O.next) && !(Q=Q.call(O,V[1])).done))return Q;if((O=0,Q))V=[V[0] & 2,Q.value];switch(V[0]){case 0:case 1:Q=V;break;case 4:return (J.label++,{value:V[1],done:!1});case 5:J.label++;O=V[1];V=[0];continue;case 7:V=J.wl.pop();J.qj.pop();continue;default:if(!(Q=J.qj,Q=0 < Q.length && Q[Q.length - 1]) && (6 === V[0] || 2 === V[0])){J=0;continue;}if(3 === V[0] && (!Q || V[1] > Q[0] && V[1] < Q[3]))J.label=V[1];else if(6 === V[0] && J.label < Q[1])(J.label=Q[1],Q=V);else if(Q && J.label < Q[2])(J.label=Q[2],J.wl.push(V));else {Q[2] && J.wl.pop();J.qj.pop();continue;}}V=H.call(L,J);}catch(da){V=[6,da];O=0;}finally{M=Q=0;}}if(V[0] & 5)throw V[1];return {value:V[0]?V[1]:void 0,done:!0};}J={label:0,pc:function(){if(Q[0] & 1)throw Q[1];return Q[1];},qj:[],wl:[]};return (T={next:P(0),"throw":P(1),"return":P(2)},"function" === typeof Symbol && (T[Symbol.iterator]=function(){return this;}),T);}function p(L,H){for(var P in L){"default" === P || Object.prototype.hasOwnProperty.call(H,P) || I(H,L,P);}}function r(L){var H,P,N;H="function" === typeof Symbol && Symbol.iterator;P=H && L[H];N=0;if(P)return P.call(L);if(L && "number" === typeof L.length)return {next:function(){L && N >= L.length && (L=void 0);return {value:L && L[N++],done:!L};}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.");}function t(L,H){var P,N,J;P="function" === typeof Symbol && L[Symbol.iterator];if(!P)return L;L=P.call(L);J=[];try{for(;(void 0 === H || 0 < H--) && !(N=L.next()).done;){J.push(N.value);}}catch(O){var M;M={error:O};}finally{try{N && !N.done && (P=L["return"]) && P.call(L);}finally{if(M)throw M.error;}}return J;}function w(){for(var L=[],H=0;H < arguments.length;H++){L=L.concat(t(arguments[H]));}return L;}function v(){var N;for(var L=0,H=0,P=arguments.length;H < P;H++){L+=arguments[H].length;}L=Array(L);N=0;for(H=0;H < P;H++){for(var J=arguments[H],M=0,O=J.length;M < O;(M++,N++)){L[N]=J[M];}}return L;}function u(L,H,P){if(P || 2 === arguments.length)for(var N=0,J=H.length,M;N < J;N++){!M && (N in H) || (M || (M=Array.prototype.slice.call(H,0,N)),M[N]=H[N]);}return L.concat(M || Array.prototype.slice.call(H));}function x(L){return this instanceof x?(this.Qz=L,this):new x(L);}function y(L,H,P){var T,V,da;function N(pa){T[pa] && (V[pa]=function(xa){return new Promise(function(ya,sa){1 < da.push([pa,xa,ya,sa]) || J(pa,xa);});});}function J(pa,xa){var ya;try{ya=T[pa](xa);ya.value instanceof x?Promise.resolve(ya.value.Qz).then(M,O):Q(da[0][2],ya);}catch(sa){Q(da[0][3],sa);}}function M(pa){J("next",pa);}function O(pa){J("throw",pa);}function Q(pa,xa){(pa(xa),da.shift(),da.length) && J(da[0][0],da[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");T=P.apply(L,H || []);da=[];return (V={},N("next"),N("throw"),N("return"),V[Symbol.asyncIterator]=function(){return this;},V);}function z(L){var P,N;function H(J,M){P[J]=L[J]?function(O){return (N=!N)?{value:x(L[J](O)),done:"return" === J}:M?M(O):O;}:M;}return (P={},H("next"),H("throw",function(J){throw J;}),H("return"),P[Symbol.iterator]=function(){return this;},P);}function A(L){var N,J;function H(M){J[M]=L[M] && (function(O){return new Promise(function(Q,T){O=L[M](O);P(Q,T,O.done,O.value);});});}function P(M,O,Q,T){Promise.resolve(T).then(function(V){M({value:V,done:Q});},O);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");N=L[Symbol.asyncIterator];return N?N.call(L):(L="function" === typeof r?r(L):L[Symbol.iterator](),J={},H("next"),H("throw"),H("return"),J[Symbol.asyncIterator]=function(){return this;},J);}function B(L,H){Object.defineProperty?Object.defineProperty(L,"raw",{value:H}):L.raw=H;return L;}function D(L){var H;if(L && L.__esModule)return L;H={};if(null != L)for(var P in L){"default" !== P && Object.prototype.hasOwnProperty.call(L,P) && I(H,L,P);}K(H,L);return H;}function C(L){return L && L.__esModule?L:{default:L};}function F(L,H,P,N){if("a" === P && !N)throw new TypeError("Private accessor was defined without a getter");if("function" === typeof H?L !== H || !N:!H.has(L))throw new TypeError("Cannot read private member from an object whose class did not declare it");return "m" === P?N:"a" === P?N.call(L):N?N.value:H.get(L);}function G(L,H,P,N,J){if("m" === N)throw new TypeError("Private method is not writable");if("a" === N && !J)throw new TypeError("Private accessor was defined without a setter");if("function" === typeof H?L !== H || !J:!H.has(L))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ("a" === N?J.call(L,P):J?J.value=P:H.set(L,P),P);}function E(L,H){if(null === H || "object" !== typeof H && "function" !== typeof H)throw new TypeError("Cannot use 'in' operator on non-object");return "function" === typeof L?H === L:L.has(H);}a.r(b);a.d(b,"__extends",function(){return g;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return f;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return h;});a.d(b,"__metadata",function(){return m;});a.d(b,"__awaiter",function(){return l;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return I;});a.d(b,"__exportStar",function(){return p;});a.d(b,"__values",function(){return r;});a.d(b,"__read",function(){return t;});a.d(b,"__spread",function(){return w;});a.d(b,"__spreadArrays",function(){return v;});a.d(b,"__spreadArray",function(){return u;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return D;});a.d(b,"__importDefault",function(){return C;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return G;});a.d(b,"__classPrivateFieldIn",function(){return E;});I=Object.create?function(L,H,P,N){var J;void 0 === N && (N=P);J=Object.getOwnPropertyDescriptor(H,P);if(!J || (("get" in J)?!H.__esModule:J.writable || J.configurable))J={enumerable:!0,get:function(){return H[P];}};Object.defineProperty(L,N,J);}:function(L,H,P,N){void 0 === N && (N=P);L[N]=H[P];};K=Object.create?function(L,H){Object.defineProperty(L,"default",{enumerable:!0,value:H});}:function(L,H){L["default"]=H;};},function(q,b){var a,c;Object.defineProperty(b,"__esModule",{value:!0});b.hA=b.uHa=b.tHa=b.bia=b.sHa=b.aia=b.O5=b.D5=b.rHa=b.S=b.W=void 0;(function(k){k[k.wo=7001]="UNKNOWN";k[k.dRa=7002]="UNHANDLED_EXCEPTION";k[k.unb=7003]="INIT_COMPONENT_LOG_TO_REMOTE";k[k.Umb=7004]="HLS_NOT_SUPPORTED";k[k.zia=7010]="INIT_ASYNCCOMPONENT";k[k.ynb=7011]="INIT_HTTP";k[k.snb=7014]="INIT_BADMOVIEID";k[k.ZIa=7020]="INIT_PLAYBACK_LOCK";k[k.$Ia=7022]="INIT_SESSION_LOCK";k[k.znb=7029]="INIT_POSTAUTHORIZE";k[k.YIa=7031]="INIT_HEADER_MEDIA";k[k.Anb=7034]="INIT_TIMEDTEXT_TRACK";k[k.xjb=7037]="ASE_SESSION_ERROR";k[k.wjb=7038]="ASE_SEEK_THREW";k[k.yjb=7039]="ASE_SKIPPED_THREW";k[k.vnb=7041]="INIT_CORE_OBJECTS1";k[k.wnb=7042]="INIT_CORE_OBJECTS2";k[k.xnb=7043]="INIT_CORE_OBJECTS3";k[k.SIa=7053]="INIT_COMPONENT_STORAGE";k[k.TIa=7054]="INIT_COMPONENT_STORAGELOCK";k[k.PIa=7058]="INIT_COMPONENT_MAINTHREADMONITOR";k[k.Aia=7059]="INIT_COMPONENT_DEVICE";k[k.QIa=7063]="INIT_COMPONENT_MSL";k[k.OIa=7066]="INIT_COMPONENT_LOGBLOBBATCHER";k[k.BD=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";k[k.XIa=7083]="INIT_COMPONENT_WEBCRYPTO";k[k.NIa=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";k[k.LIa=7088]="INIT_COMPONENT_BATTERY_MANAGER";k[k.KIa=7089]="INIT_COMPONENT_ASE";k[k.IM=7091]="INIT_COMPONENT_DRM_CACHE";k[k.tnb=7092]="INIT_COMPONENT_DRM";k[k.MIa=7094]="INIT_COMPONENT_FTL";k[k.RIa=7095]="INIT_COMPONENT_PREPARE_MODEL";k[k.UIa=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";k[k.VIa=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";k[k.WIa=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";k[k.NM=7111]="MANIFEST";k[k.pKa=7117]="MANIFEST_VERIFY";k[k.vqb=7120]="START";k[k.KM=7121]="LICENSE";k[k.jka=7122]="RELEASE";k[k.wqb=7123]="STOP";k[k.Iia=7125]="KEEPALIVE";k[k.spb=7131]="PING";k[k.Fmb=7134]="ENGAGE";k[k.Wnb=7137]="LOGBLOB";k[k.Ncc=7138]="PAUSE";k[k.ddc=7139]="RESUME";k[k.sPa=7140]="SPLICE";k[k.Tjb=7142]="BIND";k[k.Ujb=7144]="BIND_DEVICE";k[k.Rmb=7145]="GENERATE_SCREENSHOTS";k[k.wpb=7202]="PLAY_INIT_EXCEPTION";k[k.wja=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";k[k.Cpb=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";k[k.mMa=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";k[k.Dpb=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";k[k.xja=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";k[k.Bpb=7338]="PLAY_MSE_EME_KEY_MAPPING_EXCEPTION";k[k.qMa=7351]="PLAY_MSE_NOTSUPPORTED";k[k.lMa=7353]="PLAY_MSE_DECODER_TIMEOUT";k[k.yja=7355]="PLAY_MSE_SOURCEADD";k[k.kMa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";k[k.wU=7357]="PLAY_MSE_GENERATEKEYREQUEST";k[k.pMa=7361]="PLAY_MSE_EVENT_ERROR";k[k.YM=7362]="PLAY_MSE_SETMEDIAKEYS";k[k.dt=7363]="PLAY_MSE_EVENT_KEYERROR";k[k.Fpb=7364]="PLAY_MSE_EME_SESSION_CLOSE";k[k.Gpb=7365]="PLAY_MSE_GETCURRENTTIME";k[k.Hpb=7367]="PLAY_MSE_SETCURRENTTIME";k[k.Ipb=7371]="PLAY_MSE_SOURCEAPPEND";k[k.Mpb=7375]="PLAY_MSE_UNEXPECTED_SEEKING";k[k.Lpb=7376]="PLAY_MSE_UNEXPECTED_SEEKED";k[k.Kpb=7377]="PLAY_MSE_UNEXPECTED_REWIND";k[k.Jpb=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";k[k.rMa=7382]="PLAY_MSE_SOURCEBUFFER_CHANGETYPE";k[k.xpb=7391]="PLAY_MSE_CREATE_MEDIASOURCE";k[k.ypb=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";k[k.zpb=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";k[k.nMa=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";k[k.Epb=7395]="PLAY_MSE_EME_MISSING_PSSH";k[k.oMa=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";k[k.Apb=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";k[k.Z5=7399]="PLAY_MSE_SET_LICENSE_ERROR";k[k.dHa=7400]="EXTERNAL";k[k.Y5=7500]="PAUSE_TIMEOUT";k[k.E5=7502]="INACTIVITY_TIMEOUT";k[k.Hjb=7510]="AUTHORIZATION_EXPIRED";k[k.xmb=7700]="EME_INVALID_KEYSYSTEM";k[k.RGa=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";k[k.FT=7702]="EME_CREATE_MEDIAKEYS_FAILED";k[k.K4=7703]="EME_GENERATEREQUEST_FAILED";k[k.YGa=7704]="EME_UPDATE_FAILED";k[k.WGa=7705]="EME_KEYSESSION_ERROR";k[k.VGa=7706]="EME_KEYMESSAGE_EMPTY";k[k.Bmb=7707]="EME_REMOVE_FAILED";k[k.zmb=7708]="EME_LOAD_FAILED";k[k.tmb=7709]="EME_CREATE_SESSION_FAILED";k[k.Xha=7710]="EME_LDL_RENEWAL_ERROR";k[k.TGa=7711]="EME_INVALID_INITDATA_DATA";k[k.UGa=7712]="EME_INVALID_LICENSE_DATA";k[k.ymb=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";k[k.QGa=7716]="EME_CLOSE_FAILED";k[k.Yha=7717]="EME_SESSION_CLOSED_UNEXPECTEDLY";k[k.Dmb=7718]="EME_SET_SERVER_CERTIFICATE";k[k.tpb=7800]="PLAYDATA_STORE_FAILURE";k[k.lT=7900]="BRANCH_PLAY_FAILURE";k[k.mT=7901]="BRANCH_QUEUE_FAILURE";k[k.uEa=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";k[k.akb=7903]="BRANCH_CHOICE_MAP_MISSING";k[k.fpb=8100]="PBO_EVENTLOOKUP_FAILURE";})(a=b.W || (b.W={}));(function(k){k[k.wo=1001]="UNKNOWN";k[k.jn=1003]="EXCEPTION";k[k.Dnb=1004]="INVALID_DI";k[k.Bjb=1011]="ASYNCLOAD_EXCEPTION";k[k.Cjb=1013]="ASYNCLOAD_TIMEOUT";k[k.p$b=1015]="ASYNCLOAD_BADCONFIG";k[k.zjb=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";k[k.Ajb=1017]="ASYNCLOAD_COMPONENT_MISSING";k[k.XT=1101]="HTTP_UNKNOWN";k[k.wia=1102]="HTTP_XHR";k[k.UT=1103]="HTTP_PROTOCOL";k[k.TT=1104]="HTTP_OFFLINE";k[k.WT=1105]="HTTP_TIMEOUT";k[k.KH=1106]="HTTP_READTIMEOUT";k[k.AD=1107]="HTTP_ABORT";k[k.kIa=1108]="HTTP_PARSE";k[k.gIa=1110]="HTTP_BAD_URL";k[k.VT=1111]="HTTP_PROXY";k[k.aja=1203]="MSE_AUDIO";k[k.bja=1204]="MSE_VIDEO";k[k.job=1250]="MSE_MEDIA_ERR_BASE";k[k.Pbc=1251]="MSE_MEDIA_ERR_ABORTED";k[k.Sbc=1252]="MSE_MEDIA_ERR_NETWORK";k[k.Qbc=1253]="MSE_MEDIA_ERR_DECODE";k[k.Tbc=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";k[k.Rbc=1255]="MSE_MEDIA_ERR_ENCRYPTED";k[k.Uu=1260]="EME_MEDIA_KEYERR_BASE";k[k.Mac=1261]="EME_MEDIA_KEYERR_UNKNOWN";k[k.Hac=1262]="EME_MEDIA_KEYERR_CLIENT";k[k.Lac=1263]="EME_MEDIA_KEYERR_SERVICE";k[k.Kac=1264]="EME_MEDIA_KEYERR_OUTPUT";k[k.Jac=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";k[k.Iac=1266]="EME_MEDIA_KEYERR_DOMAIN";k[k.Nac=1269]="EME_MEDIA_UNAVAILABLE_CDM";k[k.wmb=1270]="EME_INTERNAL_ERROR";k[k.smb=1271]="EME_CLOSED_BY_APPLICATION";k[k.Amb=1272]="EME_RELEASE_ACKNOWLEDGED";k[k.Wha=1273]="EME_HARDWARE_CONTEXT_RESET";k[k.Cmb=1274]="EME_RESOURCE_EVICTED";k[k.vmb=1280]="EME_ERROR_NODRMSESSSION";k[k.umb=1281]="EME_ERROR_NODRMREQUESTS";k[k.Eac=1282]="EME_ERROR_INDIV_FAILED";k[k.Fac=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";k[k.Emb=1284]="EME_TIMEOUT_MESSAGE";k[k.Oac=1285]="EME_TIMEOUT_KEYCHANGE";k[k.XGa=1286]="EME_UNDEFINED_DATA";k[k.DM=1287]="EME_INVALID_STATE";k[k.Gac=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";k[k.SGa=1289]="EME_EMPTY_DATA";k[k.GT=1290]="EME_TIMEOUT";k[k.gcc=1303]="NCCP_METHOD_NOT_SUPPORTED";k[k.jcc=1305]="NCCP_PARSEXML";k[k.Ppb=1309]="PROCESS_EXCEPTION";k[k.icc=1311]="NCCP_NETFLIXID_MISSING";k[k.kcc=1312]="NCCP_SECURENETFLIXID_MISSING";k[k.dcc=1313]="NCCP_HMAC_MISSING";k[k.ccc=1315]="NCCP_HMAC_MISMATCH";k[k.bcc=1317]="NCCP_HMAC_FAILED";k[k.acc=1321]="NCCP_CLIENTTIME_MISSING";k[k.$bc=1323]="NCCP_CLIENTTIME_MISMATCH";k[k.OHa=1331]="GENERIC";k[k.Bob=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";k[k.Cob=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";k[k.lcc=1341]="NCCP_TRANSACTION";k[k.ecc=1343]="NCCP_INVALID_DRMTYPE";k[k.fcc=1344]="NCCP_INVALID_LICENCE_RESPONSE";k[k.hcc=1345]="NCCP_MISSING_PAYLOAD";k[k.Scc=1346]="PROTOCOL_NOT_INITIALIZED";k[k.Rcc=1347]="PROTOCOL_MISSING_FIELD";k[k.Qcc=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";k[k.SD=1402]="STORAGE_NODATA";k[k.ndc=1403]="STORAGE_EXCEPTION";k[k.vdc=1405]="STORAGE_QUOTA_NOT_GRANTED";k[k.wdc=1407]="STORAGE_QUOTA_TO_SMALL";k[k.vPa=1411]="STORAGE_LOAD_ERROR";k[k.yqb=1412]="STORAGE_LOAD_TIMEOUT";k[k.wPa=1414]="STORAGE_SAVE_ERROR";k[k.Bqb=1415]="STORAGE_SAVE_TIMEOUT";k[k.rka=1417]="STORAGE_DELETE_ERROR";k[k.uPa=1418]="STORAGE_DELETE_TIMEOUT";k[k.udc=1421]="STORAGE_FS_REQUESTFILESYSTEM";k[k.rdc=1423]="STORAGE_FS_GETDIRECTORY";k[k.tdc=1425]="STORAGE_FS_READENTRIES";k[k.odc=1427]="STORAGE_FS_FILEREAD";k[k.qdc=1429]="STORAGE_FS_FILEWRITE";k[k.pdc=1431]="STORAGE_FS_FILEREMOVE";k[k.sdc=1432]="STORAGE_FS_PARSEJSON";k[k.Aqb=1451]="STORAGE_NO_LOCALSTORAGE";k[k.zqb=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";k[k.ucc=1501]="NTBA_UNKNOWN";k[k.tcc=1502]="NTBA_EXCEPTION";k[k.pcc=1504]="NTBA_CRYPTO_KEY";k[k.rcc=1506]="NTBA_CRYPTO_OPERATION";k[k.qcc=1508]="NTBA_CRYPTO_KEYEXCHANGE";k[k.scc=1515]="NTBA_DECRYPT_UNSUPPORTED";k[k.SFa=1553]="DEVICE_NO_ESN";k[k.Dlb=1555]="DEVICE_ERROR_GETTING_ESN";k[k.pbc=1701]="FORMAT_UNKNOWN";k[k.Kmb=1713]="FORMAT_XML";k[k.qbc=1715]="FORMAT_XML_CONTENT";k[k.nbc=1721]="FORMAT_BASE64";k[k.obc=1723]="FORMAT_DFXP";k[k.enb=1801]="INDEXDB_OPEN_EXCEPTION";k[k.IIa=1802]="INDEXDB_NOT_SUPPORTED";k[k.dnb=1803]="INDEXDB_OPEN_ERROR";k[k.JIa=1804]="INDEXDB_OPEN_NULL";k[k.cnb=1805]="INDEXDB_OPEN_BLOCKED";k[k.fnb=1807]="INDEXDB_OPEN_TIMEOUT";k[k.bnb=1808]="INDEXDB_INVALID_STORE_STATE";k[k.F5=1809]="INDEXDB_ACCESS_EXCEPTION";k[k.tob=1901]="MSL_UNKNOWN";k[k.mob=1911]="MSL_INIT_NO_MSL";k[k.yKa=1913]="MSL_INIT_ERROR";k[k.nob=1915]="MSL_INIT_NO_WEBCRYPTO";k[k.kob=1931]="MSL_ERROR";k[k.sob=1933]="MSL_REQUEST_TIMEOUT";k[k.rob=1934]="MSL_READ_TIMEOUT";k[k.lob=1935]="MSL_ERROR_HEADER";k[k.Ubc=1936]="MSL_ERROR_ENVELOPE";k[k.Vbc=1937]="MSL_ERROR_MISSING_PAYLOAD";k[k.xKa=1957]="MSL_ERROR_REAUTH";k[k.Rka=2103]="WEBCRYPTO_MISSING";k[k.bec=2105]="WEBCRYPTOKEYS_MISSING";k[k.$qb=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";k[k.Y$b=2200]="CACHEDDATA_PARSEJSON";k[k.REa=2201]="CACHEDDATA_UNSUPPORTED_VERSION";k[k.Z$b=2202]="CACHEDDATA_UPGRADE_FAILED";k[k.sD=2203]="CACHEDDATA_INVALID_FORMAT";k[k.n$b=3E3]="ACCOUNT_CHANGE_INFLIGHT";k[k.o$b=3001]="ACCOUNT_INVALID";k[k.wac=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";k[k.vac=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";k[k.tac=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";k[k.uac=3201]="DOWNLOADED_LICENSE_UNUSEABLE";k[k.sac=3202]="DOWNLOADED_LICENSE_EXCEPTION";k[k.xdc=3300]="STORAGE_VA_LOAD_ERROR";k[k.ydc=3301]="STORAGE_VA_LOAD_TIMEOUT";k[k.Bdc=3302]="STORAGE_VA_SAVE_ERROR";k[k.Cdc=3303]="STORAGE_VA_SAVE_TIMEOUT";k[k.zdc=3304]="STORAGE_VA_REMOVE_ERROR";k[k.Adc=3305]="STORAGE_VA_REMOVE_TIMEOUT";k[k.tja=3077]="PBO_DEVICE_EOL_WARNING";k[k.eMa=3078]="PBO_DEVICE_EOL_FINAL";k[k.hMa=3100]="PBO_DEVICE_RESET";k[k.gMa=3101]="PBO_DEVICE_RELOAD";k[k.fMa=3102]="PBO_DEVICE_EXIT";k[k.qpb=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";k[k.apb=5005]="PBO_ACCOUNT_ON_HOLD";k[k.epb=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";k[k.iMa=5007]="PBO_INCORRECT_PIN";k[k.npb=5008]="PBO_MOBILE_ONLY";k[k.rpb=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";k[k.jpb=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";k[k.cpb=5059]="PBO_BLACKLISTED_IP";k[k.bpb=5070]="PBO_AGE_VERIFICATION_REQUIRED";k[k.dpb=5080]="PBO_CHOICE_MAP_ERROR";k[k.opb=5090]="PBO_RESTRICTED_TO_TESTERS";k[k.lpb=5091]="PBO_MALFORMED_REQUEST";k[k.kpb=5092]="PBO_INVALID_SERVICE_VERSION";k[k.mpb=5093]="PBO_MDX_INVALID_CTICKET";k[k.ipb=5094]="PBO_FREE_PREVIEW_ENDED";k[k.ppb=5095]="PBO_STREAMING_LOCATION_DISALLOWED";k[k.hpb=5096]="PBO_EXTRA_MEMBER_STREAM_HOLD";k[k.gpb=5097]="PBO_EXTRA_MEMBER_REMOVED_STREAM_HOLD";k[k.llb=5100]="DECODER_TIMEOUT_BUFFERING";k[k.nlb=5101]="DECODER_TIMEOUT_PRESENTING";k[k.mlb=5102]="DECODER_TIMEOUT_PLAYING";k[k.dmb=5200]="DOWNLOADER_IO_ERROR";k[k.tEa=5300]="BRANCHING_SEGMENT_NOTFOUND";k[k.Xjb=5301]="BRANCHING_PRESENTER_UNINITIALIZED";k[k.C$b=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";k[k.mha=5303]="BRANCHING_ASE_UNINITIALIZED";k[k.y$b=5304]="BRANCHING_ASE_FAILURE";k[k.z$b=5305]="BRANCHING_MOMENT_FAILURE";k[k.Vjb=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";k[k.B$b=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";k[k.Yjb=5308]="BRANCHING_SEEK_THREW";k[k.A$b=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";k[k.Wjb=5310]="BRANCHING_PLAY_TIMEDOUT";k[k.Zjb=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";k[k.$jb=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";k[k.Cqb=5500]="STUDIO_MUXED_MANIFEST";k[k.Wia=5600]="MANIFEST_HYDRATION_FAILURE";k[k.Ijb=5700]="AUXILIARY_MANIFEST_ERROR_RETRIEVING_PARENT_MANIFEST";k[k.Jjb=5701]="AUXILIARY_MANIFEST_NO_MATCHING_HEACC_AUDIO_STREAM_FOUND";})(c=b.S || (b.S={}));(function(k){k[k.N$b=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";k[k.D$b=5005]="BR_ACCOUNT_ON_HOLD";k[k.H$b=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";k[k.K$b=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";k[k.G$b=5059]="BR_BLACKLISTED_IP";k[k.E$b=5070]="BR_AGE_VERIFICATION_REQUIRED";k[k.L$b=2204]="BR_PLAYBACK_CONTEXT_CREATION";k[k.I$b=2205]="BR_DRM_LICENSE_AQUISITION";k[k.M$b=2206]="BR_PLAYBACK_SERVICE_ERROR";k[k.J$b=2207]="BR_ENDPOINT_ERROR";k[k.F$b=2208]="BR_AUTHORIZATION_ERROR";})(b.rHa || (b.rHa={}));b.D5={hkb:"400",Xdc:"401",zMa:"413"};b.O5={lbc:1,Pdc:2,Rac:3,Vdc:4,Gbc:5,Qac:6,Kka:7,Tac:8,bdc:9,kdc:10};b.aia=function(k,g,f,d){return k == a.Y5 || k == a.E5 || k == a.wja && 432E5 <= f || k == a.Yha && g === c.Wha && 0 < Number(d);};b.sHa=function(k){return 1100 <= k && 1199 >= k;};b.bia=function(k,g){return 1 <= k && 9 >= k?g + k:g;};b.tHa=function(k){return (0,b.bia)(k,c.job);};b.uHa=function(k){return (0,b.bia)(k,c.Uu);};b.hA=function(k){var g,f,d;g={};f=k.errorExternalCode || k.Xf;d=k.errorDetails || k.ac;g.ErrorSubCode=k.errorSubCode || k.Ea || c.wo;f && (g.ErrorExternalCode=f);d && (g.ErrorDetails=d);return g;};},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(1);k=a(151);g=(function(f){function d(){return null !== f && f.apply(this,arguments) || this;}c.__extends(d,f);return d;})(Error);b.assert=function(f,d){if(!f)try{throw new g(d || "Assertion failed");}catch(h){throw (k.po.J.error("Assertion failed",{value:f,message:d,stack:h.stack}),h);}};},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.default={SZ:function(a){for(var c in a){a.hasOwnProperty(c) && (this[c]=a[c]);}},reset:function(){}};},function(q,b,a){var g;function c(){return g.OU.apply(this,arguments) || this;}function k(f){return new g.Zu(f,b.sa);}Object.defineProperty(b,"__esModule",{value:!0});b.ib=b.wIa=b.jja=b.Mp=b.sa=b.VH=b.timestamp=b.OPb=b.eda=b.Nh=b.Vc=b.Abb=b.uVb=b.Pqb=void 0;g=a(359);na(c,g.OU);b.Pqb=c;b.uVb=function(f){return new g.Zu(f,b.VH);};b.Abb=function(f){return new g.Zu(f * b.Mp.Tg,b.VH);};b.Vc=k;b.Nh=function(f){return new g.Zu(f,b.Mp);};b.eda=function(f){return new g.Zu(f,b.jja);};b.OPb=function(f){return new g.Zu(f,b.wIa);};b.timestamp=function(f){return k(f);};b.VH=new c(1,"\u03bcs");b.sa=new c(1E3,"ms",b.VH);b.Mp=new c(1E3 * b.sa.Tg,"s",b.VH);b.jja=new c(60 * b.Mp.Tg,"min",b.VH);b.wIa=new c(60 * b.jja.Tg,"hr",b.VH);b.ib=k(0);},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.DT=b.Ib=b.Qia=b.Pk=void 0;q=b.Pk || (b.Pk={});q[q.Jmb=0]="FATAL";q[q.rg=1]="ERROR";q[q.Qka=2]="WARN";q[q.yia=3]="INFO";q[q.yQa=4]="TRACE";q[q.aa=5]="DEBUG";b.Qia="LogFieldBuilderFactorySymbol";b.Ib="LoggerFactorySymbol";b.DT={};},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.zU=b.PHa=b.HRa=void 0;q=a(1);q.__exportStar(a(398),b);q.__exportStar(a(105),b);q.__exportStar(a(21),b);q.__exportStar(a(869),b);q.__exportStar(a(870),b);q.__exportStar(a(871),b);q.__exportStar(a(872),b);q.__exportStar(a(873),b);q.__exportStar(a(874),b);q.__exportStar(a(875),b);c=q.__importDefault(a(876));b.HRa=c.default;c=q.__importDefault(a(877));b.PHa=c.default;a=q.__importDefault(a(408));b.zU=a.default;},function(q,b,a){var c,k,g,f,d,h,m,l;Object.defineProperty(b,"__esModule",{value:!0});b.Ga=b.bOa=b.TY=b.hj=b.dk=b.log=b.mg=b.RP=b.DWa=b.At=b.eB=b.Dc=b.Bzb=b.voa=b.zzb=b.Azb=b.Zj=b.JS=b.x3=b.li=b.bd=b.La=void 0;c=a(219);q=a(7);k=a(30);g=a(73);f=a(79);d=a(36);h=a(14);m=a(149);l=a(38);a=a(53);b.La=c.zc.get(l.Wi);b.bd=c.zc.get(a.Rk);b.li=c.zc.get(g.gv);b.x3=b.li.encode.bind(b.li);b.JS=b.li.decode.bind(b.li);b.Zj=c.zc.get(f.Zz);b.Azb=b.Zj.encode.bind(b.Zj);b.zzb=b.Zj.decode.bind(b.Zj);b.voa=b.Zj.UJ.bind(b.Zj);b.Bzb=b.Zj.Wgb.bind(b.Zj);b.Dc=c.zc.get(d.Vi);b.eB=function(n){n=(0,h.Ag)(n)?(0,b.JS)(n):n;return b.Dc.encode(n);};b.At=b.Dc.decode.bind(b.Dc);b.DWa=function(n){return (0,b.x3)((0,b.At)(n));};b.RP=function(){return c.zc.get(k.cA);};b.mg=c.zc.get(q.Ib);b.log=b.mg.Bb("General");b.dk=function(n,p){return b.mg.Bb(n,void 0,p);};b.hj=function(n,p,r){return b.mg.Bb(p,n,r);};b.TY=function(n,p,r,t){return b.mg.Bb(n,void 0,t,p,r);};b.bOa=function(n,p,r){return c.zc.get(m.AU)(n,p,r).e3();};b.Ga=c.zc;},function(q){var b;b={Oa:function(a){return "number" === typeof a;},fk:function(a){return "object" === typeof a;},Ag:function(a){return "string" === typeof a;},ta:function(a){return "undefined" === typeof a;},bhc:function(a){return "boolean" === typeof a;},yd:function(a){return "function" === typeof a;},Gb:function(a){return null === a;},isArray:function(a){return "[object Array]" === Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a) && !isNaN(parseFloat(a));},has:function(a,c){return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a,c);},BYb:function(a){var c,k;k=[];if(!b.fk(a))throw new TypeError("Object.pairs called on non-object");for(c in a){a.hasOwnProperty(c) && k.push([c,a[c]]);}return k;}};b.Wf=b.forEach=function(a,c,k){if(null === a || "undefined" === typeof a)return a;if(a.length === +a.length)for(var g=0,f=a.length;g < f;g++){c.call(k,a[g],g,a);}else for(g in a){b.has(a,g) && c.call(k,a[g],g,a);}return a;};q.exports=b;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.gwa=b.localStorage=b.DQb=b.indexedDB=b.ELa=b.Yr=b.JD=b.HD=b.URL=b.R5=b.Fob=b.OKa=b.NKa=b.M5=b.lU=b.nA=b.Yu=b.Fp=b.vob=b.PM=b.rQa=b.ZFa=b.Xob=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.cB=b.Eob=b.Qh=b.Ox=b.FLa=b.Px=b.Q5=b.XH=void 0;q=pb;b.$e=q.navigator;b.XH=null === b.$e || void 0 === b.$e?void 0:b.$e.userAgent;b.Q5=q.location;b.Px=q.screen;b.FLa=q.devicePixelRatio;b.Ox=q.performance;b.Qh=q.document;b.Eob=b.Qh.documentElement;b.cB=Array.prototype;b.sort=b.cB.sort;b.map=b.cB.map;b.slice=b.cB.slice;b.every=b.cB.every;b.reduce=b.cB.reduce;b.filter=b.cB.filter;b.forEach=b.cB.forEach;b.pop=b.cB.pop;b.Xob=Object.create;b.ZFa=Date.now;b.rQa=String.fromCharCode;b.PM=Math.floor;b.vob=Math.ceil;b.Fp=Math.round;b.Yu=Math.max;b.nA=Math.min;b.lU=Math.random;b.M5=Math.abs;b.NKa=Math.pow;b.OKa=Math.sqrt;b.Fob=q.escape;b.R5=q.unescape;b.URL=q.URL || q.webkitURL;b.HD=q.MediaSource || q.WebKitMediaSource;b.JD=q.webkitCrypto || q.msCrypto || q.crypto;b.Yr=b.JD && (b.JD.webkitSubtle || b.JD.subtle);b.ELa=q.webkitCryptokeys || q.msCryptokeys || q.cryptokeys;try{b.indexedDB=q.indexedDB;}catch(a){b.DQb=a || "noex";}try{b.localStorage=q.localStorage;}catch(a){b.gwa=a || "noex";}},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.qo={lfc:"casttv",qpa:"chrome",pfc:"chromecast",cs:"edge",Z_a:"edgeoss",v1a:"firefox",Tgc:"ie",opera:"opera",Edb:"safari",ugb:"tesla"};b.Ip={F8:"android",c6a:"ios",RXa:"chromeos",L7a:"linux",o8a:"mac",Ega:"windows"};b.C5={uCb:"computer",phone:"phone",l6b:"tablet"};b.jd="ConfigSymbol";},function(q,b,a){b=a(121);b.nGb=0;q.exports={EventEmitter:b,Fg:a(865)};},function(q,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.yd=b.g6a=b.BQ=b.Ag=b.Ava=b.yRb=b.mRb=b.pva=b.QF=b.t6a=b.Oa=b.yva=b.isArray=b.S6a=b.fk=b.Gd=b.is=void 0;q=a(218);b.is=q.NH;b.Gd=function(c){return b.is.jh(c);};b.fk=function(c){return b.is.yW(c);};b.S6a=function(c){return b.is.jna(c);};b.isArray=function(c){return b.is.AE(c);};b.yva=function(c){return b.is.JVa(c);};b.Oa=function(c,k,g){return b.is.Fo(c,k,g);};b.t6a=function(c,k,g){return b.is.Pna(c,k,g);};b.QF=function(c,k,g){return b.is.zW(c,k,g);};b.pva=function(c){return b.is.mW(c);};b.mRb=function(c){return b.is.Wwb(c);};b.yRb=function(c){return b.is.Xwb(c);};b.Ava=function(c){return b.is.KVa(c);};b.Ag=function(c){return b.is.uv(c);};b.BQ=function(c){return b.is.Go(c);};b.g6a=function(c){return b.is.o8(c);};b.yd=function(c){return b.is.q8(c);};},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.aa=!1;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.kU=b.J5=b.skb=b.nkb=b.pkb=b.qkb=b.GEa=b.mkb=b.okb=b.FEa=b.rkb=b.ykb=b.wkb=b.xkb=b.vkb=b.omb=b.nmb=b.mmb=b.bob=b.cob=b.L5=b.uKa=b.vKa=b.K5=b.JGa=b.pmb=b.Vha=b.J4=b.Sob=b.rqb=b.rKa=b.gkb=b.PFa=b.X5=b.XM=b.W5=b.qKa=b.Jx=b.fkb=b.sEa=b.Rnb=b.Xqb=b.aob=b.$nb=b.kqb=b.jqb=b.Xu=b.Xg=b.VOa=b.Qx=void 0;b.qEa=b.kka=void 0;b.Qx=function(){};b.VOa=function(){return !0;};b.Xg={fa:!0};b.Xu=1E3;b.jqb=86400;b.kqb=604800;b.$nb=1E4;b.aob=1E7;b.Xqb=1.5;b.Rnb=.128;b.sEa=7.8125;b.fkb=128;b.Jx=145152E5;b.qKa=1E5;b.W5="$netflix$player$order";b.XM=-1;b.X5=1;b.PFa=["en-US"];b.gkb=8;b.rKa=65535;b.rqb=65536;b.Sob=Number.MAX_VALUE;b.J4="playready";b.Vha="widevine";b.pmb="fps";b.JGa="clearkey";b.K5='audio/mp4; codecs="mp4a.40.5"';b.vKa='audio/mp4; codecs="mp4a.40.42"';b.uKa='audio/mp4; codecs="mp4a.a6"';b.L5='video/mp4; codecs="avc1.640028"';b.cob='video/mp4; codecs="hev1.2.6.L153.B0"';b.bob='video/mp4; codecs="dvhe.01000000"';b.mmb="9A04F079-9840-4286-AB92-E65BE0885F95";b.nmb="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.omb="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.vkb=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.xkb="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.wkb="4E657466-6C69-7846-7261-6D6552617465";b.ykb="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.rkb="mp4a";b.FEa="enca";b.okb="ec-3";b.mkb="avc1";b.GEa="encv";b.qkb="hvcC";b.pkb="hev1";b.nkb="dvhe";b.skb="vp09";b.J5=0;b.kU=1;b.kka="position:relative;width:100%;height:100%;overflow:hidden";b.qEa="AAAAJGZ0eXBpc28yAAAAAGlzb21pc28yZGFzaGlzbzZwaWZmAAAAhHV1aWROZXRmbGl4UGlmZlN0cm0hAQAAAAAAAAAEnph8AAAAAACYloAAAAABBq7BRQAAAAAAADQaAAAAAASeVDAAAAAAAAAjXwAAELsAAAAAAAAIKwAACoQxmsddr5Pt+Lrq/zLsOAU/AAAAAAAAHRsAAAOSAAAAAAAAIK0AAAKyAAAAGGZyZWUAAAAAAAAAAAAAAAAAAAAAAAAATXV1aWTi6QKlfkPiQZDaISEYxWQyAAAAAAAAAADesO2iTmV0ZmxpeCBNZWRpYSBMaWJyYXJ5IFZlcnNpb24gODAuMTAuMTcuIAAAAAcebW9vdgAAAHhtdmhkAQAAAAAAAADesO2jAAAAAN6w7aMAmJaAAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAr5wc3NoAAAAAJoE8HmYQEKGq5LmW+CIX5UAAAKengIAAAEAAQCUAjwAVwBSAE0ASABFAEEARABFAFIAIAB4AG0AbABuAHMAPQAiAGgAdAB0AHAAOgAvAC8AcwBjAGgAZQBtAGEAcwAuAG0AaQBjAHIAbwBzAG8AZgB0AC4AYwBvAG0ALwBEAFIATQAvADIAMAAwADcALwAwADMALwBQAGwAYQB5AFIAZQBhAGQAeQBIAGUAYQBkAGUAcgAiACAAdgBlAHIAcwBpAG8AbgA9ACIANAAuADAALgAwAC4AMAAiAD4APABEAEEAVABBAD4APABQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsARQBZAEwARQBOAD4AMQA2ADwALwBLAEUAWQBMAEUATgA+ADwAQQBMAEcASQBEAD4AQQBFAFMAQwBUAFIAPAAvAEEATABHAEkARAA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsASQBEAD4AQQBBAEEAQQBBAE8AYwBHAHkAeQA0AEEAQQBBAEEAQQBBAEEAQQBBAEEAQQA9AD0APAAvAEsASQBEAD4APABDAEgARQBDAEsAUwBVAE0APgBvAE8ARwBWAHcAUwB0AGYAcABvAHMAPQA8AC8AQwBIAEUAQwBLAFMAVQBNAD4APABDAFUAUwBUAE8ATQBBAFQAVABSAEkAQgBVAFQARQBTAD4APABMAGkAdAB0AGwAZQBFAG4AZABpAGEAbgBLAEkARAA+AHQAcgB1AGUAPAAvAEwAaQB0AHQAbABlAEUAbgBkAGkAYQBuAEsASQBEAD4APAAvAEMAVQBTAFQATwBNAEEAVABUAFIASQBCAFUAVABFAFMAPgA8AC8ARABBAFQAQQA+ADwALwBXAFIATQBIAEUAQQBEAEUAUgA+AAAAAExwc3NoAAAAAClwH+Q8x0o0jFuukMdDmkcAAAAsAAAABAAAAAAG5y7LEQCZXm+LFtZ8GJ3qeQbAI/HmYiUnLTrYNjnKW2j/oyoAAAA0cHNzaAAAAADt74upedZKzqPIJ9zVHSHtAAAAFAgBEhAAAAAABucuywAAAAAAAAAAAAADJHRyYWsAAABodGtoZAEAAAcAAAAA3rDtowAAAADesO2jAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAFAAAAAtAAAAAAACxlZHRzAAAAJGVsc3QBAAAAAAAAAQAAAAEGrsFFAAAAAAAGW5sAAQAAAAACiG1kaWEAAAAsbWRoZAEAAAAAAAAA3rDtowAAAADesO2jAJiWgAAAAAAAAAAAVcQAAAAAADRoZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW8gTWVkaWEgSGFuZGxlcgAAAAIgbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAB4HN0YmwAAAAQc3R0cwAAAAAAAAAAAAAAEGN0dHMAAAAAAAAAAAAAAYRzdHNkAAAAAAAAAAEAAAF0ZW5jdgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAUAAtAASAAAAEgAAAAAAAAAAQpBVkMgQ29kaW5nAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADxhdmNDAU1AH//hACVnTUAf6IAoAt2AiAAAAwAIAAADAYcBAAHH7gAAl/pSYYA8YMRIAQAEaOvssgAAABBwYXNwAAAAAQAAAAEAAAAidXVpZE5ldGZsaXhGcmFtZVJhdGUAAAAAAABdwAPoAAAAYHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABwaWZmAAEAAQAAADhzY2hpAAAAMHV1aWSJdNvOe+dMUYT5cUj5iCVUAAAAAAAAAQgAAAAABucuywAAAAAAAAAAAAAAUHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABjZW5jAAEAAAAAAChzY2hpAAAAIHRlbmMAAAAAAAABCAAAAAAG5y7LAAAAAAAAAAAAAAAQc3RzYwAAAAAAAAAAAAAAFHN0c3oAAAAAAAAAAAAAAAAAAAAQc3RjbwAAAAAAAAAAAAAAPG12ZXgAAAAUbWVoZAEAAAAAAAABBq7BRQAAACB0cmV4AAAAAAAAAAIAAAABAAAAAAAAAAABoQAA";},function(q,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(1).__exportStar(a(394),b);},function(q,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.uf=b.zb=b.eg=b.qc=b.ka=b.Dia=b.eI=b.Qa=void 0;(function(c){c.T7a="loadedtracks";c.S7a="loadedmetadata";c.loaded="loaded";c.error="error";c.closed="closed";c.Zr="currenttimechanged";c.Ehb="unthrottledcurrenttimechanged";c.Goa="bufferedtimechanged";c.W_a="durationchanged";c.hDa="videosizechanged";c.Lab="pausedchanged";c.Vya="playingchanged";c.C0a="endedchanged";c.HO="busychanged";c.Y8="audiotracklistchanged";c.An="audiotrackchanged";c.sx="timedtexttracklistchanged";c.Zm="timedtexttrackchanged";c.j3="trickplayframeschanged";c.Z9a="mutedchanged";c.Rib="volumechanged";c.nBa="showsubtitle";c.Qza="removesubtitle";c.y9b="watermark";c.tva="isReadyToTransition";c.lQ="inactivated";c.$5a="internalPlaybackError";c.W2b="segmentmaploaded";c.X2b="segmentpresenting";c.uWa="autoplaywasallowed";c.a9="autoplaywasblocked";})(b.Qa || (b.Qa={}));(b.eI || (b.eI={})).h2="playgraphsegmenttransition";b.Dia=a;a.feb="serverTimeChanged";(function(c){c.wO="aseReport";c.moa="autoplayWasAllowed";c.ej="autoplayWasBlocked";c.gB="bufferUnderrun";c.closed="closed";c.Fh="closing";c.Zr="currentTimeChanged";c.gF="downloadComplete";c.lQ="inactivated";c.F7a="licenseAdded";c.z_="licensed";c.C_="locationSelected";c.Gwa="manifestClosing";c.GK="manifestPresenting";c.Lca="mediaBufferChanged";c.sda="nextBranchingSegmentChosen";c.Ow="playbackStart";c.Yn="playbackReady";c.xl="repositioned";c.sL="repositioning";c.Gdb="safePlayRequested";c.BL="segmentPresenting";c.l2="serverSwitch";c.Zeb="shouldUpdateVideoDiagInfo";c.pS="subtitleError";c.jCa="throttledMediaTimeChanged";c.Fhb="unthrottledMediaTimeChanged";c.vS="timedTextRebuffer";c.sx="timedTextTrackListChanged";c.j3="trickPlayFramesChanged";c.MCa="updateNextBranchingSegmentWeights";c.M8b="userInitiatedPause";c.yib="userInitiatedResume";c.ghb="tracksHydrated";})(b.ka || (b.ka={}));(function(c){c[c.VM=0]="NOTLOADED";c[c.LOADING=1]="LOADING";c[c.Re=2]="NORMAL";c[c.CLOSING=3]="CLOSING";c[c.CLOSED=4]="CLOSED";})(b.qc || (b.qc={}));(function(c){c[c.Re=1]="NORMAL";c[c.Md=2]="BUFFERING";c[c.tPa=3]="STALLED";})(b.eg || (b.eg={}));(function(c){c[c.tg=1]="WAITING";c[c.$c=2]="PLAYING";c[c.Rh=3]="PAUSED";c[c.Vs=4]="ENDED";})(b.zb || (b.zb={}));(function(c){c[c.jA=0]="INITIAL";c[c.hI=1]="SEEK";c[c.A6=2]="TRACK_CHANGED";c[c.eN=3]="SEGMENT_CHANGED";c[c.N4=4]="FORCE_REBUFFER";})(b.uf || (b.uf={}));},function(q,b,a){var g,f,d,h,m,l,n,p,r,t,w,v,u,x,y,z,A,B,D;function c(C){return (C=b.config.C7b[k(C)])?C:{};}function k(C){if(C)return 0 <= C.indexOf("billboard")?"billboard":0 <= C.toLowerCase().indexOf("preplay")?"preplay":0 <= C.indexOf("embedded")?"embedded":0 <= C.indexOf("content-sampling")?"content-sampling":0 <= C.indexOf("video-merch-bob-horizontal")?"video-merch-bob-horizontal":0 <= C.indexOf("mini-modal-horizontal")?"mini-modal-horizontal":0 <= C.indexOf("standard")?"standard":0 <= C.indexOf("branching")?"branching":0 <= C.indexOf("live")?"live":C;}Object.defineProperty(b,"__esModule",{value:!0});b.xCb=b.yCb=b.DYa=b.Opa=b.EYa=b.Npa=b.config=void 0;g=a(16);f=a(46);d=a(9);h=a(43);m=a(24);l=a(30);n=a(45);p=a(26);a(7);r=a(11);t=a(14);w=a(183);v=a(54);u=a(92);x=a(116);y=a(55);z=a(6);A=a(49);B=a(20);D=a(127);b.EYa=function(C,F){var ya,sa,X,S,R,W,ia,za,Ra;function G(Fa,$a){(0,p.kh)(Fa,function(Ta,Xa){(0,t.yd)(Xa)?$a[Ta]=Xa.call(void 0,$a[Ta]):(0,t.fk)(Xa) && ($a[Ta]=$a[Ta] || ({}),G(Xa,$a[Ta]));});}function E(Fa,$a,Ta,Xa){for(var eb=[],rb=3;rb < arguments.length;++rb){eb[rb - 3]=arguments[rb];}return function(U){(0,t.Gd)(U) && (Ta=U);(0,m.Db)((0,t.yd)(Fa));return Fa.apply(void 0,[$a,Ta].concat(ka(eb)));};}function I(Fa){Fa=Fa.toLowerCase();S.hasOwnProperty(Fa) && (X[Fa]=S[Fa],R[Fa]=S[Fa]);return Fa;}function K(Fa,$a,Ta){var Xa;Fa=Fa.toLowerCase();if(X.hasOwnProperty(Fa)){Xa=X[Fa];try{Xa=Ta?Ta(Xa):Xa;}catch(eb){Xa=void 0;}if(void 0 !== Xa)return Xa;(0,m.Db)(!1);d.log.error("Invalid configuration value. Name: " + Fa);}return $a;}function L(Fa,$a,Ta,Xa){return K(Fa,$a,function(eb){(0,t.Ag)(eb) && (eb=(0,p.tk)(eb));if((0,t.t6a)(eb,Ta,Xa))return eb;});}function H(Fa,$a,Ta,Xa){return K(Fa,$a,function(eb){(0,t.Ag)(eb) && (eb=(0,p.tk)(eb));if((0,t.QF)(eb,Ta,Xa))return eb;});}function P(Fa,$a,Ta,Xa){return K(Fa,$a,function(eb){(0,t.Ag)(eb) && (eb=parseFloat(eb));if((0,t.Oa)(eb,Ta,Xa))return eb;});}function N(Fa,$a,Ta){return K(Fa,$a,function(Xa){if(Ta?Ta.test(Xa):(0,t.Ag)(Xa))return Xa;});}function J(Fa,$a){return K(Fa,$a,function(Ta){if("true" == Ta || !0 === Ta)return !0;if("false" == Ta || !1 === Ta)return !1;});}function M(Fa,$a){return K(Fa,$a,function(Ta){if((0,t.Ag)(Ta))return JSON.parse((0,r.R5)(Ta));if((0,t.fk)(Ta))return Ta;});}function O(Fa,$a,Ta,Xa,eb,rb){var U;Fa=Fa.toLowerCase();X.hasOwnProperty(Fa) && (U=X[Fa]);if(!(0,t.Gd)(U))return $a;if((0,t.Ag)(U))if(U[0] !== Ta)U=Xa(U);else try{U=JSON.parse((0,r.R5)(U));}catch(fa){U=void 0;}if(void 0 === U)return $a;for(Fa=0;Fa < eb.length;Fa++){if(!eb[Fa](U))return $a;}return rb?rb(U):U;}function Q(Fa,$a,Ta,Xa,eb){return O(Fa,$a,"[",function(rb){rb=rb.split("|");for(var U=rb.length;U--;){rb[U]=(0,p.tk)(rb[U]);}return rb;},[function(rb){return (0,t.isArray)(rb) && 0 < rb.length;},function(rb){for(var U=rb.length;U--;){if(!(0,t.QF)(rb[U],Ta,Xa))return !1;}return !0;},function(rb){return void 0 === eb || rb.length >= eb;}]);}function T(Fa,$a){return O(Fa,$a,"[",function(Ta){Ta=(0,t.isArray)(Ta)?Ta:Ta.split("|");for(var Xa=Ta.length;Xa--;){try{Ta[Xa]=JSON.parse((0,r.R5)(Ta[Xa]));}catch(eb){Ta=void 0;break;}}return Ta;},[function(Ta){return (0,t.isArray)(Ta) && 0 < Ta.length;},function(Ta){for(var Xa=Ta.length;Xa--;){if(!(0,t.Gd)(Ta[Xa]) || !(0,t.fk)(Ta[Xa]))return !1;}return !0;}]);}function V(Fa,$a){var Ta;Ta=da(Fa,[]);return Ta && 0 < Ta.length?(0,D.op)(Ta):T(Fa,$a);}function da(Fa,$a,Ta,Xa){return O(Fa,$a,"[",function(eb){return (0,t.isArray)(eb)?eb:eb.split("|");},[function(eb){return (0,t.isArray)(eb) && 0 < eb.length;},function(eb){for(var rb=eb.length;rb--;){if(Ta?!Ta.test(eb[rb]):!(0,t.BQ)(eb[rb]))return !1;}return !0;},function(eb){return void 0 === Xa || eb.length >= Xa;}]);}function pa(Fa,$a,Ta){return O(Fa,$a,"{",function(Xa){var eb,U,fa;eb={};Xa=Xa.split(";");for(var rb=Xa.length;rb--;){U=Xa[rb];fa=U.indexOf(":");if(0 >= fa)return;eb[U.substring(0,fa)]=U.substring(fa + 1);}return eb;},[function(Xa){return (0,t.fk)(Xa) && 0 < Object.keys(Xa).length;},function(Xa){if(Ta)for(var eb in Xa){if(!Ta.test(Xa[eb]))return !1;}return !0;}],function(Xa){var eb;eb={};(0,p.Ke)(eb,$a);(0,p.Ke)(eb,Xa);return eb;});}function xa(Fa){var $a;$a=[];(0,p.kh)(Fa,function(Ta,Xa){var eb;try{eb="videoapp" === Ta.toLowerCase()?"[object object]":JSON.stringify(Xa);}catch(rb){eb="cantparse";}$a.push(Ta + "=" + eb);});return $a.join("\n");}ya=/^[0-9]+[%]?$/;sa=/^[0-9]*$/;R={};W=d.Ga.get(h.Dp);ia=d.Ga.get(x.bI);(function(Fa){function $a(Ta){Ta.split(",").forEach(function(Xa){var eb;eb=Xa.indexOf("=");0 < eb && (X[Xa.substring(0,eb).toLowerCase()]=Xa.substring(eb + 1));});}X={};(0,p.Ke)(X,Fa);C && C.length && r.forEach.call(C,function(Ta){(0,t.Ag)(Ta)?$a(Ta):(0,t.fk)(Ta) && (0,p.Ke)(X,Ta,{H_:!0});});S=(0,p.Ke)({},(0,f.Iaa)(),{H_:!0});if(Fa=(0,f.lcb)().cadmiumconfig)(d.log.info("Config cookie loaded",Fa),$a(Fa));if(d.Ga.get(A.Kp).B8 || X.istestaccount)((0,p.Ke)(X,S),R=S);})(F);b.config={};za={EIb:E(J,I("enableXHEAAC"),!1),k0a:E(J,I("enableDDPlus20"),!0),j0a:E(J,I("enableDDPlus"),!0),tP:E(J,I("enableDDPlusAtmos"),!1),lIb:E(J,I("enableLSSDH"),!0),fIb:E(J,I("enableHEVC"),!1),vab:E(J,I("overrideEnableHEVC"),!1),ara:E(J,I("enableHDR"),!1),uab:E(J,I("overrideEnableHDR"),!1),tab:E(J,I("overrideEnableDV"),!1),rP:E(J,I("enableAVCHigh"),ia.rP),bL:E(J,I("overrideEnableAVCHigh"),ia.bL),BIb:E(J,I("enableVP9"),!1),wab:E(J,I("overrideEnableVP9"),!1),ZHb:E(J,I("enableAV1"),!1),sab:E(J,I("overrideEnableAV1"),!1),uYb:E(J,I("overrideEnableXHEAAC"),!1),sYb:E(J,"overrideEnableAllAudioProfiles",!1),tYb:E(J,"overrideEnableAllVideoProfiles",!1),rIb:E(J,I("enablePRK"),!1),dIb:E(J,I("enableDV"),!1),n0a:E(J,I("enableHWDRM"),!1),iIb:E(J,I("enableImageSubs"),!0),jJ:E(V,I("audioProfiles"),ia.jJ),Jfc:E(J,I("disableHD"),!1),zIb:E(J,I("enableUHD"),!0),vga:E(H,"videoCapabilityDetectorType",l.pm.Fx),goa:E(H,"audioCapabilityDetectorType",l.Ax.Fx),oo:E(V,I("videoProfiles"),ia.oo),wVa:E(V,I("additionalVideoProfiles"),[]),Awb:E(da,I("timedTextProfiles"),ia.rx),rx:function(){return za.Awb().filter(function(Fa){return Fa === n.pn.Gha?za.lIb():Fa === n.pn.UM?za.iIb():!0;});},endpoint:E(J,I("endpoint"),!1),version:E(N,"version","unknown"),gIb:E(J,I("enableHdcp"),!1),Vw:E(J,I("prepareCadmium"),!1),axb:E(J,I("acceptManifestOnPrepareItemParams"),!0),VZb:E(M,"ppmconfig",{maxNumberTitlesScheduled:1}),tY:E(J,I("enableLdlPrefetch"),!1),r0a:E(J,I("enableMediaPrefetch"),!1),mIb:E(J,I("enableManifestCache"),!0),yGb:E(J,I("deleteCachedManifestOnPlayback"),!1),xGb:E(J,I("deleteCachedManifestOnCreate"),!1),BGb:E(J,I("deleteOtherManifestCacheOnCreate"),!1),AGb:E(J,I("deleteOtherLdlCacheOnCreate"),!1),zic:E(H,I("periodicPrepareLogsIntervalMilliseconds"),36E5),q_b:E(H,I("prepareManifestCacheMaxCount"),50),o_b:E(H,I("prepareLdlCacheMaxCount"),30),Ebb:E(H,I("prepareManifestExpiryMilliseconds"),12E5),p_b:E(H,I("prepareLdlExpiryMilliseconds"),78E4),i_b:E(H,I("prefetcherMaxWishlistSize"),10),h_b:E(H,I("prefetcherBudgetInBytes"),Infinity),j_b:E(J,I("prefetcherOverrideItemPriority"),!0),n_b:E(N,I("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),dkc:E(M,"videoApp"),ZG:E(M,"storageRules"),aaa:E(J,"ftlEnabled",ia.aaa),Aua:E(H,I("imageSubsResolution"),0),nQb:E(H,I("imageSubsMaxBuffer"),ia.JUb.ia(y.Bx),0),kX:E(J,I("captureBatteryStatus"),!1),vLb:E(H,I("getBatteryApiTimeoutMilliseconds"),5E3),Sn:E(N,I("keySystemId"),ia.Sn),l7a:E(da,I("keySystemList"),void 0,void 0),aDa:E(J,I("validateKeySystemAccess"),!1),yVb:E(H,I("hdcpGlobalTimeout1"),1E4),zVb:E(H,I("hdcpGlobalTimeout2"),1E4),Ohc:E(H,I("hdcpQueryTimeout1"),1E3),Phc:E(H,I("hdcpQueryTimeout2"),1E3),x9a:E(H,I("hdcpQueryTimeout2"),100),AVb:E(J,I("microsoftHwdrmRequiresHevc"),!1),hxa:E(J,I("microsoftClearLeadRequiresSwdrm"),!1),vVb:E(J,I("microsoftEnableDeviceInfo"),!1),wVb:E(J,I("microsoftEnableHardwareInfo"),!1),xVb:E(J,I("microsoftEnableHardwareReset"),!1),B8b:E(J,I("useHevcCodecForDolbyVision"),!1),oIb:E(J,I("enableMediaCapabilities"),!1),UZb:E(J,I("powerEfficientForVideo"),!1),pIb:E(J,I("enableMediaCapabilitiesSourceBufferCheck"),!1),LTb:E(J,"logMediaPipelineStatus",!1),I1:E(J,I("renderDomDiagnostics"),!0),b8a:function(){return -1;},GQ:E(L,I("logDisplayMaxEntryCount"),ia.GQ,-1),RTb:E(L,I("logToConsoleLevel"),-1),bfc:E(L,I("bladerunnerCmdHistorySize"),10),DB:function(){return W.DB;},kwa:E(J,"logErrorIfEsnNotProvided",!0),jra:E(J,"enforceSinglePlayback",ia.jra),s$:E(J,"enforceSingleSession",ia.s$),Dpa:E(J,"closeOtherPlaybacks",!0),Qyb:E(H,"asyncLoadTimeout",15E3,1),$Tb:E(H,"mainThreadMonitorPollRate",0),hK:function(){return W.hK;},MO:function(){return W.MO;},o3:function(){return W.o3;},Fib:E(H,I("verbosePlaybackInfoDenominator"),0),Lea:E(J,"renderTimedText",!0),WZb:E(J,"preBufferTimedText",!0),wJb:E(J,"fatalOnTimedTextLoadError",!0),Ngb:E(pa,"timedTextStyleDefaults",{}),oCa:E(pa,"timedTextStyleOverrides",{}),nCa:E(pa,"timedTextFontFamilyMapping",ia.nCa || ({"default":"font-family:Arial,Helvetica;font-weight:bolder"})),wS:E(H,"timedTextSimpleFallbackThreshold",ia.wS.ia(y.Bx)),kQ:E(da,I("imscLanguageList"),ia.kQ,[]),lqa:E(N,I("customDfxpUrl")),yIb:E(J,I("enableSubtitleTrackerLogging"),!1),i3b:E(J,I("sendSubtitleQoeLogblobOnMidplay"),!1),bpa:E(Q,"cdnIdWhiteList",[]),apa:E(Q,"cdnIdBlackList",[]),esa:E(N,I("forceAudioTrack")),isa:E(N,I("forceTimedTextTrack")),RUb:E(H,I("maxRetriesTimedTextDownload"),0),J6b:E(H,I("timedTextRetryInterval"),8E3),s5b:E(N,"storageType","idb",/^(none|fs|idb|ls)$/),Y7a:E(H,"lockExpiration",1E4),JTb:E(H,"lockRefresh",3E3),TAb:E(J,"captureUnhandledExceptions",!0),mQb:E(J,"ignoreUnhandledExceptionDuringPlayback",!0),F7b:E(J,"unhandledExceptionsArePlaybackErrors",!1),zhb:E(N,"unhandledExceptionSource",""),A_b:E(J,"preserveLastFrame",!1),HVb:E(H,"minBufferingTimeInMilliseconds",4E3),X_b:E(H,"progressBackwardsGraceTimeMilliseconds",4E3),Y_b:E(H,"progressBackwardsMinPercent",10),Mzb:E(N,I("bookmarkIgnoreBeginning"),"0",ya),Nzb:E(N,I("bookmarkIgnoreEnd"),"5%",ya),Ozb:E(N,I("bookmarkIgnoreEndForBranching"),"60000",ya),KQ:E(H,"maxParallelConnections",3),Zza:E(J,"reportThroughputInLogblobs",!0),iz:E(H,"minAudioMediaRequestDuration",16E3),FVb:E(H,"minAudioMediaRequestDurationBranching",0),tC:E(H,"minVideoMediaRequestDuration",4E3),PVb:E(H,"minVideoMediaRequestDurationVariableGOP",0),NVb:E(H,"minVideoMediaRequestDurationBranching",0),Vca:E(H,"minAudioMediaRequestSizeBytes",0),cda:E(H,"minVideoMediaRequestSizeBytes",0),GHb:E(J,"droppedFrameRateFilterEnabled",!1),HHb:E(H,"droppedFrameRateFilterMaxObservation",60,10,1E3),JHb:E(function(Fa,$a,Ta,Xa,eb,rb){return O(Fa,$a,"[",function(U){U=U.split(";");for(var fa=U.length;fa--;){U[fa]=U[fa].split("|");for(var la=U[fa].length;la--;){U[fa][la]=(0,p.tk)(U[fa][la]);}}return U;},[function(U){return (0,t.isArray)(U) && 0 < U.length;},function(U){for(var fa=U.length;fa-- && void 0 !== U;){if(!(0,t.isArray)(U[fa]))return !1;for(var la=U[fa].length;la--;){if(!(0,t.QF)(U[fa][la],Ta,Xa))return !1;}}return !0;},function(U){if(void 0 !== eb)for(var fa=U.length;fa--;){if(eb !== U[fa].length)return !1;}return !0;},function(U){return void 0 === rb || U.length >= rb;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),IHb:E(H,"droppedFrameRateFilterMinHeight",384),KHb:E(Q,"droppedFramesPercentilesList",[]),BVb:E(J,"microsoftScreenSizeFilterEnabled",!1),vSb:E(J,"keyStatusFilterEnabled",!1),X4a:E(H,"hdcpEngagementWaitTime",0),B7b:E(J,"uiLabelFilterEnabled",!0),A7b:E(M,"uiLabelFilter",{}),sGb:E(H,I("defaultVolume"),100,0,100),Twa:E(H,I("maxPlaybackRate"),2,0,16),y_a:E(J,"disableVideoRightClickMenu",!1),Zca:E(H,"minDecoderBufferMilliseconds",1E3,0,g.Jx),nG:E(H,"optimalDecoderBufferMilliseconds",5E3,0,g.Jx),kya:E(H,"optimalDecoderBufferMillisecondsBranching",3E3,0,g.Jx),lya:E(H,"optimalDecoderBufferMillisecondsLive",2E3,0,g.Jx),cG:E(H,"minimumTimeBeforeBranchDecision",3E3,0,g.Jx),N9a:E(H,"minimumTimeBeforeDelayedSeekToQueuedSegment",500,0,g.Jx),mC:E(H,"maxDecoderBufferMilliseconds",ia.mC.ia(z.sa),0,g.Jx),UZa:E(H,"decoderTimeoutMilliseconds",1E4,1),o$a:E(H,"noRenderTimeoutMilliseconds",0),TYb:E(H,"pauseTimeoutLimitMilliseconds",18E5),Cua:E(H,"inactivityMonitorInterval",3E4,0),$wb:E(Q,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),wP:E(J,"enableTrickPlay",!1),Wxb:E(Q,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),l7b:E(H,"trickPlayHighResolutionBitrateThreshold",1E3),m7b:E(H,"trickPlayHighResolutionThresholdMilliseconds",1E4),p7b:E(P,"trickplayBufferFactor",.5),k7b:E(H,"trickPlayDownloadRetryCount",1),Kwa:E(N,"marginPredictor","simple",/^(simple|scale|iqr|percentile)$/),zxa:E(N,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),uIa:E(M,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),T8a:E(L,"maxIQRSamples",Infinity),G9a:E(L,"minIQRSamples",5),tib:E(J,"useResourceTimingAPI",!1),jQb:E(J,"ignoreFirstByte",!0),axa:E(J,"mediaRequestAsyncLoadStart",ia.axa),J8b:E(J,"useXHROnLoadStart",!1),Dra:E(Q,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),z9:E(H,"connectTimeoutMilliseconds",8E3,500),Exa:E(H,"noProgressTimeoutMilliseconds",8E3,500),Mgb:E(H,"timedTextDownloadRetryCountBeforeCdnSwitch",3),bic:E(H,"netflixRequestExpiryTimeout",0),z9b:E(J,"webkitDecodedFrameCountIncorrectlyReported",!1),P2b:E(H,"seekBackOnAudioTrackChangeMilliseconds",8E3),Kfa:E(da,I("supportedAudioTrackTypes"),[],void 0,1),xba:E(H,"initialLogFlushTimeout",5E3),ibb:E(N,"playdataPersistKey",W.DB?"unsentplaydatatest":"unsentplaydata"),jjc:E(J,"sendPersistedPlaydata",!0),xZb:E(H,"playdataPersistIntervalMilliseconds",4E3),Aic:E(H,"playdataSendDelayMilliseconds",1E4),kjc:E(J,"sendPlaydataBackupOnInit",!0),OTb:E(da,"logPerformanceTiming",("navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading").split(" ")),y9a:E(J,"midplayEnabled",!0),Tca:E(H,"midplayIntervalMilliseconds",3E5),z9a:E(Q,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),i$:E(H,"downloadReportDenominator",0),uHb:E(H,"downloadReportInterval",3E5),a8a:E(H,"logConfigApplyDenominator",0),LWa:E(pa,I("bookmarkByMovieId"),{}),OY:E(J,I("forceLimitedDurationLicense"),!1),UF:E(H,I("licenseRenewalRequestDelay"),0),Dya:E(H,I("persistedReleaseDelay"),1E4),mhc:E(J,I("limitedDurationFlagOverride"),void 0),Fdb:E(H,"safariPlayPauseWorkaroundDelay",100),K9b:E(H,"workaroundValueForSeekIssue",1200),Xoa:E(J,I("callEndOfStream"),ia.Xoa),cZb:E(J,"performRewindCheck",!0),yJb:E(J,"fatalOnUnexpectedSeeking",!0),xJb:E(J,"fatalOnUnexpectedSeeked",!0),c4b:E(J,I("setVideoElementSize")),WBb:E(J,I("clearVideoSrc"),!0),l_a:E(H,I("delayPlayPause"),0),Ju:E(J,I("useTypescriptEme"),!1),kib:E(J,I("useEncryptedEvent"),!0),nY:E(N,I("drmPersistKey"),"unsentDrmData"),Tbb:E(J,I("promiseBasedEme"),!1),UWb:E(J,I("nudgeSourceBuffer"),!1),BAa:E(L,I("seekDelta"),1),e1:E(J,I("preciseSeeking"),!1),YZb:E(J,I("preciseSeekingOnTwoCoreDevice"),!1),k_a:E(pa,I("delayErrorHandling")),Xl:E(N,"esn",""),c1a:E(N,"fesn",""),tIb:E(J,I("enablePerformanceLogging"),!1),m0a:E(J,I("enableEmeVerboseLogging"),!1),appId:E(N,"appId","",sa),sessionId:E(N,"sessionId","",sa),cpa:E(N,"cdnProxyUrl"),G8b:E(J,"usePlayReadyHeaderObject",!1),E1a:E(H,"forceXhrErrorResponseCode",void 0),cs:{Yhc:E(N,"mslApiPath","/msl/"),Iic:E(N,"proxyPath",""),Mz:E(N,"uiVersion"),gga:E(N,"uiPlatform"),mfc:function(){return "0";},aza:E(da,"preferredLanguages",g.PFa,/^[a-zA-Z-]{2,5}$/,1),vKb:E(N,I("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),X5b:E(J,"supportPreviewContentPin",!0),Y5b:E(J,"supportWatermarking",!0),E4b:E(J,"showAllSubDubTracks",!1),ggc:E(J,I("failOnGuidMismatch"),!1)},wea:{enabled:E(J,"qcEnabled",!1),Pq:E(N,"qcPackageId","")},Iu:E(J,"useRangeHeader",!1),uY:E(J,"enableMilestoneEventList",!0),lzb:E(pa,"authenticationKeyNames",(0,p.Ke)({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),i6b:E(N,"systemKeyWrapFormat"),y4b:E(J,"shouldSendUserAuthData",!0),OAa:E(J,"sendUserAuthIfRequired",ia.OAa),t4b:E(J,"shouldClearUserData",!1),IS:E(J,"usesMsl",!0),gWb:E(J,"mslDeleteStore",!1),iWb:E(J,"mslPersistStore",!0),TCb:E(J,"correctNetworkForShortTitles",!0),TZb:E(J,"postplayHighInitBitrate",!1),c6b:E(J,"supportsUnequalizedDownloadables",!0),OZa:E(H,I("debugAseDenominator"),100),N8:E(H,"aseAudioBufferSizeBytes",ia.N8.ia(y.Bx)),Q8:E(H,"aseVideoBufferSizeBytes",ia.Q8.ia(y.Bx)),Iw:E(H,"minInitVideoBitrate",560),mxa:E(H,"minHCInitVideoBitrate",560),oC:E(H,"maxInitVideoBitrate",Infinity),a0:E(H,"minInitAudioBitrate",0),Z_:E(H,"minHCInitAudioBitrate",0),K_:E(H,"maxInitAudioBitrate",65535),Uca:E(H,"minAcceptableVideoBitrate",235),QK:E(H,"minRequiredBuffer",3E4),Hj:E(H,"minPrebufSize",7800),Yca:E(H,"minCheckBufferingCompleteInterval",999999),Fza:E(P,"rebufferingFactor",1),ys:E(H,"maxBufferingTime",2600),WCa:E(J,"useMaxPrebufSize",!0),qC:E(H,"maxPrebufSize",45E3),Vwa:E(H,"maxRebufSize",Infinity),uba:E(T,"initialBitrateSelectionCurve",null),K5a:E(H,"initSelectionLowerBound",560),L5a:E(H,"initSelectionUpperBound",1050),X2:E(H,"throughputPercentForAudio",15),soa:E(H,"bandwidthMargin",10),toa:E(J,"bandwidthMarginContinuous",!1),uoa:E(T,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),Qpa:E(H,"conservBandwidthMargin",20),dCa:E(J,"switchConfigBasedOnInSessionTput",!1),wX:E(H,"conservBandwidthMarginTputThreshold",0),Rpa:E(T,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),mgb:E(J,"switchAlgoBasedOnHistIQR",!1),bH:E(N,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),Uwa:E(L,"maxPlayerStateToSwitchConfig",-1),wwa:E(N,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),Bia:E(P,"IQRThreshold",.5),pua:E(N,"histIQRCalcToUse","simple"),Fw:E(H,"maxTotalBufferLevelPerSession",0),o$:E(J,"enableCombinedPlaygraphs",!0),n$:E(J,"enableAdPlaygraphs",!0),yra:E(da,"excludedContentPlaygraphIds",[]),p$:E(J,"enableDiscontiguousBuffering",!1),gsa:E(Q,"forceImmediateTransitionTypeForTitles",[]),fsa:E(H,"forceImmediateTransitionExitZone",0),nga:E(J,"useBufferSizeLimiter",!1),VCa:E(J,"useLegacyFragmentRounding",!1),e5a:E(H,"highWatermarkLevel",3E4),Vgb:E(H,"toStableThreshold",3E4),Vfa:E(H,"toUnstableThreshold",ia.Vfa.ia(z.sa)),xBa:E(J,"skipBitrateInUpswitch",!0),oDa:E(H,"watermarkLevelForSkipStart",8E3),hba:E(H,"highStreamRetentionWindow",9E4),vca:E(H,"lowStreamTransitionWindow",51E4),lua:E(H,"highStreamRetentionWindowUp",3E5),ywa:E(H,"lowStreamTransitionWindowUp",3E5),kua:E(H,"highStreamRetentionWindowDown",6E5),xwa:E(H,"lowStreamTransitionWindowDown",0),jua:E(P,"highStreamInfeasibleBitrateFactor",.5),iC:E(H,"lowestBufForUpswitch",15E3),qca:E(H,"lockPeriodAfterDownswitch",15E3),Awa:E(H,"lowWatermarkLevel",25E3),jC:E(H,"lowestWaterMarkLevel",2E4),Bwa:E(J,"lowestWaterMarkLevelBufferRelaxed",!1),$wa:E(P,"mediaRate",1),JK:E(H,"maxTrailingBufferLen",1E4),IW:E(H,"audioBufferTargetAvailableSize",262144),C3:E(H,"videoBufferTargetAvailableSize",1048576),g9a:E(H,"maxVideoTrailingBufferSize",8388608),N8a:E(H,"maxAudioTrailingBufferSize",393216),I$:E(P,"fastUpswitchFactor",3),Era:E(P,"fastDownswitchFactor",1),eu:E(H,"maxMediaBufferAllowed",24E4),tBa:E(J,"simulatePartialBlocks",!0),cfb:E(J,"simulateBufferFull",!0),Spa:E(J,"considerConnectTime",!1),Ppa:E(P,"connectTimeMultiplier",1),h8a:E(H,"lowGradeModeEnterThreshold",12E4),i8a:E(H,"lowGradeModeExitThreshold",9E4),P8a:E(H,"maxDomainFailureWaitDuration",3E4),M8a:E(H,"maxAttemptsOnFailure",18),R0a:E(J,"exhaustAllLocationsForFailure",!0),X8a:E(H,"maxNetworkErrorsDuringBuffering",20),zca:E(H,"maxBufferingTimeAllowedWithNetworkError",12E4),Z0a:E(H,"fastDomainSelectionBwThreshold",2E3),zgb:E(H,"throughputProbingEnterThreshold",4E4),Agb:E(H,"throughputProbingExitThreshold",34E3),W7a:E(H,"locationProbingTimeout",1E4),f1a:E(H,"finalLocationSelectionBwThreshold",1E4),xgb:E(P,"throughputHighConfidenceLevel",.75),ygb:E(P,"throughputLowConfidenceLevel",.4),t0a:E(J,"enablePerfBasedLocationSwitch",!1),Xw:E(J,"probeServerWhenError",!0),iza:E(H,"probeRequestTimeoutMilliseconds",8E3),aB:E(J,"allowSwitchback",!0),oL:E(H,"probeDetailDenominator",100),Aca:E(H,"maxDelayToReportFailure",300),hwa:E(H,"locationStatisticsUpdateInterval",6E4),WYa:E(J,"countGapInBuffer",!1),CVa:E(J,"allowCallToStreamSelector",!0),XWa:E(H,"bufferThresholdForAbort",1E4),QUb:E(H,"maxResponsesInitialTput",6),o0a:E(J,"enableInitialTputLogging",!1),Fya:E(H,"pipelineScheduleTimeoutMs",2),pC:E(H,"maxPartialBuffersAtBufferingStart",2),Wwa:E(H,"maxStreamingSkew",4E3),Swa:E(H,"maxPendingBufferPercentage",10),fba:E(H,"headerRequestSize",4096),qra:E(J,"estimateHeaderSize",!1),X_:E(H,"minBufferLenForHeaderDownloading",1E4),V1:E(H,"reserveForSkipbackBufferMs",1E4),Pxa:E(H,"numExtraFragmentsAllowed",2),Bs:E(J,"pipelineEnabled",!1),kfb:E(H,"socketReceiveBufferSize",0),W8:E(H,"audioSocketReceiveBufferSize",32768),NS:E(H,"videoSocketReceiveBufferSize",65536),hua:E(H,"headersSocketReceiveBufferSize",32768),lga:E(H,"updatePtsIntervalMs",1E3),Doa:E(H,"bufferTraceDenominator",100),FO:E(H,"bufferLevelNotifyIntervalMs",2E3),xO:E(H,"aseReportDenominator",0),O8:E(H,"aseReportIntervalMs",3E5),$Hb:E(J,"enableAbortTesting",!1),Ywb:E(H,"abortRequestFrequency",8),VBa:E(H,"streamingStatusIntervalMs",2E3),GC:E(H,"prebufferTimeLimit",24E4),Xca:E(H,"minBufferLevelForTrackSwitch",2E3),yya:E(H,"penaltyFactorForLongConnectTime",2),uwa:E(H,"longConnectTimeThreshold",200),Fna:E(H,"additionalBufferingLongConnectTime",2E3),Gna:E(H,"additionalBufferingPerFailure",8E3),B1:E(H,"rebufferCheckDuration",6E4),q0a:E(J,"enableLookaheadHints",!1),e8a:E(H,"lookaheadFragments",2),BB:E(J,"enableOCSideChannel",!0),U5:E(M,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),Mhb:E(J,"updateDrmRequestOnNetworkFailure",!1),j_a:E(J,"deferAseScheduling",!1),O8a:E(H,"maxDiffAudioVideoEndPtsMs",16E3),T9:E(H,"defaultHeaderCacheSize",4),S9:E(H,"defaultHeaderCacheDataPrefetchMs",8E3),VK:E(J,"neverWipeHeaderCache",!0),yxa:E(H,"networkFailureResetWaitMs",2E3),xxa:E(H,"networkFailureAbandonMs",6E4),Fca:E(H,"maxThrottledNetworkFailures",3),Pfa:E(H,"throttledNetworkFailureThresholdMs",200),zwa:E(L,"lowThroughputThreshold",400),xra:E(J,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),U9a:E(J,"mp4ParsingInNative",!1),mfb:E(J,"sourceBufferInOrderAppend",!0),vL:E(J,"requireAudioStreamToEncompassVideo",!0),BVa:E(J,"allowAudioToStreamPastVideo",!0),fj:E(J,"enableManagerDebugTraces",!1),v8a:E(H,"managerDebugMessageInterval",1E3),u8a:E(H,"managerDebugMessageCount",20),B$a:E(J,"notifyManifestCacheEom",!1),Coa:E(H,"bufferThresholdToSwitchToSingleConnMs",18E4),Boa:E(H,"bufferThresholdToSwitchToParallelConnMs",12E4),Xda:E(H,"periodicHistoryPersistMs",3E5),afa:E(H,"saveVideoBitrateMs",18E4),RVa:E(J,"appendMediaRequestOnComplete",!0),Aga:E(J,"waitForDrmToAppendMedia",!1),R$:E(J,I("forceAppendHeadersAfterDrm"),!1),tKb:E(J,I("forceAppendEncryptedStreamHeaderFirst"),!0),u0b:E(J,I("reappendRequestsOnSkip"),!1),mWb:E(H,"netIntrStoreWindow",36E3),JVb:E(H,"minNetIntrDuration",8E3),tJb:E(H,"fastHistoricBandwidthExpirationTime",10368E3),uzb:E(H,"bandwidthExpirationTime",5184E3),qJb:E(H,"failureExpirationTime",86400),KPb:E(H,"historyTimeOfDayGranularity",4),cJb:E(J,"expandDownloadTime",!1),WVb:E(H,"minimumMeasurementTime",500),VVb:E(H,"minimumMeasurementBytes",131072),A6b:E(H,"throughputMeasurementTimeout",2E3),IQb:E(H,"initThroughputMeasureDataSize",262144),B6b:E(N,"throughputPredictor","ewma"),z6b:E(H,"throughputMeasureWindow",5E3),E6b:E(H,"throughputWarmupTime",5E3),y6b:E(H,"throughputIQRMeasureWindow",5E3),Pnb:E(H,"IQRBucketizerWindow",15E3),ACb:E(H,"connectTimeHalflife",10),i2b:E(H,"responseTimeHalflife",10),JPb:E(H,"historicBandwidthUpdateInterval",2E3),UVb:E(H,"minimumBufferToStopProbing",1E4),AAa:E(N,"secondThroughputEstimator","none"),Sdb:E(L,"secondThroughputMeasureWindowInMs",Infinity),eIb:E(da,"enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")),KJb:E(M,"filterDefinitionOverrides",{}),lGb:E(N,"defaultFilter","throughput-ewma"),O2b:E(N,"secondaryFilter","none"),mGb:E(M,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),g0:E(J,"needMinimumNetworkConfidence",!0),xoa:E(J,"biasTowardHistoricalThroughput",!0),una:E(J,"addHeaderDataToNetworkMonitor",!1),EBa:E(J,"startMonitorOnLoadStart",!1),Yza:E(J,"reportFailedRequestsToNetworkMonitor",!1),Bca:E(L,"maxFastPlayBufferInMs",Infinity),Qwa:E(L,"maxFastPlayBitThreshold",Infinity),Rna:E(J,"appendFirstHeaderOnComplete",!0),Eyb:E(N,"ase_stream_selector","optimized"),Oua:E(N,"initBitrateSelectorAlgorithm","default"),Ioa:E(N,"bufferingSelectorAlgorithm","default"),PZa:E(N,"ase_ls_failure_simulation",""),oqa:E(J,"ase_dump_fragments",!1),pqa:E(H,"ase_location_history",0),QZa:E(H,"ase_throughput",0),SZa:E(J,"ase_simulate_verbose",!1),PZb:E(H,"pollingPeriod",150),BTb:E(H,"loadTimeMs",18E4),rUb:E(H,"marginTimeMs",1E4),Nsa:E(J,"getDeviceIdFromBindDevice",!1),tna:E(J,"addFailedLogBlobsToQueue",!0),C7b:{"content-sampling":{ys:E(H,"contentSamplingMaxBufferingTime",3E3),TR:E(N,"contentSamplingSelectStartingVMAFMethod","fallback"),rW:E(J,"contentSamplingActivateSelectStartingVMAF",!0),Jw:E(H,"contentSamplingMinStartingVideoVMAF",80),W_:E(H,"contentSamplingMinAcceptableVMAF",70),PK:E(H,"contentSamplingMinAllowedVmaf",60)},billboard:{Iw:E(H,"billboardMinInitVideoBitrate",1050),oC:E(H,"billboardMaxInitVideoBitrate",null),Hj:E(H,"billboardMinPrebufSize",null),qC:E(H,"billboardMaxPrebufSize",null),ys:E(H,"billboardMaxBufferingTime",null),pC:E(H,"billboardMaxPartialBuffersAtBufferingStart",null),jC:E(H,"billboardLowestWaterMarkLevel",6E3),iC:E(H,"billboardLowestBufForUpswitch",25E3),bH:E(N,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{Iw:E(H,"preplayMinInitVideoBitrate",1050),oC:E(H,"preplayMaxInitVideoBitrate",null),Hj:E(H,"preplayMinPrebufSize",null),qC:E(H,"preplayMaxPrebufSize",null),ys:E(H,"preplayMaxBufferingTime",null),pC:E(H,"preplayMaxPartialBuffersAtBufferingStart",null),jC:E(H,"preplayLowestWaterMarkLevel",6E3),iC:E(H,"preplayLowestBufForUpswitch",25E3)},embedded:{Iw:E(H,"embeddedMinInitVideoBitrate",1050),oC:E(H,"embeddedMaxInitVideoBitrate",null),Hj:E(H,"embeddedMinPrebufSize",null),qC:E(H,"embeddedMaxPrebufSize",null),ys:E(H,"embeddedMaxBufferingTime",null),pC:E(H,"embeddedMaxPartialBuffersAtBufferingStart",null),jC:E(H,"embeddedLowestWaterMarkLevel",6E3),iC:E(H,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{Iw:E(H,"videoMerchBobHorizontalMinInitVideoBitrate",null),oC:E(H,"videoMerchBobHorizontalMaxInitVideoBitrate",null),Hj:E(H,"videoMerchBobHorizontalMinPrebufSize",null),qC:E(H,"videoMerchBobHorizontalMaxPrebufSize",null),ys:E(H,"videoMerchBobHorizontalMaxBufferingTime",null),pC:E(H,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),jC:E(H,"videoMerchBobHorizontalLowestWaterMarkLevel",null),iC:E(H,"videoMerchBobHorizontalLowestBufForUpswitch",null)},"mini-modal-horizontal":{Iw:E(H,"miniModalHorizontalMinInitVideoBitrate",null),oC:E(H,"miniModalHorizontalMaxInitVideoBitrate",null),Hj:E(H,"miniModalHorizontalMinPrebufSize",null),qC:E(H,"miniModalHorizontalMaxPrebufSize",null),ys:E(H,"miniModalHorizontalMaxBufferingTime",500),pC:E(H,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),jC:E(H,"miniModalHorizontalLowestWaterMarkLevel",null),iC:E(H,"miniModalHorizontalLowestBufForUpswitch",null)},live:{Hj:E(H,"liveMinPrebufSize",2E3),qC:E(H,"liveMaxPrebufSize",4E3),ys:E(H,"liveMaxBufferingTime",500)}},CIb:E(J,"enableVerbosePlaydelayLogging",!1),wIb:E(J,"enableSeamless",!1),oua:E(H,"hindsightDenominator",0),nua:E(H,"hindsightDebugDenominator",0),jba:E(M,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),vY:E(J,"enableSessionHistoryReport",!1),Wqa:E(H,"earlyStageEstimatePeriod",1E4),A7a:E(H,"lateStageEstimatePeriod",3E4),Dca:E(H,"maxNumSessionHistoryStored",30),bda:E(H,"minSessionHistoryDuration",3E4),dz:E(H,"maxActiveRequestsPerSession",3),xca:E(H,"maxActiveRequestsSABCell100",2),dwa:E(J,"limitAudioDiscountByMaxAudioBitrate",!0),we:E(M,"browserInfo",{}),fAb:E(H,I("busyGracePeriod"),199),j3b:E(J,I("sendTransitionLogblob"),!0),QHb:E(J,I("editVideoFragments"),!0),l$:E(J,I("earlyAppendSingleChildBranch"),!0),vQb:E(J,I("includeSegmentInfoOnLogblobs"),!0),hJb:E(J,"exposeTestData",!1),gJb:E(J,I("exposeErrorData"),!1),qqa:E(J,"declareBufferingCompleteAtSegmentEnd",!0),iJ:E(J,I("applyProfileTimestampOffset"),!1),Io:E(J,I("applyProfileStreamingOffset"),!1),S_:E(J,I("mediaSourceSupportsNegativePts"),!1),jyb:E(J,I("allowSmallSeekDelta"),!1),S4b:E(H,I("smallSeekDeltaThresholdMilliseconds"),w.s6),cIb:E(J,"enableCDMAttestedDescriptors",!1),Oea:E(J,"requireDownloadDataAtBuffering",!1),Pea:E(J,"requireSetupConnectionDuringBuffering",!1),Hza:E(J,"recordFirstFragmentOnSubBranchCreate",!1),Tzb:E(J,"branchingAudioTrackFrameDropSmallSeekFix",!0),nib:E(J,"useMobileVMAF",!1),s_a:E(N,"desiredVMAFTypeMobile","phone_plus_lts"),t_a:E(N,"desiredVMAFTypeNonMobile","plus_lts"),rW:E(J,"activateSelectStartingVMAF",!1),Jw:E(H,"minStartingVideoVMAF",1),W_:E(H,"minAcceptableVMAF",1),PK:E(H,"minAllowedVmaf",1),myb:E(J,"alwaysNotifyEOSForPlaygraph",!0),vP:E(J,"enableNewAse",!0),w3:E(J,"useNewApi",!0),hIb:E(J,"enableHudsonFieldTest",!1),ZPb:E(da,"hudsonTitles",["81127954","70125931","80158148"]),OUb:E(H,"maxPartialBuffersAtHudson",1),YWb:E(H,"numberOfChunksPerSegment",4),o6b:E(H,"targetContentLatency",1E4),p6b:E(H,"targetLongContentLatency",3E4),XVb:E(H,"minimumTimeDelay",1),cra:E(J,"enableWsslEstimate",!1),yca:E(H,"maxAllowedOutstandingRequests",4),tO:E(J,"alwaysRunUnderflowTimer",!0),nxa:E(H,"minStreamableConcurrencyWindow",3E3),SBa:E(P,"streamableConcurrencyFactor",.3),dX:E(H,"bufferingConcurrencyWindow",7800),M4b:E(J,"singleStreamablePerBranch",!0),r$:E(J,"enableResolutionVMAFStreamFilter",!1),Uea:E(M,"resolutionVMAFCappingRuleList",{}),Bya:E(L,"percentCapTitlesForResolutionVMAFStreamFilter",100),$Gb:E(J,"disableSkipping",!1),pga:E(J,"useHLSPlayer",ia.pga),TCa:E(J,I("useExitZones"),!0),T1b:E(J,"requestSegmentVmaf",!1),nR:E(M,"perFragmentVMAFConfig",{enabled:!1})};Ra=!0;b.Npa=function(Fa){var $a,Ta,Xa;$a=d.Ga.get(B.Jd).id;if(0 < b.config.a8a && 0 === $a % b.config.a8a)try{Ta=d.Ga.get(v.ro);Xa=d.Ga.get(u.mA).Nv("config","info",{params:Fa});Ta.Wc(Xa);}catch(eb){d.log.error("Failed to log config$apply",eb);}pb._cad_global.config=b.config;(0,m.Db)(Fa);Fa && (X=(0,p.Ke)({},Fa,{H_:!0}),(0,p.Ke)(X,R,{H_:!0}),G(za,b.config),X.istestaccount && d.log.trace("Config applied for",xa(Ra?X:Fa)),Ra=!1);};(0,b.Npa)(X);};b.Opa=function(C){C=c(C);return (0,p.Ke)({},a(200)(C),{Lda:!0});};b.DYa=function(C,F,G){G=! !G && (0 <= G.indexOf("h264hpl") || 0 <= G.indexOf("vp9") || 0 <= G.indexOf("av1"));C={iz:C?b.config.FVb:b.config.iz,tC:C?b.config.NVb:G?b.config.PVb:b.config.tC,l$:!F};return (0,p.Ke)({},a(200)(C),{Lda:!0});};b.yCb=c;b.xCb=k;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jd="ApplicationSymbol";},function(q,b,a){var k;function c(g,f){return g && f?Math.abs(g * f / k.Nt(g,f)):0;}Object.defineProperties(b,{__esModule:{value:!0}});b.O=void 0;k=a(399);q=(function(){function g(f,d){"object" === typeof f?(this.Yb=f.qa,this.gb=f.I):(this.Yb=f,this.gb=d);isFinite(this.Yb) || (this.gb=1);}g.compare=function(f,d){return f.zm(d);};g.abs=function(f){return new g(Math.abs(f.Yb),f.gb);};g.Sa=function(f){return 0 === f?g.ib:new g(f,1E3);};g.zS=function(f,d){return Math.floor(1E3 * f / d);};g.ida=function(f,d){return Math.floor(f * d / 1E3);};g.max=function(){for(var f=[],d=0;d < arguments.length;d++){f[d]=arguments[d];}return f.reduce(function(h,m){return h.greaterThan(m)?h:m;});};g.min=function(){for(var f=[],d=0;d < arguments.length;d++){f[d]=arguments[d];}return f.reduce(function(h,m){return h.lessThan(m)?h:m;});};g.Nt=function(f,d){var h;if(f.gb === d.gb)return new g(k.Nt(f.Yb,d.Yb),f.gb);h=c(f.gb,d.gb);return new g(k.Nt(f.Yb * h / f.gb,d.Yb * h / d.gb),h);};Object.defineProperties(g.prototype,{qa:{get:function(){return this.Yb;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{I:{get:function(){return this.gb;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{V:{get:function(){return g.zS(this.Yb,this.gb);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{jL:{get:function(){return 1E3 * this.Yb / this.gb;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{zL:{get:function(){var f;f=this.jL;return 0 > f?Math.ceil(f):Math.floor(f);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Nh:{get:function(){return this.Yb / this.gb;},enumerable:!1,configurable:!0}});g.prototype.Yc=function(f){f/=this.gb;return new g(Math.floor(this.Yb * f),Math.floor(this.gb * f));};g.prototype.add=function(f){var d;if(this.gb === f.gb)return new g(this.Yb + f.Yb,this.gb);d=c(this.gb,f.gb);return new g(this.Yb * d / this.gb + f.Yb * d / f.gb,d);};g.prototype.Ia=function(f){var d;if(this.gb === f.gb)return new g(this.Yb - f.Yb,this.gb);d=c(this.gb,f.gb);return new g(this.Yb * d / this.gb - f.Yb * d / f.gb,d);};g.prototype.wC=function(f){return new g(this.Yb * f,this.gb);};g.prototype.Dj=function(f){var d;if("number" === typeof f){if(Math.floor(f) === f){d=c(this.Yb,f);if(d !== this.Yb)return this.Yc(d / this.Yb * this.gb).Dj(f);}return new g(Math.floor(this.Yb / f),this.gb);}if(this.gb === f.gb)return this.Yb / f.Yb;d=c(this.gb,f.gb);return this.Yb * d / this.gb / (f.Yb * d / f.gb);};g.prototype.c$=function(f){var d;if(this.gb === f.gb)return new g(Math.abs(this.Yb - f.Yb),this.gb);d=c(this.gb,f.gb);return new g(Math.abs(this.Yb * d / this.gb - f.Yb * d / f.gb),d);};g.prototype.Cea=function(){return new g(this.gb,this.Yb);};g.prototype.compare=function(f,d){var h;if(this.gb === d.gb)return f(this.Yb,d.Yb);h=c(this.gb,d.gb);return f(this.Yb * h / this.gb,d.Yb * h / d.gb);};g.prototype.zm=function(f){var d;if(this.gb === f.gb)return this.qa === f.Yb?0:this.Yb - f.Yb;d=c(this.gb,f.gb);return this.Yb * d / this.gb - f.Yb * d / f.gb;};g.prototype.equal=function(f){return this.compare(function(d,h){return d === h;},f);};g.prototype.n0=function(f){return this.compare(function(d,h){return d !== h;},f);};g.prototype.lessThan=function(f){return this.compare(function(d,h){return d < h;},f);};g.prototype.greaterThan=function(f){return this.compare(function(d,h){return d > h;},f);};g.prototype.DK=function(f){return this.compare(function(d,h){return d <= h;},f);};g.prototype.ms=function(f){return this.compare(function(d,h){return d >= h;},f);};g.prototype.isFinite=function(){return ! !this.gb && isFinite(this.Yb);};g.prototype.cQ=function(f){return c(this.I,f);};g.prototype.toJSON=function(){return {ticks:this.Yb,timescale:this.gb};};g.prototype.toString=function(){return this.Yb + "/" + this.gb;};g.prototype.Bc=function(){return this.Yb + "/" + this.gb + " (" + this.V + "ms)";};g.ib=new g(0,1E3);g.Lw=new g(1,1E3);g.JF=new g(Infinity,1);return g;})();b.O=q;},function(q,b,a){function c(){c=Object.assign || (function(E){for(var I,K=1,L=arguments.length;K < L;K++){I=arguments[K];for(var H in I){Object.prototype.hasOwnProperty.call(I,H) && (E[H]=I[H]);}}return E;});return c.apply(this,arguments);}function k(E,I){k=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(K,L){K.__proto__=L;}) || (function(K,L){for(var H in L){L.hasOwnProperty(H) && (K[H]=L[H]);}});return k(E,I);}function g(E,I){function K(){this.constructor=E;}k(E,I);E.prototype=null === I?Object.create(I):(K.prototype=I.prototype,new K());}function f(E,I){var K,L,H;K={};for(L in E){Object.prototype.hasOwnProperty.call(E,L) && 0 > I.indexOf(L) && (K[L]=E[L]);}if(null != E && "function" === typeof Object.getOwnPropertySymbols){H=0;for(L=Object.getOwnPropertySymbols(E);H < L.length;H++){0 > I.indexOf(L[H]) && Object.prototype.propertyIsEnumerable.call(E,L[H]) && (K[L[H]]=E[L[H]]);}}return K;}function d(E,I,K,L){var H,P,N;H=arguments.length;P=3 > H?I:null === L?L=Object.getOwnPropertyDescriptor(I,K):L;if("object" === typeof Reflect && "function" === typeof Reflect.kq)P=Reflect.kq(E,I,K,L);else for(var J=E.length - 1;0 <= J;J--){if(N=E[J])P=(3 > H?N(P):3 < H?N(I,K,P):N(I,K)) || P;}return (3 < H && P && Object.defineProperty(I,K,P),P);}function h(E,I){return function(K,L){I(K,L,E);};}function m(E,I){if("object" === typeof Reflect && "function" === typeof Reflect.Oc)return Reflect.Oc(E,I);}function l(E,I,K,L){function H(P){return P instanceof K?P:new K(function(N){N(P);});}return new (K || (K=Promise))(function(P,N){function J(Q){try{O(L.next(Q));}catch(T){N(T);}}function M(Q){try{O(L["throw"](Q));}catch(T){N(T);}}function O(Q){Q.done?P(Q.value):H(Q.value).then(J,M);}O((L=L.apply(E,I || [])).next());});}function n(E,I){var H,P,N,J,M;function K(O){return function(Q){return L([O,Q]);};}function L(O){if(P)throw new TypeError("Generator is already executing.");for(;H;){try{if((P=1,N && (J=O[0] & 2?N["return"]:O[0]?N["throw"] || ((J=N["return"]) && J.call(N),0):N.next) && !(J=J.call(N,O[1])).done))return J;if((N=0,J))O=[O[0] & 2,J.value];switch(O[0]){case 0:case 1:J=O;break;case 4:return (H.label++,{value:O[1],done:!1});case 5:H.label++;N=O[1];O=[0];continue;case 7:O=H.wl.pop();H.qj.pop();continue;default:if(!(J=H.qj,J=0 < J.length && J[J.length - 1]) && (6 === O[0] || 2 === O[0])){H=0;continue;}if(3 === O[0] && (!J || O[1] > J[0] && O[1] < J[3]))H.label=O[1];else if(6 === O[0] && H.label < J[1])(H.label=J[1],J=O);else if(J && H.label < J[2])(H.label=J[2],H.wl.push(O));else {J[2] && H.wl.pop();H.qj.pop();continue;}}O=I.call(E,H);}catch(Q){O=[6,Q];N=0;}finally{P=J=0;}}if(O[0] & 5)throw O[1];return {value:O[0]?O[1]:void 0,done:!0};}H={label:0,pc:function(){if(J[0] & 1)throw J[1];return J[1];},qj:[],wl:[]};return (M={next:K(0),"throw":K(1),"return":K(2)},"function" === typeof Symbol && (M[Symbol.iterator]=function(){return this;}),M);}function p(E,I,K,L){void 0 === L && (L=K);E[L]=I[K];}function r(E,I){for(var K in E){"default" === K || I.hasOwnProperty(K) || (I[K]=E[K]);}}function t(E){var I,K,L;I="function" === typeof Symbol && Symbol.iterator;K=I && E[I];L=0;if(K)return K.call(E);if(E && "number" === typeof E.length)return {next:function(){E && L >= E.length && (E=void 0);return {value:E && E[L++],done:!E};}};throw new TypeError(I?"Object is not iterable.":"Symbol.iterator is not defined.");}function w(E,I){var K,L,H;K="function" === typeof Symbol && E[Symbol.iterator];if(!K)return E;E=K.call(E);H=[];try{for(;(void 0 === I || 0 < I--) && !(L=E.next()).done;){H.push(L.value);}}catch(N){var P;P={error:N};}finally{try{L && !L.done && (K=E["return"]) && K.call(E);}finally{if(P)throw P.error;}}return H;}function v(){for(var E=[],I=0;I < arguments.length;I++){E=E.concat(w(arguments[I]));}return E;}function u(){var L;for(var E=0,I=0,K=arguments.length;I < K;I++){E+=arguments[I].length;}E=Array(E);L=0;for(I=0;I < K;I++){for(var H=arguments[I],P=0,N=H.length;P < N;(P++,L++)){E[L]=H[P];}}return E;}function x(E){return this instanceof x?(this.Qz=E,this):new x(E);}function y(E,I,K){var M,O,Q;function L(T){M[T] && (O[T]=function(V){return new Promise(function(da,pa){1 < Q.push([T,V,da,pa]) || H(T,V);});});}function H(T,V){var da;try{da=M[T](V);da.value instanceof x?Promise.resolve(da.value.Qz).then(P,N):J(Q[0][2],da);}catch(pa){J(Q[0][3],pa);}}function P(T){H("next",T);}function N(T){H("throw",T);}function J(T,V){(T(V),Q.shift(),Q.length) && H(Q[0][0],Q[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");M=K.apply(E,I || []);Q=[];return (O={},L("next"),L("throw"),L("return"),O[Symbol.asyncIterator]=function(){return this;},O);}function z(E){var K,L;function I(H,P){K[H]=E[H]?function(N){return (L=!L)?{value:x(E[H](N)),done:"return" === H}:P?P(N):N;}:P;}return (K={},I("next"),I("throw",function(H){throw H;}),I("return"),K[Symbol.iterator]=function(){return this;},K);}function A(E){var L,H;function I(P){H[P]=E[P] && (function(N){return new Promise(function(J,M){N=E[P](N);K(J,M,N.done,N.value);});});}function K(P,N,J,M){Promise.resolve(M).then(function(O){P({value:O,done:J});},N);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");L=E[Symbol.asyncIterator];return L?L.call(E):(E="function" === typeof t?t(E):E[Symbol.iterator](),H={},I("next"),I("throw"),I("return"),H[Symbol.asyncIterator]=function(){return this;},H);}function B(E,I){Object.defineProperty?Object.defineProperty(E,"raw",{value:I}):E.raw=I;return E;}function D(E){var I;if(E && E.__esModule)return E;I={};if(null != E)for(var K in E){Object.hasOwnProperty.call(E,K) && (I[K]=E[K]);}I.default=E;return I;}function C(E){return E && E.__esModule?E:{default:E};}function F(E,I){if(!I.has(E))throw new TypeError("attempted to get private field on non-instance");return I.get(E);}function G(E,I,K){if(!I.has(E))throw new TypeError("attempted to set private field on non-instance");I.set(E,K);return K;}a.r(b);a.d(b,"__extends",function(){return g;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return f;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return h;});a.d(b,"__metadata",function(){return m;});a.d(b,"__awaiter",function(){return l;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return p;});a.d(b,"__exportStar",function(){return r;});a.d(b,"__values",function(){return t;});a.d(b,"__read",function(){return w;});a.d(b,"__spread",function(){return v;});a.d(b,"__spreadArrays",function(){return u;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return D;});a.d(b,"__importDefault",function(){return C;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return G;});},function(q,b,a){function c(){c=Object.assign || (function(E){for(var I,K=1,L=arguments.length;K < L;K++){I=arguments[K];for(var H in I){Object.prototype.hasOwnProperty.call(I,H) && (E[H]=I[H]);}}return E;});return c.apply(this,arguments);}function k(E,I){k=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(K,L){K.__proto__=L;}) || (function(K,L){for(var H in L){L.hasOwnProperty(H) && (K[H]=L[H]);}});return k(E,I);}function g(E,I){function K(){this.constructor=E;}k(E,I);E.prototype=null === I?Object.create(I):(K.prototype=I.prototype,new K());}function f(E,I){var K,L,H;K={};for(L in E){Object.prototype.hasOwnProperty.call(E,L) && 0 > I.indexOf(L) && (K[L]=E[L]);}if(null != E && "function" === typeof Object.getOwnPropertySymbols){H=0;for(L=Object.getOwnPropertySymbols(E);H < L.length;H++){0 > I.indexOf(L[H]) && Object.prototype.propertyIsEnumerable.call(E,L[H]) && (K[L[H]]=E[L[H]]);}}return K;}function d(E,I,K,L){var H,P,N;H=arguments.length;P=3 > H?I:null === L?L=Object.getOwnPropertyDescriptor(I,K):L;if("object" === typeof Reflect && "function" === typeof Reflect.kq)P=Reflect.kq(E,I,K,L);else for(var J=E.length - 1;0 <= J;J--){if(N=E[J])P=(3 > H?N(P):3 < H?N(I,K,P):N(I,K)) || P;}return (3 < H && P && Object.defineProperty(I,K,P),P);}function h(E,I){return function(K,L){I(K,L,E);};}function m(E,I){if("object" === typeof Reflect && "function" === typeof Reflect.Oc)return Reflect.Oc(E,I);}function l(E,I,K,L){function H(P){return P instanceof K?P:new K(function(N){N(P);});}return new (K || (K=Promise))(function(P,N){function J(Q){try{O(L.next(Q));}catch(T){N(T);}}function M(Q){try{O(L["throw"](Q));}catch(T){N(T);}}function O(Q){Q.done?P(Q.value):H(Q.value).then(J,M);}O((L=L.apply(E,I || [])).next());});}function n(E,I){var H,P,N,J,M;function K(O){return function(Q){return L([O,Q]);};}function L(O){if(P)throw new TypeError("Generator is already executing.");for(;H;){try{if((P=1,N && (J=O[0] & 2?N["return"]:O[0]?N["throw"] || ((J=N["return"]) && J.call(N),0):N.next) && !(J=J.call(N,O[1])).done))return J;if((N=0,J))O=[O[0] & 2,J.value];switch(O[0]){case 0:case 1:J=O;break;case 4:return (H.label++,{value:O[1],done:!1});case 5:H.label++;N=O[1];O=[0];continue;case 7:O=H.wl.pop();H.qj.pop();continue;default:if(!(J=H.qj,J=0 < J.length && J[J.length - 1]) && (6 === O[0] || 2 === O[0])){H=0;continue;}if(3 === O[0] && (!J || O[1] > J[0] && O[1] < J[3]))H.label=O[1];else if(6 === O[0] && H.label < J[1])(H.label=J[1],J=O);else if(J && H.label < J[2])(H.label=J[2],H.wl.push(O));else {J[2] && H.wl.pop();H.qj.pop();continue;}}O=I.call(E,H);}catch(Q){O=[6,Q];N=0;}finally{P=J=0;}}if(O[0] & 5)throw O[1];return {value:O[0]?O[1]:void 0,done:!0};}H={label:0,pc:function(){if(J[0] & 1)throw J[1];return J[1];},qj:[],wl:[]};return (M={next:K(0),"throw":K(1),"return":K(2)},"function" === typeof Symbol && (M[Symbol.iterator]=function(){return this;}),M);}function p(E,I,K,L){void 0 === L && (L=K);E[L]=I[K];}function r(E,I){for(var K in E){"default" === K || I.hasOwnProperty(K) || (I[K]=E[K]);}}function t(E){var I,K,L;I="function" === typeof Symbol && Symbol.iterator;K=I && E[I];L=0;if(K)return K.call(E);if(E && "number" === typeof E.length)return {next:function(){E && L >= E.length && (E=void 0);return {value:E && E[L++],done:!E};}};throw new TypeError(I?"Object is not iterable.":"Symbol.iterator is not defined.");}function w(E,I){var K,L,H;K="function" === typeof Symbol && E[Symbol.iterator];if(!K)return E;E=K.call(E);H=[];try{for(;(void 0 === I || 0 < I--) && !(L=E.next()).done;){H.push(L.value);}}catch(N){var P;P={error:N};}finally{try{L && !L.done && (K=E["return"]) && K.call(E);}finally{if(P)throw P.error;}}return H;}function v(){for(var E=[],I=0;I < arguments.length;I++){E=E.concat(w(arguments[I]));}return E;}function u(){var L;for(var E=0,I=0,K=arguments.length;I < K;I++){E+=arguments[I].length;}E=Array(E);L=0;for(I=0;I < K;I++){for(var H=arguments[I],P=0,N=H.length;P < N;(P++,L++)){E[L]=H[P];}}return E;}function x(E){return this instanceof x?(this.Qz=E,this):new x(E);}function y(E,I,K){var M,O,Q;function L(T){M[T] && (O[T]=function(V){return new Promise(function(da,pa){1 < Q.push([T,V,da,pa]) || H(T,V);});});}function H(T,V){var da;try{da=M[T](V);da.value instanceof x?Promise.resolve(da.value.Qz).then(P,N):J(Q[0][2],da);}catch(pa){J(Q[0][3],pa);}}function P(T){H("next",T);}function N(T){H("throw",T);}function J(T,V){(T(V),Q.shift(),Q.length) && H(Q[0][0],Q[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");M=K.apply(E,I || []);Q=[];return (O={},L("next"),L("throw"),L("return"),O[Symbol.asyncIterator]=function(){return this;},O);}function z(E){var K,L;function I(H,P){K[H]=E[H]?function(N){return (L=!L)?{value:x(E[H](N)),done:"return" === H}:P?P(N):N;}:P;}return (K={},I("next"),I("throw",function(H){throw H;}),I("return"),K[Symbol.iterator]=function(){return this;},K);}function A(E){var L,H;function I(P){H[P]=E[P] && (function(N){return new Promise(function(J,M){N=E[P](N);K(J,M,N.done,N.value);});});}function K(P,N,J,M){Promise.resolve(M).then(function(O){P({value:O,done:J});},N);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");L=E[Symbol.asyncIterator];return L?L.call(E):(E="function" === typeof t?t(E):E[Symbol.iterator](),H={},I("next"),I("throw"),I("return"),H[Symbol.asyncIterator]=function(){return this;},H);}function B(E,I){Object.defineProperty?Object.defineProperty(E,"raw",{value:I}):E.raw=I;return E;}function D(E){var I;if(E && E.__esModule)return E;I={};if(null != E)for(var K in E){Object.hasOwnProperty.call(E,K) && (I[K]=E[K]);}I.default=E;return I;}function C(E){return E && E.__esModule?E:{default:E};}function F(E,I){if(!I.has(E))throw new TypeError("attempted to get private field on non-instance");return I.get(E);}function G(E,I,K){if(!I.has(E))throw new TypeError("attempted to set private field on non-instance");I.set(E,K);return K;}a.r(b);a.d(b,"__extends",function(){return g;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return f;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return h;});a.d(b,"__metadata",function(){return m;});a.d(b,"__awaiter",function(){return l;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return p;});a.d(b,"__exportStar",function(){return r;});a.d(b,"__values",function(){return t;});a.d(b,"__read",function(){return w;});a.d(b,"__spread",function(){return v;});a.d(b,"__spreadArrays",function(){return u;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return D;});a.d(b,"__importDefault",function(){return C;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return G;});},function(q,b,a){var g,f,d;function c(){d || (d=g.Ga.get(f.bA));return d;}function k(h,m){return c().assert(h,m);}Object.defineProperty(b,"__esModule",{value:!0});b.WFb=b.nqa=b.PFb=b.TFb=b.dP=b.LX=b.SFb=b.UFb=b.MX=b.NZa=b.RFb=b.QFb=b.Db=b.VFb=b.Rjb=void 0;g=a(9);f=a(117);b.Rjb=function(){k(!1);};b.VFb=!0;d=void 0;b.Db=k;b.QFb=function(h,m){return c().Hyb(h,m);};b.RFb=function(h,m){return c().Iyb(h,m);};b.NZa=function(h,m){return c().S8(h,m);};b.MX=function(h,m){return c().Oyb(h,m);};b.UFb=function(h,m){return c().Myb(h,m);};b.SFb=function(h,m){return c().aoa(h,m);};b.LX=function(h,m){return c().Kyb(h,m);};b.dP=function(h,m){return c().Nyb(h,m);};b.TFb=function(h,m){return c().Lyb(h,m);};b.PFb=function(h,m){return c().Gyb(h,m);};b.nqa=function(h,m){return c().Jyb(h,m);};b.WFb=function(){return c().cRb();};},function(q,b,a){var k;function c(g){return g.filter(function(f,d){return g.indexOf(f) === d;});}Object.defineProperties(b,{__esModule:{value:!0}});b.yda=b.QOb=b.UCb=b.flatten=b.D9a=b.kCb=b.M8=b.xv=b.$Va=b.EW=b.L8=b.Ko=b.yyb=b.oe=void 0;k=a(1);b.oe=function(g,f){for(var d=0;d < g.length;d++){if(f(g[d],d,g))return g[d];}};b.yyb=function(g,f){for(var d=g.length - 1;0 <= d;--d){if(f(g[d],d,g))return g[d];}};b.Ko=function(g,f){var d;d=-1;return g.some(function(h,m,l){d=m;return f(h,m,l);})?d:-1;};b.L8=function(g,f){for(var d=g.length - 1;0 <= d;d--){if(f(g[d],d,g))return d;}return -1;};b.EW=c;b.$Va=function(g,f){f=g.indexOf(f);if(-1 === f)return !1;g.splice(f,1);return !0;};b.xv=function(g,f,d){return d?g.filter(function(h){return !f.some(function(m){return d(h,m);});}):g.filter(function(h){return -1 === f.indexOf(h);});};b.M8=function(g,f){return c(g.concat(f));};b.kCb=function(g){return function(f,d){return g(f) - g(d);};};b.D9a=function(g){return function(f,d){return g(f) < g(d)?f:d;};};b.flatten=function(g){var f;return (f=[]).concat.apply(f,k.__spread(g));};b.UCb=function(g,f){void 0 === f && (f=function(d){return d;});return g.reduce(function(d,h){h=f(h);return (void 0 === d[h]?d[h]=1:++d[h],d);},{});};b.QOb=function(g,f){return g.reduce(function(d,h){var m;m=f(h);return (void 0 === d[m]?d[m]=[h]:d[m].push(h),d);},{});};b.yda=function(g){return null !== g && void 0 !== g;};},function(q,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});b.PCb=b.F1a=b.vq=b.xg=b.eCb=b.hf=b.$y=b.trim=b.rua=b.Wfb=b.fcb=b.FYb=b.tk=b.aWa=b.vXa=b.Ke=b.kh=void 0;c=a(24);k=a(11);g=a(14);b.kh=function(f,d){for(var h in f){f.hasOwnProperty(h) && d(h,f[h]);}};b.Ke=b.Ke || (function(f,d,h){var m,l,n;if(d)if(h){m=h.H_;l=h.prefix;n=h.Lda;(0,b.kh)(d,function(p,r){if(!n || (0,g.Gd)(r))f[(l || "") + (m?p.toLowerCase():p)]=r;});}else (0,b.kh)(d,function(p,r){f[p]=r;});return f;});b.vXa=function(f,d,h,m){var l;if(f){l=f[d];(0,g.yd)(l) && (h=l.apply(f,k.slice.call(arguments,3)));}return h;};b.aWa=function(f){for(var d={},h=f.length;h--;){d[f[h]]=!0;}return d;};b.tk=b.tk || (function(f){return parseInt(f,10);});b.FYb=function(f){return (/^true$/i).test(f);};b.fcb=function(f,d){return (0,k.Fp)(f + (0,k.lU)() * (d - f));};b.Wfb=function(f){return JSON.stringify(f,null,"  ");};b.rua=(function(){var d,h;function f(m){(0,c.Db)(void 0 !== d[m]);return d[m];}d={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};h=/[&'"<>]/g;return function(m){return m.replace(h,f);};})();b.trim=(function(){var f;f=/^\s+|\s+$/gm;return function(d){return d.replace(f,"");};})();b.$y=function(f){return Array.isArray(f)?f:[f];};b.hf=b.hf || (function(f){var d,h,m;if(f){d=f.stack;h=f.number;m=f.message;m || (m="" + f);d?(f="" + d,0 != f.indexOf(m) && (f=m + "\n" + f)):f=m;h && (f+="\nnumber:" + h);return f;}});b.eCb=function(f){var m;for(var d=0;d < arguments.length;++d){;}d=0;for(var h=arguments.length;d < h;){m=arguments[d++];if((0,g.Gd)(m))return m;}};b.xg=function(f){return (0,g.Oa)(f)?f.toFixed(0):"";};b.vq=function(f){return (0,g.Oa)(f)?(f / 1E3).toFixed(0):"";};b.F1a=function(f){return (0,g.Oa)(f)?f.toFixed():"";};b.PCb=function(f){for(var d=[],h=0;h < f.length;h++){d[h]=f[h];}return d;};},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(154);b.aa=!1;q=(function(){function k(g,f,d,h,m){this.Y=g;this.type=f;this.byteOffset=d;this.byteLength=h;this.parent=m;this.Ba={};this.Li=h;}k.Fi=function(g,f){var h,l;function d(n){n && n.Fi && (n=n.Fi(f),n.length && (h=h.concat(n)));}h=[];g.type === f && h.push(g);if(g.Ba)for(var m in g.Ba){l=g.Ba[m];Array.isArray(l) && l.forEach(d);}return h;};k.xm=function(g,f){void 0 === g.Ba[f.type] && (g.Ba[f.type]=[]);g.Ba[f.type].push(f);};k.oh=function(g,f){return k.Fi(g,f)[0];};Object.defineProperties(k.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{l:{get:function(){return this.Y;},enumerable:!0,configurable:!0}});k.prototype.tb=function(){var g;g=this.Y.ba();this.version=g >> 24;this.flags=g & 16777215;};k.prototype.xm=function(g){k.xm(this,g);};k.prototype.Fi=function(g){return k.Fi(this,g);};k.prototype.oh=function(g){return k.oh(this,g);};k.prototype.parse=function(){return !0;};k.prototype.Nn=function(){return !0;};k.prototype.Ae=function(g){if((g=this.Ba[g]) && Array.isArray(g) && 1 === g.length)return g[0];};k.prototype.Rc=function(g,f){f=void 0 === f?this.Y.offset:f;c.assert(f >= this.startOffset + 8 && f + g <= this.startOffset + this.Li,"Removal range [0x" + f.toString(16) + "-0x" + (f + g).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.Li).toString(16) + ")");this.Y.Rc(g,f,this);};k.prototype.Pm=function(g,f,d){d=void 0 === d?this.Y.offset:d;c.assert(d >= this.startOffset + 8 && d + g <= this.startOffset + this.Li,"Removal range [0x" + d.toString(16) + "-0x" + (d + g).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.Li).toString(16) + ")");this.Y.Pm(g,f,d,this);};k.prototype.GG=function(g,f,d){if(1 < d){for(var h=[];0 < d--;){h.push(this.mE(g,f));}return h;}return this.mE(g,f);};k.prototype.Cf=function(g){var f,d;d=this;void 0 === f && (f={});g.forEach(function(h){var m,l;if("offset" === h.type){m=h.offset;if(0 < m % 8)throw Error("Requested offset " + h.offset + "is not an even byte multiple");d.Y.offset+=m / 8;}else for(m in h){l=h[m];f[m]="string" === typeof l?d.GG(l):d.GG(l.type,l.length,l.FW);}});return f;};k.prototype.mE=function(g,f){var d;d=this.byteLength - this.Y.offset + this.startOffset;"undefined" === typeof f && (f=d);switch(g){case "int8":g=this.Y.Aa();break;case "int64":g=this.Y.xc();break;case "int32":g=this.Y.ba();break;case "int16":g=this.Y.lb();break;case "string":g=this.Y.y1(Math.min(f,d));break;default:throw Error("Invalid type: " + g);}return g;};k.wa=!1;return k;})();b.yb=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(160);b.aa=!1;q=(function(){function k(g,f,d,h,m){this.Y=g;this.type=f;this.byteOffset=d;this.byteLength=h;this.parent=m;this.Ba={};this.Li=h;}k.Fi=function(g,f){var h,l;function d(n){n && n.Fi && (n=n.Fi(f),n.length && (h=h.concat(n)));}h=[];g.type === f && h.push(g);if(g.Ba)for(var m in g.Ba){l=g.Ba[m];Array.isArray(l) && l.forEach(d);}return h;};k.xm=function(g,f){void 0 === g.Ba[f.type] && (g.Ba[f.type]=[]);g.Ba[f.type].push(f);};k.oh=function(g,f){return k.Fi(g,f)[0];};Object.defineProperties(k.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{l:{get:function(){return this.Y;},enumerable:!0,configurable:!0}});k.prototype.tb=function(){var g;g=this.Y.ba();this.version=g >> 24;this.flags=g & 16777215;};k.prototype.xm=function(g){k.xm(this,g);};k.prototype.Fi=function(g){return k.Fi(this,g);};k.prototype.oh=function(g){return k.oh(this,g);};k.prototype.parse=function(){return !0;};k.prototype.Nn=function(){return !0;};k.prototype.Ae=function(g){if((g=this.Ba[g]) && Array.isArray(g) && 1 === g.length)return g[0];};k.prototype.Rc=function(g,f){f=void 0 === f?this.Y.offset:f;c.assert(f >= this.startOffset + 8 && f + g <= this.startOffset + this.Li,"Removal range [0x" + f.toString(16) + "-0x" + (f + g).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.Li).toString(16) + ")");this.Y.Rc(g,f,this);};k.prototype.Pm=function(g,f,d){d=void 0 === d?this.Y.offset:d;c.assert(d >= this.startOffset + 8 && d + g <= this.startOffset + this.Li,"Removal range [0x" + d.toString(16) + "-0x" + (d + g).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.Li).toString(16) + ")");this.Y.Pm(g,f,d,this);};k.prototype.GG=function(g,f,d){if(1 < d){for(var h=[];0 < d--;){h.push(this.mE(g,f));}return h;}return this.mE(g,f);};k.prototype.Cf=function(g){var f,d;d=this;void 0 === f && (f={});g.forEach(function(h){var m,l;if("offset" === h.type){m=h.offset;if(0 < m % 8)throw Error("Requested offset " + h.offset + "is not an even byte multiple");d.Y.offset+=m / 8;}else for(m in h){l=h[m];f[m]="string" === typeof l?d.GG(l):d.GG(l.type,l.length,l.FW);}});return f;};k.prototype.mE=function(g,f){var d;d=this.byteLength - this.Y.offset + this.startOffset;"undefined" === typeof f && (f=d);switch(g){case "int8":g=this.Y.Aa();break;case "int64":g=this.Y.xc();break;case "int32":g=this.Y.ba();break;case "int16":g=this.Y.lb();break;case "string":g=this.Y.y1(Math.min(f,d));break;default:throw Error("Invalid type: " + g);}return g;};k.wa=!1;return k;})();b.yb=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(166);b.aa=!1;q=(function(){function k(g,f,d,h,m){this.Y=g;this.type=f;this.byteOffset=d;this.byteLength=h;this.parent=m;this.Ba={};this.Li=h;}k.Fi=function(g,f){var h,l;function d(n){n && n.Fi && (n=n.Fi(f),n.length && (h=h.concat(n)));}h=[];g.type === f && h.push(g);if(g.Ba)for(var m in g.Ba){l=g.Ba[m];Array.isArray(l) && l.forEach(d);}return h;};k.xm=function(g,f){void 0 === g.Ba[f.type] && (g.Ba[f.type]=[]);g.Ba[f.type].push(f);};k.oh=function(g,f){return k.Fi(g,f)[0];};Object.defineProperties(k.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{l:{get:function(){return this.Y;},enumerable:!0,configurable:!0}});k.prototype.tb=function(){var g;g=this.Y.ba();this.version=g >> 24;this.flags=g & 16777215;};k.prototype.xm=function(g){k.xm(this,g);};k.prototype.Fi=function(g){return k.Fi(this,g);};k.prototype.oh=function(g){return k.oh(this,g);};k.prototype.parse=function(){return !0;};k.prototype.Nn=function(){return !0;};k.prototype.Ae=function(g){if((g=this.Ba[g]) && Array.isArray(g) && 1 === g.length)return g[0];};k.prototype.Rc=function(g,f){f=void 0 === f?this.Y.offset:f;c.assert(f >= this.startOffset + 8 && f + g <= this.startOffset + this.Li,"Removal range [0x" + f.toString(16) + "-0x" + (f + g).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.Li).toString(16) + ")");this.Y.Rc(g,f,this);};k.prototype.Pm=function(g,f,d){d=void 0 === d?this.Y.offset:d;c.assert(d >= this.startOffset + 8 && d + g <= this.startOffset + this.Li,"Removal range [0x" + d.toString(16) + "-0x" + (d + g).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.Li).toString(16) + ")");this.Y.Pm(g,f,d,this);};k.prototype.GG=function(g,f,d){if(1 < d){for(var h=[];0 < d--;){h.push(this.mE(g,f));}return h;}return this.mE(g,f);};k.prototype.Cf=function(g){var f,d;d=this;void 0 === f && (f={});g.forEach(function(h){var m,l;if("offset" === h.type){m=h.offset;if(0 < m % 8)throw Error("Requested offset " + h.offset + "is not an even byte multiple");d.Y.offset+=m / 8;}else for(m in h){l=h[m];f[m]="string" === typeof l?d.GG(l):d.GG(l.type,l.length,l.FW);}});return f;};k.prototype.mE=function(g,f){var d;d=this.byteLength - this.Y.offset + this.startOffset;"undefined" === typeof f && (f=d);switch(g){case "int8":g=this.Y.Aa();break;case "int64":g=this.Y.xc();break;case "int32":g=this.Y.ba();break;case "int16":g=this.Y.lb();break;case "string":g=this.Y.y1(Math.min(f,d));break;default:throw Error("Invalid type: " + g);}return g;};k.wa=!1;return k;})();b.yb=q;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.cA=b.vRa=b.Yqb=b.yr=b.Ff=b.pm=b.Ax=b.oi=void 0;(function(a){a[a.Audio=0]="Audio";a[a.oRa=1]="Video";})(b.oi || (b.oi={}));(function(a){a[a.Fx=0]="Default";a[a.oA=1]="Microsoft";})(b.Ax || (b.Ax={}));(function(a){a[a.Fx=0]="Default";a[a.xM=1]="Chrome";a[a.oA=2]="Microsoft";})(b.pm || (b.pm={}));(function(a){a[a.FU=0]="SD";a[a.Q4=1]="HD";a[a.MU=2]="UHD";a[a.Ex=3]="DV";a[a.HM=4]="HDR10";a[a.oD=5]="AVCHigh";a[a.VD=6]="VP9";a[a.lm=7]="AV1";})(b.Ff || (b.Ff={}));(function(a){a[a.I5=0]="Level_1_4";a[a.QH=1]="Level_2_2";})(b.yr || (b.yr={}));b.Yqb=function(){};(function(a){a[a.Ycc=0]="Platform";a[a.oac=1]="CurrentTitle";})(b.vRa || (b.vRa={}));b.cA="DeviceCapabilitiesSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wg="IsTypeSymbol";},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.default={O$b:{Ux:0,mdc:1,name:["STARTUP","STEADY"]},j5:{Sh:0,ldc:1,Uqb:2,name:["STARTING","STABLE","UNSTABLE"]},kb:{mc:0,Vb:1,name:["AUDIO","VIDEO"]},Fl:{mc:0,Vb:1,name:["AUDIO","VIDEO"]},mi:{URL:0,iI:1,LOCATION:2,pA:3,name:["URL","SERVER","LOCATION","NETWORK"]},Rj:{HAVE_NOTHING:0,zD:1,yD:2,OT:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},uA:{u$b:0,mbc:1,Pcc:2,mcc:3,Jcc:4,Ndc:5,rbc:6,Mbc:7,Ux:8,rg:9,zja:10,Opb:11,lha:12,Vnb:13,Unb:14,oqb:15,nqb:16,Ynb:17,name:("maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway manifestadded").split(" ")},Pac:{pA:0,pac:1,name:["NETWORK","DECODE"]},jdc:{qac:"delayedSeamless",zbc:"hideLongTransition"}};},function(q,b,a){var f,d;function c(h,m){return h && h.Bw && (m || !1 !== h.cw);}function k(h,m,l){return !f.Oa(h) || h < m?m:h > l?l:h;}function g(h){if(!(this instanceof g))return new g(h);this.nf=f.Oa(h)?h:void 0;this.$Wb=0;}f=a(10);d=new (a(5).default.Console)("ASEJS_STREAM_SELECTOR","media|asejs");q.exports={console:d,debug:!1,assert:function(h,m){if(!h)throw (h=m?" : " + m:"",d.error("Assertion failed" + h),Error("ASEJS_STREAM_SELECTOR assertion failed" + h));},wK:c,Sra:function(h,m,l){var p,r,t,w;function n(v){var u;u=h[v];if(!u.Bw || l && !l(u,v))return !1;w=v;return !0;}p=h.length;r=0;t=p;f.isArray(m) && (r=k(m[0],0,p),t=k(m[1],0,p),m=m[2]);m=k(m,r - 1,t);for(p=m - 1;p >= r;--p){if(n(p))return w;}for(p=m + 1;p < t;++p){if(n(p))return w;}return -1;},eWb:function(h,m){return Math.floor(h / (125 * m) * 1E3);},hAb:function(h,m){return Math.ceil(h / 1E3 * m * 125);},chc:function(h,m){return !h.slice(m + 1).some(c);},Np:g,oe:function(h,m){var l;return h.some(function(n,p,r){l=n;return m(n,p,r);})?l:void 0;},Ko:function(h,m){var l;return h.some(function(n,p,r){l=p;return m(n,p,r);})?l:-1;},r9:k};},function(q,b,a){var c,k,g,f,d,h;Object.defineProperties(b,{__esModule:{value:!0}});b.dWb=b.platform=b.Gh=b.$b=b.SMb=b.rZ=b.aK=b.aUb=b.lI=b.ue=b.Bp=b.Mk=b.QM=b.ev=b.oI=void 0;c=a(1);c.__exportStar(a(184),b);c.__exportStar(a(394),b);c.__exportStar(a(836),b);c.__exportStar(a(837),b);c.__exportStar(a(838),b);k=a(104);Object.defineProperties(b,{oI:{enumerable:!0,get:function(){return k.oI;}}});Object.defineProperties(b,{ev:{enumerable:!0,get:function(){return k.ev;}}});Object.defineProperties(b,{QM:{enumerable:!0,get:function(){return k.QM;}}});c.__exportStar(a(849),b);c.__exportStar(a(398),b);c.__exportStar(a(239),b);c.__exportStar(a(21),b);c.__exportStar(a(400),b);g=a(401);Object.defineProperties(b,{Mk:{enumerable:!0,get:function(){return g.Mk;}}});Object.defineProperties(b,{Bp:{enumerable:!0,get:function(){return g.Bp;}}});f=a(56);Object.defineProperties(b,{ue:{enumerable:!0,get:function(){return f.ue;}}});d=a(241);Object.defineProperties(b,{lI:{enumerable:!0,get:function(){return d.lI;}}});c.__exportStar(a(242),b);b.aUb=function(m){b.platform.SZ(m);return a(864).AKa;};b.aK=function(m){b.platform.SZ(m);return Promise.resolve().then(function(){return c.__importStar(a(284));}).then(function(l){return l.aK();});};b.rZ=function(m,l){b.platform.SZ(m);return Promise.resolve().then(function(){return c.__importStar(a(473));}).then(function(n){return n.rZ(l);});};b.SMb=function(){return a(246);};q=c.__importDefault(a(32));b.$b=q.default;q=a(1161);b.Gh=q.Gh;q=c.__importDefault(a(5));b.platform=q.default;h=a(1162);b.dWb=function(){return {uo:h.uo};};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.si="UtilitiesSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vi="Base64EncoderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Eha="ConfigurableInputsSymbol";b.qn="ValidatingConfigurableInputsSymbol";b.p4="ConfigNameSymbol";b.aU="InitParamsSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wi="ClockSymbol";},function(q,b,a){var f,d,h;function c(m){var l,n,p,w;p=Object.getOwnPropertyNames(m);for(m=Object.getPrototypeOf(m);m !== Object.prototype;){try{for(var r=(l=void 0,f.__values(Object.getOwnPropertyNames(m))),t=r.next();!t.done;t=r.next()){w=t.value;-1 === p.indexOf(w) && p.push(w);}}catch(v){l={error:v};}finally{try{t && !t.done && (n=r.return) && n.call(r);}finally{if(l)throw l.error;}}m=Object.getPrototypeOf(m);}return p;}function k(m,l,n,p,r){var t;Object.getOwnPropertyNames(m).filter(function(w){return r(w) && (n || !Object.prototype.hasOwnProperty.call(l,w)) && (p || !((w in l)));}).forEach(function(w){t=Object.getOwnPropertyDescriptor(m,w);void 0 !== t && Object.defineProperty(l,w,t);});}function g(m,l,n,p){var r,t;r=[];n || (r=Object.getOwnPropertyNames(l));p || (r=c(l));t=Object.getPrototypeOf(m);null !== t && t !== Object.prototype && g(t,l,n,p);k(m,l,!0,!0,function(w){return "constructor" !== w && -1 === r.indexOf(w);});}Object.defineProperties(b,{__esModule:{value:!0}});b.Xe=b.RCb=void 0;f=a(1);d=a(4);b.RCb=g;h=Object.getOwnPropertyNames(Function);b.Xe=function(m,l,n,p){void 0 === n && (n=!0);void 0 === p && (p=!0);p || d.assert(!n);m.prototype?(g(m.prototype,l.prototype,n,p),k(m,l,n,p,function(r){return -1 === h.indexOf(r);})):k(m,l.prototype,n,p,function(r){return -1 === h.indexOf(r);});return l;};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.sj="AsyncComponentLoaderSymbol";},function(q,b,a){var k;function c(g,f,d,h,m,l,n,p,r,t,w,v){this.code=void 0 === g?k.W.wo:g;this.Sc=f;this.fe=d;this.So=h;this.vC=m;this.message=l;this.details=n;this.data=p;this.ml=r;this.vZb=t;this.alert=w;this.Kna=v;this.fa=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Ad=void 0;k=a(3);c.hf=function(g){var f,d,h;if(g){f=g.stack;d=g.number;h=g.message;h || (h="" + g);f?(g="" + f,0 !== g.indexOf(h) && (g=h + "\n" + g)):g=h;d && (g+="\nnumber:" + d);return g;}return "";};c.prototype.cY=function(g){this.details=c.hf(g);this.data=g;};c.prototype.toString=function(){return JSON.stringify(this.toJSON);};c.prototype.toJSON=function(){return {code:this.code,subCode:this.Sc,extCode:this.fe,edgeCode:this.So,mslCode:this.vC,message:this.message,details:this.details,data:this.data,errorDisplayMessage:this.ml,playbackServiceError:this.vZb};};c.lsa=function(g,f){return new c(g,k.S.jn,void 0,void 0,void 0,void 0,f.message,f.stack);};c.$ib=function(g,f){return new c(g,f,void 0,void 0,void 0,void 0,void 0,void 0);};c.H9b=function(g,f,d){return new c(g,f,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,d);};b.Ad=c;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.DRa="WindowTimersSymbol";b.OH="JSONSymbol";b.hRa="UserAgentSymbol";b.WM="NavigatorSymbol";b.xob="MediaSourceSymbol";b.UJa="LocationSymbol";b.$Fa="DateSymbol";b.Kja="PerformanceSymbol";b.c6="PlatformExtraInfoSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dp=b.Nx=b.gA=void 0;(function(a){a[a.BQa=0]="Test";a[a.pJa=1]="Int";a[a.Dqb=2]="Staging";a[a.Ypb=3]="Prod";})(b.gA || (b.gA={}));(function(a){a[a.BU=0]="PreferMsl";a[a.DOa=1]="PreferNoMsl";a[a.Rob=2]="NoMsl";})(b.Nx || (b.Nx={}));b.Dp="GeneralConfigSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.FD="named";b.P5="name";b.NU="unmanaged";b.YLa="optional";b.$T="inject";b.TH="multi_inject";b.vQa="inversify:tagged";b.wQa="inversify:tagged_props";b.sja="inversify:paramtypes";b.Clb="design:paramtypes";b.xU="post_construct";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.H={GH:"playready-h264mpl30-dash",HH:"playready-h264mpl31-dash",lia:"playready-h264mpl40-dash",WHa:"h264mpl30-dash-playready-prk-qc",XHa:"h264mpl31-dash-playready-prk-qc",YHa:"h264mpl40-dash-playready-prk-qc",UHa:"playready-h264hpl22-dash",KT:"playready-h264hpl30-dash",MT:"playready-h264hpl31-dash",jia:"playready-h264hpl40-dash",VHa:"h264hpl22-dash-playready-live",LT:"h264hpl30-dash-playready-live",NT:"h264hpl31-dash-playready-live",kia:"h264hpl40-dash-playready-live",Mka:"vp9-profile0-L21-dash-cenc",QU:"vp9-profile0-L30-dash-cenc",RU:"vp9-profile0-L31-dash-cenc",G6:"vp9-profile0-L40-dash-cenc",nia:"hevc-main10-L30-dash-cenc",oia:"hevc-main10-L31-dash-cenc",pia:"hevc-main10-L40-dash-cenc",qia:"hevc-main10-L41-dash-cenc",RT:"hevc-main10-L50-dash-cenc",ST:"hevc-main10-L51-dash-cenc",l5:"hevc-main10-L30-dash-cenc-prk",o5:"hevc-main10-L31-dash-cenc-prk",r5:"hevc-main10-L40-dash-cenc-prk",u5:"hevc-main10-L41-dash-cenc-prk",m5:"hevc-main10-L30-dash-cenc-prk-do",p5:"hevc-main10-L31-dash-cenc-prk-do",s5:"hevc-main10-L40-dash-cenc-prk-do",v5:"hevc-main10-L41-dash-cenc-prk-do",x5:"hevc-main10-L50-dash-cenc-prk-do",z5:"hevc-main10-L51-dash-cenc-prk-do",k5:"hevc-main10-L30-dash-cenc-live",n5:"hevc-main10-L31-dash-cenc-live",q5:"hevc-main10-L40-dash-cenc-live",t5:"hevc-main10-L41-dash-cenc-live",w5:"hevc-main10-L50-dash-cenc-live",y5:"hevc-main10-L51-dash-cenc-live",t4:"hevc-dv5-main10-L30-dash-cenc-prk",v4:"hevc-dv5-main10-L31-dash-cenc-prk",AT:"hevc-dv5-main10-L40-dash-cenc-prk",y4:"hevc-dv5-main10-L41-dash-cenc-prk",A4:"hevc-dv5-main10-L50-dash-cenc-prk",C4:"hevc-dv5-main10-L51-dash-cenc-prk",Nha:"hevc-dv5-main10-L40-dash-cenc-prk-qc",Oha:"hevc-dv5-main10-L41-dash-cenc-prk-qc",Pha:"hevc-dv5-main10-L50-dash-cenc-prk-qc",Qha:"hevc-dv5-main10-L51-dash-cenc-prk-qc",u4:"hevc-dv5-main10-L30-dash-cenc-prk-do",w4:"hevc-dv5-main10-L31-dash-cenc-prk-do",x4:"hevc-dv5-main10-L40-dash-cenc-prk-do",z4:"hevc-dv5-main10-L41-dash-cenc-prk-do",B4:"hevc-dv5-main10-L50-dash-cenc-prk-do",D4:"hevc-dv5-main10-L51-dash-cenc-prk-do",S4:"hevc-hdr-main10-L30-dash-cenc-prk",V4:"hevc-hdr-main10-L31-dash-cenc-prk",PT:"hevc-hdr-main10-L40-dash-cenc-prk",a5:"hevc-hdr-main10-L41-dash-cenc-prk",d5:"hevc-hdr-main10-L50-dash-cenc-prk",g5:"hevc-hdr-main10-L51-dash-cenc-prk",T4:"hevc-hdr-main10-L30-dash-cenc-prk-do",W4:"hevc-hdr-main10-L31-dash-cenc-prk-do",Y4:"hevc-hdr-main10-L40-dash-cenc-prk-do",b5:"hevc-hdr-main10-L41-dash-cenc-prk-do",e5:"hevc-hdr-main10-L50-dash-cenc-prk-do",h5:"hevc-hdr-main10-L51-dash-cenc-prk-do",R4:"hevc-hdr-main10-L30-dash-cenc-live",U4:"hevc-hdr-main10-L31-dash-cenc-live",X4:"hevc-hdr-main10-L40-dash-cenc-live",Z4:"hevc-hdr-main10-L41-dash-cenc-live",c5:"hevc-hdr-main10-L50-dash-cenc-live",f5:"hevc-hdr-main10-L51-dash-cenc-live",wDa:"av1-main-L20-dash-cbcs-prk",xDa:"av1-main-L21-dash-cbcs-prk",mD:"av1-main-L30-dash-cbcs-prk",nD:"av1-main-L31-dash-cbcs-prk",Y3:"av1-main-L40-dash-cbcs-prk",Z3:"av1-main-L41-dash-cbcs-prk",a4:"av1-main-L50-dash-cbcs-prk",b4:"av1-main-L51-dash-cbcs-prk"};b.Se={uha:[b.H.GH,b.H.HH,b.H.lia],Nga:[b.H.KT,b.H.MT,b.H.jia],Mga:[b.H.LT,b.H.NT,b.H.kia],sDa:[b.H.QU,b.H.RU,b.H.G6],aac:[b.H.nia,b.H.oia,b.H.pia,b.H.qia,b.H.RT,b.H.ST],zha:[b.H.l5,b.H.o5,b.H.r5,b.H.u5,b.H.RT,b.H.ST],Aha:[b.H.m5,b.H.p5,b.H.s5,b.H.v5,b.H.x5,b.H.z5],yha:[b.H.k5,b.H.n5,b.H.q5,b.H.t5,b.H.w5,b.H.y5],wha:[b.H.S4,b.H.V4,b.H.PT,b.H.a5,b.H.d5,b.H.g5],xha:[b.H.T4,b.H.W4,b.H.Y4,b.H.b5,b.H.e5,b.H.h5],vha:[b.H.R4,b.H.U4,b.H.X4,b.H.Z4,b.H.c5,b.H.f5],WEa:[b.H.t4,b.H.AT,b.H.A4,b.H.v4,b.H.y4,b.H.C4],XEa:[b.H.u4,b.H.x4,b.H.B4,b.H.w4,b.H.z4,b.H.D4],Ikb:[b.H.mD,b.H.nD,b.H.Y3,b.H.Z3,b.H.a4,b.H.b4]};b.ke={IH:"heaac-2-dash",i5:"heaac-5.1-dash",JH:"heaac-2hq-dash",yA:"xheaac-dash",yT:"ddplus-2.0-dash",r4:"ddplus-5.1-dash",zT:"ddplus-atmos-dash"};b.pn={qqb:"simplesdh",Gha:"dfxp-ls-sdh",HIa:"imsc1.1",J6:"webvtt-lssdh-ios8",UM:"nflx-cmisc"};},function(q,b,a){var m,l,n,p,r,t;function c(){var w,v;if(w=b.Iaa.cUa)return w;w=p.Q5.search.substr(1);v=w.indexOf("#");0 <= v && (w=w.substr(0,v));w=k(w);return b.Iaa.cUa=w;}function k(w){for(var v=/[+]/g,u=(w || "").split("&"),x={},y,z=0;z < u.length;z++){w=(0,n.trim)(u[z]);y=w.indexOf("=");0 <= y?x[decodeURIComponent(w.substr(0,y).replace(v,"%20")).toLowerCase()]=decodeURIComponent(w.substr(y + 1).replace(v,"%20")):x[w.toLowerCase()]=null;}return x;}function g(w){return (w=(/function (.{1,})\(/).exec(w.toString())) && 1 < w.length?w[1]:"";}function f(w){return g(w.constructor);}function d(w){return p.sort.call(w,function(v,u){return v - u;});}function h(w){for(var v=0,u=w.length;u--;){v+=w[u];}return v;}Object.defineProperty(b,"__esModule",{value:!0});b.RZb=b.dK=b.N2a=b.Uba=b.NZb=b.F6a=b.tkb=b.ukb=b.pKb=b.Ev=b.tCb=b.P$=b.HJb=b.aL=b.Ljb=b.gT=b.Mjb=b.d4=b.Kjb=b.$Qb=b.createElement=b.CX=b.u_b=b.Rxa=b.Isa=b.getFunctionName=b.P0=b.Iaa=b.KNb=b.lcb=b.rVa=b.LYa=b.n0b=b.PE=b.qYa=void 0;m=a(16);l=a(9);n=a(26);p=a(11);r=a(14);t=a(50);b.qYa=function(w,v){if(w === v)return !0;if(!w || !v)return !1;for(var u in w){if(w.hasOwnProperty(u) && (!v.hasOwnProperty(u) || w[u] !== v[u]))return !1;}return !0;};b.PE=b.PE || (function(w,v){if(w.length == v.length){for(var u=w.length;u--;){if(w[u] != v[u])return !1;}return !0;}return !1;});b.n0b=function(w){var v;if(w){v=w.length;if(v)return (v=(0,n.fcb)(0,v - 1),w[v]);}};b.LYa=function(w,v){if(w.length != v.length)return !1;w.sort();v.sort();for(var u=w.length;u--;){if(w[u] !== v[u])return !1;}return !0;};b.rVa=function(w,v,u){function x(){w.removeEventListener(v,x);u.apply(this,arguments);}w.addEventListener(v,x);};b.lcb=function(){var w,v,u,x,y,z;w=p.Qh.cookie.split("; ");v=w.length;y={};for(u=0;u < v;u++){if(x=(0,n.trim)(w[u])){z=x.indexOf("=");0 < z && (y[x.substr(0,z)]=x.substr(z + 1));}}return y;};b.KNb=c;b.Iaa=Object.assign(c,{cUa:void 0});b.P0=k;b.getFunctionName=g;b.Isa=f;b.Rxa=function(w){var v;v="";(0,r.isArray)(w) || (0,r.yva)(w)?v=p.reduce.call(w,function(u,x){return u + (32 <= x && 128 > x?(0,p.rQa)(x):".");},""):(0,r.Ag)(w)?v=w:(0,n.kh)(w,function(u,x){v+=(v?", ":"") + "{" + u + ": " + ((0,r.yd)(x)?g(x) || "function":x) + "}";});return "[" + f(w) + " " + v + "]";};b.u_b=function(w,v){w.firstChild?w.insertBefore(v,w.firstChild):w.appendChild(v);};b.CX=b.CX || (function(w){var v;v="";(0,n.kh)(w,function(u,x){v+=(v?";":"") + u + ":" + x;});return v;});b.createElement=b.createElement || (function(w,v,u,x){var y;y=p.Qh.createElement(w);v && (y.style.cssText=v);u && (y.innerHTML=u);x && (0,n.kh)(x,function(z,A){y.setAttribute(z,A);});return y;});b.$Qb=function(w,v){var u;u=w[0];if(v <= u[0])return u.slice(1);for(var x=1,y;y=w[x++];){if(v <= y[0]){w=(v - u[0]) / (y[0] - u[0]);v=[];for(x=1;x < u.length;x++){v.push((u[x] || 0) + w * ((y[x] || 0) - (u[x] || 0)));}return v;}u=y;}return u.slice(1);};b.Kjb=function(w,v){var y;for(var u={},x=0;x < v.length;x++){y=v[x];if("string" != typeof y && "number" != typeof y)return !1;u[v[x]]=1;}for(x=0;x < w.length;x++){if((y=w[x],!u[y]))return !1;}return !0;};b.d4=d;b.Mjb=h;b.gT=function(w,v){var u,x,y,z;u=-1;x=w.length;if(1 === arguments.length){for(;++u < x && !(null != (y=w[u]) && y <= y);){y=void 0;}for(;++u < x;){null != (z=w[u]) && z > y && (y=z);}}else {for(;++u < x && !(null != (y=v.call(w,w[u],u)) && y <= y);){y=void 0;}for(;++u < x;){null != (z=v.call(w,w[u],u)) && z > y && (y=z);}}return y;};b.Ljb=function(w,v){var u,x,y,z;u=-1;x=w.length;if(1 === arguments.length){for(;++u < x && !(null != (y=w[u]) && y <= y);){y=void 0;}for(;++u < x;){null != (z=w[u]) && y > z && (y=z);}}else {for(;++u < x && !(null != (y=v.call(w,w[u],u)) && y <= y);){y=void 0;}for(;++u < x;){null != (z=v.call(w,w[u],u)) && y > z && (y=z);}}return y;};b.aL=function(w){return (0,r.yd)(w.then)?w:new Promise(function(v,u){w.oncomplete=function(){v(w.result);};w.onerror=function(){u(w.error);};});};b.HJb=function(w,v){var x,y,z,A,B,D;function u(C){0 > x.indexOf(C) && (0,r.Oa)(C) && x.push(C);}w=w.slice();d(w);x=[];if(!v || !v.length)return w;if(!w.length)return [];y=v.length;try{for(;y--;){A="" + v[y];B=(0,n.tk)(A);switch(A[A.length - 1]){case "-":for(z=w.length;z--;){D=w[z];if(D < B){u(D);break;}}break;case "+":for(z=0;z < w.length;z++){if((D=w[z],D > B)){u(D);break;}}break;default:0 <= w.indexOf(B) && u(B);}}}catch(C){}x.length || x.push(w[0]);d(x);return x;};b.P$=b.P$ || (function(w,v,u){var x;if(w / v > u){x=(0,p.Fp)(v * u);w=v;}else (x=w,w=(0,p.Fp)(w / u));return {width:x,height:w};});b.tCb=function(w,v,u){for(var x=[],y=0;y < v;y++){x.push((0,p.NKa)(w[y] - u,2));}return (0,p.OKa)(h(x) / x.length);};b.Ev=function(w,v){var u;u=w.length;v=(u - 1) * v + 1;if(1 === v)return w[0];if(v == u)return w[u - 1];u=(0,p.PM)(v);return w[u - 1] + (v - u) * (w[u] - w[u - 1]);};b.pKb=function(w,v){if(!(0,r.isArray)(w))throw Error("boxes is not an array");if(0 >= w.length)throw Error("There are no boxes in boxes");v=(0,r.isArray)(v)?v:[v];for(var u=w.length,x=0;x < u;x++){for(var y=0;y < v.length;y++){if(w[x].type == v[y])return w[x];}}throw Error("Box not found " + v);};b.ukb=function(w){return w.XLb("trak/mdia/minf/stbl/stsd/" + m.FEa + "|" + m.GEa).children.filter(function(v){return "sinf" == v.type && v.hgc.schm.$ic == t.Cx;})[0].XLb("schi/tenc").gi;};b.tkb=function(w){var u;function v(x,y){var z;z=u[x];u[x]=u[y];u[y]=z;}u=new Uint8Array(w);v(0,3);v(1,2);v(4,5);v(6,7);return u;};b.F6a=function(){return (0,r.yd)(p.$e.requestMediaKeySystemAccess);};b.NZb=function(w){return function(v){return v && v[w];};};(0,r.yd)(ArrayBuffer.prototype.slice) || (ArrayBuffer.prototype.slice=function(w,v){var u,x;void 0 === w && (w=0);void 0 === v && (v=this.byteLength);w=Math.floor(w);v=Math.floor(v);0 > w && (w+=this.byteLength);0 > v && (v+=this.byteLength);w=Math.min(Math.max(0,w),this.byteLength);v=Math.min(Math.max(0,v),this.byteLength);if(0 >= v - w)return new ArrayBuffer(0);u=new ArrayBuffer(v - w);x=new Uint8Array(u);w=new Uint8Array(this,w,v - w);x.set(w);return u;});b.Uba=function(w){return w && 0 == w.toLowerCase().indexOf("https");};b.N2a=function(){var w,v;w=new ArrayBuffer(4);v=new Uint8Array(w);w=new Uint32Array(w);v[0]=161;v[1]=178;v[2]=195;v[3]=212;return 3569595041 == w[0]?"LE":2712847316 == w[0]?"BE":"undefined";};b.dK=function(){var w,v,u;try{w=/playercore.*js/;v=p.Ox.getEntries("resource").filter(function(x){return null !== w.exec(x.name);});if(v && 0 < v.length){u=(0,p.Fp)(v[0].duration);return JSON.stringify(u);}}catch(x){}};b.RZb=function(w,v,u){if(w && w.length){if(u && u.EBb)try{w.forEach(function(x,y){var z;z=(y=u.EBb[y]) && y.media;z && (0,r.Ag)(z)?(!1,z=(0,l.At)(z).buffer,x.media={arrayBuffer:z,length:z.byteLength,stream:v,Hc:y.cdn}):l.log.warn("chunk not in cache",x.Lh);});}catch(x){l.log.error("error reading cached chunks",x);}else l.log.warn("chunks not available in cached stream",u.type);}else l.log.warn("chunks not available in mediabuffer",u.type);};},function(q,b,a){Object.defineProperty(b,"__esModule",{value:!0});q=a(2);q.__exportStar(a(857),b);q.__exportStar(a(150),b);q.__exportStar(a(858),b);q.__exportStar(a(859),b);q.__exportStar(a(860),b);q.__exportStar(a(861),b);q.__exportStar(a(405),b);q.__exportStar(a(862),b);q.__exportStar(a(863),b);},function(q,b,a){var f,d,h,m,l,n,p,r,t,w,v,u,x,y,z,A,B,D;function c(C){var F,G,E;F=A(C,0,1);G=A(C,-1);if("%" === F && "%" !== G)throw new f("invalid intrinsic syntax, expected closing `%`");if("%" === G && "%" !== F)throw new f("invalid intrinsic syntax, expected opening `%`");E=[];z(C,B,function(I,K,L,H){E[E.length]=L?z(H,D,"$1"):K || I;});return E;}function k(){throw new h();}function g(C){try{return d('"use strict"; return (' + C + ").constructor;")();}catch(F){}}f=SyntaxError;d=Function;h=TypeError;m=Object.getOwnPropertyDescriptor;if(m)try{m({},"");}catch(C){m=null;}b=m?(function(){try{return (arguments.callee,k);}catch(C){try{return m(arguments,"callee").get;}catch(F){return k;}}})():k;l=a(346)();n=Object.getPrototypeOf || (function(C){return C.__proto__;});p={};r="undefined" === typeof Uint8Array?void 0:n(Uint8Array);t={"%AggregateError%":"undefined" === typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined" === typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":l?n([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined" === typeof Atomics?void 0:Atomics,"%BigInt%":"undefined" === typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined" === typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined" === typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined" === typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined" === typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":p,"%Int8Array%":"undefined" === typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined" === typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined" === typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l?n(n([][Symbol.iterator]())):void 0,"%JSON%":"object" === typeof JSON?JSON:void 0,"%Map%":"undefined" === typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined" !== typeof Map && l?n(new Map()[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined" === typeof Promise?void 0:Promise,"%Proxy%":"undefined" === typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined" === typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined" === typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined" !== typeof Set && l?n(new Set()[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined" === typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":l?n(("")[Symbol.iterator]()):void 0,"%Symbol%":l?Symbol:void 0,"%SyntaxError%":f,"%ThrowTypeError%":b,"%TypedArray%":r,"%TypeError%":h,"%Uint8Array%":"undefined" === typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined" === typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined" === typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined" === typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined" === typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined" === typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined" === typeof WeakSet?void 0:WeakSet};w=function G(F){var E,I;if("%AsyncFunction%" === F)E=g("async function () {}");else if("%GeneratorFunction%" === F)E=g("function* () {}");else if("%AsyncGeneratorFunction%" === F)E=g("async function* () {}");else if("%AsyncGenerator%" === F){I=G("%AsyncGeneratorFunction%");I && (E=I.prototype);}else "%AsyncIteratorPrototype%" === F && (I=G("%AsyncGenerator%")) && (E=n(I.prototype));return t[F]=E;};v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]};b=a(215);u=a(113);x=b.call(Function.call,Array.prototype.concat);y=b.call(Function.apply,Array.prototype.splice);z=b.call(Function.call,String.prototype.replace);A=b.call(Function.call,String.prototype.slice);B=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;D=/\\(\\)?/g;q.exports=function(F,G){var E,I,K,L,H,P,N,J,M;if("string" !== typeof F || 0 === F.length)throw new h("intrinsic name must be a non-empty string");if(1 < arguments.length && "boolean" !== typeof G)throw new h('"allowMissing" argument must be a boolean');E=c(F);I=0 < E.length?E[0]:"";K="%" + I + "%";L=K;if(u(v,L)){H=v[L];L="%" + H[0] + "%";}if(u(t,L)){P=t[L];P === p && (P=w(L));if("undefined" === typeof P && !G)throw new h("intrinsic " + K + " exists, but is not available. Please file an issue!");}else throw new f("intrinsic " + K + " does not exist!");K=P;L=!1;H && (I=H[0],y(E,x([0,1],H)));H=1;for(P=!0;H < E.length;H+=1){N=E[H];J=A(N,0,1);M=A(N,-1);if(('"' === J || "'" === J || "`" === J || '"' === M || "'" === M || "`" === M) && J !== M)throw new f("property names with quotes must have matching quotes");"constructor" !== N && P || (L=!0);I+="." + N;J="%" + I + "%";if(u(t,J))K=t[J];else if(null != K){if(!((N in K))){if(!G)throw new h("base intrinsic for " + F + " exists, but the property is not available.");return;}m && H + 1 >= E.length?(M=m(K,N),K=(P=! !M) && ("get" in M) && !(("originalValue" in M.get))?M.get:K[N]):(P=u(K,N),K=K[N]);P && !L && (t[J]=K);}}return K;};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kp="PlatformSymbol";b.d6="PlatformMutableSymbol";},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.ata=b.ota=b.Aaa=b.DIa=b.LH=b.$mb=b.tka=b.ska=b.yRa=b.zRa=b.jMa=b.M4=b.TEMPORARY=b.Cx=void 0;c=a(14);k=a(9);b.Cx="cenc";b.TEMPORARY="temporary";b.M4="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";b.jMa="Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=";b.zRa="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";b.yRa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";b.ska="SW_SECURE_CRYPTO";b.tka="SW_SECURE_DECODE";b.$mb="HW_SECURE_DECODE";b.LH="HW_SECURE_ALL";b.DIa=[b.LH];b.Aaa=function(g){var f;f=g.getConfiguration();return [b.LH,b.tka,b.ska].find(function(d){var h;return null === (h=f.videoCapabilities) || void 0 === h?void 0:h.some(function(m){return m.robustness === d;});});};b.ota=function(g){var f,m;try{for(var d=/\((\d[^)]+)\)/g,h;h=d.exec(g);){m=Number(h[1]);(0,c.Oa)(m) && (f=m);}}catch(l){}return f;};b.ata=function(g){var f;f={};try{g.forEach(function(d){var h,m;if(d.JJ){for(var l=(0,k.eB),n=d.JJ,p=0,r=new Uint8Array(16),t=0;t < n.length;t+=2){r[p++]=parseInt(n.slice(t,t + 2),16);}l=l(r);d=null !== (h=d.height) && void 0 !== h?h:d.eAa;f[l]=Math.max(d,null !== (m=f[l]) && void 0 !== m?m:0);}});}catch(d){}return f;};},function(q,b,a){var f,d,h;function c(m){return function(l,n){return l.Cza(n,m);};}function k(m,l){return m.xea.h0b[l] || g(m,l);}function g(m,l){m=m.XB.data[l];switch(typeof m){case "undefined":break;case "string":case "number":case "boolean":return m.toString();default:return JSON.stringify(m);}}Object.defineProperty(b,"__esModule",{value:!0});b.bB=b.Kza=b.object=b.SIb=b.url=b.ga=b.ul=b.CCa=b.bRb=b.TL=b.string=b.fD=b.Td=b.LF=b.config=void 0;f=a(55);d=a(6);h=a(147);b.config=function(m,l,n){n=void 0 === n?!1:n;return function(p,r,t){var w,v;w=void 0 !== l?l:r;v=t.get;void 0 !== v && (t.get=function(){var u;if(!this.SRb(r))return this.SNb(r);a:{u=(this.hyb || n?k:g)(this,w.toString());if(void 0 !== u)if((u=m(this.s0,u),u instanceof h.zr))this.J1a(w,u);else break a;u=v.bind(this)();}this.jAa(r,u);return u;});return t;};};b.LF=function(m,l){return m.ocb(l);};b.Td=function(m,l){return m.zza(l);};b.fD=function(m,l){return m.Gs(l);};b.string=function(m,l){return m.Cza(l);};b.TL=function(m,l){return m.Sg(l,b.string);};b.bRb=function(m,l){return m.Sg(l,b.LF);};b.CCa=function(m,l){return m.Sg(l,b.fD);};b.ul=function(m,l){m=m.Gs(l);return m instanceof h.zr?m:(0,d.Vc)(m);};b.ga=function(m,l){m=m.Gs(l);return m instanceof h.zr?m:(0,f.ga)(m);};b.url=c(/^\S+$/);b.SIb=function(m){return function(l,n){return l.ncb(n,m);};};b.object=function(){return function(m,l){return m.pcb(l);};};b.Kza=c;b.bB=function(m,l){return function(n,p){return n.Sg(p,m,l);};};},function(q,b,a){var g,f,d,h;function c(m,l){var n;n=h.call(this,m,l) || this;n.FYa=l;n.debug=m.debug;n.Ha=m.mg.Bb(n.FYa);return n;}function k(m,l){this.FYa=l;this.pza={};this.XB=m.XB;this.s0=m.s0;this.xea=m.xea;}Object.defineProperty(b,"__esModule",{value:!0});b.Ef=b.nT=b.xQa=void 0;q=a(2);g=a(736);f=a(0);d=a(147);b.xQa="isTestAccount";k.prototype.J1a=function(){};k.prototype.jAa=function(m,l){this.pza[m]=[l,this.XB.Wea];};k.prototype.SRb=function(m){return g.rja.of(this.pza[m]).map(function(l){return l[1];}).or(-1) < this.XB.Wea;};k.prototype.SNb=function(m){return g.rja.of(this.pza[m]).map(function(l){return l[0];}).or(function(){throw Error("Invalid State Error");});};Ya.Object.defineProperties(k.prototype,{hyb:{configurable:!0,enumerable:!0,get:function(){var m,l;if(this && this.XB && this.XB.data){m=this.XB.data[b.xQa];"undefined" !== typeof m && (l=m.toString());m=this.s0.zza(l);m=m instanceof d.zr?!1:m;}else m=!1;return m;}}});h=k;h=q.__decorate([(0,f.X)(),q.__param(0,(0,f.zp)()),q.__param(1,(0,f.zp)())],h);b.nT=h;na(c,h);c.prototype.J1a=function(m,l){this.Ha.error("Invalid configuration value.",{name:m},l);this.debug.assert(!1);};a=c;a=q.__decorate([q.__param(0,(0,f.zp)()),q.__param(1,(0,f.zp)())],a);b.Ef=a;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rk="SchedulerSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oia="LogBatcherConfigSymbol";b.ro="LogBatcherSymbol";b.XJa="LogBatcherProviderSymbol";},function(q,b,a){var g;function c(){return g.OU.apply(this,arguments) || this;}function k(f){return new g.Zu(f,b.zH);}Object.defineProperty(b,"__esModule",{value:!0});b.ib=b.oLa=b.Jia=b.Bx=b.zH=b.lVb=b.BSb=b.ga=b.Tr=b.Gkb=void 0;g=a(359);na(c,g.OU);b.Gkb=c;b.Tr=k;b.ga=function(f){return new g.Zu(f,b.Bx);};b.BSb=function(f){return new g.Zu(f,b.Jia);};b.lVb=function(f){return new g.Zu(f,b.oLa);};b.zH=new c(1,"b");b.Bx=new c(8 * b.zH.Tg,"B",b.zH);b.Jia=new c(1024 * b.Bx.Tg,"KB",b.zH);b.oLa=new c(1024 * b.Jia.Tg,"MB",b.zH);b.ib=k(0);},function(q,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.mka=b.ue=void 0;c=a(1);k=a(856);(function(g){g[g.fr=0]="startPlayback";g[g.rq=1]="endPlayback";g[g.yp=2]="underflow";})(b.ue || (b.ue={}));q=(function(){function g(f){this.config=f;this.GR=[];}g.prototype.eh=function(f){var d,h;h=c.__read(this.config.Z9.filter(function(m){return m.Kg === f.Kg;}),1)[0];(null !== (d=null === h || void 0 === h?void 0:h.enabled) && void 0 !== d?d:f.enabled)?this.GR.push(f):f.Rb && f.Rb();};g.prototype.Fm=function(f){var d,h,m,p,r;h={};m=[];try{for(var l=c.__values(this.GR),n=l.next();!n.done;n=l.next()){p=n.value;try{r=p.Fm({kj:f});r && (p.gG?h[p.gG]=r:h=c.__assign(c.__assign({},h),r));}catch(w){m.push(Error(p.Kg + "::" + w));}}}catch(w){var t;t={error:w};}finally{try{n && !n.done && (d=l.return) && d.call(l);}finally{if(t)throw t.error;}}m.length && (h["rpt-error"]=k.Wga.stringify(new k.Wga("Reporting error",m)));return h;};return g;})();b.mka=q;},function(q,b,a){var c,k;c=a(137);k=a(201);q.exports=function(g){return function m(d,h){switch(arguments.length){case 0:return m;case 1:return k(d)?m:c(function(l){return g(d,l);});default:return k(d) && k(h)?m:k(d)?c(function(l){return g(l,h);}):k(h)?c(function(l){return g(d,l);}):g(d,h);}};};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.flatten=b.Iq=b.D5b=b.N$a=void 0;b.N$a=function(a,c){return a - c;};b.D5b=function(a,c){return a.localeCompare(c);};b.Iq=function(a,c){var k;k=Object.getOwnPropertyDescriptor(a,c);k && Object.defineProperty(a,c,{configurable:k.configurable,enumerable:!1,value:k.value,writable:k.writable});};b.flatten=function(a){return [].concat.apply([],ka(a));};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jp="PboCommandContextSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.emb="Cannot apply @injectable decorator multiple times.";b.fmb="Metadata key was used more than once in a parameter:";b.sU="NULL argument";b.wJa="Key Not Found";b.rjb="Ambiguous match found for serviceIdentifier:";b.Hkb="Could not unbind serviceIdentifier:";b.Iob="No matching bindings found for serviceIdentifier:";b.gob="Missing required @injectable annotation in:";b.hob="Missing required @inject or @multiInject annotation in:";b.Tqb=function(a){return "@inject called with undefined this could mean that the class " + a + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.Kkb="Circular dependency found:";b.ncc="Sorry, this feature is not fully implemented yet.";b.Bnb="Invalid binding type:";b.Kob="No snapshot available to restore.";b.Fnb="Invalid return type in middleware. Middleware must return!";b.Enb="Value provided to function binding must be a function!";b.Hnb="The toSelf function can only be applied when a constructor is used as service identifier";b.Cnb="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.tjb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "The number of constructor arguments in the derived class " + (a[0] + " must be >= than the number of constructor arguments of its base class.");};b.Zkb="Invalid Container constructor argument. Container options must be an object.";b.Xkb="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.Wkb="Invalid Container option. Auto bind injectable must be a boolean";b.Ykb="Invalid Container option. Skip base check must be a boolean";b.uob="Cannot apply @postConstruct decorator multiple times in the same class";b.Npb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "@postConstruct error in class " + a[0] + ": " + a[1];};b.Lkb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "It looks like there is a circular dependency in one of the '" + (a[0] + "' bindings. Please investigate bindings withservice identifier '") + (a[1] + "'.");};b.uqb="Maximum call stack size exceeded";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.cwa=b.Zi=void 0;(function(a){a[a.Ar=0]="STANDARD";a[a.Ep=1]="LIMITED";})(b.Zi || (b.Zi={}));b.cwa=function(a){return ["STANDARD","LIMITED"][a];};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.wg=void 0;b.wg=function(a){return setTimeout(a,0);};},function(q,b,a){var k,g,f,d,h;function c(){return k.zc.get(f.Jd).fC.ia(h.sa);}Object.defineProperty(b,"__esModule",{value:!0});b.aCb=b.u9=b.cYa=b.ZBb=b.$Bb=b.Bpa=b.No=void 0;k=a(219);g=a(38);f=a(20);d=a(84);h=a(6);b.No=function(){return k.zc.get(f.Jd).ec().ia(h.sa);};b.Bpa=function(){return k.zc.get(g.Wi).Nf.ia(h.Mp);};b.$Bb=function(){return k.zc.get(f.Jd).fC.ia(h.Mp);};b.ZBb=function(){return k.zc.get(d.kA).uB();};b.cYa=c;b.u9=function(){return k.zc.get(g.Wi).Nf.ia(h.sa);};b.aCb=function(){return c();};},function(q,b){var c,k;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Cp=b.Ua=b.Sk=void 0;(function(g){g[g.Ar=0]="STANDARD";g[g.Ep=1]="LIMITED";g[g.Occ=2]="PREVIEW";})(c || (c={}));(function(g){g[g.HAVE_NOTHING=0]="HAVE_NOTHING";g[g.HAVE_METADATA=1]="HAVE_METADATA";g[g.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";g[g.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";g[g.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";})(k || (k={}));(function(g){g.Fjb="asl_start";g.Djb="asl_comp";g.q$b="asl_exc";g.Ejb="asl_fail";g.xqb="stf_creat";g.jnb="idb_open";g.gnb="idb_block";g.qnb="idb_upgr";g.pnb="idb_succ";g.hnb="idb_error";g.inb="idb_invalid_state";g.lnb="idb_open_timeout";g.nnb="idb_open_wrkarnd";g.onb="idb_storelen_exc";g.knb="idb_open_exc";g.mnb="idb_timeout_invalid_storelen";g.oob="msl_load_data";g.qob="msl_load_no_data";g.pob="msl_load_failed";})(q=b.Sk || (b.Sk={}));(function(g){g.vja="PlaybackRequestStart";g.uja="PlaybackRequestEnd";g.m6="RequestPrefetchManifestStart";g.l6="RequestPrefetchManifestEnd";g.k6="RequestManifestStart";g.j6="RequestManifestEnd";g.i6="RequestLicenseStart";g.h6="RequestLicenseEnd";g.tT="RequestTimedTextUrlStart";g.sT="RequestTimedTextUrlEnd";g.rT="RequestAudioUrlStart";g.qT="RequestAudioUrlEnd";g.vT="RequestVideoUrlStart";g.uT="RequestVideoUrlEnd";g.Pga="AppendBufferStart";g.Oga="AppendBufferEnd";g.oka="SetMediaKeysStart";g.nka="SetMediaKeysEnd";g.P4="GenerateChallengeStart";g.O4="GenerateChallengeEnd";g.W3="ApplyLicenseStart";g.V3="ApplyLicenseEnd";})(b.Ua || (b.Ua={}));b.Cp=a;a.Kia=c;a.UYa=function(g){return ["STANDARD","LIMITED","PREVIEW"][g];};a.Sk=q;a.A5=k;},function(q,b,a){var k,g;function c(f,d){var h;h=b.Lp[0];h == d && (h=b.Lp[1]);h?h.close(function(){c(f,d);}):f && f(k.Xg);}Object.defineProperty(b,"__esModule",{value:!0});b.INa=b.GNa=b.Qja=b.Rja=b.PD=b.Sja=b.HNa=b.Vja=b.Uja=b.Lp=b.KNa=b.Tja=void 0;k=a(16);g=a(24);b.Tja=c;b.KNa=function(f,d){switch(f){case b.HNa:b.Uja.push(d);return;case b.Sja:b.Vja.push(d);return;}(0,g.Db)(!1);};b.Lp=[];b.Uja=[];b.Vja=[];b.HNa=1;b.Sja=3;b.PD={index:0,T9a:void 0,Yra:void 0};b.Rja="network";b.Qja="media";b.GNa="timedtext";b.INa="playback";},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.Raa=b.Pt=b.Saa=b.CF=b.Zo=b.zf=void 0;q=a(75);c=a(62);k=a(11);b.zf=new q.El();b.Zo=1;b.CF=2;b.Saa=3;b.Pt=4;b.Raa=5;(0,c.wg)(function(){var f,d,h;function g(m,l){if(d)d.on(m,l);else pb.addEventListener(m,l);}f=pb.jQuery;d=f && f(pb);f=(f=pb.netflix) && f.cadmium && f.cadmium.addBeforeUnloadHandler;h=k.Qh.hidden;f?f(function(m){b.zf.rd(b.Zo,m);}):g("beforeunload",function(m){b.zf.rd(b.Zo,m);});g("keydown",function(m){b.zf.rd(b.CF,m);});g("resize",function(){b.zf.rd(b.Saa);});k.Qh.addEventListener("visibilitychange",function(){h !== k.Qh.hidden && (h=k.Qh.hidden,b.zf.rd(b.Pt));});});(function(){pb.addEventListener("error",function(g){b.zf.rd(b.Raa,g);return !0;});})();},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(44);q=(function(){function k(g,f){this.key=g;this.value=f;}k.prototype.toString=function(){return this.key === c.FD?"named: " + this.value.toString() + " ":"tagged: { key:" + this.key.toString() + ", value: " + this.value + " }";};return k;})();b.Metadata=q;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vu="EmeConfigSymbol";},function(q,b){function a(c){var k;k=Error.call(this,"TimeoutError");this.message=k.message;("stack" in k) && (this.stack=k.stack);this.interval=c;}Object.defineProperty(b,"__esModule",{value:!0});b.gI=b.ft=void 0;na(a,Error);b.ft=a;b.gI="PromiseTimerSymbol";},function(q,b,a){Object.defineProperties(b,{__esModule:{value:!0}});q=a(1);q.__exportStar(a(163),b);q.__exportStar(a(988),b);q.__exportStar(a(192),b);},function(q,b,a){var k,g,f,d;function c(h,m,l){var n,p,w;m=k.__assign({},null === (p=null === h || void 0 === h?void 0:h.context) || void 0 === p?void 0:p.call(h,{P$a:m,Jo:l}));if((null === h || void 0 === h?0:h.Jo) && l)if(!0 === h.Jo)m.args=l;else {p={};m.args=p;try{for(var r=k.__values(h.Jo),t=r.next();!t.done;t=r.next()){w=t.value;p[w]=l[w];}}catch(u){var v;v={error:u};}finally{try{t && !t.done && (n=r.return) && n.call(r);}finally{if(v)throw v.error;}}}return m;}Object.defineProperties(b,{__esModule:{value:!0}});b.fv=b.Tta=b.Hb=void 0;k=a(1);g=a(15);f=k.__importDefault(a(5));d=a(8);b.Hb=function(h){return function(m,l,n){var p;p=n.value;n.value=function(){var r,t,w,v,u,x;t=b.Tta(this);if(t)(w=c(h,this,arguments),v=null !== (r=null === h || void 0 === h?void 0:h.methodName) && void 0 !== r?r:String(l),u=t.wW(v,w,null === h || void 0 === h?void 0:h.Ul,null === h || void 0 === h?void 0:h.Ogc));r=null === t || void 0 === t?void 0:t.jqa;t && (t.jqa=u);try{x=null === p || void 0 === p?void 0:p.apply(this,arguments);d.sva(x) && (x=x.then(function(z){u && (null === h || void 0 === h?0:h.return) && (u.data.resolve=z);return z;},function(z){u && (u.data.reject="" + z);return Promise.reject(z);}));return x;}catch(z){var y;y=z;throw z;}finally{t && (t.jqa=r);u && (u.data || (u.data={}),y?(u.data.error="" + y,null === t || void 0 === t?void 0:t.BCb(u)):(null === h || void 0 === h?0:h.return) && !d.sva(x) && (u.data.lRet=x));}};};};b.Tta=function(h){if(null === h || void 0 === h?0:h.Vka)return h.Vka;};q=(function(){function h(m){this.us=[];this.B7=!1;this.Wla={};this.K=k.__assign({zs:10},m);Object.defineProperties(m.Oq,{Vka:{enumerable:!1,value:this,configurable:!0}});}Object.defineProperties(h.prototype,{source:{get:function(){return this.K.source;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{enabled:{get:function(){return !this.B7;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{qSb:{get:function(){return k.__spread(this.us);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{LPb:{get:function(){return this.Wla;},enumerable:!1,configurable:!0}});h.prototype.vv=function(m){var l,n;if(!this.B7){n=null === (l=b.Tta(this.K.Oq)) || void 0 === l?void 0:l.jqa;n && (n.data=k.__assign(k.__assign({},n.data),m));}};h.prototype.wW=function(m,l,n,p){var r,t,w,v;if(!this.B7){w=!1;v=null === (t=(r=this.K).Ina) || void 0 === t?void 0:t.call(r,this.K.Oq);r=c({},this.K.Oq);l=k.__assign(k.__assign(k.__assign({},v),r),l);v=0 < Object.keys(l).length;l={methodName:m,data:v?l:void 0,time:f.default.time.ma()};p && this.Wla[m]++;n && this.us.length && (n=this.us[this.us.length - 1],n.methodName === m && (n.data=n.data || ({}),n.data.dedup=n.data.dedup || ({hitCount:1}),n.data.dedup.hitCount++,n.data.dedup.lJournal=l,w=!0));this.CCb(l);w || this.us.push(l);this.us.length > this.K.zs && this.us.shift();return l;}};h.prototype.CCb=function(m){var l;g.aa && (null === (l=this.K.console) || void 0 === l?void 0:l.trace(this.K.source + "::" + m.methodName,m.data));"object" === typeof __ASE_DEVTOOLS_EXTENSION__ && __ASE_DEVTOOLS_EXTENSION__.register(this.K,m);};h.prototype.BCb=function(m){var l;g.aa && (null === (l=this.K.console) || void 0 === l?void 0:l.error(this.K.source + "::" + m.methodName,m.data));};h.prototype.Rb=function(){Object.defineProperties(this.K.Oq,{Vka:{enumerable:!1,value:null,configurable:!0}});this.B7=!0;this.clear();};h.prototype.clear=function(){this.us=[];this.Wla={};};return h;})();b.fv=q;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ix=b.oja=b.ResponseType=void 0;b.ResponseType={Text:1,dec:2,ikb:3};b.oja="OPEN_CONNECT_APPLIANCE";b.Ix="LegacyHttpSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.gv="Utf8EncoderSymbol";},function(q,b,a){var d;function c(h,m){return void 0 === h?void 0:0 === h?d.O.ib:new d.O(h,m);}function k(h,m){return h && Math.floor(d.O.zS(h,m));}function g(h,m){return void 0 === h || void 0 === m?void 0:h + m;}function f(h,m){return void 0 === h || void 0 === m?void 0:h - m;}Object.defineProperties(b,{__esModule:{value:!0}});b.Yz=b.Pu=void 0;d=a(21);q=(function(){function h(){}Object.defineProperties(h.prototype,{Tv:{get:function(){return f(this.wb,this.bb) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{EZb:{get:function(){return g(this.bb,this.Kj);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{BZb:{get:function(){return g(this.wb,this.Kj);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{LJ:{get:function(){return c(this.Tv,this.I);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ic:{get:function(){return c(this.bb,this.I);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ud:{get:function(){return c(this.wb,this.I);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{he:{get:function(){return c(this.EZb,this.I);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{fd:{get:function(){return c(this.BZb,this.I);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{sza:{get:function(){return c(this.Kj,this.I);},enumerable:!1,configurable:!0}});return h;})();b.Pu=q;q=(function(){function h(){}Object.defineProperties(h.prototype,{duration:{get:function(){return f(this.Ta,this.da) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{da:{get:function(){return k(g(this.bb,this.Kj),this.I);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ta:{get:function(){return k(g(this.wb,this.Kj),this.I);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{$w:{get:function(){return k(this.Kj,this.I);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{il:{get:function(){return k(this.bb,this.I);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ud:{get:function(){return k(this.bb,this.I);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Uc:{get:function(){return k(this.wb,this.I);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Rd:{get:function(){return k(g(this.bb,this.Kj),this.I);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{lf:{get:function(){return k(g(this.wb,this.Kj),this.I);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ht:{get:function(){return this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{JC:{get:function(){return this.da;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{wz:{get:function(){return this.Ta;},enumerable:!1,configurable:!0}});return h;})();b.Yz=q;},function(q,b,a){var k,g;function c(){var f,d;f=this;this.kv={};this.on=function(h,m,l){f.addListener(h,m,l);};this.addListener=function(h,m,l){f.kv && (f.kv[h]=f.kv[h] || new g.eka(!0)).add(m,l);};this.removeListener=function(h,m){f.kv && f.kv[h] && f.kv[h].removeAll(m);};this.Ssa=function(h){return f.kv && f.kv[h]?f.kv[h].flatten():[];};d=this;this.rd=function(h,m,l){var n;if(d.kv){n=d.Ssa(h);for(h={sM:0};h.sM < n.length;(h={sM:h.sM},h.sM++)){l?(function(p){return function(){var r;r=n[p.sM];(0,k.wg)(function(){r(m);});};})(h)():n[h.sM].call(this,m);}}};}Object.defineProperty(b,"__esModule",{value:!0});b.El=void 0;k=a(62);g=a(382);c.prototype.Ei=function(){this.kv=void 0;};b.El=c;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.ri={qwa:"logblob",pa:"manifest",$Sb:"licensedmanifest",Jh:"license",events:"events",bind:"bind",ping:"ping",config:"config"};b.QD={fqb:"reqAttempt",gqb:"reqName",zkb:"browsername",Ekb:"browserversion",Vob:"osname",Wob:"osversion",dlb:"clienttype",Sqb:"uiversion"};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qu={Request:"Request",xka:"Singleton",E6:"Transient"};b.Ok={BFa:"ConstantValue",CFa:"Constructor",PGa:"DynamicValue",fia:"Factory",Function:"Function",Instance:"Instance",Qnb:"Invalid",ROa:"Provider"};b.wA={uFa:"ClassProperty",DFa:"ConstructorArgument",Nka:"Variable"};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.nJa="Injector";b.Jx=145152E5;b.bN="ProfileSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zz="Base16EncoderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mx="MediaKeySystemAccessServicesSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.rA="PboConfigSymbol";},function(q,b,a){var k,g,f;function c(d,h){this.hy=h?[h]:[];this.Xla="$op$" + f++;this.Va=d;}Object.defineProperty(b,"__esModule",{value:!0});b.uc=void 0;k=a(16);g=a(24);f=0;c.prototype.addListener=function(d,h){var m;m=this;(0,g.nqa)(d);(0,g.Db)(0 > this.hy.indexOf(d));d[k.W5 + this.Xla]=h;this.hy=this.hy.slice();this.hy.push(d);this.hy.sort(function(l,n){return m.U4b(l,n);});};c.prototype.removeListener=function(d){var h;(0,g.nqa)(d);this.hy=this.hy.slice();0 <= (h=this.hy.indexOf(d)) && this.hy.splice(h,1);};c.prototype.set=function(d,h){if(this.Va !== d){h={oldValue:this.Va,newValue:d,Kn:h};this.Va=d;d=this.hy;for(var m=d.length,l=0;l < m;l++){d[l](h);}}};c.prototype.when=function(d){var h;h=this;return new Promise(function(m){function l(n){if(d(n.newValue))return (h.removeListener(l),m(n.newValue));}if(d(h.Va))return m(h.Va);h.addListener(l);});};c.prototype.U4b=function(d,h){return (d[k.W5 + this.Xla] || 0) - (h[k.W5 + this.Xla] || 0);};Ya.Object.defineProperties(c.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.Va;}}});b.uc=c;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.iN="TimingApiSymbol";b.pU="MilestoneTimingApiSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.kA="IdProviderSymbol";},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(154);b.Uk=function(k){c.assert("number" === typeof k);return String.fromCharCode(k >>> 24 & 255) + String.fromCharCode(k >>> 16 & 255) + String.fromCharCode(k >>> 8 & 255) + String.fromCharCode(k & 255);};b.YD=function(k){return k.charCodeAt(3) + (k.charCodeAt(2) << 8) + (k.charCodeAt(1) << 16) + (k.charCodeAt(0) << 24);};b.dSa=function(k,g){return Math.floor(1E3 * k / g);};},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(f){k.prototype.parse.call(this,f);this.cb=this.Cf([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{j5a:"int32"},{Gib:"int32"},{offset:32,type:"offset"},{P1a:"int16"},{zYa:{type:"int8",FW:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};g.wa=!0;return g;})(a(250).default);b.default=q;a=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.Xa="avc1";return g;})(q);b.bT=a;a=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.Xa="avc2";return g;})(q);b.cT=a;a=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.Xa="avc3";return g;})(q);b.dT=a;a=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.Xa="avc4";return g;})(q);b.eT=a;a=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.Xa="hvc1";return g;})(q);b.YT=a;a=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.Xa="hev1";return g;})(q);b.QT=a;q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.Xa="av01";return g;})(q);b.aT=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.yx=void 0;q=(function(){function a(c){this.Gf=c;}a.prototype.aBa=function(c){this.Gf=c;};a.prototype.WXa=function(){this.Gf=void 0;};a.prototype.PY=function(c){return this.Gf && this.Gf.Mda && this.Gf.Mda(c);};a.prototype.KP=function(c){this.Gf && this.Gf.AC && this.Gf.AC(c);};a.prototype.tF=function(c){this.Gf && this.Gf.ZK && this.Gf.ZK(c);};a.prototype.TJ=function(c){this.Gf && this.Gf.$K && this.Gf.$K(c);};a.prototype.G1a=function(c){this.Gf && this.Gf.jya && this.Gf.jya(c);};a.prototype.ew=function(c){this.Gf && this.Gf.Nm && this.Gf.Nm(c);};a.prototype.V$=function(c){this.Gf && this.Gf.K0 && this.Gf.K0(c);};a.prototype.JP=function(c,k,g){this.Gf && this.Gf.J0 && this.Gf.J0(c,k,g);};return a;})();b.yx=q;q.prototype.Mda=q.prototype.PY;q.prototype.AC=q.prototype.KP;q.prototype.ZK=q.prototype.tF;q.prototype.$K=q.prototype.TJ;q.prototype.Nm=q.prototype.ew;q.prototype.K0=q.prototype.V$;q.prototype.J0=q.prototype.JP;q.prototype.jya=q.prototype.G1a;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(160);b.Uk=function(k){c.assert("number" === typeof k);return String.fromCharCode(k >>> 24 & 255) + String.fromCharCode(k >>> 16 & 255) + String.fromCharCode(k >>> 8 & 255) + String.fromCharCode(k & 255);};b.YD=function(k){return k.charCodeAt(3) + (k.charCodeAt(2) << 8) + (k.charCodeAt(1) << 16) + (k.charCodeAt(0) << 24);};b.dSa=function(k,g){return Math.floor(1E3 * k / g);};},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(f){k.prototype.parse.call(this,f);this.cb=this.Cf([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{j5a:"int32"},{Gib:"int32"},{offset:32,type:"offset"},{P1a:"int16"},{zYa:{type:"int8",FW:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};g.wa=!0;return g;})(a(262).default);b.default=q;a=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.Xa="avc1";return g;})(q);b.bT=a;a=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.Xa="avc2";return g;})(q);b.cT=a;a=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.Xa="avc3";return g;})(q);b.dT=a;a=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.Xa="avc4";return g;})(q);b.eT=a;a=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.Xa="hvc1";return g;})(q);b.YT=a;a=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.Xa="hev1";return g;})(q);b.QT=a;q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.Xa="av01";return g;})(q);b.aT=q;},function(q,b,a){var c,k,g,f,d,h,m,l,n;Object.defineProperties(b,{__esModule:{value:!0}});b.gn=void 0;c=a(1);k=a(4);g=c.__importDefault(a(32));f=c.__importDefault(a(159));d=a(443);h=a(21);q=a(39);m=a(189);l=a(269);a=a(74);n=(function(p){function r(t,w,v){var u;u=p.call(this,t,w) || this;r.xa(u,t,w,v);return u;}c.__extends(r,p);r.xa=function(t,w,v,u){var x;m.zx.xa(t,w,v);t.Te=v.index;t.AN=v.bb;t.$x=v.wb;t.Swb=v.nb?v.nb:w.nb;t.DL=v.DL;t.nta=u;t.iTa=! !v.Hq;t.hUa=null !== (x=v.region) && void 0 !== x?x:0;t.FSa=! !v.Zra;t.hTa=! !v.Zy;t.T=void 0 === v.W$ || void 0 === v.jsa || v.W$ === v.bb && v.jsa === v.wb?t:new l.qD(t,{bb:v.W$,wb:v.jsa});t.aub=v.uxa;t.qrb=v.Eh;t.mtb=w.vPb;t.Gr=v.na?t.t$a(v.na):void 0;t.EUa=v.aD;t.cf=!1;};r.rZa=function(t){for(var w=new Uint32Array(t.length),v=new Uint32Array(t.length),u=new Uint8Array(t.length),x=new Uint8Array(t.length),y=0,z,A,B=0;B < t.length;++B){z=t[B];A=z.Od;w[B]=z.$x - z.AN;v[B]=A;u[B]=z.stream.dg;void 0 !== z.nb && null !== z.nb && (x[B]=z.nb);y+=A;}return new d.wka(w,v,u,x,t.length?t[0].I:1E3,y);};Object.defineProperties(r.prototype,{NF:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{index:{get:function(){return this.Te;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{nb:{get:function(){return this.Swb;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{yoa:{get:function(){return 8 * this.ga / this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{bb:{get:function(){return this.AN;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{wb:{get:function(){return this.$x;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Kj:{get:function(){var t,w;return null !== (w=null === (t=this.nta) || void 0 === t?void 0:t.call(this)) && void 0 !== w?w:0;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Hq:{get:function(){return this.iTa;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{region:{get:function(){return this.hUa;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Zra:{get:function(){return this.FSa;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Zy:{get:function(){return this.hTa;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{uxa:{get:function(){return this.aub;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Eh:{get:function(){return this.qrb;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{na:{get:function(){return this.Gr;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{aD:{get:function(){return this.EUa;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{W$:{get:function(){return this.T.bb;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{jsa:{get:function(){return this.T.wb;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{FKb:{get:function(){return this.T.Tv;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Y$:{get:function(){return this.T.Rd;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{M1a:{get:function(){return this.T.lf;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{LP:{get:function(){return this.T.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{ksa:{get:function(){return this.T.ud;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{EKb:{get:function(){return this.T.Uc;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Ky:{get:function(){var t;t=this.FKb;k.assert(t);return t / this.stream.$.qa;},enumerable:!1,configurable:!0}});r.prototype.H8a=function(){this.iTa=!0;};r.prototype.T3b=function(t){this.DL={ye:t.B2a(),get Sba() {return t.px;}};};r.prototype.bS=function(t){this.EUa=t;};r.prototype.Q3b=function(t,w,v){this.hUa=t;this.FSa=w;this.hTa=v;};r.prototype.Lj=function(t){var w,v;void 0 === t && (t={});w=this.stream.$.qa;v=this.Gr || ({start:0,end:this.Ky});t=this.t$a(t);this.T && this.T !== this || (this.T=new l.qD(this,this));t.start > v.start && (this.AN=this.T.bb + t.start * w);t.end < v.end && (this.$x=this.T.bb + t.end * w);this.Gr=t;};r.prototype.Sqa=function(t){void 0 === t && (t=1);this.Gr?this.Lj({start:this.Gr.start + t,end:this.Gr.end}):this.Lj({start:t});};r.prototype.Tqa=function(t){this.Gr?this.Lj({start:this.Gr.start,end:(this.Gr.end || 0) - t}):this.Lj({start:0,end:-t});};r.prototype.ck=function(){this.na?this.Lj({start:this.na.start,end:this.na.start}):this.Lj({start:0,end:0});};r.prototype.U3b=function(t){this.Gr || this.Lj();this.Gr.wfa=t;};r.prototype.p1a=function(t){var v;if(!(t < this.da || t >= this.Ta) && this.Eh && this.Eh.length){t=new h.O(t + 1 - this.da,1E3).Dj(this.stream.$);for(var w=this.Eh.length - 1;0 <= w;--w){v=this.Eh[w];if(v.hm <= t)return v;}return {hm:0,Xd:this.ksa};}};r.prototype.cKb=function(t){var v;if(!(t < this.da || t >= this.Ta) && this.Eh && this.Eh.length){t=new h.O(t + 1 - this.da,1E3).Dj(this.stream.$);for(var w=this.Eh.length - 1;0 <= w;--w){v=this.Eh[w];if(v.hm <= t)return v;}return {hm:0,Xd:this.ksa};}};r.prototype.i1a=function(t,w){var v,u,x;if(!(t < this.da || t >= this.Ta)){if(!w && this.mtb)return {hm:0,Xd:this.da};v=this.$.qa;u=this.$.I;x=Math.floor(this.Tv / v);t=Math.min((w?Math.ceil:Math.floor)((h.O.ida(t,u) - this.bb + (w?-1:1) * (u / 1E3 - 1)) / v),x);v=h.O.zS(this.bb + t * v,u);return t === x?void 0:{hm:t,Xd:v};}};r.prototype.Pra=function(t){return this.mediaType === g.default.kb.Vb?this.p1a(t):this.i1a(t,!1);};r.prototype.Ora=function(t){return this.mediaType === g.default.kb.Vb?this.cKb(t):this.i1a(t,!0);};r.prototype.A8=function(t){this.Od+=t.ga;this.$x=t.wb;this.Gr && (this.T=new l.qD(this,{bb:this.W$,wb:this.$x}),this.Gr.end=this.Ky);};r.prototype.Xza=function(t){var w,v,u;w={type:"logdata",target:"endplay",fields:{}};v=this.mediaType === g.default.kb.mc?"audioedit":"videoedit";u=[this.Y$ === this.da?this.Uc:this.ud,this.Y$ === this.da?-this.duration:this.duration];t && u.push(t);w.fields[v]={type:"array",value:u};return w;};r.prototype.toString=function(){return "[" + this.Za + ", " + this.bitrate + "kbit/s, c:" + (this.ud + "-" + this.Uc + ",p:") + (this.Rd + "-" + this.lf + ",d:" + this.duration + "]");};r.prototype.toJSON=function(){var t;t=m.zx.prototype.toJSON.call(this);f.default({index:this.index,startPts:this.da,endPts:this.Ta,"contentStartTicks:":this.bb,contentEndTicks:this.wb,contentStartPts:this.ud,contentEndPts:this.Uc,fragmentStartPts:this.Y$ !== this.da?this.Y$:void 0,fragmentEndPts:this.M1a !== this.Ta?this.M1a:void 0,edit:this.na},t);return t;};r.prototype.o1a=function(t){var v;if(this.Eh)for(var w=0;w < this.Eh.length;++w){if(this.Eh[w].hm === t)v=this.Eh[w].offset;}return v;};r.prototype.t$a=function(t){var w;w=t.start || 0;return {start:w,end:void 0 === t.end?this.Ky:Math.min(this.Ky,Math.max(w,0 > t.end?this.Ky + t.end:t.end)),wfa:t.wfa,qBa:t.qBa};};return r;})(m.zx);b.gn=n;q.Xe(a.Pu,n);q.Xe(a.Yz,n);},function(q){q.exports=function(b,a){for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}return a;};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.mA="LogMessageFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.xr={start:"start",stop:"stop",m_:"keepAlive",xP:"engage",splice:"splice"};b.cia="EventPboCommandFactorySymbol";b.cQa="StartEventPboCommandSymbol";b.kQa="StopEventPboCommandSymbol";b.yJa="KeepAliveEventPboCommandSymbol";b.YPa="SpliceEventPboCommandSymbol";b.mHa="EngageEventPboCommandSymbol";},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(166);b.Uk=function(k){c.assert("number" === typeof k);return String.fromCharCode(k >>> 24 & 255) + String.fromCharCode(k >>> 16 & 255) + String.fromCharCode(k >>> 8 & 255) + String.fromCharCode(k & 255);};b.YD=function(k){return k.charCodeAt(3) + (k.charCodeAt(2) << 8) + (k.charCodeAt(1) << 16) + (k.charCodeAt(0) << 24);};b.dSa=function(k,g){return Math.floor(1E3 * k / g);};},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(f){k.prototype.parse.call(this,f);this.cb=this.Cf([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{j5a:"int32"},{Gib:"int32"},{offset:32,type:"offset"},{P1a:"int16"},{zYa:{type:"int8",FW:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};g.wa=!0;return g;})(a(300).default);b.default=q;a=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.Xa="avc1";return g;})(q);b.bT=a;a=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.Xa="avc2";return g;})(q);b.cT=a;a=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.Xa="avc3";return g;})(q);b.dT=a;a=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.Xa="avc4";return g;})(q);b.eT=a;a=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.Xa="hvc1";return g;})(q);b.YT=a;a=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.Xa="hev1";return g;})(q);b.QT=a;q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.Xa="av01";return g;})(q);b.aT=q;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.uj={audio:"audio",video:"video",Sfa:"timedtext",xCa:"trickplay"};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.dA="DeviceFactorySymbol";},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Sj=b.Tob=b.LD=void 0;c=a(14);b.LD=b.LD || (function(k,g,f){return k >= g?k <= f?k:f:g;});b.Tob=function(k,g,f,d,h){return (k - g) * (h - d) / (f - g) + d;};b.Sj=function(k){if((0,c.Oa)(k))return (k / 1E3).toFixed(3);};},function(q,b,a){var k,g,f,d,h;function c(m,l,n){this.context=m;this.errorCode=l;this.o2b=n;}Object.defineProperty(b,"__esModule",{value:!0});b.Nk=void 0;q=a(2);k=a(0);g=a(588);f=a(6);d=a(41);h=a(43);c.prototype.send=function(m,l,n,p,r,t){var w;w=this;t=void 0 === t?h.Nx.BU:t;return this.bMb(m,l,n,t,p,r).then(function(v){return w.context.fHb.send(v.context,v.request);});};c.prototype.bMb=function(m,l,n,p,r,t){var w,v;try{w=this.context.O1b.create(this.context.VB.uB(),l.url,n,r,p);v=this.aAb(l,m,p,t);return Promise.resolve({context:v,request:w});}catch(u){return Promise.reject(u);}};c.prototype.aAb=function(m,l,n,p){return {Bf:this.context.Bf,log:l,Oo:m.name,url:this.context.x8b((0,g.iXa)(this.context.wi,this.context.Ni,m.name,n)),oAa:this.o2b,timeout:(0,f.Nh)(59),headers:(0,g.hXa)(this.context.Ni,this.context.GJ),Hs:m.Hs,Hzb:p};};c.prototype.wq=function(m){return m instanceof d.Ad?m:(0,g.wq)(this.errorCode,m);};a=c;a=q.__decorate([(0,k.X)(),q.__param(0,(0,k.zp)()),q.__param(1,(0,k.zp)()),q.__param(2,(0,k.zp)())],a);b.Nk=a;},function(q,b,a){var g,f;function c(d,h,m,l,n){var p,r,w;p={};r="number" === typeof n;n=void 0 !== n && r?n.toString():m;if(r && void 0 !== m)throw Error(g.Cnb);Reflect.eua(d,h) && (p=Reflect.getMetadata(d,h));m=p[n];if(Array.isArray(m)){r=0;for(var t=m;r < t.length;r++){w=t[r];if(w.key === l.key)throw Error(g.fmb + " " + w.key.toString());}}else m=[];m.push(l);p[n]=m;Reflect.W9(d,p,h);}function k(d,h){return function(m,l){h(m,l,d);};}Object.defineProperty(b,"__esModule",{value:!0});g=a(60);f=a(44);b.XL=function(d,h,m,l){c(f.vQa,d,h,l,m);};b.U2=function(d,h,m){c(f.wQa,d.constructor,h,m);};b.kq=function(d,h,m){"number" === typeof m?(d=[k(m,d)],Reflect.kq(d,h)):"string" === typeof m?Reflect.kq([d],h,m):Reflect.kq([d],h);};},function(q,b,a){var k,g,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.BM=b.Kb=void 0;k=a(128);g=a(41);f=a(3);c.eZ=function(d){if(d){if(d.includes(b.BM.FC))return k.hn.FC;if(d.includes("fps"))return k.hn.oF;if(d.includes(b.BM.Dga))return k.hn.Dga;}throw new g.Ad(f.W.xmb,void 0,void 0,void 0,void 0,"Invalid KeySystem: " + d);};c.Qsa=function(d){switch(d){case k.hn.FC:return b.BM.FC;case k.hn.oF:return b.BM.oF;default:return b.BM.Dga;}};b.Kb=c;c.sA="com.microsoft.playready";c.te="com.microsoft.playready.hardware";c.cI="com.microsoft.playready.software";c.Nmb="com.apple.fps.2_0";c.BRa="com.widevine.alpha";c.CNa="com.microsoft.playready.recommendation.3000";c.DNa="com.microsoft.playready.recommendation.2000";c.anb=[c.CNa];b.BM={oF:"fairplay",Dga:"widevine",FC:"playready"};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Eqb="StorageValidatorSymbol";b.pD="AppStorageFactorySymbol";},function(q,b,a){var k,g;function c(f,d,h,m,l){f=void 0 === f?k.W.wo:f;return g.Ad.call(this,f,d,h,void 0,void 0,m,g.Ad.hf(l),l) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Ph=void 0;k=a(3);g=a(41);na(c,g.Ad);b.Ph=c;},function(q,b,a){Object.defineProperties(b,{__esModule:{value:!0}});q=a(1);q.__exportStar(a(839),b);q.__exportStar(a(840),b);q.__exportStar(a(841),b);q.__exportStar(a(842),b);q.__exportStar(a(843),b);q.__exportStar(a(844),b);q.__exportStar(a(845),b);q.__exportStar(a(846),b);q.__exportStar(a(396),b);q.__exportStar(a(397),b);q.__exportStar(a(847),b);q.__exportStar(a(848),b);q.__exportStar(a(238),b);},function(q,b,a){var n;function c(p,r){if(p.length == r.length && 1 < p.length){for(var t=p.length,w=0,v=d(p),u=d(r),x=0;x < t;x++){w+=p[x] * r[x];}return (w - v * u / t) / t;}return !1;}function k(p){if(!Array.isArray(p) || 2 > p.length)return !1;p=g(p);return Math.sqrt(p);}function g(p){var r;if(!Array.isArray(p) || 2 > p.length)return !1;r=f(p);return d(p.map(function(t){return (t - r) * (t - r);})) / (p.length - 1);}function f(p){return Array.isArray(p) && p.length?d(p) / p.length:!1;}function d(p){return Array.isArray(p)?p.reduce(function(r,t){return r + t;},0):!1;}function h(p,r,t){return Math.max(Math.min(p,t),r);}function m(p,r){return "number" === typeof p?p:r;}function l(p){return 1 / (1 + Math.exp(-p));}n=a(10);q.exports={mb:function(p,r,t){try{p.emit(r,t);}catch(w){p.Jl("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",w,"Event:",t);}},Jv:function(){var p,r,t;p=Array.prototype.concat.apply([],arguments);r=p.reduce(function(w,v){return w + v.byteLength;},0);t=new Uint8Array(r);p.reduce(function(w,v){t.set(new Uint8Array(v),w);return w + v.byteLength;},0);return t.buffer;},r9:h,KBb:function(p,r,t,w){return {min:h(m(p.min,r),t,w),max:h(m(p.max,r),t,w),kB:h(p.kB || 6E4,0,6E5),DXa:h(p.DXa || 0,-3E5,3E5),scale:h(p.scale || 6E4,0,3E5),Odb:h(p.Odb || 0,-3E5,3E5),gamma:h(p.gamma || 1,.1,10)};},kh:function(p,r){void 0 !== p && n.BYb(p).forEach(function(t){r(t[0],t[1]);});},sra:function(p,r,t){return p.min + (p.max - p.min) * (1 - Math.pow(l(6 * (r - (p.kB + (p.DXa || 0) * (1 - t))) / (p.scale + (p.Odb || 0) * (1 - t))),p.gamma));},WIb:function(p,r){return p.min + (p.max - p.min) * Math.pow(l(6 * (r - p.kB) / p.scale),p.gamma);},Bgc:d,rLb:f,EOb:g,zgc:k,ugc:c,tgc:function(p,r){var t;if(p.length == r.length){t=c(p,r);p=k(p);r=k(r);if(0 < p && 0 < r)return t / (p * r);}return !1;},jk:function(p,r,t){return r.tZa?r.tZa(t):new p.Console("ASEJS","media|asejs",r.prefix?r.prefix + " " + t:t);},T2b:function(p){return p.length?"{" + p + "} ":"";},H2b:function(p,r,t){return {min:p.min * t + (1 - t) * r.min,max:p.max * t + (1 - t) * r.max,kB:p.kB * t + (1 - t) * r.kB,scale:p.scale * t + (1 - t) * r.scale,gamma:p.gamma * t + (1 - t) * r.gamma};},tanh:Math.tanh || (function(p){var r;r=Math.exp(+p);p=Math.exp(-p);return Infinity == r?1:Infinity == p?-1:(r - p) / (r + p);}),oBa:l,az:function(p){var r;r=p.eb.Ab.G.id;return {da:p.da,duration:p.duration,offset:p.offset,ga:p.ga,bitrate:p.bitrate,profile:p.profile,Qc:p.Qc,ea:r,Za:p.Za,Pe:p.Pe,location:p.location,ij:p.ij,il:p.il,fu:{Ab:{G:{id:r}}}};}};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.av="6674654e-696c-5078-6966-665374726d21";b.bv="6674654e-696c-4878-6165-6465722e7632";b.GD="6674654e-696c-5078-6966-66496e646578";b.Hp="6674654e-696c-4d78-6f6f-6653697a6573";b.Gp="6674654e-696c-5378-6565-6b506f696e74";b.OD="cedb7489-e77b-514c-84f9-7148f9882554";b.ND="524f39a2-9b5a-144f-a244-6c427c648df4";b.$u="6674654e-696c-4678-7261-6d6552617465";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.av="6674654e-696c-5078-6966-665374726d21";b.bv="6674654e-696c-4878-6165-6465722e7632";b.GD="6674654e-696c-5078-6966-66496e646578";b.Hp="6674654e-696c-4d78-6f6f-6653697a6573";b.Gp="6674654e-696c-5378-6565-6b506f696e74";b.OD="cedb7489-e77b-514c-84f9-7148f9882554";b.ND="524f39a2-9b5a-144f-a244-6c427c648df4";b.$u="6674654e-696c-4678-7261-6d6552617465";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.hT=b.Ojb=b.Zga=b.$ga=void 0;(function(a){a[a.S_a=0]="downloading";a[a.AHb=1]="downloaded";a[a.cf=2]="appended";a[a.buffered=3]="buffered";a[a.ER=4]="removed";a[a.Ujc=5]="unused";})(b.$ga || (b.$ga={}));(function(a){a[a.waiting=1]="waiting";a[a.lic=2]="ondeck";a[a.S_a=4]="downloading";a[a.AHb=8]="downloaded";a[a.ZZ=6]="inprogress";})(b.Zga || (b.Zga={}));b.Ojb="AseBufferViewSymbol";b.hT="AseBufferAccountingSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hja=b.so=void 0;q=b.so || (b.so={});q.aI="PRE_FETCH";q.Zpb="QC";q.Ar="STANDARD";q.u6="SUPPLEMENTAL";q.rac="DOWNLOAD";b.Hja="PboManifestCommandSymbol";},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.B4a=b.Bhb=b.Nw=b.Sca=b.t9a=void 0;q=a(1169);c=a(1172);k=a(1193);a=a(1197);b.t9a=q;b.Sca=function(g,f){return (0,b.t9a)(function(d,h){return void 0 !== h?h:d;},g,f);};b.Nw=c;b.Bhb=k;b.B4a=a;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.av="6674654e-696c-5078-6966-665374726d21";b.bv="6674654e-696c-4878-6165-6465722e7632";b.GD="6674654e-696c-5078-6966-66496e646578";b.Hp="6674654e-696c-4d78-6f6f-6653697a6573";b.Gp="6674654e-696c-5378-6565-6b506f696e74";b.OD="cedb7489-e77b-514c-84f9-7148f9882554";b.ND="524f39a2-9b5a-144f-a244-6c427c648df4";b.$u="6674654e-696c-4678-7261-6d6552617465";},function(q,b,a){var m,l,n,p,r,t,w,v,u,x,y,z,A;function c(){this.ug=(0,t.dk)("Http");this.Kl=new m.El();this.uI=0;this.kc={ssl:0,"non-ssl":0,invalid:0};this.n6={nn:1,brb:2,rEa:3};this.addEventListener=this.Kl.addListener;this.removeEventListener=this.Kl.removeListener;}function k(B){var D,C,F,G;D=B.url.split("?");C="sc=" + B.M2b;F=B.jXa?"random=" + (1E17 * (0,u.lU)()).toFixed(0):"";G=D[0];G=D[1]?G + ("?" + D[1] + "&" + C):G + ("?" + C);G+=F?"&" + F:"";B.Hc && !(0,n.Uba)(G) && (B=l.config && l.config.cpa) && (G=B.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));return G;}function g(B,D){var C,F,G;C=B.url.split("?");F=f(B);G=C[0];F && (D.ou=F,(void 0 === B.Iu?l.config.Iu:B.Iu) || B.xu !== z.oja?(B.headers=B.headers || ({}),B.headers.Range="bytes=" + F):(D.ou=F,G="/" === G[G.length - 1]?G + "range/":G + "/range/",G+=F));F=B.jXa?"random=" + (1E17 * (0,u.lU)()).toFixed(0):"";l.config.BB && B.ufa && (F="sc=" + B.ufa + (F?"&" + F:""));G=C[1]?G + ("?" + C[1] + (F?"&" + F:"")):G + (F?"?" + F:"");B.Hc && !(0,n.Uba)(G) && (B=l.config && l.config.cpa) && (G=B.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));D.url=G;}function f(B){var D;D=B.offset;if(void 0 !== D)return ((0,w.LX)(D),void 0 !== B.length?(B=D + B.length - 1,(0,w.LX)(B),D + "-" + B):D + "-");}function d(B,D,C,F){var G,E;G=F.vbb;E=F.headers;B.open(G?"POST":"GET",D,!C);switch(F.responseType){case b.OZ:B.responseType="arraybuffer";break;case b.tua:(0,v.vXa)(B,"overrideMimeType",void 0,"text/xml");}G && (D={"Content-Type":(0,y.Ag)(G)?"text/plain":"application/x-octet-stream"},E=E?(0,v.Ke)(D,E):D);E && (0,v.kh)(E,function(I,K){B.setRequestHeader(I,K);});F.withCredentials && (B.withCredentials=!0);G?B.send(G):B.send();}function h(B,D){switch(D.type){case b.OZ:return B.response || new ArrayBuffer(0);case b.tua:return B.responseXML;default:return B.responseText;}}Object.defineProperty(b,"__esModule",{value:!0});b.OZ=b.tua=b.sua=b.VPb=b.vua=b.UPb=b.k5a=b.kba=b.Bf=b.crb=b.drb=b.TPb=b.uua=b.QPb=b.RPb=b.PPb=b.SPb=void 0;m=a(75);l=a(19);q=a(16);n=a(46);p=a(63);r=a(3);t=a(9);w=a(24);v=a(26);u=a(11);x=a(62);y=a(14);z=a(72);A=a(1278);c.prototype.G4b=function(B){var D;D=new XMLHttpRequest();B=k(B);D.open("HEAD",B);D.onreadystatechange=function(){2 === D.readyState && !1;};D.send();};c.prototype.download=function(B,D){var P,N,J,M,O,Q,T,V,da,pa,xa,ya,sa,X;function C(){var S;if(!T){T=!0;X && (pb.clearTimeout(X),X=null);P.Kl.removeListener(b.vua,I);ya && (ya.onloadstart=null,ya.onreadystatechange=null,ya.onprogress=null,ya.onerror=null,ya.onload=null,ya=ya.onabort=null);xa.fa || (xa.Ea != r.S.AD?J.warn("Download failed",Q,(0,r.hA)(xa)):J.trace("Download aborted",Q));S=V;V=null;null === S || void 0 === S?void 0:S.reduceRight(function(R,W){(0,x.wg)(function(){return W(xa);});},null);P.Kl.rd(b.k5a,xa,!0);}}function F(){X && (pb.clearTimeout(X),X=null);X=pb.setTimeout(K,sa?O:M);}function G(S,R,W,ia){var za,Ra;xa.fa=!1;xa.Ea=S;za=(0,p.No)();Ra=xa.Km;Ra.nj=Ra.nj || za;Ra.Zq=Ra.Zq || za;R && 0 < R && (xa.Wl=R,xa.Xf=R.toString());W && (xa.ac=W);ia && (xa.LG=ia);S !== r.S.TT && S !== r.S.KH && S !== r.S.WT || !ya || (ya.onabort=null,L());C();}function E(S){var R,W;try{W=S.getResponseHeader("X-Netflix.Retry.Server.Policy");W && (R=JSON.parse(W));}catch(ia){!1;}return R;}function I(){(0,b.uua)() || G(r.S.TT);}function K(){G(sa?r.S.KH:r.S.WT);}function L(){try{null === ya || void 0 === ya?void 0:ya.abort();}catch(S){}}function H(){G(r.S.AD);}P=this;(0,w.Db)(D);J=(null === (N=null === B || void 0 === B?void 0:B.j) || void 0 === N?0:N.log)?(0,t.hj)(B.j,"Http"):this.ug;M=B.z9 || l.config.z9;O=B.Exa || l.config.Exa;Q={Num:this.uI++};T=!1;V=[D];da={};this.Kwb(B);xa=new A.CIa(B,L,K,da,function(S){T || ((0,w.Db)(V,"Callback should be added before download starts."),V && V.unshift(S));});sa=!1;(0,x.wg)(function(){var S,R;if((0,y.Ava)(B.url))try{if((g(B,xa),pa=xa.url,(0,w.MX)(pa),Q.Url=pa,(0,b.uua)())){!1;ya=new XMLHttpRequest();S=l.config.J8b && "undefined" != typeof ya.onloadstart;S && (ya.onloadstart=function(){var W;W=(0,p.No)();da.Is=W;xa.D0({mediaRequest:B,timestamp:W});});ya.onreadystatechange=function(){2 === (null === ya || void 0 === ya?void 0:ya.readyState) && (sa=!0,da.nj=(0,p.No)(),ya.onreadystatechange=null,F(),!1,P.Cvb(xa,ya),xa.E0({timestamp:da.nj,connect:!0,mediaRequest:B,start:da.Is,rt:[da.nj - da.Is]}));};ya.onprogress=function(W){sa=!0;da.zX=W.loaded;F();W={mediaRequest:B,bytes:W.loaded,timestamp:(0,p.No)(),bytesLoaded:W.loaded};xa.E0(W);};ya.onload=function(W){!T && ya && ((0,w.Db)(void 0 === da.Zq),da.Zq=(0,p.No)(),da.nj=da.nj || da.Zq,da.zX=W.loaded,200 <= ya.status && 299 >= ya.status?(W=h(ya,xa),xa.parsed=!1,xa.content=W,xa.fa=!0):420 === ya.status?G(r.S.VT,ya.status):G(r.S.UT,ya.status,ya.response,E(ya)),C());};ya.onabort=H;ya.onerror=function(){var W,ia;if(ya){W=ya.status;"undefined" !== typeof l.config.E1a && (W=l.config.E1a);if(0 < W){if(420 === W)G(r.S.VT,W);else {try{ia=ya.responseText;}catch(za){}G(r.S.UT,W,ia,E(ya));}}else G(r.S.XT);}};R=(0,p.No)();d(ya,pa,!1,B);P.Kl.rd(b.kba,xa,!0);S || (da.Is=R,xa.D0({mediaRequest:B,timestamp:R}));F();P.Kl.addListener(b.vua,I);}else (0,x.wg)(G.bind(void 0,r.S.TT));}catch(W){J.error("Exception starting download",W,Q);G(r.S.wia,void 0,(0,v.hf)(W));}else G(r.S.gIa);});return xa;};c.prototype.I_b=function(B){var D,C,F;D=new XMLHttpRequest();C=B.url;F=B.F_b;D.open("HEAD",C);D.timeout=Math.max(2 * F.FTb,l.config.iza);D.onreadystatechange=function(){2 === D.readyState && (!1,F && F.bR({url:C}));};D.ontimeout=D.onerror=function(){!1;F && F.Mxa({url:C});};D.send();};c.prototype.Kwb=function(B){var D;try{D=B.url;(0,y.Ava)(D)?0 === D.indexOf("https")?this.kc.ssl++:0 === D.indexOf("http")?this.kc["non-ssl"]++:this.kc.invalid++:this.kc.invalid++;}catch(C){}};c.prototype.Cvb=function(B,D){var C;C={};D.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach(function(F){var G;G=ra(F.split(": "));F=G.next().value;G=ea(G).join(": ");F && (C[F]=G);});B.headers=C;};b.SPb=k;b.PPb=function(B){var D,C,F,G;D=B.url.split("?");C="bb_reason=" + B.reason;F=B.jXa?"random=" + (1E17 * (0,u.lU)()).toFixed(0):"";G=D[0];G=D[1]?G + ("?" + D[1] + "&" + C):G + ("?" + C);G+=F?"&" + F:"";B.Hc && !(0,n.Uba)(G) && (B=l.config && l.config.cpa) && (G=B.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));return G;};b.RPb=g;b.QPb=f;b.uua=q.VOa;b.TPb=function(){return !1 !== u.$e.onLine;};b.drb=d;b.crb=h;b.Bf=new c();b.kba=1;b.k5a=2;b.UPb=3;b.vua=4;b.VPb=5;b.sua=b.Bf.n6.nn;b.tua=b.Bf.n6.brb;b.OZ=b.Bf.n6.rEa;pb._cad_global.http=b.Bf;},function(q,b,a){b=a(215);q.exports=b.call(Function.call,Object.prototype.hasOwnProperty);},function(q,b,a){var c;c=a(673);q.exports=function(k){return "symbol" === typeof k?"Symbol":"bigint" === typeof k?"BigInt":c(k);};},function(q,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.bI="PlatformConfigDefaultsSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.dGa="DebugConfigSymbol";b.bA="DebugSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.dia="EventSourceSymbol";b.gia="GlobalEventSourceSymbol";b.E4="DebugEventSourceSymbol";b.qGa="DiagnosticsEventSourceSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.gN="ThrottleFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.MM="LoggerSinksSymbol";},function(q){var m,l,n,p;function b(){b.xa.call(this);}function a(r){if("function" !== typeof r)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof r);}function c(r,t,w,v){var u,x;a(w);u=r.yh;if(void 0 === u)(u=r.yh=Object.create(null),r.zI=0);else {void 0 !== u.gic && (r.emit("newListener",t,w.listener?w.listener:w),u=r.yh);x=u[t];}void 0 === x?(u[t]=w,++r.zI):("function" === typeof x?x=u[t]=v?[w,x]:[x,w]:v?x.unshift(w):x.push(w),w=void 0 === r.IV?b.nGb:r.IV,0 < w && x.length > w && !x.v9b && (x.v9b=!0,w=Error("Possible EventEmitter memory leak detected. " + x.length + " " + String(t) + " listeners added. Use emitter.setMaxListeners() to increase limit"),w.name="MaxListenersExceededWarning",w.It=r,w.type=t,w.count=x.length,console && console.warn && console.warn(w)));return r;}function k(){if(!this.t1a)return (this.target.removeListener(this.type,this.ajb),this.t1a=!0,0 === arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments));}function g(r,t,w){r={t1a:!1,ajb:void 0,target:r,type:t,listener:w};t=k.bind(r);t.listener=w;return r.ajb=t;}function f(r){var t;t=this.yh;if(void 0 !== t){r=t[r];if("function" === typeof r)return 1;if(void 0 !== r)return r.length;}return 0;}function d(r,t,w){"function" === typeof r.on && h(r,"error",t,w);}function h(r,t,w,v){if("function" === typeof r.on){if(v.once)r.once(t,w);else r.on(t,w);}else if("function" === typeof r.addEventListener)r.addEventListener(t,function y(x){v.once && r.removeEventListener(t,y);w(x);});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof r);}m="object" === typeof Reflect?Reflect:null;l=m && "function" === typeof m.apply?m.apply:function(r,t,w){return Function.prototype.apply.call(r,t,w);};n=Number.isNaN || (function(r){return r !== r;});q.exports=b;q.exports.once=function(r,t){return new Promise(function(w,v){function u(y){r.removeListener(t,x);v(y);}function x(){"function" === typeof r.removeListener && r.removeListener("error",u);w([].slice.call(arguments));}h(r,t,x,{once:!0});"error" !== t && d(r,u,{once:!0});});};b.EventEmitter=b;b.prototype.yh=void 0;b.prototype.zI=0;b.prototype.IV=void 0;p=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return p;},set:function(r){if("number" !== typeof r || 0 > r || n(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + r + ".");p=r;}});b.xa=function(){if(void 0 === this.yh || this.yh === Object.getPrototypeOf(this).yh)(this.yh=Object.create(null),this.zI=0);this.IV=this.IV || void 0;};b.prototype.setMaxListeners=function(r){if("number" !== typeof r || 0 > r || n(r))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + r + ".");this.IV=r;return this;};b.prototype.emit=function(r){var v,u;for(var t=[],w=1;w < arguments.length;w++){t.push(arguments[w]);}v="error" === r;w=this.yh;if(void 0 !== w)v=v && void 0 === w.error;else if(!v)return !1;if(v){0 < t.length && (u=t[0]);if(u instanceof Error)throw u;t=Error("Unhandled error." + (u?" (" + u.message + ")":""));t.context=u;throw t;}w=w[r];if(void 0 === w)return !1;if("function" === typeof w)l(w,this,t);else {u=w.length;v=Array(u);for(var x=0;x < u;++x){v[x]=w[x];}for(w=0;w < u;++w){l(v[w],this,t);}}return !0;};b.prototype.addListener=function(r,t){return c(this,r,t,!1);};b.prototype.on=b.prototype.addListener;b.prototype.i1=function(r,t){return c(this,r,t,!0);};b.prototype.once=function(r,t){a(t);this.on(r,g(this,r,t));return this;};b.prototype.Gbb=function(r,t){a(t);this.i1(r,g(this,r,t));return this;};b.prototype.removeListener=function(r,t){var w,v,u,x,y;a(t);v=this.yh;if(void 0 === v)return this;u=v[r];if(void 0 === u)return this;if(u === t || u.listener === t)0 === --this.zI?this.yh=Object.create(null):(delete v[r],v.removeListener && this.emit("removeListener",r,u.listener || t));else if("function" !== typeof u){x=-1;for(w=u.length - 1;0 <= w;w--){if(u[w] === t || u[w].listener === t){y=u[w].listener;x=w;break;}}if(0 > x)return this;if(0 === x)u.shift();else {for(;x + 1 < u.length;x++){u[x]=u[x + 1];}u.pop();}1 === u.length && (v[r]=u[0]);void 0 !== v.removeListener && this.emit("removeListener",r,y || t);}return this;};b.prototype.zC=b.prototype.removeListener;b.prototype.removeAllListeners=function(r){var t,w,v;t=this.yh;if(void 0 === t)return this;if(void 0 === t.removeListener)return (0 === arguments.length?(this.yh=Object.create(null),this.zI=0):void 0 !== t[r] && (0 === --this.zI?this.yh=Object.create(null):delete t[r]),this);if(0 === arguments.length){w=Object.keys(t);for(t=0;t < w.length;++t){v=w[t];"removeListener" !== v && this.removeAllListeners(v);}this.removeAllListeners("removeListener");this.yh=Object.create(null);this.zI=0;return this;}w=t[r];if("function" === typeof w)this.removeListener(r,w);else if(void 0 !== w)for(t=w.length - 1;0 <= t;t--){this.removeListener(r,w[t]);}return this;};b.prototype.listeners=function(r){var t;t=this.yh;if(void 0 === t)r=[];else if((r=t[r],void 0 === r))r=[];else if("function" === typeof r)r=[r.listener || r];else {t=Array(r.length);for(var w=0;w < t.length;++w){t[w]=r[w].listener || r[w];}r=t;}return r;};b.listenerCount=function(r,t){return "function" === typeof r.listenerCount?r.listenerCount(t):f.call(r,t);};b.prototype.listenerCount=f;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});q=a(260);c=a(161);b.YFa=c;c=a(436);b.mI=c;c=a(440);b.lWa=c;b.HU=q.mk.Ba.sidx;q=a(963);b.uo=q.uo;q=a(268);b.mm=q.mm;q=a(968);b.kn=q.kn;b.bu=q.bu;q=a(969);b.lA=q.lA;q=a(88);b.Uk=q.Uk;a=a(970);b.oi=a.oi;},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r;Object.defineProperties(b,{__esModule:{value:!0}});b.h4=b.Qj=void 0;c=a(1);q=c.__importDefault(a(13));k=c.__importStar(a(10));g=q.default.Fg;f=c.__importDefault(a(5));d=f.default.Zs;h=a(185);m=c.__importDefault(a(153));l=a(8);q=a(39);n=a(191);p=a(189);(function(t){t[t.Gob=0]="NOTHING_APPENDED";t[t.$ob=1]="PARTIAL";t[t.Dx=2]="COMPLETE";t[t.rg=3]="ERROR";})(r=b.Qj || (b.Qj={}));a=(function(t){function w(v,u,x,y,z,A,B){u=t.call(this,u,x) || this;n.vH.xa(u,v,y,z,A,B);p.zx.xa(u,v,y);u.wtb=! !y.Qc;u.hrb=v.Y3a(u.Qc,u.FK);u.Uka=y.responseType;u.grb=y.ufa;void 0 === u.Uka && (u.Uka=d.dd && !d.dd.Y1.GU?0:1);u.vj=new g();u.vj.on(u,d.tf.VLa,u.zma);u.vj.on(u,d.tf.ULa,u.Rub);u.vj.on(u,d.tf.WLa,u.Uub);u.vj.on(u,d.tf.uU,u.yma);u.vj.on(u,d.tf.ZH,u.JV);u.kN=!1;u.wf=!1;u.wn=!1;u.Vp=!1;u.rV=!1;u.Rvb=y.U1;u.dwb=y.OG;u.iu=0;return u;}c.__extends(w,t);Object.defineProperties(w.prototype,{Qc:{get:function(){return this.wtb;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{active:{get:function(){return this.wf;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Gza:{get:function(){return this.wn;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{complete:{get:function(){return !this.kN && 5 === this.readyState;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{aborted:{get:function(){return this.kN;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{kva:{get:function(){return this.Vp && !this.rV;},enumerable:!1,configurable:!0}});w.prototype.xa=function(v){var u;n.vH.prototype.xa.call(this,v);if(!this.Tp && (this.Kf.una || !this.Qc) && (v=this.Tp=m.default.instance(),this.active)){u=f.default.time.ma();v.KR(u,this.JG);this.wn && (v.fdb(),u=this.yL,this.connect && 0 < u.length && v.$A(u[0]));}};w.prototype.Vt=function(){return this.cf || 1 !== this.responseType?5 === this.readyState:3 <= this.readyState;};w.prototype.hJ=function(v,u,x,y){this.cf=v.appendBuffer(y || this.response,x || l.az(this));return {status:this.cf?r.Dx:r.rg};};w.prototype.gR=function(){(this.Vp=d.prototype.open.call(this,this.hrb,{start:this.offset,end:this.offset + this.ga - 1},this.Uka,{},void 0,void 0,this.grb,this.stream.xu)) && this.PY(this);return this.Vp;};w.prototype.abort=function(){var v,u;if(this.aborted)return !0;v=this.wf;u=this.Tp;u && v && u.Q1(f.default.time.ma(),this.wn,this.JG);this.kN=!0;this.wn=this.wf=!1;d.prototype.abort.call(this);this.JP(this,v,this.kva);return !0;};w.prototype.sd=function(){7 !== this.readyState && 5 !== this.readyState && (this.J.warn("AseMediaRequest: in-progress request should be aborted before cleanup",this.toString()),this.abort());this.vj && this.vj.clear();t.prototype.sd.call(this);};w.prototype.zma=function(){var v,u;v=this.$f || this.loadTime;h.$z.instance().push(f.default.time.ma() - v);if(!this.wf){this.wf=!0;this.Aw=this.track.Aw();if(!this.stream.K.J8a){u=this.Tp;u && u.KR(v,this.JG);}this.KP(this);this.Ww=this.$f;}};w.prototype.Rub=function(){var v,u,x,y;v=this.$f || this.Tra;u=this.connect;x=this.yL;h.$z.instance().push(f.default.time.ma() - v);this.wf || (this.wf=!0);if(!this.wn){this.wn=!0;y=this.Tp;this.stream.K.J8a && y && y.KR(v,this.JG);y && y.fdb();u && 0 < x.length && y && y.$A(x[0]);this.tF(this);this.Ww=v;}};w.prototype.Uub=function(){var v,u,x;v=this.$f;u=this.bytesReceived - this.iu;h.$z.instance().push(f.default.time.ma() - v);this.wn || (this.wn=!0);x=this.Tp;x && (void 0 === this.Ww || x.zE(u,this.Ww,v,this.JG),(u=this.yL) && u.length && u.forEach(function(y){x.ZA(y);}));this.TJ(this);this.Ww=v;this.iu=this.bytesReceived;};w.prototype.yma=function(){var v,u,x;v=this.$f;u=this.bytesReceived - this.iu;h.$z.instance().push(f.default.time.ma() - v);x=this.Tp;x && (0 < u && x.zE(u,this.Ww,v,this.JG),(u=this.yL) && u.length && u.forEach(function(y){x.ZA(y);}),x.Q1(v,this.wn,this.JG));this.wn=this.wf=!1;this.rV=!0;this.ew(this);this.Ww=v;this.iu=this.bytesReceived;this.sd();};w.prototype.Xsb=function(){var v,u;v=(v=this.stream)?v.toString():this.url;u=this.JO;u && (v+=",range " + u.start + "-" + u.end);return v;};Object.defineProperties(w.prototype,{JG:{get:function(){return {requestId:this.Xsb(),ll:this.Pe,type:this.mediaType,U1:this.Rvb,ga:this.ga,bytesReceived:this.bytesReceived,OG:this.dwb};},enumerable:!1,configurable:!0}});w.prototype.JV=function(){var v,u,x,y;this.J.warn("AseMediaRequest._onError:",this.toString());v=this.$f;u=this.status;x=this.Zh;y=this.nk;h.$z.instance().push(f.default.time.ma() - v);this.complete?this.J.warn("Error on a done request " + this.toString() + ", failurecode: " + x):this.aborted?this.J.warn("Error on an aborted request " + this.toString() + ", failurecode: " + x):k.Oa(x)?((x=this.Tp) && this.Kf && this.Kf.Yza && this.loadTime && void 0 === u && x.zE(this.iu?this.bytesReceived - this.iu:this.bytesReceived,this.Ww?this.Ww:this.loadTime,v,this.JG),this.V$(this)):this.J.warn("ignoring undefined request error (nativecode: " + y + ")");};return w;})(d);b.h4=a;q.Xe(n.vH,a,!1);q.Xe(p.zx,a,!1);},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.UH="ManifestFetcherSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.pI="VideoPreparerSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.$M=b.fI=void 0;q=b.fI || (b.fI={});q.Cbc="ident";q.Via="main";q.fFa="credits";b.$M="PlaygraphHelperSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.op=void 0;b.op=function(a,c){return [].concat.apply([],ka(a)).map(function(k){return Object.assign({name:k},null !== c && void 0 !== c?c:{});});};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.qmb=b.hn=void 0;q=b.hn || (b.hn={});q[q.FC=0]="playready";q[q.Dga=1]="widevine";q[q.oF=2]="fairplay";q[q.tfc=3]="clearkey";b.qmb="DrmTypeSymbol";},function(q,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.$d=void 0;k=a(30);c.xZa=function(g){var f;f={};f[k.Ff.FU]=c.JT;f[k.Ff.Q4]=c.JT;f[k.Ff.MU]=c.mia;f[k.Ff.HM]=c.HM;f[k.Ff.Ex]=g || c.Ex;f[k.Ff.oD]=c.JT;f[k.Ff.VD]=c.PU;f[k.Ff.lm]=c.lm;return f;};b.$d=c;c.kxa='video/mp4; codecs="avc1.4d0028"';c.JT="avc1.4d0028";c.mia="hev1.1.6.L93.B0";c.Iha="dvhe.05.01";c.XFa="dvhe.05.04";c.Jha="dvhe.05.05";c.Kha="dvhe.05.06";c.Lha="dvhe.05.07";c.Mha="dvhe.05.09";c.Ex=c.Iha;c.HM=c.mia;c.Lga="mp4a.40.2";c.yA="mp4a.40.42";c.hlb="ec-3";c.PU="vp09.00.11.08.02";c.lm="av01.0.04M.08";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.HGa="DrmServicesSymbol";b.I4="DrmServicesProviderSymbol";},function(q,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.jI=void 0;q=a(2);a=a(0);c.prototype.format=function(g,f){var h;for(var d=1;d < arguments.length;++d){;}h=Array.prototype.slice.call(arguments,1);return g.replace(/{(\d+)}/g,function(m,l){return "undefined" != typeof h[l]?h[l]:m;});};c.prototype.Tfb=function(g){for(var f=g.length,d=new Uint16Array(f),h=0;h < f;h++){d[h]=g.charCodeAt(h);}return d.buffer;};c.prototype.Wfb=function(g){return JSON.stringify(g,null,"  ");};k=c;k=q.__decorate([(0,a.X)()],k);b.jI=k;},function(q,b,a){var c,k,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.wr=void 0;c=a(1);k=c.__importDefault(a(32));g=c.__importDefault(a(5));f=a(975);q=(function(){function d(h){this.jN=h;this.sf=[];this.console=new g.default.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(d,{instance:{get:function(){var h;if(void 0 === d.ON){h=a(5).default;d.ON=new d(h.AM);}return d.ON;},enumerable:!1,configurable:!0}});d.reset=function(){d.ON=void 0;};d.prototype.Ov=function(h,m,l,n,p,r){var t,w,v,u;t=!1;w=r.l4b?this.YJb(l,m,h,r.m4b):-1;if(-1 === w){v={track:this.MEb(l,n,h,p,r),xk:l,L:m,ecb:h,BG:[],iq:!1,iP:!1};this.sf.push(v);u=function(){v.iq=!0;v.track.removeListener("created",u);};v.track.on("created",u);t=!1;}else (t=!0,v=this.sf[w]);h=new f.mPa(this.console,v.track,v.iq,t);v.BG.push(h);return h;};d.prototype.hP=function(h){var m,l;h.$r();m=this.JY(function(n){return n.track === h.track;});if(-1 !== m){if((m=this.sf[m],1 === m.BG.length))(m.track.$r(),m.iP=!0);else {l=m.BG.indexOf(h);0 <= l && m.BG.splice(l,1);}}else h.track.$r();};d.prototype.mh=function(){this.jN.mh();};d.prototype.MEb=function(h,m,l,n,p){var r,t,w,v;r=this;t=!1;w=!1;h?1 === l?(h=!1,m=1,p.Bs?(h=!0,m=p.KQ):p.dz && 2 < p.dz && (h=!0,m=p.dz),w=p.qib || !h,w={type:this.jN.Vb,openRange:w,pipeline:h,connections:m,socketBufferSize:p.NS,minRequestSize:p.RQ}):0 === l?(t=p.Bs && (p.E8b || m && p.F8b),w=p.qib || !t,w={type:this.jN.mc,openRange:w,pipeline:t,connections:1,socketBufferSize:p.W8,minRequestSize:p.RQ}):w={type:p.YGb?this.jN.Vb:this.jN.Smb,openRange:!1,pipeline:!0,connections:1,socketBufferSize:p.hua,minRequestSize:p.RQ}:w={type:0 === l?k.default.kb.mc:k.default.kb.Vb,openRange:!1,pipeline:!1,connections:1,socketBufferSize:0 === l?p.W8:p.NS,minRequestSize:p.RQ};v=new this.jN(w,n);v.on("transportreport",function(u){var x;x=r.JY(function(y){return y.track === v;});-1 !== x && (x=r.sf[x],x.BG.length && x.BG[0].emit("transportreport",u));});v.on("mediaRequestComplete",function(u){var x;x=r.JY(function(y){return y.track === v;});-1 !== x && (x=r.sf[x],x.BG.length && x.BG[0].emit("mediaRequestComplete",u));});v.on("destroyed",function(){var u;u=r.JY(function(x){return x.track === v;});-1 !== u && r.sf.splice(u,1);v.removeAllListeners();});if(t && p.D8b || p.sib)v.on("pipelinedisabled",function(){p.sib && 1 === v.config.type?v.Dea(c.__assign(c.__assign({},v.config),{socketBufferSize:p.QVb,pipeline:!1,openRange:!0,connections:1})):v.Dea(c.__assign(c.__assign({},v.config),{pipeline:!1,openRange:!0}));});return v;};d.prototype.YJb=function(h,m,l,n){return this.JY(function(p){return !p.iP && (!n && p.track.config.oic || !h?!p.xk && p.ecb === l:p.xk && p.L === m && p.ecb === l);});};d.prototype.JY=function(h){for(var m=0;m < this.sf.length;++m){if(h(this.sf[m]))return m;}return -1;};return d;})();b.wr=q;},function(q,b,a){(function(c,k){function g(f,d,h,m){this.console=new f("ASEJS_PROGRESS","media|asejs");this.now=d;this.keb=this.c5b=f=this.now();this.v$=f + h;this.dZb=h;this.MZa=f + m;this.debug=!1;this.counter=this.nC=0;this.Cy=1E4;this.Hgb=h / 100;this.Jgb=f;this.Igb=1 * this.Hgb / 4;this.Qfa=0;this.NX="";this.ug(f,"progress tracking start");}g.prototype.constructor=g;g.prototype.ug=function(f,d){var h,m;h=((f - this.keb) / 1E3).toFixed(3);h=("     ").slice(h.length - 4) + h;m=c.qVb();this.console.info(h + (" " + ((this.MZa - f) / 1E3).toFixed(3)) + (" " + Math.round(this.Cy)) + (" M:(" + Math.floor(m.Lgc / 1024 / 1024) + " MB/" + Math.floor(m.b5a / 1024 / 1024) + " MB) ") + this.NX + d);};g.prototype.hwb=function(f){var d;d=this.now();this.NX=f?f + ": ":f;this.nC=0;this.keb=d;this.ug(d,"starting");};g.prototype.Iwb=function(f){var d,h;this.counter++;if(!(this.counter < this.Cy)){this.counter=0;d=this.now();h=d - (this.Jgb + this.Hgb);this.Jgb=d;this.Qfa=.9 * this.Qfa + .1 * h;this.Qfa > this.Igb?(this.Cy*=.875,this.Cy=Math.max(1,this.Cy)):this.Qfa < -this.Igb && (this.Cy*=1.5,this.Cy=Math.min(this.Cy,1E5));if(d >= this.MZa)throw (this.ug("Execution deadline exceeded after " + (d - this.c5b) + " ms" + this.NX),Error("Execution deadline exceeded" + this.NX));h=c.qVb();this.nC=Math.max(this.nC,h.b5a);if(7516192768 < h.b5a)throw Error("Heap total limit exceeded" + this.NX);if(!(d <= this.v$)){for(;d > this.v$;){this.v$+=this.dZb;}this.ug(d,f);}}};g.xa=function(f,d,h,m){k.zG=new g(f,d,h || 5E3,m || 33E5);};g.UAa=function(f){k.zG && k.zG.hwb(f);};g.update=function(f){k.zG && k.zG.Iwb(f);};g.u3a=function(){if(k.zG)return k.zG.nC;};g.now=function(){return k.zG?k.zG.now():Date.now();};q.exports=g;}).call(this,a(281),a(214));},function(q){var b;b={SZ:function(a){for(var c in a){a.hasOwnProperty(c) && (b[c]=a[c]);}}};q.exports=b;},function(q,b,a){var d,h;function c(m){return m instanceof ArrayBuffer || "[object ArrayBuffer]" === Object.prototype.toString.call(m);}function k(m){return d.Ag(m);}function g(m){return d.Oa(m);}function f(m){return !c(m) && !k(m) && !g(m) && !Array.isArray(m) && d.fk(m);}d=a(10);h={DH:0,t6:1,Lob:2,T5:3,wo:4};q.exports={eQ:function(m){return c(m)?h.DH:k(m)?h.t6:g(m)?h.Lob:f(m)?h.T5:h.wo;},Eba:c,Ag:k,Oa:g,fk:f,Ys:h};},function(q,b,a){var g,f,d,h,m,l,n,p;function c(r,t,w,v){var u;return t === m.Lx.iY?(t=f.O.ib,(null === v || void 0 === v?void 0:v.fjc) === p.end && (t=f.O.Sa(null !== (u=w.rj.la.P[r].za) && void 0 !== u?u:0),d.assert(0 < t.V,"EndTime must be non null")),w.ol.kP({offset:t,ea:r}).ea):w.ol.mH({offset:f.O.ib,ea:r}).ea;}function k(r,t,w){return t === m.Lx.HCa?w.ol.mH(r):w.ol.kP(r);}Object.defineProperties(b,{__esModule:{value:!0}});b.qz=void 0;g=a(1);f=a(21);d=a(4);q=a(1109);h=a(288);m=a(199);l=a(34);n=a(1113);a=h.Bdb();a=q.gXa()({G8a:"combinedPlaygraph",PR:{qw:a()({map:k,NE:n.E6a}),Af:a()({map:function(r,t,w,v){var u;u=(null === v || void 0 === v?0:v.Ls)?n.uaa(r,v.Ls):r.position;t=k(u,t,w);r=n.Cpa(r,null === v || void 0 === v?void 0:v.Ls);(null === v || void 0 === v?0:v.Ls)?n.teb(r,v.Ls,t):r.position=t;return r;},NE:function(r,t,w){return (null === w || void 0 === w?0:w.Ls)?n.uaa(r,w.Ls):n.Af(r);}}),pDa:a()({map:function(r,t,w,v){if(t === m.Lx.iY)return r.inner;t=n.Cpa(r,null === v || void 0 === v?void 0:v.Ls);t.inner || (t.inner=r);return t;},NE:function(r,t,w){return (null === w || void 0 === w?0:w.Ls)?"object" === typeof n.uaa(r,w.Ls):"object" === typeof r;}}),ea:a()({map:c,NE:n.J6a}),g2:a()({map:function(r,t,w,v){var u,x;x=null !== (u=r.ea) && void 0 !== u?u:r.segmentId;t=c(x,t,w,v);return r.ea?g.__assign(g.__assign({},r),{ea:t}):g.__assign(g.__assign({},r),{segmentId:t});},NE:n.R4a}),OYa:a()({map:function(r,t,w){t === m.Lx.iY?(r=l.VO(w.rj.la,r.M,r.In,{Rdb:!0}),d.assert(void 0 !== r,"Graph position must exist in ux playgraph"),r=w.ol.kP(r),t=r.ea,r=r.offset,t=w.pd.la.P[t],w=t.M,t=t.ya,r=f.O.Sa(t).add(r)):(r=l.VO(w.pd.la,r.M,r.In,{Rdb:!0}),d.assert(void 0 !== r,"Graph position must exist in combined playgraph"),r=w.ol.mH(r),t=r.ea,r=r.offset,t=w.rj.la.P[t],w=t.M,t=t.ya,r=f.O.Sa(t).add(r));return {In:r,M:w};},NE:n.l6a}),OWa:a()({NE:n.i6a,map:function(r,t,w){var v,u,x,y,z;if(t === m.Lx.iY){t={ea:r.G.id,offset:f.O.ib};x=w.ol.kP(t);t=w.pd.la.P[x.ea];w=w.rj.la.P[r.G.id];y=t.za;z=t.ya;y=null !== (v=y && y - z) && void 0 !== v?v:0;w=r.Cd.add(f.O.Sa(t.ya - w.ya));return {Cd:w,EC:r.Qq.add(f.O.Sa(y)),Qq:r.Qq,G:{id:x.ea,Yd:f.O.Sa(t.ya),Ng:f.O.Sa(null !== (u=t.za) && void 0 !== u?u:0)}};}t={ea:r.G.id,offset:f.O.ib};u=w.ol.mH(t);z=w.wda.xda;t=z.P[r.G.id];x=w.rj.la.P[u.ea];v=f.O.Sa(null !== (y=x.za && x.za - x.ya) && void 0 !== y?y:0);x.za && Infinity !== x.za || (y=w.ol.NMb(u),z=z.P[y],z.za && (v=w.ol.mH({ea:y,offset:f.O.Sa(z.za - z.ya)}).offset));y=r.Qq.Ia(u.offset);z=y.add(v);w=r.Cd.add(f.O.Sa(x.ya - t.ya));r=f.O.Sa(x.ya);t=v.add(r);return {Cd:w,EC:z,Qq:y,G:{id:u.ea,Yd:r,Ng:t}};}})}});(function(r){r[r.Zec=0]="beginning";r[r.end=1]="end";})(p || (p={}));b.qz=a;},function(q,b,a){var c;c=a(201);q.exports=function(k){return function d(f){return 0 === arguments.length || c(f)?d:k.apply(this,arguments);};};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.D6=void 0;b.Br={ZM:"PRIMARY",Qga:"ASSISTIVE",ZEa:"COMMENTARY",NONE:"NONE"};b.D6={assistive:b.Br.Qga,closedcaptions:b.Br.Qga,directorscommentary:b.Br.ZEa,commentary:b.Br.ZEa,subtitles:b.Br.ZM,primary:b.Br.ZM,none:b.Br.NONE};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.OM="ManifestFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gl=void 0;q=b.Gl || (b.Gl={});q.iq="created";q.Iz="started";q.qS="succeeded";q.Zv="failed";q.Vh="cancelled";q.SAb="cancelled_on_start";q.$oa="cancelled_not_encrypted";},function(q,b){var c;function a(k,g){var f;f=this;this.Mla=[];c.forEach(function(d){(d=d(k,g)) && f.Mla.push(d);});}Object.defineProperty(b,"__esModule",{value:!0});b.SM=b.nLa=void 0;c=[];a.prototype.Fz=function(k){var d;for(var g=[],f=this.Mla.length;f--;){d=this.Mla[f];d.Fz(k) && g.push(d.CY);}if(g.length)return g;};b.nLa=a;b.SM=function(k){c.push(k);};},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t,w,v,u,x,y;function c(z){var A,B;A=this;this.bea=new y.Xja();this.createPlaygraphPlayer=function(D,C,F){var G;D=w.lOa.encode(D);G=d.Ga.get(v.OM);F=F?G.create(F):void 0;G=d.Ga.get(p.aka).create(D);return G.lFb(D.xe,A.bea.Iwa(A.rWa(C,G.Lsa())),F);};this.closeAllPlayers=function(D){D=void 0 === D?function(){}:D;(0,f.Tja)(D);};this.init=function(D){A.BE.A_(function(C){C.fa?A.f3b().then(function(){(0,k.yNa)();}).catch(function(F){d.log.error("Unable to initialize the playdata services",F);}).then(function(){Object.assign(A,c.zO);D(Object.assign({success:!0},c.zO));}):D({success:!1,error:(0,d.bOa)(C.errorCode || m.W.zia,C)});});};this.applyConfig=function(D){A.Qhb(D);(0,g.Npa)(D);};this.prepare=function(D,C){var F;D=A.Cbb.IGb(D) || [];F=new Set();D=D.filter(function(G){var E;E=F.has(G.L);F.add(G.L);return !E;});if(g.config.Vw && A.Zd)try{A.Zd.kL(D,C);}catch(G){d.log.warn("Prepare call failed",G);}};this.ppmUpdate=function(D){pb._cad_global.playerPredictionModel?(D=A.Cbb.KGb(D)) && pb._cad_global.playerPredictionModel.update(D):d.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(D){(0,d.RP)().O2().then(function(C){return D(C.result);}).catch(function(){return D(!1);});};this.supportsUltraHd=function(D){(0,d.RP)().P2().then(D).catch(function(){return D(!1);});};this.supportsDolbyAtmos=function(D){(0,d.RP)().M2().then(D).catch(function(){return D(!1);});};this.supportsDolbyVision=function(D){(0,d.RP)().Lfa().then(function(C){return D(C.result);}).catch(function(){return D(!1);});};this.close=function(){};this.isSeamlessEnabled=function(){return g.config.wIb;};this.Qhb(z);d.Ga.get(x.JDa);this.Cbb=d.Ga.get(h.ANa);this.BE=d.Ga.get(t.sj);B=d.Ga.get(u.vNa).apply();(0,g.EYa)([z],B);this.Zd=d.Ga.get(r.pI);(0,d.RP)().P2();}Object.defineProperty(b,"__esModule",{value:!0});b.qI=void 0;k=a(333);g=a(19);f=a(65);d=a(9);h=a(579);m=a(3);l=a(37);n=a(169);p=a(338);r=a(125);t=a(40);w=a(47);v=a(139);u=a(360);x=a(554);y=a(626);c.prototype.rWa=function(z,A){var B,D,C,F;z=void 0 === z?{}:z;F=null !== (D=null === (B=z.playbackState) || void 0 === B?void 0:B.currentTime) && void 0 !== D?D:A.ya;return Object.assign(Object.assign({startPts:F,uiPlayStartTime:Date.now()},z),{endPts:null !== (C=A.za) && void 0 !== C?C:void 0,isPlaygraph:!0});};c.prototype.Qhb=function(z){d.Ga.get(l.aU).rVb(z);};c.prototype.f3b=function(){return d.Ga.get(n.yU)().catch(function(z){d.log.error("Unable to initialize the playdata services",z);throw z;}).then(function(z){return z.send(Infinity);}).catch(function(z){d.log.error("Unable to send deferred playdata",z);});};b.qI=c;c.zO={};},function(q,b,a){var c,k,g;c=a(48);k=a(644);g=k(c("String.prototype.indexOf"));q.exports=function(f,d){d=c(f,! !d);return "function" === typeof d && -1 < g(f,".prototype.")?k(d):d;};},function(q,b,a){var h;function c(m){return "function" === typeof m?m.name:"symbol" === typeof m?m.toString():m;}function k(m,l){return null === m.BC?!1:m.BC.th === l?!0:k(m.BC,l);}function g(m){function l(n,p){var r;void 0 === p && (p=[]);r=c(n.th);p.push(r);return null !== n.BC?l(n.BC,p):p;}return l(m).reverse().join(" --\x3e ");}function f(m){m.npa.forEach(function(l){if(k(l,l.th))throw (l=g(l),Error(h.Kkb + " " + l));f(l);});}function d(m){var l;if(m.name)return m.name;m=m.toString();l=m.match(/^function\s*([^\s(]+)/);return l?l[1]:"Anonymous function: " + m;}Object.defineProperty(b,"__esModule",{value:!0});h=a(60);b.ZP=c;b.M7a=function(m,l,n){var p;p="";m=n(m,l);0 !== m.length && (p="\nRegistered bindings:",m.forEach(function(r){var t;t="Object";null !== r.Rn && (t=d(r.Rn));p=p + "\n " + t;r.yJ.v9a && (p=p + " - " + r.yJ.v9a);}));return p;};b.GBb=f;b.cTb=function(m,l){var n,p;if(l.wva() || l.iva()){n="";p=l.gNb();l=l.TLb();null !== p && (n+=p.toString() + "\n");null !== l && l.forEach(function(r){n+=r.toString() + "\n";});return " " + m + "\n " + m + " - " + n;}return " " + m;};b.getFunctionName=d;},function(q,b,a){var k,g,f,d;function c(h,m){var l,n,p,r,t,w;l=h.lC;n=h.SQ;h=h.kR;p=m.lC;r=m.SQ;m=m.kR;t=void 0 === l || void 0 === p;w=t || void 0 === n || void 0 === r;return t || l > p || l === p && (w || n > r) || l === p && n === r && (w || void 0 === h || void 0 === m || h >= m);}Object.defineProperty(b,"__esModule",{value:!0});b.OP=b.PP=b.hSb=b.Gba=b.e_=void 0;k=a(6);g=a(101);f=a(45);d=a(127);b.e_=function(h,m,l,n){return c({lC:h.lYb,SQ:h.mYb,kR:h.nYb},{lC:m,SQ:l,kR:n});};b.Gba=function(h,m){return c({lC:h.Ur},{lC:m});};b.hSb=c;b.PP=function(){return {version:"6.0036.280.911",jda:!0,MP:!0,Fqa:"browser",e_a:["en-US"],pwa:"",dY:"cadmium",zib:!0,B8:!0,E1:!1};};b.OP=function(){return {jJ:(0,d.op)([f.ke.IH,f.ke.JH]),oo:(0,d.op)([f.H.GH,f.H.HH,f.H.KT,f.H.MT,f.H.LT,f.H.NT,f.H.QU,f.H.RU]),Sn:g.Kb.BRa,mC:(0,k.Vc)(31E3)};};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.mU="MediaKeysStorageFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.z6=b.zr=void 0;b.zr=function(){};b.z6="StringObjectReaderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.uQa="SystemRandomSymbol";b.o6="RandomGeneratorSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.AU="PlayerErrorFactorySymbol";},function(q,b){function a(k){return k && "object" === typeof k?Array.isArray(k)?k.map(a):Object.keys(k).reduce(function(g,f){g[f]=a(k[f]);return g;},{}):k;}function c(k,g){return Object.keys(k).reduce(function(f,d){return (f[g[d] || d]=k[d],f);},{});}Object.defineProperty(b,"__esModule",{value:!0});b.Rx=void 0;q=(function(){function k(g){g && (this.IL(g.xe),this.iBa(g.ye),this.cBa(g.P));}k.prototype.IL=function(g){this.xe=g;return this;};k.prototype.iBa=function(g){this.ye=g;return this;};k.prototype.zeb=function(g){this.Qd=g;return this;};k.prototype.Dh=function(g,f,d){this.P || (this.P={});this.P[g]=a(f);if(d){g=this.P[g];if(f=g.next)g.next=c(f,d);g.vc && d[g.vc] && (g.vc=d[g.vc]);}return this;};k.prototype.cBa=function(g,f,d){void 0 === f && (f=function(){return !0;});this.P={};return this.qVa(g,f,d);};k.prototype.qVa=function(g,f,d,h){var m;m=this;void 0 === f && (f=function(){return !0;});Object.keys(g).filter(function(l){return f(g[l],l);}).forEach(function(l){var n;n=g[l];h && (n=h(n,l));m.Dh(l,n,d);});return this;};k.prototype.Q4a=function(g){var f;return !(null === (f=this.P) || void 0 === f || !f[g]);};k.prototype.ak=function(){var g;if(!this.P)throw Error("Invalid playgraph - `segments` is not defined");if(!this.xe)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.P[this.xe])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");g={xe:this.xe,P:this.P};this.ye && (g.ye=this.ye);this.Qd && (g.Qd=this.Qd);return g;};return k;})();b.Rx=q;},function(q,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.po=void 0;c=a(1).__importDefault(a(5));k=a(105);q=(function(){function g(f){this.J=new c.default.Console("ASEJS","media|asejs","(" + f + ")");this.qma=[];}g.prototype.ks=function(f){this.qma[f] || (this.qma[f]=k.jk(c.default,this.J,"[" + f + "]"));return this.qma[f];};return g;})();b.po=new q(0);},function(q,b,a){function c(k,g){this.mO=k;this.el=Math.floor((k + g - 1) / g);this.ae=g;this.reset();}a(4);c.prototype.shift=function(){this.me.shift();this.qy.shift();};c.prototype.nz=function(k){return this.nXa(this.me[k],k);};c.prototype.update=function(k,g){this.me[k]=(this.me[k] || 0) + g;};c.prototype.push=function(){this.me.push(0);this.qy.push(0);this.Qb+=this.ae;};c.prototype.add=function(k,g,f){var d,h,m;if(null === this.Qb){d=Math.max(Math.floor((f - g + this.ae - 1) / this.ae),1);for(this.Qb=g;this.me.length < d;){this.push();}}for(;this.Qb <= f;){this.push();this.me.length > this.el && this.shift();}if(null === this.Op || g < this.Op)this.Op=g;if(g > this.Qb - this.ae)this.update(this.me.length - 1,k);else if(g == f)(d=this.me.length - Math.max(Math.ceil((this.Qb - f) / this.ae),1),0 <= d && this.update(d,k));else for(d=1;d <= this.me.length;++d){h=this.Qb - d * this.ae;m=h + this.ae;if(!(h > f)){if(m < g)break;this.update(this.me.length - d,Math.round(k * (Math.min(m,f) - Math.max(h,g)) / (f - g)));}}for(;this.me.length > this.el;){this.shift();}};c.prototype.start=function(k){null === this.Op && (this.Op=k);null === this.Qb && (this.Qb=k);};c.prototype.stop=function(k){var g,f;if(null !== this.Qb)if(k - this.Qb > 10 * this.mO)this.reset();else {for(;this.Qb <= k;){this.push();this.me.length > this.el && this.shift();}g=this.me.length - Math.ceil((this.Qb - this.Op) / this.ae);f=this.me.length - Math.ceil((this.Qb - k) / this.ae);if(0 <= f)if((0 > g && (this.Op=this.Qb - this.ae * this.me.length,g=0),g === f))this.qy[g]+=k - this.Op;else if(f > g)for((this.qy[g]+=(this.Qb - this.Op) % this.ae,this.qy[f]+=this.ae - (this.Qb - k) % this.ae,k=g + 1);k < f;++k){this.qy[k]=this.ae;}this.Op=null;}};c.prototype.nXa=function(k,g){g=this.qsa(g);return 0 === g?null:8 * k / g;};c.prototype.qsa=function(k){var g;g=this.qy[k];null !== this.Op && (k=this.Qb - (this.me.length - k - 1) * this.ae,k > this.Op && (g=k - this.Op <= this.ae?g + (k - this.Op):this.ae));return g;};c.prototype.get=function(k,g){var f,d;f=this.me.map(this.nXa,this);if("last" === k)for(k=0;k < f.length;++k){null === f[k] && (f[k]=0 < k?f[k - 1]:0);}else if("average" === k){g=1 - Math.pow(.5,1 / ((g || 2E3) / this.ae));for(k=0;k < f.length;++k){null === f[k]?f[k]=Math.floor(d || 0):d=void 0 !== d?g * f[k] + (1 - g) * d:f[k];}}return f;};c.prototype.reset=function(){this.Yla || (this.me=[],this.qy=[],this.Op=this.Qb=null);};c.prototype.setInterval=function(k){this.el=Math.floor((k + this.ae - 1) / this.ae);};q.exports=c;},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r;Object.defineProperties(b,{__esModule:{value:!0}});c=a(1);k=c.__importStar(a(10));q=a(13);g=c.__importDefault(a(152));f=c.__importDefault(a(414));d=a(886);h=a(415);m=a(887);l=a(889);n=a(5).default;p=new n.Console("ASEJS_NETWORK_MONITOR","media|asejs");a=(function(t){function w(v,u,x){var y;y=t.call(this) || this;y.Zp={};y.VV=0;y.gE=0;y.VU=[];y.sI=0;y.sec=!1;y.K=x;y.zSa=new f.default(x);y.pV=new m.$ha(!0);y.UU=new m.$ha(!1);x.s0a && (y.ZN=new l.uMa(y.K));y.reset();y.DTa=v;y.tn=u;y.cTa=n.Mq.name();y.tn.ofa(y.cTa);n.events.on("networkchange",y.zXb.bind(y));return r=y;}c.__extends(w,t);w.instance=function(){return r;};w.reset=function(){r && r.reset();};w.prototype.zXb=function(v){this.cTa=v;this.tn.ofa(v);};w.prototype.Phb=function(){var v;if(!this.dna){v=this.q4a();this.tn.fJ(v.default.Ca,this.confidence);v["initial-throughput-ewma"] && this.tn.cJ(v["initial-throughput-ewma"].Ca);v.deliverytime && this.tn.qO(v.deliverytime);this.tn.nM(v.yw?v.yw.Wda:void 0,v.yw?v.yw.A2b:void 0);k.Gb(this.md) || (this.dna=!0);}};Object.defineProperties(w.prototype,{startTime:{get:function(){return this.dh;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{confidence:{get:function(){return this.Zp.confidence.get(0);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Pr:{get:function(){return this.mN;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{XUa:{get:function(){return this.VU;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{JSb:{get:function(){return this.fTa;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{location:{get:function(){return this.DI;},enumerable:!1,configurable:!0}});w.prototype.ksb=function(){var v,u,x,y;v=this.K;u=v.Asb.concat(v.Ksb);x=v.Lla;y=this.zSa;u=u.reduce(function(z,A){z[A]=y.create(A,x);return z;},{});u.confidence=new h.Dja(v,new d.ILa(v,this.Xxa.bind(this)));return u;};w.prototype.reset=function(){var v,u,x,y;v=this.K.Lla;u=this.zSa;x=this.K;this.DI=null;this.Zp=this.ksb();if(this.K.v0a){y=this.K.Bgb;this.Zp.D6b=new g.default(y.numB * y.bSizeMs,y.bSizeMs);}this.pV.reset();this.UU.reset();this.RA=u.create("respconn-ewma",v);this.IA=u.create("respconn-ewma",v);this.ZN && this.ZN.reset();this.Jwb=this.Phb.bind(this);this.n8=void 0;this.JA=this.md=this.dh=null;this.j8=0;x.mdb && (this.gE=this.VV=this.mN=0,this.VU=[]);};w.prototype.$R=function(v){var u;u=this.Zp;if(v !== this.DI){k.ta(this.n8) || (clearInterval(this.n8),this.n8=void 0);k.Gb(this.DI) && (this.j8=0,this.dh=null);if(!k.Gb(v)){for(var x in u){u[x] && u[x].reset && u[x].reset();}this.RA.reset();this.IA.reset();}k.Gb(this.dh) || (this.j8+=(k.Gb(this.md)?n.time.ma():this.md) - this.dh);this.md=this.dh=null;this.DI=v;this.tn.$R(v);}};w.prototype.ofa=function(v){this.tn.ofa(v);};w.prototype.txb=function(v){this.Zp.QoEEvaluator?p.warn("monitor (QoEEvaluator) already existed."):this.Zp.QoEEvaluator=v;};w.prototype.m1b=function(){delete this.Zp.QoEEvaluator;};w.prototype.zE=function(v,u,x,y){var z,A;this.fTa=Math.max(this.fTa || 0,x);this.gE-=v;z=this.K;A=this.Zp;if(!0 === y.US)(y=A["throughput-wssl"]) && y.add(v,u,x,!0);else if(k.ta(u))p.warn("addDataReceived called with undefined start time");else {this.ZN && this.ZN.zE(v,u,x,y);z.Jsb && 10 > x - u?u=x - 10:0 === x - u && (u=x - 1);this.pV.zE(v,u,x,y);this.UU.zE(v,u,x,y);for(var B in A){A[B] && A[B].add && A[B].add(v,u,x,y);}k.Gb(this.dh) && (this.dh=u,this.md=null,this.dna=!1);k.Gb(this.md) || (u > this.md && (this.dh+=u - this.md),this.md=null,this.dna=!1);k.Gb(this.JA) || (u - this.JA > z.ETa?this.DTa.a6a(this.JA,u):x - u > z.ETa && this.DTa.a6a(u,x));this.JA=this.JA?Math.max(x,this.JA):x;}};w.prototype.$A=function(v){this.RA.add(v);this.tn.$A(v);};w.prototype.ZA=function(v){this.IA.add(v);this.tn.ZA(v);};w.prototype.start=function(v,u){var x;k.Gb(this.JA) && !k.Gb(this.md) && (this.JA=v);x=this.Zp;if(this.K.EBa)for(var y in x){x[y] && x[y].start && x[y].start(v,u);}};w.prototype.stop=function(v,u){var x,y;x=this.Zp;for(y in x){x[y] && x[y].stop && x[y].stop(v,u);}this.md=k.Gb(this.md)?v:Math.min(this.md,v);this.JA=null;};w.prototype.flush=function(){var v,u;v=this.Zp;for(u in v){v[u] && v[u].flush && v[u].flush();}};w.prototype.O2a=function(){var v,u;v=this.Zp.$fc;if(v){u=v.nAb();v.reset();}return u;};w.prototype.q4a=function(){var v,u,x,y,z,A,B;v=n.time.ma();u=this.Zp;x=this.K;y=x.psb;z=x.bwb;A={};for(B in u){u[B] && u[B].get && (A[B]=u[B].get(v,this.gE),"iqr" === u[B].type && (A.yw=A[B]),"tdigest" === u[B].type && (A.Cl=A[B]),"wssl" === u[B].type && (A.US=A[B]));}A.cdnavtp=this.pV.Yo();A.activecdnavtp=this.UU.Yo();A.default=y && A[y]?A[y]:A["throughput-ewma"];"none" !== x.AAa && "none" !== z && (A.Tdb=z && A[z]?A[z]:A["throughput-sw"]);return A;};w.prototype.Eaa=function(){return this.ZN?this.ZN.Eaa():void 0;};w.prototype.get=function(){var v,u,x,y,z,A;v=this.q4a();u=v.default;x=this.RA.get();y=this.IA.get();z=this.K;if(v.Tdb){A=v.Tdb;u=k.Oa(u.Ca) && k.Oa(A.Ca) && u.Ca > A.Ca && 0 < A.Ca?A:u;}v.fb=u;v.O5a=v["initial-throughput-ewma"];!z.cra || !u || k.Gb(u.Ca) || isNaN(u.Ca) || !v.US || k.Gb(v.US.Ca) || isNaN(v.US.Ca) || ("max" === z.djb?v.fb.Ca=Math.max(v.US.Ca,u.Ca):"sum" === z.djb && (v.fb.Ca+=v.US.Ca));v.yl=x;v.Uy=y;this.K.v0a && (u=this.K.Bgb,v.Pjc=this.Zp.D6b.get(u.fillS,u.fillHl));u=this.j8 + (k.Gb(this.dh)?0:(k.Gb(this.md)?n.time.ma():this.md) - this.dh);v.time=u;return v;};w.prototype.wOb=function(){var v,u,x;v={};u=this.get();if(u.confidence && u.fb){v.aseavtp=Number(u.fb.Ca).toFixed(2);v.asevartp=Number(u.fb.Ye).toFixed(2);if(u.yw){x=u.yw.Wda;!x || void 0 === x.bm || void 0 === x.am || void 0 === x.qk || isNaN(x.bm || 0) || isNaN(x.am) || isNaN(x.qk) || (v.aseniqr=0 < x.qk?Number((x.bm - x.am) / x.qk).toFixed(2):-1,v.aseiqr=Number(x.bm - x.am).toFixed(2),v.asemedtp=Number(x.qk).toFixed(2));v.iqrsamples=u.yw.A2b;}u.Cl && u.Cl.MB && (v.tdigest=u.Cl.MB());}return v;};w.prototype.KR=function(v,u){var x;x=u.requestId;1 === ++this.mN && this.emit("active",v);this.K.Cfa && this.start(v,u);x && (this.K.Cfa || this.start(v,u),this.VU.push(x));this.gE+=u.ga || 0;this.pV.KR(v,u);this.UU.KR(v,u);};w.prototype.fdb=function(){++this.VV;};w.prototype.Q1=function(v,u,x){var y;y=x.requestId;u && --this.VV;--this.mN;this.gE=Math.max((this.gE || 0) - ((x.ga || 0) - (x.bytesReceived || 0)),0);this.K.mdb && (this.mN=Math.max(this.mN,0),this.VV=Math.max(this.VV,0));this.K.Cfa && this.stop(v,x);0 === this.mN && (this.K.Cfa || this.stop(v,x),this.emit("inactive",v));y && (u=this.VU.indexOf(y),0 <= u && this.VU.splice(u,1));this.pV.Q1(v,x);this.UU.Q1(v,x);};w.prototype.Xxa=function(){this.Phb();this.n8=setInterval(this.Jwb,this.K.Itb);};return w;})(q.EventEmitter);b.default=a;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);k=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}c.__extends(f,g);return f;})(Error);b.assert=function(g,f){if(!g)throw new k(f || "Assertion failed");};},function(q){var c,k;function b(){var g,f;if(DataView.prototype && DataView.prototype.Hm && !k){try{g=new ArrayBuffer(4);f=new DataView(g);f.ek(0,4,1);}catch(d){return;}try{g=new ArrayBuffer(4);f=new DataView(g);f.ek(1,2,2);}catch(d){DataView.prototype.ek=a(DataView.prototype.ek,DataView.prototype.getUint8,Uint8Array);DataView.prototype.Bq=a(DataView.prototype.Bq,DataView.prototype.getUint16,Uint16Array);DataView.prototype.Hm=a(DataView.prototype.Hm,DataView.prototype.getUint32,Uint32Array);DataView.prototype.jw=a(DataView.prototype.jw,DataView.prototype.getInt8,Int8Array);DataView.prototype.hw=a(DataView.prototype.hw,DataView.prototype.getInt16,Int16Array);DataView.prototype.iw=a(DataView.prototype.iw,DataView.prototype.getInt32,Int32Array);}c.CZ=function(d,h,m,l,n){return m?d.ek(h,m,l || 1,n):new Uint8Array(0);};c.AZ=function(d,h,m,l,n){return m?d.Bq(h,m,l || 2,n):new Uint16Array(0);};c.BZ=function(d,h,m,l,n){return m?d.Hm(h,m,l || 4,n):new Uint32Array(0);};c.f3a=function(d,h,m,l,n){return m?d.jw(h,m,l || 1,n):new Int8Array(0);};c.d3a=function(d,h,m,l,n){return m?d.hw(h,m,l || 2,n):new Int16Array(0);};c.e3a=function(d,h,m,l,n){return m?d.iw(h,m,l || 4,n):new Int32Array(0);};k=!0;}}function a(g,f,d){return function(h,m,l,n){var p;l=l || d.BYTES_PER_ELEMENT;if(h + m * l > this.byteLength){p=new d(m);p.set(g.call(this,h,m - 1,l,n));p[m - 1]=f.call(this,h + (m - 1 * l),n);return p;}return g.call(this,h,m,l,n);};}c={ek:function(g,f,d,h,m){var l;l=new Uint8Array(d);h=h || 1;for(var n=0;n < d;(++n,f+=h)){l[n]=g.getUint8(f,m);}return l;},Bq:function(g,f,d,h,m){var l;l=new Uint16Array(d);h=h || 2;for(var n=0;n < d;(++n,f+=h)){l[n]=g.getUint16(f,m);}return l;},Hm:function(g,f,d,h,m){var l;l=new Uint32Array(d);h=h || 4;for(var n=0;n < d;(++n,f+=h)){l[n]=g.getUint32(f,m);}return l;},jw:function(g,f,d,h,m){var l;l=new Int8Array(d);h=h || 1;for(var n=0;n < d;(++n,f+=h)){l[n]=g.getInt8(f,m);}return l;},hw:function(g,f,d,h,m){var l;l=new Int16Array(d);h=h || 2;for(var n=0;n < d;(++n,f+=h)){l[n]=g.getInt16(f,m);}return l;},iw:function(g,f,d,h,m){var l;l=new Int32Array(d);h=h || 4;for(var n=0;n < d;(++n,f+=h)){l[n]=g.getInt32(f,m);}return l;},T0a:b};k=!1;c.dZ=function(){return k;};b();q.exports=c;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);k=a(251);q=(function(){function g(f,d,h){this.tag=f;this.view=d;this.l=h;this.startOffset=h.offset;}g.EG=function(f,d,h){var m,l;m=f.Aa();l=f.z1();f=new (k.bk[m] || g)(m,f.bZ(l),f);f.parse(d,h);return f;};Object.defineProperties(g.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});g.prototype.parse=function(){this.l.offset=this.startOffset + this.length;this.l.Ki=0;return !0;};g.prototype.qF=function(f){var d;d=[];this.tag === f && d.push(this);if(this.bk)for(var h=0;h < this.bk.length;h++){d=c.__spreadArrays(d,this.bk[h].qF(f));}return d;};g.prototype.oh=function(f){for(f=this.qF(f);0 < f.length;){return f[0];}};g.prototype.lE=function(f){for(this.bk=[];this.l.offset < this.startOffset + this.length;){this.bk.push(g.EG(this.l,f,this));}};return g;})();b.Su=q;q.prototype.skip=q.prototype.parse;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ed=b.Fd=b.height=b.width=b.bitrate=b.profile=b.duration=b.$=void 0;b.xa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAADARBtFvB2gDYBdsbXZoBkgA4BcA3x8jCAgAYCgDYBDogB4CgGoAgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBcDdHJhBrgBYBBcB0BrgOYDADgO4GgLoRgO4rABgIICDYgDgDefbWRpBhgf4CgA4Aga4EgMYIBdDAgBYCBVDEgCQDAtgDoABsBygD4Gd2aWRlgKYKBWgB4BdvSGFugEQABlgEYCcBSm1pBuBmgBABAUB2BtgKgDgQQKAkgN4AgDYDccZHJlgA4CgUQGcMdXJsAggowFcKc3RiBsgBYBC+gA4ABzgSgGgEYCeuYXZjAxgcwVgagCgaQABIgBABgAYCgEITgAAPAYH/gAoBA0gKoBBDABgM4AcN/+EAAXBngA4BCsCyEDC/AuACgRoBB9gAYAcXcAHiCFBJgJYAcGaOvDDLAiDAD9H4gHICAUBigzYAB0gIgEAZghQBgAYCAAAQBwhFQABwgO4FgAYCAQgXoAgXwAgNoJgB4BBzBjgB4JAUgB4BB6gSINgEYBBjBvgB4JA4hNwABlB4gC4CBtBlgzwGAHDSg1wCgPwAgC4Dgc4GgAYBADDpgeoJdidWR0g6wCBagG4AgA4DgAACAhg4QKg+wBhLgAFwgsoCgAAHAtBpBsgPwAgA4BAlCpB0hdgAgA4BAdhfYAgHgDgKQDBMgkoAdmNTkuAxA2gAQAEw";b.He=!0;b.T="EAABAkBtFvBmgA4AcAEG1mBoBkgA4BgAACABgAQBcMdHJhgC4CAcB0gC4CACAAAqgC4EgAYCADDpgBIDgGYBgDYABkB0gGYFgAACDYgGYAB1BugAwAACAFgBYBAwgFQBAsgCwEACC1gAgBAPgAYBATgAYBAUgAawcGY21kBhgc4BcCcQYFH/dt3EXpC9DmDZBIC3CWAsDYAgDZAjDuDvB4AyA2A0AgAtAgBjBvByBlAgAxA2AzAgByAzAwA2AwAgA1BkBiA2FhA2gDABBIAugEABcvTVBFBHAtgE4ABBBWBDgFIBBkBlBjgDABdDb3B5BsBlBmB0AgAyEwAzAtgAgAAyAxgCgBBoF0BwA6EvJ3AuB2BpgE4AdvbGFuAugLIABnAvgMoCAugDgABtBsgEYBgG4Ad0aW9uBzA6gJIAdhYmFjA9gGwAgPIABmA9gPAAgFoAdibG9jBrgB4AA6AwgAIAAggG4AdhbHlzBlA9AwB4AzgBoAB4ExgD4ABtgBgAdoZXggBzB1BigBIBc3IHBzB5gHQBgAoBBfByBkgBAAAugQYAgEwAgAgBgEoAdpeGVkgCQAgKIBgDgAgE4AgBAAgI4ABngFoAga4AgNYAdocm9tBhBfgHQBgC4Ag84ABlFsBpBzgBIBc4eDhkBjB0gBABBjBxBtgNQAgQQBBhBkB6gTQAgEYAgZYAAsgOQAcgZmFzB0BfgMIABrBpBwgEICgIAEBxBwBfhOAABmgTAAgGgAgeQAgJAAgCYAgGIBgJAAgRoAgXIABvBrBhgTwAgBgABfgCYGgGIABzgMYABjgRYBgCAGgLwABuBygMYDBjBpgI4AB0gQ4CBpBugAwABygkIAgEgBgC4BgfgAB1gVgAgZgAgroABtBwgDoAgB4BgBAAgkQAhYgBgEYAgIQBgFABgBIAgEYCBmgAwAgYIAgJQCd3ZWlngpwAgS4AgQYABrBlB5gDwBgBAAA1gCgAgBQEgcYAgAgAgBwAgl4ABzgK4AgHYABjB1gDQAA0gDIAgIADgioCgAQABzBogHwBByBjBfgWIHgD4CgB4Ac9Y3JmgmAABigjQBgTICgBgBgIQBgp4AAgBxgR4CgGAAAuhCQBgfIAgLACgA4DdheD02A5gBABgUAABlgDgAhCoAgj4Ags4Bg6YBgwwBgJYBBhBxg4QBgyACAACAhQABc8ZYiEAMD/D+D2DsC+AFA2AUDIBQCXARAsDFDaBKBwA+AqCkGAB3A0DAhxoBcATyX9AMC8ApBNAnB9BAAABLgAQAdMx9PSBfDnDMAIB7DZAbAGChgH4BcLQZo7AQDPD+CeAQhx4ABbhw4CgBwAdPCGTKBhgKQBgCQGAQgCQAdyeEPJCUDACGB/gCYKCSgCYRCygCYRDSgCYRDygCYQCbASgCYRAygCYRBSgCYRgT4RCbgT4RCbgT4RCbgT4RCbgT4RCagT4RCagT4RCagT4Rgn//gn4gCFht4ACMCwgCYABfgn4KCFgE4AA4h2AAAFBN";b.Ge=!0;b.$={qa:1001,I:24E3};b.duration={qa:48048,I:24E3};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=384;b.height=216;b.Fd=[176,699];b.Ed=[44];},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ed=b.Fd=b.height=b.width=b.bitrate=b.profile=b.duration=b.$=void 0;b.xa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAADARBtFvB2gDYBdsbXZoBkgA4BcA3x8jCBgAYCgDYBDogB4CgGoAgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBcDdHJhBrgBYBBcB0BrgOYDADgO4GgLoRgO4rABAggAgBDYgDgDefbWRpBhgf4CgA4Aga4EgMYIBdDAgBYCBVDEgCQDAtgDoABsBygD4Gd2aWRlgKYKBWgB4BdvSGFugEQABlgEYCcBSm1pBuBmgBABAUB2BtgKgDgQQKAkgN4AgDYDccZHJlgA4CgUQGcMdXJsgSwCgowCcKc3RiBsgBYBC+gA4ABzgSgGgEYCeuYXZjAxgcwVgagCgaQABIgBABgAYCgEITgAAPAYH/gAoBA0gKoBBDABgM4AcN/+EAAXBngA4BessgJDC/AuACgRoBB9gAYAcXcAHiCFBJgJYAcGaOvDDLAiDAD9H4gHICAUBigzYAB0gIgEAZBRgAYEAAAQBwhFQABwgO4FgAYCAQgXoAgXwAgNoJgB4BBzBjgB4JAUgB4BB6gSINgEYBBjBvgB4JA4hNwABlB4gC4CBtBlgzwGAHDSg1wCgPwAgC4Dgc4GgAYBADDpgeoJdidWR0g6wCBagG4AgA4DgAACAhg4QKg+wBhLgAFwgsoCgAAHAtBpBsgPwAgA4BAlCpB0hdgAgA4BAdhfYAgHgDgKQDBMgkoAdmNTkuAxA2gAQAEw";b.He=!0;b.T="EAABAkBtFvBmgA4AcAEG1mBoBkgA4BgAACABgAQBcMdHJhgC4CAcB0gC4CACAAAqgC4EgAYCADDpgBIDgGYBgDYABkB0gGYFgAACDYgGYAB1BugAwAACAFgBYBAwgFQBAsgCwEACCwgAgBAPgAYBATgAYBAUgAawcGXm1kBhgc4BcCcQYFH/dt3EXpC9DmDZBIC3CWAsDYAgDZAjDuDvB4AyA2A0AgAtAgBjBvByBlAgAxA2AzAgByAzAwA2AwAgA1BkBiA2FhA2gDABBIAugEABcvTVBFBHAtgE4ABBBWBDgFIBBkBlBjgDABdDb3B5BsBlBmB0AgAyEwAzAtgAgAAyAxgCgBBoF0BwA6EvJ3AuB2BpgE4AdvbGFuAugLIABnAvgMoCAugDgABtBsgEYBgG4Ad0aW9uBzA6gJIAdhYmFjA9gGwAgPIABmA9gPAAgFoAdibG9jBrgB4AA6AwgAIAAggG4AdhbHlzBlA9AwB4AzgBoAB4ExgD4ABtgBgAdoZXggBzB1BigBIBc3IHBzB5gHQBgAoBBfByBkgBAAAugQYAgEwAgAgBgEoAdpeGVkgCQAgKIBgDgAgE4AgBAAgI4ABngFoAga4AgNYAdocm9tBhBfgHQBgC4Ag84ABlFsBpBzgBIBc4eDhkBjB0gBABBjBxBtgNQAgQQBBhBkB6gTQAgEYAgZYAAsgOQAcgZmFzB0BfgMIABrBpBwgEICgIAEBxBwBfhOAABmgTAAgGgAgeQAgJAAgCYAgGIBgJAAgRoAgXIABvBrBhgTwAgBgABfgCYGgGIABzgMYABjgRYBgCAGgLwABuBygMYDBjBpgI4AB0gQ4CBpBugAwABygkIAgEgBgC4BgfgAB1gVgAgZgAgroABtBwgDoAgB4BgBAAgkQAhYgBgEYAgIQBgFABgBIAgEYCBmgAwAgYIAgJQCd3ZWlngpwAgS4AgQYABrBlB5gDwBgBAAA1gCgAgBQEgcYAgAgAgBwAgl4ABzgK4AgHYABjB1gDQAA0gDIAgIADgioCgAQABzBogHwBByBjBfgWIHgD4CgB4Ac9Y3JmgmAABigjQBgTICgBgBgIQBgp4AAgBxgR4CgGAAAuhCQBgfIAgLACgA4DdheD02A5gBABgUAABlgDgAhCoAgj4Ags4Bg6YBgwwBgJYBBhBxg4QBgyACAACAhQABc3ZYiEAMD/D+D2DsC+AFA2AUDIBQCXARAsDFDaBKBwA+AqCkGAd3NMADD8AHBaAKDMAFhEAACLAiAEgFYAcR0Fm9DgDoDtCDCFBSDWBhgHQBcLQZo7AQDPD+CeAQgBIAC4hwQCgBwAdPCGTKBhgJoBgCQCC5h4ICgCQAdyeEPJCUDACGB/gEwHgCYBCSgCYKgE4FCygCYRDSgCYRDygCYQCbASgMYQCbAygCYRBSgHYRgT4RCbgT4LgCYFgT4RCbgT4RCbgT4RCagT4RCagT4RCagT4Rgn4ggCYFgn4fgE4Fgn4fgCYFgn5HgE4Fgn4fgHYFgT4LgWYFgT4Rgn5IhP6/CFht4ACMjgQAALDJgn4KCFgE4Ac4QAAtCh";b.Ge=!0;b.$={qa:1001,I:24E3};b.duration={qa:48048,I:24E3};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=288;b.height=216;b.Fd=[176,699];b.Ed=[44];},function(q,b){function a(c,k){var g;c.__proto__ && c.__proto__ !== Object.prototype && a(c.__proto__,k);Object.getOwnPropertyNames(c).forEach(function(f){g=Object.getOwnPropertyDescriptor(c,f);void 0 !== g && Object.defineProperty(k,f,g);});}Object.defineProperties(b,{__esModule:{value:!0}});b.default=a;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);k=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}c.__extends(f,g);return f;})(Error);b.assert=function(g,f){if(!g)throw new k(f || "Assertion failed");};},function(q){var c,k;function b(){var g,f;if(DataView.prototype && DataView.prototype.Hm && !k){try{g=new ArrayBuffer(4);f=new DataView(g);f.ek(0,4,1);}catch(d){return;}try{g=new ArrayBuffer(4);f=new DataView(g);f.ek(1,2,2);}catch(d){DataView.prototype.ek=a(DataView.prototype.ek,DataView.prototype.getUint8,Uint8Array);DataView.prototype.Bq=a(DataView.prototype.Bq,DataView.prototype.getUint16,Uint16Array);DataView.prototype.Hm=a(DataView.prototype.Hm,DataView.prototype.getUint32,Uint32Array);DataView.prototype.jw=a(DataView.prototype.jw,DataView.prototype.getInt8,Int8Array);DataView.prototype.hw=a(DataView.prototype.hw,DataView.prototype.getInt16,Int16Array);DataView.prototype.iw=a(DataView.prototype.iw,DataView.prototype.getInt32,Int32Array);}c.CZ=function(d,h,m,l,n){return m?d.ek(h,m,l || 1,n):new Uint8Array(0);};c.AZ=function(d,h,m,l,n){return m?d.Bq(h,m,l || 2,n):new Uint16Array(0);};c.BZ=function(d,h,m,l,n){return m?d.Hm(h,m,l || 4,n):new Uint32Array(0);};c.f3a=function(d,h,m,l,n){return m?d.jw(h,m,l || 1,n):new Int8Array(0);};c.d3a=function(d,h,m,l,n){return m?d.hw(h,m,l || 2,n):new Int16Array(0);};c.e3a=function(d,h,m,l,n){return m?d.iw(h,m,l || 4,n):new Int32Array(0);};k=!0;}}function a(g,f,d){return function(h,m,l,n){var p;l=l || d.BYTES_PER_ELEMENT;if(h + m * l > this.byteLength){p=new d(m);p.set(g.call(this,h,m - 1,l,n));p[m - 1]=f.call(this,h + (m - 1 * l),n);return p;}return g.call(this,h,m,l,n);};}c={ek:function(g,f,d,h,m){var l;l=new Uint8Array(d);h=h || 1;for(var n=0;n < d;(++n,f+=h)){l[n]=g.getUint8(f,m);}return l;},Bq:function(g,f,d,h,m){var l;l=new Uint16Array(d);h=h || 2;for(var n=0;n < d;(++n,f+=h)){l[n]=g.getUint16(f,m);}return l;},Hm:function(g,f,d,h,m){var l;l=new Uint32Array(d);h=h || 4;for(var n=0;n < d;(++n,f+=h)){l[n]=g.getUint32(f,m);}return l;},jw:function(g,f,d,h,m){var l;l=new Int8Array(d);h=h || 1;for(var n=0;n < d;(++n,f+=h)){l[n]=g.getInt8(f,m);}return l;},hw:function(g,f,d,h,m){var l;l=new Int16Array(d);h=h || 2;for(var n=0;n < d;(++n,f+=h)){l[n]=g.getInt16(f,m);}return l;},iw:function(g,f,d,h,m){var l;l=new Int32Array(d);h=h || 4;for(var n=0;n < d;(++n,f+=h)){l[n]=g.getInt32(f,m);}return l;},T0a:b};k=!1;c.dZ=function(){return k;};b();q.exports=c;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);k=a(263);q=(function(){function g(f,d,h){this.tag=f;this.view=d;this.l=h;this.startOffset=h.offset;}g.EG=function(f,d,h){var m,l;m=f.Aa();l=f.z1();f=new (k.bk[m] || g)(m,f.bZ(l),f);f.parse(d,h);return f;};Object.defineProperties(g.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});g.prototype.parse=function(){this.l.offset=this.startOffset + this.length;this.l.Ki=0;return !0;};g.prototype.qF=function(f){var d;d=[];this.tag === f && d.push(this);if(this.bk)for(var h=0;h < this.bk.length;h++){d=c.__spreadArrays(d,this.bk[h].qF(f));}return d;};g.prototype.oh=function(f){for(f=this.qF(f);0 < f.length;){return f[0];}};g.prototype.lE=function(f){for(this.bk=[];this.l.offset < this.startOffset + this.length;){this.bk.push(g.EG(this.l,f,this));}};return g;})();b.Su=q;q.prototype.skip=q.prototype.parse;},function(q,b,a){var c,k,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Hl=b.uka=void 0;c=a(21);(function(d){d[d.absolute=0]="absolute";d[d.Hcb=1]="relative";})(k=b.uka || (b.uka={}));f=(function(){function d(h,m){this.type=h;this.timestamp=m;}d.prototype.toString=function(){return "timeStamp: " + this.timestamp + ", type: " + k[this.type];};Object.defineProperties(d,{ib:{get:function(){g || (g=new d(k.Hcb,c.O.ib));return g;},enumerable:!1,configurable:!0}});return d;})();q=(function(){function d(){}d.QS=function(h){return new f(k.absolute,h);};Object.defineProperties(d,{t9b:{get:function(){return f.ib;},enumerable:!1,configurable:!0}});d.qM=function(h){return new f(k.Hcb,h);};d.lDa=new f(k.absolute,c.O.JF);return d;})();b.Hl=q;},function(q,b,a){var g,f,d,h,m,l,n;function c(p){return p && "function" === typeof p.Ei?!0:!1;}function k(p){return c(p) && (p=typeof p.sRb,"boolean" === p || "undefined" === p)?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.flatten=b.map=b.flb=b.iJb=b.rRb=b.Njb=b.AsyncIterator=void 0;g=a(1);f=a(15);h=(function(){function p(r){var t;t=this;this.ltb=r;this.zV=!1;this.vvb=function(w){return t.M_b(w);};this.aZa();}p.nSb=function(r,t){function w(){var v;v=r.next();v.then(function(u){k(r) && r.sRb || t(u);});v.then(function(u){return !u.done && w();});}w();};Object.defineProperties(p.prototype,{aC:{get:function(){return this.zV;},enumerable:!1,configurable:!0}});p.M2a=function(){return new m([]);};p.Nta=function(){d || (d=Promise.resolve({done:!0}));return d;};Object.defineProperties(p.prototype,{sQ:{get:function(){return this.rn || !1;},enumerable:!1,configurable:!0}});p.prototype.Ei=function(){this.cancel();};p.prototype.cancel=function(){this.RTa();this.rn=!0;return this.hla;};p.prototype.next=function(){return this.rn?this.hla:Promise.race([this.hla,this.ltb()]).then(this.vvb);};p.prototype.M_b=function(r){r.done && (this.zV=!0,this.Ei());this.sQ || (this.RTa(),this.aZa());return r;};p.prototype.aZa=function(){var r;r=this;this.hla=new Promise(function(t){r.RTa=function(){t({done:!0});};});};return p;})();b.AsyncIterator=h;m=(function(p){function r(t){var w;w=p.call(this,function(){return w.iNb();}) || this;w.bB=t;w.index=0;return w;}g.__extends(r,p);r.prototype.Ei=function(){c(this.bB) && this.bB.Ei();p.prototype.Ei.call(this);};r.prototype.iNb=function(){return this.bB.length > this.index?Promise.resolve({value:this.bB[this.index++],done:!1}):Promise.resolve({done:!0});};return r;})(h);b.Njb=m;b.rRb=c;b.iJb=k;l=(function(p){function r(t,w,v){var u;u=p.call(this,function(){return u.Axa();}) || this;u.console=w;u.qm=v;u.oza=!1;Array.isArray(t)?u.KV=new m(t):u.KV=t;return u;}g.__extends(r,p);r.prototype.O_b=function(t){var w;this.oza=!1;w=this.console;f.aa && w && w.trace("CompoundIterator: processNextOuterIterator");if(t.done)return t;t=t.value;if(this.QN)return (c(t) && t.Ei(),h.Nta());Array.isArray(t)?this.qm=new m(t):this.qm=t;return this.Axa();};r.prototype.N_b=function(t){var w;w=this.console;f.aa && w && w.trace("CompoundIterator: processNextInnerResult",this.QN,t.done);if(!t.done || this.QN)return t;this.qm=void 0;return this.Axa();};r.prototype.Ei=function(){var t;t=this.console;f.aa && t && t.trace("CompoundIterator: dispose");this.QN=!0;p.prototype.Ei.call(this);c(this.KV) && this.KV.Ei();c(this.qm) && this.qm.Ei();};r.prototype.toString=function(){return "CompoundIterator " + this.QN + " " + this.KV + " " + this.qm;};r.prototype.Axa=function(){var t,w;t=this;w=this.console;f.aa && w && w.trace("CompoundIterator: nextImpl");if(this.qm)return (f.aa && w && w.trace("CompoundIterator: getNextInner"),this.qm.next().then(function(v){return t.N_b(v);}));this.oza=!0;f.aa && w && w.trace("CompoundIterator: getNextOuter");return this.KV.next().then(function(v){return t.O_b(v);});};return r;})(h);b.flb=l;b.map=function(p,r,t){return new n(p,r,t);};n=(function(p){function r(t,w,v){var u;u=p.call(this,function(){return u.Ysb();}) || this;u.source=t;u.Jwa=w;u.vCb=v;return u;}g.__extends(r,p);r.prototype.Ei=function(){c(this.source) && this.source.Ei();p.prototype.Ei.call(this);};r.prototype.Ysb=function(){var t,w,v;t=this.vCb;w=this.Jwa;v=this.source;f.aa && t && t.trace("MappedIterator: Requesting next");return v.next().then(function(u){return u.done?u:w(u.value);});};return r;})(h);b.flatten=function(p,r,t){return new l(p,r,t);};},function(q,b,a){var c,k,g;c=a(137);k=a(57);g=a(201);q.exports=function(f){return function n(h,m,l){switch(arguments.length){case 0:return n;case 1:return g(h)?n:k(function(p,r){return f(h,p,r);});case 2:return g(h) && g(m)?n:g(h)?k(function(p,r){return f(p,m,r);}):g(m)?k(function(p,r){return f(h,p,r);}):c(function(p){return f(h,m,p);});default:return g(h) && g(m) && g(l)?n:g(h) && g(m)?k(function(p,r){return f(p,r,l);}):g(h) && g(l)?k(function(p,r){return f(p,m,r);}):g(m) && g(l)?k(function(p,r){return f(h,p,r);}):g(h)?c(function(p){return f(p,m,l);}):g(m)?c(function(p){return f(h,p,l);}):g(l)?c(function(p){return f(h,m,p);}):f(h,m,l);}};};},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);k=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}c.__extends(f,g);return f;})(Error);b.assert=function(g,f){if(!g)throw new k(f || "Assertion failed");};},function(q){var c,k;function b(){var g,f;if(DataView.prototype && DataView.prototype.Hm && !k){try{g=new ArrayBuffer(4);f=new DataView(g);f.ek(0,4,1);}catch(d){return;}try{g=new ArrayBuffer(4);f=new DataView(g);f.ek(1,2,2);}catch(d){DataView.prototype.ek=a(DataView.prototype.ek,DataView.prototype.getUint8,Uint8Array);DataView.prototype.Bq=a(DataView.prototype.Bq,DataView.prototype.getUint16,Uint16Array);DataView.prototype.Hm=a(DataView.prototype.Hm,DataView.prototype.getUint32,Uint32Array);DataView.prototype.jw=a(DataView.prototype.jw,DataView.prototype.getInt8,Int8Array);DataView.prototype.hw=a(DataView.prototype.hw,DataView.prototype.getInt16,Int16Array);DataView.prototype.iw=a(DataView.prototype.iw,DataView.prototype.getInt32,Int32Array);}c.CZ=function(d,h,m,l,n){return m?d.ek(h,m,l || 1,n):new Uint8Array(0);};c.AZ=function(d,h,m,l,n){return m?d.Bq(h,m,l || 2,n):new Uint16Array(0);};c.BZ=function(d,h,m,l,n){return m?d.Hm(h,m,l || 4,n):new Uint32Array(0);};c.f3a=function(d,h,m,l,n){return m?d.jw(h,m,l || 1,n):new Int8Array(0);};c.d3a=function(d,h,m,l,n){return m?d.hw(h,m,l || 2,n):new Int16Array(0);};c.e3a=function(d,h,m,l,n){return m?d.iw(h,m,l || 4,n):new Int32Array(0);};k=!0;}}function a(g,f,d){return function(h,m,l,n){var p;l=l || d.BYTES_PER_ELEMENT;if(h + m * l > this.byteLength){p=new d(m);p.set(g.call(this,h,m - 1,l,n));p[m - 1]=f.call(this,h + (m - 1 * l),n);return p;}return g.call(this,h,m,l,n);};}c={ek:function(g,f,d,h,m){var l;l=new Uint8Array(d);h=h || 1;for(var n=0;n < d;(++n,f+=h)){l[n]=g.getUint8(f,m);}return l;},Bq:function(g,f,d,h,m){var l;l=new Uint16Array(d);h=h || 2;for(var n=0;n < d;(++n,f+=h)){l[n]=g.getUint16(f,m);}return l;},Hm:function(g,f,d,h,m){var l;l=new Uint32Array(d);h=h || 4;for(var n=0;n < d;(++n,f+=h)){l[n]=g.getUint32(f,m);}return l;},jw:function(g,f,d,h,m){var l;l=new Int8Array(d);h=h || 1;for(var n=0;n < d;(++n,f+=h)){l[n]=g.getInt8(f,m);}return l;},hw:function(g,f,d,h,m){var l;l=new Int16Array(d);h=h || 2;for(var n=0;n < d;(++n,f+=h)){l[n]=g.getInt16(f,m);}return l;},iw:function(g,f,d,h,m){var l;l=new Int32Array(d);h=h || 4;for(var n=0;n < d;(++n,f+=h)){l[n]=g.getInt32(f,m);}return l;},T0a:b};k=!1;c.dZ=function(){return k;};b();q.exports=c;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);k=a(301);q=(function(){function g(f,d,h){this.tag=f;this.view=d;this.l=h;this.startOffset=h.offset;}g.EG=function(f,d,h){var m,l;m=f.Aa();l=f.z1();f=new (k.bk[m] || g)(m,f.bZ(l),f);f.parse(d,h);return f;};Object.defineProperties(g.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});g.prototype.parse=function(){this.l.offset=this.startOffset + this.length;this.l.Ki=0;return !0;};g.prototype.qF=function(f){var d;d=[];this.tag === f && d.push(this);if(this.bk)for(var h=0;h < this.bk.length;h++){d=c.__spreadArrays(d,this.bk[h].qF(f));}return d;};g.prototype.oh=function(f){for(f=this.qF(f);0 < f.length;){return f[0];}};g.prototype.lE=function(f){for(this.bk=[];this.l.offset < this.startOffset + this.length;){this.bk.push(g.EG(this.l,f,this));}};return g;})();b.Su=q;q.prototype.skip=q.prototype.parse;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.jNa="PboPlaydataServicesSymbol";b.yU="PboPlaydataServicesProviderSymbol";},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.zM=b.hmb=void 0;c=a(30);b.hmb=function(){this.jJ=[];this.oo=[];this.wVa=[];this.goa=c.Ax.Fx;this.vga=c.pm.Fx;};b.zM="DeviceCapabilitiesConfigSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.JU="SourceBufferTypeProviderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.qU="MslProviderSymbol";},function(q){function b(f,d){return f.some(function(h){return h.id === d;});}function a(f,d){return f.filter(c.bind(null,d)).map(k).reduce(g,0);}function c(f,d){return f.id === d.id && f.displayTime + f.duration === d.displayTime;}function k(f){return f.duration;}function g(f,d){return f + d;}q.exports={lCb:function(f,d,h){for(var m=0;m < f.length;m++){if(f[m] !== d[m])return (h.error("indexId mismatch in sidx",{sIndexId:f,mIndexId:d}),!1);}return !0;},cqa:function(f,d,h){var m;m={};m.displayTime=f.displayTime;m.duration=f.duration;m.originX=f.dYb;m.originY=f.eYb;m.sizeX=f.N4b;m.sizeY=f.O4b;m.imageData=d;m.id=f.nK;m.rootContainerExtentX=h.q2b;m.rootContainerExtentY=h.r2b;return m;},Psa:function(f,d){return "o_" + f + "s_" + d;},T8b:function(f,d){d("P" === String.fromCharCode(f[1]));d("N" === String.fromCharCode(f[2]));d("G" === String.fromCharCode(f[3]));},Gd:function(f){return "undefined" !== typeof f;},djc:b,Ufc:a,gZ:function(f,d){var h,m;h=Object.create({});for(m in f){h[m]=f[m];}f instanceof Error && (h.message=f.message,h.stack=f.stack);h.errorString=d;return h;},assert:function(f,d){if(!f)throw (d && d.error(Error("Assertion Failed").stack),Error("Assertion Failed"));},s5a:function(f){return f && 0 < f.entries.length && 0 === f.images.length;},O5b:function(f,d){for(var h=d.entries.length,m,l=0;l < h;l++){if((m=d.entries[l],m.displayTime <= f && m.displayTime + m.duration >= f))return !0;}return !1;},P5b:function(f,d,h){for(var m=h.entries.length,l,n,p=0;p < m;p++){l=h.entries[p];n=l.displayTime;l=n + l.duration;if(d < n)break;if(n <= f && l >= f || n > f && n <= d)return !0;}return !1;},HYa:function(f){return f.map(function(d,h){d.duration+=a(f.slice(h + 1),d);return d;}).reduce(function(d,h){b(d,h.id) || d.push(h);return d;},[]);},Hta:function(f){return f.reduce(function(d,h){return d + h.entries.reduce(function(m,l){return l.zua + m;},0);},0);},nHb:function(f,d){return f && f.xz <= d && f.Es >= d;},qMb:function(f){if(f)return f.endTime;},MMb:function(f){try{return String.fromCharCode.apply(String,f);}catch(d){}return "";}};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.dI="PlaygraphConfigSymbol";},function(q,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.yv=b.Pjb=void 0;b.Pjb=a;b.yv=new a();},function(q,b,a){var k,g,f;function c(d,h,m,l){h=f.Nk.call(this,d,h,l) || this;h.context=d;h.vra=m;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.Us=void 0;q=a(2);k=a(0);g=a(76);f=a(99);a(205);na(c,f.Nk);c.prototype.mh=function(d,h){var m,l;m=this;l=this.j9(h);!1;!1;return this.send(d,{url:h.href,name:g.ri.events,Hs:g.ri.events + "/" + this.vra},l).then(function(){return h;}).catch(function(n){throw m.wq(n);});};c.prototype.Mt=function(d,h,m){var l,n,p;l=this;n=this.j9(m);!1;!1;p={url:h.kZ("events").href,name:g.ri.events,Hs:g.ri.events + "/" + this.vra};return this.send(d,p,n).then(function(r){h.iVa(r.result.links);return m;}).catch(function(r){throw l.wq(r);});};c.prototype.j9=function(d){return {event:this.vra,xid:d.ja,position:d.position || 0,clientTime:d.nX,sessionStartTime:d.m2,videoTrackId:d.OS,audioTrackId:d.Lo,timedTextTrackId:d.xS,mediaId:d.MQ,trackId:d.trackId,sessionId:d.sessionId,appId:d.appId,playTimes:this.cAb(d.X0),sessionParams:d.ho};};c.prototype.Loa=function(d){return {downloadableId:d.Ec,duration:d.duration};};c.prototype.cAb=function(d){var h;h={total:d.total,audio:d.audio.map(this.Loa),video:d.video.map(this.Loa),text:d.text.map(this.Loa)};d.total !== d.eM && (h.totalContentTime=d.eM);0 !== d.gH && (h.totalAdDuration=d.gH);0 !== d.hH && (h.totalOtherDuration=d.hH);if(0 !== d.hH || 0 !== d.gH)h.totalCombinedDuration=d.AS;return h;};a=c;a=q.__decorate([(0,k.X)(),q.__param(0,(0,k.zp)()),q.__param(1,(0,k.zp)()),q.__param(2,(0,k.zp)()),q.__param(3,(0,k.zp)())],a);b.Us=a;},function(q){q.exports=Number.isNaN || (function(b){return b !== b;});},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.AH="BrowserInfoSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});q=(function(){function a(c){this.buffer=c;this.position=0;}a.prototype.seek=function(c){this.position=c;};a.prototype.skip=function(c){this.position+=c;};a.prototype.wta=function(){return this.buffer.length - this.position;};a.prototype.KC=function(){return this.buffer[this.position++];};a.prototype.Sg=function(c){var k;k=this.position;this.position+=c;return this.dSb(this.buffer)?this.buffer.subarray(k,this.position):this.buffer.slice(k,this.position);};a.prototype.dSb=function(c){return void 0 !== c.subarray;};a.prototype.Fs=function(c){for(var k=0;c--;){k=256 * k + this.buffer[this.position++];}return k;};a.prototype.Aza=function(c){for(var k="";c--;){k+=String.fromCharCode(this.buffer[this.position++]);}return k;};a.prototype.ii=function(){return this.Fs(2);};a.prototype.Gs=function(){return this.Fs(4);};a.prototype.BR=function(){return this.Fs(8);};a.prototype.yz=function(c){for(var k,g="";c--;){k=this.KC();g+=("0123456789ABCDEF")[k >>> 4] + ("0123456789ABCDEF")[k & 15];}return g;};a.prototype.Bza=function(c){for(var k=0,g=0;g < c;g++){k+=this.KC() << (g << 3);}return k;};a.prototype.AR=function(){return this.Bza(4);};a.prototype.Q3=function(c){this.TS(c,2);};a.prototype.lD=function(c){this.TS(c,4);};a.prototype.Gga=function(c){this.buffer[this.position++]=c;};a.prototype.TS=function(c,k){this.position+=k;for(var g=1;g <= k;g++){this.buffer[this.position - g]=c & 255;c=Math.floor(c / 256);}};a.prototype.kD=function(c){for(var k=0;k < c.length;k++){this.buffer[this.position++]=c.charCodeAt(k);}};a.prototype.P3=function(c){for(var k=c.length,g=0;g < k;g++){this.buffer[this.position++]=c[g];}};a.prototype.SS=function(c,k){this.P3(c.Sg(k));};a.prototype.cjb=function(c){c=new a(c);for(var k,g;;){if((k=c.wta(),g=k >>> 14))(g=Math.min(4,g),this.Gga(192 | g),this.SS(c,16384 * g));else {128 > k?this.Gga(k):this.TS(k | 32768,2);this.SS(c,k);break;}}};a.prototype.kcb=function(){var g;for(var c=[],k=new a(c);;){g=this.KC();if(g & 128){if(128 == (g & 192))(g&=63,g=(g << 8) + this.KC(),k.SS(this,g));else if((g&=63,0 < g && 4 >= g)){k.SS(this,16384 * g);continue;}else throw Error("bad asn1");}else k.SS(this,g);break;}return new Uint8Array(c);};return a;})();b.BT=q;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.n4="CannedChallengeProvider";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.ePa="ReportSyncSymbol";b.cPa="ReportApiErrorSyncSymbol";b.KHa="FtlProbeConfigSymbol";b.MHa="FtlProbeSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.c4="ApiInfoSymbol";},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.WOa=b.s6=b.saa=void 0;c=a(34);k=a(3);b.saa=function(g){return g === c.$b.Fl.mc?k.S.aja:k.S.bja;};b.s6=50;b.WOa=1E3;},function(q,b){function a(c){var k;k={profile:c.spoofedProfile || c.profile,$$:c.max_framerate_value,Z$:c.max_framerate_scale,maxWidth:c.maxWidth,maxHeight:c.maxHeight,Gya:c.pixelAspectX,Hya:c.pixelAspectY,channels:c.channels,sampleRate:c.channels?48E3:void 0};c.spoofedProfile && (k.pic=c.profile);return k;}Object.defineProperties(b,{__esModule:{value:!0}});b.w3a=b.gta=void 0;b.gta=function(c,k,g){var f;f=[{},{}];(0 === g?["audio_tracks"]:["audio_tracks","video_tracks"]).forEach(function(d,h){c[d].some(function(m,l){return l === k[h]?(f[h]=a(m),!0):!1;});});return f;};b.w3a=a;},function(q,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.$z=void 0;c=a(245);k=a(4);q=(function(){function g(f){this.config=f;this.reset();}g.instance=function(){k.assert(void 0 !== g.ON);return g.ON;};g.zCb=function(f){g.ON=new g(f);};g.prototype.push=function(f){this.Cl && this.Cl.push(f);};g.prototype.Jb=function(){if(this.Cl)return (this.Cl.qB(),this.Cl.vk([.25,.5,.75,.9,.95,.99]).map(function(f){return f?parseFloat(f.toFixed(1)):0;}));};g.prototype.reset=function(){this.config.u0a && this.config.Gia && (this.Cl=new c.Mdc(this.config.Gia.c,this.config.Gia.maxc));};return g;})();b.$z=q;},function(q,b){function a(k,g){return "number" !== typeof k || "number" !== typeof g?!1:k && g?Math.abs(k * g / c(k,g)):0;}function c(k,g){var f;k=Math.abs(k);for(g=Math.abs(g);g;){f=g;g=k % g;k=f;}return k;}Object.defineProperty(b,"__esModule",{value:!0});q=(function(){function k(g,f){"object" === typeof g?(this.Yb=g.qa,this.gb=g.I):(this.Yb=g,this.gb=f);}k.Sa=function(g){return new k(g,1E3);};k.zS=function(g,f){return Math.floor(1E3 * g / f);};k.ida=function(g,f){return Math.floor(g * f / 1E3);};k.max=function(){for(var g=[],f=0;f < arguments.length;f++){g[f]=arguments[f];}return g.reduce(function(d,h){return d.greaterThan(h)?d:h;});};k.min=function(){for(var g=[],f=0;f < arguments.length;f++){g[f]=arguments[f];}return g.reduce(function(d,h){return d.lessThan(h)?d:h;});};k.Nt=function(g,f){var d;if(g.I === f.I)return new k(c(g.qa,f.qa),g.I);d=a(g.I,f.I);return k.Nt(g.Yc(d),f.Yc(d));};Object.defineProperties(k.prototype,{qa:{get:function(){return this.Yb;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{I:{get:function(){return this.gb;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{V:{get:function(){return 1E3 * this.Yb / this.gb;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{Nh:{get:function(){return this.Yb / this.gb;},enumerable:!0,configurable:!0}});k.prototype.Yc=function(g){g/=this.I;return new k(Math.floor(this.qa * g),Math.floor(this.I * g));};k.prototype.add=function(g){var f;if(this.I === g.I)return new k(this.qa + g.qa,this.I);f=a(this.I,g.I);return this.Yc(f).add(g.Yc(f));};k.prototype.Ia=function(g){return this.add(new k(-g.qa,g.I));};k.prototype.wC=function(g){return new k(this.qa * g,this.I);};k.prototype.Dj=function(g){var f;if(this.I === g.I)return this.qa / g.qa;f=a(this.I,g.I);return this.Yc(f).Dj(g.Yc(f));};k.prototype.cQ=function(g){return a(this.I,g);};k.prototype.Cea=function(){return new k(this.I,this.qa);};k.prototype.compare=function(g,f){var d;if(this.I === f.I)return g(this.qa,f.qa);d=a(this.I,f.I);return g(this.Yc(d).qa,f.Yc(d).qa);};k.prototype.equal=function(g){return this.compare(function(f,d){return f === d;},g);};k.prototype.n0=function(g){return this.compare(function(f,d){return f !== d;},g);};k.prototype.lessThan=function(g){return this.compare(function(f,d){return f < d;},g);};k.prototype.greaterThan=function(g){return this.compare(function(f,d){return f > d;},g);};k.prototype.DK=function(g){return this.compare(function(f,d){return f <= d;},g);};k.prototype.ms=function(g){return this.compare(function(f,d){return f >= d;},g);};k.prototype.toJSON=function(){return {ticks:this.qa,timescale:this.I};};k.prototype.toString=function(){return this.qa + "/" + this.I;};k.ib=new k(0,1);k.Lw=new k(1,1E3);return k;})();b.O=q;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);k=a(27);q=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}c.__extends(f,g);f.prototype.parse=function(d){var h;h=g.prototype.parse.call(this,d);this.l.offset+=8;this.Hv=this.l.lb();this.fx=this.l.lb();this.l.offset+=4;this.samplerate=this.l.lb();this.l.offset+=2;k.aa && this.l.console.trace("MP4AudioSampleEntry: channelcount: " + this.Hv + ", samplesize: " + this.fx + ", samplerate: " + this.samplerate);if(null === d || void 0 === d?0:d.Ya)(d.Ya.Hv=this.Hv,d.Ya.fx=this.fx,d.Ya.samplerate=this.samplerate);return h;};f.wa=!1;return f;})(a(250).default);b.default=q;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);k=a(28);q=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}c.__extends(f,g);f.prototype.parse=function(d){var h;h=g.prototype.parse.call(this,d);this.l.offset+=8;this.Hv=this.l.lb();this.fx=this.l.lb();this.l.offset+=4;this.samplerate=this.l.lb();this.l.offset+=2;k.aa && this.l.console.trace("MP4AudioSampleEntry: channelcount: " + this.Hv + ", samplesize: " + this.fx + ", samplerate: " + this.samplerate);if(null === d || void 0 === d?0:d.Ya)(d.Ya.Hv=this.Hv,d.Ya.fx=this.fx,d.Ya.samplerate=this.samplerate);return h;};f.wa=!1;return f;})(a(262).default);b.default=q;},function(q,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.zx=void 0;a(4);q=(function(){function c(k,g){c.xa(this,k,g);}c.xa=function(k,g,f){k.Bd=g;k.Od=f.ga;k.xf=f.offset;};Object.defineProperties(c.prototype,{stream:{get:function(){return this.Bd;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{ga:{get:function(){return this.Od;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{offset:{get:function(){return this.xf;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{R:{get:function(){return this.Bd.R;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{L:{get:function(){return this.Bd.L;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{mediaType:{get:function(){return this.Bd.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Za:{get:function(){return this.Bd.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{bitrate:{get:function(){return this.Bd.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{profile:{get:function(){return this.Bd.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{I:{get:function(){return this.Bd.I;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{UQ:{get:function(){return this.Bd.UQ;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{$:{get:function(){return this.Bd.$;},enumerable:!1,configurable:!0}});c.prototype.toJSON=function(){return {movieId:this.L,streamId:this.Za,offset:this.offset,bytes:this.ga};};return c;})();b.zx=q;},function(q,b){var a,c;Object.defineProperties(b,{__esModule:{value:!0}});b.CJa=b.p6=void 0;a=(function(){function k(){var g;g=this;this.XV=[];this.s1b=function(f){f=g.XV.indexOf(f);0 <= f && g.XV.splice(f,1);};}Object.defineProperties(k.prototype,{ty:{get:function(){return 0 !== this.XV.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{O$a:{get:function(){return this.XV.length;},enumerable:!1,configurable:!0}});k.prototype.add=function(){var g;g=new c(this.s1b);this.XV.push(g);return g;};k.prototype.Fga=function(g){var f;f=this.add();try{return Promise.resolve(g()).then(function(d){f.release();return d;},function(d){f.release();return Promise.reject(d);});}catch(d){return (f.release(),Promise.reject(d));}};return k;})();b.p6=a;c=(function(){function k(g){this.Fvb=g;}k.prototype.release=function(){this.Fvb(this);};return k;})();q=(function(){function k(g,f){this.NXb=g;this.console=f;this.counter=new a();}k.prototype.XA=function(){var g,f;g=this;this.console.trace("Acquiring lease, total count",this.counter.O$a + 1);f=this.counter.add();return {release:function(){f.release();g.console.trace("Releasing lease, total count",g.counter.O$a);g.NXb(function(){return !g.counter.ty;});}};};return k;})();b.CJa=q;},function(q,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.vH=void 0;c=a(1);k=c.__importDefault(a(5));q=(function(g){function f(d,h,m,l,n){var p;p=g.call(this,m) || this;p.z8=!1;f.xa(p,d,h,m,l,n);return p;}c.__extends(f,g);f.xa=function(d,h,m,l,n,p){d.Gf=l;d.R1=h;d.Kf=n;d.DI=h.location || m.location;d.$V=h.Xc || m.Pe;d.QAa=h.QAa || m.QAa;d.FK=m.FK;d.Rfa=k.default.time.ma();d.J=p;};Object.defineProperties(f.prototype,{console:{get:function(){return this.J;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{location:{get:function(){return this.DI;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Pe:{get:function(){return this.$V;},enumerable:!1,configurable:!0}});f.prototype.xa=function(d){this.eb=d;};f.prototype.bBa=function(d,h){this.DI=d;this.$V=h;};f.prototype.QCa=function(){var d,h,m;if(this.complete)return 0;d=this.R1;h=d.R;if(!d.url)return (this.J.warn("updateurl, missing url for streamId:",d.Za,"mediaRequest:",this,"stream:",d),1);m=d.Y3a(this.Qc,this.FK);return this.url === m || (h.bBa(this,d.location,d.Xc),this.Mfa(m))?0:(this.J.warn("swapUrl failed: ",this.GP),2);};return f;})(a(87).yx);b.vH=q;},function(q,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Gka=b.vo=void 0;c=a(163);(function(g){g[g.pending=0]="pending";g[g.Zea=1]="running";g[g.complete=2]="complete";g[g.iP=3]="destroyed";})(k=b.vo || (b.vo={}));q=(function(){function g(f,d){void 0 === d && (d=0);this.name=f;this.priority=d;this.cd=k.pending;}Object.defineProperties(g.prototype,{state:{get:function(){return this.cd;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{gRb:{get:function(){return this.cd === k.pending || this.cd === k.Zea;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{qf:{get:function(){return this.py;},enumerable:!1,configurable:!0}});g.prototype.Pyb=function(f){var d;null === (d=this.py) || void 0 === d?void 0:d.Rza(this);this.py=f;};g.prototype.Bz=function(){this.cd=k.Zea;this.mh();this.tda() === c.Hl.lDa && (this.cd=k.complete);};g.prototype.Rb=function(){var f;this.cd=k.iP;null === (f=this.py) || void 0 === f?void 0:f.Rza(this);};return g;})();b.Gka=q;},function(q,b,a){var g,f,d,h,m,l,n,p;function c(r,t){return r.done?r:{value:{value:r.value,WUa:t}};}function k(r){r.WUa();return {done:!1,value:r.value};}Object.defineProperties(b,{__esModule:{value:!0}});b.mzb=b.aqb=b.vM=void 0;g=a(1);q=a(13);f=a(164);d=a(15);h=g.__importDefault(a(5));m=a(8);l=a(4);a=a(39);n=(function(){function r(t,w){this.console=t;this.Dg=w;this.hub=this.jV=0;this.Yg=[];this.console=m.jk(h.default,this.console,"QueueIterator:");}Object.defineProperties(r.prototype,{CGb:{get:function(){return this.jV;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{uYa:{get:function(){var t,w,v;for(w=0;w < this.Yg.length;w++){v=this.Yg[w];if(!v.d_ || (null === (t=v.item) || void 0 === t?0:t.done))break;}return w;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{count:{get:function(){return this.Dg;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{aC:{get:function(){return 0 === this.Dg;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{cAa:{get:function(){var t;for(t=0;t < this.Yg.length && this.Yg[t].uva;t++){;}return t;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{head:{get:function(){var t;t=g.__read(this.Yg,1)[0];return (t=t && t.item) && !t.done && t.value;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Bxa:{get:function(){var t;for(t=0;t < this.Yg.length && this.Yg[t].d_;t++){;}return t;},enumerable:!1,configurable:!0}});r.prototype.u$=function(){var t;if(void 0 === this.Dg){t=this.console;d.aa && t && t.trace("QueueIterator: enqueueEnd");this.KCa(this.Bxa - (this.Dg || 0));}};r.prototype.kr=function(){return this.Yg.map(function(t){return t.item;});};r.prototype.Wfa=function(){this.gg || (this.gg=this.Yg.filter(function(t){return (null === t || void 0 === t?void 0:t.item) && !t.item.done;}).map(function(t){return t.item.value;}));return this.gg;};r.prototype.KCa=function(t){var w;d.aa && this.console.trace("updateCount",{kic:this.Dg,nq:t});if(void 0 !== this.Dg){w=this.Yg[this.Dg];w && this.Tua(w);}this.Dg=void 0 === this.Dg?t:void 0 === t?t:this.Dg + t;void 0 !== this.Dg && (this.Dg=Math.max(0,this.Dg),(w=this.Yg[this.Dg]) && w.yK.resolve({done:!0}));};r.prototype.enqueue=function(t){var w;d.aa && this.console.trace("Enqueue called");w=this.Bxa;this.t9();return this.$_b(w,{value:t,done:!1}).p_a.promise;};r.prototype.pdb=function(){d.aa && this.console.trace("resetEnd");this.KCa(void 0);};r.prototype.clear=function(t){var w,v,u;d.aa && this.console.trace("clear");this.Ybb();w=this.cAa;v=this.Yg.length - w;if(0 < v){u={index:w,Qxa:v};d.aa && this.console.trace("Removing items",u);this.Yg.splice(w,v);this.t9();this.emit("onRemoved",u);}for(v=1;v < w;v++){this.Tua(this.Yg[v]);}this.Dg=void 0;this.KCa(t?t + w:t);this.jV && (this.jV=0);};r.prototype.getIterator=function(){var t,w;t=this;w=m.jk(h.default,this.console,"QueueIteratorInstance::");return new p(this,function(v){return t.C3a(v);},w);};r.prototype.gP=function(){var t;if(0 < this.cAa){t=g.__read(this.Yg,1)[0];if(t.d_)return (d.aa && this.console.trace("dequeue",t.id),this.Ybb(1),this.emit("onDequeue",t.yK.promise));}};r.prototype.remove=function(t){var w,v,u;for(w=0;w < this.Yg.length;w++){v=this.Yg[w];u=v.item;if(u && !u.done && u.value === t){this.Yg.splice(w,1);this.Dg && this.Dg > w && this.Dg--;this.t9();d.aa && this.console.trace("removed",{id:v.id});this.emit("onRemoved",{index:w,Qxa:1});break;}}};r.prototype.Ybb=function(t){var w;t=t || Math.min(this.cAa,this.Bxa);if(0 < t){w=this.Yg.splice(0,t);this.t9();this.Dg && (this.Dg-=t);d.aa && this.console.trace("pruned",t);Promise.resolve().then(function(){w.forEach(function(v){v.p_a.resolve();});});this.emit("onRemoved",{index:0,Qxa:t});this.jV+=t;}};r.prototype.C3a=function(t){var w;d.aa && this.console.trace("getNextItemCalled",{offset:t});if(void 0 === this.count || 0 < this.count){this.J5a(t);w=this.Yg[t];w.V1b.resolve();t=w.yK.promise;d.aa && this.console.trace("getNextItem:return",{id:w.id});}else (d.aa && this.console.trace("getNextItem:returnDone"),t=Promise.resolve({done:!0}));return t;};r.prototype.$_b=function(t,w){var v;v=!w.done && w.value;v=v && v.toJSON?v.toJSON():v;d.aa && this.console.trace("Providing result",{zyb:t,item:v});this.J5a(t);t=this.Yg[t];v=t.yK.resolve;v(w);return t;};r.prototype.J5a=function(t){var w;if(void 0 === this.Yg[t]){w={};this.Tua(w);this.Yg[t]=w;t === this.Dg && w.yK.resolve({done:!0});d.aa && this.console.trace("Item initialized",{zyb:t});}};r.prototype.aqa=function(t){var w;w={};w.promise=new Promise(function(v,u){w.resolve=function(x){v(x);t && t(x);};w.reject=u;});return w;};r.prototype.Tua=function(t){var w;w=this;t.yK=this.aqa(function(v){t.item=v;t.d_=!0;d.aa && w.console.trace("Item resolved",{id:t.id});});t.id && t.uva && !t.d_ && (t.yK.resolve({done:!0}),d.aa && this.console.warn("Overwriting requested queue item",t.id));t.p_a=this.aqa();t.V1b=this.aqa(function(){t.uva=!0;d.aa && w.console.trace("Item requested",{id:t.id});});t.id=this.hub++;t.uva=!1;t.d_=!1;t.item=void 0;};r.prototype.t9=function(){this.gg=void 0;};r.prototype.ysa=function(){var t,w,v;t=this;w=m.jk(h.default,this.console,"QueueIteratorInstance::");v=new p(this,function(u){var x,y;if(0 === t.count)return f.AsyncIterator.Nta();x=t.C3a(u);y=t.Yg[0];return x.then(function(z){return c(z,function(){v.sQ || (y === t.Yg[0]?t.gP():l.assert(!t.Yg.filter(function(A){return A.yK.promise === x;}).length,"Out of order acknowledgements are not supported"));});});},w);return v;};return r;})();b.vM=n;a.Xe(q.EventEmitter,n);p=(function(r){function t(w,v,u){var x;x=r.call(this,function(){d.aa && x.console.trace("Next item requested",{index:x.index});return x.s2b(x.index++);}) || this;x.parent=w;x.s2b=v;x.console=u;x.QN=!1;x.index=0;x.Zla=!1;x.aab=function(y){var z;z=y.index;y=y.Qxa;x.index >= z && (x.index=Math.max(z,x.index - y));z=x.console;d.aa && z && z.trace("QueueIteratorInstance: onRemoved modified",x.index);};return x;}g.__extends(t,r);t.prototype.Ei=function(){this.console.trace("disposed");this.QN=!0;this.sd();r.prototype.Ei.call(this);};t.prototype.next=function(){this.sQ || this.qQ();return r.prototype.next.call(this);};t.prototype.cancel=function(){this.sd();return r.prototype.cancel.call(this);};t.prototype.sd=function(){this.parent.zC("onRemoved",this.aab);this.Zla=!1;};t.prototype.qQ=function(){this.Zla || (this.Zla=!0,this.parent.on("onRemoved",this.aab));};return t;})(f.AsyncIterator);b.aqb=p;b.mzb=function(r){return f.map(r,k);};},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.y6=void 0;q=(function(){function a(c){this.parent=c;}Object.defineProperties(a.prototype,{q7a:{get:function(){var c,k;return null !== (c=this.FPb) && void 0 !== c?c:null === (k=this.parent) || void 0 === k?void 0:k.q7a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{p_:{get:function(){var c,k;return null !== (c=this.BWb) && void 0 !== c?c:null === (k=this.parent) || void 0 === k?void 0:k.p_;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ws:{get:function(){var c,k;return null !== (c=this.cg) && void 0 !== c?c:null === (k=this.parent) || void 0 === k?void 0:k.ws;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{v7a:{get:function(){var c,k,g,f;return null !== (c=this.nf) && void 0 !== c?c:(null === (k=this.track) || void 0 === k?0:k.equals(null === (g=this.parent) || void 0 === g?void 0:g.track))?null === (f=this.parent) || void 0 === f?void 0:f.nf:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{y7a:{get:function(){var c,k;return null !== (c=this.t5b) && void 0 !== c?c:null === (k=this.parent) || void 0 === k?void 0:k.y7a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Tva:{get:function(){var c,k;return null !== (c=this.u5b) && void 0 !== c?c:null === (k=this.parent) || void 0 === k?void 0:k.Tva;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{track:{get:function(){return this.b3b;},enumerable:!1,configurable:!0}});a.prototype.Rb=function(){this.parent=void 0;};a.prototype.ueb=function(c){this.FPb=c;};a.prototype.L3b=function(c){this.BWb=c;};a.prototype.Heb=function(c){this.cg=c;};a.prototype.r2=function(c){this.nf=c;};a.prototype.W3b=function(c){this.t5b=c;};a.prototype.Jeb=function(c){this.u5b=c;};a.prototype.t2=function(c){this.b3b=c;};return a;})();b.y6=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});q=a(454);c=a(456);a=a(457);b.default={STARTING:a.HAa,BUFFERING:q.SR,REBUFFERING:q.SR,PLAYING:c.up,PAUSED:c.up};},function(q,b,a){var c,k,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.XP=b.xH=void 0;c=a(1033);k=a(1034);g=a(1035);f=a(197);Object.defineProperties(b,{xH:{enumerable:!0,get:function(){return f.xH;}}});b.XP=function(d,h){switch(d.Kwa){case "manifold":return new c.MKa(d,h);case "stddev":return new g.iQa(d,h);default:return new k.TPa(d,h);}};},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.xH=void 0;c=a(105);k=a(460);g=a(34);q=(function(){var R8;R8=2;function f(d,h){var a00,m;a00=2;for(;a00 !== 8;){switch(a00){case 4:var b59="1S";b59+="IYb";b59+="ZrNJ";b59+="Cp9";this.Mib=this.V8=null;this.f1=function(l,n,p){var b00;b00=2;for(;b00 !== 5;){switch(b00){case 2:l=m.Yo(l,p);return m.config.CWa?(n=c.sra(m.config.BWa,n.gl - n.Ac,1),l * (1 - n)):l * m.config.X2 / 100;break;}}};b59;a00=8;break;case 2:m=this;a00=1;break;case 1:this.config=d;this.JQ=h;a00=4;break;}}}for(;R8 !== 14;){switch(R8){case 8:f.prototype.DZ=function(){var i00;i00=2;for(;i00 !== 1;){switch(i00){case 2:return this.Mib;break;case 4:return this.Mib;break;i00=1;break;}}};f.prototype.JCa=function(d){var j00;j00=2;for(;j00 !== 1;){switch(j00){case 2:this.config=d;j00=1;break;}}};return f;break;case 2:f.prototype.z_a=function(d,h){var c00,m;c00=2;for(;c00 !== 3;){switch(c00){case 2:m=null === this.V8?d * (100 - this.config.X2) / 100:k.Una(d,this.V8);h=null !== h && void 0 !== h?h:this.JQ;this.config.dwa && h?(d=k.Una(d,h),d=Math.max(d,m)):d=m;return d;break;}}};f.prototype.$eb=function(d){var d00;d00=2;for(;d00 !== 1;){switch(d00){case 2:return this.config.jIb && (d === g.Da.Sh || d === g.Da.Md);break;}}};f.prototype.Yo=function(d,h){var e00,m,l,n;e00=2;for(;e00 !== 5;){switch(e00){case 2:return this.$eb(h)?(null === (m=d.O5a) || void 0 === m?void 0:m.Ca) || (null === (l=d.fb) || void 0 === l?void 0:l.Ca) || 0:(null === (n=d.fb) || void 0 === n?void 0:n.Ca) || 0;break;}}};R8=4;break;case 4:f.prototype.Dz=function(d){var f00;f00=2;for(;f00 !== 1;){switch(f00){case 2:this.V8=d;f00=1;break;}}};f.prototype.UY=function(){var g00;g00=2;for(;g00 !== 1;){switch(g00){case 2:return this.V8;break;}}};f.prototype.KL=function(d){var h00;h00=2;for(;h00 !== 1;){switch(h00){case 2:this.Mib=d;h00=1;break;case 4:this.Mib=d;h00=2;break;h00=1;break;}}};R8=8;break;}}})();b.xH=q;},function(q,b,a){var c,k,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Vx=void 0;c=a(1);k=a(15);g=a(8);f=a(56);q=(function(){function d(h,m){this.uh=h;this.options=c.__assign({TBb:!0},m);}Object.defineProperties(d.prototype,{gG:{get:function(){return "trace-" + this.uh.source;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Kg:{get:function(){return this.gG;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return k.aa;},enumerable:!1,configurable:!0}});d.prototype.Fm=function(h){var m,l;if(h.kj === f.ue.rq || h.kj === f.ue.yp){m=g.XZa(this.uh.qSb);l=this.uh.LPb;h.kj === f.ue.rq && this.options.TBb && this.uh.clear();h=m;Object.keys(l).length && (h=c.__spread(m,[l]));return h;}};d.prototype.Rb=function(){this.uh.Rb();};return d;})();b.Vx=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Lx=void 0;q=b.Lx || (b.Lx={});q[q.HCa=0]="up";q[q.iY=1]="down";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});q.exports=function(a){return {minInitVideoBitrate:a.Iw,minHCInitVideoBitrate:a.mxa,maxInitVideoBitrate:a.oC,minInitAudioBitrate:a.a0,maxInitAudioBitrate:a.K_,minHCInitAudioBitrate:a.Z_,minAcceptableVideoBitrate:a.Uca,minRequiredBuffer:a.QK,minPrebufSize:a.Hj,minCheckBufferingCompleteInterval:a.Yca,rebufferingFactor:a.Fza,useMaxPrebufSize:a.WCa,maxPrebufSize:a.qC,maxRebufSize:a.Vwa,maxBufferingTime:a.ys,minAudioMediaRequestSizeBytes:a.Vca,minVideoMediaRequestSizeBytes:a.cda,initialBitrateSelectionCurve:a.uba,initSelectionLowerBound:a.K5a,initSelectionUpperBound:a.L5a,throughputPercentForAudio:a.X2,bandwidthMargin:a.soa,bandwidthMarginContinuous:a.toa,bandwidthMarginCurve:a.uoa,conservBandwidthMargin:a.Qpa,switchConfigBasedOnInSessionTput:a.dCa,conservBandwidthMarginTputThreshold:a.wX,conservBandwidthMarginCurve:a.Rpa,switchAlgoBasedOnHistIQR:a.mgb,switchConfigBasedOnThroughputHistory:a.bH,maxPlayerStateToSwitchConfig:a.Uwa,lowEndMarkingCriteria:a.wwa,IQRThreshold:a.Bia,histIQRCalcToUse:a.pua,maxTotalBufferLevelPerSession:a.Fw,highWatermarkLevel:a.e5a,toStableThreshold:a.Vgb,toUnstableThreshold:a.Vfa,skipBitrateInUpswitch:a.xBa,watermarkLevelForSkipStart:a.oDa,highStreamRetentionWindow:a.hba,lowStreamTransitionWindow:a.vca,highStreamRetentionWindowUp:a.lua,lowStreamTransitionWindowUp:a.ywa,highStreamRetentionWindowDown:a.kua,lowStreamTransitionWindowDown:a.xwa,highStreamInfeasibleBitrateFactor:a.jua,lowestBufForUpswitch:a.iC,lockPeriodAfterDownswitch:a.qca,lowWatermarkLevel:a.Awa,lowestWaterMarkLevel:a.jC,lowestWaterMarkLevelBufferRelaxed:a.Bwa,mediaRate:a.$wa,maxTrailingBufferLen:a.JK,audioBufferTargetAvailableSize:a.IW,videoBufferTargetAvailableSize:a.C3,maxVideoTrailingBufferSize:a.g9a,maxAudioTrailingBufferSize:a.N8a,fastUpswitchFactor:a.I$,fastDownswitchFactor:a.Era,maxMediaBufferAllowed:a.eu,simulatePartialBlocks:a.tBa,simulateBufferFull:a.cfb,considerConnectTime:a.Spa,connectTimeMultiplier:a.Ppa,lowGradeModeEnterThreshold:a.h8a,lowGradeModeExitThreshold:a.i8a,maxDomainFailureWaitDuration:a.P8a,maxAttemptsOnFailure:a.M8a,exhaustAllLocationsForFailure:a.R0a,maxNetworkErrorsDuringBuffering:a.X8a,maxBufferingTimeAllowedWithNetworkError:a.zca,fastDomainSelectionBwThreshold:a.Z0a,throughputProbingEnterThreshold:a.zgb,throughputProbingExitThreshold:a.Agb,locationProbingTimeout:a.W7a,finalLocationSelectionBwThreshold:a.f1a,throughputHighConfidenceLevel:a.xgb,throughputLowConfidenceLevel:a.ygb,locationStatisticsUpdateInterval:a.hwa,enablePerfBasedLocationSwitch:a.t0a,probeServerWhenError:a.Xw,probeRequestTimeoutMilliseconds:a.iza,allowSwitchback:a.aB,probeDetailDenominator:a.oL,maxDelayToReportFailure:a.Aca,countGapInBuffer:a.WYa,bufferThresholdForAbort:a.XWa,allowCallToStreamSelector:a.CVa,pipelineScheduleTimeoutMs:a.Fya,maxPartialBuffersAtBufferingStart:a.pC,maxActiveRequestsSABCell100:a.xca,maxStreamingSkew:a.Wwa,maxPendingBufferPercentage:a.Swa,headerRequestSize:a.fba,estimateHeaderSize:a.qra,minBufferLenForHeaderDownloading:a.X_,reserveForSkipbackBufferMs:a.V1,numExtraFragmentsAllowed:a.Pxa,pipelineEnabled:a.Bs,maxParallelConnections:a.KQ,socketReceiveBufferSize:a.kfb,audioSocketReceiveBufferSize:a.W8,videoSocketReceiveBufferSize:a.NS,headersSocketReceiveBufferSize:a.hua,updatePtsIntervalMs:a.lga,bufferTraceDenominator:a.Doa,bufferLevelNotifyIntervalMs:a.FO,aseReportDenominator:a.xO,aseReportIntervalMs:a.O8,enableAbortTesting:a.$Hb,abortRequestFrequency:a.Ywb,streamingStatusIntervalMs:a.VBa,prebufferTimeLimit:a.GC,minBufferLevelForTrackSwitch:a.Xca,penaltyFactorForLongConnectTime:a.yya,longConnectTimeThreshold:a.uwa,additionalBufferingLongConnectTime:a.Fna,additionalBufferingPerFailure:a.Gna,rebufferCheckDuration:a.B1,enableLookaheadHints:a.q0a,lookaheadFragments:a.e8a,enableOCSideChannel:a.BB,OCSCBufferQuantizationConfig:a.U5,updateDrmRequestOnNetworkFailure:a.Mhb,deferAseScheduling:a.j_a,maxDiffAudioVideoEndPtsMs:a.O8a,defaultHeaderCacheSize:a.T9,defaultHeaderCacheDataPrefetchMs:a.S9,neverWipeHeaderCache:a.VK,networkFailureResetWaitMs:a.yxa,networkFailureAbandonMs:a.xxa,maxThrottledNetworkFailures:a.Fca,throttledNetworkFailureThresholdMs:a.Pfa,lowThroughputThreshold:a.zwa,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.xra,mp4ParsingInNative:a.U9a,sourceBufferInOrderAppend:a.mfb,requireAudioStreamToEncompassVideo:a.vL,allowAudioToStreamPastVideo:a.BVa,enableManagerDebugTraces:a.fj,managerDebugMessageInterval:a.v8a,managerDebugMessageCount:a.u8a,bufferThresholdToSwitchToSingleConnMs:a.Coa,bufferThresholdToSwitchToParallelConnMs:a.Boa,netIntrStoreWindow:a.mWb,minNetIntrDuration:a.JVb,fastHistoricBandwidthExpirationTime:a.tJb,bandwidthExpirationTime:a.uzb,failureExpirationTime:a.qJb,historyTimeOfDayGranularity:a.KPb,expandDownloadTime:a.cJb,minimumMeasurementTime:a.WVb,minimumMeasurementBytes:a.VVb,throughputMeasurementTimeout:a.A6b,initThroughputMeasureDataSize:a.IQb,throughputMeasureWindow:a.z6b,throughputIQRMeasureWindow:a.y6b,IQRBucketizerWindow:a.Pnb,connectTimeHalflife:a.ACb,responseTimeHalflife:a.i2b,historicBandwidthUpdateInterval:a.JPb,throughputWarmupTime:a.E6b,minimumBufferToStopProbing:a.UVb,throughputPredictor:a.B6b,ase_stream_selector:a.Eyb,enableFilters:a.eIb,filterDefinitionOverrides:a.KJb,defaultFilter:a.lGb,secondaryFilter:a.O2b,defaultFilterDefinitions:a.mGb,initBitrateSelectorAlgorithm:a.Oua,bufferingSelectorAlgorithm:a.Ioa,ase_ls_failure_simulation:a.PZa,ase_dump_fragments:a.oqa,ase_location_history:a.pqa,ase_throughput:a.QZa,ase_simulate_verbose:a.SZa,secondThroughputEstimator:a.AAa,secondThroughputMeasureWindowInMs:a.Sdb,marginPredictor:a.Kwa,networkMeasurementGranularity:a.zxa,HistoricalTDigestConfig:a.uIa,maxIQRSamples:a.T8a,minIQRSamples:a.G9a,periodicHistoryPersistMs:a.Xda,saveVideoBitrateMs:a.afa,needMinimumNetworkConfidence:a.g0,biasTowardHistoricalThroughput:a.xoa,maxFastPlayBufferInMs:a.Bca,maxFastPlayBitThreshold:a.Qwa,minAudioMediaRequestDuration:a.iz,minVideoMediaRequestDuration:a.tC,minAudioMediaRequestDurationCache:a.iz,minVideoMediaRequestDurationCache:a.tC,addHeaderDataToNetworkMonitor:a.una,hindsightDenominator:a.oua,hindsightDebugDenominator:a.nua,hindsightParam:a.jba,minimumTimeBeforeBranchDecision:a.cG,minimumTimeBeforeDelayedSeekToQueuedSegment:a.N9a,enableSessionHistoryReport:a.vY,earlyStageEstimatePeriod:a.Wqa,lateStageEstimatePeriod:a.A7a,maxNumSessionHistoryStored:a.Dca,minSessionHistoryDuration:a.bda,appendMediaRequestOnComplete:a.RVa,waitForDrmToAppendMedia:a.Aga,forceAppendHeadersAfterDrm:a.R$,startMonitorOnLoadStart:a.EBa,reportFailedRequestsToNetworkMonitor:a.Yza,reappendRequestsOnSkip:a.u0b,maxActiveRequestsPerSession:a.dz,limitAudioDiscountByMaxAudioBitrate:a.dwa,appendFirstHeaderOnComplete:a.Rna,maxAudioFragmentOverlapMs:0,editVideoFragments:a.QHb,declareBufferingCompleteAtSegmentEnd:a.qqa,applyProfileTimestampOffset:a.iJ,applyProfileStreamingOffset:a.Io,mediaSourceSupportsNegativePts:a.S_,requireDownloadDataAtBuffering:a.Oea,requireSetupConnectionDuringBuffering:a.Pea,recordFirstFragmentOnSubBranchCreate:a.Hza,earlyAppendSingleChildBranch:a.l$,selectStartingVMAFMethod:a.TR,activateSelectStartingVMAF:a.rW,minStartingVideoVMAF:a.Jw,minAcceptableVMAF:a.W_,minAllowedVmaf:a.PK,alwaysNotifyEOSForPlaygraph:a.myb,enableNewAse:a.vP,useNewApi:a.w3,enableCombinedPlaygraphs:a.o$,enableAdPlaygraphs:a.n$,excludedContentPlaygraphIds:a.yra,enableDiscontiguousBuffering:a.p$,forceImmediateTransitionTypeForTitles:a.gsa,forceImmediateTransitionExitZone:a.fsa,useBufferSizeLimiter:a.nga,useLegacyFragmentRounding:a.VCa,enableHudsonFieldTest:a.hIb,hudsonTitles:a.ZPb,maxPartialBuffersAtHudson:a.OUb,numberOfChunksPerSegment:a.YWb,targetContentLatency:a.o6b,targetLongContentLatency:a.p6b,minimumTimeDelay:a.XVb,enableWsslEstimate:a.cra,maxAllowedOutstandingRequests:a.yca,alwaysRunUnderflowTimer:a.tO,minStreamableConcurrencyWindow:a.nxa,streamableConcurrencyFactor:a.SBa,bufferingConcurrencyWindow:a.dX,singleStreamablePerBranch:a.M4b,enableResolutionVMAFStreamFilter:a.r$,resolutionVMAFCappingRuleList:a.Uea,percentCapTitlesForResolutionVMAFStreamFilter:a.Bya,useExitZones:a.TCa,perFragmentVMAFConfig:a.nR,enableInitialTputLogging:a.o0a,maxResponsesInitialTput:a.QUb};};},function(q){q.exports=function(b){return null != b && "object" === typeof b && !0 === b["@@functional/placeholder"];};},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);k=a(29);q=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}c.__extends(f,g);f.prototype.parse=function(d){var h;h=g.prototype.parse.call(this,d);this.l.offset+=8;this.Hv=this.l.lb();this.fx=this.l.lb();this.l.offset+=4;this.samplerate=this.l.lb();this.l.offset+=2;k.aa && this.l.console.trace("MP4AudioSampleEntry: channelcount: " + this.Hv + ", samplesize: " + this.fx + ", samplerate: " + this.samplerate);if(null === d || void 0 === d?0:d.Ya)(d.Ya.Hv=this.Hv,d.Ya.fx=this.fx,d.Ya.samplerate=this.samplerate);return h;};f.wa=!1;return f;})(a(300).default);b.default=q;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.fU="LogblobBuilderFactorySymbol";b.Ria="LogblobBuilderCommonSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mob="NativeLocalStorageSymbol";b.GLa="NativeLocalStorageFactorySymbol";b.GIa="IDBFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vpb=b.gmb=b.eGa=void 0;q=b.eGa || (b.eGa={});q.Wcc="PboDebugEvent";q.Zcc="PlaygraphEvent";b.gmb={Wbc:"Manifest",Event:"Event",Jbc:"Logblob"};b.Vpb={Wdc:"UX",hac:"Combined_1",iac:"Combined_2"};},function(q,b,a){var k,g;function c(f){switch(f){case k.S.UT:return "http";case k.S.WT:return "connectiontimeout";case k.S.KH:return "readtimeout";case k.S.kIa:return "corruptcontent";case k.S.AD:return "abort";case k.S.XT:case k.S.wia:return "unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.yta=b.P3a=b.mta=void 0;k=a(3);g=a(11);b.mta=c;b.P3a=function(f,d){f={errorcode:f + (d.errorCode || k.W.wo)};d.Ea && (f.errorsubcode=d.Ea);d.Xf && (f.errorextcode=d.Xf);d.mra && (f.erroredgecode=d.mra);d.ac && (f.errordetails=d.ac);d.Wl && (f.httperr=d.Wl);d.mda && (f.aseneterr=d.mda);d.PJ && (f.errordata=d.PJ);d.R_ && (f.mediaerrormessage=d.R_);(d=c(Number(d.Ea))) && (f.nwerr=d);return f;};b.yta=function(){return {screensize:g.Px.width + "x" + g.Px.height,screenavailsize:g.Px.availWidth + "x" + g.Px.availHeight,clientsize:pb.innerWidth + "x" + pb.innerHeight,devicePixelRatio:g.FLa};};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.dU="LicenseProviderSymbol";},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.hUb=b.Hab=b.IYb=b.C2a=b.QYb=b.gjb=b.fjb=b.Wz=b.rDa=b.ejb=b.S3=void 0;c=a(26);k=a(24);b.S3="$attributes";b.ejb="$children";b.rDa="$name";b.Wz="$text";b.fjb="$parent";b.gjb="$sibling";b.QYb=/^\s*<\?xml.*\?>/i;b.C2a=function(g,f,d){for(var h=2;h < arguments.length;++h){;}for(h=1;(f=arguments[h++]) && (g=g[f]);){;}return g;};b.IYb=function(g,f){var d;g?d=(0,c.tk)(g[b.Wz]):void 0 !== f && (d=f);(0,k.LX)(d);return d;};b.Hab=function(g,f){var d;g?d=g[b.Wz]:void 0 !== f && (d=f);(0,k.NZa)(d);return d;};b.hUb=function(g,f){var d;d={};d[b.S3]=g;d[b.Wz]=f;return d;};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.DD=void 0;q=b.DD || (b.DD={});q[q.Q$b=8]="Backspace";q[q.Qdc=9]="Tab";q[q.Wac=13]="Enter";q[q.Idc=16]="Shift";q[q.nac=17]="Ctrl";q[q.s$b=18]="Alt";q[q.Vcc=19]="PauseBreak";q[q.eac=20]="CapsLock";q[q.Yac=27]="Escape";q[q.Kdc=32]="Space";q[q.Ucc=33]="PageUp";q[q.Tcc=34]="PageDown";q[q.Vac=35]="End";q[q.Abc=36]="Home";q[q.Hbc=37]="LeftArrow";q[q.Ydc=38]="UpArrow";q[q.edc=39]="RightArrow";q[q.Cac=40]="DownArrow";q[q.Ebc=45]="Insert";q[q.zac=46]="Delete";q[q.gec=48]="Zero";q[q.Kcc=49]="One";q[q.Tdc=50]="Two";q[q.Rdc=51]="Three";q[q.ubc=52]="Four";q[q.sbc=53]="Five";q[q.Jdc=54]="Six";q[q.Hdc=55]="Seven";q[q.Uac=56]="Eight";q[q.vcc=57]="Nine";q[q.l$b=65]="A";q[q.t$b=66]="B";q[q.X$b=67]="C";q[q.glb=68]="D";q[q.E=69]="E";q[q.Zac=70]="F";q[q.vbc=71]="G";q[q.ybc=72]="H";q[q.Bbc=73]="I";q[q.Fbc=74]="J";q[q.Hia=75]="K";q[q.Snb=76]="L";q[q.Lbc=77]="M";q[q.Zbc=78]="N";q[q.Icc=79]="O";q[q.Mcc=80]="P";q[q.Q=81]="Q";q[q.adc=82]="R";q[q.hqb=83]="S";q[q.Nqb=84]="T";q[q.Udc=85]="U";q[q.Zdc=86]="V";q[q.aec=87]="W";q[q.Tka=88]="X";q[q.eec=89]="Y";q[q.fec=90]="Z";q[q.Ibc=91]="LeftWindowKey";q[q.fdc=92]="RightWindowKey";q[q.Fdc=93]="SelectKey";q[q.ycc=96]="Numpad0";q[q.zcc=97]="Numpad1";q[q.Acc=98]="Numpad2";q[q.Bcc=99]="Numpad3";q[q.Ccc=100]="Numpad4";q[q.Dcc=101]="Numpad5";q[q.Ecc=102]="Numpad6";q[q.Fcc=103]="Numpad7";q[q.Gcc=104]="Numpad8";q[q.Hcc=105]="Numpad9";q[q.Ybc=106]="Multiply";q[q.r$b=107]="Add";q[q.Ldc=109]="Subtract";q[q.yac=110]="DecimalPoint";q[q.Bac=111]="Divide";q[q.$ac=112]="F1";q[q.dbc=113]="F2";q[q.ebc=114]="F3";q[q.fbc=115]="F4";q[q.gbc=116]="F5";q[q.hbc=117]="F6";q[q.ibc=118]="F7";q[q.jbc=119]="F8";q[q.kbc=120]="F9";q[q.abc=121]="F10";q[q.bbc=122]="F11";q[q.cbc=123]="F12";q[q.xcc=144]="NumLock";q[q.Ddc=145]="ScrollLock";q[q.Gdc=186]="SemiColon";q[q.Xac=187]="Equals";q[q.jac=188]="Comma";q[q.xac=189]="Dash";q[q.Xcc=190]="Period";q[q.tbc=191]="ForwardSlash";q[q.Sdc=192]="Tilde";q[q.Lcc=219]="OpenBracket";q[q.P$b=220]="BackSlash";q[q.gac=221]="CloseBracket";q[q.$cc=222]="Quote";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.GM=void 0;b.GM=function(){return "";};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tha=b.zGa=void 0;b.zGa=function(){this.mc=0;this.Vb=1;this.Smb=2;this.mh=function(){};};b.Tha="DownloadTrackConstructorFactorySymbol";},function(q,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Mc=void 0;b.Mc=a;a.tf={VLa:"mr1",ULa:"mr2",WLa:"mr3",uU:"mr4",Uob:"mr5",ZH:"mr6"};a.kd={UNSENT:0,OPENED:1,vA:2,tA:3,DONE:5,FM:6,ZS:7,name:("UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED").split(" ")};a.L4={NO_ERROR:-1,Olb:0,UFa:1,$lb:2,Slb:3,Rkb:4,dFa:5,bFa:6,Skb:7,Tkb:8,Ukb:9,Okb:10,Qkb:11,cFa:12,Pkb:13,Nkb:14,Xmb:15,iIa:16,hIa:17,sia:18,uia:19,tia:20,lIa:21,Zmb:22,B5:23,jIa:24,Ymb:25,Vlb:26,Plb:27,tqb:28,Flb:29,Glb:30,Hlb:31,Ilb:32,Jlb:33,Klb:34,Llb:35,Mlb:36,Nlb:37,Qlb:38,Rlb:39,Tlb:40,Ulb:41,Wlb:42,Xlb:43,Ylb:44,Zlb:45,amb:46,bmb:47,sqb:48,TIMEOUT:49,eIa:50,fIa:51,Wmb:52,name:("DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP").split(" ")};a.dd={Y1:{ujb:!0,GU:!1,Hob:!0}};},function(q,b,a){var c,k,g,f,d,h,m,l,n;Object.defineProperty(b,"__esModule",{value:!0});b.jl=void 0;c=a(16);k=a(19);q=a(3);g=a(24);f=a(9);d=a(548);h=a(11);m=a(40);l=a(49);n=f.Ga.get(m.sj);n.register(q.W.Aia,function(p){var r,t,w;r=f.Ga.get(l.Kp);(0,g.Db)(k.config);(0,g.Db)(h.JD && h.JD.getDeviceId || h.ELa || r.MP);t=f.Ga.get(d.pGa);w=(0,f.dk)("Device");n.We("devs");t.create({deviceId:k.config.deviceId,MP:r.MP,u_a:"deviceid",Xl:k.config.Xl,sq:r.sq,dY:r.dY,userAgent:h.XH,kwa:k.config.kwa,Nsa:k.config.Nsa,$hc:k.config.DB?"mslstoretest":"mslstore",IS:k.config.IS}).then(function(v){b.jl=v;pb._cad_global.device=b.jl;w.info("Esn source: " + b.jl.x$);n.We("devdone");p(c.Xg);}).catch(function(v){v.fa=void 0;p(v);});});},function(q){var b;b=(function(){return this;})();try{b=b || new Function("return this")();}catch(a){"object" === typeof pb && (b=pb);}q.exports=b;},function(q,b,a){b=a(638);q.exports=Function.prototype.bind || b;},function(q){q.exports=function(){if("function" !== typeof Promise)throw new TypeError("`Promise.prototype.finally` requires a global `Promise` be available.");};},function(q,b,a){var c,k,g,f;b=a(48);c=b("%TypeError%");k=b("%SyntaxError%");g=a(113);f={"Property Descriptor":function(d){var h,m;h={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(m in d){if(g(d,m) && !h[m])return !1;}h=g(d,"[[Value]]");d=g(d,"[[Get]]") || g(d,"[[Set]]");if(h && d)throw new c("Property Descriptors may not be both accessor and data descriptors");return !0;},"Match Record":a(671)};q.exports=function(d,h,m,l){var n;n=f[h];if("function" !== typeof n)throw new k("unknown record type: " + h);if("Object" !== d(l) || !n(l))throw new c(m + " must be a " + h);};},function(q,b){var c;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.NH=void 0;c=/^\S+$/;a.prototype.FJ=function(k){return void 0 !== k;};a.prototype.jh=function(k){return null !== k && void 0 !== k;};a.prototype.yW=function(k){return a.IVa(k);};a.prototype.jna=function(k){return !(!k || !a.IVa(k));};a.prototype.AE=function(k){return Array.isArray(k);};a.prototype.JVa=function(k){return !(!k || k.constructor != Uint8Array);};a.prototype.Fo=function(k,g,f){return a.TUa(k,g,f);};a.prototype.ina=function(k){return a.ina(k);};a.prototype.Pna=function(k,g,f){return a.D8(k,g,f) && 0 === k % 1;};a.prototype.zW=function(k,g,f){return a.D8(k,g || 0,f);};a.prototype.mW=function(k){return a.D8(k,1);};a.prototype.Wwb=function(k){return a.D8(k,0,255);};a.prototype.Xwb=function(k){return k === +k && (0 === k || k !== (k | 0)) && !0;};a.prototype.KVa=function(k){return !(!k || !c.test(k));};a.prototype.uv=function(k){return a.UUa(k);};a.prototype.Go=function(k){return !(!a.UUa(k) || !k);};a.prototype.o8=function(k){return !0 === k || !1 === k;};a.prototype.q8=function(k){return "function" == typeof k;};a.UUa=function(k){return "string" == typeof k;};a.TUa=function(k,g,f){return "number" == typeof k && !isNaN(k) && isFinite(k) && (void 0 === g || k >= g) && (void 0 === f || k <= f);};a.ina=function(k){return "number" == typeof k && isNaN(k);};a.D8=function(k,g,f){return a.TUa(k,g,f) && 0 === k % 1;};a.IVa=function(k){return "object" == typeof k;};b.NH=new a();},function(q,b,a){var c,k,g,f,d,h;Object.defineProperty(b,"__esModule",{value:!0});b.zc=void 0;q=a(0);c=a(78);k=a(706);g=a(224);f=a(733);d=a(740);h=a(744);a=a(1458);b.zc=new q.q4({ML:!0});(0,h.O7a)(b.zc);b.zc.load(k.platform);b.zc.load(f.config);g.pP.load(d.e0a);b.zc.load(a.NVa);b.zc.load(a.profile);b.zc.bind(c.nJa).$m(b.zc);},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(221);q=(function(){function k(g){this.Tc=g;}k.prototype.kz=function(g){this.Tc.kz=g;return new c.qha(this.Tc);};return k;})();b.j4=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(220);a(358);q=(function(){function k(g){this.Tc=g;}k.prototype.when=function(g){this.Tc.yJ=g;return new c.j4(this.Tc);};k.prototype.L3=function(){this.Tc.yJ=function(g){return null !== g.target && !g.target.iva() && !g.target.wva();};return new c.j4(this.Tc);};return k;})();b.qha=q;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pja="PlatformEmeSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cka="StringUtilsSymbol";},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r,t,w,v,u,x,y;Object.defineProperty(b,"__esModule",{value:!0});b.pP=b.d0a=void 0;q=a(0);c=a(130);k=a(361);g=a(225);f=a(226);d=a(717);h=a(719);m=a(80);l=a(146);n=a(720);p=a(180);r=a(721);t=a(227);w=a(722);v=a(229);u=a(726);x=a(369);y=a(731);b.d0a=new q.Nd(function(z){z(k.DGa).to(g.CGa).ha();z(f.Dha).to(d.iFa).ha();z(c.I4).d3(h.Wbb);z(m.Mx).fH(function(A){b.pP.parent=A.hb;return b.pP.get(m.Mx);});z(l.mU).Tf(function(){return function(){return new n.fLa();};});z(p.n4).to(r.jFa).ha();z(t.Zha).to(w.fHa).ha();z(v.Uha).to(u.IGa).ha();z(x.cLa).to(y.bLa).ha();});b.pP=new q.q4({ML:!0});},function(q,b,a){var g;function c(){}function k(f){f?(this.active=!1,this.nsa(f)):this.active=!0;}Object.defineProperty(b,"__esModule",{value:!0});b.CGa=b.H4=void 0;q=a(2);a=a(0);k.prototype.nsa=function(f){this.Ve=f.keySessionData?f.keySessionData.map(function(d){return {id:d.id,EK:d.licenseContextId,y_:d.licenseId};}):[];this.ja=f.xid;this.L=f.movieId;};k.prototype.tx=function(){return JSON.parse(JSON.stringify({keySessionData:this.Ve?this.Ve.map(function(f){return {id:f.id,licenseContextId:f.EK,licenseId:f.y_};}):[],xid:this.ja,movieId:this.L}));};b.H4=k;c.prototype.create=function(){return new k();};c.prototype.load=function(f){return new k(f);};g=c;g=q.__decorate([(0,a.X)()],g);b.CGa=g;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dha="CachedDrmDataSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zha="EmeApiFactorySymbol";},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t;function c(w,v,u,x,y,z){this.f0=w;this.is=v;this.Dc=u;this.Ui=x;this.kl=y;this.li=z;(0,f.Iq)(this,"nav");}Object.defineProperty(b,"__esModule",{value:!0});b.Tx=void 0;q=a(2);g=a(0);f=a(58);d=a(3);h=a(42);m=a(31);l=a(103);n=a(35);p=a(36);r=a(68);a=a(73);c.prototype.KB=function(){if(this.Fb)return this.Fb.sessionId;};c.prototype.M1b=function(w,v){return this.f0.requestMediaKeySystemAccess(w,v);};c.prototype.createMediaKeys=function(w){return w.createMediaKeys();};c.prototype.createSession=function(w,v){this.Fb=w.createSession(v);};c.prototype.I9=function(){return Promise.reject(new l.Ph(d.W.K4));};c.prototype.WRb=function(){return ! !this.Fb;};c.prototype.setServerCertificate=function(w,v){return this.is.q8(w.setServerCertificate) && v?w.setServerCertificate(v):Promise.resolve();};c.prototype.generateRequest=function(w,v){return this.Fb?this.Fb.generateRequest(w,v[0]):Promise.reject(new l.Ph(d.W.K4,d.S.DM,void 0,"Unable to generate a license request, key session is not valid"));};c.prototype.update=function(w){return this.Fb?this.Fb.update(w[0]):Promise.reject(new l.Ph(d.W.YGa,d.S.DM,void 0,"Unable to update the EME with a response, key session is not valid"));};c.prototype.load=function(w){return this.Fb?this.Fb.load(w):Promise.reject(new l.Ph(d.W.zmb,d.S.DM,void 0,"Unable to load a key session, key session is not valid"));};c.prototype.close=function(){var w;this.Epa=void 0;if(!this.Fb)return Promise.reject(new l.Ph(d.W.QGa,d.S.DM,void 0,"Unable to close a key session, key session is not valid"));w=Promise.resolve();this.KB() && (w=this.Fb.close());this.Fb=void 0;return w;};c.prototype.remove=function(){return this.Fb?this.Fb.remove():Promise.reject(new l.Ph(d.W.Bmb,d.S.DM,void 0,"Unable to remove a key session, key session is not valid"));};c.prototype.qL=function(){return Promise.reject(new l.Ph(d.W.Xha,void 0,"Unable to renew a key session, not supported"));};c.prototype.kVa=function(w){if(!this.Fb)throw ReferenceError("Unable to add message handler, key session is not valid");this.Fb.addEventListener(k.bHa,w);};c.prototype.fVa=function(w){if(!this.Fb)throw ReferenceError("Unable to add key status handler, key session is not valid");this.Fb.addEventListener(k.aHa,w);};c.prototype.dVa=function(w){if(!this.Fb)throw ReferenceError("Unable to add error handler, key session is not valid");this.Fb.addEventListener(k.$Ga,w);};c.prototype.oxb=function(w){var v;v=this;if(!this.Fb)throw ReferenceError("Unable to add closed unexpectedly handler, key session is not valid");this.Epa=w;this.Fb.closed.then(function(u){var x;return null === (x=v.Epa) || void 0 === x?void 0:x.call(v,u);});};c.prototype.Pcb=function(w){if(!this.Fb)throw ReferenceError("Unable to remove message handler, key session is not valid");this.Fb.removeEventListener(k.bHa,w);};c.prototype.Ncb=function(w){if(!this.Fb)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.Fb.removeEventListener(k.aHa,w);};c.prototype.Lcb=function(w){if(!this.Fb)throw ReferenceError("Unable to remove error handler, key session is not valid");this.Fb.removeEventListener(k.$Ga,w);};t=k=c;t.bHa="message";t.aHa="keystatuseschange";t.$Ga="error";t=k=q.__decorate([(0,g.X)(),q.__param(0,(0,g.u)(h.WM)),q.__param(1,(0,g.u)(m.Wg)),q.__param(2,(0,g.u)(p.Vi)),q.__param(3,(0,g.u)(n.si)),q.__param(4,(0,g.u)(r.Vu)),q.__param(5,(0,g.u)(a.gv))],t);b.Tx=t;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uha="DrmTraitsFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.$ua=b.Hx=void 0;(function(a){a.gib="usable";a.Wv="expired";a.released="released";a.oab="output-restricted";a.pYb="output-downscaled";a.m5b="status-pending";a.ZQb="internal-error";})(b.Hx || (b.Hx={}));b.$ua=function(a){return ! !a && ! !a.keyStatuses;};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lka="UserAgentDataPlatformVersionProviderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.C6="TimeoutMonitorFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tk="_ANY_";b.pHa="EnricherSymbol";},function(q,b,a){var k,g,f;function c(d,h,m,l){this.Ma=d;this.k9=h;this.wp=m;this.gq=void 0 === l?"General":l;this.Gpa={};}Object.defineProperty(b,"__esModule",{value:!0});b.LM=void 0;k=a(7);g=a(389);f=a(773);c.prototype.aVa=function(d,h){this.Gpa[d]=h;};c.prototype.fatal=function(d,h){for(var m=[],l=1;l < arguments.length;++l){m[l - 1]=arguments[l];}this.wE(k.Pk.Jmb,d,this.KS(d,m));};c.prototype.error=function(d,h){for(var m=[],l=1;l < arguments.length;++l){m[l - 1]=arguments[l];}this.wE(k.Pk.rg,d,this.KS(d,m));};c.prototype.warn=function(d,h){for(var m=[],l=1;l < arguments.length;++l){m[l - 1]=arguments[l];}this.wE(k.Pk.Qka,d,this.KS(d,m));};c.prototype.info=function(d,h){for(var m=[],l=1;l < arguments.length;++l){m[l - 1]=arguments[l];}this.wE(k.Pk.yia,d,this.KS(d,m));};c.prototype.trace=function(d,h){for(var m=[],l=1;l < arguments.length;++l){m[l - 1]=arguments[l];}this.wE(k.Pk.yQa,d,this.KS(d,m));};c.prototype.debug=function(d,h){for(var m=1;m < arguments.length;++m){;}!1;};c.prototype.log=function(d,h){for(var m=[],l=1;l < arguments.length;++l){m[l - 1]=arguments[l];}this.debug.apply(this,[d].concat(ka(m)));};c.prototype.write=function(d,h,m){for(var l=[],n=2;n < arguments.length;++n){l[n - 2]=arguments[n];}this.wE(d,h,this.KS(h,l));};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){return {category:this.gq};};c.prototype.G9=function(d){return new c(this.Ma,this.k9,this.wp,d);};c.prototype.wE=function(d,h,m){d=new g.Pia(d,this.gq,this.Ma.ec(),h,m);h=ra(this.wp.wp);for(m=h.next();!m.done;m=h.next()){m=m.value;m(d);}};c.prototype.NLb=function(d){return 0 < Object.keys(this.Gpa).length?[this.Gpa].concat(ka(d)):d;};c.prototype.KS=function(d,h){var m;d && "null" !== d && "undefined" !== d || h.push({StackTrace:null !== (m=Error("Empty message").stack) && void 0 !== m?m:"nostack"});return (0,f.fXa)(this.k9,this.NLb(h));};b.LM=c;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.vka="SegmentManagerFactorySymbol";},function(q,b){function a(c){return "globalAudioMemoryLimit" === c || "globalVideoMemoryLimit" === c?"global":"staticAudioMemoryLimit" === c || "staticVideoMemoryLimit" === c?"static":!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.A5b=b.rcb=b.Dza=void 0;b.Dza=function(c){return "globalMemoryLimit" === c?"global":"staticMemoryLimit" === c?"static":a(c);};b.rcb=a;b.A5b=function(c){return "IStreamable: " + c.identifier + " [" + c.mediaType + "] " + c.groupId + " p:" + (JSON.stringify(c.hi) + " sp:" + c.RC + " pssp:") + (c.l1 + " state:") + (c.Lf + " path-complete:" + c.CC + " streaming:") + (c.Cu + " current:" + c.Gt);};},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.s9a=b.Qca=b.fg=void 0;b.fg=[0,1];b.Qca=function(a,c){return a || c?c?[1]:[0]:[0,1];};b.s9a=function(a){return 0 === a?"audio":1 === a?"video":"unknown";};},function(q,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.QM=void 0;c=a(15);k=a(34);q=(function(){function g(f,d){this.console=f;this.config=d;this.oga=!1;}g.prototype.Mn=function(f,d,h,m){void 0 === h && (h=k.O.ib);void 0 === m && (m=!1);c.aa && this.console.trace("Filtering streams for fastplay",{oga:this.oga,In:h.V,hhc:m});if(this.oga || h.V >= this.config.HUb || !1 === m){d=f.filter(this.EHb);if(d.length)return d;c.aa && this.console.trace("No drm streams to return");}d=f.filter(this.UBb);if(d.length)return d;c.aa && this.console.trace("No clear streams to return");return f;};g.prototype.ngb=function(){this.oga=!0;};g.prototype.EHb=function(f){return f.Fj;};g.prototype.UBb=function(f){return !f.Fj;};return g;})();b.QM=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.qja=void 0;q=(function(){function a(c,k,g,f){var d;d=this;this.properties=c;this.transform=k;this.iX=g;this.state=f;this.bya=function(){var h,m;h=d.state;m=d.properties.map(function(l){return l.value;});d.state=d.transform(m);(d.n6a(d.state) && d.n6a(h)?d.state.equal(h):h === d.state) || d.iX(d.state);};c.forEach(function(h){return h.addListener(d.bya);});this.bya();}a.prototype.clear=function(){var c;c=this;this.properties.forEach(function(k){return k.removeListener(c.bya);});};a.prototype.n6a=function(c){return void 0 !== c.equal;};return a;})();b.qja=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Mk=void 0;q=b.Mk || (b.Mk={});q[q.CLOSED=0]="CLOSED";q[q.OPEN=1]="OPEN";q[q.Uj=2]="STREAMING";},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.lI=void 0;q=(function(){function a(c){this.pUa=c;}Object.defineProperties(a.prototype,{sQ:{get:function(){return this.ttb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.pUa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{nAa:{get:function(){var c;c=this;return this.pUa.then(function(){return c;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.ttb=!0;};a.prototype.Wxa=function(c,k){var g;g=this;this.result.then(function(f){g.sQ?k && k(f):c(f);});return this;};return a;})();b.lI=q;},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.VO=b.rJb=b.mB=b.UG=void 0;c=a(1);k=a(21);g=a(47);Object.defineProperties(b,{UG:{enumerable:!0,get:function(){return g.UG;}}});Object.defineProperties(b,{mB:{enumerable:!0,get:function(){return g.mB;}}});b.rJb=function(f,d){var h,r,t;f=Math.max(f.duration - 3E4,3E4);for(var m={},l,n=0,p=0;p < f;p+=3E4){r="s" + n++;t={M:d,ya:p,za:p + 3E4 < f?p + 3E4:null};void 0 !== l && (l.next=(h={},h[r]={weight:1},h),l.vc=r);l=m[r]=t;}return {xe:"s0",P:m,ye:"lazy"};};b.VO=function(f,d,h,m){var l,n,p,w,v,u;void 0 === m && (m={});p=k.O.max(h,k.O.ib);try{for(var r=c.__values(Object.keys(f.P)),t=r.next();!t.done;t=r.next()){w=t.value;v=f.P[w];if(v.M === d){u=k.O.Sa(v.ya);if(p.ms(u) && (!isFinite(null !== (n=v.za) && void 0 !== n?n:NaN) || p.lessThan(k.O.Sa(v.za))))return {ea:w,offset:h.Ia(u)};}}}catch(y){var x;x={error:y};}finally{try{t && !t.done && (l=r.return) && l.call(r);}finally{if(x)throw x.error;}}if(m.Rdb && (v=Object.keys(f.P).map(function(y){return {key:y,G:f.P[y]};}).filter(function(y){return y.G.M === d;}).map(function(y){var z,A;z=k.O.abs(h.Ia(k.O.Sa(y.G.ya)));if(y.G.za && isFinite(y.G.za)){A=k.O.abs(h.Ia(k.O.Sa(y.G.za)));z=k.O.min(z,A);}return c.__assign(c.__assign({},y),{nq:z});}),v.sort(function(y,z){return y.nq.V - z.nq.V;}),u=c.__read(v,1)[0]))return (v=u.G,m=u.key,u=k.O.Sa(v.ya),{ea:m,offset:h.Ia(u)});};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZVa=b.EW=b.oe=void 0;b.oe=function(a,c){for(var k=0;k < a.length;k++){if(c(a[k],k,a))return a[k];}};b.EW=function(a){return a.filter(function(c,k){return a.indexOf(c) === k;});};b.ZVa=function(a,c){return a.filter(function(k,g){return a.indexOf(k) === g && -1 !== c.indexOf(k);});};},function(q,b,a){var c,k,g,f,d,h,m,l;Object.defineProperties(b,{__esModule:{value:!0}});b.yM=void 0;q=a(1);c=a(185);k=q.__importDefault(a(246));g=q.__importDefault(a(885));f=q.__importDefault(a(153));d=a(4);h=a(417);m=q.__importDefault(a(5));b.yM=(function(){function n(p,r,t){var w;w=this;this.Ji=new k.default(p,t);this.fp=new g.default(p);this.jc=new f.default(this.fp,this.Ji,p);new h.x6(m.default.rqa,r);c.$z.zCb(p);p.Xda && setInterval(function(){w.Ji.save();w.fp.save();},p.Xda);}n.I3a=function(p,r,t){void 0 === l?(n.config=p,n.eH=t,l=new n(p,r,t)):(d.assert(n.config === p),d.assert(n.eH === t));return l;};n.reset=function(){n.config=void 0;l=n.eH=void 0;};return n;})();},function(q,b,a){var d;function c(h,m,l){this.jP=!1 === h;this.nq=h || .01;this.Hia=void 0 === m?25:m;this.gFa=void 0 === l?1.1:l;this.Bj=new d(k);this.reset();}function k(h,m){return h.Pg > m.Pg?1:h.Pg < m.Pg?-1:0;}function g(h,m){return h.fz - m.fz;}function f(h){this.config=h || ({});this.mode=this.config.mode || "auto";c.call(this,"cont" === this.mode?h.nq:!1);this.SGb=this.config.ratio || .9;this.TGb=this.config.Ijc || 1E3;this.kda=0;}d=a(866).bqb;c.prototype.reset=function(){this.Bj.clear();this.$va=this.n=0;};c.prototype.size=function(){return this.Bj.size;};c.prototype.kr=function(h){var m;m=[];h?(this.d7(!0),this.Bj.Wf(function(l){m.push(l);})):this.Bj.Wf(function(l){m.push({Pg:l.Pg,n:l.n});});return m;};c.prototype.summary=function(){return [(this.jP?"exact ":"approximating ") + this.n + " samples using " + this.size() + " centroids","min = " + this.vk(0),"Q1  = " + this.vk(.25),"Q2  = " + this.vk(.5),"Q3  = " + this.vk(.75),"max = " + this.vk(1)].join("\n");};c.prototype.push=function(h,m){m=m || 1;h=Array.isArray(h)?h:[h];for(var l=0;l < h.length;l++){this.nSa(h[l],m);}};c.prototype.vza=function(h){h=Array.isArray(h)?h:[h];for(var m=0;m < h.length;m++){this.nSa(h[m].Pg,h[m].n);}};c.prototype.d7=function(h){var m;if(!(this.n === this.$va || !h && this.gFa && this.gFa > this.n / this.$va)){m=0;this.Bj.Wf(function(l){l.fz=m + l.n / 2;m=l.ZO=m + l.n;});this.n=this.$va=m;}};c.prototype.dKb=function(h){var m,l;if(0 === this.size())return null;m=this.Bj.lowerBound({Pg:h});l=null === m.data()?m.nL():m.data();return l.Pg === h || this.jP?l:(m=m.nL()) && Math.abs(m.Pg - h) < Math.abs(l.Pg - h)?m:l;};c.prototype.XN=function(h,m,l){this.Bj.qs({Pg:h,n:m,ZO:l});this.n+=m;};c.prototype.N6=function(h,m,l){m !== h.Pg && (h.Pg+=l * (m - h.Pg) / (h.n + l));h.ZO+=l;h.fz+=l / 2;h.n+=l;this.n+=l;};c.prototype.nSa=function(h,m){var l,n,p;l=this.Bj.min();n=this.Bj.max();p=this.dKb(h);p && p.Pg === h?this.N6(p,h,m):p === l?this.XN(h,m,0):p === n?this.XN(h,m,this.n):this.jP?this.XN(h,m,p.ZO):(l=p.fz / this.n,Math.floor(4 * this.n * this.nq * l * (1 - l)) - p.n >= m?this.N6(p,h,m):this.XN(h,m,p.ZO));this.d7(!1);!this.jP && this.Hia && this.size() > this.Hia / this.nq && this.qB();};c.prototype.Pzb=function(h){var m,l;this.Bj.zo=g;m=this.Bj.upperBound({fz:h});this.Bj.zo=k;l=m.nL();h=l && l.fz === h?l:m.next();return [l,h];};c.prototype.vk=function(h){var m;m=(Array.isArray(h)?h:[h]).map(this.hvb,this);return Array.isArray(h)?m:m[0];};c.prototype.hvb=function(h){var m,l;if(0 !== this.size()){this.d7(!0);this.Bj.min();this.Bj.max();h*=this.n;m=this.Pzb(h);l=m[0];m=m[1];return m === l || null === l || null === m?(l || m).Pg:this.jP?h <= l.ZO?l.Pg:m.Pg:l.Pg + (h - l.fz) * (m.Pg - l.Pg) / (m.fz - l.fz);}};c.prototype.qB=function(){var h;if(!this.yYa){h=this.kr();this.reset();for(this.yYa=!0;0 < h.length;){this.vza(h.splice(Math.floor(Math.random() * h.length),1)[0]);}this.d7(!0);this.yYa=!1;}};f.prototype=Object.create(c.prototype);f.prototype.constructor=f;f.prototype.push=function(h){c.prototype.push.call(this,h);this.ABb();};f.prototype.XN=function(h,m,l){this.kda+=1;c.prototype.XN.call(this,h,m,l);};f.prototype.N6=function(h,m,l){1 === h.n && --this.kda;c.prototype.N6.call(this,h,m,l);};f.prototype.ABb=function(){!("auto" !== this.mode || this.size() < this.TGb) && this.kda / this.size() > this.SGb && (this.mode="cont",this.jP=!1,this.nq=this.config.nq || .01,this.qB());};q.exports={TDigest:c,Digest:f};},function(q,b,a){var d,h,m,l,n,p;function c(r){var t;t=r.Lla;this.K=r;this.XD=h.Rj.HAVE_NOTHING;this.xla=r.xla;r=new n(r);this.eW=r.create("throughput-location-history",t);this.y7=r.create("throughput-location-history",t);this.RA=r.create("respconn-location-history",t);this.IA=r.create("respconn-location-history",t);this.h8=r.create("throughput-tdigest-history",t);this.z7=r.create("throughput-iqr-history",t);this.i7=r.create("throughput-location-history",t);this.k7=r.create("throughput-location-history",t);this.j7=r.create("throughput-location-history",t);this.l7=r.create("throughput-location-history",t);this.Qb=null;}function k(r,t,w,v,u){this.gy=new c(u);this.Nr=[];this.Wtb=m.time.ma() - Date.now() % 864E5;this.ey=null;this.K=u;for(r=0;r < v;++r){this.Nr.push(new c(u));}}function g(r,t,w){return d.has(r,t)?r[t]:r[t]=w;}function f(r,t){var w;this.K=r;this.FUa=t;this.TIb();this.LN=new c(this.K);this.EV();w=r.pqa;w && (w={confidence:h.Rj.OT,fb:{Ca:parseInt(w,10),Ye:0},yl:{Ca:0,Ye:0},Uy:{Ca:0,Ye:0}},this.get=function(){return w;});}d=a(10);h=a(32).default;b=a(8);m=a(5).default;l=b.PHa;n=a(878).Omb;new m.Console("ASEJS_LOCATION_HISTORY","media|asejs");p={confidence:h.Rj.HAVE_NOTHING};c.prototype.fJ=function(r,t){this.XD=t;this.eW.add(r);this.h8.add(r);this.Qb=m.time.ma();};c.prototype.cJ=function(r){this.y7.add(r);};c.prototype.nM=function(r,t){this.z7.set(r,t);};c.prototype.$A=function(r){this.RA.add(r);};c.prototype.ZA=function(r){this.IA.add(r);};c.prototype.qO=function(r){this.i7.add(r.Ca);this.k7.add(r.Ye);this.j7.add(r.CO);this.l7.add(r.LS);};c.prototype.getState=function(){var r,t,w,v,u,x,y,z,A,B,D;r=this.eW.getState();t=this.y7.getState();w=this.RA.getState();v=this.IA.getState();u=this.z7.getState();x=this.h8.getState();y=this.i7.getState();z=this.k7.getState();A=this.j7.getState();B=this.l7.getState();if(d.Gb(r) && d.Gb(w) && d.Gb(v))return null;D={c:this.XD,t:m.time.txa(this.Qb)};d.Gb(r) || (D.tp=r);d.Gb(t) || (D.itp=t);d.Gb(w) || (D.rt=w);d.Gb(v) || (D.hrt=v);d.Gb(u) || (D.iqr=u);d.Gb(x) || (D.td=x);d.Gb(y) || (D.dta=y);d.Gb(z) || (D.dtv=z);d.Gb(A) || (D.dtta=A);d.Gb(B) || (D.dttv=B);return D;};c.prototype.re=function(r){var t;t=m.time.now();if(!(r && d.has(r,"c") && d.has(r,"t") && d.has(r,"tp") && d.isFinite(r.c) && d.isFinite(r.t)) || 0 > r.c || r.c > h.Rj.OT || r.t > t || !this.eW.re(r.tp))return (this.XD=h.Rj.HAVE_NOTHING,this.ey=this.Qb=null,this.eW.re(null),this.RA.re(null),this.IA.re(null),!1);this.XD=r.c;this.Qb=m.time.Oxa(r.t);this.RA.re(d.has(r,"rt")?r.rt:null);this.IA.re(d.has(r,"hrt")?r.hrt:null);this.y7.re(d.has(r,"itp")?r.itp:null);this.i7.re(d.has(r,"dta")?r.dta:null);this.k7.re(d.has(r,"dtv")?r.dtv:null);this.j7.re(d.has(r,"dtta")?r.dtta:null);this.l7.re(d.has(r,"dttv")?r.dttv:null);d.has(r,"iqr") && this.z7.re(r.iqr);d.has(r,"td") && this.h8.re(r.td);return !0;};c.prototype.get=function(){var r,t,w,v,u,x,y,z;r=this.K;if(d.Gb(this.Qb))return p;t=(m.time.ma() - this.Qb) / 1E3;t > r.otb?this.XD=h.Rj.HAVE_NOTHING:t > r.Nsb && (this.XD=Math.min(this.XD,h.Rj.zD));r=this.eW.get();w=this.y7.get();v=this.RA.get();u=this.IA.get();x=this.z7.get();y=this.h8.get();z={Ca:this.i7.vta().Ca,Ye:this.k7.vta().Ca,CO:this.j7.get().Ca,LS:this.l7.get().Ca};result={zn:t,confidence:this.XD,fb:r,O5a:w,yl:v,Uy:u,yw:x,Cl:y,mq:z};r && (result.Kjc=l.prototype.nea.bind(r));v && (result.Uic=l.prototype.nea.bind(v));u && (result.Qgc=l.prototype.nea.bind(u));return result;};c.prototype.time=function(){return this.Qb;};k.prototype.Te=function(){return ((m.time.ma() - this.Wtb) / 1E3 / 3600 / (24 / this.Nr.length) | 0) % this.Nr.length;};k.prototype.getState=function(){var r;r={g:this.gy.getState(),h:this.Nr.map(function(t){return t.getState();})};d.Gb(this.ey) || (r.f=m.time.txa(this.ey));return r;};k.prototype.re=function(r){var t,w;if(!this.gy.re(r.g))return !1;t=this.Nr.length;w=!1;this.Nr.forEach(function(v,u){w=!v.re(r.h[u * r.h.length / t | 0]) || w;});this.ey=d.has(r,"f")?m.time.Oxa(r.f):null;return w;};k.prototype.fJ=function(r,t){this.gy.fJ(r,t);this.Nr[this.Te()].fJ(r,t);this.ey=null;};k.prototype.cJ=function(r){this.gy.cJ(r);this.Nr[this.Te()].cJ(r);this.ey=null;};k.prototype.nM=function(r,t){this.gy.nM(r,t);this.Nr[this.Te()].nM(r,t);};k.prototype.$A=function(r){this.gy.$A(r);this.Nr[this.Te()].$A(r);};k.prototype.ZA=function(r){this.gy.ZA(r);this.Nr[this.Te()].ZA(r);};k.prototype.qO=function(r){this.gy.qO(r);this.Nr[this.Te()].qO(r);};k.prototype.fail=function(r){this.ey=r;};k.prototype.get=function(){var r,t;if(!d.Gb(this.ey)){if((m.time.ma() - this.ey) / 1E3 < this.K.Msb)return {confidence:h.Rj.HAVE_NOTHING,Zv:!0};this.ey=null;}r=this.Nr[this.Te()].get();t=this.gy.get();r=r.confidence >= t.confidence?r:t;r.Zv=!1;return r;};k.prototype.time=function(){return this.gy.time();};f.prototype.LSa=function(r,t){var w;w=this.K;r=g(this.xV,r,{});return g(r,t,new k(w.ZSa || 14400,w.YSa || 100,w.XSa || 100,w.STa || 4,w));};f.prototype.EV=function(){var r,t;r=m.storage.get("lh");t=m.storage.get("gh");r && this.Uma(r);t && this.iwb(t);};f.prototype.Tla=function(){var r;r={};d.Wf(this.xV,function(t,w){d.Wf(t,function(v,u){g(r,w,{})[u]=v.getState();},this);},this);return r;};f.prototype.iwb=function(r){this.LN.re(r);};f.prototype.Uma=function(r){var t,w;t=null;w=this.K;d.Wf(r,function(v,u){d.Wf(v,function(x,y){var z;z=new k(w.ZSa || 14400,w.YSa || 100,w.XSa || 100,w.STa || 4,w);z.re(x)?(g(this.xV,u,{})[y]=z,t=!0):d.Gb(t) && (t=!1);},this);},this);return d.Gb(t)?!0:t;};f.prototype.save=function(){var r;r=this.Tla();m.storage.set("lh",r);m.storage.set("gh",this.LN.getState());this.FUa && this.FUa.XAa(this.LN.getState());};f.prototype.TIb=function(){this.xV={};this.CN=this.iSa="";this.tn=null;};f.prototype.$R=function(r){this.iSa=r;this.tn=null;};f.prototype.ofa=function(r){this.CN=r;this.tn=null;};f.prototype.KN=function(){d.Gb(this.tn) && (this.tn=this.LSa(this.iSa,this.CN));return this.tn;};f.prototype.fJ=function(r,t){this.KN().fJ(r,t);this.LN.fJ(r,t);};f.prototype.cJ=function(r){this.KN().cJ(r);this.LN.cJ(r);};f.prototype.nM=function(r,t){r && r.am && r.qk && r.bm && (this.KN().nM(r,t),this.LN.nM(r,t));};f.prototype.$A=function(r){this.KN().$A(r);};f.prototype.ZA=function(r){this.KN().ZA(r);};f.prototype.qO=function(r){this.KN().qO(r);};f.prototype.fail=function(r,t){this.LSa(r,this.CN).fail(t);};f.prototype.get=function(r,t){var w,v,u,x;r=(r=this.xV[r])?r[this.CN]:null;w=null;if(r && (w=r.get(),w.confidence > h.Rj.HAVE_NOTHING))return w;if(!1 === t)return p;v=w=null;u=!1;x=null;d.Wf(this.xV,function(y){d.Wf(y,function(z,A){var B;if(!u || A == this.CN){B=z.get();B && (!v || v <= B.confidence) && (!x || v < B.confidence || x < z.time()) && (v=B.confidence,u=A == this.CN,x=z.time(),w=B);}},this);},this);return w?w:p;};q.exports=f;},function(q,b,a){var f;function c(d){this.lO=d;this.reset();}function k(d){this.el=new c(d);this.xf=0;this.md=null;}function g(d,h){this.lO=d;this.wTa=h;this.reset();}f=a(10);c.prototype.aUa=function(d,h){this.Qb+=d;this.Vk+=d;this.Od+=h;this.Xp.push({d:d,b:h});};c.prototype.TV=function(){var d;for(;this.Vk > this.lO;){d=this.Xp.shift();this.Od-=d.b;this.Vk-=d.d;}};c.prototype.reset=function(){this.Xp=[];this.Qb=null;this.Vk=this.Od=0;};c.prototype.setInterval=function(d){this.lO=d;this.TV();};c.prototype.start=function(d){f.Gb(this.Qb) && (this.Qb=d);};c.prototype.add=function(d,h,m){f.Gb(this.Qb) && (this.Qb=h);h > this.Qb && this.aUa(h - this.Qb,0);this.aUa(m > this.Qb?m - this.Qb:0,d);this.TV();};c.prototype.get=function(){return {Ca:Math.floor(8 * this.Od / this.Vk),Ye:0};};k.prototype.reset=function(){this.el.reset();this.xf=0;this.md=null;};k.prototype.add=function(d,h,m){!f.Gb(this.md) && m > this.md && (h > this.md && (this.xf+=h - this.md),this.md=null);this.el.add(d,h - this.xf,m - this.xf);};k.prototype.start=function(d){!f.Gb(this.md) && d > this.md && (this.xf+=d - this.md,this.md=null);this.el.start(d - this.xf);};k.prototype.stop=function(d){this.md=f.Gb(this.md)?d:Math.min(d,this.md);};k.prototype.get=function(){return this.el.get();};k.prototype.setInterval=function(d){this.el.setInterval(d);};g.prototype.reset=function(){this.Xp=[];this.Od=this.Vk=0;};g.prototype.add=function(d,h,m,l){void 0 !== l && !0 === l && (h=m - h,this.Vk+=h,this.Od+=d,this.Xp.push({d:h,b:d}),this.TV());};g.prototype.TV=function(){var d;for(;this.Vk > this.lO || this.Xp.length > this.wTa;){d=this.Xp.shift();this.Od-=d.b;this.Vk-=d.d;}};g.prototype.start=function(){};g.prototype.stop=function(){};g.prototype.get=function(){return {Ca:Math.floor(8 * this.Od / this.Vk),Ye:0};};g.prototype.setInterval=function(d,h){this.lO=d;this.wTa=h;this.TV();};q.exports={lac:c,jmb:k,arb:g};},function(q){(function(){var k00;function b(){var l00;l00=2;for(;l00 !== 5;){switch(l00){case 2:this.nE=this.Od=0;this.Qb=this.dh=void 0;l00=5;break;}}}k00=2;for(;k00 !== 8;){switch(k00){case 3:var f59="1SIYb";f59+="Z";f59+="rNJCp9";q.exports=b;f59;k00=8;break;case 2:b.prototype.start=function(a){var m00;m00=2;for(;m00 !== 1;){switch(m00){case 2:this.dh?a < this.dh?(this.nE+=this.dh - a,this.dh=a):a > this.Qb && (this.Qb=this.dh=a):this.Qb=this.dh=a;m00=1;break;}}};b.prototype.stop=function(a){var n00;n00=2;for(;n00 !== 1;){switch(n00){case 2:this.Qb && a > this.Qb && (this.nE+=a - this.Qb,this.Qb=a);n00=1;break;}}};b.prototype.add=function(a,c,k){var o00;o00=2;for(;o00 !== 4;){switch(o00){case 2:this.start(c);this.stop(k);this.Od+=a;o00=4;break;}}};b.prototype.get=function(){var p00;p00=2;for(;p00 !== 1;){switch(p00){case 2:return {Ca:this.nE?Math.floor(8 * this.Od / this.nE):null,g$:this.nE?this.nE:0};break;}}};k00=3;break;}}})();},function(q,b,a){var G,E,I,K,L,H,P,N,J,M,O,Q,T,V,da,pa,xa,ya,sa,X,S,R,W,ia,za,Ra,Fa,$a,Ta,Xa,eb,rb;function c(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function k(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function g(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function f(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);this.lx=U.config.lx;this.ed=this.sizes=void 0;}function d(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function h(){for(var U=new DataView(this),fa="",la,wa=0;wa < this.byteLength;wa++){la=U.getUint8(wa);fa+=("00" + la.toString(16)).slice(-2);}return fa;}function m(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function l(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function n(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function p(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function r(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function t(U){function fa(la,wa,Ka,ab,ob){K.call(this,la,wa,Ka,ab,ob);this.jG=U;}fa.wa=!1;fa.prototype=new K();fa.prototype.constructor=fa;Object.defineProperties(fa.prototype,{tD:{get:function(){return this.jG;}}});fa.prototype.parse=function(){this.l.console.trace("renaming '" + this.type + "' to draft type '" + this.jG + "'");this.l.offset=this.startOffset + 4;this.Y.tH(this.tD);this.type=this.tD;return !0;};return fa;}function w(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function v(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function u(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function x(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function y(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function z(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function A(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function B(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function D(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function C(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function F(U,fa){U.forEach(function(la){fa[la.Xa]=la;});}G=a(154).assert;b=a(106);E=a(186).O;I=a(418);a(155);a(85);a(85);a(85);K=a(27).yb;L=a(893).default;H=a(894).default;P=a(895).default;N=a(896).default;J=a(897).default;M=a(898).default;O=a(899).default;Q=a(900).default;T=a(901).default;a(250);a(187);V=a(419).$S;da=a(419).ET;pa=a(902).default;xa=a(903).default;ya=a(86).default;sa=a(86).bT;X=a(86).cT;S=a(86).dT;R=a(86).eT;W=a(904).default;ia=a(905).default;za=a(86).YT;Ra=a(86).QT;Fa=a(86).aT;$a=a(906).default;Ta=a(907).default;Xa=a(908).default;eb=a(420).default;rb=a(421).default;a(156);a(253);a(254);a(252);a=a(909).default;c.wa=!0;c.prototype=new K();c.prototype.constructor=c;k.wa=!0;k.prototype=new K();k.prototype.constructor=k;g.wa=!1;g.prototype=new K();g.prototype.constructor=g;g.prototype.parse=function(U){var fa;this.tb();1 === this.version?(this.l.xc(),this.l.xc(),this.I=this.l.ba(),this.duration=this.l.xc()):(this.l.ba(),this.l.ba(),this.I=this.l.ba(),this.duration=this.l.ba());fa=this.l.lb() & 32767;this.language=String.fromCharCode(96 + (fa >>> 10),96 + (fa >>> 5 & 31),96 + (fa & 31));U && U.Ya && (U.Ya.I=this.I,U.Ya.duration=this.duration);return !0;};f.wa=!1;f.prototype=new K();f.prototype.constructor=f;f.prototype.MV=function(){this.tb();this.l.ba();this.I=this.l.ba();0 === this.version?(this.jF=this.l.ba(),this.rF=this.l.ba()):(this.jF=this.l.xc(),this.rF=this.l.xc());this.fAa=this.l.lb();this.HG=this.l.lb();};f.prototype.hV=function(U,fa){var la,wa,Ka;la=this.I;U=U && U.I || la;wa=U / la;la=this.l.Uq(fa,12,!1);Ka=1 === wa?this.l.Uq(fa,12,!1):I.from(Uint32Array,{length:fa},function(){var ab;ab=Math.round(this.l.ba() * wa);this.l.offset+=8;return ab;},this);this.jW(fa,Ka,la,U);};f.prototype.jW=function(U,fa,la,wa){if(this.lx){wa=this.lx * wa / 1E3;for(var Ka=0,ab=1;ab < U;ab++){Math.abs(fa[Ka] - wa) > Math.abs(fa[Ka] + fa[ab] - wa)?(fa[Ka]+=fa[ab],la[Ka]+=la[ab]):(++Ka,Ka !== ab && (fa[Ka]=fa[ab],la[Ka]=la[ab]));}++Ka;fa=new Uint32Array(fa.buffer.slice(0,4 * Ka));la=new Uint32Array(la.buffer.slice(0,4 * Ka));}this.sizes=la;this.ed=fa;};f.prototype.parse=function(U){var fa,la,wa,Ka;this.MV();this.$=U.$;fa=this.I;la=this.$ && this.$.I || fa;wa=this.HG;Ka=this.startOffset + this.length + this.rF;fa=new E(this.jF,fa).Yc(la).qa;this.Z={I:la,Fk:fa,offset:Ka};this.hV(this.$,wa);this.Z.ed=this.ed;this.Z.sizes=this.sizes;U.dr=this;return !0;};d.wa=!1;d.prototype=new K();d.prototype.constructor=d;d.prototype.parse=function(){var U;this.vh=[];this.V0=[];U=(this.length - 11) / 2;this.l.Aa();this.l.Aa();this.l.Aa();for(var fa=0;fa < U;fa++){this.vh.push(this.l.Aa());this.V0.push(this.l.Aa());}return !0;};m.wa=!1;m.prototype=new K();m.prototype.constructor=m;m.prototype.parse=function(U){var fa;this.tb();this.l.offset+=1;if(0 == this.version)this.l.offset+=1;else {fa=this.l.Aa();this.WX=fa >> 4;this.$X=fa & 15;U && U.Ya && (U.Ya.$Za=this.WX,U.Ya.c_a=this.$X);}this.YE=this.l.Aa();this.XE=this.l.Aa();this.Cw=this.l.offset;this.gi=this.l.Wq(16);this.gi.toString=h;U && U.Ya && (U.Ya.b_a=this.YE,U.Ya.QX=this.XE,U.Ya.a_a=this.gi);1 == this.YE && 0 == this.XE && (this.VX=this.l.Aa(),this.UX=this.l.Wq(this.VX),U && U.Ya && (U.Ya.PX=this.UX));return !0;};l.wa=!1;l.prototype=new K();l.prototype.constructor=l;l.prototype.parse=function(){this.tb();this.Ld=this.l.lb();this.P_=this.l.Uq(this.Ld,void 0,!0);return !0;};n.wa=!1;n.prototype=new K();n.prototype.constructor=n;n.prototype.parse=function(U){var fa,la,wa,Ka,ab,ob;fa=U.dr;G(fa);U=U.$;la=fa.I;fa=fa.HG;G(U);G(la);G(fa);this.tb();G(2 > this.version);this.Ld=this.l.lb();this.$n=new Uint16Array(fa + 1);wa=U.cQ(la);Ka=wa / la;ab=U.Yc(wa).qa;if(0 === this.version)for((this.eo=new Uint16Array(),this.Pc=new Uint32Array(),U=la=0);U <= fa;++U){if((this.$n[U]=la,U < this.Ld)){ob=this.l.Aa();if(0 !== ob)for(wa=0;wa < ob;(++wa,++la)){this.eo[la]=Math.floor((this.l.ba() + 1) * Ka) / ab;this.Pc[la]=this.l.ba();}}}else if(1 === this.version)for((wa=this.l.x1(this.Ld,10,!1),this.l.offset+=4,this.Pc=this.l.Uq(this.Ld,10,!1),this.l.offset-=8,this.eo=I.from(Uint16Array,{length:this.Ld},function(){var mb;mb=Math.floor((this.l.ba() + 1) * Ka) / ab;this.l.offset+=6;return mb;},this),la=U=0);U <= fa;++U){for(;la < wa.length && wa[la] < U;){++la;}this.$n[U]=la;}this.Eh={$n:this.$n,eo:this.eo,Pc:this.Pc};return !0;};p.wa=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;r.wa=!0;r.prototype=Object.create(c.prototype);r.prototype.constructor=r;r.prototype.Nn=function(){var U;U=this.Ae("tfhd");U && (this.Ee=U.EE?U.Ee:this.parent.startOffset);return !0;};w.wa=!1;w.prototype=new K();w.prototype.constructor=w;w.prototype.parse=function(){var U,Jb;U=this.l.offset;this.tb();if(1 === this.version){this.l.console.trace("translating vpcC box to draft equivalent");this.l.offset+=2;for(var fa=this.l.offset,la=this.l.Aa(),wa=this.l.Aa(),Ka=this.l.Aa(),ab=this.l.Aa(),ob=this.l.lb(),mb=[],Gb=0;Gb < ob;++Gb){mb=this.l.Aa();}Gb=(la & 240) >>> 4;Jb=(la & 14) >>> 1;la&=1;Ka=16 === Ka?1:0;wa != ab && this.l.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + wa + " and matrixCoefficients " + ab + " should be the same value!");ab=2;switch(wa){case 1:ab=2;break;case 6:ab=1;break;case 9:ab=5;break;default:this.l.console.warn("VP9: Unknown colourPrimaries " + wa + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.Y.ur(this.version,U);this.Y.ur(Gb << 4 | ab,fa++);this.Y.ur(Jb << 4 | Ka << 1 | la,fa++);ob+=2;mb.push(0,0);this.Y.N3(ob,!1);fa+=2;mb.forEach(function(Qb){this.Y.ur(Qb,fa++);});}return !0;};v.wa=!1;v.prototype=new K();v.prototype.constructor=v;v.Xa="tfhd";Object.defineProperties(v.prototype,{EE:{get:function(){return this.flags & 1;}},b2:{get:function(){return this.flags & 2;}},XX:{get:function(){return this.flags & 8;}},ZX:{get:function(){return this.flags & 16;}},$E:{get:function(){return this.flags & 32;}}});v.prototype.parse=function(U){this.tb();this.cn=this.l.ba();this.Ee=this.EE?this.l.xc():void 0;this.MG=this.b2?this.l.ba():void 0;this.Bi=this.XX?this.l.ba():void 0;this.Di=this.ZX?this.l.ba():void 0;this.Ci=this.$E?this.l.ba():void 0;U && U.T && (U.T.cn=this.cn,U.T.Ee=this.Ee,U.T.MG=this.MG,U.T.Bi=this.Bi,U.T.Di=this.Di,U.T.Ci=this.$E?this.Ci:void 0);return !0;};u.wa=!1;u.prototype=new K();u.prototype.constructor=u;u.prototype.parse=function(U){this.tb();this.$j=1 === this.version?this.l.xc():this.l.ba();U && U.T && (U.T.$j=this.$j);return !0;};u.prototype.na=function(U){var fa;fa=this.startOffset + 12;this.$j+=U;1 === this.version?this.Y.O3(this.$j,fa):this.Y.ie(this.$j,fa);};x.wa=!1;x.prototype=new K();x.prototype.constructor=x;Object.defineProperties(x.prototype,{WE:{get:function(){return this.flags & 1;}},aw:{get:function(){return this.flags & 4;}},Sm:{get:function(){return this.flags & 256;}},Um:{get:function(){return this.flags & 512;}},ex:{get:function(){return this.flags & 1024;}},$q:{get:function(){return this.flags & 2048;}}});x.prototype.parse=function(U){var fa,la;this.tb();this.HE=this.l.offset;this.Ka=this.l.ba();this.ee=this.WE?this.l.Xq():0;this.aw && this.l.ba();this.Rm=(this.Sm?4:0) + (this.Um?4:0) + (this.ex?4:0) + (this.$q?4:0);this.uq=this.l.offset;G(this.WE,"Expected data offset to be present in Track Run");G(this.length - (this.l.offset - this.startOffset) === this.Ka * this.Rm,"Expected remaining data in box to be sample information");if(U && U.T){U.T.ee=this.ee;U.T.Ka=this.Ka;this.ad=[];for(fa=0;fa < this.Ka;fa++){la={};la.Bk=this.Sm?this.l.ba():U.T.Bi;this.Um?la.Ne=this.l.ba():U.T && (la.Ne=U.T.Di);this.ex?la.NG=this.l.ba():U.T && (la.NG=U.T.Ci);this.$q && (la.Jdb=0 === this.version?this.l.ba():this.l.Xq());this.ad.push(la);U.T.ad=this.ad;if(U.T.Ak)for((G(U.T.Ak.length === U.T.ad.length),la=0);la < U.T.ad.length;la++){U.T.ad[la].Wu=U.T.Ak[la].Wu;U.T.ad[la].ox=U.T.Ak[la].ox;}}}return !0;};x.prototype.vm=function(U,fa,la){var wa,Ka,ab;wa=this.Sm?this.l.ba():U.Bi;Ka=this.Um?this.l.ba():U.Di;U=this.ex?this.l.ba():U.Ci;ab=0 === this.version?this.$q?this.l.ba():0:this.$q?this.l.Xq():0;return {a2:ab,NG:U,Ibb:la + ab - (void 0 !== fa?fa:ab),Ne:Ka,Bk:wa};};x.prototype.na=function(U,fa,la,wa,Ka,ab,ob){var mb,Gb,Jb,Qb;mb=0;Gb=0;this.Y.offset=this.uq;for(wa=0;wa < Ka;++wa){Jb=this.vm(fa,Qb,Gb);if(0 == wa)Qb=Jb.a2;mb+=Jb.Ne;Gb+=Jb.Bk;}wa=Ka;Ka=this.l.offset;Jb=this.vm(fa,Qb,Gb);this.Ek=wa;this.w2=Gb;if(ob){if((this.zk=this.ee + mb,this.Rf=0,wa === this.Ka))return !0;}else if((this.zk=this.ee,this.Rf=mb,0 === wa))return !0;if(0 === wa || wa === this.Ka)return !1;this.qq=!0;if(ob){this.Rf+=Jb.Ne;for(ob=wa + 1;ob < this.Ka;++ob){Jb=this.vm(fa,Qb,Gb);this.Rf+=Jb.Ne;}this.Y.offset=this.HE;this.Ka=wa;this.Y.ie(this.Ka);this.Y.wx(ab);this.aw && (this.l.offset+=4);this.Rc(this.length - (Ka - this.startOffset),Ka);}else (fa=Ka - this.uq,this.Y.offset=this.HE,this.Ka-=wa,this.Y.ie(this.Ka),this.ee+=mb,this.Y.wx(ab,this.ee),this.aw && (this.l.offset+=4),this.Rc(fa,this.Y.offset));la.Rc(this.Rf,U.Ee + this.zk);return !0;};x.prototype.K1=function(U,fa,la,wa,Ka,ab){var mb;if(wa){wa=this.zk;for(var ob=this.Ka - 1;0 <= ob && this.Ka - ob <= Ka;--ob){this.Y.offset=this.uq + ob * this.Rm;mb=this.vm(fa);if(mb.Bk != ab.duration){this.l.console.warn("Could not replace sample of duration " + mb.Bk + " with silence of duration " + ab.duration);break;}if(this.Um)(this.Y.offset-=this.Rm - (this.Sm?4:0),this.Y.ie(ab.pg.byteLength));else if(ab.pg.byteLength !== mb.Ne){this.l.console.warn("Cannot replace sample with default size with silence of different size");break;}wa-=mb.Ne;la.Pm(mb.Ne,ab.pg,U.Ee + wa);}}else for((wa=this.zk + this.Rf,ob=0);ob < this.Ka && ob < Ka;++ob){this.Y.offset=this.uq + (ob + this.Ek) * this.Rm;mb=this.vm(fa);if(mb.Bk != ab.duration){this.l.console.warn("Could not replace sample of duration " + mb.Bk + " with silence of duration " + ab.duration);break;}if(this.Um)(this.Y.offset-=this.Rm - (this.Sm?4:0),this.Y.ie(ab.pg.byteLength));else if(ab.pg.byteLength !== mb.Ne){this.l.console.warn("Cannot replace sample with default size with silence of different size");break;}la.Pm(mb.Ne,ab.pg,U.Ee + wa);wa+=mb.Ne;}};y.wa=!1;y.prototype=Object.create(K.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{yi:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(U){this.tb();this.yi && this.l.rh();this.yi && this.l.ba();this.YX=this.l.Aa();this.Ka=this.l.ba();this.UZ=this.l.Vq(this.Ka);U && U.T && (U.T.c2=this.UZ);return !0;};y.prototype.na=function(U,fa){if(U && 0 === this.YX){U=fa?this.Ka - U:U;this.Y.offset=this.startOffset + 13 + (this.yi?8:0);this.Ka-=U;this.Y.ie(this.Ka);this.cx=0;if(fa)this.Y.offset+=this.Ka;else {for(fa=0;fa < U;++fa){this.cx+=this.Y.Aa();}this.Y.offset-=U;}this.Rc(U,this.l.offset);}return !0;};z.wa=!1;z.prototype=Object.create(K.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{yi:{get:function(){return this.flags & 1;}}});z.prototype.parse=function(U){var fa,la,Gb,Jb;this.tb();this.yi && this.l.rh();this.yi && this.l.ba();this.Ld=this.l.ba();G(1 === this.Ld,"Expected a single entry in Sample Auxiliary Information Offsets box");this.ee=0 === this.version?this.l.Xq():this.l.A1();this.l.offset=this.ee;if(U && U.T){fa=U.Ya.QX;la=U.T.c2;G(0 < fa || void 0 !== U.Ya.PX,"Expected per sample or constant IV");G(la && 0 < la.length,"Expected saix box parsing to find sample info sizes");U.T.Ak=[];for(var wa=0;wa < la.length;wa++){for(var Ka=fa?this.l.Wq(fa):void 0,ab=[],ob=this.l.lb(),mb=0;mb < ob;mb++){Gb=this.l.lb();Jb=this.l.ba();ab.push({fX:Gb,gX:Jb});}U.T.Ak.push({ox:ab,Wu:Ka});}}return !0;};z.prototype.na=function(U,fa){this.ee+=U;this.Y.offset=this.startOffset + 16 + (this.yi?8:0) + (0 === this.version?0:4);this.Y.wx(fa,this.ee);return !0;};A.wa=!1;A.prototype=Object.create(K.prototype);A.prototype.constructor=A;Object.defineProperties(A.prototype,{oG:{get:function(){return this.flags & 1;}},nH:{get:function(){return this.flags & 2;}}});A.prototype.parse=function(U){var fa,ob,mb;this.tb();fa=0;this.oG && (fa=this.l_=this.l.ba() & 255,this.l.Vq(16));if(U && U.T){if(U.T.Ak)return;U.T.ad || (U.T.ad=[]);}if(0 !== fa && 8 !== fa && 16 !== fa)return !0;this.Ka=this.l.ba();if(U && U.T)for(var la=0;la < this.Ka;la++){if((U.T.ad[la].Wu=0 < fa?this.l.Wq(fa):void 0,this.nH)){for(var wa=[],Ka=this.l.lb(),ab=0;ab < Ka;ab++){ob=this.l.lb();mb=this.l.ba();wa.push({fX:ob,gX:mb});}U.T.ad[la].ox=wa;}}return !0;};A.prototype.na=function(U,fa){var la,wa;la=fa?this.Ka - U:U;this.Y.offset=this.startOffset + 28 + (this.oG?20:0);this.Ka-=la;this.Y.ie(this.Ka);U=this.Y.offset;if(this.nH)for(la=fa?this.Ka:la;0 < la;--la){this.Y.offset+=8;wa=this.Y.lb();this.Y.offset+=6 * wa;}else this.Y.offset+=8 * (fa?this.Ka:la);fa?this.Rc(this.length - (this.l.offset - this.startOffset),this.l.offset):this.Rc(this.l.offset - U,U);};B.wa=!1;B.prototype=Object.create(K.prototype);B.prototype.constructor=B;B.prototype.parse=function(U){this.tb();if(U && U.T){void 0 === U.T.ad && (U.T.ad=[]);for(var fa=0;fa < this.length - 12;fa++){U.T.ad[fa].Kdb=this.l.Aa();}}return !0;};B.prototype.na=function(U,fa,la){la?this.Rc(fa - U,this.startOffset + 12 + U):this.Rc(U,this.startOffset + 12);return !0;};D.wa=!1;D.prototype=Object.create(K.prototype);D.prototype.constructor=D;D.prototype.parse=function(){this.tb();this.l.rh();1 === this.version && this.l.ba();this.Ld=this.l.ba();this.Tm=[];for(var U=0;U < this.Ld;++U){for(var fa=this.l.ba(),la=this.l.ba(),wa=0;wa < fa;++wa){this.Tm.push(la);}}return !0;};D.prototype.na=function(U,fa){this.Tm=fa?this.Tm.slice(0,U):this.Tm.slice(U);U=this.Tm.reduce(function(la,wa){0 !== la.length && la[la.length - 1].group === wa || la.push({group:wa,count:0});++la[la.length - 1].count;return la;},[]);this.Y.offset=this.startOffset + 16 + (1 === this.version?4:0);this.Y.ie(U.length);U.forEach((function(la){this.Y.ie(la.count);this.Y.ie(la.group);}).bind(this));this.Ld > U.length && this.Rc(8 * (this.Ld - U.length));this.Ld=U.length;return !0;};C.wa=!1;C.prototype=Object.create(K.prototype);C.prototype.constructor=C;ya={Ba:{moov:k,trak:c,mdia:c,mdhd:g,minf:c,encv:ya,schi:c,sidx:f,sinf:c,stbl:c,tenc:m,mvex:c,moof:p,traf:r,tfhd:v,trun:x,sbgp:D,sdtp:B,saiz:y,saio:z,tfdt:u,mdat:C,vmaf:d},i3:{vpcC:w,SmDm:t("smdm"),CoLL:t("coll")},kH:{schm:W},dx:{}};F([ia,M,O,Q,za,Ra,Fa,L,N,eb,rb,J,T,H,P,a],ya.Ba);F([V,pa,sa,X,S,R,da,xa,Ta,$a],ya.dx);F([ia,W],ya.kH);ya.Ba[b.OD]=m;ya.Ba[b.Hp]=l;ya.Ba[b.Gp]=n;ya.Ba[b.ND]=A;ya.dx[b.$u]=Xa;ya.yb=K;q.exports={mk:ya};},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);q=a(27);k=a(27);a=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}c.__extends(f,g);f.prototype.parse=function(d){this.l.offset+=6;this.l.lb();k.aa && this.l.console.trace("VideoSampleEntry sampleEntryType: " + this.type);if(null === d || void 0 === d?0:d.Ya)d.Ya.Idb=this.type;return !0;};return f;})(q.yb);b.default=a;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});q=a(22);q.__exportStar(a(156),b);q.__exportStar(a(252),b);q.__exportStar(a(253),b);q.__exportStar(a(254),b);q=a(253);c=a(254);a=a(252);b.bk={3:a.xD,4:q.uD,5:c.CT};},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);k=a(27);q=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}c.__extends(f,g);f.prototype.parse=function(d){var h;this.HT=this.l.lb();h=this.l.Aa();this.$G=! !(h & 128);this.UD=! !(h & 64);this.MD=! !(h & 32);this.I2=h & 31;this.bY=this.$G?this.l.lb():void 0;this.UD && this.l.Vq(this.l.Aa());this.tU=this.MD?this.l.lb():void 0;k.aa && this.l.console.trace("ESDescriptor: ES_ID=" + this.HT + ", streamDependenceFlag=" + this.$G + ", URL_Flag=" + this.UD + ", OCRstreamFlag=" + this.MD + ", streamPriority=" + this.I2 + ", dependsOn_ES_ID=" + this.bY + ", OCR_ES_Id=" + this.tU);this.lE(d);return !0;};f.tag=3;return f;})(a(156).Su);b.xD=q;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);k=a(27);q=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}c.__extends(f,g);f.prototype.parse=function(d){var h;this.Nq=this.l.Aa();h=this.l.Aa();this.nx=h >>> 2;this.ux=h >>> 1 & 1;this.Dv=256 * this.l.lb() + this.l.Aa();this.maxBitrate=this.l.ba();this.bq=this.l.ba();k.aa && this.l.console.trace("DecoderConfigDescriptor: objectTypeIndication= 0x" + this.Nq.toString(16) + ", streamType=" + this.nx + ", upStream=" + this.ux + ", bufferSizeDB=" + this.Dv + ", maxBitrate=" + this.maxBitrate + ", avgBitrate=" + this.bq);if(null === d || void 0 === d?0:d.wc)(d.wc.Nq=this.Nq,d.wc.nx=this.nx,d.wc.ux=this.ux,d.wc.Dv=this.Dv,d.wc.maxBitrate=this.maxBitrate,d.wc.bq=this.bq);this.lE(d);return !0;};f.tag=4;return f;})(a(156).Su);b.uD=q;},function(q,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);k=a(27);q=a(156);g=a(251);a=(function(f){function d(){return null !== f && f.apply(this,arguments) || this;}c.__extends(d,f);d.prototype.FG=function(){var h;h=this.l.sb(4);return 15 !== h?[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350][h]:this.l.sb(24);};d.prototype.parse=function(h,m){if(this.b_(m) && 64 === m.Nq){this.De=this.DG();this.Ck=this.FG();this.Gv=this.l.sb(4);this.gx=this.Cm=5 === this.De || 29 === this.De?5:-1;this.Yw=29 === this.De?1:-1;0 < this.Cm && (this.Yv=this.FG(),this.De=this.DG(),22 === this.De && (this.Xv=this.l.sb(4)));switch(this.De){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.Em=this.l.sb(1),this.Lv=(this.aY=this.l.sb(1))?this.l.sb(14):void 0,this.l.sb(1),this.Gi=3 === this.De?256:23 === this.De?this.Em?480:512:this.Em?960:1024);}k.aa && this.l.console.trace("AudioSpecificConfig: audioObjectType=" + this.De + ", samplingFrequency=" + this.Ck + ", channelConfiguration=" + this.Gv + ", extensionAudioObjectType=" + this.Cm + ", sbrPresentFlag=" + this.gx + ", psPresentFlag=" + this.Yw + ", extensionSamplingFrequency=" + this.Yv + ", extensionChannelConfiguration=" + this.Xv + ", frameLengthFlag=" + this.Em + ", coreCoderDelay=" + this.Lv + ", frameLength=" + this.Gi);if(null === h || void 0 === h?0:h.wc)(h.wc.De=this.De,h.wc.Ck=this.Ck,h.wc.Gv=this.Gv,h.wc.Cm=this.Cm,h.wc.gx=this.gx,h.wc.Yw=this.Yw,h.wc.Yv=this.Yv,h.wc.Xv=this.Xv,h.wc.Em=this.Em,h.wc.Lv=this.Lv,h.wc.Gi=this.Gi);}this.skip();return !0;};d.prototype.DG=function(){var h;h=this.l.sb(5);31 === h && (h=32 + this.l.sb(6));return h;};d.prototype.b_=function(h){return h.tag === g.uD.tag;};d.tag=5;return d;})(q.Su);b.CT=a;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var k;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(g,f){return g + f.byteLength;},0);k=new Uint8Array(c);a.reduce(function(g,f){k.set(new Uint8Array(f),g);return g + f.byteLength;},0);return k.buffer;};},function(q,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(423);k=a(249);g=a(424);q=(function(){function f(d,h,m){this.console=d;this.stream=h;this.view=m instanceof ArrayBuffer?new DataView(m):new DataView(m.data,m.offset,m.length);}f.prototype.parse=function(d){var h;h=new g.vD(this.view.byteLength);this.ub=new c.Ru(k.mk.Ba,h,this.view,this.console,{Mw:!0});d=this.ub.parse(d);this.Ba=this.ub.Ba;return d;};return f;})();b.mm=q;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ed=b.Fd=b.height=b.width=b.bitrate=b.profile=b.duration=b.$=void 0;b.xa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAADARBtFvB2gDYBdsbXZoBkgA4BcA3x8jCAgAYCgDYBDogB4CgGoAgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBcDdHJhBrgBYBBcB0BrgOYDADgO4GgLoRgO4rABgIICDYgDgDefbWRpBhgf4CgA4Aga4EgMYIBdDAgBYCBVDEgCQDAtgDoABsBygD4Gd2aWRlgKYKBWgB4BdvSGFugEQABlgEYCcBSm1pBuBmgBABAUB2BtgKgDgQQKAkgN4AgDYDccZHJlgA4CgUQGcMdXJsAggowFcKc3RiBsgBYBC+gA4ABzgSgGgEYCeuYXZjAxgcwVgagCgaQABIgBABgAYCgEITgAAPAYH/gAoBA0gKoBBDABgM4AcN/+EAAXBngA4BCsCyEDC/AuACgRoBB9gAYAcXcAHiCFBJgJYAcGaOvDDLAiDAD9H4gHICAUBigzYAB0ghgFDlgAYEAAAQBwhFQABwgO4FgAYCAQgXoAgXwAgNoJgB4BBzBjgB4JAUgB4BB6gSINgEYBBjBvgB4JA4hNwABlB4gC4CBtBlgzwGAHDSg1wCgPwAgC4Dgc4GgAYBADDpgeoJdidWR0g6wCBagG4AgA4DgAACAhg4QKg+wBhLgAFwgsoCgAAHAtBpBsgPwAgA4BAlCpB0hdgAgA4BAdhfYAgHgDgKQDBMgkoAdmNTkuAxA2gAQAEw";b.He=!0;b.T="AAABJG1vb2YAAAAQbWZoZAAAAAAAAAABAAABDHRyYWYAAAAcdGZoZAACACoAAAABAAAAAQAAA+kAAQAAAAAAEHRmZHQAAAAAAAAAAAAAANh0cnVuAAACBQAAADAAAAEsAAAAAAAACB4AAACJAAAAZQAAAEIAAAB4AAAAYAAAAGoAAABvAAAAeAAAAGUAAACqAAAAeAAAAGQAAABPAAAAdAAAAF0AAABeAAAAagAAAGwAAABuAAAAzgAAAIoAAAB2AAAATgAAAY4AAACAAAAAZAAAAEcAAAB2AAAAYwAAAGkAAABqAAAAbQAAAF4AAAClAAAAdAAAAGQAAABVAAAAcgAAAFwAAABbAAAAZAAAAHEAAAB7AAAAugAAAIYAAAB4AAAATgAAHcltZGF0AAACcQYF//9t3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE2MyByMzA2MCA1ZGI2YWE2IC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAyMSAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTMgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MzoweDExMyBtZT1oZXggc3VibWU9NyBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0xIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MSA4eDhkY3Q9MSBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0tMiB0aHJlYWRzPTcgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0wIHdlaWdodHA9MiBrZXlpbnQ9MjUwIGtleWludF9taW49MjMgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD00MCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIzLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IGlwX3JhdGlvPTEuNDAgYXE9MToxLjAwAIAAAAWlZYiEP5QCN5RZtuUheiCXkpjH5iD5m9ztSNTeil6hMNQeuau68bL67hTbCEFRVpj+oqU78SlO/um5s0Hb7LK0ots9oMJEfmf7h96HLPaAWM1YsWMHZroTOqaxwy4+Zogne3AYSG8GZZbzL/GnyaATewP48ZaIoQbHE1ZAWN82+s0oO5EHiSu2xt1IJGa39X+ndqcoEEM67yjc5xTye/9in44mbdwYR8po0IWOoeOHc+hRpqRwOazCX42Pas6KrKFfQiuaXsylNG731oYjByIFFYLFtS6j4BXmf4IfzoFKa3xTdqnzZx4NKxF3vfWXXttALCQ0hjT/2mT2lq7NQd97sxILS2bQOteCPKYN8UokLUveR9Lcb+ybGuGsL5aNRVWnqsgSLvHjssam6h5CX3akGp6XF0NkMVd4RfEz4b/XOTfj6ypy+JoauwnXPTyycftDYSh9E6LZxJ7t+OXSSPOOD3eIaXmWxuBhVp0yAFeqm+RfANvVtLJNiKFzYO0tcz7v8dF0+pitOdrz0Aikx+qWaUPj25KpTqa6TRyUehkdJn3Co0nR740ZFhdHVk9NGWWS/CqYvoYMTdAbP+odqZQhrKkI2Vjjs2TeOxUpAQ5Ixe7WeMjH5jG7PuByhPpmMiX45FgyQr4hg/hZ42PFxzh29GqX0LVZ9eUXpymhxCdaoLIz9+UDJ17ZrvCAQ17DPN8j8tMTBStcVKibgCn9yI9MIG2WEK8Ks99B2YuHtpCxTY8EeYLCCCiN2QMoZHHt+Dv4IMe5/7EcF1zfhNOkwoP/snJYLBpKKW1WuCzTlYTquTSZ7+lECtspSnrbHpEOpaoYhLiRuyDU12gUP1g8hz51bvcB6OTkYpM1jNs6z1c9rgl6h/3OjSbhxBCK1ulhtGKfdZ2aHhqTO9tGCukedT9xbxSqf3mhV3kvA/x+JG9/1qv6+YaedjaE9pOahTR8K2tSMzZ2H92SvgO5UhBdKQZ2RBJp25w1FoT5DxZYJQH1TwcVUa2sC9tHmznf10mnxJnnV6wTFGVbZkasRaTUtxVg0DJFVZYSl3iJPesSjvn3eVtzpsK15REWSCYzuUvj7/yA6g0Djgz9Ic1V5xXgxy1wlXAxOGIB88G3YUyVlhL5ceVXpwCAuJR3Vso79ChwsuifFFqDKA8a5YcVda2qo3Ty9LHpycIfEqfSyFfXrimVhxTqA3hld/JY4wEqt7cGwtqo6sBsLun+MRViqlOARuYhf4im6v1Al4Kzc0V4zOXrkG0IMRm7GwCcNItIv0+hZt8mwZTIwdm08oZbzbSNn1YsA9WYVkZ8nN4lzKdAqgrvYLmP+G6ou/y7PHNpkd6syOa1czEB1P6BeTfGH1aluY5rfkZzWPa7SfeG0QkpgRtqdHHlP9jqzsaMFLAvN6R87vvzl/BYfr6tRTSyG7GepPzVpAjBr86BIU5HqEKnhJbWNQINr5jXVWcC7y6HGZUgHCCIP+RQBo/epalAkFRXKzOPgsN5oYnBZ38DlcY79VK0HboPnT+W3nBMbuJx8en6Dl9p1Q9oO76UFnSKgxhOnFG/lss46swi9sL2XZWPPKwwHwBvfVNG6PFum6CtBRO/Q4SFxhbKBihvQ+suY2SWUJfYrt1L0AgU+u0+qpgH6TWVjcGWCL79GSnSpsv7ORA/BbAO+Ks/T1xGS5rQW0qnzfVg7Bo9a4LZVD8zX0UvLJDm8l0RGQPNkzGB0ducjNtW2P46musMvuP/tu8OJEQz98JRTmMgMIXMWbVH7VOo2z98ohB8aeOnjz1cBkkVw2UwONx9eJc+yJVMV1n8uOB5NStdOVgBe4NgaB3drzq5GfLF1gVpAdjkU1ZbTleb1MLm+ZBWcNP6LGpiS2IydR1y09JHUIAAHJCbRGRc2xGzFugpYCdfTuGhosg3QAAAAwAAAwAAAwAAoIEAAACFQZo7E//nVLRWkbwZJ/uT+k83DIAo0Lzelz/en9DgKXgAocWfS8E773kqc8Ed41a/bwguWvZdDoi+ghH2V0LTnSA7yCoAk+8a74P0dZY0wfZvswjKkQUCWkC3WNcLvOkv+/Pms+2tighu42QuSSzI6XqnfqJxnriD657BAlCsqG/zD0AvIAAAAGFBmk8IZMphP+S4lAdRcCyBMIqAtNopm7mXtFj/oh3n/V6bfbkI6Qic9s/YAfYCZlZUhTUUzOdYbc66kdgJNo0w4ckw95583oVyTVVv8EAzyJTIWWbTchVEVvWRij+xbhGxAAAAPkGacnhDyZTAn//k6Mx+oNfjiEr5jjNAKDd1gyBia+I+CQzL9RoXXP15ik18lSk26xqzwSflYzc4oMw1MKCAAAAAdEGaknhDyZTAn//k7cOvuPgBR8WUSbxjk64cxRG9N9u1Fb2ejZA+/oAAAAMA0p7PqYL9EvCVinAMdNu5OM5fgPSP4Wklg6pv7CvCnI6qv0DQAu02XWP69hXTZavTOmGaKqJwgKuFEQ3d2qOfBhTdP1Z68PKBAAAAXEGasnhDyZTAn//k9okWIYRu9QAd17VGghqaoYPEcOFYWjxC9fEgLpoY6/zg4oa3IRHLN/VSxGqAM966SAY1PLv/5fP8UYkrVzLWPVD/sBVhRh4NCsiLk2Z93A45AAAAZkGa0nhDyZTAn//k7Q5HZ2GA/cUAu9qb+6U5lhbDRzBOIK6zkc55BB9N/r7YfBgAAAMAADXyd7FWZkD2pbXrevUUvn81p6lMiuVf3v3ntUMTzF+v2u/XZ97bUMp+0mk/pg3vjNvdRwAAAGtBmvJ4Q8mUwJ//5O26shGGAmhqXfBTWBJlfohzKllUbTgMBkl+VucGEkCCbPt0tu+tDQAAAwAAorr+0Voqv4LJDCFgnEsv8t1n3YtY2VTN5PhOkvJDlCBZ9lhkDsrdBvdahwQYUNmJ+wecDQAAAHRBmxJ4Q8mUwJ//5O2lrK2gDAgw9v83iexGDZq/BO67d63zuVC/RUkXqsii0K6q1xQukZH7dckPceKgAAADAAzLSyhJRa+eNnqp1ijmjVpXxCSoeo6J1xcTkCOeWTAoRqhmHeI07a3B3dqjnwSBIkpd+TzS4AAAAGFBmzJ4Q8mUwJ//5Ng3/gMz/yaefKnTgZAzArWHZwAAAwAAE3tcn0OZY8VcfOQyEMZ/bhH8JVPCBUT/xqHJ41IhPLxGOwGjEsODQz3zaehzH99hfn/3utQ4IJAJiPwYpjMkAAAApkGbUnhDyZTAn//lZdMcYbY9QW7kcl98F3GZavbXB/nEWBUw4FizqZKj7/EI8IDoAzCIrStvAF3/9Ir4td/f8c+JfAMo/Wp9CaWPgpLnwEPthosIyq5Cs7574fUm0ivEq2Yb4oO60ZbkRYRfVlMiOATsYY0X/AqUEX9H3F0W6eHvNGHx1YIGlBkccz5P/dTvnrTxttHG7BTG38Tg3KApXpwFYdO6MaEAAAB0QZtyeEPJlMCX/4f49bjvzgdXZAPhPCffjXKv081Yne9VgaCiIQ2lF3+CKlCPtYeZCT7oAAADAAEy2ttJA/t16kVXF3RRqQci8kotp0+p/QznwgbaNkZlh4wTzg5gsCR1LzClJN+39+7u1R7YikGGGGY9HMAAAABgQZuSeEPJlMCX/4f5BMkTR4qCQSES86D8XiAAAAMABWz4slPX3Hfzo0afdpxQvpkYSSXqCm/9Mz3/AGppnfFk7HgJ53ck8pvyj/ynYHHD795KHqz7u7VHdUv9T4Dnd+xJAAAAS0GbsnhDyZTAl/+ILBvbxOtd4AAAAwA66CD9zmAK6cc2krFbZT8zcR16JSona0pNC5unmsL6Jti0F/RH3b1f/d2qO6pMxDrhh5+1HQAAAHBBm9J4Q8mUwJf/iFNyslNbmeMAn/7oQPc1mWBI7ND889+VNa6QTTMEAAADAAAIrLfk9uC2w0uSBD7aGhxuMXbqPbbF2jsuQ05i3xF4veTYq73qu53lSRZtYWj/z8FcSaDqJCDd21R40S4oR5NYFKGBAAAAWUGb8nhDyZTAl/+IaXu1hMCGoFCBGsbFfDjb6kQXH0ntwLG7Smbz+AmRu3BYjJ8Z43leMAwphDmLXqk8HqdRSpZI9CwGbwUk3S2J4JdypEVvkOc9qnHjUAwJAAAAWkGaEnhDyZTAl/+IV1DszOmnIGKUhsBoWYgxVP5611QAAAMAACDO848JoxBGubZgKsgxjmZMG1Nus9efjkfaDGSb86WJ/KI21f7N6721Rwy4699xAlYeugParAAAAGZBmjJ4Q8mUwJf/iEZxN0gDFKS4KsYyRUazQiRa6HHBUVlCHgzPzZtpmQhv4GpMaYcgAAADAAiXcSVDwB6UMsY0/luwYOZU0ioWijaHoi/rQrLBFyOx0qwbp53tqj1IyUKYJxWAiWAAAABoQZpSeEPJlMCX/4hYFLYKSNBW9SvFWNRVrKFkjT7EsxhatHilYsHk9Q7kEoAAAAMAA1bMX5vvZMwcdTQkxxq8a7CVwRS34y33BTBcGjA0l2Eu48btVWVAhQoqhF3dqj2IcvkFRMTBkzEAAABqQZpyeEPJlMCX/4gp8lgKim8CoTiVZu9keuBlTPrxP+EAAAMAAJhSf/7Xbj2Z5BRsQ5A8ps5RVNWUSRhXEuMsYDxRHwmL3JOJbKhSg2B0G1jmnKGYEFmrQMYWScsPu7tUd1TXWqNFacYDcAAAAMpBmpJ4Q8mUwJf/iTGmO2GVem2ImgTt+odBWG/LAsX17MvM+ZpKEqxOl3BNNsDrUU1UTjvpdWZ9GHF7osGFuogISeMIOplxHdvDCc+8LpXpdbnQBafOoes7QPlD2GBarR5g2alPAiPiZpjXjp3BpQO/5bXEqdUJHk4UboHJpnLmC/8G6IX2fe0mhhnMpleizeP69KSsMZsCKJ/TxeRTJX9wUrJO8O/K5h9v0dKwj590Un1wqKnxLU5Bvj/u8siy5IWgBHlPZhbBzQx4AAAAhkGasnhDyZTAl/+IaXwsFB9ktqBUL3SsOqDgvRkjrM0v63QvklKFmXSjb8u2E6NBHh0aLMnKGl56vZTMrAAAAwAA6s760fM//HqCQydmlOUmbYGOgWQoTV2iXy2S28A5DemEzFw8I0g7ragwq3rNSao/Q8ZOGJMUYIvPu7tUeRgclTjD8rwdAAAAckGa0nhDyZTAl/+IU2iZRSCk2YyDFQR+M6lsaB9ROs6eAAADAABVv8sixC/3yArTPkxTdBOywM3csXDMpLFKQ3/Z+asCo6Rc830a89fyYkwH9arOdJNlnDzcKu1euOlZATO221/+7u1R3VLCJQ1kovM6wAAAAEpBmvJ4Q8mUwL8B2SdhGCq8dEVYfYuhIAAAAwAAHKf+I/Wi+AGR8TppQvPH8Lp6gs7ld84p3y+k+OpApB0nnd2qPZxl+FSq6C/UHQAAAYpBmxJ4Q8mUwL8Gh8DKoESoyC0ub85jfe1xnrs+5w2Aqkje6YAevkCbm4KnwSKq2FiYmeL8M6wl7dD5Pmhlpt2TItoGd4AceHKV2NWAYOAmGYf/9LQyjj5kaE2L9fTQj46nuRfceqj0x3sfaBd/E0JVvoOYlesu7f2hS+8iWyhBxL8r9iZombTBPV9tdMYvBiu+lIlH1GpgAAADAAAFyl3aHl9Cjwvm6PYqW7+Gin1vW2f4+Hm783bfEP7caBy6OrGVGU8f/d/L9U45vUetDizPRSUiBNc9TeEOqnvffikwK8VHewTJX1/E/+poTg2XgWvO/0ySxvoVQYCxOw9vEuqlEpt6/dUXE/dzCTP3gdVxMbYBXb7PMtARvMLLcFdRXllb2qDPEnznhZCaNyn547xjD7Vc7B+tT6L+Ocx99xXyz2Njdl/5txYsMvtf3R96d/vfYkBu1rO1LyiVjZInaR/vC1gYIMz/qb/a6G334vV0I8iLeLVVzrATsqDmE+M93ao5gA25aiLjW1j7AAAAfEGbMnhDyZTAvwHkN82qsb2wR+6trVdpYlJIWCOaPC84YufWAylVCQCXD5a5PIK7EAAAAwAACet+Mu3/l7+Jl8nOS0mTisuWOhhB2ytlUR3Hjlql3InNYEz6ePzpPwGdAi4GrJ+L9/d/6XOBoi0Uz93dqj+pgY2gqd7rfYAAAABgQZtSeEPJlMC/AeUupZLQgFnstZiHLQMwdlU+mUWf0yNMxN5tRpoXMY38lLIjXVKHIZXhG5kiaUyBaaaEImLUHxTUaeETsLKjYIqjB7Fo5FFlgRS+wtJ/pkMrJ8lH8BixAAAAQ0GbcnhDyZTAvwEkbGylAAADAAARHdNjMvo/KSUA1vWtWcZdRUb5pkSq1sfXbCKcPt9bT8xeS7utQ4IIFLu6QR2lkcAAAAByQZuSeEPJlMC/AeUviti0AMVXe6Nif6d03V5xHM1Af1Ola7vHLMAAAAMAAA2a7x1MahpVU3XipOmZR0C+cz6TBrjuzdDY2dwj7S5ZwRxAle5hGGiutVBz+4tNRAVlQBIw/H146Qm7u7VHs5Aidbba6Jo9AAAAX0GbsnhDyZTAvwH+RKQjCCA+AJ1s+1ZNPDmOSvH+lHkM1QvXw3kb1qMUB3rpBgh7S7eRMZW1Ug8HAUmjGxjRPejbAxdHcPzyf6OeIVkDPjLJRmOfLk8Uss8jLiwIcIOnAAAAZUGb0nhDyZTAvwHjnAhhaAKdWspOjpGeSR7cAUa5pRMFefmwsQ0I0s3cewAAAwAAAwCAZwueip9/EUA924YmFfIu2+uFKrDZd4Kx7I62/4kI29xP3sEM5zbu1RkLDAFxN0KJg4LoAAAAZkGb8nhDyZTA/wNXFUkVdBEiMiLUiMDA1ZKVQGPr55wYu6BL6Lxdgj4aOn1vpPZ/sAAAAwAAGyV9+0Vog32jLHb7uhituPK+0EAJ0ujdXK5OfZ/a8v1JI5gjL7tqj7s7Uih58mFiwAAAAGlBmhJ4Q8mUwP8DVirIsQtt3MM9AxUbCd2z+HrBqlxaD5GNVd3505016/E1T+AAAAMAAAMACN6MHisMzu4Y7kDTXqbpR6TsKs23+/fY5SodNr2HgAVRJhOWNY4BSd721R92WBlzFqcG0vEAAABaQZoyeEPJlMD/AsgewE3BkQ65pBSzO7JAXn9rRAAAAwACqsDTznwdTy1OsSSdP6HFEqm5ycxC056m3glO4KCrmr8rGQUB2eW/e199Qln29tUfdl1QETfGkr7YAAAAoUGaUnhDyZTA/wS11RlCpGvpkLP+nndTLuzDloGGhNsSb/kMOpuTCOB/dhwD3qvlO9LPVWdx6fvDz53qClbMQ6jNbBEv9lBCiXLEmAqUIZ0OVXIJeLEOvrgeQwEkNYv2bFZUxAeQIZ6+BGGVQBicx38X3fXzib2YdrMg3boB2xFsyrSYMZDZXz8IsqQHSI3ixVv9xdQJ/0s7WTw1LE6pyQ3pAAAAcEGacnhDyZTA/wNeiDJ0s1AFOp9+QChZEyBM90dmYJZeYSud+/JEux9WvbpS4cej14/O2AAAAwAA4StC+nqcfvf+3B+SGe3ORkHvmDNYpC16BwMgvZjsX9NZVGKHgUEPhH0cBf7e2qQC0g9mY15K2sAAAABgQZqSeEPJlMCvBVgM3Sa0ylPxIESxLAAAAwAAB3fDd0ATQa7m5tRS4vF10Aepf4k2cONLbDogIB1s/yKhTnO3T8XuuGUiAVDrXUDO3oHZI3wW+L3/bu1R92Tnv4V86XGXAAAAUUGasnhDyZTArwQhEX5RtgAAAwAGoQP3vBTB/ILipKxVM6VbEJTQKDF2QvMxBID9FLZpPhryBlfYgwEFlM/Ry5iJFyGvnd21R92RsQbthvNTEwAAAG5BmtJ4Q8mUwK8EneNqOdKTCwEUlAHpNMFQrIeQInxCTwVtSVYIAAADAAADAJ+I3UnbqJhxFXJhR15Mjd4ApoEzsz9x9oWmPXIQKO+vBP7+HukBaI0ubEA2pq+0T+YU1e+uQybtqj/+aQoh5vZikQAAAFhBmvJ4Q8mUwK8FccR8pOJfARhjtxiySmcwXI6T2+1bRe4hBzrZqoyuGOH8YY1yRLpjgiqfK7lbyBZbovZoCm8InBLIcmzlgl+pfiAw9nyU0/5EjtUPgGVBAAAAV0GbEnhDyZTAk/8Gt4qa5nwQcnki4ftbTEjD7Cq+8MU17XqQzrhoYoAAAAMAKPLnmK0eaIbtD7QxBcV5fZNTEV8crYbmUIuuJy937t3WontRhtdKWVEU2AAAAGBBmzJ4Q8mUwJP/BdM6rVSdkS45QKTJ0AvS5VrgXfkBr1y0lRugOQ6xelUmwMgAAAMABZ4DKvATEFbcqhXFv8URCQC8aiQ6tnSl89EI9bFLSoj2Hfr3daie1LadOU4AMOgAAABtQZtSeEPJlMCb/wgM8sr7YKS0AQvb0q/FpHv23D7mi4DZ/qsdJmu9w4apoAAAAwAANReSM+P8kmHi3eVxFvJzB7eq3KoJ79sVSpgWxcJRyN7UdzxGG2K3aFPHHTw2csgifbtqkUc8OmLxEVMo8QAAAHdBm3J4Q8mUwJv/Bz+3JchtPTs7eLpmIy73b4gAAAMAOkVHfqRpYVzp4vRLKCDQzZdnXkvOf7lx3RXxcL5KKmA7b4QyGf87j4OgynbpFSdYsEoVnrAkZOGT0YD/9s1pPqOAMYelSGmzdXn7tqjp/9eECPApZPnLwAAAALZBm5J4Q8mUwIj/DzjUkjwLJvMFpK/++Qp/WDWvZCeMLZx2Afp+GdS6qnv1QXuBTWuAgJCogmP+MlUGaHGkIYz2PloxO8o7UANzdT+4Hzi0zyBze8SFBq25++u1zjS6PYUuuQ6IBarsXBgSuRM1wtx/idDjyvx29p45qw6PPxUfozYoOXr3Pi9gIX7LaP4Zh35lU5kzuGmyZQFwEQn8IvTG6SB/1jiB9oGHN7qa4UB44KDX26Ym4AAAAIJBm7J4Q8mUwIr/EVWMndxc7/fJQ7APVpAQrQbomTGMQCuotY6fIDqEbgBu2TImxplOxNvwHIcTzQwwAAADAESvVgt3ri/2ahbkHVPDGTUUVNSnIpnyTxPkk7HfgKmm9G97DfvDJB6EvgwEqbcQH2XXj/pu9eacq/dutEzbDahmtB3VAAAAdEGb0nhDyZTAjP8TuIoJuMJIpkyEf71LzPhK7t7O9PHYPG62o2wQAAADAAFPErfmi5YOHTrueh7lo2aHbImo/aun7tXfX4zLJXpVwP4SiHhh/R3nbDnH6UjbCOjEolmUcjp+DX9EimI/Pttqi36TGXCdWTEPAAAASkGb8nhDyZTAhD8YXfEL44hQLBAAAAMBYwaqxwKdnL0hJCgxMKxs2sLFxlmDk8Eci0i3eN49AVl88GeSWe+HT7apqRWm63b1Nr5x";b.Ge=!1;b.$={qa:1001,I:24E3};b.duration={qa:48048,I:24E3};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=384;b.height=216;b.Fd=[176,699];b.Ed=[44];},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ed=b.Fd=b.height=b.width=b.bitrate=b.profile=b.duration=b.$=void 0;b.xa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAADARBtFvB2gDYBdsbXZoBkgA4BcA3x8jCBgAYCgDYBDogB4CgGoAgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBcDdHJhBrgBYBBcB0BrgOYDADgO4GgLoRgO4rABAggAgBDYgDgDefbWRpBhgf4CgA4Aga4EgMYIBdDAgBYCBVDEgCQDAtgDoABsBygD4Gd2aWRlgKYKBWgB4BdvSGFugEQABlgEYCcBSm1pBuBmgBABAUB2BtgKgDgQQKAkgN4AgDYDccZHJlgA4CgUQGcMdXJsgSwCgowCcKc3RiBsgBYBC+gA4ABzgSgGgEYCeuYXZjAxgcwVgagCgaQABIgBABgAYCgEITgAAPAYH/gAoBA0gKoBBDABgM4AcN/+EAAXBngA4BessgJDC/AuACgRoBB9gAYAcXcAHiCFBJgJYAcGaOvDDLAiDAD9H4gHICAUBigzYAB0gIgEB0BqgAYEAAAQBwhFQABwgO4FgAYCAQgXoAgXwAgNoJgB4BBzBjgB4JAUgB4BB6gSINgEYBBjBvgB4JA4hNwABlB4gC4CBtBlgzwGAHDSg1wCgPwAgC4Dgc4GgAYBADDpgeoJdidWR0g6wCBagG4AgA4DgAACAhg4QKg+wBhLgAFwgsoCgAAHAtBpBsgPwAgA4BAlCpB0hdgAgA4BAdhfYAgHgDgKQDBMgkoAdmNTkuAxA2gAQAEw";b.He=!0;b.T="AAABJG1vb2YAAAAQbWZoZAAAAAAAAAABAAABDHRyYWYAAAAcdGZoZAACACoAAAABAAAAAQAAA+kAAQAAAAAAEHRmZHQAAAAAAAAAAAAAANh0cnVuAAACBQAAADAAAAEsAAAAAAAACBkAAACIAAAAZQAAAEEAAABzAAAAYAAAAGYAAABrAAAAcwAAAGEAAACpAAAAdAAAAGAAAABLAAAAbwAAAF0AAABaAAAAZgAAAGcAAABqAAAAzgAAAIYAAAByAAAASgAAAYsAAAB8AAAAYwAAAEIAAAByAAAAYwAAAGUAAABmAAAAaQAAAF0AAAClAAAAcAAAAGAAAABRAAAAbgAAAFkAAABXAAAAYQAAAGwAAABmAAAAuwAAAI0AAAB0AAAASQAAHSptZGF0AAACcQYF//9t3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE2MyByMzA2MCA1ZGI2YWE2IC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAyMSAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTMgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MzoweDExMyBtZT1oZXggc3VibWU9NyBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0xIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MSA4eDhkY3Q9MSBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0tMiB0aHJlYWRzPTcgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0wIHdlaWdodHA9MiBrZXlpbnQ9MjUwIGtleWludF9taW49MjMgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD00MCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIzLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IGlwX3JhdGlvPTEuNDAgYXE9MToxLjAwAIAAAAWgZYiEP5QCN5RZtuUheiCXkpjH5iD5m9ztSNTeil6hMNQeuau68bL67hTbCEFRVpj+oqU78SlO/um5s0Hb7LK0ots9oMJEfmf7h96HLPaAWM1YsWMHZroTOqaxwy4+Zogne3AYSG8GZZbzL/GnyaATewP48ZaIoQbHE1ZAWN82+s0oO5EHiSu2xt1IJGa39X+ndqcoEEM67yjc5xTye/9in44mbdwYR8po0IWOoeOHc+hRpqRwOazCX42Pas6KrKFfQiuaXsylNG731oYjByIFFYLFtS6j4BXmf4IfzoFKa3xTdqnzZx4NKxF3vfWXXttALCQ0hjT/2mT2lq7NQd97sxILS2bQOteCPKYN8UokLUveR9Lcb+ybGuGsL5aNRVWnqsgSLvHjssam6h5CX3akGp6XF0NkMVd4RfEz4b/XOTfj6ypy+JoauwnXPTyycftDYSh9E6LZxJ7t+OXSSPOOD3eIaXmWxuBhVp0yAFeqm+RfANvVtLJNiKFzYO0tcz7v8dF0+pitOdrz0Aikx+qWaUPj25KpTqa6TRyUehkdJn3Co0nR740ZFhdHVk9NGWWS/CqYvoYMTdAbP+odqZQhrKkI2Vjjs2TeOxUpAQ5Ixe7WeMjH5jG7PuByhPpmMiX45FgyQr4hg/hZ42PFxzh29GqX0LVZ9eUXpymhxCdaoLIz9+UDJ17ZrvCAQ17DPN8j8tMTBStcVKibgCn9yI9MIG2WEK8Ks99B2YuHtpCxTY8EeYLCCCiN2QMoZHHt+Dv4IMe5/7EcF1zfhNOkwoP/snJYLBpKKW1WuCzTlYTquTSZ7+lECtspSnrbHpEOpaoYhLiRuyDU12gUP1g8hz51bvcB6OTkYpM1jNs95x3OY/8hYWAg4ghFa3Sw2jFPus7NDw1Jne2jBXSPOp+4t4pVP7zQq7yXgf4/Eje/61X9fJNKuxtCe0nNQpo+FbWpGZs7D+7JXwHcqQgulIM7Igk07c4ai0J8h4ssEoD6p4OKqNbWBe2jzZzv66TT4kzzq9YJijKtsyNWItJqW4qwaBkiqssJS7xEnvWJR3z7vK2502Fa8oiLJBMZ3KXx9/5AdQaBxwZ+kOaq84rwY5a4SrgYnDEA+eDbsKZKywl8uPKr04BAXEo7q2Ud+hQ4WXRPii1BlAeNcsOKutbVUbp5elj05OEPiVPpZCvr1xTKw4p1Abwyu/kscYCVW9uDYW1UdWA2F3T/GIqxVSnAI3MQv8RTdX6gS8FZuaK8ZnL1yDaEGIzdjYBOGkWkX6fQs2+TYMpkYOzaeUMt5tpGz6sVdErMKyM+Tm8S5lOgVQV3sFzH/DdUXf5dnjm0yO9WZHNauZiA6n9AvJvjD6tS3Mc1vyM5rHtdpPvDaISUwI21Ojjyn+x1Z2NGClgXm9I+d335y/gsP19WoppZDdjPUn5q0gRg1+dAkKcj1CFTwktrGoEG18xrqrOBd5dDjMqQDhBEH/IoA0fvUtSgSCorlZnHwWG80MTgs7+ByuMd+qlaDt0Hzp/LbzgmN3E4+PT9By+06oe0Hd9KCzpFQYwnTijfy2WcdWYRe2F7LsrHnlYYD4A3vqmjdHi3TdBWgonfocJC4wtlAxQ3ofWXMbJLKEvsV26l6AQKfXafVUwD9JrKxuDLBF9+jJTpU2X9nIgfgtgHfFWfp64jJc1oLaVT5vqwdg0etcFsqh+Zr6KXlkhzeS6IjIHmyZjA6O3ORm2rbH8dTXWGX3H/23eHEiIZ++EopzGQGELmLNqj9qnUbZ++UQg+NPHTx56uAySK4bKYHG4+vEufZEqmK3+IAnJMPgzGnKwAvcGwNA7u151cjPli6wK0gOxyKastpyvN6mFzfMgrOGn8BdUxJbEZOo65aekeThs3lMvb7hjdUgkX+9HozAVbUAqYHoM1pwAAAwAAAwAAAwPzAAAAhEGaOxP/51S0VpG8GSf7k/pPNwyAKNC83pc/3p/Q4Cl4AKHFn0vBO+95KnPBHeNWv28ILlr2XQ6IvoIR9ldC050hvW0m91sp+my+oiyxpg+zfZhGVIgoEtIFusa4XedJf9+fNZ9tbFBDdxshcklmR0vVO/UTjPXEH1z2CBKFZUN/mW1DfgAAAGFBmk8IZMphP+S4lAdRcCyBMIqAtNopm7mXtFj/oh3n/V6bfbkI6Qic9s/YBYDJmVlSFNRTM51htzrqR2Ak2jTDhyTD3nnzehXJNVW/wQDPIlMhZZtNyFURW9ZGKP67CL2BAAAAPUGacnhDyZTAn//k6Mx+oNfjiPNBqM0AoN3WDIGJr4j4JDMv1Ghdc/XmKTXyVKTbrGrPBJ+VjNzigzAxhtwAAABvQZqSeEPJlMCf/+Ttw6+4+AFHxZRJvGOTrhzFEb0327UVvZ6NkD7+gA+FU/V9H6IzysU4Bjpt3JxnL8B6R/C0ksHVN/YV4U5HVV+gaAF2my6x/XsK6bLV6ZxrQf3eeEBVwoiG7tIm3NoW9WWUGqbJAAAAXEGasnhDyZTAn//k9okWIYRu9QAd17VGghqaoYPEcOFYWjxC9fEgLpoY6/zg4oa3IRHLN/VSxGqA52TJIBjU8u//l8/xRiStXMtY9UP+wFWFGHg0KyIuSKm5D2fBAAAAYkGa0nhDyZTAn//k7Q5HZ2GA/cUAu9qb+6U5lhbDRzBOIK6zkc55BB9N/r7YfBgABI6OWI4FRq+gkfW9eopfP5rT1KZFcq/vfvPaoYnmL9fJyBRS7tHQHNTEwDvVSTbG/cNVAAAAZ0Ga8nhDyZTAn//k7bqyEYYCaGpd8FNYEmV+iHMqWVRtOAwGSX5W5wYSQIJs+3S2760NABOhxnjxSqvwASyCN/aXC/y3Wfdi1jZVM3k+E6S8kOUIFn2WGPtkkWfdzFfL5jvjEvJT0OsAAABvQZsSeEPJlMCf/+TtpaytoAwIMPb/N4nsRg2avwTuu3et87lQv0VJF6rIotCuqtcULpGR+3XJD3HioAHGa2VP5K+eNnqp1ijmjVpXxCSoeo6J1xcTkCOeWTAcYtjW+dxp21uDu0ibWkrRN4FpO9evAAAAXUGbMnhDyZTAn//k2Df+AzP/Jp58qdOBkDMCtYdnAAEBubnjAhWNlfAEshDGf24R/CVTwgVE/8ahyeNSITy8RjsBoxJk8pazc2nocx/fYX5/93SJtOZ8ovbCOjKWoAAAAKVBm1J4Q8mUwJ//5WXTHGG2PUFu5HJffBdxmWr21wf5xFgVMOBYs6mSo+/xCPCA6AMwiK0rbwBd//SK+LXf3/HPiXwDKP1qfQmlj4KS58BD7ZN1Iyq5Cs7574fUm0ivEq2Yb4oO60ZbkRYRfVlMiOATsYY0X/AqUEX9H3F0W6eHvNGHx1YIGlBkccz5P/dTvnrTxttHG7BTG38Tg3KApXpv4ssoWh8AAABwQZtyeEPJlMCX/4f49bjvzgdXZAPhPCffjXKv081Yne9VgaCiIQ2lF3+CKlCPtYeZCT7oAAqRltpIH9RLalCe7oo1IOReSUW06fU/oZz4QNtGyMyw8YJ5wcv1WPce8wpSTft/fu7SPUevPeDW6QiH4AAAAFxBm5J4Q8mUwJf/h/kEyRNHioJBIRLzoPxeIAAyX8WSnr7PHSyfdWU2FC+mRhJJeoKb/0zPf8Aammd8WTseAnndyTym/KP/KQSCG92nry3K/3dmW96XmM1hwzgVEwAAAEdBm7J4Q8mUwJf/iCwb28TrXeABT4j5mEgBrbyjIlYrbKfmbiOvRKVE7WlJoXN081hfRNsWgv54eNaUp3aUeoLIPKKgJ8KLvQAAAGtBm9J4Q8mUwJf/iFNyslNbmeMAn/7oQPc1mWBI7ND889+VNa6QTTMEAACm+35PbgtsKWSBD7aGhxuMXbqPbbF2jsuQ05i3xF4veTYq73qu53Hlq02sLR/5+CuJNB1EhBu7MLhMU6VvH1uJZwAAAFlBm/J4Q8mUwJf/iGl7tYTAhqBQgRrGxXw42+pEFx9J7cCxu0pm8/gJkbtwWIyfGeN5XjAZWU4vFr1SeD1OopUskehYDN4KSbpbE8Eu5UiK3yHOe1TjxBBdwQAAAFZBmhJ4Q8mUwJf/iFdQ7MzppyBilIbAaFmIMVT+etdUAAILj40hNGIHABJgKsgxjmZMG1Nus9efjkfaDGSbkHKs7Lz126R2wbtIjuMZYDRICU2bGPrcEAAAAGJBmjJ4Q8mUwJf/iEZxN0gDFKS4KsYyRUazQiRa6HHBUVlCHgzPzZtpmQhv4GpMaYcgAHiXElQ8AdSesY0/luwYOZU0ioWijaHoi/rQrLBFyOx0FAWIv3aw8QSeypvBUleewAAAAGNBmlJ4Q8mUwJf/iFgUtgpI0Fb1K8VY1FWsoWSNPsSzGFq0eKViweT1DuQSgAAcv7zzfexsJfT4Wk6j1GuwlcEUt+Mt9wUwXBowNJdhLuOAf5VlQIUKKoRd2kdx9re/m49Jqu8AAABmQZpyeEPJlMCX/4gp8lgKim8CoTiVZu9keuBlTPrxP+EAA7No/eXNqDft7vsQ5A8ps5RVNWUSRhXEuMsYDxRHwmL3JOJbKhSg2B0G1jmnHGN0XfF9b3eScsPu7Sj10jczEB/WlRKgAAAAykGaknhDyZTAl/+JMaY7YZV6bYiaBO36h0FYb8sCxfXsy8z5mkoSrE6XcE02wOtRTVROO+l1Zn0YcXuiwYW6iAhJ4wg6mXEd28MJz7wulel1udAFp86h6ztA+UPYYQXSJsrZvSsQR8TNMa8dO4NKB3/La4lTqhI8nCjdA5NM5cwX/g3RC+z72k0MM5lMr0Wbx/XpSVhjNgRRP6eLyKZK/uClZJ3h35XMPt+jpWEfPuik+uFRU+JanIN8f93lkWXJC0AI8p7MLXj0S8AAAACCQZqyeEPJlMCX/4hpfCwUH2S2oFQvdKw6oOC9GSOszS/rdC+SUoWZdKNvy7YTo0EeHRosycoaXnq9lMysAAu3QPAfM/+FlAnk7NKcpM2wMdAshQmrtEvlslt4ByG9MJmLh4RpB3W1BhVvWak1KiKpfeGJMUYIvPu7SKxQUXM6Z96/LwAAAG5BmtJ4Q8mUwJf/iFNomUUgpNmMgxUEfjOpbGgfUTrOngADro0X5z+xexFaZ8mKboJ2WBm7li4ZlJYpSG/7PzVgVHSLnm+jXnr+TEmA/rVZzpJss4ebhV2rlH7wABSYWZWf3dmW9laPWTmuAfYfoAAAAEZBmvJ4Q8mUwL8B2SdhGCq8dEVYfYuhIAAAuBLBBlh7SnY+J00oXnj+F09QWdyu+cU75fSfHTuO/+Yzu0qkPKJFutVe0y+DAAABh0GbEnhDyZTAvwaHwMqgRKjILS5vzmN97XGeuz7nDYCqSN7pgB6+QJubgqfBIqrYWJiZ4vwzrCXt0Pk+aGWm3ZMi2gZ3gBx4cpXY1YBg4CYZh//0tDKOPmRoTYv19NCPjqe5F9x6qPTHex9oF38TQlW+g5iV6y7t/aFL7yJbKEHEvyv2JmiZtME9X210xi8GK76UiUfUamAAAAgid2h5fQo8L5uj2Klu/hop9b1tn+Ph5u/N23xD+3GgcujqxlRlPH/3fy/VLpy2Q7P6nf2Vg92Jrnqbwh1U9778UmBXio72CZK+v4n/1NCcGy8C153+mSWN9CqDAWJ2Ht4l1UolNvX7qi4n7uYSZ+8DquJjamq7fZ5loCN5hZbgrqK8sre1QZ4k+c8LITRuU/PHeMYfarnYP1qfRfxzmPvuK+Wexsbsv/NuLFhl9r+6PvTv977EgN2tZ2peUSsbJE7SP94WsDBBmf9Tf7XQ2+/F6ug3as9dGsi4JL6VBzCfGe7Skq8ZxjIrbh8VIEEAAAB4QZsyeEPJlMC/AeQ3zaqxvbBH7q2tV2liUkhYI5o8Lzhi59YDKVUJAJcPlrk8grsQAADRM0vi6ClSp8H3OllpMnFZcsdDCDtlbKojuPHLVLuROawJn08fnSfgM6BFwNWT8XiekIp5cDRFopn7u0km0A6tEQ5nbyuAAAAAX0GbUnhDyZTAvwHlLqWS0IBZ7LWYhy0DMHZVPplFn9MoxEZZC1umXMY38lLIjXVKHIZXhG5kiaUyBaaaEImLUHxTUaeETsLKjYIqjB7Fo5FFlgRS+wtJ/pkMrJ8lFz0XAAAAPkGbcnhDyZTAvwEkbGylAABEAPIlgrhNqDAafwxzOMuoqN80yJVa2PrthFOH2+ouASYlbs3E1yhwlnvV4muaAAAAbkGbknhDyZTAvwHlL4rYtADFV3ujYn+ndN1ecRzNQH9TpWu7xyzAAABXmF6BSKt46m68VJ0zKOgXzmfSYNcd2bobGzuEfaXLOCOIEr3MIw0V1qoOf3FpqICReYI7n4+vHSE3d2lUl6QSUoTDbrpVAAAAX0GbsnhDyZTAvwH+RKQjCCA+AJ1s+1ZNPDmOSvH+lHkM1QvXw3kb1qMUB3rpBgh7S7eRMZW1Ug8HA+vUbGNE96NsDF0dw/PJ/o54hWQM+MslGY58uTxSyzyMuLAglDFhAAAAYUGb0nhDyZTAvwHjnAhhaAKdWspOjpGeSR7cAUa5pRMFefmwsQ0I0s3cewAAAwKFu7RtJBeJPkwtBNE2vkXbfXClVhsu8FY9kdbf8EoqE+Ue3xQLN27RQGt4xDG6RW/Aow4AAABiQZvyeEPJlMD/A1cVSRV0ESIyItSIwMDVkpVAY+vnnBi7oEvovF2CPho6fW+k9n+wAAB0cV/aK0Qb1tNoKELQ1YvEcNfVhTUjhC0A07TI18qNHkcnJe7uyP3GC5M3O3zNHEAAAABlQZoSeEPJlMD/A1YqyLELbdzDPQMVGwnds/h6wapcWg+RjVXd+dOdNevxNU/gAAADABUZOIRlB1woncgaa9TdKPSdhVm2/377HKVDptew7/2oZ0lnrDHAKTvdnicTGstOrmim2qEAAABZQZoyeEPJlMD/AsgewE3BkQ65pBSzO7JAXn9rRAAF6YXhypDb5anWJJOn9DiiVTc5OYhac9TbwSncFBVzV+VjIhIvnXXLeZNTztU2+ixd2R+rsUyUPj530VEAAAChQZpSeEPJlMD/BLXVGUKka+mQs/6ed1Mu7MOWgYaE2xJv+Qw6m5MI4H92HAPeq+U70s9VZ3Hp+8PPneoKVsxDqM1sES/2UEKJcsSYCpRUF6PZFRLxYh19cDyGAkhrF+zYrKmIDyBDPXwIwyqAMTmO/i+76+cTezDtZkG7dAO2ItmVaTBjIbK+fhFlSA6RG8WKt/uLqBP+lnayeGpYnU4SccEAAABsQZpyeEPJlMD/A16IMnSzUAU6n35AKFkTIEz3R2Zgll5hK5378kS7H1a9ulLhx6PXj87YAAPk/Dxe1Mj0uF1B+SGe3ORkHvmDNYpC16BwMgvZjsX9NZOLCPBKCHwj6OAv9uzic6qLJqGYjfzgAAAAXEGaknhDyZTArwVYDN0mtMpT8SBEsSwAABTTZxRDDQWTrm1FLi8XXQB6l/iTZw40tsOiAgHWz/IqFOc7dPxe64ZSIBUOtdQM1jj4ZG+C3xe/7dnibzNKH3gbgEIlAAAATUGasnhDyZTArwQhEX5RtgAHgt1m4EQPv/sFJWKpnSrYhKaBQYuyF5mIJAfopbNJ8NeQMr7B7w4IaII5cxFFTTMf27PE1z1nRUTrmUIvAAAAakGa0nhDyZTArwSd42o50pMLARSUAek0wVCsh5AifEJPBW1JVggAAAMA3WXdSduomGeIw5ydeTI3eAKaBM7M/cfaFpj1yECjvrwT+/h7pAWiNKq+gG1NX2ifzCmr31yGTbkB3WIaTfxDy4UAAABVQZryeEPJlMCvBXHEfKTiXwEYY7cYskpnMFyOk9vtW0XuIQc62aqMrhjh/GGNckS68acmVZVJbyBZbovZoCm8InBLIcmzlgl+pfiAwek9/EGKzJsg4QAAAFNBmxJ4Q8mUwJP/BreKmuZ8EHJ5IuH7W0xIw+wqvvDFNe16kM64aGKAAEaD/+Y1ixi/S32hiC4ry+yamIr45Ww3MoP4pepI07dtLmgulLKmtVBKAgAAAF1BmzJ4Q8mUwJP/BdM6rVSdkS45QKTJ0AvS5VrmffCeHPt7D7dAch1i9KpNgZAAFPjZRKGJNxKcqhd4ztF6usDwzOoBb05S+GJTsC2KWlRHG7VLuz37G7TouF4UsKoAAABoQZtSeEPJlMCb/wgM8sr7YKFgAhe3pV+LSPftuH3NFwGj5piukzXe4cNU0AAADhKPIBj+SPYIluyWGnxrPeDxYTqBsZYZhUGAgrmCgaHMhrqCiCGJK8vfXgV/kHV27Ew61+AZqXukPjEAAABiQZtyeEPJlMCb/wc/tyXIbT0yh0b3qFgMgJWAAaQJgqF50z/2G7i/miDOFIoh6HBR4CK9//U69LDMgHRBgaaa4VcepBnbdWdb4mX2A7pXI1hRm8K7+Q19sTEGh2kgIYLKE4AAAAC3QZuSeEPJlMCI/w841JI8CybzBaSv/vkKf1g1r2QnjC2cdgH6fhnUuqp79UF7gU1rgICQqIJj/jJVBmhxpCGM9j5aMTvKO1ADc3U/uB84tXmA+8757m8dvst8LjjYj6+vRxTYLpSCr9yjwbn6UABWoWoI29wK/IV/LQnxJUSXAS9uRxWTa+o+FH7AB/2W0fwzCthlEN4qCtNmnEEU378oRDrb8tcttbT9gIS0q6KQ9ZB3SIZvVUnAAAAAiUGbsnhDyZTAiv8RVYyd3Fzv98lDsA9WkBCtBuiZMYxAK6i1jp8gOoRuAG7ZMibGmU7E2/AciGfBO4EAAAhkghvisdA3VVC3IOqeK/QlvG+15M8RijJOE9FySz4BMzRxi2f/PEhpQehL4MBKm3EWRHmzcd/4eySf9Ua7tjOkuqqPgfebc2GHFALlAAAAcEGb0nhDyZTAjP8TuIoJuMJIpkyEf71LzPhK7ukCOnDp1CsEAAAjil8k2V3OKvuNn/zhCEBb6tw4uC8VwDjq//hPpHwMxPOXTsaT/YvtreDPpG/SkbYR0YlEsyjeZ7Yil73SSL/9ti1v2GVZTYkz7REAAABFQZvyeEPJlMCEPxwt9GXxReblYAAE7Gz1GXpCSFBiYVjZtWEFHFl1Z171hq9IfA43GlT7qnzweQSx/bTCXDo9GRwhYkyB";b.Ge=!1;b.$={qa:1001,I:24E3};b.duration={qa:48048,I:24E3};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=288;b.height=216;b.Fd=[176,699];b.Ed=[44];},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r,t,w,v;Object.defineProperties(b,{__esModule:{value:!0}});b.hha=void 0;c=a(1);k=a(13);g=a(944);q=a(87);f=a(430);d=a(971);h=a(974);m=a(271);l=a(17);n=c.__importDefault(a(5));p=a(4);a(8);r=a(25);t=a(977);w=a(184);v=(function(){return function(u){var x;x=u.I6a;u=u.cva;this.O_=this.replace=x;this.jf=u;};})();a=(function(u){function x(y,z){var A,B,D,C,F,G,E,I,K,L,H,P,N,J,M,O,Q,T,V,da,pa;A=z.bc;B=z.pa;D=z.Sq;C=z.Qd;F=z.j9a;G=z.Cj;E=z.config;I=z.$4a;K=z.MR;L=z.daa;H=z.jc;P=z.Ji;N=z.p0;J=z.K0a;z=z.NL;M=u.call(this) || this;M.M=y;M.LZ=!1;M.aTa=[];M.uTa=[];M.$i=[];M.aF=[];M.Bo=!1;M.bc=A;M.HV=B;M.Sq=D;M.Fc=function(xa){return 0 <= C.indexOf(xa);};M.config=E;M.console=new n.default.Console("ASEJS","media|asejs","<" + String(M.M) + ">");I && (y=I.vF,M.yg=new h.pIa(M,M.console,M.config,I.ip,I.vZ,y,I.Hba,I.kg,I.Vm,I.bi,I.FF),M.vF=y);M.vw=new k.EventEmitter();M.daa=L;M.jc=H;M.p0=N;M.Tn=new m.Nia(M.pa,H,P,M.config,null === J || void 0 === J?void 0:J.ip);J && (I=J.Rt,L=J.ep,M.Lr=J.sh,M.ep=L,M.Rt=I,M.Fla=new d.qHa(M.Tn,M.config,M.UOb.bind(M),M.TOb.bind(M)));M.MR=K;M.NL=z;M.Pf=new v(F);M.Cj=G;O=[[],[]];Q=[{},{}];T=[0,0];V=!1;da=M.Fc(0);pa=M.Fc(1);["audio_tracks","video_tracks"].forEach(function(xa,ya){var sa;sa=0 === ya;sa && !da || 1 === ya && !pa || M.pa[xa].forEach(function(X,S){if(0 !== X.type || !1 !== X.jj)(X=new f.wH({R:M,xs:X,mediaType:ya,jf:F.cva,iH:S,xE:S + (sa?M.pa.video_tracks.length:0)},M.config,M.console),1 === ya && E.DIb && new t.iEa(E).S_b(X.zd),O[ya].push(X),Q[ya]=c.__assign(c.__assign({},Q[ya]),X.xF()),X.maxBitrate > T[X.mediaType] && (T[X.mediaType]=X.maxBitrate),V=V || X.$o);});});M.pN=O;M.QBa=Q;M.du=T;M.$o=V;return M;}c.__extends(x,u);Object.defineProperties(x.prototype,{pa:{get:function(){return this.HV;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{cp:{get:function(){var y,z;y=this.pa;z=y.nca;return "LIVE" === y.Rfb && ! !z;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{N_:{get:function(){var y;return !(null === (y=this.pN[1][0]) || void 0 === y || !y.N_);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{di:{get:function(){return this.aTa;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{IUb:{get:function(){return this.uTa;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{L:{get:function(){return this.pa.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Mo:{get:function(){return this.pa.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{duration:{get:function(){return this.pa.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{pl:{get:function(){return this.Bo;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{ds:{get:function(){p.assert(this.Fla,"ErrorDirector is not available on old architecture prefetch viewables.");return this.Fla;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{BP:{get:function(){return this.ds.events;},enumerable:!1,configurable:!0}});x.prototype.Rb=function(){this.close();this.sd();};x.prototype.close=function(){var y;this.aF=[];null === (y=this.Fla) || void 0 === y?void 0:y.Rb();this.Tn.Rb();this.Bo=!0;};x.prototype.sd=function(){this.yg && this.yg.sd();};x.prototype.Pz=function(y){var z,A,B,D,C,F,G;z=this;A=y.pa;B=y.jf;D=void 0 === B?!1:B;B=y.Qd;C=void 0 === B?l.fg:B;p.assert(y.Cj === this.Cj,"Updating Viewable clearplay not supported");l.fg.forEach(function(E){p.assert(z.Fc(E) === 0 <= C.indexOf(E),"Updating Viewable media types not supported");});p.assert(A.movieId === this.pa.movieId,"Changing Viewable manifest movieId unsupported");F=this.Fc(0);G=this.Fc(1);["audio_tracks","video_tracks"].forEach(function(E,I){var K,L,H;K=0 === I;if(!(K && !F || 1 === I && !G)){L=A[E];H=z.pN[I];p.assert(H.every(function(P){var N;N=L[P.iH];return N && N.CS === P.trackId && (1 === N.type || !1 !== N.jj);}),"Existing tracks must still exist and be hydrated in updated manifest");L.forEach(function(P,N){var J,M;if(0 !== P.type || !1 !== P.jj){J=z.getTrackById(P.CS);if(J){P=P.streams;M=Object.keys(J.xF());p.assert(P.length === M.length,"Expected updated manifest track to have same number of streams");P.forEach(function(O){p.assert(-1 !== M.indexOf(O.downloadable_id),"Changing Viewable track streams unsupported");});}else (J=new f.wH({R:z,xs:P,mediaType:I,jf:D,iH:N,xE:N + (K?z.pa.video_tracks.length:0)},z.config,z.console),H.push(J),z.QBa[I]=c.__assign(c.__assign({},z.QBa[I]),J.xF()),J.maxBitrate > z.du[J.mediaType] && (z.du[J.mediaType]=J.maxBitrate),p.assert(z.$o || !J.$o,"Can not update clear viewable with drm track."));}});}});this.HV=A;this.Tn.rO(this.pa);};x.prototype.QG=function(y){var z,A,B;z=y.mp;A=y.ja;B=y.eF;y=y.hp;z && A?(this.tfa=new g.QPa(z,{ja:String(A),eF:! !B,aVb:this.config.U5.mx,Vzb:this.config.U5.lv},y),this.ds.QG(this.tfa)):y("SideChannel: pbcid/xid is missing.");};x.prototype.Xy=function(){return void 0 !== this.Mo;};x.prototype.Gm=function(y,z){return w.gta(this.pa,y,z);};x.prototype.getTracks=function(y){return this.pN[y];};x.prototype.getTrackById=function(y){var z;this.pN.some(function(A){return A.some(function(B){if(B.trackId === y)return (z=B,!0);});});z || this.console.warn("getTrackById not found:",y,"length:",this.pN.length);return z;};x.prototype.yOb=function(y,z){var A;A=this.pN[y];if(0 > z || z >= A.length)this.console.warn("getTrackByIndex out of range:",z,"length:",A.length,"mediaType:",y);else return A[z];};x.prototype.Qy=function(y,z){return (y=this.xF(y)) && y[z];};x.prototype.xF=function(y){return this.QBa[y];};x.prototype.S7b=function(y,z){this.aTa[y]=z;z.stream.Z && this.Shb(y,z.stream.Z);};x.prototype.eSb=function(y){var z,A;if(void 0 === y.sea || void 0 === y.gza){z=this.Tn.xC.filter(function(B){return void 0 !== B.streams[y.Za];})[0];A=z.children.filter(function(B){return B.urls.some(function(D){return D.stream.id === y.Za;});})[0];y.sea=z.id;y.gza=A.id;}return {Bva:y.location === y.sea,fSb:y.Xc === y.gza};};x.prototype.bBa=function(y,z,A){void 0 !== z && void 0 !== A && (this.Ycb(y.mediaType,z),y.bBa(z,A));};x.prototype.Ycb=function(y,z){var A,B;B=this.config.zxa;("location" === B || "video_location" === B && 1 === y) && this.jc.$R(z);null === (A=this.daa) || void 0 === A?void 0:A.call(this).AXb(y,z);};x.prototype.sh=function(y,z,A,B,D,C){p.assert(this.Lr,"Stream failure reporting can not be used on old architecture prefetch viewables.");return this.Lr(y,z,A,B,D,C);};x.prototype.en=function(){var y,z,A;y=this;z=[];if(this.pl)return (this.console.error("updateRequestUrls, closed Viewable:",this.M),!1);l.fg.forEach(function(B){y.Fc(B) && y.j8b(B) && (B=y.Z7b(B),0 < B.length && z.push.apply(z,B));});A=this.T7b();0 < A.length && z.push.apply(z,A);return this.a2b(z);};x.prototype.On=function(y,z){var A;A=this.getTracks(1)[0];p.assert(A);if(A.oQ)return A.On(y,z);};x.prototype.j8b=function(y){var z;z=this;return this.pl?(this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1):this.Fc(y)?this.$i.reduce(function(A,B){return r.M8(A,B.sf.filter(function(D){return D.mediaType === y;}));},[]).map(function(A){return z.Tn.t3(z.M,A.zd);}).every(function(A){return A;}):(this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",y),!1);};x.prototype.T7b=function(){p.assert(this.yg,"Headers not available on old architecture prefetch viewables.");return this.yg.en();};x.prototype.Z7b=function(y){var z,A,C;A=[];if(this.pl)return (this.console.warn("updateStreamUrls ignored, viewable cleaned up"),A);if(!this.Fc(y))return (this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",y),A);try{for(var B=c.__values(this.$i),D=B.next();!D.done;D=B.next()){C=D.value.en(y);C.length && A.push.apply(A,C);}}catch(G){var F;F={error:G};}finally{try{D && !D.done && (z=B.return) && z.call(B);}finally{if(F)throw F.error;}}return A;};x.prototype.a2b=function(y){var z,A,B;z=this;if(0 === y.length)return !0;A=0;B=[];y.forEach(function(D){var C;if(D.Qc){C=D.R;C.bc > z.bc && (B.push({R:C,track:D.stream.track}),++A);}});B.forEach(function(D){var C;C=D.track;D.R.tL([0 === C.mediaType?C:void 0,1 === C.mediaType?C:void 0],void 0,C.mediaType);});return A === y.length;};x.prototype.pk=function(){var y;y=this;this.Tn.pk();this.ds.pk();this.tfa && (p.assert(this.vF),l.fg.forEach(function(z){z=y.vF(z);y.tfa.JAa("rebuffer",z.Zva);}));};x.prototype.Uxa=function(){this.ds.Uxa();};x.prototype.PCa=function(y,z){p.assert(this.yg,"Headers not available on old architecture prefetch viewables.");this.yg.PCa(y,z);};x.prototype.Zaa=function(){p.assert(this.yg,"Headers not available on old architecture prefetch viewables..");return this.yg.Zaa();};x.prototype.wpa=function(){p.assert(this.yg,"Headers not available on old architecture prefetch viewables.");this.yg.wpa();};x.prototype.ZR=function(y){p.assert(this.yg,"Headers not available on old architecture prefetch viewables.");this.yg.ZR(y);};x.prototype.zCa=function(){p.assert(this.yg,"Headers not available on old architecture prefetch viewables.");return this.yg.zCa();};x.prototype.xq=function(y,z){p.assert(this.yg,"Headers not available on old architecture prefetch viewables.");return this.yg.xq(y,z);};x.prototype.gZa=function(y,z,A){p.assert(this.yg,"Headers not available on old architecture prefetch viewables.");this.yg.cga(y,z,A,!0);};x.prototype.u8=function(y,z,A){p.assert(this.yg,"Headers not available on old architecture prefetch viewables.");return this.yg.u8(y,z,! !A);};x.prototype.y3b=function(y,z){this.aF.push({stream:y,nOb:z});};x.prototype.Jcb=function(){this.aF=[];};x.prototype.l1b=function(y){this.aF=this.aF.filter(function(z){return z.stream !== y;});};x.prototype.k1b=function(y){this.aF=this.aF.filter(function(z){return z !== y;});};x.prototype.aQ=function(){var y;y=this;p.assert(this.ep,"Streamables not available on old architecture prefetch viewables.");return this.ep()?[]:this.aF.map(function(z){var A,B;A=z.stream;B=z.nOb;B=B();return {identifier:A.M + "-" + A.mediaType + "-" + A.bitrate,mediaType:A.mediaType,hi:B.hi,Lf:B.Lf,CC:B.CC,Cu:B.Cu,Gt:B.Gt,dza:0,cza:Infinity,l1:1,RC:1,w1a:0,groupId:"" + y.M,PF:!0,Wt:!1,T6a:function(){return {result:!0};},X6a:function(){if(A.lH())return (y.l1b(A),{Im:!0,reason:"success"});y.k1b(z);return {Im:!1,reason:"viewableTryIssueHeaderRequest"};}};});};x.prototype.lH=function(y,z){p.assert(this.yg,"Headers not available on old architecture prefetch viewables.");return this.yg.lH(y,z);};x.prototype.oO=function(y,z){p.assert(this.yg,"Headers not available on old architecture prefetch viewables.");return this.yg.oO(y,z);};x.prototype.mAa=function(y){p.assert(this.yg,"Headers not available on old architecture prefetch viewables.");return this.yg.mAa(y);};x.prototype.tL=function(y,z,A){p.assert(this.yg,"Headers not available on old architecture prefetch viewables.");return this.yg.tL(y,z,A);};x.prototype.WOb=function(y){var z,A,B;z=y.Za;A=y.mediaType;this.Shb(A,y.stream.Z);z=this.Qy(A,z);B=this.Xy()?this.config.S8a:0;z.Khb(n.default.yq()[A],B);this.vw.emit("onHeaderFragments",y);};x.prototype.Lza=function(y){this.$i.push(y);};x.prototype.GCa=function(y){y=this.$i.indexOf(y);p.assert(-1 !== y,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.$i.splice(y,1);};x.prototype.Mda=function(y){var z;null === (z=this.MR) || void 0 === z?void 0:z.wv(y);};x.prototype.AC=function(y){this.pl?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",y):void 0 !== y.location && this.Ycb(y.mediaType,y.location);};x.prototype.$K=function(y){this.pl?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",y):this.ds.hga({timestamp:y.$f,url:y.url});};x.prototype.Nm=function(y){var z;null === (z=this.MR) || void 0 === z?void 0:z.NC(y);p.assert(this.ep && this.p0,"Requests cannot be handled on old architecture prefetch viewables.");this.pl?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",y):this.ep() || (this.ds.hga({timestamp:y.$f,mediaRequest:y}),this.p0(y));};x.prototype.J0=function(y,z,A){var B;A && (null === (B=this.MR) || void 0 === B?void 0:B.NC(y));};x.prototype.K0=function(y){this.pl?this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",y):(this.ds.pu({url:y.url},y.status,y.Zh,y.nk),this.en() || this.sh(y.GP || "unknown","NFErr_MC_StreamingFailure",y.Zh,y.status,y.nk));};x.prototype.Shb=function(y,z){this.uTa[y]=z.Rwa;};x.prototype.UOb=function(y){var z,A,B;if(!this.Bo){z=y.ORb;A=y.hYb;B=y.iYb;y=y.jYb;this.console.warn("Streaming failure, is permanent: " + z + ", last error code: " + A + ", last http code: " + B + ", last native code: " + y);z?(this.console.warn(" > Permanent failure, done"),z=this.sh("Permanent failure","NFErr_MC_StreamingFailure",A,B,y)):(this.console.warn(" > We are buffering, calling it!"),z=this.sh("Temporary failure while buffering","NFErr_MC_StreamingFailure",y,B,y,!0));z || (this.console.warn(" > Resetting failures"),this.ds.Rea());}};x.prototype.TOb=function(){p.assert(this.Rt,"Error handling not available on old architecture prefetch viewables.");this.Bo || (this.en(),this.Rt());};return x;})(q.yx);b.hha=a;},function(q,b,a){var G,E,I,K,L,H,P,N,J,M,O,Q,T,V,da,pa,xa,ya,sa,X,S,R,W,ia,za,Ra,Fa,$a,Ta,Xa,eb,rb;function c(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function k(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function g(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function f(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);this.lx=U.config.lx;this.ed=this.sizes=void 0;}function d(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function h(){for(var U=new DataView(this),fa="",la,wa=0;wa < this.byteLength;wa++){la=U.getUint8(wa);fa+=("00" + la.toString(16)).slice(-2);}return fa;}function m(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function l(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function n(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function p(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function r(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function t(U){function fa(la,wa,Ka,ab,ob){K.call(this,la,wa,Ka,ab,ob);this.jG=U;}fa.wa=!1;fa.prototype=new K();fa.prototype.constructor=fa;Object.defineProperties(fa.prototype,{tD:{get:function(){return this.jG;}}});fa.prototype.parse=function(){this.l.console.trace("renaming '" + this.type + "' to draft type '" + this.jG + "'");this.l.offset=this.startOffset + 4;this.Y.tH(this.tD);this.type=this.tD;return !0;};return fa;}function w(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function v(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function u(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function x(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function y(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function z(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function A(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function B(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function D(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function C(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function F(U,fa){U.forEach(function(la){fa[la.Xa]=la;});}G=a(160).assert;b=a(107);E=a(261).O;I=a(436);a(161);a(88);a(88);a(88);K=a(28).yb;L=a(946).default;H=a(947).default;P=a(948).default;N=a(949).default;J=a(950).default;M=a(951).default;O=a(952).default;Q=a(953).default;T=a(954).default;a(262);a(188);V=a(437).$S;da=a(437).ET;pa=a(955).default;xa=a(956).default;ya=a(89).default;sa=a(89).bT;X=a(89).cT;S=a(89).dT;R=a(89).eT;W=a(957).default;ia=a(958).default;za=a(89).YT;Ra=a(89).QT;Fa=a(89).aT;$a=a(959).default;Ta=a(960).default;Xa=a(961).default;eb=a(438).default;rb=a(439).default;a(162);a(265);a(266);a(264);a=a(962).default;c.wa=!0;c.prototype=new K();c.prototype.constructor=c;k.wa=!0;k.prototype=new K();k.prototype.constructor=k;g.wa=!1;g.prototype=new K();g.prototype.constructor=g;g.prototype.parse=function(U){var fa;this.tb();1 === this.version?(this.l.xc(),this.l.xc(),this.I=this.l.ba(),this.duration=this.l.xc()):(this.l.ba(),this.l.ba(),this.I=this.l.ba(),this.duration=this.l.ba());fa=this.l.lb() & 32767;this.language=String.fromCharCode(96 + (fa >>> 10),96 + (fa >>> 5 & 31),96 + (fa & 31));U && U.Ya && (U.Ya.I=this.I,U.Ya.duration=this.duration);return !0;};f.wa=!1;f.prototype=new K();f.prototype.constructor=f;f.prototype.MV=function(){this.tb();this.l.ba();this.I=this.l.ba();0 === this.version?(this.jF=this.l.ba(),this.rF=this.l.ba()):(this.jF=this.l.xc(),this.rF=this.l.xc());this.fAa=this.l.lb();this.HG=this.l.lb();};f.prototype.hV=function(U,fa){var la,wa,Ka;la=this.I;U=U && U.I || la;wa=U / la;la=this.l.Uq(fa,12,!1);Ka=1 === wa?this.l.Uq(fa,12,!1):I.from(Uint32Array,{length:fa},function(){var ab;ab=Math.round(this.l.ba() * wa);this.l.offset+=8;return ab;},this);this.jW(fa,Ka,la,U);};f.prototype.jW=function(U,fa,la,wa){if(this.lx){wa=this.lx * wa / 1E3;for(var Ka=0,ab=1;ab < U;ab++){Math.abs(fa[Ka] - wa) > Math.abs(fa[Ka] + fa[ab] - wa)?(fa[Ka]+=fa[ab],la[Ka]+=la[ab]):(++Ka,Ka !== ab && (fa[Ka]=fa[ab],la[Ka]=la[ab]));}++Ka;fa=new Uint32Array(fa.buffer.slice(0,4 * Ka));la=new Uint32Array(la.buffer.slice(0,4 * Ka));}this.sizes=la;this.ed=fa;};f.prototype.parse=function(U){var fa,la,wa,Ka;this.MV();this.$=U.$;fa=this.I;la=this.$ && this.$.I || fa;wa=this.HG;Ka=this.startOffset + this.length + this.rF;fa=new E(this.jF,fa).Yc(la).qa;this.Z={I:la,Fk:fa,offset:Ka};this.hV(this.$,wa);this.Z.ed=this.ed;this.Z.sizes=this.sizes;U.dr=this;return !0;};d.wa=!1;d.prototype=new K();d.prototype.constructor=d;d.prototype.parse=function(){var U;this.vh=[];this.V0=[];U=(this.length - 11) / 2;this.l.Aa();this.l.Aa();this.l.Aa();for(var fa=0;fa < U;fa++){this.vh.push(this.l.Aa());this.V0.push(this.l.Aa());}return !0;};m.wa=!1;m.prototype=new K();m.prototype.constructor=m;m.prototype.parse=function(U){var fa;this.tb();this.l.offset+=1;if(0 == this.version)this.l.offset+=1;else {fa=this.l.Aa();this.WX=fa >> 4;this.$X=fa & 15;U && U.Ya && (U.Ya.$Za=this.WX,U.Ya.c_a=this.$X);}this.YE=this.l.Aa();this.XE=this.l.Aa();this.Cw=this.l.offset;this.gi=this.l.Wq(16);this.gi.toString=h;U && U.Ya && (U.Ya.b_a=this.YE,U.Ya.QX=this.XE,U.Ya.a_a=this.gi);1 == this.YE && 0 == this.XE && (this.VX=this.l.Aa(),this.UX=this.l.Wq(this.VX),U && U.Ya && (U.Ya.PX=this.UX));return !0;};l.wa=!1;l.prototype=new K();l.prototype.constructor=l;l.prototype.parse=function(){this.tb();this.Ld=this.l.lb();this.P_=this.l.Uq(this.Ld,void 0,!0);return !0;};n.wa=!1;n.prototype=new K();n.prototype.constructor=n;n.prototype.parse=function(U){var fa,la,wa,Ka,ab,ob;fa=U.dr;G(fa);U=U.$;la=fa.I;fa=fa.HG;G(U);G(la);G(fa);this.tb();G(2 > this.version);this.Ld=this.l.lb();this.$n=new Uint16Array(fa + 1);wa=U.cQ(la);Ka=wa / la;ab=U.Yc(wa).qa;if(0 === this.version)for((this.eo=new Uint16Array(),this.Pc=new Uint32Array(),U=la=0);U <= fa;++U){if((this.$n[U]=la,U < this.Ld)){ob=this.l.Aa();if(0 !== ob)for(wa=0;wa < ob;(++wa,++la)){this.eo[la]=Math.floor((this.l.ba() + 1) * Ka) / ab;this.Pc[la]=this.l.ba();}}}else if(1 === this.version)for((wa=this.l.x1(this.Ld,10,!1),this.l.offset+=4,this.Pc=this.l.Uq(this.Ld,10,!1),this.l.offset-=8,this.eo=I.from(Uint16Array,{length:this.Ld},function(){var mb;mb=Math.floor((this.l.ba() + 1) * Ka) / ab;this.l.offset+=6;return mb;},this),la=U=0);U <= fa;++U){for(;la < wa.length && wa[la] < U;){++la;}this.$n[U]=la;}this.Eh={$n:this.$n,eo:this.eo,Pc:this.Pc};return !0;};p.wa=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;r.wa=!0;r.prototype=Object.create(c.prototype);r.prototype.constructor=r;r.prototype.Nn=function(){var U;U=this.Ae("tfhd");U && (this.Ee=U.EE?U.Ee:this.parent.startOffset);return !0;};w.wa=!1;w.prototype=new K();w.prototype.constructor=w;w.prototype.parse=function(){var U,Jb;U=this.l.offset;this.tb();if(1 === this.version){this.l.console.trace("translating vpcC box to draft equivalent");this.l.offset+=2;for(var fa=this.l.offset,la=this.l.Aa(),wa=this.l.Aa(),Ka=this.l.Aa(),ab=this.l.Aa(),ob=this.l.lb(),mb=[],Gb=0;Gb < ob;++Gb){mb=this.l.Aa();}Gb=(la & 240) >>> 4;Jb=(la & 14) >>> 1;la&=1;Ka=16 === Ka?1:0;wa != ab && this.l.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + wa + " and matrixCoefficients " + ab + " should be the same value!");ab=2;switch(wa){case 1:ab=2;break;case 6:ab=1;break;case 9:ab=5;break;default:this.l.console.warn("VP9: Unknown colourPrimaries " + wa + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.Y.ur(this.version,U);this.Y.ur(Gb << 4 | ab,fa++);this.Y.ur(Jb << 4 | Ka << 1 | la,fa++);ob+=2;mb.push(0,0);this.Y.N3(ob,!1);fa+=2;mb.forEach(function(Qb){this.Y.ur(Qb,fa++);});}return !0;};v.wa=!1;v.prototype=new K();v.prototype.constructor=v;v.Xa="tfhd";Object.defineProperties(v.prototype,{EE:{get:function(){return this.flags & 1;}},b2:{get:function(){return this.flags & 2;}},XX:{get:function(){return this.flags & 8;}},ZX:{get:function(){return this.flags & 16;}},$E:{get:function(){return this.flags & 32;}}});v.prototype.parse=function(U){this.tb();this.cn=this.l.ba();this.Ee=this.EE?this.l.xc():void 0;this.MG=this.b2?this.l.ba():void 0;this.Bi=this.XX?this.l.ba():void 0;this.Di=this.ZX?this.l.ba():void 0;this.Ci=this.$E?this.l.ba():void 0;U && U.T && (U.T.cn=this.cn,U.T.Ee=this.Ee,U.T.MG=this.MG,U.T.Bi=this.Bi,U.T.Di=this.Di,U.T.Ci=this.$E?this.Ci:void 0);return !0;};u.wa=!1;u.prototype=new K();u.prototype.constructor=u;u.prototype.parse=function(U){this.tb();this.$j=1 === this.version?this.l.xc():this.l.ba();U && U.T && (U.T.$j=this.$j);return !0;};u.prototype.na=function(U){var fa;fa=this.startOffset + 12;this.$j+=U;1 === this.version?this.Y.O3(this.$j,fa):this.Y.ie(this.$j,fa);};x.wa=!1;x.prototype=new K();x.prototype.constructor=x;Object.defineProperties(x.prototype,{WE:{get:function(){return this.flags & 1;}},aw:{get:function(){return this.flags & 4;}},Sm:{get:function(){return this.flags & 256;}},Um:{get:function(){return this.flags & 512;}},ex:{get:function(){return this.flags & 1024;}},$q:{get:function(){return this.flags & 2048;}}});x.prototype.parse=function(U){var fa,la;this.tb();this.HE=this.l.offset;this.Ka=this.l.ba();this.ee=this.WE?this.l.Xq():0;this.aw && this.l.ba();this.Rm=(this.Sm?4:0) + (this.Um?4:0) + (this.ex?4:0) + (this.$q?4:0);this.uq=this.l.offset;G(this.WE,"Expected data offset to be present in Track Run");G(this.length - (this.l.offset - this.startOffset) === this.Ka * this.Rm,"Expected remaining data in box to be sample information");if(U && U.T){U.T.ee=this.ee;U.T.Ka=this.Ka;this.ad=[];for(fa=0;fa < this.Ka;fa++){la={};la.Bk=this.Sm?this.l.ba():U.T.Bi;this.Um?la.Ne=this.l.ba():U.T && (la.Ne=U.T.Di);this.ex?la.NG=this.l.ba():U.T && (la.NG=U.T.Ci);this.$q && (la.Jdb=0 === this.version?this.l.ba():this.l.Xq());this.ad.push(la);U.T.ad=this.ad;if(U.T.Ak)for((G(U.T.Ak.length === U.T.ad.length),la=0);la < U.T.ad.length;la++){U.T.ad[la].Wu=U.T.Ak[la].Wu;U.T.ad[la].ox=U.T.Ak[la].ox;}}}return !0;};x.prototype.vm=function(U,fa,la){var wa,Ka,ab;wa=this.Sm?this.l.ba():U.Bi;Ka=this.Um?this.l.ba():U.Di;U=this.ex?this.l.ba():U.Ci;ab=0 === this.version?this.$q?this.l.ba():0:this.$q?this.l.Xq():0;return {a2:ab,NG:U,Ibb:la + ab - (void 0 !== fa?fa:ab),Ne:Ka,Bk:wa};};x.prototype.na=function(U,fa,la,wa,Ka,ab,ob){var mb,Gb,Jb,Qb;mb=0;Gb=0;this.Y.offset=this.uq;for(wa=0;wa < Ka;++wa){Jb=this.vm(fa,Qb,Gb);if(0 == wa)Qb=Jb.a2;mb+=Jb.Ne;Gb+=Jb.Bk;}wa=Ka;Ka=this.l.offset;Jb=this.vm(fa,Qb,Gb);this.Ek=wa;this.w2=Gb;if(ob){if((this.zk=this.ee + mb,this.Rf=0,wa === this.Ka))return !0;}else if((this.zk=this.ee,this.Rf=mb,0 === wa))return !0;if(0 === wa || wa === this.Ka)return !1;this.qq=!0;if(ob){this.Rf+=Jb.Ne;for(ob=wa + 1;ob < this.Ka;++ob){Jb=this.vm(fa,Qb,Gb);this.Rf+=Jb.Ne;}this.Y.offset=this.HE;this.Ka=wa;this.Y.ie(this.Ka);this.Y.wx(ab);this.aw && (this.l.offset+=4);this.Rc(this.length - (Ka - this.startOffset),Ka);}else (fa=Ka - this.uq,this.Y.offset=this.HE,this.Ka-=wa,this.Y.ie(this.Ka),this.ee+=mb,this.Y.wx(ab,this.ee),this.aw && (this.l.offset+=4),this.Rc(fa,this.Y.offset));la.Rc(this.Rf,U.Ee + this.zk);return !0;};x.prototype.K1=function(U,fa,la,wa,Ka,ab){var mb;if(wa){wa=this.zk;for(var ob=this.Ka - 1;0 <= ob && this.Ka - ob <= Ka;--ob){this.Y.offset=this.uq + ob * this.Rm;mb=this.vm(fa);if(mb.Bk != ab.duration){this.l.console.warn("Could not replace sample of duration " + mb.Bk + " with silence of duration " + ab.duration);break;}if(this.Um)(this.Y.offset-=this.Rm - (this.Sm?4:0),this.Y.ie(ab.pg.byteLength));else if(ab.pg.byteLength !== mb.Ne){this.l.console.warn("Cannot replace sample with default size with silence of different size");break;}wa-=mb.Ne;la.Pm(mb.Ne,ab.pg,U.Ee + wa);}}else for((wa=this.zk + this.Rf,ob=0);ob < this.Ka && ob < Ka;++ob){this.Y.offset=this.uq + (ob + this.Ek) * this.Rm;mb=this.vm(fa);if(mb.Bk != ab.duration){this.l.console.warn("Could not replace sample of duration " + mb.Bk + " with silence of duration " + ab.duration);break;}if(this.Um)(this.Y.offset-=this.Rm - (this.Sm?4:0),this.Y.ie(ab.pg.byteLength));else if(ab.pg.byteLength !== mb.Ne){this.l.console.warn("Cannot replace sample with default size with silence of different size");break;}la.Pm(mb.Ne,ab.pg,U.Ee + wa);wa+=mb.Ne;}};y.wa=!1;y.prototype=Object.create(K.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{yi:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(U){this.tb();this.yi && this.l.rh();this.yi && this.l.ba();this.YX=this.l.Aa();this.Ka=this.l.ba();this.UZ=this.l.Vq(this.Ka);U && U.T && (U.T.c2=this.UZ);return !0;};y.prototype.na=function(U,fa){if(U && 0 === this.YX){U=fa?this.Ka - U:U;this.Y.offset=this.startOffset + 13 + (this.yi?8:0);this.Ka-=U;this.Y.ie(this.Ka);this.cx=0;if(fa)this.Y.offset+=this.Ka;else {for(fa=0;fa < U;++fa){this.cx+=this.Y.Aa();}this.Y.offset-=U;}this.Rc(U,this.l.offset);}return !0;};z.wa=!1;z.prototype=Object.create(K.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{yi:{get:function(){return this.flags & 1;}}});z.prototype.parse=function(U){var fa,la,Gb,Jb;this.tb();this.yi && this.l.rh();this.yi && this.l.ba();this.Ld=this.l.ba();G(1 === this.Ld,"Expected a single entry in Sample Auxiliary Information Offsets box");this.ee=0 === this.version?this.l.Xq():this.l.A1();this.l.offset=this.ee;if(U && U.T){fa=U.Ya.QX;la=U.T.c2;G(0 < fa || void 0 !== U.Ya.PX,"Expected per sample or constant IV");G(la && 0 < la.length,"Expected saix box parsing to find sample info sizes");U.T.Ak=[];for(var wa=0;wa < la.length;wa++){for(var Ka=fa?this.l.Wq(fa):void 0,ab=[],ob=this.l.lb(),mb=0;mb < ob;mb++){Gb=this.l.lb();Jb=this.l.ba();ab.push({fX:Gb,gX:Jb});}U.T.Ak.push({ox:ab,Wu:Ka});}}return !0;};z.prototype.na=function(U,fa){this.ee+=U;this.Y.offset=this.startOffset + 16 + (this.yi?8:0) + (0 === this.version?0:4);this.Y.wx(fa,this.ee);return !0;};A.wa=!1;A.prototype=Object.create(K.prototype);A.prototype.constructor=A;Object.defineProperties(A.prototype,{oG:{get:function(){return this.flags & 1;}},nH:{get:function(){return this.flags & 2;}}});A.prototype.parse=function(U){var fa,ob,mb;this.tb();fa=0;this.oG && (fa=this.l_=this.l.ba() & 255,this.l.Vq(16));if(U && U.T){if(U.T.Ak)return;U.T.ad || (U.T.ad=[]);}if(0 !== fa && 8 !== fa && 16 !== fa)return !0;this.Ka=this.l.ba();if(U && U.T)for(var la=0;la < this.Ka;la++){if((U.T.ad[la].Wu=0 < fa?this.l.Wq(fa):void 0,this.nH)){for(var wa=[],Ka=this.l.lb(),ab=0;ab < Ka;ab++){ob=this.l.lb();mb=this.l.ba();wa.push({fX:ob,gX:mb});}U.T.ad[la].ox=wa;}}return !0;};A.prototype.na=function(U,fa){var la,wa;la=fa?this.Ka - U:U;this.Y.offset=this.startOffset + 28 + (this.oG?20:0);this.Ka-=la;this.Y.ie(this.Ka);U=this.Y.offset;if(this.nH)for(la=fa?this.Ka:la;0 < la;--la){this.Y.offset+=8;wa=this.Y.lb();this.Y.offset+=6 * wa;}else this.Y.offset+=8 * (fa?this.Ka:la);fa?this.Rc(this.length - (this.l.offset - this.startOffset),this.l.offset):this.Rc(this.l.offset - U,U);};B.wa=!1;B.prototype=Object.create(K.prototype);B.prototype.constructor=B;B.prototype.parse=function(U){this.tb();if(U && U.T){void 0 === U.T.ad && (U.T.ad=[]);for(var fa=0;fa < this.length - 12;fa++){U.T.ad[fa].Kdb=this.l.Aa();}}return !0;};B.prototype.na=function(U,fa,la){la?this.Rc(fa - U,this.startOffset + 12 + U):this.Rc(U,this.startOffset + 12);return !0;};D.wa=!1;D.prototype=Object.create(K.prototype);D.prototype.constructor=D;D.prototype.parse=function(){this.tb();this.l.rh();1 === this.version && this.l.ba();this.Ld=this.l.ba();this.Tm=[];for(var U=0;U < this.Ld;++U){for(var fa=this.l.ba(),la=this.l.ba(),wa=0;wa < fa;++wa){this.Tm.push(la);}}return !0;};D.prototype.na=function(U,fa){this.Tm=fa?this.Tm.slice(0,U):this.Tm.slice(U);U=this.Tm.reduce(function(la,wa){0 !== la.length && la[la.length - 1].group === wa || la.push({group:wa,count:0});++la[la.length - 1].count;return la;},[]);this.Y.offset=this.startOffset + 16 + (1 === this.version?4:0);this.Y.ie(U.length);U.forEach((function(la){this.Y.ie(la.count);this.Y.ie(la.group);}).bind(this));this.Ld > U.length && this.Rc(8 * (this.Ld - U.length));this.Ld=U.length;return !0;};C.wa=!1;C.prototype=Object.create(K.prototype);C.prototype.constructor=C;ya={Ba:{moov:k,trak:c,mdia:c,mdhd:g,minf:c,encv:ya,schi:c,sidx:f,sinf:c,stbl:c,tenc:m,mvex:c,moof:p,traf:r,tfhd:v,trun:x,sbgp:D,sdtp:B,saiz:y,saio:z,tfdt:u,mdat:C,vmaf:d},i3:{vpcC:w,SmDm:t("smdm"),CoLL:t("coll")},kH:{schm:W},dx:{}};F([ia,M,O,Q,za,Ra,Fa,L,N,eb,rb,J,T,H,P,a],ya.Ba);F([V,pa,sa,X,S,R,da,xa,Ta,$a],ya.dx);F([ia,W],ya.kH);ya.Ba[b.OD]=m;ya.Ba[b.Hp]=l;ya.Ba[b.Gp]=n;ya.Ba[b.ND]=A;ya.dx[b.$u]=Xa;ya.yb=K;q.exports={mk:ya};},function(q,b){function a(k,g){return "number" !== typeof k || "number" !== typeof g?!1:k && g?Math.abs(k * g / c(k,g)):0;}function c(k,g){var f;k=Math.abs(k);for(g=Math.abs(g);g;){f=g;g=k % g;k=f;}return k;}Object.defineProperty(b,"__esModule",{value:!0});q=(function(){function k(g,f){"object" === typeof g?(this.Yb=g.qa,this.gb=g.I):(this.Yb=g,this.gb=f);}k.Sa=function(g){return new k(g,1E3);};k.zS=function(g,f){return Math.floor(1E3 * g / f);};k.ida=function(g,f){return Math.floor(g * f / 1E3);};k.max=function(){for(var g=[],f=0;f < arguments.length;f++){g[f]=arguments[f];}return g.reduce(function(d,h){return d.greaterThan(h)?d:h;});};k.min=function(){for(var g=[],f=0;f < arguments.length;f++){g[f]=arguments[f];}return g.reduce(function(d,h){return d.lessThan(h)?d:h;});};k.Nt=function(g,f){var d;if(g.I === f.I)return new k(c(g.qa,f.qa),g.I);d=a(g.I,f.I);return k.Nt(g.Yc(d),f.Yc(d));};Object.defineProperties(k.prototype,{qa:{get:function(){return this.Yb;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{I:{get:function(){return this.gb;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{V:{get:function(){return 1E3 * this.Yb / this.gb;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{Nh:{get:function(){return this.Yb / this.gb;},enumerable:!0,configurable:!0}});k.prototype.Yc=function(g){g/=this.I;return new k(Math.floor(this.qa * g),Math.floor(this.I * g));};k.prototype.add=function(g){var f;if(this.I === g.I)return new k(this.qa + g.qa,this.I);f=a(this.I,g.I);return this.Yc(f).add(g.Yc(f));};k.prototype.Ia=function(g){return this.add(new k(-g.qa,g.I));};k.prototype.wC=function(g){return new k(this.qa * g,this.I);};k.prototype.Dj=function(g){var f;if(this.I === g.I)return this.qa / g.qa;f=a(this.I,g.I);return this.Yc(f).Dj(g.Yc(f));};k.prototype.cQ=function(g){return a(this.I,g);};k.prototype.Cea=function(){return new k(this.I,this.qa);};k.prototype.compare=function(g,f){var d;if(this.I === f.I)return g(this.qa,f.qa);d=a(this.I,f.I);return g(this.Yc(d).qa,f.Yc(d).qa);};k.prototype.equal=function(g){return this.compare(function(f,d){return f === d;},g);};k.prototype.n0=function(g){return this.compare(function(f,d){return f !== d;},g);};k.prototype.lessThan=function(g){return this.compare(function(f,d){return f < d;},g);};k.prototype.greaterThan=function(g){return this.compare(function(f,d){return f > d;},g);};k.prototype.DK=function(g){return this.compare(function(f,d){return f <= d;},g);};k.prototype.ms=function(g){return this.compare(function(f,d){return f >= d;},g);};k.prototype.toJSON=function(){return {ticks:this.qa,timescale:this.I};};k.prototype.toString=function(){return this.qa + "/" + this.I;};k.ib=new k(0,1);k.Lw=new k(1,1E3);return k;})();b.O=q;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);q=a(28);k=a(28);a=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}c.__extends(f,g);f.prototype.parse=function(d){this.l.offset+=6;this.l.lb();k.aa && this.l.console.trace("VideoSampleEntry sampleEntryType: " + this.type);if(null === d || void 0 === d?0:d.Ya)d.Ya.Idb=this.type;return !0;};return f;})(q.yb);b.default=a;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});q=a(1);q.__exportStar(a(162),b);q.__exportStar(a(264),b);q.__exportStar(a(265),b);q.__exportStar(a(266),b);q=a(265);c=a(266);a=a(264);b.bk={3:a.xD,4:q.uD,5:c.CT};},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);k=a(28);q=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}c.__extends(f,g);f.prototype.parse=function(d){var h;this.HT=this.l.lb();h=this.l.Aa();this.$G=! !(h & 128);this.UD=! !(h & 64);this.MD=! !(h & 32);this.I2=h & 31;this.bY=this.$G?this.l.lb():void 0;this.UD && this.l.Vq(this.l.Aa());this.tU=this.MD?this.l.lb():void 0;k.aa && this.l.console.trace("ESDescriptor: ES_ID=" + this.HT + ", streamDependenceFlag=" + this.$G + ", URL_Flag=" + this.UD + ", OCRstreamFlag=" + this.MD + ", streamPriority=" + this.I2 + ", dependsOn_ES_ID=" + this.bY + ", OCR_ES_Id=" + this.tU);this.lE(d);return !0;};f.tag=3;return f;})(a(162).Su);b.xD=q;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);k=a(28);q=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}c.__extends(f,g);f.prototype.parse=function(d){var h;this.Nq=this.l.Aa();h=this.l.Aa();this.nx=h >>> 2;this.ux=h >>> 1 & 1;this.Dv=256 * this.l.lb() + this.l.Aa();this.maxBitrate=this.l.ba();this.bq=this.l.ba();k.aa && this.l.console.trace("DecoderConfigDescriptor: objectTypeIndication= 0x" + this.Nq.toString(16) + ", streamType=" + this.nx + ", upStream=" + this.ux + ", bufferSizeDB=" + this.Dv + ", maxBitrate=" + this.maxBitrate + ", avgBitrate=" + this.bq);if(null === d || void 0 === d?0:d.wc)(d.wc.Nq=this.Nq,d.wc.nx=this.nx,d.wc.ux=this.ux,d.wc.Dv=this.Dv,d.wc.maxBitrate=this.maxBitrate,d.wc.bq=this.bq);this.lE(d);return !0;};f.tag=4;return f;})(a(162).Su);b.uD=q;},function(q,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);k=a(28);q=a(162);g=a(263);a=(function(f){function d(){return null !== f && f.apply(this,arguments) || this;}c.__extends(d,f);d.prototype.FG=function(){var h;h=this.l.sb(4);return 15 !== h?[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350][h]:this.l.sb(24);};d.prototype.parse=function(h,m){if(this.b_(m) && 64 === m.Nq){this.De=this.DG();this.Ck=this.FG();this.Gv=this.l.sb(4);this.gx=this.Cm=5 === this.De || 29 === this.De?5:-1;this.Yw=29 === this.De?1:-1;0 < this.Cm && (this.Yv=this.FG(),this.De=this.DG(),22 === this.De && (this.Xv=this.l.sb(4)));switch(this.De){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.Em=this.l.sb(1),this.Lv=(this.aY=this.l.sb(1))?this.l.sb(14):void 0,this.l.sb(1),this.Gi=3 === this.De?256:23 === this.De?this.Em?480:512:this.Em?960:1024);}k.aa && this.l.console.trace("AudioSpecificConfig: audioObjectType=" + this.De + ", samplingFrequency=" + this.Ck + ", channelConfiguration=" + this.Gv + ", extensionAudioObjectType=" + this.Cm + ", sbrPresentFlag=" + this.gx + ", psPresentFlag=" + this.Yw + ", extensionSamplingFrequency=" + this.Yv + ", extensionChannelConfiguration=" + this.Xv + ", frameLengthFlag=" + this.Em + ", coreCoderDelay=" + this.Lv + ", frameLength=" + this.Gi);if(null === h || void 0 === h?0:h.wc)(h.wc.De=this.De,h.wc.Ck=this.Ck,h.wc.Gv=this.Gv,h.wc.Cm=this.Cm,h.wc.gx=this.gx,h.wc.Yw=this.Yw,h.wc.Yv=this.Yv,h.wc.Xv=this.Xv,h.wc.Em=this.Em,h.wc.Lv=this.Lv,h.wc.Gi=this.Gi);}this.skip();return !0;};d.prototype.DG=function(){var h;h=this.l.sb(5);31 === h && (h=32 + this.l.sb(6));return h;};d.prototype.b_=function(h){return h.tag === g.uD.tag;};d.tag=5;return d;})(q.Su);b.CT=a;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var k;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(g,f){return g + f.byteLength;},0);k=new Uint8Array(c);a.reduce(function(g,f){k.set(new Uint8Array(f),g);return g + f.byteLength;},0);return k.buffer;};},function(q,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(441);k=a(260);g=a(442);q=(function(){function f(d,h,m){this.console=d;this.stream=h;this.view=m instanceof ArrayBuffer?new DataView(m):new DataView(m.data,m.offset,m.length);}f.prototype.parse=function(d){var h;h=new g.vD(this.view.byteLength);this.ub=new c.Ru(k.mk.Ba,h,this.view,this.console,{Mw:!0});d=this.ub.parse(d);this.Ba=this.ub.Ba;return d;};return f;})();b.mm=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.qD=void 0;q=a(39);a=a(74);c=(function(){function k(g,f){this.$N=g;this.AN=f.bb;this.$x=f.wb;}Object.defineProperties(k.prototype,{bb:{get:function(){return void 0 !== this.AN?this.AN:this.$N.bb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{wb:{get:function(){return void 0 !== this.$x?this.$x:this.$N.wb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{I:{get:function(){return this.$N.I;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Kj:{get:function(){return this.$N.Kj;},enumerable:!1,configurable:!0}});k.prototype.p2=function(g){this.$x=g;};k.prototype.vpa=function(){this.$x=void 0;};return k;})();b.qD=c;q.Xe(a.Pu,c);q.Xe(a.Yz,c);},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.jT=void 0;c=a(1);q=c.__importDefault(a(159));k=a(123);g=a(189);a=(function(f){function d(h,m,l,n,p,r,t){m=f.call(this,h,m,l,n,p,r,t) || this;g.zx.xa(m,h,n);return m;}c.__extends(d,f);return d;})(k.h4);b.jT=a;q.default(g.zx.prototype,a.prototype);},function(q,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(1).__exportStar(a(976),b);},function(q,b,a){var c,k,g,f,d,h,m,l,n;Object.defineProperties(b,{__esModule:{value:!0}});b.tha=b.Kw=void 0;c=a(1);q=a(13);k=c.__importDefault(a(32));g=c.__importDefault(a(5));f=a(21);d=a(4);h=a(978);m=a(123);l=a(70);n=a(25);b.Kw=function(p){return p.Ia(f.O.Sa(p.zL));};a=(function(p){function r(t,w,v,u,x,y,z,A,B){var D,C;C=p.call(this) || this;C.J=t;C.Bh=w;C.Hg=v;C.Pd=u;C.K=x;C.Dub=y;C.U=z;C.py=A;C.bi=B;C.RUa=!1;C.tSa=!1;C.bW=!1;C.Jl=C.J.error.bind(C.J);C.cc=C.J.warn.bind(C.J);C.Eo=C.J.trace.bind(C.J);null === (D=u.events) || void 0 === D?void 0:D.addListener("ready",function(){C.Xx();});C.r9a=new h.mLa(C.K,C.Bh,C.Hg.dd,C.J);C.reset();return C;}c.__extends(r,p);Object.defineProperties(r.prototype,{endOfStream:{get:function(){return this.mV;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{u9b:{get:function(){return this.yn.length;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{DSb:{get:function(){return this.Ll;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{ggb:{get:function(){return ! !this.Pd.KIb;},enumerable:!1,configurable:!0}});r.prototype.reset=function(t){var w,v,u;null === (w=this.ITa) || void 0 === w?void 0:w.Rb();this.Yk=!1;t || (this.yn=[]);this.Ll=this.Pla=this.BI=void 0;this.zla=!1;this.CI=void 0;this.bW=this.mV=!1;this.wUa(f.O.ib);null === (u=(v=this.Pd).reset) || void 0 === u?void 0:u.call(v);this.r9a.reset();};r.prototype.C1a=function(){this.Pla=!0;};r.prototype.pause=function(){this.Yk=!0;};r.prototype.resume=function(){this.Yk=!1;this.Xx();};r.prototype.zB=function(){this.tSa=!0;this.Yk || this.Xx();};r.prototype.TG=function(t){this.RUa=t;};r.prototype.bta=function(){var t;return null === (t=this.Ll) || void 0 === t?void 0:t.lf;};r.prototype.Uyb=function(t){var w;if(this.K.l0a){d.assert(t.eb);w=t.eb.Ab;d.assert(void 0 !== t.ud);d.assert(void 0 !== w.Uc);if(t.ud >= w.Uc)return;}this.yn.push(t);this.Xx();};r.prototype.vx=function(){this.Xx();};r.prototype.P1=function(t){t=this.yn.indexOf(t);-1 !== t && this.yn.splice(t,1);};r.prototype.y$a=function(t,w){this.K.Rna && w && void 0 === this.Ll && this.SRa(t,0);this.Xx();};r.prototype.o0=function(t,w){var v,u;v=this;void 0 === t && (t=!1);this.mV || (this.mV=!0,this.Xx(),!t && this.ggb) || (w && this.py && this.K.vGb?(t=f.O.Sa(this.K.Fgb),w=w.Ia(t),t=l.Cga(this.py,w,!0),w=t.ko,t=t.promise,null === (u=this.ITa) || void 0 === u?void 0:u.Rb(),this.ITa=w,t.then(function(){v.mV && v.Pd.endOfStream();})):this.Pd.endOfStream());};r.prototype.kfa=function(){return JSON.stringify(this.yn);};r.prototype.wUa=function(t){var w;null !== (w=this.Bwb) && void 0 !== w && w.equal(t) || (this.Bwb=t,this.Pd.a4b(t.qa,t.I));};r.prototype.Xx=function(){var t,w,v,u,x,y,z,A,B;u=this.K;if(this.yn.length || this.Ll && !this.Ll.cf)if(!this.Pd || !1 === this.Pd.ready)this.aO("@" + g.default.time.ma() + ", append: not appending, sourceBuffer not ready");else if(!this.Ll || this.Ll.cf || this.Ll.Vt())if(this.Ll && !this.Ll.cf || this.yn.length)if(this.Yk){x=this.Ll && !this.Ll.cf?this.Ll:this.yn[0];this.aO("@" + g.default.time.ma() + ", bufferManager _append ignored, paused, nextRequest: " + JSON.stringify(x));}else if((!this.Ll || this.Ll.cf || (this.oSa(this.Ll),this.Ll.cf)) && this.yn.length)if((x=this.yn[0],x.aborted))(this.cc("aborted MediaRequest should not appear in the toAppend list:",x.toString(),"complete:",x.complete),this.aO("@" + g.default.time.ma() + ", append: removing aborted request from toAppend: " + x.toString()),this.yn.shift());else {y=x.stream;z=y.R;if(y.Yf)if((x.sF && !this.bW && (null === (w=(t=this.Pd).ufb) || void 0 === w?void 0:w.call(t,{M:y.track.R.M,m6a:y.Fj}),this.bW=!0),this.p4b(y,x.index)))(this.Pla=!1,this.SRa(y,x.index));else if((t=this.U.ap(z),y=this.pQb(y),t || y || !this.zla && !u.Aga))if((t=this.X3a(x),this.Bh !== k.default.kb.mc || !x.Hq && !x.Zy || !x.na || u.vL || this.mV || 1 !== this.yn.length || !(t > u.c0) || null !== (v=x.DL) && void 0 !== v && v.Sba)){if(u.l0a || u.kIb)if((v=x.eb.Ab,w=this.OGb())){A=v.Tl;B=x.Uc >= w;t=t > u.c0;if(w < v.Uc && B && t && !A)return;}if(u.SYb && this.bi && (u=this.bi(z.bc)) && !u.BW)this.pause();else {this.zla || (this.zla=y);this.yn.shift();try{this.wrb(x);}catch(D){throw (this.J.error(D),D);}}}else this.K2b();}};r.prototype.K2b=function(){var t;t=this;this.py && (this.Cva?this.Cva.gRb || this.Cva.fm():this.Cva=this.py.BJ(function(){return t.uSb();},"JIT Appender"));};r.prototype.uSb=function(){var t,w,v,u;return c.__generator(this,function(x){switch(x.label){case 0:if(1 !== this.yn.length)return [3,3];t=this.yn[0];if(!t.Hq && !t.Zy || (null === (u=t.DL) || void 0 === u?0:u.Sba))return [2];w=this.X3a(t);v=this.K.c0;return w > v?[4,l.Hl.qM(f.O.Sa(w - v))]:[3,2];case 1:(x.pc(),x.label=2);case 2:return (this.Xx(),[3,0]);case 3:return [2];}});};r.prototype.X3a=function(t){return t.Rd - this.U.Ue();};r.prototype.p4b=function(t,w){if(this.Pla || void 0 === this.BI || t.Za !== this.BI.Za)return !0;t=t.Yf;d.assert(t);return 1 < t.length?n.L8(t,function(v){return v.Dd <= w;}) !== this.BI.s6a:!1;};r.prototype.pQb=function(t){if(0 === t.mediaType || !t.Fj)return !0;if(void 0 === this.BI)return !1;if(!t.track.N_)return !t.Fj;t=t.Yf;d.assert(t);return !1 === t[this.BI.s6a].Ej;};r.prototype.OGb=function(){throw Error("not supported");};r.prototype.SRa=function(t,w){var v,u,x,y;if(!this.RUa || this.tSa){x=t.Yf.reduce(function(z,A,B){return A.Dd <= w?B:z;},0);y=t.Yf[x];this.BI || (null === (u=(v=this.Pd).ufb) || void 0 === u?void 0:u.call(v,{M:t.track.R.M,m6a:t.Fj}),this.bW=!0);if(this.Pd.appendBuffer(y.data,{Qc:!0,profile:t.profile,bitrate:t.bitrate,Za:t.id}))(this.aO("@" + g.default.time.ma() + ", header appended, streamId: " + t.Za),this.BI={Za:t.Za,s6a:x},this.Nvb(t.R.bc || 0,t.Za,x),this.Xx());else throw (this.cc("appendHeader error: " + this.Pd.error),this.aO("@" + g.default.time.ma() + ", appendHeader error: " + this.Pd.error),Error("appendHeaderError"));}};r.prototype.wrb=function(t){var w,v,u,x,y;w=this;x=t.sza || f.O.ib;y=t.eb.Ab.G;y.Ta && Infinity !== y.Ta && (x=new f.O(y.Ta,1E3).add(x).Nh,Infinity === this.Hg.duration || this.Hg.duration < x) && (this.Hg.duration=x);x=void 0 !== t.aD?f.O.Sa(t.aD).add(t.sza):void 0;y=null === (v=this.yn[0]) || void 0 === v?void 0:v.he;v={endOfStream:this.endOfStream || !(null === (u=t.DL) || void 0 === u || !u.Sba),$F:x,j0:y};y=this.r9a.append(t,v);u=y.offset;v=y.ck;x=y.twa;y=y.response;null === x || void 0 === x?void 0:x.forEach(function(z){return w.emit(z.type,z);});this.wUa(u);v && (t.Hq || t.Zy) && t.ck();this.oSa(t,v,y);};r.prototype.oSa=function(t,w,v){var u,x,y,z;void 0 === w && (w=!1);z=w?{status:m.Qj.Dx,sl:void 0}:t.hJ(this.Pd,this.Hg.dd,void 0,v);v=z.status;(z=z.sl) && this.emit(z.type,z);switch(v){case m.Qj.rg:this.vrb(t);break;case m.Qj.Dx:(w || (this.Ll=t,void 0 === this.CI || this.Bh !== k.default.kb.mc || t.he.equal(this.CI) || (this.Ivb(t,this.CI),this.CI=void 0),this.aO("@" + g.default.time.ma() + ", request appended, type: " + t.mediaType + ", streamId: " + t.Za + ", pts: " + t.Rd + "-" + t.lf)),t.Hq || t.Zy?(this.CI=w?t.he:t.fd,null === (x=(u=this.Pd).KIb) || void 0 === x?void 0:x.call(u,t.DL),this.bW=!1,(null === (y=t.DL) || void 0 === y?0:y.Sba) && this.Dub && this.o0(!1,this.CI)):this.CI=void 0,this.Ovb(t),this.Xx());}};r.prototype.vrb=function(t){if(void 0 !== this.Pd.error){if("done" === this.Pd.error)return;this.Jl("failure to append queued mediaRequest:",null === t || void 0 === t?void 0:t.toString(),"err:",JSON.stringify(this.Pd.error));throw this.Pd.error;}t=Error("failure to append queued mediaRequest: " + (null === t || void 0 === t?void 0:t.toString()) + " err: " + this.Pd.error);this.Jl(t.message);throw t;};r.prototype.Nvb=function(t,w,v){t={type:"headerAppended",mediaType:this.Bh,manifestIndex:t,streamId:w,isIndex:v};this.emit(t.type,t);};r.prototype.Ovb=function(t){t={type:"requestAppended",mediaType:this.Bh,request:t};this.emit(t.type,t);};r.prototype.aO=function(t){t={type:"managerdebugevent",message:t};this.emit(t.type,t);};r.prototype.Ivb=function(t,w){var v;v=t.ud;t=t.he.Ia(w).V;v={type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:[v,t]}}};this.emit(v.type,v);};return r;})(q.EventEmitter);b.tha=a;},function(q,b,a){var k;function c(g,f){return g < f?-1:g > f?1:0;}Object.defineProperties(b,{__esModule:{value:!0}});b.N5=void 0;k=a(1);q=(function(){function g(f,d){this.data=null !== f && void 0 !== f?f:[];this.compare=null !== d && void 0 !== d?d:c;if(!this.empty)for(f=(this.length >> 1) - 1;0 <= f;f--){this.Bla(f);}}Object.defineProperties(g.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === this.data.length;},enumerable:!1,configurable:!0}});g.prototype.push=function(f){this.data.push(f);this.LUa(this.length - 1);};g.prototype.pop=function(){var f,d;if(!this.empty){f=this.data[0];d=this.data.pop();this.empty || (this.data[0]=d,this.Bla(0));return f;}};g.prototype.nz=function(){return this.data[0];};g.prototype.map=function(f){return this.data.map(f);};g.prototype.find=function(f){return k.__read(this.data.filter(f),1)[0];};g.prototype.clear=function(){this.data=[];};g.prototype.remove=function(f){var d,h,m;d=this.data;f=d.indexOf(f);if(-1 !== f){h=d.pop();if(f < d.length){d[f]=h;m=f - 1 >> 1;d=d[m];0 <= m && 0 > this.compare(h,d)?this.LUa(f):this.Bla(f);}}};g.prototype.jzb=function(){for(var f=this.data,d=1;d < f.length;d++){if(0 > this.compare(f[d],f[d - 1 >> 1]))throw Error("Audit failed at position " + d + " of " + f);}};g.prototype.contains=function(f){return 0 <= this.data.indexOf(f);};g.prototype.LUa=function(f){for(var d=this.data,h=this.compare,m=d[f],l,n;0 < f;){l=f - 1 >> 1;n=d[l];if(0 <= h(m,n))break;d[f]=n;f=l;}d[f]=m;};g.prototype.Bla=function(f){for(var d=this.data,h=this.compare,m=this.length >> 1,l=d[f],n,p,r;f < m;){n=(f << 1) + 1;r=d[n];p=n + 1;p < this.length && 0 > h(d[p],r) && (n=p,r=d[p]);if(0 <= h(r,l))break;d[f]=r;f=n;}d[f]=l;};return g;})();b.N5=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.hea=void 0;c=a(17);b.hea=function(k){switch(k){case c.Da.Md:k=c.Zc.Md;break;case c.Da.sg:k=c.Zc.sg;break;case c.Da.Sh:case c.Da.Tj:case c.Da.et:k=c.Zc.Tj;break;default:k=c.Zc.Uj;}return k;};},function(q,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.TM=void 0;c=a(4);k=a(25);q=(function(){function g(f){var d;d=this;void 0 === f && (f=[]);this.items=f;f.forEach(function(h){return d.LCa(h);});}Object.defineProperties(g.prototype,{length:{get:function(){return this.items.length;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{m1:{get:function(){var f;return null !== (f=this.video) && void 0 !== f?f:this.audio;},enumerable:!1,configurable:!0}});g.prototype.get=function(f){return 1 === f?this.video:this.audio;};g.prototype.every=function(f){return this.items.every(f);};g.prototype.some=function(f){return this.items.some(f);};g.prototype.forEach=function(f){this.items.forEach(f);};g.prototype.find=function(f){return k.oe(this.items,f);};g.prototype.reduce=function(f,d){return this.items.reduce(f,d);};g.prototype.filter=function(f){return new g(this.items.filter(f));};g.prototype.replace=function(f,d){var h;h=this.items.indexOf(f);c.assert(-1 < h);c.assert(f.mediaType === d.mediaType);this.items[h]=d;this.LCa(d);};g.prototype.t3b=function(f,d){(f=this.get(f))?this.replace(f,d):this.add(d);};g.prototype.add=function(f){this.items.push(f);this.LCa(f);};g.prototype.remove=function(f){var d;d=this.items.indexOf(f);if(-1 === d)return !1;this.items.splice(d,1);this.QBb(f.mediaType);return !0;};g.prototype.clear=function(){this.items=[];this.audio=this.video=void 0;};g.prototype.LCa=function(f){1 === f.mediaType?this.video=f:this.audio=f;};g.prototype.QBb=function(f){1 === f?this.video=void 0:this.audio=void 0;};return g;})();b.TM=q;},function(q,b,a){var c,k,g,f,d,h,m,l;Object.defineProperties(b,{__esModule:{value:!0}});b.f4=void 0;c=a(1);a(4);q=a(39);k=c.__importDefault(a(32));g=c.__importDefault(a(5));f=a(277);d=a(90);h=a(123);m=g.default.Zs;l=a(1004);a=(function(n){var q00;q00=2;function p(r,t,w,v,u,x,y,z){var r00,A;r00=2;for(;r00 !== 6;){switch(r00){case 2:var c59="e";c59+="d";c59+="it";var n59="c";n59+="a";n59+="c";n59+="h";n59+="e";var F59="1";F59+="SI";F59+="YbZ";F59+="r";F59+="NJCp9";A=this;F59;A=[n59,c59].filter(function(B,D){var s00;s00=2;for(;s00 !== 1;){switch(s00){case 4:return [u,w.na][D];break;s00=1;break;case 2:return [u,w.na][D];break;}}});A=A.length?"(" + A.join(",") + ")":"";r00=3;break;case 3:void 0 === w.responseType && (w.responseType=w.na || m.dd && !m.dd.Y1.GU?0:1);A=n.call(this,r,t,A,w,v,x,y) || this;d.gn.xa(A,r,w,z);r00=7;break;case 7:return A;break;}}}for(;q00 !== 9;){switch(q00){case 2:c.__extends(p,n);p.create=function(r,t,w,v,u,x,y,z){var t00,A,B;t00=2;for(;t00 !== 11;){switch(t00){case 2:t00=!t.Oh && v.na && r.mediaType === k.default.kb.Vb && m.dd && m.dd.Y1.GU?1:5;break;case 1:return new l.QDa(r,w,v,u,x,t,y,z);break;case 5:t00=v.LQ && v.ga > v.LQ?4:12;break;case 14:var a59="subre";a59+="ques";a59+="t";(A={offset:x,ga:Math.min(B,z),responseType:v.responseType},x+=A.ga,B-=A.ga,u.push(new h.h4(r,w,a59,A,u,t,y)));t00=6;break;case 4:A=Math.ceil(v.ga / v.LQ);x=v.offset;B=v.ga;u=new f.iT(r,v,u,t,y,z);t00=7;break;case 7:z=Math.ceil(v.ga / A);t00=6;break;case 6:t00=0 < B?14:13;break;case 12:return new p(r,w,v,u,x,t,y,z);break;case 13:return u;break;}}};p.prototype.toString=function(){var u00;u00=2;for(;u00 !== 1;){switch(u00){case 2:var G59="I";G59+="D:";G59+=" ";return G59 + this.ij() + ":" + d.gn.prototype.toString.call(this);break;}}};p.prototype.toJSON=function(){var v00;v00=2;for(;v00 !== 1;){switch(v00){case 2:return {ID:this.ij(),request:d.gn.prototype.toJSON.call(this)};break;}}};q00=3;break;case 12:return p;break;q00=9;break;case 3:return p;break;}}})(h.h4);b.f4=a;q.Xe(d.gn,a,!1);},function(q,b,a){var c,k,g,f,d,h,m;Object.defineProperties(b,{__esModule:{value:!0}});b.iT=void 0;c=a(1);k=a(4);q=a(39);g=a(8);f=a(25);d=a(446);h=a(90);m=a(123);a=(function(l){function n(p,r,t,w,v,u){t=l.call(this,p,r,t,w,v) || this;h.gn.xa(t,p,r,u);t.Od=0;t.na || t.Lj();t.cf=!1;return t;}c.__extends(n,l);Object.defineProperties(n.prototype,{Qc:{get:function(){return !1;},enumerable:!1,configurable:!0}});n.prototype.push=function(p){this.Od+=p.ga;l.prototype.push.call(this,p);};n.prototype.Vt=function(){var p;return !this.cf && ! !this.Pa.length && !(null === (p=f.oe(this.Pa,function(r){return !r.cf;})) || void 0 === p || !p.Vt());};n.prototype.hJ=function(p,r){var t,w;k.assert(!this.cf);t=m.Qj.Gob;w=g.az(this);this.cf=this.Pa.every(function(v){if(v.cf)return !0;if(!v.Vt())return !1;t=v.hJ(p,r,w).status;return t === m.Qj.Dx;});t !== m.Qj.Dx || this.cf || (t=m.Qj.$ob);return {status:t};};n.prototype.e1b=function(){this.Pa.forEach(function(p){p.Hea();});};n.prototype.ij=function(){return this.Pa?this.Pa[0].ij() + "-" + this.Pa[this.Pa.length - 1].ij():"empty";};n.prototype.toString=function(){return "ID: " + this.ij() + ":" + h.gn.prototype.toString.call(this) + "(aggregate)";};n.prototype.toJSON=function(){return {ID:this.ij(),request:l.prototype.toJSON.call(this)};};return n;})(d.Yga);b.iT=a;q.Xe(h.gn,a);},function(q,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(1).__exportStar(a(1010),b);},function(q,b,a){var c,k,g,f,d,h;Object.defineProperties(b,{__esModule:{value:!0}});b.e6=void 0;c=a(1);k=a(13);g=a(8);f=a(15);d=a(70);h=g.O.Sa(1E3);q=(function(){function m(l,n,p,r,t,w,v,u,x){var y,z,A;y=this;this.IKb=l;this.console=n;this.Na=p;this.events=t;this.ov=w;this.qf=v;this.fhb=u;this.Lq=[];this.tya=h.add(g.O.Sa(null !== (A=null === (z=w.eS) || void 0 === z?void 0:z.V) && void 0 !== A?A:0));this.listeners=new k.Fg();this.listeners.on(p.U,"skipped",function(){return y.F0();});this.listeners.on(r,"requestAppended",function(B){return y.gz(B.request);});this.aW=!0;this.rY=v.BJ(function(){return y.XHb();},"Presentation Emit",x);this.vea=v.BJ(function(){return y.c0b();},"Presentation Prune");this.V$a();}m.prototype.V$a=function(){};m.prototype.F0=function(){this.trace("skipped, scheduler clock " + this.qf.La.currentTime.Bc());this.aW=!0;this.rY.fm();};m.prototype.XHb=function(){var l,n;return c.__generator(this,function(p){switch(p.label){case 0:(this.mL=this.tWb(this.aW),l=this.h$a(),p.label=1);case 1:if(!l)return [3,3];n=this.aW?this.Na.Lg:null === l || void 0 === l?void 0:l.timestamp;this.trace("queuing task for " + l.jH + (" at player time " + l.timestamp.Bc()) + (" scheduler clock is " + this.qf.La.currentTime.Bc()));return [4,d.Hl.QS(l.timestamp)];case 2:p.pc();this.trace("executing task for " + l.jH + (" at player time " + l.timestamp.Bc()) + (" scheduler clock is " + this.qf.La.currentTime.Bc()));this.aW=!1;try{this.Yqa(l,n);}catch(r){this.console.error("Error in " + this.fhb + " emit, continuing",r);}this.mL++;l=this.h$a();n=null === l || void 0 === l?void 0:l.timestamp;return [3,1];case 3:return [2];}});};m.prototype.h$a=function(){if(void 0 !== this.mL)return this.Lq[this.mL];};m.prototype.tWb=function(l){var n,p,t;void 0 === l && (l=!1);for(var r=l?0:null !== (n=this.mL) && void 0 !== n?n:0;r < this.Lq.length;r++){n=this.Lq[r];t=g.O.Sa(null !== (p=this.ov.Pya) && void 0 !== p?p:0);if(n.timestamp.greaterThan(this.Na.Lg.add(t)))return l && 0 < r?r - 1:r;}return Math.max(this.Lq.length - 1,0);};m.prototype.c0b=function(){var l,n;return c.__generator(this,function(p){switch(p.label){case 0:if(!(1 < this.Lq.length))return [3,2];l=c.__read(this.Lq,2);n=l[1];this.trace("queuing pruning task for " + n.jH + (" at player time " + this.tya.add(n.timestamp).Bc()) + (" scheduler clock is " + this.qf.La.currentTime.Bc()));return [4,d.Hl.QS(this.tya.add(n.timestamp))];case 1:return (p.pc(),this.trace("executing pruning task for " + n.jH + (" at player time " + this.tya.add(n.timestamp).Bc()) + (" scheduler clock is " + this.qf.La.currentTime.Bc())),this.Lq.shift(),this.mL && this.mL--,[3,0]);case 2:return [2];}});};m.prototype.reset=function(){this.Lq=[];f.aa && this.trace("reset");this.aW=!0;this.dca=void 0;this.mL=0;this.vea.fm();this.rY.fm();};m.prototype.close=function(){this.rY.Rb();this.vea.Rb();this.listeners.clear();};m.prototype.Aj=function(l){var n;f.aa && this.trace("canSkip() " + l);if(0 === this.Lq.length)return (f.aa && this.trace("canSkip false, no media sequence"),!1);n=this.Lq[0];return n.timestamp.greaterThan(l)?(f.aa && this.trace("canSkip false, before earliest item at " + n.timestamp),!1):void 0 === this.dca || this.dca.lessThan(l)?(f.aa && this.trace("canSkip false, later than last appended at " + this.dca),!1):!0;};m.prototype.trace=function(l){f.aa && this.console.trace("PresentationTracker [" + this.IKb + "] " + this.fhb + ": " + l);};m.prototype.wna=function(l,n,p){p && (this.dca=p);p=this.Lq.length?this.Lq[this.Lq.length - 1]:void 0;return void 0 !== p && this.Z6a(p.jH,l)?!1:(this.Lq.push({jH:l,timestamp:n}),this.rY.state === d.vo.complete && this.rY.fm(),this.vea.state === d.vo.complete && this.vea.fm(),!0);};m.prototype.Z6a=function(l,n){return l === n;};return m;})();b.e6=q;},function(q,b,a){var f,d;function c(){}function k(h,m){this.Dn=h;void 0 !== m?(d(m <= h.fo,"require remain_sec <= chunk.sec but has " + m + " and " + h.fo),this.em=m):this.em=h.fo;}function g(h){var m;void 0 === h && (h=[]);this.lu=[];this.ki=this.bn=0;try{for(var l=f.__values(h),n=l.next();!n.done;n=l.next()){this.add(n.value,void 0);}}catch(r){var p;p={error:r};}finally{try{n && !n.done && (m=l.return) && m.call(l);}finally{if(p)throw p.error;}}}f=a(1);d=a(4).assert;c.prototype=Error();k.prototype.constructor=k;k.prototype.Xr=function(){return new k(this.Dn,this.em);};g.prototype.constructor=g;g.prototype.add=function(h,m){h=new k(h,m);this.lu.push(h);this.ki+=h.em;this.bn+=h.Dn.PB() * h.em;};g.prototype.Xr=function(){var h,m,p;m=new g(void 0);try{for(var l=f.__values(this.lu),n=l.next();!n.done;n=l.next()){p=n.value;m.add(p.Dn,p.em);}}catch(t){var r;r={error:t};}finally{try{n && !n.done && (h=l.return) && h.call(l);}finally{if(r)throw r.error;}}return m;};g.prototype.pw=function(){try{return this.lu[0];}catch(h){}};g.prototype.dbb=function(h){var m;for(d(0 <= h,"unexpected play_for_x_sec: x=" + h);0 < h;){if(void 0 === this.pw())throw new c();if(h < this.pw().em){m=this.pw().Dn.PB() * h;this.pw().em-=h;this.ki-=h;this.bn-=m;h=0;}else (m=this.lu.shift(),this.ki-=m.em,this.bn-=m.Dn.PB() * m.em,h-=m.em);}};g.prototype.tZb=function(h){var l;d(0 <= h,"unexpected play_y_kb: y=" + h);for(var m=0;0 < h;){if(void 0 === this.pw())throw new c();if(h < this.pw().em * this.pw().Dn.PB()){l=h / this.pw().Dn.PB();this.pw().em-=l;this.ki-=l;this.bn-=h;m+=l;h=0;}else (l=this.lu.shift(),this.ki-=l.em,this.bn-=l.Dn.PB() * l.em,m+=l.em,h-=l.Dn.PB() * l.em);}return m;};q.exports={OEa:g,Fkb:c};},function(q){var m,l,n,p,r,t;function b(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function c(w){if(m === setTimeout)return setTimeout(w,0);if((m === b || !m) && setTimeout)return (m=setTimeout,setTimeout(w,0));try{return m(w,0);}catch(v){try{return m.call(null,w,0);}catch(u){return m.call(this,w,0);}}}function k(w){if(l === clearTimeout)return clearTimeout(w);if((l === a || !l) && clearTimeout)return (l=clearTimeout,clearTimeout(w));try{return l(w);}catch(v){try{return l.call(null,w);}catch(u){return l.call(this,w);}}}function g(){p && r && (p=!1,r.length?n=r.concat(n):t=-1,n.length && f());}function f(){var w;if(!p){w=c(g);p=!0;for(var v=n.length;v;){r=n;for(n=[];++t < v;){r && r[t].Bz();}t=-1;v=n.length;}r=null;p=!1;k(w);}}function d(w,v){this.RKb=w;this.bB=v;}function h(){}q=q.exports={};m="function" === typeof setTimeout?setTimeout:b;l="function" === typeof clearTimeout?clearTimeout:a;n=[];p=!1;t=-1;q.iic=function(w){var v;v=Array(arguments.length - 1);if(1 < arguments.length)for(var u=1;u < arguments.length;u++){v[u - 1]=arguments[u];}n.push(new d(w,v));1 !== n.length || p || c(f);};d.prototype.Bz=function(){this.RKb.apply(null,this.bB);};q.title="browser";q.dfc=!0;q.I0a={};q.Oec=[];q.version="";q.ckc={};q.on=h;q.addListener=h;q.once=h;q.zC=h;q.removeListener=h;q.removeAllListeners=h;q.emit=h;q.i1=h;q.Gbb=h;q.listeners=function(){return [];};q.$ec=function(){throw Error("process.binding is not supported");};q.zfc=function(){return "/";};q.ofc=function(){throw Error("process.chdir is not supported");};q.Tjc=function(){return 0;};},function(q){q.exports={tKa:{code:-1,description:"MediaCache is not supported."},cdc:{code:100,description:"Resource was not found"},eob:{code:101,description:"Resource Metadata was not found"},cN:{code:102,description:"Read failed",Ts:function(b,a){return {code:this.code,description:b,cause:a};}},L6:{code:200,description:"Daily write limit exceeded"},wM:{code:201,description:"Capacity has been exceeded"},K6:{code:202,description:"Write failed, cause unknown",Ts:function(b,a){return {code:this.code,description:b,cause:a};}},cec:{code:203,description:"Write failed, cause unknown"},Blb:{code:300,description:"Failed to delete resource",Ts:function(b,a){return {code:this.code,description:b,cause:a};}},CD:{code:900,description:"Invalid partition name"},Gnb:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},TFa:{code:701,description:"Failed to initialize underlying disk cache."},dob:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(q){q.exports={A4a:function(b){var a;if(b && 0 !== b.length){a=[];b.forEach(function(c){var k;void 0 === c.error.code && (c.error.code=0);void 0 === c.error.description && (c.error.description="Unknown");a.forEach(function(g){c.error && c.error.code == g.error.code && c.error.description === g.error.description && (k=g);});k?k.resources.push(c.Js):a.push({error:c.error,resources:[c.Js]});});return a;}},x2a:function(b){var a;a={freeSize:b.Vo,dailyBytesRemaining:b.cP,bytesWritten:b.Ql,time:b.time,duration:b.duration};b.items && (a.items=b.items.map(function(c){return {key:c.key,operation:c.$l,itemBytes:c.Xba,error:c.error};}));return a;},vz:function(b){return b.catch(function(a){setTimeout(function(){throw a;},0);});}};},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.aK=void 0;c=a(1).__importDefault(a(5));k=a(1072);b.aK=function(){var f;if(!g){f=new c.default.Console("ASEJS","media|asejs");g=new k.EDa(f);}return g;};},function(q,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.w6=void 0;q=a(13);c=a(39);k=a(21);a=(function(){function g(f){void 0 === f && (f={ql:!1,currentTime:k.O.ib,speed:1});this.cd={ql:function(){return "function" === typeof f.ql?f.ql():f.ql;},currentTime:function(){return "function" === typeof f.currentTime?f.currentTime():f.currentTime;},speed:function(){return "function" === typeof f.speed?f.speed():f.speed;}};}Object.defineProperties(g.prototype,{ql:{get:function(){return this.cd.ql();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{currentTime:{get:function(){return this.cd.currentTime();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{speed:{get:function(){return this.cd.speed();},enumerable:!1,configurable:!0}});return g;})();b.w6=a;c.Xe(q.EventEmitter,a);},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.o4=void 0;b.o4=(function(){function a(){}a.Yua=function(c,k){var d;function g(h){return f(d++)(h,g);}function f(h){return h >= k.length?function(){throw Error("The last delegate in the chain should not invoke next() nextDelegateIndex " + h);}:k[h];}d=0;return g(c);};return a;})();},function(q,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.zta=b.Cq=b.isEqual=b.j_=void 0;c=a(8);k=a(242);b.j_=function(g){return ! !g.M;};b.isEqual=function(g,f){var d,h;d=b.j_(g);h=b.j_(f);return d === h?d?g.M === f.M:g.la === f.la:!1;};b.Cq=function(g){if(b.j_(g))return g.M;g=g.la;return g.P[g.xe].M;};b.zta=function(g,f){var d;return g.c9?g.c9 instanceof c.O?(g=k.VO(f,b.Cq(g.key),g.c9),(null === g || void 0 === g?0:g.offset.greaterThan(c.O.ib))?g:{offset:c.O.ib,ea:null !== (d=null === g || void 0 === g?void 0:g.ea) && void 0 !== d?d:f.xe}):g.c9:{offset:c.O.ib,ea:f.xe};};},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Bdb=b.q3a=b.map=void 0;c=a(1);a(1110);b.map=function(k){return function(g,f){void 0 === f && (f=!1);return function(d,h,m){var l,n,p,r,t,w,v,u;t=Reflect.J3a(k,d,h) || ({});v="number" === typeof m;u=f;(w=v?null !== (n=(null !== (l=t.Nb) && void 0 !== l?l:{})[m]) && void 0 !== n?n:{}:u?t.return:t.gxa) || (w={rules:[]});l=c.__assign(c.__assign(c.__assign({},w),g),{rules:c.__spread(null !== (p=w.rules) && void 0 !== p?p:[],null !== (r=g.rules) && void 0 !== r?r:[])});v?(t.Nb || (t.Nb={}),t.Nb[m]=l):u?t.return=l:t.gxa=l;Reflect.W9(k,t,d,h);};};};b.q3a=function(k){return function(g,f){var d,h,m,l;return (g=null !== (l=null !== (h=null === (d=g.__proxyCtor) || void 0 === d?void 0:d.prototype) && void 0 !== h?h:null === (m=null === g || void 0 === g?void 0:g.constructor) || void 0 === m?void 0:m.prototype) && void 0 !== l?l:g) && Reflect.J3a(k,g,f);};};b.Bdb=function(){return function(){return function(k){return k;};};};},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r;Object.defineProperties(b,{__esModule:{value:!0}});b.cya=b.FFa=b.GFa=void 0;c=a(1);k=a(47);g=a(1137);f=a(198);d=a(71);h=a(25);m=a(4);l=a(15);n=a(482);p=a(485);r=a(1138);q=(function(){function t(w,v,u,x,y){var z;z=this;void 0 === x && (x="CphAsePlaygraph");void 0 === y && (y=!0);this.context=w;this.gab=v;this.Cdb=u;this.b7b=x;this.ntb=new n.ika();y && this.xa();this.gab(function(A){var B;B=A.sH;return c.__awaiter(z,void 0,void 0,function(){var D;return c.__generator(this,function(C){switch(C.label){case 0:return [4,B];case 1:return (D=C.pc(),this.yG(D),[2]);}});});});}Object.defineProperties(t.prototype,{pd:{get:function(){return this.context.pd;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{la:{get:function(){return this.st;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{ol:{get:function(){return this.context.ol;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{J:{get:function(){return this.pd.console;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{K:{get:function(){return this.pd.config;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{O4a:{get:function(){return !1;},enumerable:!1,configurable:!0}});t.prototype.xa=function(){var w;w=this.context;this.sla=new d.fv({zs:10,Oq:this,source:this.b7b,console:this.J});this.events=p.Ypa(function(){return w;},w.pd.events,this.Cdb,r.nbb);this.st=w.pd.la;w.pd.eh(new f.Vx(this.sla));w.pd.eh(new f.Vx(w.ol.uh));};t.prototype.AO=function(w){var v,u,x;x=null !== (v=this.U) && void 0 !== v?v:this.pd.U;this.U=w;w.jBa && w.jBa(this.context);(v=this.context.pd.AO(null !== (u=w.YZ) && void 0 !== u?u:w))?(this.U=w,x !== w && x.zpa && x.zpa()):this.U=x;return v;};t.prototype.o1=function(w){if(w=this.Hsa(null !== w && void 0 !== w?w:this.st))return this.P_b(w,this.O4a);};t.prototype.P_b=function(w,v){var u,x,y,z;u=this.context.rj;x=u.U;y=u.la;z=u.TB && x.Af?x.Xh:u.rw?u.Cz:void 0;u.config.p9b && v && x.TG(!0);u.Mf(!0);l.aa && this.J.log("CombinePlaygraphs: ux: " + JSON.stringify(y));l.aa && this.J.log("CombinePlaygraphs: combined: " + JSON.stringify(w));this.ntb.set(w,!0);w=this.context.pd.Oz(w);this.context.wda.Eea();z && (z=this.context.ol.kP(z),this.context.pd.SC(z),x.resume());return w;};t.prototype.Oz=function(w){var v,u;u=null !== (v=this.Hsa(w)) && void 0 !== v?v:w;v=this.context.pd.Oz(u);v.fa && (this.st=w);this.context.wda.Eea();return v;};Object.defineProperties(t.prototype,{Yj:{get:function(){return this.VRa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{noa:{get:function(){var w,v,u,x;w=this;u=Object.keys(this.pd.la.P);if(u=h.oe(u,function(y){return ! !w.pd.la.P[y].Lc;})){u=this.pd.la.P[u].Lc;x=this.la.P[u];return null !== (v=null === x || void 0 === x?void 0:x.M) && void 0 !== v?v:Number(u.split(":")[0]);}},enumerable:!1,configurable:!0}});t.prototype.yG=function(w){var v,u,x,y;u=w.pa;x=u.Yj;u=u.Hn;y=null !== (v=this.K.yra) && void 0 !== v?v:[];if(u && y.some(function(z){return z == w.L;}))return (v=w.L + " was excluded from content playgraph",this.sla.vv(v),l.aa && this.J.trace(v),!1);x && !this.VRa && (this.VRa=x);return !0;};c.__decorate([d.Hb({methodName:"attachPlayer"})],t.prototype,"AO",null);c.__decorate([d.Hb({methodName:"processViewableResponse"})],t.prototype,"yG",null);return t;})();b.GFa=q;q=(function(t){function w(v,u,x,y){void 0 === y && (y="CphAsePlaygraph");y=t.call(this,v,u,x,y,!0) || this;y.context=v;y.gab=u;y.Cdb=x;v.pd.eh(new g.HFa(y));return y;}c.__extends(w,t);w.prototype.yG=function(v){var u,x;u=t.prototype.yG.call(this,v);if(u){x=v.pa.Hn;x && !this.pla && (this.sla.vv({applyingContentPlaygraph:!0}),this.pla=x,this.ktb=this.HCb(v.pa),this.o1());}return u;};Object.defineProperties(w.prototype,{O4a:{get:function(){return this.ktb;},enumerable:!1,configurable:!0}});w.prototype.Hsa=function(){var v;if(this.pla){v=this.context.rj.la;v=c.__assign(c.__assign({},v),{P:c.__assign({},v.P)});return k.dxa(v,this.Hn);}};w.prototype.HCb=function(v){var u,x;u=v.xWa;x=v.jK;return !(!u || !u.some(function(y){return y.jK !== x;}));};Object.defineProperties(w.prototype,{Hn:{get:function(){var v;return null === (v=this.pla) || void 0 === v?void 0:v.la;},enumerable:!1,configurable:!0}});c.__decorate([d.Hb({methodName:"processViewableResponse"})],w.prototype,"yG",null);return w;})(q);b.FFa=q;b.cya=function(t,w){var v;v=[];return {KG:function(u,x){var y,z;if(!x && w().noa && w().noa !== u){x=w().Yj;y=w().noa;m.assert(y,"did not receive parent viewable id");x={TW:{Yj:x,cL:y}};}z=t(u,x);v.forEach(function(A){return A({M:u,sH:z.sH});});return z;},Yfb:function(u){v.push(u);}};};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ija="PboPlaydataFactorySymbol";},function(q){q.exports=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},function(q,b,a){var g,f,d,h;function c(m,l,n){for(var p=n.next();!p.done;){if((l=m["@@transducer/step"](l,p.value)) && l["@@transducer/reduced"]){l=l["@@transducer/value"];break;}p=n.next();}return m["@@transducer/result"](l);}function k(m,l,n,p){return m["@@transducer/result"](n[p](d(m["@@transducer/step"],m),l));}g=a(1175);f=a(1177);d=a(1178);h="undefined" !== typeof Symbol?Symbol.iterator:"@@iterator";q.exports=function(m,l,n){"function" === typeof m && (m=f(m));if(g(n)){for(var p=0,r=n.length;p < r;){if((l=m["@@transducer/step"](l,n[p])) && l["@@transducer/reduced"]){l=l["@@transducer/value"];break;}p+=1;}return m["@@transducer/result"](l);}if("function" === typeof n["fantasy-land/reduce"])return k(m,l,n,"fantasy-land/reduce");if(null != n[h])return c(m,l,n[h]());if("function" === typeof n.next)return c(m,l,n);if("function" === typeof n.reduce)return k(m,l,n,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(q){q.exports=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(c){return a.apply(this,arguments);};case 2:return function(c,k){return a.apply(this,arguments);};case 3:return function(c,k,g){return a.apply(this,arguments);};case 4:return function(c,k,g,f){return a.apply(this,arguments);};case 5:return function(c,k,g,f,d){return a.apply(this,arguments);};case 6:return function(c,k,g,f,d,h){return a.apply(this,arguments);};case 7:return function(c,k,g,f,d,h,m){return a.apply(this,arguments);};case 8:return function(c,k,g,f,d,h,m,l){return a.apply(this,arguments);};case 9:return function(c,k,g,f,d,h,m,l,n){return a.apply(this,arguments);};case 10:return function(c,k,g,f,d,h,m,l,n,p){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yja="PlaybackSegmentDataFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.dja="ManifestParserFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.ria="HLSConfigSymbol";},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});q=a(298);c=a(167);b.YFa=c;c=a(506);b.mI=c;c=a(510);b.lWa=c;b.HU=q.mk.Ba.sidx;q=a(1218);b.uo=q.uo;q=a(306);b.mm=q.mm;q=a(1222);b.kn=q.kn;b.bu=q.bu;q=a(1223);b.lA=q.lA;q=a(94);b.Uk=q.Uk;a=a(1224);b.oi=a.oi;},function(q,b,a){var G,E,I,K,L,H,P,N,J,M,O,Q,T,V,da,pa,xa,ya,sa,X,S,R,W,ia,za,Ra,Fa,$a,Ta,Xa,eb,rb;function c(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function k(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function g(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function f(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);this.lx=U.config.lx;this.ed=this.sizes=void 0;}function d(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function h(){for(var U=new DataView(this),fa="",la,wa=0;wa < this.byteLength;wa++){la=U.getUint8(wa);fa+=("00" + la.toString(16)).slice(-2);}return fa;}function m(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function l(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function n(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function p(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function r(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function t(U){function fa(la,wa,Ka,ab,ob){K.call(this,la,wa,Ka,ab,ob);this.jG=U;}fa.wa=!1;fa.prototype=new K();fa.prototype.constructor=fa;Object.defineProperties(fa.prototype,{tD:{get:function(){return this.jG;}}});fa.prototype.parse=function(){this.l.console.trace("renaming '" + this.type + "' to draft type '" + this.jG + "'");this.l.offset=this.startOffset + 4;this.Y.tH(this.tD);this.type=this.tD;return !0;};return fa;}function w(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function v(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function u(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function x(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function y(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function z(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function A(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function B(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function D(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function C(U,fa,la,wa,Ka){K.call(this,U,fa,la,wa,Ka);}function F(U,fa){U.forEach(function(la){fa[la.Xa]=la;});}G=a(166).assert;b=a(111);E=a(299).O;I=a(506);a(167);a(94);a(94);a(94);K=a(29).yb;L=a(1201).default;H=a(1202).default;P=a(1203).default;N=a(1204).default;J=a(1205).default;M=a(1206).default;O=a(1207).default;Q=a(1208).default;T=a(1209).default;a(300);a(202);V=a(507).$S;da=a(507).ET;pa=a(1210).default;xa=a(1211).default;ya=a(95).default;sa=a(95).bT;X=a(95).cT;S=a(95).dT;R=a(95).eT;W=a(1212).default;ia=a(1213).default;za=a(95).YT;Ra=a(95).QT;Fa=a(95).aT;$a=a(1214).default;Ta=a(1215).default;Xa=a(1216).default;eb=a(508).default;rb=a(509).default;a(168);a(303);a(304);a(302);a=a(1217).default;c.wa=!0;c.prototype=new K();c.prototype.constructor=c;k.wa=!0;k.prototype=new K();k.prototype.constructor=k;g.wa=!1;g.prototype=new K();g.prototype.constructor=g;g.prototype.parse=function(U){var fa;this.tb();1 === this.version?(this.l.xc(),this.l.xc(),this.I=this.l.ba(),this.duration=this.l.xc()):(this.l.ba(),this.l.ba(),this.I=this.l.ba(),this.duration=this.l.ba());fa=this.l.lb() & 32767;this.language=String.fromCharCode(96 + (fa >>> 10),96 + (fa >>> 5 & 31),96 + (fa & 31));U && U.Ya && (U.Ya.I=this.I,U.Ya.duration=this.duration);return !0;};f.wa=!1;f.prototype=new K();f.prototype.constructor=f;f.prototype.MV=function(){this.tb();this.l.ba();this.I=this.l.ba();0 === this.version?(this.jF=this.l.ba(),this.rF=this.l.ba()):(this.jF=this.l.xc(),this.rF=this.l.xc());this.fAa=this.l.lb();this.HG=this.l.lb();};f.prototype.hV=function(U,fa){var la,wa,Ka;la=this.I;U=U && U.I || la;wa=U / la;la=this.l.Uq(fa,12,!1);Ka=1 === wa?this.l.Uq(fa,12,!1):I.from(Uint32Array,{length:fa},function(){var ab;ab=Math.round(this.l.ba() * wa);this.l.offset+=8;return ab;},this);this.jW(fa,Ka,la,U);};f.prototype.jW=function(U,fa,la,wa){if(this.lx){wa=this.lx * wa / 1E3;for(var Ka=0,ab=1;ab < U;ab++){Math.abs(fa[Ka] - wa) > Math.abs(fa[Ka] + fa[ab] - wa)?(fa[Ka]+=fa[ab],la[Ka]+=la[ab]):(++Ka,Ka !== ab && (fa[Ka]=fa[ab],la[Ka]=la[ab]));}++Ka;fa=new Uint32Array(fa.buffer.slice(0,4 * Ka));la=new Uint32Array(la.buffer.slice(0,4 * Ka));}this.sizes=la;this.ed=fa;};f.prototype.parse=function(U){var fa,la,wa,Ka;this.MV();this.$=U.$;fa=this.I;la=this.$ && this.$.I || fa;wa=this.HG;Ka=this.startOffset + this.length + this.rF;fa=new E(this.jF,fa).Yc(la).qa;this.Z={I:la,Fk:fa,offset:Ka};this.hV(this.$,wa);this.Z.ed=this.ed;this.Z.sizes=this.sizes;U.dr=this;return !0;};d.wa=!1;d.prototype=new K();d.prototype.constructor=d;d.prototype.parse=function(){var U;this.vh=[];this.V0=[];U=(this.length - 11) / 2;this.l.Aa();this.l.Aa();this.l.Aa();for(var fa=0;fa < U;fa++){this.vh.push(this.l.Aa());this.V0.push(this.l.Aa());}return !0;};m.wa=!1;m.prototype=new K();m.prototype.constructor=m;m.prototype.parse=function(U){var fa;this.tb();this.l.offset+=1;if(0 == this.version)this.l.offset+=1;else {fa=this.l.Aa();this.WX=fa >> 4;this.$X=fa & 15;U && U.Ya && (U.Ya.$Za=this.WX,U.Ya.c_a=this.$X);}this.YE=this.l.Aa();this.XE=this.l.Aa();this.Cw=this.l.offset;this.gi=this.l.Wq(16);this.gi.toString=h;U && U.Ya && (U.Ya.b_a=this.YE,U.Ya.QX=this.XE,U.Ya.a_a=this.gi);1 == this.YE && 0 == this.XE && (this.VX=this.l.Aa(),this.UX=this.l.Wq(this.VX),U && U.Ya && (U.Ya.PX=this.UX));return !0;};l.wa=!1;l.prototype=new K();l.prototype.constructor=l;l.prototype.parse=function(){this.tb();this.Ld=this.l.lb();this.P_=this.l.Uq(this.Ld,void 0,!0);return !0;};n.wa=!1;n.prototype=new K();n.prototype.constructor=n;n.prototype.parse=function(U){var fa,la,wa,Ka,ab,ob;fa=U.dr;G(fa);U=U.$;la=fa.I;fa=fa.HG;G(U);G(la);G(fa);this.tb();G(2 > this.version);this.Ld=this.l.lb();this.$n=new Uint16Array(fa + 1);wa=U.cQ(la);Ka=wa / la;ab=U.Yc(wa).qa;if(0 === this.version)for((this.eo=new Uint16Array(),this.Pc=new Uint32Array(),U=la=0);U <= fa;++U){if((this.$n[U]=la,U < this.Ld)){ob=this.l.Aa();if(0 !== ob)for(wa=0;wa < ob;(++wa,++la)){this.eo[la]=Math.floor((this.l.ba() + 1) * Ka) / ab;this.Pc[la]=this.l.ba();}}}else if(1 === this.version)for((wa=this.l.x1(this.Ld,10,!1),this.l.offset+=4,this.Pc=this.l.Uq(this.Ld,10,!1),this.l.offset-=8,this.eo=I.from(Uint16Array,{length:this.Ld},function(){var mb;mb=Math.floor((this.l.ba() + 1) * Ka) / ab;this.l.offset+=6;return mb;},this),la=U=0);U <= fa;++U){for(;la < wa.length && wa[la] < U;){++la;}this.$n[U]=la;}this.Eh={$n:this.$n,eo:this.eo,Pc:this.Pc};return !0;};p.wa=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;r.wa=!0;r.prototype=Object.create(c.prototype);r.prototype.constructor=r;r.prototype.Nn=function(){var U;U=this.Ae("tfhd");U && (this.Ee=U.EE?U.Ee:this.parent.startOffset);return !0;};w.wa=!1;w.prototype=new K();w.prototype.constructor=w;w.prototype.parse=function(){var U,Jb;U=this.l.offset;this.tb();if(1 === this.version){this.l.console.trace("translating vpcC box to draft equivalent");this.l.offset+=2;for(var fa=this.l.offset,la=this.l.Aa(),wa=this.l.Aa(),Ka=this.l.Aa(),ab=this.l.Aa(),ob=this.l.lb(),mb=[],Gb=0;Gb < ob;++Gb){mb=this.l.Aa();}Gb=(la & 240) >>> 4;Jb=(la & 14) >>> 1;la&=1;Ka=16 === Ka?1:0;wa != ab && this.l.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + wa + " and matrixCoefficients " + ab + " should be the same value!");ab=2;switch(wa){case 1:ab=2;break;case 6:ab=1;break;case 9:ab=5;break;default:this.l.console.warn("VP9: Unknown colourPrimaries " + wa + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.Y.ur(this.version,U);this.Y.ur(Gb << 4 | ab,fa++);this.Y.ur(Jb << 4 | Ka << 1 | la,fa++);ob+=2;mb.push(0,0);this.Y.N3(ob,!1);fa+=2;mb.forEach(function(Qb){this.Y.ur(Qb,fa++);});}return !0;};v.wa=!1;v.prototype=new K();v.prototype.constructor=v;v.Xa="tfhd";Object.defineProperties(v.prototype,{EE:{get:function(){return this.flags & 1;}},b2:{get:function(){return this.flags & 2;}},XX:{get:function(){return this.flags & 8;}},ZX:{get:function(){return this.flags & 16;}},$E:{get:function(){return this.flags & 32;}}});v.prototype.parse=function(U){this.tb();this.cn=this.l.ba();this.Ee=this.EE?this.l.xc():void 0;this.MG=this.b2?this.l.ba():void 0;this.Bi=this.XX?this.l.ba():void 0;this.Di=this.ZX?this.l.ba():void 0;this.Ci=this.$E?this.l.ba():void 0;U && U.T && (U.T.cn=this.cn,U.T.Ee=this.Ee,U.T.MG=this.MG,U.T.Bi=this.Bi,U.T.Di=this.Di,U.T.Ci=this.$E?this.Ci:void 0);return !0;};u.wa=!1;u.prototype=new K();u.prototype.constructor=u;u.prototype.parse=function(U){this.tb();this.$j=1 === this.version?this.l.xc():this.l.ba();U && U.T && (U.T.$j=this.$j);return !0;};u.prototype.na=function(U){var fa;fa=this.startOffset + 12;this.$j+=U;1 === this.version?this.Y.O3(this.$j,fa):this.Y.ie(this.$j,fa);};x.wa=!1;x.prototype=new K();x.prototype.constructor=x;Object.defineProperties(x.prototype,{WE:{get:function(){return this.flags & 1;}},aw:{get:function(){return this.flags & 4;}},Sm:{get:function(){return this.flags & 256;}},Um:{get:function(){return this.flags & 512;}},ex:{get:function(){return this.flags & 1024;}},$q:{get:function(){return this.flags & 2048;}}});x.prototype.parse=function(U){var fa,la;this.tb();this.HE=this.l.offset;this.Ka=this.l.ba();this.ee=this.WE?this.l.Xq():0;this.aw && this.l.ba();this.Rm=(this.Sm?4:0) + (this.Um?4:0) + (this.ex?4:0) + (this.$q?4:0);this.uq=this.l.offset;G(this.WE,"Expected data offset to be present in Track Run");G(this.length - (this.l.offset - this.startOffset) === this.Ka * this.Rm,"Expected remaining data in box to be sample information");if(U && U.T){U.T.ee=this.ee;U.T.Ka=this.Ka;this.ad=[];for(fa=0;fa < this.Ka;fa++){la={};la.Bk=this.Sm?this.l.ba():U.T.Bi;this.Um?la.Ne=this.l.ba():U.T && (la.Ne=U.T.Di);this.ex?la.NG=this.l.ba():U.T && (la.NG=U.T.Ci);this.$q && (la.Jdb=0 === this.version?this.l.ba():this.l.Xq());this.ad.push(la);U.T.ad=this.ad;if(U.T.Ak)for((G(U.T.Ak.length === U.T.ad.length),la=0);la < U.T.ad.length;la++){U.T.ad[la].Wu=U.T.Ak[la].Wu;U.T.ad[la].ox=U.T.Ak[la].ox;}}}return !0;};x.prototype.vm=function(U,fa,la){var wa,Ka,ab;wa=this.Sm?this.l.ba():U.Bi;Ka=this.Um?this.l.ba():U.Di;U=this.ex?this.l.ba():U.Ci;ab=0 === this.version?this.$q?this.l.ba():0:this.$q?this.l.Xq():0;return {a2:ab,NG:U,Ibb:la + ab - (void 0 !== fa?fa:ab),Ne:Ka,Bk:wa};};x.prototype.na=function(U,fa,la,wa,Ka,ab,ob){var mb,Gb,Jb,Qb;mb=0;Gb=0;this.Y.offset=this.uq;for(wa=0;wa < Ka;++wa){Jb=this.vm(fa,Qb,Gb);if(0 == wa)Qb=Jb.a2;mb+=Jb.Ne;Gb+=Jb.Bk;}wa=Ka;Ka=this.l.offset;Jb=this.vm(fa,Qb,Gb);this.Ek=wa;this.w2=Gb;if(ob){if((this.zk=this.ee + mb,this.Rf=0,wa === this.Ka))return !0;}else if((this.zk=this.ee,this.Rf=mb,0 === wa))return !0;if(0 === wa || wa === this.Ka)return !1;this.qq=!0;if(ob){this.Rf+=Jb.Ne;for(ob=wa + 1;ob < this.Ka;++ob){Jb=this.vm(fa,Qb,Gb);this.Rf+=Jb.Ne;}this.Y.offset=this.HE;this.Ka=wa;this.Y.ie(this.Ka);this.Y.wx(ab);this.aw && (this.l.offset+=4);this.Rc(this.length - (Ka - this.startOffset),Ka);}else (fa=Ka - this.uq,this.Y.offset=this.HE,this.Ka-=wa,this.Y.ie(this.Ka),this.ee+=mb,this.Y.wx(ab,this.ee),this.aw && (this.l.offset+=4),this.Rc(fa,this.Y.offset));la.Rc(this.Rf,U.Ee + this.zk);return !0;};x.prototype.K1=function(U,fa,la,wa,Ka,ab){var mb;if(wa){wa=this.zk;for(var ob=this.Ka - 1;0 <= ob && this.Ka - ob <= Ka;--ob){this.Y.offset=this.uq + ob * this.Rm;mb=this.vm(fa);if(mb.Bk != ab.duration){this.l.console.warn("Could not replace sample of duration " + mb.Bk + " with silence of duration " + ab.duration);break;}if(this.Um)(this.Y.offset-=this.Rm - (this.Sm?4:0),this.Y.ie(ab.pg.byteLength));else if(ab.pg.byteLength !== mb.Ne){this.l.console.warn("Cannot replace sample with default size with silence of different size");break;}wa-=mb.Ne;la.Pm(mb.Ne,ab.pg,U.Ee + wa);}}else for((wa=this.zk + this.Rf,ob=0);ob < this.Ka && ob < Ka;++ob){this.Y.offset=this.uq + (ob + this.Ek) * this.Rm;mb=this.vm(fa);if(mb.Bk != ab.duration){this.l.console.warn("Could not replace sample of duration " + mb.Bk + " with silence of duration " + ab.duration);break;}if(this.Um)(this.Y.offset-=this.Rm - (this.Sm?4:0),this.Y.ie(ab.pg.byteLength));else if(ab.pg.byteLength !== mb.Ne){this.l.console.warn("Cannot replace sample with default size with silence of different size");break;}la.Pm(mb.Ne,ab.pg,U.Ee + wa);wa+=mb.Ne;}};y.wa=!1;y.prototype=Object.create(K.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{yi:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(U){this.tb();this.yi && this.l.rh();this.yi && this.l.ba();this.YX=this.l.Aa();this.Ka=this.l.ba();this.UZ=this.l.Vq(this.Ka);U && U.T && (U.T.c2=this.UZ);return !0;};y.prototype.na=function(U,fa){if(U && 0 === this.YX){U=fa?this.Ka - U:U;this.Y.offset=this.startOffset + 13 + (this.yi?8:0);this.Ka-=U;this.Y.ie(this.Ka);this.cx=0;if(fa)this.Y.offset+=this.Ka;else {for(fa=0;fa < U;++fa){this.cx+=this.Y.Aa();}this.Y.offset-=U;}this.Rc(U,this.l.offset);}return !0;};z.wa=!1;z.prototype=Object.create(K.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{yi:{get:function(){return this.flags & 1;}}});z.prototype.parse=function(U){var fa,la,Gb,Jb;this.tb();this.yi && this.l.rh();this.yi && this.l.ba();this.Ld=this.l.ba();G(1 === this.Ld,"Expected a single entry in Sample Auxiliary Information Offsets box");this.ee=0 === this.version?this.l.Xq():this.l.A1();this.l.offset=this.ee;if(U && U.T){fa=U.Ya.QX;la=U.T.c2;G(0 < fa || void 0 !== U.Ya.PX,"Expected per sample or constant IV");G(la && 0 < la.length,"Expected saix box parsing to find sample info sizes");U.T.Ak=[];for(var wa=0;wa < la.length;wa++){for(var Ka=fa?this.l.Wq(fa):void 0,ab=[],ob=this.l.lb(),mb=0;mb < ob;mb++){Gb=this.l.lb();Jb=this.l.ba();ab.push({fX:Gb,gX:Jb});}U.T.Ak.push({ox:ab,Wu:Ka});}}return !0;};z.prototype.na=function(U,fa){this.ee+=U;this.Y.offset=this.startOffset + 16 + (this.yi?8:0) + (0 === this.version?0:4);this.Y.wx(fa,this.ee);return !0;};A.wa=!1;A.prototype=Object.create(K.prototype);A.prototype.constructor=A;Object.defineProperties(A.prototype,{oG:{get:function(){return this.flags & 1;}},nH:{get:function(){return this.flags & 2;}}});A.prototype.parse=function(U){var fa,ob,mb;this.tb();fa=0;this.oG && (fa=this.l_=this.l.ba() & 255,this.l.Vq(16));if(U && U.T){if(U.T.Ak)return;U.T.ad || (U.T.ad=[]);}if(0 !== fa && 8 !== fa && 16 !== fa)return !0;this.Ka=this.l.ba();if(U && U.T)for(var la=0;la < this.Ka;la++){if((U.T.ad[la].Wu=0 < fa?this.l.Wq(fa):void 0,this.nH)){for(var wa=[],Ka=this.l.lb(),ab=0;ab < Ka;ab++){ob=this.l.lb();mb=this.l.ba();wa.push({fX:ob,gX:mb});}U.T.ad[la].ox=wa;}}return !0;};A.prototype.na=function(U,fa){var la,wa;la=fa?this.Ka - U:U;this.Y.offset=this.startOffset + 28 + (this.oG?20:0);this.Ka-=la;this.Y.ie(this.Ka);U=this.Y.offset;if(this.nH)for(la=fa?this.Ka:la;0 < la;--la){this.Y.offset+=8;wa=this.Y.lb();this.Y.offset+=6 * wa;}else this.Y.offset+=8 * (fa?this.Ka:la);fa?this.Rc(this.length - (this.l.offset - this.startOffset),this.l.offset):this.Rc(this.l.offset - U,U);};B.wa=!1;B.prototype=Object.create(K.prototype);B.prototype.constructor=B;B.prototype.parse=function(U){this.tb();if(U && U.T){void 0 === U.T.ad && (U.T.ad=[]);for(var fa=0;fa < this.length - 12;fa++){U.T.ad[fa].Kdb=this.l.Aa();}}return !0;};B.prototype.na=function(U,fa,la){la?this.Rc(fa - U,this.startOffset + 12 + U):this.Rc(U,this.startOffset + 12);return !0;};D.wa=!1;D.prototype=Object.create(K.prototype);D.prototype.constructor=D;D.prototype.parse=function(){this.tb();this.l.rh();1 === this.version && this.l.ba();this.Ld=this.l.ba();this.Tm=[];for(var U=0;U < this.Ld;++U){for(var fa=this.l.ba(),la=this.l.ba(),wa=0;wa < fa;++wa){this.Tm.push(la);}}return !0;};D.prototype.na=function(U,fa){this.Tm=fa?this.Tm.slice(0,U):this.Tm.slice(U);U=this.Tm.reduce(function(la,wa){0 !== la.length && la[la.length - 1].group === wa || la.push({group:wa,count:0});++la[la.length - 1].count;return la;},[]);this.Y.offset=this.startOffset + 16 + (1 === this.version?4:0);this.Y.ie(U.length);U.forEach((function(la){this.Y.ie(la.count);this.Y.ie(la.group);}).bind(this));this.Ld > U.length && this.Rc(8 * (this.Ld - U.length));this.Ld=U.length;return !0;};C.wa=!1;C.prototype=Object.create(K.prototype);C.prototype.constructor=C;ya={Ba:{moov:k,trak:c,mdia:c,mdhd:g,minf:c,encv:ya,schi:c,sidx:f,sinf:c,stbl:c,tenc:m,mvex:c,moof:p,traf:r,tfhd:v,trun:x,sbgp:D,sdtp:B,saiz:y,saio:z,tfdt:u,mdat:C,vmaf:d},i3:{vpcC:w,SmDm:t("smdm"),CoLL:t("coll")},kH:{schm:W},dx:{}};F([ia,M,O,Q,za,Ra,Fa,L,N,eb,rb,J,T,H,P,a],ya.Ba);F([V,pa,sa,X,S,R,da,xa,Ta,$a],ya.dx);F([ia,W],ya.kH);ya.Ba[b.OD]=m;ya.Ba[b.Hp]=l;ya.Ba[b.Gp]=n;ya.Ba[b.ND]=A;ya.dx[b.$u]=Xa;ya.yb=K;q.exports={mk:ya};},function(q,b){function a(k,g){return "number" !== typeof k || "number" !== typeof g?!1:k && g?Math.abs(k * g / c(k,g)):0;}function c(k,g){var f;k=Math.abs(k);for(g=Math.abs(g);g;){f=g;g=k % g;k=f;}return k;}Object.defineProperty(b,"__esModule",{value:!0});q=(function(){function k(g,f){"object" === typeof g?(this.Yb=g.qa,this.gb=g.I):(this.Yb=g,this.gb=f);}k.Sa=function(g){return new k(g,1E3);};k.zS=function(g,f){return Math.floor(1E3 * g / f);};k.ida=function(g,f){return Math.floor(g * f / 1E3);};k.max=function(){for(var g=[],f=0;f < arguments.length;f++){g[f]=arguments[f];}return g.reduce(function(d,h){return d.greaterThan(h)?d:h;});};k.min=function(){for(var g=[],f=0;f < arguments.length;f++){g[f]=arguments[f];}return g.reduce(function(d,h){return d.lessThan(h)?d:h;});};k.Nt=function(g,f){var d;if(g.I === f.I)return new k(c(g.qa,f.qa),g.I);d=a(g.I,f.I);return k.Nt(g.Yc(d),f.Yc(d));};Object.defineProperties(k.prototype,{qa:{get:function(){return this.Yb;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{I:{get:function(){return this.gb;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{V:{get:function(){return 1E3 * this.Yb / this.gb;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{Nh:{get:function(){return this.Yb / this.gb;},enumerable:!0,configurable:!0}});k.prototype.Yc=function(g){g/=this.I;return new k(Math.floor(this.qa * g),Math.floor(this.I * g));};k.prototype.add=function(g){var f;if(this.I === g.I)return new k(this.qa + g.qa,this.I);f=a(this.I,g.I);return this.Yc(f).add(g.Yc(f));};k.prototype.Ia=function(g){return this.add(new k(-g.qa,g.I));};k.prototype.wC=function(g){return new k(this.qa * g,this.I);};k.prototype.Dj=function(g){var f;if(this.I === g.I)return this.qa / g.qa;f=a(this.I,g.I);return this.Yc(f).Dj(g.Yc(f));};k.prototype.cQ=function(g){return a(this.I,g);};k.prototype.Cea=function(){return new k(this.I,this.qa);};k.prototype.compare=function(g,f){var d;if(this.I === f.I)return g(this.qa,f.qa);d=a(this.I,f.I);return g(this.Yc(d).qa,f.Yc(d).qa);};k.prototype.equal=function(g){return this.compare(function(f,d){return f === d;},g);};k.prototype.n0=function(g){return this.compare(function(f,d){return f !== d;},g);};k.prototype.lessThan=function(g){return this.compare(function(f,d){return f < d;},g);};k.prototype.greaterThan=function(g){return this.compare(function(f,d){return f > d;},g);};k.prototype.DK=function(g){return this.compare(function(f,d){return f <= d;},g);};k.prototype.ms=function(g){return this.compare(function(f,d){return f >= d;},g);};k.prototype.toJSON=function(){return {ticks:this.qa,timescale:this.I};};k.prototype.toString=function(){return this.qa + "/" + this.I;};k.ib=new k(0,1);k.Lw=new k(1,1E3);return k;})();b.O=q;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=a(29);k=a(29);a=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}c.__extends(f,g);f.prototype.parse=function(d){this.l.offset+=6;this.l.lb();k.aa && this.l.console.trace("VideoSampleEntry sampleEntryType: " + this.type);if(null === d || void 0 === d?0:d.Ya)d.Ya.Idb=this.type;return !0;};return f;})(q.yb);b.default=a;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});q=a(23);q.__exportStar(a(168),b);q.__exportStar(a(302),b);q.__exportStar(a(303),b);q.__exportStar(a(304),b);q=a(303);c=a(304);a=a(302);b.bk={3:a.xD,4:q.uD,5:c.CT};},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);k=a(29);q=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}c.__extends(f,g);f.prototype.parse=function(d){var h;this.HT=this.l.lb();h=this.l.Aa();this.$G=! !(h & 128);this.UD=! !(h & 64);this.MD=! !(h & 32);this.I2=h & 31;this.bY=this.$G?this.l.lb():void 0;this.UD && this.l.Vq(this.l.Aa());this.tU=this.MD?this.l.lb():void 0;k.aa && this.l.console.trace("ESDescriptor: ES_ID=" + this.HT + ", streamDependenceFlag=" + this.$G + ", URL_Flag=" + this.UD + ", OCRstreamFlag=" + this.MD + ", streamPriority=" + this.I2 + ", dependsOn_ES_ID=" + this.bY + ", OCR_ES_Id=" + this.tU);this.lE(d);return !0;};f.tag=3;return f;})(a(168).Su);b.xD=q;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);k=a(29);q=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}c.__extends(f,g);f.prototype.parse=function(d){var h;this.Nq=this.l.Aa();h=this.l.Aa();this.nx=h >>> 2;this.ux=h >>> 1 & 1;this.Dv=256 * this.l.lb() + this.l.Aa();this.maxBitrate=this.l.ba();this.bq=this.l.ba();k.aa && this.l.console.trace("DecoderConfigDescriptor: objectTypeIndication= 0x" + this.Nq.toString(16) + ", streamType=" + this.nx + ", upStream=" + this.ux + ", bufferSizeDB=" + this.Dv + ", maxBitrate=" + this.maxBitrate + ", avgBitrate=" + this.bq);if(null === d || void 0 === d?0:d.wc)(d.wc.Nq=this.Nq,d.wc.nx=this.nx,d.wc.ux=this.ux,d.wc.Dv=this.Dv,d.wc.maxBitrate=this.maxBitrate,d.wc.bq=this.bq);this.lE(d);return !0;};f.tag=4;return f;})(a(168).Su);b.uD=q;},function(q,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);k=a(29);q=a(168);g=a(301);a=(function(f){function d(){return null !== f && f.apply(this,arguments) || this;}c.__extends(d,f);d.prototype.FG=function(){var h;h=this.l.sb(4);return 15 !== h?[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350][h]:this.l.sb(24);};d.prototype.parse=function(h,m){if(this.b_(m) && 64 === m.Nq){this.De=this.DG();this.Ck=this.FG();this.Gv=this.l.sb(4);this.gx=this.Cm=5 === this.De || 29 === this.De?5:-1;this.Yw=29 === this.De?1:-1;0 < this.Cm && (this.Yv=this.FG(),this.De=this.DG(),22 === this.De && (this.Xv=this.l.sb(4)));switch(this.De){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.Em=this.l.sb(1),this.Lv=(this.aY=this.l.sb(1))?this.l.sb(14):void 0,this.l.sb(1),this.Gi=3 === this.De?256:23 === this.De?this.Em?480:512:this.Em?960:1024);}k.aa && this.l.console.trace("AudioSpecificConfig: audioObjectType=" + this.De + ", samplingFrequency=" + this.Ck + ", channelConfiguration=" + this.Gv + ", extensionAudioObjectType=" + this.Cm + ", sbrPresentFlag=" + this.gx + ", psPresentFlag=" + this.Yw + ", extensionSamplingFrequency=" + this.Yv + ", extensionChannelConfiguration=" + this.Xv + ", frameLengthFlag=" + this.Em + ", coreCoderDelay=" + this.Lv + ", frameLength=" + this.Gi);if(null === h || void 0 === h?0:h.wc)(h.wc.De=this.De,h.wc.Ck=this.Ck,h.wc.Gv=this.Gv,h.wc.Cm=this.Cm,h.wc.gx=this.gx,h.wc.Yw=this.Yw,h.wc.Yv=this.Yv,h.wc.Xv=this.Xv,h.wc.Em=this.Em,h.wc.Lv=this.Lv,h.wc.Gi=this.Gi);}this.skip();return !0;};d.prototype.DG=function(){var h;h=this.l.sb(5);31 === h && (h=32 + this.l.sb(6));return h;};d.prototype.b_=function(h){return h.tag === g.uD.tag;};d.tag=5;return d;})(q.Su);b.CT=a;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var k;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(g,f){return g + f.byteLength;},0);k=new Uint8Array(c);a.reduce(function(g,f){k.set(new Uint8Array(f),g);return g + f.byteLength;},0);return k.buffer;};},function(q,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(511);k=a(298);g=a(512);q=(function(){function f(d,h,m){this.console=d;this.stream=h;this.view=m instanceof ArrayBuffer?new DataView(m):new DataView(m.data,m.offset,m.length);}f.prototype.parse=function(d){var h;h=new g.vD(this.view.byteLength);this.ub=new c.Ru(k.mk.Ba,h,this.view,this.console,{Mw:!0});d=this.ub.parse(d);this.Ba=this.ub.Ba;return d;};return f;})();b.mm=q;},function(q,b,a){var k,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.G4=void 0;k=a(45);g=a(129);c.Ft=function(){var f;f={};return (f[k.H.GH]="avc1.4D401E",f[k.H.HH]="avc1.4D401F",f[k.H.lia]="avc1.4D4028",f[k.H.WHa]="avc1.4D401E",f[k.H.XHa]="avc1.4D401F",f[k.H.YHa]="avc1.4D4028",f[k.H.nia]="hev1.2.6.L90.B0",f[k.H.oia]="hev1.2.6.L93.B0",f[k.H.pia]="hev1.2.6.L120.B0",f[k.H.qia]="hev1.2.6.L123.B0",f[k.H.l5]="hev1.2.6.L90.B0",f[k.H.o5]="hev1.2.6.L93.B0",f[k.H.r5]="hev1.2.6.L120.B0",f[k.H.u5]="hev1.2.6.L123.B0",f[k.H.RT]="hev1.2.6.L150.B0",f[k.H.ST]="hev1.2.6.L153.B0",f[k.H.m5]="hev1.2.6.L90.B0",f[k.H.p5]="hev1.2.6.L93.B0",f[k.H.s5]="hev1.2.6.L120.B0",f[k.H.v5]="hev1.2.6.L123.B0",f[k.H.x5]="hev1.2.6.L150.B0",f[k.H.z5]="hev1.2.6.L153.B0",f[k.H.k5]="hev1.2.6.L90.B0",f[k.H.n5]="hev1.2.6.L93.B0",f[k.H.q5]="hev1.2.6.L120.B0",f[k.H.t5]="hev1.2.6.L123.B0",f[k.H.w5]="hev1.2.6.L150.B0",f[k.H.y5]="hev1.2.6.L153.B0",f[k.H.S4]="hev1.2.6.L90.B0",f[k.H.V4]="hev1.2.6.L93.B0",f[k.H.PT]="hev1.2.6.L120.B0",f[k.H.a5]="hev1.2.6.L123.B0",f[k.H.d5]="hev1.2.6.L150.B0",f[k.H.g5]="hev1.2.6.L153.B0",f[k.H.T4]="hev1.2.6.L90.B0",f[k.H.W4]="hev1.2.6.L93.B0",f[k.H.Y4]="hev1.2.6.L120.B0",f[k.H.b5]="hev1.2.6.L123.B0",f[k.H.e5]="hev1.2.6.L150.B0",f[k.H.h5]="hev1.2.6.L153.B0",f[k.H.R4]="hev1.2.6.L90.B0",f[k.H.U4]="hev1.2.6.L93.B0",f[k.H.X4]="hev1.2.6.L120.B0",f[k.H.Z4]="hev1.2.6.L123.B0",f[k.H.c5]="hev1.2.6.L150.B0",f[k.H.f5]="hev1.2.6.L153.B0",f[k.H.t4]=g.$d.Iha,f[k.H.v4]=g.$d.XFa,f[k.H.AT]=g.$d.Jha,f[k.H.y4]=g.$d.Kha,f[k.H.A4]=g.$d.Lha,f[k.H.C4]=g.$d.Mha,f[k.H.Nha]=g.$d.Jha,f[k.H.Oha]=g.$d.Kha,f[k.H.Pha]=g.$d.Lha,f[k.H.Qha]=g.$d.Mha,f[k.H.u4]=g.$d.Iha,f[k.H.w4]=g.$d.XFa,f[k.H.x4]=g.$d.Jha,f[k.H.z4]=g.$d.Kha,f[k.H.B4]=g.$d.Lha,f[k.H.D4]=g.$d.Mha,f[k.H.UHa]="avc1.640016",f[k.H.KT]="avc1.64001E",f[k.H.MT]="avc1.64001F",f[k.H.jia]="avc1.640028",f[k.H.VHa]="avc1.640016",f[k.H.LT]="avc1.64001E",f[k.H.NT]="avc1.64001F",f[k.H.kia]="avc1.640028",f[k.H.Mka]=g.$d.PU,f[k.H.QU]=g.$d.PU,f[k.H.RU]=g.$d.PU,f[k.H.G6]=g.$d.PU,f[k.H.wDa]=g.$d.lm,f[k.H.xDa]=g.$d.lm,f[k.H.mD]=g.$d.lm,f[k.H.nD]=g.$d.lm,f[k.H.Y3]=g.$d.lm,f[k.H.Z3]=g.$d.lm,f[k.H.a4]=g.$d.lm,f[k.H.b4]=g.$d.lm,f);};b.G4=c;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.wd=void 0;q=b.wd || (b.wd={});q.Kzb="bitraterestriction";q.CXa="cdnsel";q.QO="chgstrm";q.debug="debug";q.iHb="dlreport";q.NJ="endplay";q.Wua="intrplay";q.aG="midplay";q.dea="playbackaborted";q.Tcb="renderstrmswitch";q.IR="repos";q.OR="resumeplay";q.n3b="serversel";q.XG="startplay";q.Efb="statechanged";q.transition="transition";q.Fyb="asereport";q.oWa="audioswitch";q.KWa="blockedautoplay";q.config="config";q.Mqa="dlreq";q.qgc="ftlProbeError";q.Q5b="subtitleerror";q.R5b="subtitleqoe";q.L6b="timedtextrebuffer";q.Ogb="timedtextswitch";q.qfb="speedchanged";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.uJa="IsTypeSupportedProviderFactorySymbol";b.wNa="PlatformIsTypeSupportedSymbol";},function(q,b,a){var k,g,f;function c(){this.type=k.Ax.oA;}Object.defineProperty(b,"__esModule",{value:!0});b.ED=void 0;k=a(30);q=a(131);g=a(101);f=new q.jI();c.TEb=function(){return {isTypeSupported:function(d){var h;try{if(-1 == d.toLowerCase().indexOf("codec"))return pb.MSMediaKeys.isTypeSupported(d,"video/mp4");h=d.split("|");return 1 === h.length?pb.MSMediaKeys.isTypeSupported(g.Kb.sA,d):"probably" === c.bCa(h[0],h[1]);}catch(m){return !1;}}};};c.F9=function(d,h,m){h=f.format(c.fga,h);if(0 === m.length)return h;m=f.format('features="{0}"',m.join());return f.format("{0}|{1}{2}",d,h,m);};c.bCa=function(d,h){var m;try{m=pb.MSMediaKeys.isTypeSupportedWithFeatures?pb.MSMediaKeys.isTypeSupportedWithFeatures(d,h):"";}catch(l){m="exception";}return m;};b.ED=c;c.fga='video/mp4;codecs="{0},mp4a";';},function(q,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Vg=void 0;b.Vg=a;a.$Ha=/^hevc-main/;a.ZHa=/^hevc-hdr-|hevc-dv/;a.HM=/^hevc-hdr-/;a.Ex=/^hevc-dv/;a.JT=/h264mpl/;a.GH=/h264mpl30/;a.HH=/h264mpl31/;a.oD=/h264hpl/;a.VD=/^vp9-/;a.lm=/^av1-/;a.MU=/-L5[0-1]-/;a.Lga=/^heaac-2-/;a.Vmb=/^heaac-2hq-dash/;a.yA=/^xheaac-dash/;a.ilb=/ddplus-2/;a.jlb=/ddplus-5/;a.klb=/ddplus-atmos/;},function(q,b){function a(c,k){var g;g=this;this.status={};c.forEach(function(f,d){g.status[f]=k[d];});}Object.defineProperty(b,"__esModule",{value:!0});b.f6=void 0;a.prototype.$P=function(){return this.status;};a.prototype.Laa=function(){return Object.entries(this.status).filter(function(c){c=ra(c);c.next();return c.next().value.supported;}).map(function(c){var k;c=ra(c);k=c.next().value;c.next();return k;});};b.f6=a;},function(q,b,a){var k,g,f,d,h,m,l;function c(n,p,r,t){var w;w=f.CH.call(this,n,p,k.oi.oRa,t) || this;w.config=n;w.lk=p;w.is=r;w.Jca=t;w.type=k.pm.Fx;w.j9b=d.$d.xZa();return w;}Object.defineProperty(b,"__esModule",{value:!0});b.Gx=void 0;k=a(30);g=a(45);f=a(523);q=a(131);d=a(129);h=a(307);m=a(110);l=a(312);new q.jI();na(c,f.CH);c.prototype.WL=function(){return Promise.resolve(!1);};c.prototype.TP=function(){return Promise.resolve("");};c.prototype.qaa=function(){return Promise.resolve("");};c.prototype.O2=function(){return this.config().ara?this.Jca.dva()?this.Jca.Hy(g.H.PT).then(function(n){return {result:n.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.Lfa=function(){return this.config().ara?this.Jca.dva()?this.Jca.Hy(g.H.AT).then(function(n){return {result:n.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.P2=function(){return Promise.resolve(!1);};c.prototype.M2=function(){return Promise.resolve(!1);};c.prototype.XY=function(n){return this.j9b[n];};c.prototype.sna=function(){};c.prototype.oUb=function(n){switch(n){case k.yr.I5:return "1.4";case k.yr.QH:return "2.2";}};c.prototype.Ft=function(){return h.G4.Ft();};c.prototype.U3a=function(){return (0,m.Bhb)(function(n,p){return n.name === p.name;},this.config().wVa,this.config().oo);};c.prototype.tZ=function(){return Promise.resolve(void 0);};c.prototype.Faa=function(){return Promise.resolve(void 0);};c.prototype.E9=function(n){var p;p=[];this.is.jh(n) && p.push(this.oUb(n));return [{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:p,isHdcpEngaged:! !p.length}];};c.prototype.DY=function(n){return this.config().tYb?Promise.resolve(new l.f6(n,n.map(function(){return {supported:!0};}))):f.CH.prototype.DY.call(this,n);};b.Gx=c;c.fga="video/mp4;codecs={0};";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.eia=b.iA=void 0;q=b.iA || (b.iA={});q.Wqb="unknown";q.yDa="absent";q.LOa="present";q.Error="error";b.eia="ExternalDisplayLogHelperSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.FIa="IDBDatabaseFactorySymbol";b.iJa="IndexedDBFactorySymbol";b.kJa="IndexedDBStorageFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.F6="TransportConfigSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.gUb=b.IQ=b.eUb=void 0;b.eUb=function(a){return a;};b.IQ=function(a){return a;};b.gUb=function(a){return Object.assign({},a);};},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t,w,v;function c(u,x,y,z,A,B,D,C,F,G,E,I,K,L,H,P,N,J,M,O,Q){this.j=u;this.trackId=x;this.Wy=y;this.oc=z;this.jj=A;this.Zgb=B;this.Ec=D;this.Sv=C;this.Nqa=F;this.Vf=G;this.displayName=E;this.Ti=I;this.UL=K;this.variant=L;this.CG=H;this.profile=P;this.Hw=N;this.aR=J;this.AKb=M;this.Pba=O;this.uw=Q;this.type=d.uj.Sfa;this.Iu=void 0;this.Zl=!(!P || P != m.pn.UM);this.Lh={bcp47:G,trackId:x,downloadableId:D,isImageBased:this.Zl};this.log=(0,h.hj)(u,"TimedTextTrack");this.state=v.S5;this.request=this.request.bind(this);}Object.defineProperty(b,"__esModule",{value:!0});b.kI=void 0;k=a(2);g=a(112);f=a(19);d=a(96);h=a(9);m=a(45);l=a(24);n=a(14);p=a(1279);r=a(18);t=a(3);w=a(1280);(function(u){u[u.S5=0]="NOT_LOADED";u[u.LOADING=1]="LOADING";u[u.PH=2]="LOADED";u[u.cU=3]="LOAD_FAILED";})(v || (v={}));c.prototype.tba=function(){var u;u=this;if(this.j.state.value === r.qc.CLOSED || this.j.state.value === r.qc.CLOSING)return Promise.reject({fa:!1});if(this.Zl)return this.QQb();this.O_a || (this.O_a=this.Q_a());return this.O_a.then(function(x){return u.SQb(x);});};c.prototype.getState=function(){return this.state;};c.prototype.rs=function(){return this.aR;};c.prototype.Gq=function(){return this.AKb;};c.prototype.nw=function(u,x){var y;try{return null === (y=this.XBa) || void 0 === y?void 0:y.nw(u,x);}catch(z){this.log.error("error in getSubtitlesCount",z,{start:u,end:x,isImageBased:this.Zl});}};c.prototype.hOb=function(){var u,x,y;if(!(0,n.Gd)(this.da))try{y=null === (x=null === (u=this.XBa) || void 0 === u?void 0:u.QP(0)) || void 0 === x?void 0:x[0];this.da=null === y || void 0 === y?void 0:y.displayTime;}catch(z){this.log.error("exception in getStartPts",z);}return this.da;};c.prototype.rfa=function(u){return this.j.state.value === r.qc.CLOSING || this.j.state.value === r.qc.CLOSED?(this.log.info("playback is closing, abort timed text retry",u),!1):this.j.Cc.value !== this?(this.log.info("timed text track was changed, abort timed text retry",u),!1):!0;};c.prototype.uZa=function(u){var x,y,z;x=this;y=(0,h.hj)(this.j,"TimedTextTrack");y.warn=y.trace.bind(y);y.info=y.debug.bind(y);y=(0,p.vZa)(this.j,y,this.request,this);z=new w.default(y,u);z.on("ready",function(){x.XBa=z;});return z;};c.prototype.QQb=function(){var u,x,y,z,A,B,D;u=this;if(!this.Q5a){this.state=v.LOADING;x={profile:"nflx-cmisc",url:"",vWa:!1,jxa:this.Hw.offset,A9a:this.Hw.length,Xd:this.j.mediaTime.value || 0,bufferSize:f.config.nQb,efa:{P:this.j.WY()}};y=(this.Nqa || []).filter(function(C){return (C.id in u.Sv);}).sort(function(C,F){return C.oc - F.oc;}).map(function(C){return C.id;});z=0;A={};B=!0;D=function(C,F){var G;if((0,n.Gd)(C)){if(B || u.rfa(u.kw(u.Qv,"","image"))){B=!1;u.Hw.url=u.Sv[u.Qv];x.url=u.Hw.url;A[C]=(A[C] || 0) + 1;G=u.uZa(x);G.on("ready",function(){F({fa:!0,track:u});});G.on("error",function(E){var I;E=Object.assign({fa:!1},E);I=u.kw(u.Qv,u.Hw.url,"image");I.details={midxoffset:u.Hw.offset,midxsize:u.Hw.length};I.errorstring=E.errorString;A[C] <= f.config.Mgb?(u.N$(I,!0,"retry with current cdn"),u.qoa(A[C]).then(function(K){u.log.trace("retry timed text download after " + K,u.kw(u.Qv,"","image"));D(u.Qv,F);})):(u.Qv=y[z++],u.Qv?(u.N$(I,!0,"retry with next cdn"),u.qoa(A[C]).then(function(K){u.log.trace("retry timed text download after " + K,u.kw(u.Qv,"","image"));D(u.Qv,F);})):(u.N$(I,!1,"all cdns tried"),F({fa:!1,fWb:"all cdns failed for image subs",track:u})));});G.start();}else F({fa:!1,aborted:!0});}else (F({fa:!1,fWb:"cdnId is not defined for image subs downloadUrl"}),u.N$(u.kw(0,"","image"),!1,"cdnId is undefined"));};this.Qv=y[z++];this.Q5a=new Promise(function(C,F){D(u.Qv,function(G){G.fa?(u.log.info("Loaded image subtitle manager"),u.state=v.PH,C(G)):(u.log.error("Unable to load image subtitles manager",G),u.state=v.cU,F(G));});});}return this.Q5a;};c.prototype.SQb=function(u){var x,y;x=this;y=this.j.qH.value;(0,l.Db)(y);return new Promise(function(z,A){var B;B=x.uZa({profile:x.profile,xml:u,Gh:f.config.Ngb,preferences:f.config.oCa,Xd:x.j.mediaTime.value || 0,vWa:!1,videoSize:y});B.on("ready",function(){z(B);}).on("error",function(D){A({fa:!1,error:D});}).start();}).then(function(){x.state=v.PH;return {fa:!0,track:x};}).catch(function(z){x.log.error("Unable to parse timed text track",(0,t.hA)(z),x.Lh,{url:z.url});x.state=v.cU;z.reason="parseerror";z.track=x;throw z;});};c.prototype.N$=function(u,x,y){u=Object.assign({},u,{gkc:x,status:y});this.j.fireEvent(r.ka.pS,u);this.log.warn("subtitleerror event",u);};c.prototype.request=function(u,x){var y,z,A;y=this;this.log.trace("Downloading",u);A=this.Fsa(this.Qv);u={url:u.url,offset:u.offset,length:u.size,Iu:this.Iu,responseType:g.OZ,headers:{},Hc:A,cF:"tt-" + this.Vf,xu:null !== (z=null === A || void 0 === A?void 0:A.type) && void 0 !== z?z:"unknown"};this.j.lba.download(u,function(B){y.log.trace("imgsub: request status " + B.fa);B.fa?x(null,new Uint8Array(B.content)):x({Ea:B.Ea,Xf:B.Xf});});};c.prototype.kw=function(u,x,y){return {currentCdnId:u,url:x,profile:this.profile,dlid:this.Ec,subtitletype:y,bcp47:this.Vf,trackId:this.trackId,cdnCount:Object.keys(this.Sv).length,isImageBased:this.Zl};};c.prototype.Fsa=function(u){return (this.Nqa || []).find(function(x){return x.id === u;});};c.prototype.Q_a=function(){var z,A;function u(B){return k.__awaiter(z,void 0,void 0,function C(){var F,G,E;G=this;return Ma(C,function(I){F=y();E=G.kw(B.Hc.id,B.url,"text");E.errorstring=B.reason;return F && G.rfa(E)?I.return(G.qoa(A[F.id]).then(x)):I.return(Promise.reject({fa:!1,aborted:!0}));});});}function x(){return k.__awaiter(z,void 0,void 0,function D(){var C,F,G;F=this;return Ma(D,function(E){G=(C=y()) && F.Sv[C.id];return C && G?(A[C.id]=(A[C.id] || 0) + 1,E.return(F.rHb(G,C).catch(u))):E.return(Promise.reject({}));});});}function y(){return (z.Nqa || []).find(function(B){return ! !((A[B.id] || 0) < f.config.Mgb && z.Sv[B.id]);});}z=this;this.state=v.LOADING;A={};return x();};c.prototype.qoa=function(u){return new Promise(function(x){var y;y=1E3 * Math.min(Math.pow(2,u - 1),8);setTimeout(function(){return x(y);},y);});};c.prototype.rHb=function(u,x){var y;y=this;this.log.trace("Downloading",x && ({Hc:x.id}),this.kw(x.id,u,"text"));return new Promise(function(z,A){var B;B={responseType:g.sua,url:u,track:y,Hc:x,cF:"tt-" + y.Vf,xu:x.type};y.j.lba.download(B,function(D){D.fa?z(D.content):(D=Object.assign(Object.assign({},D),{reason:"downloadfailed",url:B.url,track:y,Hc:x}),A(D));});});};Ya.Object.defineProperties(c.prototype,{jg:{configurable:!0,enumerable:!0,get:function(){return this.Zgb.jg;}},Uz:{configurable:!0,enumerable:!0,get:function(){return this.Zgb.Uz;}}});b.kI=c;c.RD=v;},function(q){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},wta:function(){return this.buffer.length - this.position;},KC:function(){return this.buffer[this.position++];},Sg:function(a){var c;c=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(c,this.position):a.slice(c,this.position);},Fs:function(a){for(var c=0;a--;){c=256 * c + this.buffer[this.position++];}return c;},Aza:function(a){for(var c="";a--;){c+=String.fromCharCode(this.buffer[this.position++]);}return c;},ii:function(){return this.Fs(2);},Gs:function(){return this.Fs(4);},BR:function(){return this.Fs(8);},yz:function(a){for(var c,k="";a--;){c=this.KC();k+=("0123456789ABCDEF")[c >>> 4] + ("0123456789ABCDEF")[c & 15];}return k;},Bza:function(a){for(var c=0,k=0;k < a;k++){c+=this.KC() << (k << 3);}return c;},AR:function(){return this.Bza(4);},Q3:function(a){this.TS(a,2);},lD:function(a){this.TS(a,4);},Gga:function(a){this.buffer[this.position++]=a;},TS:function(a,c){this.position+=c;for(var k=1;k <= c;k++){this.buffer[this.position - k]=a & 255;a=Math.floor(a / 256);}},kD:function(a){for(var c=0;c < a.length;c++){this.buffer[this.position++]=a.charCodeAt(c);}},P3:function(a){for(var c=a.length,k=0;k < c;k++){this.buffer[this.position++]=a[k];}},SS:function(a,c){this.P3(a.Sg(c));}};q.exports=b;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.eKa="LogMessageRulerConfigSymbol";b.gKa="LogMessageRulerSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.ija="MilestonesEventBuilderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gja="PboLicenseResponseTransformerSymbol";},function(q,b,a){var d,h,m,l,n,p;function c(r,t,w,v){this.La=r;this.EZ=t;this.Ma=w;this.profile=v;}function k(){}function g(){}function f(){}Object.defineProperty(b,"__esModule",{value:!0});b.fNa=b.b6=void 0;q=a(2);d=a(0);h=a(38);m=a(6);l=a(12);n=a(20);a=a(78);f.prototype.encode=function(r){return {downloadableId:r.Ec,duration:r.duration};};f.prototype.decode=function(r){return {Ec:r.downloadableId,duration:r.duration};};g.prototype.encode=function(r){return {total:r.total,totalContentTime:r.eM,totalAdDuration:r.gH,totalCombinedDuration:r.AS,totalOtherDuration:r.hH,audio:r.audio.map(new f().encode),video:r.video.map(new f().encode),text:r.text.map(new f().encode)};};g.prototype.decode=function(r){var t;return {total:r.total,eM:null !== (t=r.totalContentTime) && void 0 !== t?t:r.total,gH:r.totalAdDuration,AS:r.totalCombinedDuration,hH:r.totalOtherDuration,audio:r.audio.map(new f().decode),video:r.video.map(new f().decode),text:r.text.map(new f().decode)};};k.prototype.encode=function(r){return {type:r.type,href:r.href,xid:r.ja,movieId:r.L,position:r.position,clientTime:r.nX,sessionStartTime:r.m2,videoTrackId:r.OS,audioTrackId:r.Lo,timedTextTrackId:r.xS,mediaId:r.MQ,playTimes:new g().encode(r.X0),trackId:r.trackId,sessionId:r.sessionId,appId:r.appId,sessionParams:r.ho,profileId:r.profileId};};k.prototype.decode=function(r){return {type:r.type,href:r.href,ja:r.xid,L:r.movieId,position:r.position,nX:r.clientTime,m2:r.sessionStartTime,OS:r.videoTrackId,Lo:r.audioTrackId,xS:r.timedTextTrackId,MQ:r.mediaId,X0:new g().decode(r.playTimes),trackId:r.trackId,sessionId:r.sessionId,appId:r.appId,ho:r.sessionParams,profileId:r.profileId};};b.b6=k;c.prototype.create=function(r){var t,w,v,u,x;x=Object.assign(Object.assign({},null !== (t=r.ob.ho) && void 0 !== t?t:{}),{uiVersion:this.EZ().cs.Mz});return {href:r.pa && r.pa.rl?r.pa.rl.kZ("events").href:"",type:"online",ja:r.ja.toString(),L:r.L,position:Math.floor(r.K9 || 0),nX:this.La.k2.ia(m.sa),m2:r.rK?r.rK.ia(m.sa):-1,OS:null === (w=r.Ug.value) || void 0 === w?void 0:w.trackId,Lo:null === (v=r.Nc.value) || void 0 === v?void 0:v.trackId,xS:null === (u=r.Cc.value) || void 0 === u?void 0:u.trackId,MQ:void 0,X0:this.zNb(r),trackId:void 0 !== r.Lk?r.Lk.toString():"",sessionId:this.EZ().sessionId || this.Ma.id,appId:this.EZ().appId || this.Ma.id,ho:x,profileId:this.profile};};c.prototype.load=function(r){return new k().decode(r);};c.prototype.rta=function(r){return r.map(function(t){return {Ec:t.downloadableId,duration:t.duration};});};c.prototype.zNb=function(r){return (r=r.Om)?(r=r.yNb(),{total:r.total,eM:r.totalContentTime,gH:r.totalAdDuration,hH:r.totalOtherDuration,AS:r.totalCombinedDuration,audio:this.rta(r.audio),video:this.rta(r.video),text:this.rta(r.timedtext)}):{total:0,eM:0,gH:0,AS:0,hH:0,video:[],audio:[],text:[]};};p=c;p=q.__decorate([(0,d.X)(),q.__param(0,(0,d.u)(h.Wi)),q.__param(1,(0,d.u)(l.jd)),q.__param(2,(0,d.u)(n.Jd)),q.__param(3,(0,d.u)(a.bN))],p);b.fNa=p;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.lNa="PboPlaydataValidatorSymbol";b.cNa="PboPlaydataArrayValidatorSymbol";b.eNa="PboPlaydataCollectionValidatorSymbol";},function(q,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Sia=void 0;b.Sia=a;a.Elb="display";a.Vkb="console";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.dka=b.aN=void 0;q=b.aN || (b.aN={});q.t6b="taskstart";q.r6b="taskabort";q.s6b="taskfail";q.u6b="tasksuccess";b.dka="PreparerTaskSchedulerSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cha="CacheManagerFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Da="AsePrefetcherAdapterSymbol";b.aEa="AsePrefetcherProviderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jja="PboPublisherSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.bha=b.ue=void 0;q=b.ue || (b.ue={});q[q.fr=0]="startPlayback";q[q.rq=1]="endPlayback";q[q.yp=2]="underflow";b.bha="AseIntegrationFactorySymbol";},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r;Object.defineProperty(b,"__esModule",{value:!0});b.RL=void 0;c=a(16);k=a(19);g=a(66);f=a(63);d=a(3);h=a(24);m=a(9);l=a(26);n=a(11);p=a(332);r=a(14);q=a(40);m.Ga.get(q.sj).register(d.W.TIa,function(t){var u,x,y;function w(){var z;w=c.Qx;z=setInterval(v,k.config.JTb);g.zf.addListener(g.Zo,function(A){A && A.isPopStateEvent?u.trace("popstate event, Lock timers can stay"):((0,l.kh)(x,function(B,D){localStorage.removeItem(D.$t);}),clearInterval(z));},c.XM);}function v(){var z;z=(0,f.Bpa)();(0,l.kh)(x,function(A,B){!1;A=localStorage.getItem(B.$t);(A=JSON.parse(A))?A.updated=z:A={updated:z,sessionId:y,count:1};localStorage.setItem(B.$t,JSON.stringify(A));});}(0,h.Db)(p.storage);u=(0,m.dk)("StorageLock");x={};y=Date.now() + "-" + Math.floor(1E6 * Math.random());b.RL={XA:function(z,A,B){var C,F,G,E,I,K,L,H,P,N;function D(J){localStorage.setItem(G,JSON.stringify(J));J={$t:G};x[G]=J;u.trace("Lock acquired",{Name:J.$t});w();A({fa:!0,rca:J});}C=this;B=void 0 === B?!1:B;if(localStorage){F=(0,f.Bpa)();G="lock-" + z;E={updated:F,sessionId:y,count:1};try{if((G in localStorage)){I=localStorage.getItem(G);K=0;L=JSON.parse(I);(0,r.QF)(L.updated) && (K=L.updated);H=(0,n.M5)(F - K) * c.Xu;P=y === L.sessionId;if(H < k.config.Y7a){if(P)(L.count+=1,u.debug("Incremented lock count for existing playbackSession",{id:y,count:L.count}),L.updated=F,D(L));else if(B){N=k.config.Y7a - H + c.Xu;u.error("Waiting until current expiration to confirm whether lock is still active",{id:y,count:L.count,Epoch:F,LockEpoch:K,waitTimeoutMs:N});pb.setTimeout(function(){return C.XA(z,A,!1);},N);}else A({fa:!1});}else (u.error("Lock was expired or invalid, ignoring",{Epoch:F,LockEpoch:K}),D(E));}else D(E);}catch(J){u.error("Error acquiring Lock",{errorSubCode:d.S.jn,errorDetails:(0,l.hf)(J)});A({fa:!0});}}else (n.gwa?u.error("Local storage access exception",{errorSubCode:d.S.zqb,errorDetails:(0,l.hf)(n.gwa)}):u.error("No localstorage",{errorSubCode:d.S.Aqb}),A({fa:!0}));},release:function(z,A){var B,D;(0,h.Db)(x[z.$t] == z);if(localStorage){try{B=localStorage.getItem(z.$t);D=JSON.parse(B);D && 1 < D.count?(--D.count,localStorage.setItem(z.$t,JSON.stringify(D)),u.trace("Lock count decremented",{Name:z.$t,count:D.count})):(localStorage.removeItem(z.$t),delete x[z.$t],u.trace("Lock released",{Name:z.$t}));}catch(C){u.error("Unable to release Lock",{Name:z.$t},C);}A && A(c.Xg);}}};k.config.s$?b.RL.XA("session",function(z){b.RL.jeb=z;t(c.Xg);}):t(c.Xg);});},function(q,b,a){var c,k,g,f,d,h;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;c=a(19);k=a(16);g=a(596);q=a(3);f=a(597);d=a(599);h=a(9);a=a(40);b.storage=b.storage || void 0;h.Ga.get(a.sj).register(q.W.SIa,function(m){var l;switch(c.config.s5b){case "idb":l=f.Hfb;break;case "none":l=g.Jfb;break;case "ls":l=d.Ifb;}l(function(n){n.fa?(b.storage=n.storage,m(k.Xg)):m(n);});});},function(q,b,a){var g,f,d,h,m,l,n,p,r,t,w,v;function c(u,x){var z;function y(){function A(B,D){return D.Ve && 0 !== D.Ve.length && D.Ve[0].EK?(0,g.MC)(u,D).then(function(){z.trace("Successfully released license for session",JSON.stringify(D));return B?B.G1(D):Promise.resolve();}).catch(function(C){z.error("Unable to send stop command for session",JSON.stringify({tc:D,error:C}));throw C;}):(z.error("releaseDrmSession exception: missing valid keySessionData"),B?B.G1(D):Promise.resolve());}k(z).then(function(B){var D;D=B.k$.filter(function(C){return !1 === C.active;}).map(function(C){return A(B,C);});Promise.all(D).then(function(){z.info("release drm session completed for " + D.length + " entries");x(f.Xg);}).catch(function(C){C=C || ({});C.DrmCacheSize=D.length;z.error("Unable to release one or more DRM session data",C);x(f.Xg);});}).catch(function(B){z.error("Unable to load DRM session data",B);x(f.Xg);});}z=(0,l.dk)("PlayDataManager");x=x || f.Qx;d.config.Ju?x(f.Xg):y();}function k(u){var x;if(!b.Qqa){x=l.Ga.get(n.Dha);b.Qqa=new Promise(function(y,z){x.mcb().then(function(){y(x);}).catch(function(A){u.error("Unable to load DRM data for license release",A);z(A);});});}return b.Qqa;}Object.defineProperty(b,"__esModule",{value:!0});b.yNa=b.xNa=b.Qqa=void 0;g=a(334);f=a(16);d=a(19);h=a(66);m=a(49);l=a(9);q=a(3);n=a(226);p=a(169);r=a(18);t=a(54);w=a(40);v=a(222);b.xNa=function(u){var z,A,B,D,C,F;function x(){A || (u.We("pdsb"),A=l.Ga.get(p.yU)().then(function(G){D=G;u.We("pdsc");return G;}).catch(function(G){z.error("Unable to initialize the playdata services",G);u.We("pdse");throw G;}));return A;}function y(){B=!0;D && D.close();h.zf.removeListener(h.Zo,y);}z=(0,l.hj)(u,"PlayDataManager");B=!1;C=l.Ga.get(m.d6);if(!C.EM || !C.CM){F=l.Ga.get(v.Pja)();C.EM=F.tc;C.CM=F.request;}u.We("pdctor");u.addEventListener(r.ka.Fh,function(){h.zf.removeListener(h.Zo,y);});u.addEventListener(r.ka.z_,function(){var G;if(!d.config.Ju && u.gf){G=u.A9.cZa();k(z).then(function(E){return E.cVa(G);}).catch(function(){z.error("Unable to load/add cached DRM data");});}});u.addEventListener(r.ka.Fh,function(){var G;if(!B){u.q9b();G=[(function(){return d.config.Ju || !u.gf?Promise.resolve():new Promise(function(E){var I;z.info("Sending the expedited playdata");I=u.A9.cZa();u.gf.S0a(I).then(function(){z.info("Sent the expedited playdata");return k(z);}).then(function(K){return K?K.G1(I):Promise.resolve();}).then(function(){E(void 0);}).catch(function(K){z.error("Unable to send the expedited playdata",K);E();});});})(),(function(){return x().then(function(E){return E.G2(u.oa);}).then(function(){z.info("Sent the playdata");}).catch(function(E){z.error("Unable to send the playdata",E);});})(),(function(){return new Promise(function(E){l.Ga.get(t.ro).flush(!1).catch(function(){z.error("Unable to send logblob");E(void 0);}).then(function(){E(void 0);});});})()];Promise.all(G).then(function(){u.Ada();}).catch(function(){u.Ada();});}});h.zf.addListener(h.Zo,y);return {};};b.yNa=function(){return new Promise(function(u){c({},function(x){u(x);});});};l.Ga.get(w.sj).register(q.W.BD,function(u){u(f.Xg);});},function(q,b,a){var g,f,d,h,m,l,n,p;function c(r){this.j=r;this.J7a=!1;this.log=(0,f.hj)(this.j,"Playback");this.FQ=f.Ga.get(n.dU);(0,d.Db)(g.config);g.config.Ju || (this.CHb=f.Ga.get(h.DGa));}function k(r,t){var v;function w(u){return u && 0 < u.length && u[0].EK;}v=f.Ga.get(n.dU);return r.ja && w(r.Ve)?v.release({ja:r.ja,Ve:r.Ve}).then(function(){}):t.ja && w(t.Ve)?v.release(t).then(function(){}):Promise.resolve();}Object.defineProperty(b,"__esModule",{value:!0});b.MC=b.KFa=void 0;g=a(19);f=a(9);d=a(24);h=a(361);m=a(64);l=a(14);n=a(207);p=a(18);c.prototype.ZJ=function(r){var t;t=this;return new Promise(function(w,v){var u,x,y;u=m.Cp.UYa(r.Bg);x=r.fl.map(function(z){return {sessionId:z.sessionId,dataBase64:(0,f.eB)(z.data)};});y=t.j.BNb(r.fl[0].sessionId);t.FQ.XA({lj:y.lj,Bg:l.is.Go(r.Bg)?r.Bg:u,j$:[y.Bm],fl:x,ja:y.ja,Ro:r.Ro,rl:y.pa.rl}).then(function(z){t.j.Ve=z.Ve;w(z);t.eKb(y);}).catch(v);});};c.prototype.release=function(r){return k(this.j,r);};c.prototype.cZa=function(){var r;r=this.CHb.create();r.Ve=this.j.Ve;r.ja=this.j.ja;r.L=this.j.L;return r;};c.prototype.eKb=function(r){this.J7a || (this.J7a=!0,this.j.fireEvent(p.ka.z_,{L:r.L}));};b.KFa=c;b.MC=k;},function(q,b,a){var g,f,d,h,m,l,n,p,r,t,w,v;function c(u){u=Error.call(this,u);this.message=u.message;("stack" in u) && (this.stack=u.stack);this.name="CodecSwitchingError";}function k(u,x,y,z){var A,B;A=this;this.j=u;this.type=x;this.log=z;this.A7=new h.uc(!1);this.vI={data:[],state:"",operation:""};this.mimeType=this.W0a((this.type === g.$b.kb.Vb?this.j.Ug.value:this.j.Nc.value).streams);this.Kl=new m.El();this.nma={Type:this.type};if(d.config.UF){B=!0;this.Vra=new h.uc(!1);}this.log.trace("Adding source buffer",this.nma,{TypeId:this.mimeType});this.Pd=y.addSourceBuffer(this.mimeType);this.Pd.addEventListener("updatestart",function(){!1;A.vI.state="updatestart";});this.Pd.addEventListener("update",function(){!1;A.vI.state="update";});this.Pd.addEventListener("updateend",function(){var D;!1;A.A7.set(!1);A.aSa && A.aSa();A.vI.state="updateend";D=0;try{D=A.Pd.buffered.length;}catch(C){}B && D && (B=!1,A.Vra.set(!0),!1);});this.Pd.addEventListener("error",function(D){var C;!1;try{C=D.target.error && D.target.error.message;(D.message || C) && z.error("error event received on sourcebuffer",{mediaErrorMessage:D.message});}catch(F){}u.de(n.W.Jpb,(0,f.saa)(A.type));});this.Pd.addEventListener("abort",function(){!1;});u.addEventListener(t.ka.closed,function(){A.Pd=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.elb=b.fja=void 0;g=a(34);f=a(183);d=a(19);h=a(82);m=a(75);l=a(9);a(108);n=a(3);a(6);p=a(24);r=a(14);t=a(18);w=a(171);v=a(212);k.prototype.Hi=function(){return this.A7.value;};k.prototype.updating=function(){return this.Pd?this.Pd.updating:!1;};k.prototype.nfa=function(u){this.aSa=u;};k.prototype.Lsa=function(){return this.vI;};k.prototype.buffered=function(){return this.Pd.buffered;};k.prototype.toString=function(){return "SourceBuffer (type: " + this.type + ")";};k.prototype.toJSON=function(){return {type:this.type};};k.prototype.iaa=function(){var u,x,y,z,A,B,D;try{u=this.Pd.buffered;x=0;if(u){y=[];z=0;A=u.length;for(z=0;z < A;z++){B=u.start(z);D=u.end(z);x+=D - B;(0,p.Db)(D > B);y.push(B + "-" + D);}}if(y)return {Buffered:x.toFixed(3),Ranges:y.join("|")};}catch(C){}};k.prototype.QVa=function(u,x){!1;try{(0,p.Db)(this.Pd.buffered && 1 >= this.Pd.buffered.length,"Gaps in media are not allowed: " + JSON.stringify(this.iaa()));}catch(y){}(0,p.Db)(!this.Hi());this.Seb("append",u);x=x && x.$w / 1E3;(0,r.Oa)(x) && this.Pd.timestampOffset !== x && (!1,this.Pd.timestampOffset=x);this.Pd.appendBuffer(u);!1;this.A7.set(!0);};k.prototype.remove=function(u,x){(0,p.Db)(!this.Hi());try{this.Seb("remove");!1;this.Pd.remove(u,x);this.A7.set(!0);}catch(y){this.log.error("SourceBuffer remove exception",y,this.nma);}};k.prototype.Seb=function(u,x){this.vI.data=x || [];this.vI.state="init";this.vI.operation=u;};k.prototype.a4b=function(u,x){this.SSb=Math.floor(1E3 * u / x);};k.prototype.dBb=function(u){var x;if(this.Pd){if((u=this.W0a([{type:this.ICb,ef:u}]),u !== this.mimeType)){x=this.mimeType;this.log.info("Changing SourceBuffer mime-type from: " + this.mimeType + " to: " + u);if(!this.Pd.changeType)throw new c("Platform doesnt support changing SourceBuffer mime-type");try{this.Pd.changeType(u);this.mimeType=u;}catch(y){throw (this.log.error("Error changing SourceBuffer type",y,this.nma,{From:x,To:u}),new c(y.message));}}}else this.log.info("No SourceBuffer");};k.prototype.appendBuffer=function(u,x){!x || x.Qc?this.Sna(u,x):this.I8(u,x);return !0;};k.prototype.Sna=function(u,x){this.j.ng.Sna(this,u,x || ({}));};k.prototype.I8=function(u,x){u=this.ECb(u,x);!1;this.j.ng.I8(u);};k.prototype.ECb=function(u,x){var y;y=this.SSb || 0;return {NBb:function(){this.response=void 0;},ij:function(){return this.requestId;},constructor:{name:"MediaRequest"},mediaType:this.mediaType,readyState:v.Mc.kd.DONE,JC:x.da,wz:x.da + x.duration,Ht:x.duration,$w:y,il:x.il,ea:x.ea,Za:x.Za,Pe:+x.Pe,location:x.location,KO:x.offset,IO:x.offset + x.ga - 1,bitrate:x.bitrate,response:u,M4a:u && 0 < u.byteLength,NF:!0,get Qc() {return !this.NF;},Vdb:this.Vk - y || Infinity,toJSON:function(){var z;z={requestId:this.requestId,segmentId:this.ea,isHeader:this.Qc,ptsStart:this.JC,ptsOffset:this.$w,responseType:this.uec,duration:this.Ht,readystate:this.vi};this.stream && (z.bitrate=this.stream.bitrate);return JSON.stringify(z);}};};k.prototype.endOfStream=function(){var u;this.j.eJ("EndOfStream");null === (u=this.j.ng) || void 0 === u?void 0:u.o0(this.mediaType);};k.prototype.ufb=function(u){this.qwb=u;};k.prototype.addEventListener=function(u,x,y){this.Kl.addListener(u,x,y);};k.prototype.removeEventListener=function(u,x){this.Kl.removeListener(u,x);};k.prototype.W0a=function(u){var x;x=l.Ga.get(w.JU);return this.type === g.$b.kb.Vb?x.J9(u):x.D9(u);};Ya.Object.defineProperties(k.prototype,{mediaType:{configurable:!0,enumerable:!0,get:function(){return this.type;}},vfb:{configurable:!0,enumerable:!0,get:function(){return this.qwb;}},ICb:{configurable:!0,enumerable:!0,get:function(){return 0 === this.type?"audio":"video";}}});b.fja=k;na(c,Error);b.elb=c;},function(q,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});b.DZa=b.Cwa=void 0;c=a(24);k=a(26);g=a(14);(function(){var d,h,m;function f(l){(0,c.Db)(void 0 !== d[l]);return d[l];}d={'"':'""',"\r":"","\n":" "};h=/["\r\n]/g;m=/[", ]/;b.DZa=function(l){return (0,g.Gd)(l)?(0,g.Oa)(l)?l:(0,g.Ag)(l)?l.replace(h,f):(0,g.g6a)(l)?l:isNaN(l)?"NaN":"":"";};b.Cwa=function(l){var n,p;n=b.DZa;p="";(0,k.kh)(l,function(r,t){r=n(r) + "=" + n(t);m.test(r) && (r='"' + r + '"');p=p?p + ("," + r):r;});return p;};})();},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qk=void 0;q=b.Qk || (b.Qk={});q[q.pfb=1]="sourceopen";q[q.Zr=2]="currentTimeChanged";q[q.f2=3]="seeked";q[q.I7a=5]="licenseadded";q[q.nfb=6]="sourceBuffersAdded";q[q.Ida=7]="onNeedKey";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.aka="PlaygraphManagerFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.cka="PlaygraphVideoPlayerFactorySymbol";},function(q,b,a){var k;function c(g,f){var d;d=this;this.Ij=g;this.Mh=f;this.addEventListener=function(h,m,l){return d.Mh.addListener(h,d.WZa(h,m),l);};this.removeEventListener=function(h,m){return d.Mh.removeListener(h,d.WZa(h,m));};this.getReady=function(){return d.Mh.isReady();};this.getXid=function(){return d.Wb().OB();};this.getMovieId=function(){return d.Wb().B3a();};this.getPlaygraphId=function(){return d.Mh.DNb();};this.getElement=function(){return d.Mh.Xo();};this.isPlaying=function(){return d.Wb().ss();};this.isPaused=function(){return d.Wb().g_();};this.isMuted=function(){return d.Wb().hva();};this.isReady=function(){return d.Wb().isReady();};this.isBackground=function(){return d.Wb().f6a();};this.setBackground=function(h){return d.Wb().SAa(h);};this.startInactivityMonitor=function(){return d.Wb().kS();};this.setTransitionTime=function(h){return d.Wb().hBa(h);};this.getDiagnostics=function(){return d.Wb().D2a();};this.getTextTrackList=function(h){return d.Wb().Pta(h);};this.getMaxRecommendedTextIndex=function(h){return d.Wb().fta(h);};this.getTextTrack=function(){return d.Wb().Ota();};this.setTextTrack=function(h){return d.Wb().dBa(h);};this.getVolume=function(){return d.Wb().x4a();};this.isEnded=function(){return d.Wb().ava();};this.getBusy=function(){return d.Wb().Hi();};this.getError=function(){return d.Wb().getError();};this.getCurrentTime=function(){return d.Wb().lw();};this.getBufferedTime=function(){return d.Wb().m2a();};this.getSegmentTime=function(){return d.Wb().maa();};this.getDuration=function(){return d.Wb().Jsa();};this.getVideoSize=function(){return d.Wb().v4a();};this.getAudioTrackList=function(){return d.Wb().e2a();};this.getMaxRecommendedAudioIndex=function(){return d.Wb().v3a();};this.getAudioTrack=function(){return d.Wb().d2a();};this.getTimedTextTrackList=function(h){return d.Wb().Pta(h);};this.getMaxRecommendedTimedTextIndex=function(h){return d.Wb().fta(h);};this.getTimedTextTrack=function(){return d.Wb().Ota();};this.getAdditionalLogInfo=function(){return d.Wb().b2a();};this.getTrickPlayFrame=function(h){return d.Wb().s4a(h);};this.getSessionSummary=function(){return d.Wb().Gta();};this.getTimedTextSettings=function(){return d.Wb().yZ();};this.setMuted=function(h){return d.Wb().Aeb(h);};this.setVolume=function(h){return d.Wb().Neb(h);};this.getPlaybackRate=function(){return d.Wb().Aq();};this.setPlaybackRate=function(h){return d.Wb().Beb(h);};this.setAudioTrack=function(h){return d.Wb().meb(h);};this.setTimedTextTrack=function(h){return d.Wb().dBa(h);};this.setTimedTextSettings=function(h){return d.Wb().cS(h);};this.prepare=function(){return d.Wb().kL();};this.load=function(){return d.Wb().load();};this.close=function(h){return d.TVa(d.Mh.close(),h);};this.play=function(){return d.Wb().play();};this.pause=function(){return d.Wb().pause();};this.seek=function(){throw Error("Seek by graph position has not been implemented");};this.transition=function(){throw Error("Transition segment has not been implemented");};this.engage=function(h,m){return d.TVa(d.Wb().xP(h),m);};this.induceError=function(h){return d.Wb().G5a(h);};this.loadCustomTimedTextTrack=function(h,m,l,n){return d.Wb().P7a(h,m,l,n);};this.tryRecoverFromStall=function(){};this.getCropAspectRatio=function(){return d.Wb().naa();};this.generateScreenshots=function(h){return d.Wb().X1a(h);};this.getCurrentSegmentId=function(){return d.Mh.A2a();};this.getPlaygraphMap=function(){return d.Mh.eK();};this.updatePlaygraphMap=function(h){return d.Mh.Oz(h);};this.ura=new Map();this.log=(0,k.dk)("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.I6=void 0;k=a(9);a(108);c.prototype.Wb=function(){return this.Mh.Wb();};c.prototype.WZa=function(g,f){var d;this.ura.has(g) || this.ura.set(g,new Map());d=this.ura.get(g);d.has(f) || d.set(f,this.hGb(g,f));return d.get(f);};c.prototype.hGb=function(g,f){var d;d=this;return function(h){return f(Object.assign({},h,{type:g,target:d}));};};c.prototype.TVa=function(g,f){return f?g.then(f,f):g;};b.I6=c;},function(q,b,a){b=a(281);q.exports="undefined" !== typeof b && "undefined" !== typeof nrdp?nrdp.ma:Date.now;},function(q){q.exports={aA:{Fka:0,qPa:1,om:2,name:["transient","semiTransient","permanent"]},Xz:{BHa:0,pPa:1,r6:2,vU:3,qA:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},$dc:{Odc:0,Obc:1,dac:2,qA:100,name:["trailer","montage","content"]},Kx:{BJa:0,XOa:1,Vqb:2,cmb:3,qA:100,name:["left","right","up","down"]},bU:{$kb:0,r6:1,xbc:2,Sac:3,x$b:4,wbc:5,Sjb:6,qA:100,name:("continueWatching search grid episode billboard genre bigRow").split(" ")},JM:{vU:0,RFa:1,qA:100,name:["playFocused","detailsOpened"]}};},function(q,b,a){var c,k,g,f,d,h;c=a(636);k="function" === typeof Symbol && "symbol" === typeof Symbol("foo");g=Object.prototype.toString;f=Array.prototype.concat;d=Object.defineProperty;b=a(345)();h=d && b;q.exports=function(m,l){var n,p,t,w,v,u;n=2 < arguments.length?arguments[2]:{};p=c(l);k && (p=f.call(p,Object.getOwnPropertySymbols(l)));for(var r=0;r < p.length;r+=1){t=m;w=p[r];v=l[p[r]];u=n[p[r]];if(!((w in t)) || "function" === typeof u && "[object Function]" === g.call(u) && u())h?d(t,w,{configurable:!0,enumerable:!1,value:v,writable:!0}):t[w]=v;}};},function(q){var b;b=Object.prototype.toString;q.exports=function(a){var c,k;c=b.call(a);k="[object Arguments]" === c;k || (k="[object Array]" !== c && null !== a && "object" === typeof a && "number" === typeof a.length && 0 <= a.length && "[object Function]" === b.call(a.callee));return k;};},function(q,b,a){var k;function c(){if(k)try{return (k({},"a",{value:1}),!0);}catch(g){}return !1;}k=a(48)("%Object.defineProperty%",!0);c.jPb=function(){if(!c())return null;try{return 1 !== k([],"length",{value:1}).length;}catch(g){return !0;}};q.exports=c;},function(q,b,a){var c,k;c="undefined" !== typeof Symbol && Symbol;k=a(347);q.exports=function(){return "function" !== typeof c || "function" !== typeof Symbol || "symbol" !== typeof c("foo") || "symbol" !== typeof Symbol("bar")?!1:k();};},function(q){q.exports=function(){var b,a,c;if("function" !== typeof Symbol || "function" !== typeof Object.getOwnPropertySymbols)return !1;if("symbol" === typeof Symbol.iterator)return !0;b={};a=Symbol("test");c=Object(a);if("string" === typeof a || "[object Symbol]" !== Object.prototype.toString.call(a) || "[object Symbol]" !== Object.prototype.toString.call(c))return !1;b[a]=42;for(a in b){return !1;}if("function" === typeof Object.keys && 0 !== Object.keys(b).length || "function" === typeof Object.getOwnPropertyNames && 0 !== Object.getOwnPropertyNames(b).length)return !1;c=Object.getOwnPropertySymbols(b);return 1 !== c.length || c[0] !== a || !Object.prototype.propertyIsEnumerable.call(b,a) || "function" === typeof Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(b,a),42 !== b.value || !0 !== b.enumerable)?!1:!0;};},function(q,b,a){var c,k,g,f,d,h;c=a(641);k=a(642);g=a(643);f=a(177);d=a(351);h=a(652);q.exports=function(m){m=g(m);return f(m) || 0 === m?0:d(m)?h(m) * k(c(m)):m;};},function(q){var a,c,k,g,f,d,h,m;function b(l){var n;try{n=a.call(l);return f.test(n);}catch(p){return !1;}}a=Function.prototype.toString;c="object" === typeof Reflect && null !== Reflect && Reflect.apply;if("function" === typeof c && "function" === typeof Object.defineProperty)try{k=Object.defineProperty({},"length",{get:function(){throw g;}});g={};c(function(){throw 42;},null,k);}catch(l){l !== g && (c=null);}else c=null;f=/^\s*class\b/;d=Object.prototype.toString;h="function" === typeof Symbol && ! !Symbol.toStringTag;m="object" === typeof document && "undefined" === typeof document.all && void 0 !== document.all?document.all:{};q.exports=c?function(l){if(l === m)return !0;if(!l || "function" !== typeof l && "object" !== typeof l)return !1;if("function" === typeof l && !l.prototype)return !0;try{c(l,null,k);}catch(n){if(n !== g)return !1;}return !b(l);}:function(l){var n;if(l === m)return !0;if(!l || "function" !== typeof l && "object" !== typeof l)return !1;if("function" === typeof l && !l.prototype)return !0;if(h){try{if(b(l))n=!1;else (a.call(l),n=!0);}catch(p){n=!1;}return n;}if(b(l))return !1;l=d.call(l);return "[object Function]" === l || "[object GeneratorFunction]" === l;};},function(q,b,a){var c;c=a(347);q.exports=function(){return c() && ! !Symbol.toStringTag;};},function(q){var b;b=Number.isNaN || (function(a){return a !== a;});q.exports=Number.isFinite || (function(a){return "number" === typeof a && !b(a) && Infinity !== a && -Infinity !== a;});},function(q,b,a){q.exports=a(349);},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(44);q=(function(){function k(){}k.prototype.y2a=function(g){var f;f=Reflect.getMetadata(c.sja,g);g=Reflect.getMetadata(c.vQa,g);return {rYa:f,L8b:g || ({})};};k.prototype.INb=function(g){return Reflect.getMetadata(c.wQa,g) || [];};return k;})();b.hja=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(60);b.K6a=function(k){return k instanceof RangeError || k.message === c.uqb;};},function(q,b,a){var c,k,g,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(60);k=a(44);g=a(67);f=a(100);q=(function(){function d(h){this.Srb=h;}d.prototype.M7b=function(){return this.Srb();};return d;})();b.Lia=q;b.u=function(d){return function(h,m,l){var n;if(void 0 === d)throw Error(c.Tqb(h.name));n=new g.Metadata(k.$T,d);"number" === typeof l?f.XL(h,m,l,n):f.U2(h,m,n);};};},function(q,b,a){var c,k,g,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(44);k=a(115);g=a(67);f=a(687);q=(function(){function d(h,m,l,n){this.id=k.id();this.type=h;this.th=l;this.name=new f.$pb(m || "");this.Oc=[];h=null;"string" === typeof n?h=new g.Metadata(c.FD,n):n instanceof g.Metadata && (h=n);null !== h && this.Oc.push(h);}d.prototype.S4a=function(h){for(var m=0,l=this.Oc;m < l.length;m++){if(l[m].key === h)return !0;}return !1;};d.prototype.isArray=function(){return this.S4a(c.TH);};d.prototype.zUb=function(h){return this.Nwa(c.TH)(h);};d.prototype.iva=function(){return this.S4a(c.FD);};d.prototype.wva=function(){return this.Oc.some(function(h){return h.key !== c.$T && h.key !== c.TH && h.key !== c.P5 && h.key !== c.NU && h.key !== c.FD;});};d.prototype.A6a=function(){return this.Nwa(c.YLa)(!0);};d.prototype.gNb=function(){return this.iva()?this.Oc.filter(function(h){return h.key === c.FD;})[0]:null;};d.prototype.TLb=function(){return this.wva()?this.Oc.filter(function(h){return h.key !== c.$T && h.key !== c.TH && h.key !== c.P5 && h.key !== c.NU && h.key !== c.FD;}):null;};d.prototype.Nwa=function(h){var m;m=this;return function(l){var r;for(var n=0,p=m.Oc;n < p.length;n++){r=p[n];if(r.key === h && r.value === l)return !0;}return !1;};};return d;})();b.B6=q;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(220);k=a(221);q=(function(){function g(f){this.Tc=f;this.$U=new k.qha(this.Tc);this.bla=new c.j4(this.Tc);}g.prototype.when=function(f){return this.$U.when(f);};g.prototype.L3=function(){return this.$U.L3();};g.prototype.kz=function(f){return this.bla.kz(f);};return g;})();b.yH=q;},function(q,b,a){var g;function c(f){return function(d){function h(m){return null !== m && null !== m.target && m.target.Nwa(f)(d);}h.v9a=new g.Metadata(f,d);return h;};}function k(f,d){f=f.BC;return null !== f?d(f)?!0:k(f,d):!1;}Object.defineProperty(b,"__esModule",{value:!0});q=a(44);g=a(67);b.mhb=k;b.qgb=c;a=c(q.FD);b.b$a=a;b.uhb=function(f){return function(d){var h;if(null !== d){h=d.WW[0];return "string" === typeof f?h.th === f:f === d.WW[0].Rn;}return !1;};};},function(q,b,a){var g;function c(f,d){this.Tg=d;this.kC=Math.floor(f);this.display=this.kC + " " + this.Tg.name;}function k(f,d,h){this.Tg=f;this.name=d;this.zj=h?h:this;(0,g.Iq)(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.Zu=b.OU=void 0;g=a(58);k.prototype.xY=function(f){return this.Tg == f.Tg;};k.prototype.toJSON=function(){return this.name;};b.OU=k;c.prototype.ia=function(f){return this.Tg.xY(f)?this.kC:Math.floor(this.kC * this.Tg.Tg / f.Tg);};c.prototype.zbb=function(f){return this.Tg.xY(f)?this.kC:this.kC * this.Tg.Tg / f.Tg;};c.prototype.as=function(f){return new c(this.ia(f),f);};c.prototype.to=function(f){return new c(this.ia(f),f);};c.prototype.toString=function(){return this.display;};c.prototype.toJSON=function(){return {magnitude:this.kC,units:this.Tg.name};};c.prototype.add=function(f){return this.lYa(f);};c.prototype.Ia=function(f){return this.lYa(f,function(d){return -d;});};c.prototype.scale=function(f){return new c(this.ia(this.Tg.zj) * f,this.Tg.zj);};c.prototype.zm=function(f){return this.ia(this.Tg.zj) - f.ia(this.Tg.zj);};c.prototype.xY=function(f){return 0 == this.zm(f);};c.prototype.U6a=function(){return 0 == this.kC;};c.prototype.jva=function(){return 0 > this.kC;};c.prototype.QRb=function(){return 0 < this.kC;};c.prototype.lYa=function(f,d){d=void 0 === d?function(h){return h;}:d;return new c(this.ia(this.Tg.zj) + d(f.ia(this.Tg.zj)),this.Tg.zj);};b.Zu=c;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.vNa="PlatformConfigOverridesSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.DGa="DrmDataFactorySymbol";},function(q,b,a){var k;function c(g,f,d,h,m){this.version=g;this.fL=f;this.PBa=d;this.gr=h;this.tx=m;this.im=new k.dJa(g,f,d,h,m);this.Bn=[];}Object.defineProperty(b,"__esModule",{value:!0});b.Cia=void 0;k=a(718);c.prototype.load=function(g){var f;f=this;return this.im.load(g).then(function(){var d;f.Bn=null !== (d=f.im.Bn) && void 0 !== d?d:[];});};c.prototype.add=function(g){this.Bn.push(g);return this.im.set(this.Bn);};c.prototype.remove=function(g,f){g=this.p2a(this.NP(g,f));return 0 <= g?(this.Bn.splice(g,1),this.im.set(this.Bn)):Promise.resolve();};c.prototype.update=function(g,f){f=this.p2a(this.NP(g,f));return 0 <= f?(this.Bn[f]=g,this.im.set(this.Bn)):Promise.resolve();};c.prototype.NP=function(g,f){for(var d=0;d < this.Bn.length;++d){if(f(this.Bn[d],g))return this.Bn[d];}};c.prototype.p2a=function(g){return g?this.Bn.indexOf(g):-1;};b.Cia=c;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.CRa=["AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="];b.FHa=["c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFBcDVKNTB0Qml4WTVMaTNYSGJFc3dKdDdybTdhdEExVWpPMkw3Q1ArckJYTT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFCczgwL0dQUmxsNXEweHl3bHhac1Nya3hjMndPRHZpWWNCMmJoWDdQOTNHQT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFDcWNFL25GeU0waXVKY1pKSi9xTkl3T0xJaGFCdnB4WEpDNGtyV2VpaGJBOD0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFFamVRbC8rZTBLYWpjSEhZQkt1U0hkb21BdXhmSGlWUTNZYTFpRGJqYjF5Zz0="];b.BNa=["AAADPHBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAxwcAwAAAQABABIDPABXAFIATQBIAEUAQQBEAEUAUgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAPgA8AEQAQQBUAEEAPgA8AFAAUgBPAFQARQBDAFQASQBOAEYATwA+ADwASwBJAEQAUwA+ADwASwBJAEQAIABBAEwARwBJAEQAPQAiAEEARQBTAEMAVABSACIAIABWAEEATABVAEUAPQAiAEEAQQBBAEEAQQBNAFkARQB4AEkARQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAPQA9ACIAPgA8AC8ASwBJAEQAPgA8AC8ASwBJAEQAUwA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEwAQQBfAFUAUgBMAD4AaAB0AHQAcAA6AC8ALwBjAGEAcABwAHIAcwB2AHIAMAA2AC8AcwBpAGwAdgBlAHIAbABpAGcAaAB0ADUALwByAGkAZwBoAHQAcwBtAGEAbgBhAGcAZQByAC4AYQBzAG0AeAA8AC8ATABBAF8AVQBSAEwAPgA8AEwAVQBJAF8AVQBSAEwAPgBoAHQAdABwADoALwAvAGMAYQBwAHAAcgBzAHYAcgAwADYALwBzAGkAbAB2AGUAcgBsAGkAZwBoAHQANQAvAHIAaQBnAGgAdABzAG0AYQBuAGEAZwBlAHIALgBhAHMAbQB4ADwALwBMAFUASQBfAFUAUgBMAD4APABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+ADwALwBEAEEAVABBAD4APAAvAFcAUgBNAEgARQBBAEQARQBSAD4A"];},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.nI=void 0;q=b.nI || (b.nI={});q[q.Request=0]="Request";q[q.aPa=1]="Renewal";},function(q,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.v6=void 0;a.CQb=function(c){return "ID" + (c + 1);};a.Ufb=function(c){return Number(c.substr(2)) - 1;};b.v6=a;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.L5='video/mp4; codecs="avc1.640028"';b.K5='audio/mp4; codecs="mp4a.40.5"';b.Dac="DrmTraitsSymbol";},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t,w,v,u;function c(x,y,z,A,B,D){var C;C=this;this.Ma=y;this.DE=z;this.config=A;this.ku=B;this.uC=D;this.keyStatuses=new p.uc({});this.aya=function(F){var G,E,I,K,L,H;try{E=C.dn.Wpa(F);I=E.MK;K=E.messageType;L=E.sessionId;C.Yy=C.Yy || E.Yy;C.n2(L);C.log.trace("Received " + F.type + " event",{sessionId:L,messageType:K,keyIds:C.Yy});if(K === b.Yia){if(C.config.Jqa){C.log.trace("Disabling license renewal");return;}C.log.trace("Received a renewal request");C.Bg=f.Zi.Ar;C.$l=w.rL;}C.$l === w.Jh && C.Qr(d.Tu.zcb);C.$l === w.rL && C.Qr(d.Tu.Acb);H={fl:I,EXa:K,Bg:C.Bg};null === (G=C.X$a) || void 0 === G?void 0:G.call(C,H);C.x_ && (C.cua(I)?C.SF(new n.Ad(g.W.VGa)):(C.x_.resolve(H),C.x_=void 0));}catch(P){C.SF(P);}};this.Zxa=function(F){var G,E,I,K,L,N,J,M,O,Q,T,V,xa,ya,sa,X,S;E=F.target;I=E.keyStatuses;C.n2(E.sessionId);C.log.trace("Received event: " + F.type);try{L=null === (G=C.context) || void 0 === G?void 0:G.bca;F=[];for(var H=ra(I),P=H.next();!P.done;P=H.next()){N=ra(P.value);J=N.next().value;M=N.next().value;O=C.DE.encode(new Uint8Array(J));F.push({gi:O,status:M,height:null === L || void 0 === L?void 0:L[O]});}F.sort(function(R,W){return (R.height || 0) - (W.height || 0);});Q=F.map(function(R){return R.gi;});T=F.map(function(R){return R.height;});V=F.map(function(R){return R.status;});C.Gva=Q + ", " + T + ", " + V;C.log.trace("KeyStatus: " + C.Gva);L={};for(var da=ra(I),pa=da.next();!pa.done;pa=da.next()){xa=ra(pa.value);ya=xa.next().value;sa=xa.next().value;X=C.DE.encode(new Uint8Array(ya));S=v[sa];L[X]=S.status;C.uK(X,S.error) && (K=new m.Ph(S.error));}C.keyStatuses.set(L);}catch(R){K=new m.Ph(g.W.Dpb);K.cY(R);}K?C.Zt?C.Vba(K):C.k_(K):(C.dn.w9() || C.W6a(),C.Bg !== f.Zi.Ep || C.dn.loa() || (C.config.Jqa?C.log.trace("Disabling license renewal"):C.y1b()));};this.Wn=function(F){var G;G=C.dn.tB(F);C.log.error("Received event: " + F.type,G);C.SF(G);C.Vba(G);C.hs || C.Zt || C.k_(G);};this.sXb=function(F){C.log.error("MediaKeySession closed unexpectedly: " + F);C.k_(new n.Ad(g.W.Yha,u[F]));};this.SF=function(F){var G;C.hs && C.close().then(function(){var E;C.log.trace("Issuing a generate challenge error");null === (E=C.hs) || void 0 === E?void 0:E.reject(F);C.hs=void 0;},function(E){var I;C.log.error("EmeSession closed with an error.",C.dn.tB(E));null === (I=C.hs) || void 0 === I?void 0:I.reject(F);C.hs=void 0;});null === (G=C.x_) || void 0 === G?void 0:G.reject(F);};this.lSb=function(){var F;null === (F=C.hs) || void 0 === F?void 0:F.resolve();C.hs=void 0;};this.Vba=function(F){C.log.error("Failed to add license",F);return C.close().then(function(){var G;C.log.trace("Issuing a license error");C.hs=void 0;null === (G=C.Zt) || void 0 === G?void 0:G.reject(F);C.Zt=void 0;},function(G){var E;C.log.error("EmeSession closed with an error.",C.dn.tB(G));C.$l === w.rL && C.Qr(d.Tu.pVa);C.hs=void 0;null === (E=C.Zt) || void 0 === E?void 0:E.reject(F);C.Zt=void 0;}).then(function(){throw F;});};this.W6a=function(){C.Zt && (C.log.info("Successfully added license"),C.$l === w.Jh?C.Qr(d.Tu.hVa):C.$l === w.rL && C.Qr(d.Tu.oVa),C.Zt.resolve(),C.Zt=void 0);};this.k_=function(F){C.close().then(function(){var G;C.log.trace("Issuing a CDM error");C.hs=void 0;C.Zt=void 0;null === (G=C.T$a) || void 0 === G?void 0:G.call(C,F);},function(G){var E;C.log.error("EmeSession closed with an error.",C.dn.tB(G));C.hs=void 0;C.Zt=void 0;null === (E=C.T$a) || void 0 === E?void 0:E.call(C,F);});};this.Qr=function(F){C.Hd.push({time:C.Ma.ec(),V_:F});};this.Ucb=!1;this.log=x.Bb("EmeSession");this.$l=w.G7b;this.wi=D.fZa();this.dn=D.eZa();this.Hd=[];}Object.defineProperty(b,"__esModule",{value:!0});b.jHa=b.Yia=b.Zia=void 0;k=a(6);g=a(3);f=a(61);d=a(368);q=a(230);h=a(364);m=a(103);l=a(69);n=a(41);p=a(82);r=a(730);t=a(50);(function(x){x[x.G7b=0]="unknown";x[x.create=1]="create";x[x.load=2]="load";x[x.Jh=3]="license";x[x.rL=4]="renewal";x[x.stop=5]="stop";x[x.closed=6]="closed";})(w || (w={}));b.Zia="license-request";b.Yia="license-renewal";v={usable:{status:q.Hx.gib},expired:{status:q.Hx.Wv,error:g.W.wja},released:{status:q.Hx.released},"output-not-allowed":{status:q.Hx.oab,error:g.W.mMa},"output-restricted":{status:q.Hx.oab,error:g.W.xja},"output-downscaled":{status:q.Hx.pYb},"status-pending":{status:q.Hx.m5b},"internal-error":{status:q.Hx.ZQb,error:g.W.Cpb}};u={"internal-error":g.S.wmb,"closed-by-application":g.S.smb,"release-acknowledged":g.S.Amb,"hardware-context-reset":g.S.Wha,"resource-evicted":g.S.Cmb};c.prototype.jZ=function(){return this.uC.m7a;};c.prototype.h3a=function(){return this.Gva;};c.prototype.KB=function(){return this.sessionId;};c.prototype.close=function(){var x;x=this;this.X$a=this.context=void 0;this.$l=w.closed;this.Hd=[];return this.wi.WRb()?(this.log.trace("Closing the session"),this.wi.Pcb(this.aya),this.wi.Ncb(this.Zxa),this.wi.Lcb(this.Wn),this.mediaKeys=void 0,this.ku.ru(this.config.LVa,this.wi.close()).then(function(){x.log.info("Closed the session");}).catch(function(y){x.log.error("Close failed",y);x.dn.tB(y).code=g.W.Fpb;throw y;})):Promise.resolve(void 0);};c.prototype.gw=function(){return this.uC.gw();};c.prototype.bba=function(){return void 0 !== this.gk;};c.prototype.createSession=function(x,y,z){var A;A=this;this.context=z;this.Bg=y;this.$l=w.create;this.Qr(d.Tu.H7a);return (x.N4a()?Promise.resolve():this.ku.ru(this.config.MVa,this.wi.createMediaKeys(this.uC)).then(function(B){A.log.trace("Created media keys");return A.wyb(B).then(function(){return x.jVa(B);}).catch(function(D){return Promise.reject(A.kza(D,g.W.Dmb));});})).then(function(){A.mediaKeys=x.mediaKeys;try{A.wi.createSession(A.mediaKeys,t.TEMPORARY);A.wi.kVa(A.aya);A.wi.fVa(A.Zxa);A.wi.dVa(A.Wn);A.wi.oxb(A.sXb);A.n2(A.wi.KB());}catch(B){return Promise.reject(A.kza(B,g.W.tmb));}}).catch(function(B){return Promise.reject(A.kza(B,g.W.FT));});};c.prototype.O3b=function(x){this.wk=x;this.log.aVa("xid",x.ja);};c.prototype.YKb=function(x){var y;y=this;return this.generateRequest(x).then(function(){y.log.trace("Returning the challenge promise");return y.x_.promise;});};c.prototype.ZKb=function(x){this.generateRequest(x);return this.hs.promise;};c.prototype.gVa=function(x){this.Ve=x.Ve;x=x.gk.map(function(y){return y.data;});this.cua(x)?(this.log.error("The license buffer is empty"),this.SF(new m.Ph(g.W.UGa,g.S.SGa))):(this.$l === w.Jh && (this.Qr(d.Tu.ycb),this.gk=x,this.U_a=this.dn.SP(this.Yy,x),this.lSb()),this.$l === w.rL && (this.Qr(d.Tu.Bcb),this.gk=x,this.U_a=this.dn.SP(this.Yy,x),this.Wna()));};c.prototype.zxb=function(x){this.$l === w.rL?(this.Qr(d.Tu.Ccb),this.k_(x)):this.SF(x);};c.prototype.Wna=function(){var x,y;x=this;if(!this.gk)return this.Vba(new m.Ph(g.W.UGa,g.S.XGa));this.Zt=new r.g6();y=this.gk;this.gk=void 0;this.ku.ru(this.config.PVa,this.wi.update(y,this.$l === w.Jh?h.nI.Request:h.nI.aPa,this.Yy)).then(function(){x.dn.w9() && x.W6a();}).catch(function(z){z=x.dn.tB(z);z.code=g.W.Z5;z.message="Unable to update the EME";x.log.error(z.message,z);x.Vba(z);});return this.Zt.promise;};c.prototype.H3b=function(x){this.X$a=x;};c.prototype.B3b=function(x){this.T$a=x;};c.prototype.SP=function(){return this.U_a;};c.prototype.generateRequest=function(x){var y;y=this;this.$l=w.Jh;this.log.trace("Generating a license challenge");this.hs=new r.g6();this.x_=new r.g6();return x?this.cua(x)?(x=new m.Ph(g.W.TGa,g.S.SGa),this.SF(x),Promise.reject(x)):this.ku.ru(this.config.H8,this.wi.generateRequest(this.dn.iZ(),x)).then(function(){y.n2(y.wi.KB());}).catch(function(z){var A,B;A=new m.Ph(g.W.K4,z instanceof l.ft?g.S.GT:g.S.jn);try{B=y.dn.tB(z);A.fe=B.fe;A.message="Unable to generate request.";A.cY(z);}catch(D){}y.log.error("Unable to generate a license request",A);y.SF(A);return Promise.reject(A);}):(x=new m.Ph(g.W.TGa,g.S.XGa),this.SF(x),Promise.reject(x));};c.prototype.wyb=function(x){return this.ku.ru(this.config.OVa,this.wi.setServerCertificate(x,this.dn.kaa()));};c.prototype.n2=function(x){x && x !== this.sessionId && (this.sessionId && this.log.warn("sessionId changed from " + this.sessionId + " to " + x),this.sessionId=x,this.log.aVa("sessionId",x));};c.prototype.y1b=function(){var x;x=this;this.Ucb || (this.Ucb=!0,this.log.info("Kicking off license renewal",{timeout:this.config.UF}),setTimeout(function(){x.qL();},this.config.UF.ia(k.sa)));};c.prototype.cSb=function(x){var y,z,A;return 1080 < (null !== (A=null === (z=null === (y=this.context) || void 0 === y?void 0:y.bca) || void 0 === z?void 0:z[x]) && void 0 !== A?A:0);};c.prototype.uK=function(x,y){return y === g.W.xja?this.cSb(x)?this.config.qab:this.config.pab:! !y;};c.prototype.qL=function(){this.log.trace("Initiating a renewal request");this.Bg=f.Zi.Ar;this.$l=w.rL;this.dn.Yoa()?this.dn.Uua(this.wi):this.I9();};c.prototype.I9=function(){var x;x=this;this.wi.I9(this.mediaKeys,t.TEMPORARY,this.aya,this.Zxa,this.Wn).then(function(){x.log.debug("Creating session to renew license");x.n2(x.wi.KB());}).catch(function(){x.k_(new m.Ph(g.W.K4));});};c.prototype.cua=function(x){return 0 === x.length || x.reduce(function(y,z){return y || 0 === z.length;},!1);};c.prototype.kza=function(x,y){var z,A;if((null === x || void 0 === x?0:x.code) && (null === x || void 0 === x?0:x.Sc))return x;A=(0,t.ota)(null === x || void 0 === x?void 0:x.message);return new m.Ph(y,x instanceof l.ft?g.S.GT:g.S.jn,null === (z=null === A || void 0 === A?void 0:A.toString(16)) || void 0 === z?void 0:z.toUpperCase(),null === x || void 0 === x?void 0:x.message,x);};b.jHa=c;},function(q,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.V_a=b.Tu=void 0;(function(c){c[c.H7a=0]="licenseStarted";c[c.zcb=1]="receivedLicenseChallenge";c[c.ycb=2]="receivedLicense";c[c.Acb=3]="receivedRenewalChallengeComplete";c[c.Bcb=4]="receivedRenewalLicenseComplete";c[c.Ccb=5]="receivedRenewalLicenseFailed";c[c.x0b=6]="receivedIndivChallengeComplete";c[c.y0b=7]="receivedIndivLicenseComplete";c[c.hVa=8]="addLicenseComplete";c[c.oVa=9]="addRenewalLicenseComplete";c[c.pVa=10]="addRenewalLicenseFailed";})(a=b.Tu || (b.Tu={}));b.V_a=function(c){switch(c){case a.H7a:return "lg";case a.zcb:return "lc";case a.ycb:return "lr";case a.Acb:return "renew_lc";case a.Bcb:return "renew_lr";case a.Ccb:return "renew_lr_failed";case a.x0b:return "ilc";case a.y0b:return "ilr";case a.hVa:return "ld";case a.oVa:return "renew_ld";case a.pVa:return "renew_ld_failed";default:return "unknown";}};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.cLa="MediaKeySystemAccessInternalFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.hka="QueryStringDataProviderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.KLa="NetworkMonitorConfigSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.FGa="DrmProviderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.iHa="EmeSessionFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.xFa="ClockConfigSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.$La="OneWayCounterFactorySymbol";},function(q,b,a){var k,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.nha=void 0;q=a(2);a=a(0);k={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};c.prototype.decode=function(f){for(var d=new Uint8Array(f.length / 2),h=0;h < d.length;h++){d[h]=this.Wgb(f.substr(2 * h,2));}return d;};c.prototype.encode=function(f){var l;for(var d="",h=f.length,m=0;m < h;m++){l=f[m];d+=("0123456789ABCDEF")[l >>> 4] + ("0123456789ABCDEF")[l & 15];}return d;};c.prototype.UJ=function(f,d){var h;h="";for(d<<=1;d--;){h=(("0123456789ABCDEF")[f & 15] || "0") + h;f>>>=4;}return h;};c.prototype.Wgb=function(f){var d;d=f.length;if(7 < d)throw Error("hex to long");for(var h=0,m=0;m < d;m++){h=16 * h + k[f[m]];}return h;};g=c;g=q.__decorate([(0,a.X)()],g);b.nha=g;},function(q,b,a){var k,g,f,d,h,m,l,n;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.oha=void 0;q=a(2);a=a(0);g=Array.prototype.slice;f=g.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");g=g.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");d={};h={};m={};l={};n=/\s+/g;[f,g].forEach(function(p){var t;for(var r=p.length;r--;){t=p[r];d[t]=r << 18;h[t]=r << 12;m[t]=r << 6;l[t]=r;}});c.prototype.encode=function(p){return k.dra(p,f,"=");};c.prototype.decode=function(p){return k.tqa(p);};c.tqa=function(p){var r,t,w;p=p.replace(n,"");r=p.length;t=p.charAt(r - 1);"=" !== t && "." !== t || r--;t=p.charAt(r - 1);"=" !== t && "." !== t || r--;t=3 * (r >> 2);w=0;switch(r % 4){case 2:w=1;break;case 3:w=2;break;case 1:throw Error("bad base64");}r=new Uint8Array(t + w);for(var v=0,u=0,x;u < t;){x=d[p[v++]] + h[p[v++]] + m[p[v++]] + l[p[v++]];if(!(0 <= x && 16777215 >= x))throw Error("bad base64");r[u++]=x >>> 16;r[u++]=x >>> 8 & 255;r[u++]=x & 255;}if(0 < w && (x=d[p[v++]] + h[p[v++]],r[u++]=x >>> 16,1 < w && (x+=m[p[v++]],r[u++]=x >>> 8 & 255),!(0 <= x && 16776960 >= x && 0 === (x & (1 < w?255:65535)))))throw Error("bad base64");return r;};c.dra=function(p,r,t){for(var w="",v=0,u=p.length,x=u - 2,y;v < x;){y=(p[v++] << 16) + (p[v++] << 8) + p[v++];if(!(0 <= y && 16777215 >= y))throw Error("not bytes");w+=r[y >>> 18] + r[y >>> 12 & 63] + r[y >>> 6 & 63] + r[y & 63];}if(v == x){y=(p[v++] << 8) + p[v++];if(!(0 <= y && 65535 >= y))throw Error("not bytes");w+=r[y >>> 10] + r[y >>> 4 & 63] + r[y << 2 & 63] + t;}else if(v == u - 1){y=p[v++];if(!(0 <= y && 255 >= y))throw Error("not bytes");w+=r[y >>> 2] + r[y << 4 & 63] + t + t;}return w;};g=k=c;g=k=q.__decorate([(0,a.X)()],g);b.oha=g;},function(q,b,a){var k,g;function c(){this.gs={};this.id="$es$" + k.counter++;}Object.defineProperty(b,"__esModule",{value:!0});b.El=void 0;q=a(2);a=a(0);c.prototype.addListener=function(f,d,h){var m,l;m="$netflix$player$order" + this.id + "$" + f;if(this.gs){l=this.gs[f]?this.gs[f].slice():[];h && (d[m]=h);0 > l.indexOf(d) && (l.push(d),l.sort(function(n,p){return (n[m] || 0) - (p[m] || 0);}));this.gs[f]=l;}};c.prototype.removeListener=function(f,d){if(this.gs && this.gs[f]){for(var h=this.gs[f].slice(),m;0 <= (m=h.indexOf(d));){h.splice(m,1);}this.gs[f]=h;}};c.prototype.rd=function(f,d,h){var m;if(this.gs){m=this.Ssa(f);for(f={tM:0};f.tM < m.length;(f={tM:f.tM},f.tM++)){h?(function(l){return function(){var n;n=m[l.tM];setTimeout(function(){n(d);},0);};})(f)():m[f.tM].call(this,d);}}};c.prototype.Ei=function(){this.gs=void 0;};c.prototype.on=function(f,d,h){this.addListener(f,d,h);};c.prototype.Ssa=function(f){var d;return null !== (d=this.gs && (this.gs[f] || (this.gs[f]=[]))) && void 0 !== d?d:[];};g=k=c;g.counter=0;g=k=q.__decorate([(0,a.X)()],g);b.El=g;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.NFa="CsvEncoderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rha="DecoderTimeoutPathologistSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.kja=b.Aob=void 0;b.Aob=function(){};b.kja="MseConfigSymbol";},function(q,b,a){var k;function c(g){this.Atb=void 0 === g?!1:g;this.If={0:[]};}Object.defineProperty(b,"__esModule",{value:!0});b.eka=void 0;q=a(2);a=a(0);c.prototype.add=function(g,f){var d;f=void 0 === f?0:f;d=this.If[f];d?this.Atb && -1 !== d.indexOf(g) || d.push(g):this.If[f]=[g];};c.prototype.remove=function(g,f){this.PA(g,void 0 === f?0:f);};c.prototype.removeAll=function(g){this.PA(g);};c.prototype.flatten=function(){var g;g=this;return Object.keys(this.If).sort().reduce(function(f,d){return f.concat(g.If[d]);},[]);};c.prototype.PA=function(g,f){Object.entries(this.If).forEach(function(d){var h,m;h=ra(d);d=h.next().value;h=h.next().value;if(void 0 === f || f === parseInt(d)){-1 < (m=h.indexOf(g)) && h.splice(m,1);}});};k=c;k=q.__decorate([(0,a.X)()],k);b.eka=k;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.eRa="UrlFactorySymbol";},function(q,b,a){var k,g,f;function c(d,h,m,l,n,p,r){this.debug=d;this.config=h;this.platform=m;this.Nca=l;this.debug.assert(n && n != g.W.wo,"There should always be a specific error code");this.errorCode=n || g.W.wo;p && "object" === typeof p?(this.Ea=p.Ea || p.Sc,this.Xf=p.Xf || p.fe,this.mra=p.mra || p.So,this.ac=p.ac || p.details,this.hY=p.ml,this.w$=p.w$ || p.Zhc || p.vC,this.PJ=p.PJ || p.data,p.R_ && (this.R_=p.R_),this.Wl=p.Wl,this.method=p.method,this.mda=p.mda,this.alert=p.alert,this.Kna=p.Kna,this.mK=p.mK,!this.ac && this.mK && (this.ac=JSON.stringify(this.mK)),this.debug.assert(!this.Wl || this.Wl == this.Xf)):(this.Ea=p,this.Xf=r);this.stack=[this.errorCode];this.Ea?this.stack.push(this.Ea):this.Xf && this.stack.push(g.S.wo);this.Xf && this.stack.push(this.Xf);this.e$=this.platform.Lt + this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.cOa=void 0;k=a(16);g=a(3);f=a(14);a(26);c.prototype.Ceb=function(d){this.CZb=d;};c.prototype.toString=function(){var d;d="[PlayerError #" + this.e$ + "]";this.ac && (d+=" " + this.ac);this.hY && (d+=" (CustomMessage: " + this.hY + ")");return d;};c.prototype.e3=function(){var d,h,m,l;this.hY && (m=["streaming_error"]);m || this.Nca.gw() !== k.J4 || ("80080017" == this.Xf && (m=["admin_mode_not_supported","platform_error"]),"8004CD12" === this.Xf && (m=["pause_timeout"]));m || this.Nca.gw() !== k.Vha || this.errorCode !== g.W.RGa && this.errorCode !== g.W.FT || (m=["no_cdm","platform_error","plugin_error"]);m || this.errorCode !== g.W.Yha || this.Ea !== g.S.Wha || (m=["pause_timeout"]);this.w$ === g.O5.Kka && (this.fpa("2018") || this.fpa("2020")?m=["received_soad"]:this.fpa("5000") && (m=["should_reset_device"]));l=this.GLb();l && (m=[l],this.hY=void 0);if(!m)switch(this.errorCode){case g.W.Y5:case g.W.E5:case g.W.Hjb:case g.W.wja:this.CZb && (m=["pause_timeout"]);break;case g.W.ZIa:case g.W.$Ia:m=this.Ea?["platform_error"]:["multiple_tabs"];break;case g.W.Aia:case g.W.qMa:case g.W.yja:case g.W.kMa:m=["platform_error","plugin_error"];break;case g.W.wU:m=["no_cdm","platform_error","plugin_error"];break;case g.W.YGa:case g.W.dt:case g.W.Z5:switch(this.Xf){case "FFFFD000":m=["device_needs_service","platform_error"];break;case "48444350":m=["unsupported_output","platform_error"];break;case "00000024":m=["private_mode"];}break;case g.W.mMa:case g.W.xja:m=["unsupported_output"];}!m && (0,g.sHa)(this.Ea) && (m=this.Ea == g.S.VT?["geo"]:["internet_connection_problem"]);m || this.errorCode !== g.W.FT || this.Ea !== g.S.jn || "S" !== this.platform.Lt || (m=["private_mode"]);if(!m)switch(this.Xfb(this.Ea)){case g.S.Rka:m=["should_upgrade"];break;case g.S.hMa:m=["should_reset_device"];break;case g.S.gMa:m=["should_reload_device"];break;case g.S.fMa:m=["should_exit_device"];break;case g.S.Bob:case g.S.xKa:m=["should_signout_and_signin"];break;case g.S.Cob:m=["internet_connection_problem"];break;case g.S.SFa:m=["platform_error","plugin_error"];break;case g.S.Dlb:case g.S.IIa:case g.S.JIa:m=["private_mode"];break;case g.S.Wia:m=["should_reload_with_preferred_locales"];}m=m || [];m.push(this.platform.Lt + this.errorCode);if(this.Ea)switch(this.Xfb(this.Ea)){case g.S.iMa:m.push("incorrect_pin");break;default:m.push("" + this.Ea);}m={display:{code:this.e$,text:this.hY},messageIdList:m,alert:this.alert,alertTag:this.Kna,preferredAudioLocale:null === (d=this.mK) || void 0 === d?void 0:d.n5a,preferredTextLocale:null === (h=this.mK) || void 0 === h?void 0:h.o5a};this.config().gJb && (m.debugData=this.PJ);return m;};c.prototype.Xfb=function(d){var h;h=parseInt(d,10);return isNaN(h)?d:h;};c.prototype.fpa=function(d){return ((0,f.Oa)(this.Xf)?this.Xf.toString():(0,f.Ag)(this.Xf)?this.Xf:"").endsWith(d);};c.prototype.GLb=function(){if(this.errorCode === g.W.KM && (this.Ea === g.S.tja || this.Ea === g.S.eMa))return this.HLb(this.Ea === g.S.tja);};c.prototype.HLb=function(d){var h,m,l,n;l=this.config().browserInfo || ({});n=null === (h=l.os) || void 0 === h?void 0:h.name;h=((null === (m=l.os) || void 0 === m?void 0:m.version) || "").split(".");m=parseInt(h && h[0]);h=parseInt(h && h[1]);switch(n){case "windows":return 6 > m || 6 === m && 1 > h?d?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";case "mac":return 10 > m || 10 === m && 10 > h?d?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return d?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};b.cOa=c;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.eja="MediaElementHelpersSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.IT="EventSourceFactorySymbol";},function(q,b,a){var k,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.IT=b.wHa=void 0;q=a(2);k=a(378);a=a(0);c.prototype.create=function(){return new k.El();};g=c;g=q.__decorate([(0,a.X)()],g);b.wHa=g;b.IT="EventSourceFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.aGa="DebouncerFactorySymbol";},function(q,b,a){var k;function c(g,f,d,h,m,l){this.level=g;this.gq=f;this.timestamp=d;this.message=h;this.cb=m;this.index=void 0 === l?0:l;this.Tnb={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.Pia=void 0;k=a(6);c.prototype.Ufa=function(g,f){var d;d="" + this.message;this.cb.forEach(function(h){d+=h.dM(g,f);});return (this.timestamp.ia(k.sa) / 1E3).toFixed(3) + "|" + this.index + "|" + (this.Tnb[this.level] || this.level) + "|" + this.gq + "| " + d;};b.Pia=c;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.xLa="MomentObserverFactory";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.HPa="SegmentConfigFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.NNa="PlaybackFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.rRa="VideoPlayerFactorySymbol";},function(q,b,a){Object.defineProperties(b,{__esModule:{value:!0}});q=a(1);q.__exportStar(a(786),b);q.__exportStar(a(787),b);q.__exportStar(a(788),b);q.__exportStar(a(789),b);q.__exportStar(a(790),b);q.__exportStar(a(791),b);q.__exportStar(a(792),b);q.__exportStar(a(793),b);q.__exportStar(a(794),b);q.__exportStar(a(795),b);q.__exportStar(a(796),b);q.__exportStar(a(797),b);q.__exportStar(a(801),b);q.__exportStar(a(236),b);q.__exportStar(a(802),b);q.__exportStar(a(237),b);q.__exportStar(a(803),b);q.__exportStar(a(804),b);q.__exportStar(a(805),b);q.__exportStar(a(806),b);q.__exportStar(a(807),b);q.__exportStar(a(808),b);q.__exportStar(a(809),b);q.__exportStar(a(810),b);q.__exportStar(a(811),b);q.__exportStar(a(812),b);q.__exportStar(a(813),b);q.__exportStar(a(814),b);q.__exportStar(a(815),b);q.__exportStar(a(816),b);q.__exportStar(a(817),b);q.__exportStar(a(818),b);q.__exportStar(a(819),b);q.__exportStar(a(820),b);q.__exportStar(a(821),b);q.__exportStar(a(830),b);q.__exportStar(a(833),b);q.__exportStar(a(834),b);q.__exportStar(a(835),b);},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Vna=void 0;b.Vna=function(a,c,k){var g,f;g=!0;k.forEach(function(d){var h;if(g && a === d.profile){h=d.ranges;g=void 0 === h?c >= d.min && c <= d.max:h.some(function(m){return c >= m.min && c <= m.max;});!g && d.disallowed && d.disallowed.some(function(m){if(m.stream.bitrate === c)return (f=m.disallowedBy,!0);});}});return {inRange:g,d$:f};};},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.YH=void 0;b.YH={Mn:function(a){return a;}};},function(q,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.ev=b.fN=void 0;c=a(396);(function(g){g[g.wR=0]="primary";g[g.RJ=1]="fallback";})(k=b.fN || (b.fN={}));q=(function(){function g(f,d){var h,m;m=this;void 0 === d && (d=!1);this.NAb=d;this.filters=(h={},h[k.wR]=[],h[k.RJ]=[],h);Array.isArray(f)?f.forEach(function(l){return m.and(l,k.wR);}):this.and(f);}g.prototype.and=function(f,d){void 0 === d && (d=k.wR);f !== c.YH && this.filters[d].push({filter:f,GYa:!0});return this;};g.prototype.or=function(f,d){void 0 === d && (d=k.wR);this.filters[d].push({filter:f,GYa:!1});return this;};g.prototype.filter=function(f){var d;d=this;[k.wR,k.RJ].forEach(function(h){d.filters[h]=d.filters[h].filter(function(m){return f(h,m.filter);});});};g.prototype.Mn=function(f,d,h,m){var l;l=this;return [k.wR,k.RJ].reduce(function(n,p){return l.filters[p].reduce(function(r,t){t.GYa?r=t.filter.Mn(r,d,h,m):0 === r.length && (r=t.filter.Mn(f,d,h,m));return r;},n);},f);};return g;})();b.ev=q;},function(q,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.$s=b.eqb=void 0;c=a(1);k=a(239);q=(function(){function g(f,d){this.Va=f;this.RB=d?[d]:[];}Object.defineProperties(g.prototype,{value:{get:function(){return this.Va;},enumerable:!1,configurable:!0}});g.prototype.addListener=function(f){-1 === this.RB.indexOf(f) && (this.RB=this.RB.slice(),this.RB.push(f));};g.prototype.removeListener=function(f){f=this.RB.indexOf(f);-1 !== f && (this.RB=this.RB.slice(),this.RB.splice(f,1));};return g;})();b.eqb=q;q=(function(g){function f(d,h){return g.call(this,d,h) || this;}c.__extends(f,g);f.mDa=function(d,h,m){return new k.qja(d,h,m,!1);};Object.defineProperties(f.prototype,{value:{get:function(){return this.Va;},set:function(d){this.set(d);},enumerable:!1,configurable:!0}});f.prototype.set=function(d){var h;h=this.Va;h !== d && (this.Va=d,this.RB.forEach(function(m){return m({oldValue:h,newValue:d});}));};return f;})(q);b.$s=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Nt=void 0;b.Nt=function(a,c){var k;a=Math.abs(a);for(c=Math.abs(c);c;){k=c;c=a % c;a=k;}return a;};},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.LNa=void 0;c=a(1);q=(function(k){function g(f,d){f=k.call(this,f) || this;f.L0a=d;f.name="PlaybackError";return f;}c.__extends(g,k);g.PRb=function(f){return f && f.message && f.stack && f.L0a?"PlaybackError" === (null === f || void 0 === f?void 0:f.name):!1;};return g;})(Error);b.LNa=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ue=void 0;q=a(1);q.__exportStar(a(402),b);q.__exportStar(a(850),b);q.__exportStar(a(240),b);q.__exportStar(a(851),b);q.__exportStar(a(852),b);q.__exportStar(a(853),b);q.__exportStar(a(403),b);q.__exportStar(a(855),b);c=a(56);Object.defineProperties(b,{ue:{enumerable:!0,get:function(){return c.ue;}}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Bp=b.kT=void 0;(function(a){a[a.default=0]="default";a[a.disabled=1]="disabled";a[a.XTb=2]="lowCpuPlaybackStarting";})(b.kT || (b.kT={}));(function(a){a[a.CLOSED=0]="CLOSED";a[a.OPEN=1]="OPEN";})(b.Bp || (b.Bp={}));},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.assert=b.AssertionError=void 0;c=a(2);k=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}c.__extends(f,g);return f;})(Error);b.AssertionError=k;b.assert=function(g,f){if(!g)throw new k(f || "Assertion failed");};},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.L$=b.aKb=b.Mra=void 0;c=a(243);b.Mra=function(k,g){var f;f=void 0;return Object.keys(k.P).some(function(d){var h;return null === (h=(f=k.P[d]).next) || void 0 === h?void 0:h[g];})?f:void 0;};b.aKb=function(k,g){return c.oe(Object.keys(k.P),function(f){var d;return null === (d=k.P[f].next) || void 0 === d?void 0:d[g];});};b.L$=function(k,g){return Object.keys(k.P).filter(function(f){var d;return null === (d=k.P[f].next) || void 0 === d?void 0:d[g];});};},function(q){function b(){}function a(c){this.HUa=c;this.Dr=[];this.bh=null;}b.prototype.clear=function(){this.If=null;this.size=0;};b.prototype.find=function(c){var g;for(var k=this.If;null !== k;){g=this.zo(c,k.data);if(0 === g)return k.data;k=k.ci(0 < g);}return null;};b.prototype.lowerBound=function(c){var d;for(var k=this.If,g=this.iterator(),f=this.zo;null !== k;){d=f(c,k.data);if(0 === d)return (g.bh=k,g);g.Dr.push(k);k=k.ci(0 < d);}for(d=g.Dr.length - 1;0 <= d;--d){if((k=g.Dr[d],0 > f(c,k.data)))return (g.bh=k,g.Dr.length=d,g);}g.Dr.length=0;return g;};b.prototype.upperBound=function(c){for(var k=this.lowerBound(c),g=this.zo;null !== k.data() && 0 === g(k.data(),c);){k.next();}return k;};b.prototype.min=function(){var c;c=this.If;if(null === c)return null;for(;null !== c.left;){c=c.left;}return c.data;};b.prototype.max=function(){var c;c=this.If;if(null === c)return null;for(;null !== c.right;){c=c.right;}return c.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.Wf=function(c){for(var k=this.iterator(),g;null !== (g=k.next());){c(g);}};a.prototype.data=function(){return null !== this.bh?this.bh.data:null;};a.prototype.next=function(){var c;if(null === this.bh){c=this.HUa.If;null !== c && this.BTa(c);}else if(null === this.bh.right){do {if((c=this.bh,this.Dr.length))this.bh=this.Dr.pop();else {this.bh=null;break;}}while(this.bh.right === c);}else (this.Dr.push(this.bh),this.BTa(this.bh.right));return null !== this.bh?this.bh.data:null;};a.prototype.nL=function(){var c;if(null === this.bh){c=this.HUa.If;null !== c && this.xTa(c);}else if(null === this.bh.left){do {if((c=this.bh,this.Dr.length))this.bh=this.Dr.pop();else {this.bh=null;break;}}while(this.bh.left === c);}else (this.Dr.push(this.bh),this.xTa(this.bh.left));return null !== this.bh?this.bh.data:null;};a.prototype.BTa=function(c){for(;null !== c.left;){this.Dr.push(c);c=c.left;}this.bh=c;};a.prototype.xTa=function(c){for(;null !== c.right;){this.Dr.push(c);c=c.right;}this.bh=c;};q.exports=b;},function(q,b){function a(c){var k,g;k=Math.abs(c);g=1 / (1 + k / 2);k=g * Math.exp(-k * k - 1.26551223 + g * (1.00002368 + g * (.37409196 + g * (.09678418 + g * (-.18628806 + g * (.27886807 + g * (-1.13520398 + g * (1.48851587 + g * (-.82215223 + .17087277 * g)))))))));return 0 <= c?k:2 - k;}Object.defineProperties(b,{__esModule:{value:!0}});b.UIb=b.q5a=b.AP=void 0;b.AP=a;b.q5a=function(c){var k,g,d;if(2 <= c)return -100;if(0 >= c)return 100;k=1 > c?c:2 - c;g=Math.sqrt(-2 * Math.log(k / 2));g=-.70711 * ((2.30753 + .27061 * g) / (1 + g * (.99229 + .04481 * g)) - g);for(var f=0;2 > f;f++){d=a(g) - k;g+=d / (1.1283791670955126 * Math.exp(-(g * g)) - g * d);}return 1 > c?g:-g;};b.UIb=function(c){return 1 - a(c);};},function(q){function b(a){this.pma=a;this.Ig=[];this.tt=!1;this.UI=void 0;this.Zk={};}b.prototype.v8=function(a){this.Ig.length === this.pma && this.Ig.shift();Array.isArray(a)?this.Ig=this.Ig.concat(a):this.Ig.push(a);this.tt=!0;};b.prototype.YP=function(){return this.Ig.length;};b.prototype.Soa=function(){var a;a=this.Ig;return 0 < a.length?a.reduce(function(c,k){return c + k;},0) / this.Ig.length:void 0;};b.prototype.p9=function(){var a,c;a=this.Ig;if(0 < a.length){c=this.Soa();a=a.reduce(function(k,g){return k + g * g;},0) / a.length;return Math.sqrt(a - c * c);}};b.prototype.Ev=function(a){var c,k,g;if(this.tt || void 0 === this.UI)(this.UI=this.Ig.slice(0).sort(function(f,d){return f - d;}),this.Zk={},this.tt=!1);if(void 0 === this.Zk[a]){c=this.UI;k=Math.floor(a / 100 * (c.length - 1) + 1) - 1;g=(a / 100 * (c.length - 1) + 1) % 1;this.Zk[a]=k === c.length - 1?c[k]:c[k] + g * (c[k + 1] - c[k]);}return this.Zk[a];};q.exports=b;},function(q,b,a){var f;function c(d){this.reset();this.N3b(d);}function k(d){this.setInterval(d);this.reset();}function g(d){this.$D=new k(d);this.xf=0;this.md=null;}f=a(10);c.prototype.N3b=function(d){this.oN=Math.pow(.5,1 / d);this.uV=d;};c.prototype.reset=function(d){d && d.Ca && f.Oa(d.Ca)?d.Ye && f.Oa(d.Ye)?(this.ay=this.qtb,this.Er=d.Ca,this.WD=d.Ye + d.Ca * d.Ca):(this.ay=this.qtb,this.Er=d.Ca,this.WD=d.Ca * d.Ca):this.WD=this.Er=this.ay=0;};c.prototype.add=function(d){var h;if(f.Oa(d)){this.ay++;h=this.oN;this.Er=h * this.Er + (1 - h) * d;this.WD=h * this.WD + (1 - h) * d * d;}};c.prototype.vta=function(){var d,h,m;if(0 === this.ay)return {Ca:0,Ye:0};d=this.Er;h=this.WD;m=1 - Math.pow(this.oN,this.ay);d/=m;h/=m;m=d * d;return {Ca:d,Ye:h > m?h - m:0};};c.prototype.get=function(){var d;d=this.vta();return {Ca:Math.floor(d.Ca),Ye:Math.floor(d.Ye)};};c.prototype.getState=function(){return 0 === this.ay?null:{a:Number(this.Er.toPrecision(6)),s:Number(this.WD.toPrecision(6)),n:this.ay};};c.prototype.re=function(d){if(f.Gb(d) || !f.has(d,"a") || !f.has(d,"s") || !f.isFinite(d.a) || !f.isFinite(d.s))return (this.WD=this.Er=this.ay=0,!1);this.Er=d.a;this.WD=d.s;f.has(d,"n") && f.Oa(d.n)?this.ay=d.n:this.ay=16 * this.uV;return !0;};k.prototype.setInterval=function(d){this.uV=d;this.oN=-Math.log(.5) / d;};k.prototype.reset=function(d){this.Qb=this.dh=null;d && f.isFinite(d.Ca)?this.Er=d.Ca:this.Er=0;};k.prototype.start=function(d){f.Gb(this.dh) && (this.Qb=this.dh=d);};k.prototype.add=function(d,h,m){var l,n,p;f.Gb(this.dh) && (this.Qb=this.dh=h);this.dh=Math.min(this.dh,h);h=Math.max(m - h,1);l=this.oN;n=Math.max(m,this.Qb);p=n - this.Qb;m=n - m;this.Er=this.Er * (0 < p?Math.exp(-l * p):1) + 8 * d / h * (1 - Math.exp(-l * h)) * (0 < m?Math.exp(-l * m):1);this.Qb=n;};k.prototype.get=function(d){var h;d=Math.max(d,this.Qb);h=this.Er * Math.exp(-this.oN * (d - this.Qb));d=1 - Math.exp(-this.oN * (d - this.dh));0 < d && (h/=d);return {Ca:Math.floor(h)};};k.prototype.toString=function(){return "ewmav(" + this.uV + ")";};g.prototype.setInterval=function(d){this.$D.setInterval(d);};g.prototype.reset=function(d){this.$D.reset(d);this.xf=0;this.md=null;};g.prototype.start=function(d){!f.Gb(this.md) && d > this.md && (this.xf+=d - this.md,this.md=null);this.$D.start(d - this.xf);};g.prototype.add=function(d,h,m){!f.Gb(this.md) && m > this.md && (this.xf+=h > this.md?h - this.md:0,this.md=null);this.$D.add(d,h - this.xf,m - this.xf);};g.prototype.stop=function(d){this.md=Math.max(f.Gb(this.$D.Qb)?0:this.$D.Qb + this.xf,f.Gb(this.md)?d:Math.min(this.md,d));};g.prototype.get=function(d){return this.$D.get((f.Gb(this.md)?d:this.md) - this.xf);};g.prototype.toString=function(){return this.$D.toString();};q.exports={kmb:c,mac:k,imb:g};},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.uGa=b.jGa=b.Imb=void 0;c=a(1);k=a(411);g=(function(){function f(d,h,m,l,n){this.alpha=d;this.Ca=h;this.weight=l;this.yka=m * this.weight;this.Tfa=n;}Object.defineProperties(f.prototype,{Ye:{get:function(){return this.weight?this.yka / this.weight:0;},enumerable:!1,configurable:!0}});f.prototype.update=function(d,h,m){var l,n,p,r;l=this.alpha;n=this.weight;p=this.Tfa;r=l * (d - p);5 < r && (this.weight/=Math.exp(r),this.Tfa=p=d);d=Math.exp(l * (h - p)) - Math.exp(l * (d - p));h=this.weight+=d;l=this.Ca;this.Ca=p=l + d * (m - l) / h;this.yka=n?this.yka * (h - d) / n + d * (m - p) * (m - l):0;};return f;})();b.Imb=g;q=(function(){var w00;w00=2;function f(d){var x00,h,m,l;x00=2;for(;x00 !== 7;){switch(x00){case 2:var C59="1";C59+="SIYbZ";C59+="rNJCp9";C59;(h=d.max_n,m=d.min_b,l=d.min_iv);this.Vaa=d.hl;x00=4;break;case 4:this.DUb=h;this.E9a=m;this.IVb=l;this.reset();x00=7;break;}}}for(;w00 !== 7;){switch(w00){case 2:f.prototype.reset=function(){var y00,d;y00=2;for(;y00 !== 9;){switch(y00){case 2:d=-Math.log(.5) / this.Vaa;y00=1;break;case 1:this.KBa=new g(d,0,0,0,0);this.LBa=new g(d,0,0,0,0);this.Lz=this.sS=null;this.Kva=[];y00=9;break;}}};f.prototype.start=function(d){var z00;z00=2;for(;z00 !== 1;){switch(z00){case 2:null === this.Lz && (this.Lz=d);z00=1;break;}}};f.prototype.add=function(d,h,m){var u5q=a000;var A00,l,n,r,t,w,p;A00=2;for(;A00 !== 16;){switch(A00){case 2:l=this.Lz;this.Lz=l=null === l?h:Math.min(l,h);n=this.sS;A00=4;break;case 4:this.sS=null === n?m:Math.max(n,m);n=this.Kva;n.push([h,m,d]);n=this.R7b(n);A00=7;break;case 7:d=this.DUb;h=this.KBa;A00=14;break;case 13:A00=n && n.length > d?12:17;break;case 10:(r=p[0] - l,t=p[1] - l,w=Math.max(t - r,1));p=p[2];u5q.s59(0);h.update(r,t,u5q.Y59(w,p));A00=18;break;case 11:A00=p?10:13;break;case 14:m=this.LBa;A00=13;break;case 17:this.Kva=n;A00=16;break;case 12:p=n.shift();A00=11;break;case 18:u5q.V59(1);m.update(r,t,u5q.z59(8,w,p));A00=13;break;}}};f.prototype.R7b=function(d){var B00,x,y,p,r,t,w,v,u,n,h,m,l;B00=2;for(;B00 !== 22;){switch(B00){case 20:(x=h[n + 1],y=Math.min(x,w) - Math.max(h[n],t));0 < y && (y=y * v / u,r[n]=r[n]?r[n] + y:y);B00=18;break;case 24:n++;B00=26;break;case 26:B00=n < p?25:23;break;case 8:h=h.filter(function(z,A,B){var C00;C00=2;for(;C00 !== 1;){switch(C00){case 2:return B.indexOf(z) === A;break;}}}).sort(function(z,A){var D00;D00=2;for(;D00 !== 1;){switch(D00){case 2:a000.V59(2);return a000.Y59(z,A);break;}}});(p=h.length - 1,r=Array(p));B00=6;break;case 13:n=d[l];(t=n[0],w=n[1],v=n[2],u=w - t);B00=11;break;case 16:l++;B00=14;break;case 11:n=0;B00=10;break;case 23:return d;break;case 27:n=0;B00=26;break;case 5:n=d[l];h.push(n[0]);h.push(n[1]);B00=9;break;case 2:(h=[],m=d.length,l=0);B00=1;break;case 25:(m=r[n],0 < m && d.push([h[n],h[n + 1],m]));B00=24;break;case 17:n++;B00=10;break;case 10:B00=n < p?20:16;break;case 15:d=[];B00=27;break;case 1:B00=l < m?5:8;break;case 14:B00=l < m?13:15;break;case 18:B00=w <= x?16:17;break;case 9:l++;B00=1;break;case 6:l=0;B00=14;break;}}};f.prototype.get=function(d,h){var B5q=a000;var E00,u,x,y,z,A,m,l,n,p,r,t,w,v;E00=2;for(;E00 !== 17;){switch(E00){case 9:E00=u < l?8:12;break;case 18:(w=this.KBa,v=this.LBa);E00=10;break;case 10:d=w.weight;h=v.weight;return {Ca:d?w.Ca:null,Ye:d?w.Ye:null,CO:h?v.Ca:null,LS:h?v.Ye:null};break;case 3:u=0;E00=9;break;case 11:0 < r && 0 < m && 0 !== h && (void 0 === h && (h=this.E9a),r >= t && (h=Math.min(h,this.E9a)),t=h * w.Ca,m=Math.pow(h,2) * w.Ye,0 === m?r=Math.max(r,t):(u=new k.Eia(t,m).AXa(r),l=t - u[1],u=1 - u[0],r=1E-11 < u?Math.max(l / u,r):r + 2 * m / t),w.update(p - n,d - n,r / h),v.update(p - n,d - n,0));E00=10;break;case 1:E00=0 < l || r > t?5:18;break;case 8:(x=m[u],y=x[0] - n,z=x[1] - n,A=Math.max(z - y,1));x=x[2];B5q.s59(0);w.update(y,z,B5q.Y59(A,x));B5q.s59(1);v.update(y,z,B5q.Y59(8,A,x));E00=13;break;case 13:u++;E00=9;break;case 5:w=new g(w.alpha,w.Ca,w.Ye,w.weight,w.Tfa);v=new g(v.alpha,v.Ca,v.Ye,v.weight,v.Tfa);E00=3;break;case 2:(m=this.Kva,l=m.length,n=this.Lz || 0,p=this.sS || 0,r=d - p,t=this.IVb,w=this.KBa,v=this.LBa);E00=1;break;case 12:m=w.weight;E00=11;break;}}};f.prototype.toString=function(){var F00;F00=2;for(;F00 !== 1;){switch(F00){case 2:var l59="Deliv";l59+="eryDi";l59+="st(";return l59 + this.Vaa + ")";break;case 4:var j59="De";j59+="li";j59+="veryDist(";var H59="Del";H59+="iveryDis";H59+="t(";return (H59 - this.Vaa) / j59;break;F00=1;break;}}};return f;break;}}})();b.jGa=q;q=(function(f){function d(h){h=f.call(this,h) || this;h.reset();return h;}c.__extends(d,f);d.prototype.reset=function(){f.prototype.reset.call(this);this.offset=0;this.jM=null;};d.prototype.start=function(h){var m;m=this.jM;null !== m && h > m && (this.offset+=h - m,this.jM=null);f.prototype.start.call(this,h - this.offset);};d.prototype.add=function(h,m,l){var n;n=this.jM;null !== n && l > n && (this.offset+=Math.max(m - n,0),this.jM=null);n=this.offset;f.prototype.add.call(this,h,m - n,l - n);};d.prototype.stop=function(h){var m,l;m=this.sS;l=this.jM;this.jM=Math.max(null === m?0:m + this.offset,null === l?h:Math.min(l,h));};d.prototype.get=function(h,m){var l;l=this.jM;return f.prototype.get.call(this,(null === l?h:l) - this.offset,m);};return d;})(q);b.uGa=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Eia=void 0;c=a(407);q=(function(){function k(g,f){this.wxa=g;this.Ye=f;0 < f?(this.n7a=f=Math.pow(g,3) / f,g=2 * f / g,500 >= g && (this.zra=Math.exp(g))):this.zra=0;}k.prototype.zXa=function(g){var f,d,h;f=this.wxa;d=this.zra;if(d && 0 < g){h=Math.sqrt(this.n7a / (2 * g));f=g / f;g=c.AP(h * (f - 1));h=c.AP(h * (f + 1));return Math.max((2 - g + d * h) / 2,0);}return g < f?0:g > f?1:.5;};k.prototype.nea=function(g,f,d){for(var h=0,m=this.wxa + 5 * Math.sqrt(this.Ye),l=1,n=0;Math.abs(l) > f && d--;){n=(h + m) / 2;l=this.zXa(n);l=g - l;0 > l?m=n:h=n;}return n;};k.prototype.AXa=function(g){var f,d,h,m;f=this.wxa;d=this.zra;if(d && 0 < g){h=Math.sqrt(this.n7a / (2 * g));m=g / f;g=2 - c.AP(h * (m - 1));d*=c.AP(h * (m + 1));return [Math.max((g + d) / 2,0),Math.max(f * (g - d) / 2,0)];}return g < f?[0,0]:g > f?[1,f]:[.5,f / 2];};return k;})();b.Eia=q;},function(q,b,a){var k,g;function c(f,d,h,m){k.call(this,h,m);this.jy=new g(f);this.Xtb=d;}k=a(152);g=a(408);c.prototype=Object.create(k.prototype);c.prototype.shift=function(){var f;f=this.nz(0);k.prototype.shift.call(this);null !== f && this.jy.v8(f);return f;};c.prototype.flush=function(){var f;f=this.get();this.jy.v8(f);k.prototype.reset.call(this);return f;};c.prototype.get=function(){var f;f=this.bK();return {sampleSize:this.YP(),Wda:f,Cxa:f.qk?(f.bm - f.am) / f.qk:void 0};};c.prototype.YP=function(){return this.jy.YP();};c.prototype.bK=function(){return this.jy.YP() < this.Xtb?{am:void 0,qk:void 0,bm:void 0,sampleSize:void 0,vk:void 0}:{am:this.jy.Ev(25),qk:this.jy.Ev(50),bm:this.jy.Ev(75),sampleSize:this.jy.YP(),vk:this.jy.Ev.bind(this.jy)};};c.prototype.toString=function(){return "biqr(" + this.mO + "," + this.ae + "," + this.el + ")";};q.exports=c;},function(q,b,a){var k,g;function c(f){this.K={M_:f.maxc || 25,Mpa:f.c || .5,B9b:f.w || 15E3,fB:f.b || 5E3};k.call(this,this.K.B9b,this.K.fB);this.YV();}k=a(152);g=a(245).TDigest;c.prototype=Object.create(k.prototype);c.prototype.shift=function(){var f;f=this.nz(0);k.prototype.shift.call(this);null !== f && (this.Jf.push(f,1),this.tt=!0);return f;};c.prototype.flush=function(){var f;f=this.get();this.Jf.push(f,1);this.tt=!0;k.prototype.reset.call(this);return f;};c.prototype.get=function(){return this.p4a();};c.prototype.MB=function(){var f;f=this.p4a();return {min:f.min,p10:f.Oda,p25:f.am,p50:f.qk,p75:f.bm,p90:f.Pda,max:f.max,centroidSize:f.aBb,sampleSize:f.sampleSize,centroids:f.Bj};};c.prototype.p4a=function(){var f;if(0 === this.Jf.size())return null;f=this.Jf.vk([0,.1,.25,.5,.75,.9,1]);if(f[2] === f[4])return null;if(this.tt || !this.Gg)(this.tt=!1,this.Gg={min:f[0],Oda:f[1],am:f[2],qk:f[3],bm:f[4],Pda:f[5],max:f[6],vk:this.Jf.vk.bind(this.Jf),aBb:this.Jf.size(),sampleSize:this.Jf.n,Bj:this.JLb(),MB:this.MB.bind(this)});return this.Gg;};c.prototype.JLb=function(){var f;if(0 === this.Jf.size())return null;if(!this.tt && this.Gg)return this.Gg.centroids;f=this.Jf.vk([.25,.75]);if(f[0] === f[1])return null;this.Jf.size() > this.K.M_ && this.Jf.qB();f=this.Jf.kr(!1).map(function(d){return {mean:d.Pg,n:d.n};});return JSON.stringify(f);};c.prototype.l4a=function(){return this.Jf.summary();};c.prototype.size=function(){return this.Jf.size();};c.prototype.toString=function(){return "btdtput(" + this.mO + "," + this.ae + "," + this.el + "): " + this.Jf.summary();};c.prototype.YV=function(){this.Jf=new g(this.K.Mpa,this.K.M_);};q.exports=c;},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t,w,v;function c(u){this.config=u;this.qsb=u.xla;}k=a(415).Dja;b=a(409);g=b.kmb;f=b.imb;d=a(247).jmb;h=a(410).uGa;m=a(247).arb;l=a(412);n=a(413);p=a(416).AQa;r=a(882);t=a(883);w=a(248);v=a(884).fOa;c.prototype.constructor=c;c.prototype.create=function(u,x){var y,z,A,B;y=this.qsb[u];z=x[u];A={};y && Object.keys(y).forEach(function(D){A[D]=y[D];});z && Object.keys(z).forEach(function(D){A[D]=z[D];});switch(A.type){case "slidingwindow":B=new k(this.config,new d(A.mw));break;case "discontiguous-ewma":B=new k(this.config,new f(A.mw));break;case "initial-discontiguous-ewma":B=new v(new f(A.mw),A.playerStates);break;case "wssl":B=new m(A.mw,A.max_n);break;case "iqr":B=new l(A.mx,A.mn,A.bw,A.iv);break;case "tdigest":B=new n(A);break;case "discrete-ewma":B=new g(A.hl);break;case "tdigest-history":B=new p(A);break;case "iqr-history":B=new r(A);break;case "avtp":B=new w();break;case "entropy":B=new t(A);break;case "deliverytime":B=new k(this.config,new h(A));}B && (B.type=A.type);return B;};q.exports=c;},function(q,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.Dja=void 0;new (a(5).default.Console)("ASEJS_PACING_FILTER","media|asejs");q=(function(){function c(k,g){this.config=k;this.filter=g;}c.prototype.w4b=function(k,g,f,d){var h,m,l;l=d.U1;if(!l || !l.Qba())return !0;switch(this.config.kQb){case "requested":return !1;case "requested-low":return (l=l.Ndb(this.config.b0a),l.J9a() > ((null === (h=d.OG) || void 0 === h?void 0:h.h1) || 0));case "inferred":if((l=l.Ndb(this.config.b0a),l.K8a(k,g,f,this.config.Qda)))return l.J9a() > ((null === (m=d.OG) || void 0 === m?void 0:m.h1) || 0);}return !0;};c.prototype.add=function(k,g,f,d){this.w4b(k,g,f,d) && this.filter.add(k,g,f,d);};c.prototype.get=function(k){if(this.filter.get)return this.filter.get(k);};c.prototype.start=function(k){this.filter.start && this.filter.start(k);};c.prototype.stop=function(k){this.filter.stop && this.filter.stop(k);};c.prototype.flush=function(){this.filter.flush && this.filter.flush();};c.prototype.reset=function(){this.filter.reset && this.filter.reset();};return c;})();b.Dja=q;},function(q,b,a){var k,g;function c(f){this.K={M_:f.maxc || 25,Mpa:f.c || .5,z0b:f.rc || "none",Vaa:f.hl || 7200};this.YV();this.Evb=this.K.z0b;this.uV=this.K.Vaa;this.ala=Math.exp(Math.log(2) / this.uV);this.ala=Math.max(this.ala,1);this.c7=1;}k=a(10);g=a(245).TDigest;new (a(5).default.Console)("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.getState=function(){var f;if(0 === this.Jf.size())return null;f=this.Jf.vk([.25,.75]);if(f[0] === f[1])return null;this.Jf.size() > this.K.M_ && this.Jf.qB();f=this.Jf.kr(!1).reduce((function(d,h){k.Oa(h.Pg) && k.Oa(h.n) && d.push({mean:h.Pg,n:h.n / this.c7});return d;}).bind(this),[]);return {tdigest:JSON.stringify(f)};};c.prototype.re=function(f){var d;if(k.Gb(f) || !k.has(f,"tdigest") || !k.Ag(f.tdigest))return !1;try{d=JSON.parse(f.tdigest);}catch(h){return !1;}d.forEach(function(h){k.isFinite(h.n) || (h.n=1);});f=d.map(function(h){return {Pg:h.mean,n:h.n};});this.c7=1;this.Jf.vza(f);void 0 === this.Jf.vk(0) && this.YV();};c.prototype.get=function(){var f,d;f=this.Jf;d=f.vk([0,.1,.25,.5,.75,.9,1]);return {min:d[0],Oda:d[1],am:d[2],qk:d[3],bm:d[4],Pda:d[5],max:d[6],Bj:f.kr(!1)};};c.vNb=function(f){var d;d=new c({});k.Gb(f) || k.ta(f) || !k.isArray(f.Bj) || (d.Jf.vza(f.Bj),void 0 === d.Jf.vk(0) && d.YV());f=d.Jf.vk([.25,.75]);return f[0] === f[1]?null:function(h){return d.Jf.vk(h);};};c.prototype.add=function(f){var d;d=1;"ewma" === this.Evb && (this.c7=d=this.c7 * this.ala);this.Jf.push(f,d);};c.prototype.toString=function(){return "TDigestHist(" + this.Jf.summary() + ")";};c.prototype.YV=function(){this.Jf=new g(this.K.Mpa,this.K.M_);};q.exports={AQa:c};},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.x6=void 0;c=a(890);k=a(4);b.x6=(function(){function f(d,h){g=new c.gQa(d,h);}f.instance=function(){k.assert(g,"expected StaticMediaProvider to exist");return g;};return f;})();},function(q){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,k){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),k * a.byteLength / a.length);}:function(a,c,k){a.set(c,k);};q.exports={from:function(a,c,k,g){a=new a(c.length);for(var f="function" === typeof k,d=0;d < c.length;++d){a[d]=f?k.call(g,c[d],d,c):c[d];}return a;},set:b};},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);q=(function(k){function g(){var f;f=null !== k && k.apply(this,arguments) || this;f.Gi=1536;return f;}c.__extends(g,k);g.wa=!0;return g;})(a(187).default);b.default=q;a=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.Xa="ac-3";return g;})(q);b.$S=a;q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.Xa="ec-3";return g;})(q);b.ET=q;},function(q,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);k=a(106);q=a(27);g=k.av;q=(function(f){function d(){return null !== f && f.apply(this,arguments) || this;}c.__extends(d,f);d.prototype.parse=function(){this.tb();this.fileSize=this.l.xc();this.I=this.l.xc();this.duration=this.l.xc(!1,!0);this.u0=this.l.xc();this.l.xc();this.y0=this.l.xc();this.m0=this.l.ba();this.v0=this.l.xc();this.MY=this.l.ba();this.l.Yq();this.gd={moof:{offset:this.u0},sidx:{offset:this.v0,size:this.MY}};this.gd[k.GD]={offset:this.y0,size:this.m0};this.l.offset - this.startOffset <= this.length - 24 && (this.x0=this.l.xc(),this.i0=this.l.ba(),this.w0=this.l.xc(),this.h0=this.l.ba(),this.gd[k.Hp]={offset:this.x0,size:this.i0},this.gd[k.Gp]={offset:this.w0,size:this.h0});return !0;};d.Xa=g;d.wa=!1;return d;})(q.yb);b.default=q;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);q=a(106);a=a(27);k=q.bv;a=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}c.__extends(f,g);f.prototype.parse=function(){var d,l,n;this.tb();1 <= this.version && this.l.Yq();d=this.l.ba();this.gd={};for(var h=this.startOffset + this.length,m=0;m < d;++m){l=this.l.rh();"uuid" === l && (l=this.l.Yq());n=this.l.xc();this.gd[l]={offset:h,size:n};h+=n;}return !0;};f.Xa=k;f.wa=!1;return f;})(a.yb);b.default=a;},function(q){var b,a,c,k;b={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,pg:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,pg:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,pg:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};k={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,pg:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};q.exports={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":k},reset:{"heaac-2-dash":b,"heaac-2hq-dash":b},"heaac-2-dash":b,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":k};},function(q,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);k=a(27);g=a(85);q=(function(f){function d(h,m,l,n,p){l=f.call(this,l,n,p) || this;l.YW=h;l.Ik=m;l.Ba={};return l;}c.__extends(d,f);d.prototype.parse=function(h){var m,l,n,p,r,t;this.offset=0;m=[];for(h=h || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){l=this.offset;n=this.ba();if(0 === n)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};p=g.Uk(this.ba());if(null === p)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === p){if(16 > this.view.byteLength - this.offset)break;p=this.Yq();}if(0 === m.length && this.Ik.uF(p,l,n))break;if(l + n > this.view.byteLength)break;r=this.YW[p];t=void 0;if(r){if((t=new r(this,p,l,n,m[0]),(m[0] || this).xm(t),t.parse(h)))this.config.Mw && r.wa?m.unshift(t):this.offset=l + n;else return {done:!1,offset:this.offset,error:"parse error in " + p + " box"};}else this.offset=l + n;for(;m.length && this.offset > m[0].byteOffset + m[0].Li - 8;){t=m.shift();if(!t.Nn(h))return {done:!1,offset:this.offset,error:"finalize error in " + t.type + " box"};this.offset=t.byteOffset + t.Li;}if(0 === m.length && this.Ik.fF(p,l,n,t))break;}return !this.Ik.done && (h=this.Ik.endOffset?this.Ik.endOffset - this.view.byteLength:4096,0 < h)?{done:!1,offset:this.offset,iG:h}:{done:!0,offset:Math.min(this.Ik.endOffset || Infinity,this.offset)};};d.prototype.xm=function(h){k.yb.xm(this,h);};return d;})(a(912).SU);b.Ru=q;},function(q,b,a){var k;function c(g,f){g=f.indexOf(g);-1 !== g && f.splice(g,1);}Object.defineProperty(b,"__esModule",{value:!0});k=a(106);q=(function(){function g(f){this.endOffset=f;this.done=!1;}g.prototype.uF=function(){return this.done;};g.prototype.fF=function(f,d,h){return this.done=d + h >= this.endOffset;};return g;})();b.vD=q;q=(function(){function g(f,d,h,m){void 0 === d && (d=[]);void 0 === h && (h=[]);void 0 === m && (m=!1);this.Me=f;this.oq=d;this.cH=h;this.pG=m;this.done=!1;this.gd={};}g.prototype.uF=function(f,d,h){-1 !== g.KZ.indexOf(f) && (this.gd[f]={offset:d,size:h});if(-1 !== this.cH.indexOf(f)){if((this.gd[f]={offset:d,size:h},this.pG))this.endOffset=d + h;else return (this.endOffset=d,this.done=!0);}else this.Me && -1 !== this.Me.indexOf(f)?(f=1 < this.Me.length?4096:0,this.endOffset=Math.max(d + h + f,this.endOffset || 0)):-1 !== this.oq.indexOf(f) && (f=this.Me?4096:0,this.endOffset=Math.max(d + h + f,this.endOffset || 0));return this.done;};g.prototype.fF=function(f,d,h,m){var l;l=this;if(-1 !== this.cH.indexOf(f))return this.done=!0;f === k.av && this.PG(m.gd);f === k.bv && this.PG(m.gd);this.Me && c(f,this.Me);c(f,this.oq);return this.Me && 0 === this.Me.length && !this.oq.some(function(n){return l.gd[n];})?this.done=!0:this.done;};g.prototype.PG=function(f){var d;d=this;this.gd=f;this.endOffset=(this.Me || []).concat(this.oq).reduce(function(h,m){return d.gd[m]?(m=d.gd[m],Math.max(m.offset + (m.size || 4096),h)):h;},this.endOffset || 0);};g.KZ=["moov","sidx"];return g;})();b.ZT=q;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ed=b.Fd=b.height=b.width=b.bitrate=b.profile=b.duration=b.$=void 0;b.xa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAADARBtFvB2gDYBdsbXZoBkgA4BcA3x8jB+gAYCgDYBDogB4CgGoAgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBcDdHJhBrgBYBBcB0BrgOYDADgO4GgLoRgO4rABCAgAgBDYgDgDefbWRpBhgf4CgA4Aga4EgMYIB1AwgBYCBVDEgCQDAtgDoABsBygD4Gd2aWRlgKYKBWgB4BdvSGFugEQABlgEYCcBSm1pBuBmgBABAUB2BtgKgDgQQKAkgN4AgDYDccZHJlgA4CgUQGcMdXJsAggowFcKc3RiBsgBYBC+gA4ABzgSgGgEYCeuYXZjAxgcwVgagCgaQABIgBABgAYCgEITgAAPAYH/gAoBA0gKoBBDABgM4AcN/+EAAXBngA4BCsCyEDC/AuACgRoBB9gAYAcdTAHiCFBJgJYAcGaOvDDLAiDAD9H4gHICAUBigzYAB0gIgECFCRgAYEAAAQBwhFQABwgO4FgAYCAQgXoAgXwAgNoJgB4BBzBjgB4JAUgB4BB6gSINgEYBBjBvgB4JA4hNwABlB4gC4CBtBlgzwGAHDSg1wCgPwAgC4Dgc4GgAYBADDpgeoJdidWR0g6wCBagG4AgA4DgAACAhg4QKg+wBhLgAFwgsoCgAAHAtBpBsgPwAgA4BAlCpB0hdgAgA4BAdhfYAgHgDgKQDBMgkoAdmNTkuAxA2gAQAEw";b.He=!0;b.T="AAABVG1vb2YAAAAQbWZoZAAAAAAAAAABAAABPHRyYWYAAAAcdGZoZAACACoAAAABAAAAAQAAA+kAAQAAAAAAEHRmZHQAAAAAAAAAAAAAAQh0cnVuAAACBQAAADwAAAFcAAAAAAAAB+QAAACBAAAAegAAAFMAAABsAAAAWQAAAE0AAABtAAAAbQAAAGMAAACsAAAAeAAAAGUAAABRAAAAcwAAAFMAAABPAAAAZgAAAGAAAABrAAAA1AAAAIkAAABkAAAAVgAAAHIAAABaAAAASQAAAG4AAABvAAAAZwAAAWcAAACCAAAAawAAAFQAAABsAAAAWwAAAFoAAABqAAAAaQAAAGEAAACgAAAAeAAAAGYAAABTAAAAdQAAAE8AAABDAAAAXgAAAGcAAABlAAAAzQAAAIgAAABfAAAAXQAAAHYAAABUAAAASgAAAGcAAAB3AAAAWgAAIXVtZGF0AAACcQYF//9t3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE2MyByMzA2MCA1ZGI2YWE2IC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAyMSAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTMgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MzoweDExMyBtZT1oZXggc3VibWU9NyBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0xIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MSA4eDhkY3Q9MSBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0tMiB0aHJlYWRzPTcgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0wIHdlaWdodHA9MiBrZXlpbnQ9MjUwIGtleWludF9taW49MjUgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD00MCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIzLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IGlwX3JhdGlvPTEuNDAgYXE9MToxLjAwAIAAAAVrZYiEL4kCN5A+boF/348fETXLq9QaLJpyWwdY8YBBTeGj+e5rhUaE2bV+cPzaC9wCEdczgTifHAy6lfpyjkffMq5P0qb2nJcDqPLYBFETWMOGVTR2tLYMH+lLHMrzABBEu1Gyy27wXU7wH7Jf5FRqHQ/G0V4obmsVBiSmRs2P+CKptWSXjkKCny8cr/noz9jBOWeJzU5L6ELphkGR42NbL2wkMwbmSM9Q4Dbx0YsNDtXAF6wEs02ROVLOggxs3d2LLfwgzb1GWZGqIljCTWrBTgLR4QT98LsrMCsyGh38CdyXPDcdi7Bqg1Qajxl8+QgnAlMf7d1cPha1Q0gbh1ky5sdKK967kXwMKSuz5tCxt/PZXk8NI+WWIGuS8CGCi2xGgKLDW0WOaA/lcF1UEyxeHYuPEZj/w0Txc6yWemz03xLjeH8sgFnyOC5NSt1HX/VCheQdWxOqn7KDwOQYfDDvL047UVJd8s0sTFDOgCDQ1IGDXDdzyro4aymwfqh7KwOcvSmDeREraA7ero35PS9A9ZnPFrdk/Ec0qL8ebGCALZqpHK1kkKoclGUBFuaOu+VW9PaJd7LP5pJrIIRmc/0NwL80Z6pVL5ZvwTf0tBKcb0IBJ/Ec6afzhMUmgd4MOXjQA0Bz0shWyEMCDeYAOKezUfqQN+WUXvLkKai1nPvaT9EyQKA5yT277LaC8/i9q4qE5Ivawewy4Ol3skKMw1TjmB9tQbMdxg4pWQQZkz9HIXj8Ee+mngno4e6jkerPG6mMbEDWaelU+V8xrq8jDEEect/EEaYSd4kBcBTD3qHxXNDWQbWx8fbT7tOvP+5jUGnvp4MTr1WIR9E4PqB8AlbQOJEXJ9G4OkYt736TExncZ3+TX/7/3GGnkByVJpoJL9n8fTb9P6R6jC4uxQQLjQddel+4OjFPwg5oxOvM2JeY0wSjoq8PPAc2qPt7YeFj+MxFr3mU7xn526FtAc0rAVxTckWox8lakn7pk7+ki1pU6cLY3RWL+M7E4mVqzzD7wNfph712GG2C7OtaDxXiiXlj3o+fRN90IseMtLb5CGvW+SkV+3HM8ywAGLECfcrDTKPPmZNr4oa0aLkAt6bRqpYnIznfKwFW5U6TDcMEfedczY0TGaZjoOI7T0XFJP0My3ZHgm/c/tE2oyz4mOnRQealSTRFT3KxMn8ReeiWwYzEBlaTm66Ofrpb+pgcNBU6I32J8eWezD03CxAvtiwJOm++prKTyvQj1sOmDelBtumDpNksa80PyqpxMTlIM5Kjh+7M93uXX7VLIJ8en3juRF4qfflphEobb+LFkLTBlmoknRcqQhnZ/bkItEk7aKcMUqBB2UzW6aF2EKnTTUZO5S2MEDuJ/NJ9JCXgSD4ZXmTDaLWdKuK86oYpGPnQFDj+YN9fb2G6UHtyfJ89OhGbHpFezuXXsSHaCF3452ZlYAq8Mpo79+tJNO4seyWv5pJJaNJW8DNVKCxvopW6pHLgnxj5MOc8wh2RybWUn2dPxmpz94Do3RcJEfNUtpb0JfYrtysVnsC6phXIprXms5y0lg1e7sqQ6Ohyl2opEmuZgxs7X4A1FWGqrLF5UtXBhimT5bbsvnWNJ8KjM8JsQswYWA/aas7F6QFLibM0TxweN+UWQFORpIy2XbTRHK+HAJjqGHj89m6JdGHGouldsRgBtRQ5Dtt8mOQzTYyOTOw8Etyu7eZjEMmbxEW93AlSt68g/IZ8JKBnj1Xl4TCV+jsLcSI9FvdyULRSgPJFCvZ/2f0KtTDiYJP4V3ohtTjH4CT3sWAE8PtAAELlHqBMEInsBi/gNBZNyeaoBhIR/sWeR0eKrQAAAwAAAwAAAwAETQAAAH1BmjsS/4hTbB6FWYD9wZIxaKQQasQV4hcI3o7skqJ5qbcjEFWcZNYItUJLGdN2kAAAAwFnaoSidRFK/NTMqYD1pgk9ITitWZ8Im0aP30/XZSMxr8qYq4VZP2RyMRdHKpIgjRZ2cP07Dv52JYUqbyQeo93apmUb+w6e4XC/4AAAAHZBmk8IZMphL4hS91t70C08HUD60tPderfRTbCj4yaUOjXBMbmuk4LEkrFH0AAAAwAiwezL5zH86qo6xraUBe1NsIDMu97xOrgtNRMebEWUs2PQ9c7xywJhtV0Yl1pFbgGJufUiRpD1HFfd3ao7qmYLjQK6YyPxAAAAT0GacnhDyZTAl/+IVi+BaA+WDvCTd61egAAAAwAKCH79TXijIlYrbqfmbiOtN0CaRGpRbKg1gCnwp6ciZOIPF1393ao/7/fIxdt9g3EJGeIAAABoQZqSeEPJlMCX/4hYdh7a3AKPhM35qH7wzAi0IXllmLPIPyAAAAMAA5cybt9H5pk63Ex5cQg1WKL/D1Ci1s/fQtIayUhYRgN/gu/pwdzusfxYoPqNFHOBOkQOVd3ao7qm4mT1P4QNX4EAAABVQZqyeEPJlMCX/4hpfCxDEQFtQGFYEviQk1AvaTumJH3PlPFoIRmms1/g4oc2nC9kXBKaM8BCykbJCrFMj7oSLT6lgwXW8NyTBvutnbY9bQbisssHHQAAAElBmtJ4Q8mUwJf/iFdXhAOkAPhOKlEoijR92lTLhVtHep3k5RQfY6APyqj9NW1gIjcFdQ2h28nNoKei/fOlRsV1NmExtfyTSQ2pAAAAaUGa8nhDyZTAl/+IWGs1wF6AHdUsgo09dT0weC1ebMrO+I/ngI4LR5VG/kZOKCEAAAMAAAQ0KpT7ag+vnbZJjcISMUFY4YGtE/858SKtDttcU10NwA7D+PPOOnPOG9tTidT9H5pMyZr54QAAAGlBmxJ4Q8mUwJf/iFf8bSMDITu7OQ6LMYsxEGvOwGbI0TE9GjWzHWkdQ9UEUY8nIAAAAwABlasSj8jfC9E11Tl1fIqHxRGw2gttDtVWPHJGOIoGXGTzBL4iKmgXm93dqj36yBYbvSHYB3wAAABfQZsyeEPJlMCX/4hPoY38A+DP6745nrnjhiEB/3FOn40gYAAAAwAAz5N4KRncni1h+IY+Jw08nr9Uq7wqfb56Fw+CvlgWm0DOPI8CoLtmtiy6i93ao7qnAh61NNkii4AAAACoQZtSeEPJlMCX/4kxpjjDbl4C3bxkt28tSfscJ57WSo9rqDA2Wo+jof3n+CRFH6tfJTwe//yUVqY1mdek2474ZItn7HcyK0c0WFSMqq13lsjfpbQTrMaTNV6nSUBhabazI8Hj+HFacVP1jx3s3Vm5z3d7Yesc7vaUgm7tsJbTrJ9+idDyM18KIsOuOBUOj59It+GrNlUIpSKxUE6A31njyiayT+zI4aGPAAAAdEGbcnhDyZTAl/+IUw+QRUvdvgDMTwn341ytsGUoU73i7r4Cf5zjUo8fw1LtSJqi5wAAAwAAIODbaS67xMMAqcYkqKclIagWSHj+q+UBzPCPwRlbUIMqw8lB547calPpkfNGC211fifb21R3VLA2FGf2v5PwAAAAYUGbknhDyZTAl/+IU0NIwwyeAm8d8iwWir+ofZQ7AAADAAAM7/FkiBpztCY75UFdyQMh/4M3OeT/a2lsmUaF4YDO3u2eYDu5Fr9H1BklwEUImHaw/d21R3VK32bb9Zj294AAAABNQZuyeEPJlMCX/4gsZxoDzINiLZ5tnOAAAAMAHIlAoxU7HNpKxTADfmTk4KD8FanKaj69yTmas0u4uw/ADof9lT3dqjuqXZYvyyBkJy0AAABvQZvSeEPJlMCX/4f5BJB4PHXEAO2LCGFWDHuWmxMtBlHKdoRs/gAAAwAAreF+T24LbDSGHaWn6t6azrVv81s3psOgnsI5oWX1+X6xfr+l19GaSFlTzXDkl1pM2jXfhiWsAIak3dqj4mhfJ1Xu3M6bAAAAT0Gb8nhDyZTAl/+IaXu1hMCGoFCBGsbFfDinV0cS0nvhO+nQOJIAtJUxyNgcai9Gl0Rqpmx0/fisaNk56lm/5pv2QQaXjg2QY8g0R0uWDjkAAABLQZoSeEPJlMCX/4hXUOzMOIvQA+Uf5fp6PgDkm1a8n1VY6pKQ2XQBuhx7PQwlQp6rcJCobWEiNMDPQB/sysQQBOkcxxwphUSRDKtwAAAAYkGaMnhDyZTAl/+IRnE3SAHwUlwXQH6Rm2x4XKWAd9OXjwZoWHbSOQLYsK0ahyAAAAMACJciJ9B9yMTprIxQg7YobBJ5RLtiL9C3s19JwbGGF5ZMs+7tUf7LXmFm9FpXX3WsAAAAXEGaUnhDyZTAl/+IWBS2CkjQLrbZFQQ/tfgxQ2wZvo4LCrLi0B4hsAAAAwACtlxzvklR/re9cZLuvaLa2G9xkgDdlZuAtCmLEjwGqhgIcMu7tUd1TML5CuV7lFGBAAAAZ0GacnhDyZTAl/+IS/7ijcA97RJPZ4ESED+ul8Nmj8WtqEwAAAMAABmJwkgsecPMSNeUYAQuodg0m/u/60bLiHcmNhcDiWIM2fQmMBxeKxKG+3x/jyCFQnzHC97ao7qnAmgVsw3Jp8AAAADQQZqSeEPJlMCX/4kymhDVka3RcwVk+gtfEKX2UuUNNISbrvVQ8U3QXqZBhB5jCNsfVTDl9NRtOgOFtRdWhZ7LSdgQVKlPe6eDE+6kuPHpJepNQlmwD3hBe9Ymop+cL3m4VtN+FNlBdOKW9cO44Zes5H236owG+GVhQ/TFY99QcHLU1zcXG7dfWESCYH1ZAT6jdQcDFMkdjyMmB+JLi9LW2Dw9u4NBZqbeEW7j4l9ngtRBxLgvCrml6MHhiQ2OhE9FLy1+hGbArbk2YL98J1OCzgAAAIVBmrJ4Q8mUwJf/iGl8LBRIbbUBltHXGGmNKPm57KgewdLc1Tqc7A1fWJ07BRAG6PUWgMNyhqkZDD4OEUEAAAMAABQqEB3OV8PR5IbLJbdLMNeE6SksmuBZb51pr9AmbDKjjMRutqDCres1Jqzs8FovBkmhqZV/zD7u7VHdU2IMT/DXPUOBAAAAYEGa0nhDyZTAl/+IVTcdHW4C71PeT9eRgJxpOyJZ/P3REcmATGKM5RflFE1HiOJRrlaWSe5ixqhpfyVM9EclXV026fiwhC3rf+T4SyH8MgeO52KSaW4azeyExl668UoGBAAAAFJBmvJ4Q8mUwJf/iE5KPUBkujJGMNUpN0612AAAAwABbQqdbSR4rXv2fpfxpo8XbWY3T9es+53B53O1tfuwzwmwx1JwfBn3dqjuqX0VyVuqaOuRAAAAbkGbEnhDyZTAl/+IWHGND6wCEmnoTDNAT2OlVbBTvoe6UAAAAwApHI2iyvpA5OpiGUr7Bh3aavv4QkOrYYY8hdDUFMLrhSZjszP6gr+aUI6vquFbGvVwgMS3EXNCgKMQncFD3tqj4UHrHuim0flfAAAAVkGbMnhDyZTAl/+IaXwsQxAk7UBhWBL4kJNQxLIbnNU1Srx9viqqob+XLKFXQrvzlsZ5gNszwELKRsa6CL475+xhdszZnKedc4oNGG3lCHuMFhywkNqAAAAARUGbUnhDyZTAvwHjoZxDD4B8K1bp+8xYJZEP7Uz5yBJldWlmEbw6nYxYcu1eW/fEP3Z9mkI2R53Qo8DvYwtGVumqvwg6YQAAAGpBm3J4Q8mUwL8ByGRtAB2N4WEqxhfl91SAdtsHmykJ1qmp2ckapS9j7YQn9Fv2BuAAAAMAAhuS862eUn5yQcv9/GuTwqLB8TdoU3rZgppJlqtB2niLOcE0u547if67u7VHs5CaK4pWyj7kAAAAa0GbknhDyZTAvwHj2I6ZhxxCMyn528PMrJSa2HJa5DlpxnpEWBvL0mCAhrBDjmWC8oz5m4ZoAAADAAAVoxdQDttjir6O9/2DyTi9M0Ca6mXZAJKvYNG19FJeafzzrIzfd3ao/usI+dqeqlMJAAAAY0GbsnhDyZTAvwHblk6grjySCJS1X/11MgmdVJTgEpWZRAAAAwAACD0Uk3NUa3XDBQGMbQpaOEnrLxx0YquamNtcFNfsLEGNaRcTi8oJ4EU5NHkf26GZu3tqj2cab7QEP1VbZwAAAWNBm9J4Q8mUwL8Gh8DKoESoy9u3Z0oTdGtM07lGQwjCVQCLxAzhR5lLVSsFjuNq8cr2WmYQs/nlf5aktbiw+XrmPY9hjIhGEBAfKkApXJIRkP/6WhkdXfOjCbFz66ND2ENZxkII1kfyhxdMmdSvON0wlv75bDVs8BLjgSaWdZiVMPTd9BgI1fu9FqFJHGNsgpk3Bt+Dr2qf2Du5NxkY5Hn1dp5EvCX7zO3aFYv/7ohvtyDTKYjTwf87gOCPtLAp6UxOBzc2T4Gg73hEjA6FhgPzd9N5Jo60xtxtLsql/jwdug0hb5MjjIrXeY4Clv6WZb7v5QOj+8PUsra1yRQV9YMoJkDbGoMECNCrSdcMIHH9LIGKkJtVBqZ0y+f2qAgzrt4ShP88lBUYhoUW+mAvq7/Ug0COLz0YlFgsGMQnClAQWSCgGdpVXO47fCe1xDUCmTOOZceO4egbjZoaaZxXpMh3EAz4AAAAfkGb8nhDyZTAvwHlWcODET/AMVeTxUC7FOZLC6I0mNTHofzGOF/k24Fw1uFK4fmTOJZSQAAAAwAC2t+Mu4AdfIwBfARCgVMnsnBioM6vWomBz/+yW9IX9Dwsem1f6Mrge43wxmr5wdjpbKjnIvUKRFjZH7u7VH9T/Rgm0b3u6QAAAGdBmhJ4Q8mUwL8BUGyBYuz4IkiPsiGcheLRl9NluK/wAAADAAAMA7CcbzoPyy/buxm9RaIzjNfAoO56Mu6eL8V3A+FvJ77P+6cI0d8Hg4i2zQaDg63+bxYUibuu7tUezjYaqb7l3SodAAAAUEGaMnhDyZTAvwGu7GBeQM6Oc8EO1AAAAwAAAwAsVce2JicLr9UVV1kKmEOwC9FtJoZdGf5JwX34ZGXeWYHUF85nfd2qOfXGsZVus8lho6qCAAAAaEGaUnhDyZTAvwHlL4+D7YDMVyW7g8uI0iXZWnQNHgtCGXBCX/DgAAADAAAtLJkqWVgXqxHbXdSdgP3Ti27X6zcxYy80Jtp0lB5e0kmiWK54ggaUbm6nfinqHf8He2qPZx+TI2210TR5AAAAV0GacnhDyZTAvwH+RKQjEP/GAF22fZAAUz4xV3v9E7SVTndlw/J6SvWWC9aWmn43ncMrvhVAUmjGxjQ4q5a8ktyQxBcG+Yt4HR1swY6BFlpZOma5i+AxYAAAAFZBmpJ4Q8mUwL8B45+IZK+AxVa11JKEX2MjoZ9WqE5/KUgZwqXI/xpgAAADAAAeXEwlvgB3DCWfRJwdoIvzVImob0Nvd9B576nqt3aoxrYqf1ythqTI0QAAAGZBmrJ4Q8mUwP8DVxgKXOugiQV62ALpplwJ/n5WD3GFez4a3g9aYIUClStGAAADAAADANsr79orRVfwIrFWjv47GWgpMesQiXShvcsUCl7w3XR+1oBhEwOYMY+7rUTTgiYSkytYhmEAAABlQZrSeEPJlMD/A1VZjUyTCXF+scLyIEx0VJR02Bzr+ClTumpRnadYFf7WN/+pVAAAAwABfhgWh6/vDuglbCJySKJTGsFHZ5yPeVEy9qbJu0E1Qkgzop+AD+3daidz/6kw6k4e/8EAAABdQZryeEPJlMD/AsgrWIK7AQ9Vd6uW213BvxkL4KzBbAAAAwAAV/Q6ec+DqOO+ffCGjedgfbM+2LdGItsfcbRGfbwW+byiSKIPp2zTjsTSAKBt21R92ZpNMxjCJZ9hAAAAnEGbEnhDyZTA/wS11RlCpGp6ZBr9eJpd3dZpQwnpWdOVvAQPKAfPD8b/BIh+y1bpD7cen71JtHJBG+gz2hqCcrsjuSyAaZieJGZnZzPfFeK1omrckws/VMAYqICXso6LWS7KFQPGQC+aCbv7dWbnxsfkD3/O283QoE3bzhEgaIDXORK78IsqRbNjuQd4aacwzgtj7gB5UWsJ1TkhvQAAAHRBmzJ4Q8mUwP8DXogydLNQBTqffkAoWRMgTPdHZmCWXmErnfvyRLsfVr26UuHIc+KkdheAAAADAArxaCEK1htnqaH9uQCyTZCXewVM852M6D+cpnjIVhKRf01lcnEjs26HcgKdmj3dtUc2XF7W3VebuhtRwAAAAGJBm1J4Q8mUwP8CeFhlUkSLEVm5MUx5MwA1VoKgAAADAAADAAcNg3dAT255MCjhJQ5SxYdu7dgOpDqLSQN/bv8ckCx0WV82xDmkaIS2h4GlbVmbqfgj7u2qPuyhBRDVMet8IQAAAE9Bm3J4Q8mUwP8CzfyzYAAAAwAADdZgCxbzACkbj29oYZn5RhTqs6FVgEO9uDz/GA7fOQEXCOZ6Q+AVq0P+BKzR29tUij/lYpeRnx5+8YCgAAAAcUGbknhDyZTArwSYn3eVVJhYBJ4hzukA4ON4yvTovIai1qfQAAADAAAFHEbqTt1Ew3n3QEOi/T9B8Ju0EtmCpSDRuFi2Bm6ARMow4Cb78U8lgvKJpw0VwVoPAxD0eeyUtJjVwmvro3bVIOgZjFiKQwH0AAAAS0GbsnhDyZTArwVxxHyk4l8BGGO3GLJKZrd0MnF9rHD5Huu4VpRJ6kiwdq/brgqkTCpsDhtutLe/LkEn/G6ZlQ+wMDqlDDGTwfB6QQAAAD9Bm9J4Q8mUwK8FY/O9aeNkXEE5OS3IOJy6wGqsfBQw7rBxNA3/dOLptNGCWHIH3GPF37yco2ESNjORDOYDIOEAAABaQZvyeEPJlMCvBH5RDPAiIbOpUFt+bmjdlnQ0LxZqqX5HNqFpvpc2yUAAAAMAAU6urvcoGENHvaTXDGVZHDGoc5DcOn51O37LCsf+0I5A3daiPc74DhkPKLqRAAAAY0GaEnhDyZTArwVmLVCIhyCIu7zEjwIPdRBsxevK8lzQNp4cePrsZjwAAAMAAAMAJirm1ldeWLQsSC3uO9zLWMS17ecbESfl0pvXxCwPaFC9mlBvdDDW8u7apCIF2sWiIOSo4AAAAGFBmjJ4Q8mUwJP/Bp6go4Yl7+mdqdKd+tMI+niAAAAH81By8Rg1BZybQcwSozfiHtgrDiiovpRQu7sZIuCPfp9FLTUtfi0rblBsqr/ZmSZ0jSF3lH/u61E9p6IjsMCDHWeAAAAAyUGaUnhDyZTAk/8JRAmT5g9tNZDT9fvD31htpYdPtKS3fYSHgSuqce+zJpTlbWh9TKdPXcA55E7SP162JPF0Uy6yhVre7CrJXZ4nr5tkRDKxUA00yZ881S49SRleoDjwk1920wqkokzVC2n/ql7rCch/CXur6NSY2/sm5ZWQgUEH1Ics+QQDNWdzDNxE43IkZtCQlSGI9QaH/I/wvY8N3fWaxD+sUDdT9z31f68gOi+V/0SNSVrqyO3DZf4SJmxuGTkLMEJDgI4EfQAAAIRBmnJ4Q8mUwJP/BtUDX2L4p+AlWWbWnkLp95YzC9ZDgOWJYEAKbf0Zx+R2zYMl2MfbFYiNeq034yAAAAMAAAMCc+rYdcdB9vf/4C/5rg9qjQBileILz/GJdzl5smbiTgi2oN37K8nIZxAiz4Ct7aei6GHKWqcX27apKOyORxKixHGxu4AAAABbQZqSeEPJlMCb/wj/W4R/PWqUBaxpvHDsElj8bwwj0I6orsqpwOT/o18Hp4kFcS/9W4EDI8F+xHy+CDIcdJy3d4q2G3ZFT0XpUsl23L+GlB/s1xzZEkYZOpYHNAAAAFlBmrJ4Q8mUwJv/COlLASUx7oo6xZb5wUgAAAMAAAXktH/uv1fDrD9RTYZ+CgBiuB5DnQxDy0Oa/+9gz3f7tqkspZc/jdD1c4oDVd3a1Gv9Z5hlfvm7tdod8QAAAHJBmtJ4Q8mUwJv/CQutjZ+4SyfzBOWquJ6n7zjb0ncrlAAAAwABIUw6ANoDzrDtgZRJD6mTpFimNa/YqNPYA7TNELtwEVI7HggyyJ7M2PyOJ65eQh0GrhJ4RldzrzNMbSDaCj0gl7B7tai2SNgRQkHeHkAAAABQQZryeEPJlMCI/wu7LGfeQM/+CmKbUZFfuW3qU/AlYzoeNyy7aRzJZ7nHnx0vO7UOudqraFFAQtK0URX3S78PFcThNLUu2Ci2g1IC7F5cipkAAABGQZsSeEPJlMCK/xE3I2sUhb+mDuTycXoBktL1RspMVS7Ql7F35ibNVxbL+8o4oaLJSiLMMoWQ//nOqiY7MYTAUnswcuQ44QAAAGNBmzJ4Q8mUwIr/ETzjGN1opfPfInur/6WioB9Hw3dG6S7e+98K2Bu7XlNh/gAAAwAAERdFPtQxJ+Kp1AdRL49lQl+c9dCq1EtUyedbF4Gn19VKG/PYu2+0dutE5bj+Dsw19GwAAABzQZtSeEPJlMCO/xlTnlTpM+ggeLj+K1829Cql+kPVubPc1xPMzmPGO2KIZzSYqpvmt9GJgC2FHyAAAAMAKeCm/OFOd0nJzuIqIlMMKu7/ywo+3lVGaguyCGaIHORa9i0NxwwFHVeqWvrtU1qvEB1xmtOs4QAAAFZBm3J4Q8mUwIS/IxOMzN9dm1pjsmawAAADARS9o4vff6w93G4RzHggOFucWjqt2sxrYWaHsX/Hc+1aHylA4Kqs0n/m3B071sw9sbLbVNdy2HlW5T9MTA==";b.Ge=!1;b.$={qa:1001,I:3E4};b.duration={qa:60060,I:3E4};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=384;b.height=216;b.Fd=[176,699];b.Ed=[44];},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ed=b.Fd=b.height=b.width=b.bitrate=b.profile=b.duration=b.$=void 0;b.xa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAADARBtFvB2gDYBdsbXZoBkgA4BcA3x8jB/gAYCgDYBDogB4CgGoAgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBcDdHJhBrgBYBBcB0BrgOYDADgO4GgLoRgO4rABAggAgBDYgDgDefbWRpBhgf4CgA4Aga4EgMYIB1AwgBYCBVDEgCQDAtgDoABsBygD4Gd2aWRlgKYKBWgB4BdvSGFugEQABlgEYCcBSm1pBuBmgBABAUB2BtgKgDgQQKAkgN4AgDYDccZHJlgA4CgUQGcMdXJsgSwCgowCcKc3RiBsgBYBC+gA4ABzgSgGgEYCeuYXZjAxgcwVgagCgaQABIgBABgAYCgEITgAAPAYH/gAoBA0gKoBBDABgM4AcN/+EAAXBngA4BessgJDC/AuACgRoBB9gAYAcdTAHiCFBJgJYAcGaOvDDLAiDAD9H4gHICAUBigzYAB0gIgECCDWgAYEAAAQBwhFQABwgO4FgAYCAQgXoAgXwAgNoJgB4BBzBjgB4JAUgB4BB6gSINgEYBBjBvgB4JA4hNwABlB4gC4CBtBlgzwGAHDSg1wCgPwAgC4Dgc4GgAYBADDpgeoJdidWR0g6wCBagG4AgA4DgAACAhg4QKg+wBhLgAFwgsoCgAAHAtBpBsgPwAgA4BAlCpB0hdgAgA4BAdhfYAgHgDgKQDBMgkoAdmNTkuAxA2gAQAEw";b.He=!0;b.T="AAABVG1vb2YAAAAQbWZoZAAAAAAAAAABAAABPHRyYWYAAAAcdGZoZAACACoAAAABAAAAAQAAA+kAAQAAAAAAEHRmZHQAAAAAAAAAAAAAAQh0cnVuAAACBQAAADwAAAFcAAAAAAAAB98AAAB9AAAAdgAAAE8AAABnAAAAWQAAAE0AAABpAAAAaQAAAF4AAACsAAAAdAAAAGEAAABNAAAAbwAAAFMAAABPAAAAYgAAAFwAAABmAAAA1AAAAIUAAABkAAAAUgAAAG8AAABZAAAASAAAAGoAAABrAAAAYwAAAWcAAAB/AAAAZwAAAFAAAABoAAAAWgAAAFYAAABlAAAAZQAAAF0AAACgAAAAdAAAAGIAAABPAAAAcgAAAE4AAABCAAAAWgAAAGMAAABhAAAAzQAAAIMAAABfAAAAWgAAAHIAAABUAAAASQAAAGQAAABzAAAAVgAAIMZtZGF0AAACcQYF//9t3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE2MyByMzA2MCA1ZGI2YWE2IC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAyMSAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTMgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MzoweDExMyBtZT1oZXggc3VibWU9NyBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0xIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MSA4eDhkY3Q9MSBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0tMiB0aHJlYWRzPTcgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0wIHdlaWdodHA9MiBrZXlpbnQ9MjUwIGtleWludF9taW49MjUgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD00MCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIzLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IGlwX3JhdGlvPTEuNDAgYXE9MToxLjAwAIAAAAVmZYiEL4kCN5A+boF/348fETXLq9QaLJpyWwdY8YBBTeGj+e5rhUaE2bV+cPzaC9wCEdczgTifHAy6lfpyjkffMq5P0qb2nJcDqPLYBFETWMOGVTR2tLYMH+lLHMrzABBEu1Gyy27wXU7wH7Jf5FRqHQ/G0V4obmsVBiSmRs2P+CKptWSXjkKCny8cr/noz9jBOWeJzU5L6ELphkGR42NbL2wkMwbmSM9Q4Dbx0YsNDtXAF6wEs02ROVLOggxs3d2LLfwgzb1GWZGqIljCTWrBTgLR4QT98LsrMCsyGh38CdyXPDcdi7Bqg1Qajxl8+QgnAlMf7d1cPha1Q0gbh1ky5sdKK967kXwMKSuz5tCxt/PZXk8NI+WWIGuS8CGCi2xGgKLDW0WOaA/lcF1UEyxeHYuPEZj/w0Txc6yWemz03xLjeH8sgFnyOC5NSt1HX/VCheQdWxOqn7KDwOQYfDDvL047UVJd8s0sTFDOgCDQ1IGDXDdzyro4aymwfqh7KwOcvSmDeREraA7ero35PS9A9ZnPFrdk/Ec0qL8ebGCALZqpHK1kkKoclGUBFuaOu+VW9PaJd7LP5pJrIIRmc/0NwL80Z6pVL5ZvwTf0tBKcb0IBJ/Ec6afzhMUmgd4MOXjQA0Bz0shWyEMCDeYAOKezUfqQN+WUXvLkKai1nPvaT9EyQKA5yT277LaC8/i9q4qE5Ivawewy4Ol3skKMw1TjmB9tQbMdxg4pWQQZkz9HIXj8Ee+mngno4e6jkerPG6mMbEDWaelU+V8xrq8jDEEect/EEaYSd4kBcBTD3qHxXNDWQbXcrLu2D/A3MrBv1yLnj2JexS7oaBdbGJrS2pcNl0mObSMW979JiYzuM7/Jr/9/7jB7zS5Kk00El+z+Ppt+n9I9RhcXYoIFxoOuvS/cHRin4Qc0YnXmbEvMaYJR0VeHngObVH29sPCx/GYi17zKd4z87dC2gOaVgK4puSLUY+StST90yd/SRa0qdOFsborF/GdicTK1Z5h94Gv0w967DDbBdnWtB4rxRLyx70fPom+6EWPGWlt8hDXrfJSK/bjmeZYADFiBPuVhplHnzMm18UNaNFyAW9No1UsTkZzvlYCrcqdJhuGCPvOuZsaJjNMx0HEdp6Likn6GZbsjwTfuf2ibUZZ8THTooPNSpJoip7lYmT+IvPRLYMZiAytJzddHP10t/UwOGgqdEb7E+PLPZh6bhYgX2xYEnTffU1lJ5XoR62HTBvSg23TB0myWNeaH5VU4mJykGclRw/dme73Lr9qlkE+PT7x3Ii8VPvy0wiUNt/FiyFpgyzUSTouVIQzs/tyEWiSdtFOGKVAg7KZrdNC7CFTppqMncpbGCB3E/mk+khLwJB8MrzJhtFrOlXFedUMUjHzoChx/MG+vt7DdKD25Pk+enQjNj0ivZ3Lr2JDtBC78c7MysAVeGU0d+/WkmncWPZLX80kktGkreBmqlBY30UrdUjlwT4x8mHOeYQ7I5NrKT7On4zU5+8B0bouEiPmqW0t6EvsV25WKz2BdUwrkU1rzWc5aSwavd2VIdHQ5S7UUiTXMwY2dr8AairDVVli8qWrgwxTJ8tt2XzrGk+FRmeE2IWYMLAftNWdi9IClxNmaJ44PG/KLICnI0kZbLtpojlfDgEx1DDx+ezdEujDjUXSu2IwA2ooch22+THIZpsZHJnYeCW5XdvMxiGTN4iLe7gSpW9eQfeLg08/fVjgneEwlfo7C3EiPRb3clC0UoDyRQr2f9n9CrUw4mCT8pSwKJ34x+Ak97FgBOYbZj+h9H1topRofkyDo7CdMuHWKAffPgCl8uKnlbmAAAAMAAAMANqEAAAB5QZo7Ev+IU2wehVmA/cGSMWikEGrEFeIXCN6O7JKieam3IxBVnGTWCLVCSxnTdpAE1MpCW9RFK++AGpbUFpgha8uzVyh4ibRo/fT9dlIzGvypirhVk/ZHIxF0cqkiCNFnZw/Tq4/Y9IJSpvJB6j3dUI/1M6ebDt0P3AAAAHJBmk8IZMphL4hS91t70C08HUD60tPderfRTbCj4yaUOjXBMbmuk4LEkrFH0AM73Yy+cx/NQgFBraUBe1NsIDMu97xOrgtNRMebEWUs2PQ9c7xywJhtV0Yl1pFbgGJHeZiGPD1HFfd2lHstI1g2N4Adi2kAAABLQZpyeEPJlMCX/4hWL4FoD5YO8JN3rV6AANowBjLxC+3wl7dT8zcR1pugTSI1KLZUGsAU+FPTjkd6wHyxO7Sb7qGIwIRw9LBnhMkIAAAAY0GaknhDyZTAl/+IWHYe2twCj4TN+ah+8MwItCF5ZZizyD8gACim0Pdn7zSTW4mPLiEGqxRf4eoUWtn76FpDWSkLCMBv8F39ODud1j+K48T8PzP9njHZHndpR7fz9fuBds/RXQAAAFVBmrJ4Q8mUwJf/iGl8LEMRAW1AYVgS+JCTUC9pO6Ykfc+U8WghGaazX+DihzacL2RcEpozwOwpGyQqxTI+6Ei0+pYMF1vDckwb7rZ22PW0G4rIeF3BAAAASUGa0nhDyZTAl/+IV1eEA6QA+E4qUSiKNH3aVMuFW0d6neTlFB9joCPVUfpq2sBEbgrqG0O3k5tBT0X750qNiupswmNgNyZGYsEAAABlQZryeEPJlMCX/4hYazXAXoAd1SyCjT11PTB4LV5sys74j+eAjgtHlUb+Rk4oIQAAbRKin21B9eYU0EdwhIxQVjhga0T/znxIq0O21xTXQ3ADsP46k4mX8kd1cq36NOto9dwiGfEAAABlQZsSeEPJlMCX/4hX/G0jAyE7uzkOizGLMRBrzsBmyNExPRo1sx1pHUPVBFGPJyAAEYhCzJr8U9E11Tl1fIqHxRGw2gttDtVWPHJGOIoGXCjy0r4iKmgXm93aSEF2dW3VO+YDCyAAAABaQZsyeEPJlMCX/4hPoY38A+DP6745nrnjhiEB/3FOn40gYAAJhWhRwp7WoqdK8oy7hp5PX6pV3hU+3z0Lh8FfLAtL3YK613VQXbNbFl1F7tKPVx+HusITul+9AAAAqEGbUnhDyZTAl/+JMaY4w25eAt28ZLdvLUn7HCee1kqPa6gwNlqPo6H95/gkRR+rXyU8Hv/8lFamNZnXpNuO+GSLZ+x3MitHNPyej2MtUrZG/S2gnWY0mar1OkoDC021mR4PH8OK04qfrHjvZurNznu72w9Y53e0pBN3bYS2nWT79E6HkZr4URYdccCodHz6Rb8NWbKoRSkVioJ0BvrPHlE1kn9mP+0toQAAAHBBm3J4Q8mUwJf/iFMPkEVL3b4AzE8J9+NcrbBlKFO94u6+An+c41KPH8NS7UiaoucAAcM1tpLrusVT1TjElRTkpDUCyQ8f1XygOZ4R+CMrahBlWHkoPPHbjUp9I61AwW2ur8T7drLetrq+mZCabFKEAAAAXUGbknhDyZTAl/+IU0NIwwyeAm8d8iwWir+ofZQ7AACquRZIgabFg6Wkf3gE/FLJiDbOeT/a2lsmUaF4YDO3u2eYDu5Fr9H0vzpZIoRMO1h+7sy3p54vwKrGWktggAAAAElBm7J4Q8mUwJf/iCxnGgPMg2Itnm2c4ADwE3VZujKMiVimAG/MnJwUH4K1OU1H17knM1Zpdxdh9wH//tKLdpR67N+p06yph3WJAAAAa0Gb0nhDyZTAl/+H+QSQeDx1xADtiwhhVgx7lpsTLQZRynaEbP4ABgP98ntwW2FEw7S0/VvTWdat/mtm9Nh0E9hHNCy+vy/WL9f0uvozSQsqeahnXT2kzaNd+GJawAhqTdpIrzJfTuybGtZjAAAAT0Gb8nhDyZTAl/+IaXu1hMCGoFCBGsbFfDinV0cS0nvhO+nQOJIAtJUxyNgcai9Gl0UkXBmeenVY0bJz1LN/zTfsgg0vHBsgx5BojpR4XcEAAABLQZoSeEPJlMCX/4hXUOzMOIvQA+Uf5fp6PgDkm1a8n1VY6pKQ2XQD/Dj2ehhKhT1W4SFQ2sJEaYGegD/ZlYgCiDeeXxydNQxCuG1AAAAAXkGaMnhDyZTAl/+IRnE3SAHwUlwXQH6Rm2x4XKWAd9OXjwZoWHbSOQLYsK0ahyAAeJIifQfcesprIxQg7YobBJ5RLtiL9C3s19JwbGGARZMd+7SblaLySTmPuQ6ErdQAAABYQZpSeEPJlMCX/4hYFLYKSNAuttkVBD+1+DFDbBm+jgsKsuLQHiGwABgLUswzBGgHXg5RYl9iYm8lFxkgDdlZuAtCgNyOHHbzAQ4Zd2lHqE1rqg3XyYnPQQAAAGJBmnJ4Q8mUwJf/iEv+4o3APe0ST2eBEhA/rpfDZo/FrahMAAEk2EiBD9xHnyvKMAIXUOwaTf3f9aNlxDuTGwuBxLEGbPoTGA4uFw0fZ3x/jyCFQnzHC92st76oWAaiLeVvGQAAANBBmpJ4Q8mUwJf/iTKaENWRrdFzBWT6C18QpfZS5Q00hJuu9VDxTdBepkGEHmMI2x9VMOX01G06A4W1F1aFnstJ2BBUqU97p4MT7qS48ekl6k1CWbAPeEF71iain5wvebhW0345U8yvilvXDuOGXrOR9t+qMBvhlYUP0xWPfUHBy1Nc3Fxu3X1hEgmB9WQE+o3UHAxTJHY8jJgfiS4vS1tg8PbuDQWam3hFu4+JfZ4LUQcS4Lwq5pejB4YkNjoRPRS8tfoRmwK25NmC/cq+ihswAAAAgUGasnhDyZTAl/+IaXwsFEhttQGW0dcYaY0o+bnsqB7B0tzVOpzsDV9YnTsFEAbo9RaAw3KGqRkMPg4RQQAB1SIDucr0VBZFAZK+BIQyLbaSobvh6Wq/AWXHu9sMqOMxG62oMKt6zUmqNzv5S8GSaGplX/MPu7Sj2bo5vCAyLuQqgQAAAGBBmtJ4Q8mUwJf/iFU3HR1uAu9T3k/XkYCcaTsiWfz90RHJgExnAGlkUhwdjxHEo1ytLJPcxY1Q0v5KmeiOSrq6bdPxYQhb1v/J8JZD+GQPHc7FJNLcNZvZCYy9deGroOAAAABOQZryeEPJlMCX/4hOSj1AZLoyRjDVKTdOtdgACetuw/8JhbXIGJwgEAMFBBaw84HbPudwedztbX7sM8I1AbDNfIgbtZb3RexlXkbJHwxBAAAAa0GbEnhDyZTAl/+IWHGND6wCEmnoTDNAT2OlVbBTvoe6UAI7gO0WV9IGTUxDKV9gw7tNX38ISHVsMMeQuhqCmF1wpMx2Zn9QV/NKEdX1XCtjPSvxDEtxFzQoCjEJ3BQ92sVUj47/QitfnnGBAAAAVUGbMnhDyZTAl/+IaXwsQxAk7UBhWBL4kJNQxLIbnNU1Srx9viqqob+XLKFXQrvzlsZ5gNszwOwpGxroIvjvn7GF2zNmcp51zig0YbeUIe4v7VVdmkgAAABEQZtSeEPJlMC/AeOhnEMPgHwrVun7zFglkQ/tTPnIEmV1aWYsMrnxGLDl2ry374h+7Ps0hGyPO6FHgd7GFoyt01V0oYsAAABmQZtyeEPJlMC/AchkbQAdjeFhKsYX5fdUgHbbB5spCdapqdnJGqUvY+2EJ/Rb9gbgAArvofo6hfJlAoY6/8rNP8wsHxN2hTetmCmkmWq0HaeIs5wTS7niWD6id2lUmiOJSdusnUaEAAAAZ0GbknhDyZTAvwHj2I6ZhxxCMyn528PMrJSa2HJa5DlpxnpEWBvL0mCAhrBDjmWC8oz5m4ZoAAC0XT4R7bY4q+jvf9g8k4vTNAmupl2QCSr2DRtfRSXYOOedZGb7u0kt+4l/aRbOZkcAAABfQZuyeEPJlMC/AduWTqCuPJIIlLVf/XUyCZ1UlOASlZlEAAA0PJ7MYmSVtmb2gxtClo4SesvHHRiq5qY21wU1+wsQY1pFxOLyZ/vjXLPiClToFUu7SqQot0VfMBzHlwMAAAFjQZvSeEPJlMC/BofAyqBEqMvbt2dKE3RrTNO5RkMIwlUAi8QM4UeZS1UrBY7javHK9lpmELP55X+WpLW4sPl65j2PYYyIRhAQHypAKVySEZD/+loZHV3zowmxc+ujQ9hDWcZCCNZH8ocXTJnUrzjdMJb++Ww1bPAS44EmlnWYlTD03fQYHovekygrQhKG2QUybg2/B17VP7B3cm4yMcjz6u08iXhL95nbtCsX/90Q325BplMRp4P+dwHBH2lgU9KYnA5ubJ8DQd7wiRgdCwwH5u+m8k0daY242l2VS/x4O3QaQt8mRxkVrvMcBS39LMt938oHR/eHqWVta5IoK+sGUEyBtjUGCBGhVpOuGEDj+lkDFSE2qg1M6ZfP7VAQZ128JQn+eSgqMQ0KLfTAX1d/qQaBHF56MSiwWDGIThSgILJBQDO0qrncdvhPa4hqBTJnHMuPHcPQNxs0NNM4r0mQWiBHwAAAAHtBm/J4Q8mUwL8B5VnDgxE/wDFXk8VAuxTmSwuiNJjUx6H8xjhf5NuBcNbhSuH5kziWUkAARMWl8XQYv2nNHwEQoFTJ7JwYqDOr1qJgc//slvSF/Q8LHptX+jK4HuN8MZq+cHY4BfUc5F6hSIsbI/d2kkytVwlOAU+cz4AAAABjQZoSeEPJlMC/AVBsgWLs+CJIj7IhnIXi0ZfTZbiv8AAAgY3jL3nQfSVYC+M3qLRGcZr4FB3PRl3Txfiu4Hwt5PfZ/3ThGjvg8HEW2aDQcHW/ya9FG9yPdrOoGI0YDQ06Y+2LAAAATEGaMnhDyZTAvwGu7GBeQM6Oc8EO1AAAAwB1CNubhH4e/VFVdZCphDsAvRbSaGXRn+ScF9+GRl3ll9Ytyw/1vZiwcWn0WOGyG5MnVrQAAABkQZpSeEPJlMC/AeUvj4PtgMxXJbuDy4jSJdladA0eC0IZcEJf8OAAAV5kyVLKwLyvYvV0Y1gP3Ti27X6zcxYy80Jtp0lB5e0kmiWK54ggaUbm6nfikwehvXdrOoxRQNyZj7ddKwAAAFZBmnJ4Q8mUwL8B/kSkIxD/xgBdtn2QAFM+MVd7/RO0lU53ZcPyekr1lgvWlpp+N53DK74VQPr1GxjQ4q5a8ktyQxBcG+Yt4HR1swY6BFlpZOma5h56LgAAAFJBmpJ4Q8mUwL8B45+IZK+AxVa11JKEX2MjoZ9WqE5/KUgZwqXI/xpgAAD4pv1SEva32jPok4O0EX5qkTUN6G3u+g8nva1Tdonr/9C8oqRBFYzRAAAAYUGasnhDyZTA/wNXGApc66CJBXrYAummXAn+flYPcYV7PhreD1pghQKVK0YAAARcE37RWiq+8K85aO/jsZaCkx6xCJdKG9yxQKXvDddH7WgGES1x8zA7aPyOEE9UvQKOTcEAAABhQZrSeEPJlMD/A1VZjUyTCXF+scLyIEx0VJR02Bzr+ClTumpRnadYFf7WN/+pVAAKiA+mT8gy8DkTDRJtKJTGsFHZ5yPeVEy9qbJuymnoSQZ0U/AB/bshAN2vCWErjzpPgQAAAFlBmvJ4Q8mUwP8CyCtYgrsBD1V3q5bbXcG/GQvgrMFsAADCMLw5UhtoCSe+ENG87A+2Z9sW6MRbY+42iM+3gt83lALj+NPtmnHYmkAUDbaTliqKQ8ElPlK+QQAAAJxBmxJ4Q8mUwP8EtdUZQqRqemQa/XiaXd3WaUMJ6VnTlbwEDygHzw/G/wSIfstW6Q+3Hp+9SbRyQRvoM9oagnK7I7ksgGmYyfoczs5nvivFa0TVuSYWfqmAMVEBL2UdFrJdlCoHjIBfNBN39urNz42PyB7/nbeboUCbt5wiQNEBrnIld+EWVItmx3IO8NNOYZwWx9wA8qLWE6nCTjgAAABwQZsyeEPJlMD/A16IMnSzUAU6n35AKFkTIEz3R2Zgll5hK5378kS7H1a9ulLhyHPipHYXgAA4CiEIVqcSBBO5dSAWSbIS72CpnnOxnQfzlM8ZCsJSL+msoC5RlWLodyAp2aPdtHOgxn14FdvRNmRFwAAAAF5Bm1J4Q8mUwP8CeFhlUkSLEVm5MUx5MwA1VoKgAAADAA/TBu6AntNI0XbSqHKWLDt3bsB1IdRaSBv7d/jkgWOiyvm2Ic0jRCWy4+QA1Zm6n4I+7aTle4tQgmCwYKrRAAAAS0GbcnhDyZTA/wLN/LNgAAALqlLke7MBGjHyp+/wmh3IU6rOhVYBDvbg8/xgO3zkAw+fM9IeIK1aH/AlZo7dnXf9FQgFXxutI4TmkAAAAG5Bm5J4Q8mUwK8EmJ93lVSYWASeIc7pAODjeMr06LyGotan0AAABqsu6k7dRMME3QEOi/T9B8Ju0EtmCpSDRuFi2Bm6ARMow4Cb78U8lgvKJpw0VwT3ecxD0eeyUtJjVwmvro20gebijdRfinEBgAAAAEpBm7J4Q8mUwK8FccR8pOJfARhjtxiySma3dDJxfaxw+R7ruFaUSepIsHav264KqbZU2Bw23WlvflyCT/jdMyofYGB1ShhjJ3NkHQAAAD5Bm9J4Q8mUwK8FY/O9aeNkXEE5OS3IOJy6wGqsfBQw7rByn5v+6cXTaaMEsOQPuMeLv3k5RsIkbGcJWtKDMwAAAFZBm/J4Q8mUwK8EflEM8CIhs6lQW35uaN2WdDQvFmqpfkc2oWm+lzbJQAACWbVd7lAwGy4tJrhjKsjhjUOchuHT86nb9lhWP+yjeq7s8Tg855D2pFA4VQAAAF9BmhJ4Q8mUwK8FZi1QiIcgiLu8xI8CD3UQbMXryvJc0DaeHHj67GY8AAADAFWor87E77iCYkFvcd7mWsYlr2842Ik/LpTeviFge0KH6tgRA/JGt5dtIJkAOYvTeSkBsAAAAF1BmjJ4Q8mUwJP/Bp6go4Yl7+mdqdKd+tMI+niADYOI+kzvevZ26kST9Gb8Q9sFYcUVF9KKF3djJFwR79Popaalr8WlbadxVueOYyTOkaQu8o/92e/ZPGtp51P3oHoAAADJQZpSeEPJlMCT/wlECZPmD201kNP1+8PfWG2lh0+0pLd9hIeBK6px77MmlOVtaH1Mp09dwDnkTtI/XrYk8XRTLrKFWt7sKsldnievm2REMrFQDTTJnzzVLj1JGV6gOPCTX3bTF0FEmaoW0/9UvdYTkP4S91fRqTG39k3LKyECgg+pDlnyCAZqzuYZuInG5EjNoSEqQxHqDQ/5H+F7Hhu76zWIf1igbqfue+r/XkB0Xyv+iRqStdWR24bL/CRM2NwychZghIb+nCThAAAAf0GacnhDyZTAk/8G1QNfYvin4CVZZtaeQun3ljML1kOA5YlgQApt/RnH5HbNgyXYx9sViI16rTfjIAAABLZlsOuOg9GJ/4C/5rg9qjQBileILz/GJdzl5smbiTgi2oN37K8nIZxAiPTbr7aei6GHKWqcX27JTFSnRbqJPA16E9AAAABbQZqSeEPJlMCb/wj/W4R/PWqUBaxpvHDsElj8bwxJrpmSuyqnA5P+jXweniQVxL/1bgQMjwX7EfL4IMhx0nLd3irYbdkVPRelSyXbcv4aUH+zXHNkSRhk71h0wAAAAFZBmrJ4Q8mUwJv/COlLASUx7oo6xZb5wUgAAAMCywhrC0VfDrD9RTYZ+CgBiuB5DnQxDy0Oa/+9gz3f7tpn2Rwr+Qx3VzigNV3bFl86Qh/MXNBVgbBlQQAAAG5BmtJ4Q8mUwJv/CQutjZ+4SyfzBOWquJ6n7zjb0ncrlAAAkCYdAG0B51A7AyiSH1MnSLFMa1+xUaewB2maIXbgIqR2PBBlkT2ZsfkcT1y8hDoNXCTtbzX/zmqc2kG0FHpBL2D2w2HaexweLSNYYAAAAFBBmvJ4Q8mUwIj/C7ssZ95Az/4KYptRkV+5bepT8CVjOh43LLtpHMlnucefHS87tQ652rdQooCFpWiiK+6Xfh4ricJpal2wUW0GpAXYvDFXwQAAAEVBmxJ4Q8mUwIr/ETcjaxSFv6YO5PJxegGS0vVGykxVLtCX3O/MTZquLZf3lHFDRZKURZhlCyH/851UTHZjCYCk9cjlfm8AAABgQZsyeEPJlMCK/xE84xjdaKXz3yJ7q/+loqAfR8N3Ruku3vvfCtgbu15TYf4AAAYfWk+1DEnzRvoDqJfHsqEvznroVWolqmTzrYvA0+vqpQ35678kBPdQBnZw+85Dxg2AAAAAb0GbUnhDyZTAjv8ZU55U6TPoIHi4/itfNvQqpfpD1bmz3NcTzM5jxjtiiGc0mKqb5rfRiYAthR8gAA5dT+SIwndJyc7iKiJTDCru/8sKPt5VRmoLsghmiBzkWvYsJ67z2nrjbQmltLKEZh5s/1zVDwAAAFJBm3J4Q8mUwIS/IxOMzN9dm1pjsmawAB/WZ5NufqtI5rYRzHggOFucWjqt2sxrYWaHsX/Hc+1aHylA4Kqs0n/m220ebnA9sbLaFS7/wyzrE9w7";b.Ge=!1;b.$={qa:1001,I:3E4};b.duration={qa:60060,I:3E4};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=288;b.height=216;b.Fd=[176,699];b.Ed=[44];},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.R1a=b.Kib=b.Q1a=void 0;b.Q1a={23976:{qa:24E3,I:1001},24:{qa:24E3,I:1E3},25:{qa:25E3,I:1E3},2997:{qa:3E4,I:1001},30:{qa:3E4,I:1E3}};b.Kib=["23976","24","25","2997","30"];b.R1a=function(a,c){return a.qa / a.I === c.qa / c.I;};},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.assert=void 0;c=a(22);k=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}c.__extends(f,g);return f;})(Error);b.assert=function(g,f){if(!g)throw new k(f || "Assertion failed");};},function(q,b,a){var c,k,g,f,d,h;Object.defineProperties(b,{__esModule:{value:!0}});b.tIa=b.xia=void 0;c=a(1);k=c.__importStar(a(10));g=c.__importDefault(a(5));f=a(940);d=a(941);h=(function(){return function(){this.b9=new d.zU(100);this.pda=new d.zU(100);};})();q=(function(){function m(l,n,p){var r,t,w;this.K=n;this.J=p;this.W7=l;r=this.cO=this.sN=this.rN=0;t=0;w=0;this.W7.length >= this.K.$ca && (this.W7.forEach(function(v){!(v=v.get().rKb) || k.ta(v.avtp) || k.ta(v.neuhd) || (r+=v.avtp,t+=1 * v.neuhd,w++);}),this.cO=w,this.rN=r / w,this.sN=t / w);}Object.defineProperties(m.prototype,{pzb:{get:function(){return this.rN;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{rzb:{get:function(){return this.sN;},enumerable:!1,configurable:!0}});m.prototype.Nba=function(){return this.cO >= this.K.$ca && this.rN >= this.K.baselineHighAndStableThreshold.bwThreshold && this.sN < this.K.baselineHighAndStableThreshold.nethreshold;};return m;})();b.xia=q;q=(function(m){function l(n,p,r){n=m.call(this,n,p,r) || this;n.Tka=[];n.zJb={};n.wgb=[];n.vB=new h();n.W7.length >= n.K.$ca && (n.NUa("avtp",n.vB.b9),n.NUa("neuhd",n.vB.pda));return n;}c.__extends(l,m);l.prototype.Nba=function(){var n;this.uNb();n=new f.nKa(this.J,this.wgb,this.Ezb);n.Zya(this.Tka);n=n.MBb(this.K.gba.Fic);return this.C8b && 1 === n && this.cO >= this.K.$ca;};l.prototype.aZ=function(){var n,p,r,t;n={};p=g.default.time.now();r=new Date(p);t=r.getHours();n.currentMonoTime=p;n.currentTime=r.getTime();n.currentHour=t;return n;};l.prototype.E2a=function(n,p,r){n="avtp" === n?this.rN:this.sN;for(var t=p.p9(),w=0,v="skew" === r?3:4,u=0;u < p.Ig.length;u++){k.ta(n) || k.ta(t) || (w+=Math.pow(p.Ig[u] - n,v));}w/=p.Ig.length;return !k.ta(t) && 0 < t?w / Math.pow(t,v) - 3 * ("skew" === r?0:1):NaN;};l.prototype.T2a=function(n,p,r){var t;t=0;"lte" === r?t=n.reduce(function(w,v){return v <= p?w + 1:w;},0) / (1 * n.length):"gte" === r && (t=n.reduce(function(w,v){return v >= p?w + 1:w;},0) / (1 * n.length));return t;};l.prototype.eNb=function(n){var p,r;p=n.Ev(25);r=n.Ev(50);n=n.Ev(75);return k.ta(p) || k.ta(r) || k.ta(n)?NaN:0 < r?(n - p) / r:NaN;};l.prototype.BLb=function(n,p){n="avtp" === n?this.rN:this.sN;p=p.p9();return !k.ta(p) && !k.ta(n) && (0 < p || 0 < n) && 0 < n?(n - p) / (n + p):NaN;};l.prototype.bK=function(n,p){n=n.Ev(p);return k.ta(n)?NaN:n;};l.prototype.normalize=function(n,p,r){return !isNaN(n) && 0 < r?(n - p) / r:NaN;};l.prototype.uNb=function(){var n,p,r,t,w,v,u,x,y,z,A,B;n=this;p=this.K.gba.m8a.shc;r=this.K.gba.m8a.qhc;t=this.K.gba.m8a.rhc;x=[];B=0;this.C8b=!Object.keys(p).some(function(D){var C;A=NaN;if(!(p.hasOwnProperty(D) && r.hasOwnProperty(D) && t.hasOwnProperty(D) && !k.ta(n.vB) && n.vB.b9 && n.vB.pda) || 1 > n.cO || "number" !== typeof p[D] || "number" !== typeof r[D] || "number" !== typeof t[D])return !0;w=p[D];v=r[D];u=t[D];x=D.split("_",2);y=x[0];z=x[1];switch(y){case "avtp":C=n.vB.b9;break;case "neuhd":C=n.vB.pda;break;default:C=void 0;}if("avtp" === y || "neuhd" === y){if(C)switch(z){case "last":A=C.Ig[n.cO - 1];break;case "mean":A="avtp" === y?n.rN:n.sN;break;case "niqr":A=n.eNb(C);break;case "skew":A=n.E2a(y,C,"skew");break;case "kurtosis":A=n.E2a(y,C,"kurtosis");break;case "std":A=C.p9();break;case "b":A=n.BLb(y,C);break;default:-1 !== D.search("[p][1-9]?[1-9]") && (A=n.bK(C,Number(D.split("_p",2)[1])));}}else switch(D){case "fracAbove20Mbps":C=n.vB.b9;A=k.ta(C)?NaN:n.T2a(C.Ig,2E4,"gte");break;case "fracBelow20p":C=n.vB.pda;A=k.ta(C)?NaN:n.T2a(C.Ig,.15,"lte");break;case "hour_current":A=n.aZ().currentHour;break;case "session_ct":A=n.cO;break;case "intercept":(A=w,n.Ezb=A);}A=n.normalize(A,v,u);if(isNaN(A))return !0;"intercept" !== D && (n.Tka.push(A),n.wgb.push(w),n.zJb[D]=B,B+=1);});};l.prototype.NUa=function(n,p){this.W7.forEach(function(r){r=r.get().rKb;!r || "avtp" !== n && "neuhd" !== n || k.ta(r[n]) || p.v8(Number(r[n]));});};return l;})(q);b.tIa=q;},function(q,b,a){var c,k,g,f,d,h,m,l;Object.defineProperties(b,{__esModule:{value:!0}});b.wH=void 0;c=a(1);k=a(431);g=a(4);f=a(8);d=a(432);h=a(433);m=a(434);l=a(435);q=(function(){function n(p,r,t){this.K=r;this.J=t;this.aE=new f.RPa();this.J7=0;this.xs=p.xs;this.R=p.R;this.mediaType=p.mediaType;this.iH=p.iH;this.xE=p.xE;1 === this.mediaType?(r=this.xs,t=c.__read(r.streams,1)[0],this.Wvb=new m.Oka({w:r.maxWidth,Qt:r.maxHeight},{w:r.Gya,Qt:r.Hya}),void 0 !== t.framerate_value && void 0 !== t.framerate_scale && (this.Qla=h.H6.from({jp:t.framerate_value,Vl:t.framerate_scale}),this.oma=this.Qla.$())):0 === this.mediaType && (this.Trb=this.xs.streams[0].channels,this.Zvb=48E3);this.gb=(this.JN=this.oma) && this.JN.I;this.Ula=this.XTa=!1;this.mua=-Infinity;this.k8a=Infinity;p=n.isb(this,p.jf);r=p.maxBitrate;t=p.zd;this.$o=p.$o;this.maxBitrate=r;this.zd=t;this.uwb=t.reduce(function(w,v){w[v.Za]=v;return w;},{});!1;}n.isb=function(p,r){var t,w,v,u,x,y;t=p.K;w=1 === p.mediaType;v=!1;u=0;x=p.xs.streams.some(function(z){return z.Fj;});y=[];p.xs.streams.forEach(function(z,A){var B,D,C;B=z.bitrate;D=!0;if(w){C=z.Fj;D=t.vP && t.w3?r?!0:C === x:r && !C || !r && (C || !x);v=v || C;}D && B > u && (u=B);z=new l.fEa({tl:z,dg:A,track:p,zw:D},t,p.J);y.push(z);});return {$o:v,maxBitrate:u,zd:y};};Object.defineProperties(n.prototype,{lda:{get:function(){return !this.Ie && 0 === this.J7;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ie:{get:function(){return ! !this.mr && ! !this.aE.value;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{fza:{get:function(){return this.XTa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{L:{get:function(){return String(this.R.L);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{trackId:{get:function(){return this.xs.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{jz:{get:function(){return this.dub;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{$:{get:function(){return this.JN;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{frameRate:{get:function(){return this.Qla;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{pp:{get:function(){return this.Wvb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{channels:{get:function(){return this.Trb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{sampleRate:{get:function(){return this.Zvb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{profile:{get:function(){return this.xs.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{A2:{get:function(){return this.xs.A2;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{I:{get:function(){return this.gb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{UQ:{get:function(){return this.cub;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{mr:{get:function(){return this.od;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{oQ:{get:function(){return this.aE.value;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{$$:{get:function(){return this.$.I;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Z$:{get:function(){return this.$.qa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{da:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Xra:{get:function(){return this.aE;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{N_:{get:function(){return this.zd.some(function(p){var r;return 1 < ((null === (r=p.Yf) || void 0 === r?void 0:r.length) || 0);});},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{cp:{get:function(){return this.R.cp;},enumerable:!1,configurable:!0}});n.prototype.Qy=function(p){return this.xF()[p];};n.prototype.xF=function(){return this.uwb;};n.prototype.equals=function(p){return ! !p && this.L === p.L && this.mediaType === p.mediaType && this.trackId === p.trackId;};n.prototype.Hda=function(){this.J7++;};n.prototype.Gda=function(){0 < this.J7 && this.J7--;};n.prototype.Fda=function(p,r,t,w,v,u){if(w && void 0 !== w.Fk && (this.Ie || void 0 !== w.ed && w.ed.length)){if(p.Fj || !p.track.$o)this.XTa=!0;if(this.Ie)!this.Ula && w.ed && w.ed.length > this.mr.length && (this.od=new k.Ika(this.mediaType,this.$,w,v),this.aE.tdb(),this.mua=-Infinity,this.Ula=!0);else {this.uUa(r);this.dub=u;if(t=t || this.oma)(this.tUa(t || this.oma),void 0 === this.I && this.vUa(t.I));this.od=new k.Ika(this.mediaType,this.$,w,v);if(p.Fj || !p.track.$o)this.Ula=!0;}}else this.J && this.J.error("AseTrack.onHeaderReceived with missing fragments data");};n.prototype.wXb=function(p){void 0 === this.aE.value && this.aE.set(p);};n.prototype.QCb=function(p){this.Ie || (this.vUa(p.I),this.uUa(p.UQ),this.tUa(p.$),this.od=p.mr,p.Xra.value?this.aE.set(p.Xra.value):this.aE.tdb());};n.prototype.On=function(p,r,t,w){g.assert(this.oQ);return d.On(this.mediaType,p,this.oQ,r,t,w);};n.prototype.FB=function(p,r,t){g.assert(this.oQ);return d.FB(this.mediaType,p,this.oQ,r,t);};n.prototype.Gm=function(){var p;if(0 === this.mediaType){g.assert(0 === this.mediaType);g.assert(void 0 !== this.channels);g.assert(void 0 !== this.sampleRate);p={channels:this.channels,profile:this.profile,A2:this.A2,bitrate:this.zd[this.zd.length - 1].bitrate,sampleRate:this.sampleRate,jz:this.jz};}else (g.assert(1 === this.mediaType),g.assert(void 0 !== this.frameRate),g.assert(void 0 !== this.pp),p={M:this.R.M,$o:this.$o,profile:this.profile,$$:this.frameRate.jp,Z$:this.frameRate.Vl,A2:this.A2,maxWidth:this.pp.pp.w,maxHeight:this.pp.pp.Qt,Gya:this.pp.Bab.w,Hya:this.pp.Bab.Qt,jz:this.jz});return p;};n.prototype.toJSON=function(){return {movieId:this.L,mediaType:this.mediaType,trackId:this.trackId};};n.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.trackId;};n.prototype.vUa=function(p){this.gb=p;};n.prototype.uUa=function(p){this.cub=p;};n.prototype.tUa=function(p){this.JN=p;1 === this.mediaType && (this.Qla=h.H6.KKb(p));};return n;})();b.wH=q;},function(q,b,a){var k,g,f,d;function c(h){return function(){for(var m=Array(this.length),l=0;l < this.length;++l){m[l]=h.call(this,l);}return m;};}Object.defineProperties(b,{__esModule:{value:!0}});b.Ayb=b.$y=b.Ika=b.PQa=void 0;q=a(1);k=a(4);q=q.__importDefault(a(5));g=a(21);f=new q.default.Console("FRAGMENTS","media|asejs");d=(function(){function h(m,l){this.od=m;this.Te=l;}Object.defineProperties(h.prototype,{index:{get:function(){return this.Te;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ic:{get:function(){return new g.O(this.bb,this.I);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ud:{get:function(){return new g.O(this.wb,this.I);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{bb:{get:function(){return this.od.a8 + this.od.tE[this.Te];},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{wb:{get:function(){return this.bb + this.od.kt[this.Te];},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Tv:{get:function(){return this.od.kt[this.Te];},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{$:{get:function(){return this.od.$;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{I:{get:function(){return this.od.I;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{da:{get:function(){return Math.floor(1E3 * this.bb / this.I);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ta:{get:function(){return Math.floor(1E3 * (this.bb + this.Tv) / this.I);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{duration:{get:function(){return this.Ta - this.da;},enumerable:!1,configurable:!0}});h.prototype.toJSON=function(){return {startPts:1E3 * this.bb / this.$.I,endPts:1E3 * this.wb / this.$.I,duration:1E3 * this.Tv / this.$.I,index:this.index};};return h;})();b.PQa=d;a=(function(){function h(m,l,n,p){this.mediaType=m;this.length=n.ed.length;this.gb=n.I;this.kt=n.ed;this.x8=p && p.$n;this.vVa=p && p.eo;this.JN=l;this.ECa=this.FCa=this.tTa=void 0;this.a8=n.Fk;this.tE=new Uint32Array(this.length + 1);if(this.length){for(l=m=0;l < this.length;++l){this.tE[l]=m;m+=this.kt[l];}this.tE[l]=m;this.$ka=Math.floor((this.Ta - this.da) / this.length);}}Object.defineProperties(h.prototype,{Fk:{get:function(){return this.Bfb(0);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ira:{get:function(){return this.Bfb(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{da:{get:function(){return this.Gk(0);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ta:{get:function(){return this.Gk(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ng:{get:function(){return new g.O(this.ira,this.I);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Rwa:{get:function(){return this.tTa || this.Prb();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{$:{get:function(){return this.JN;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{I:{get:function(){return this.gb;},enumerable:!1,configurable:!0}});h.prototype.Bfb=function(m){return this.a8 + this.tE[m];};h.prototype.Gk=function(m){return Math.floor(1E3 * (this.a8 + this.tE[m]) / this.I);};h.prototype.wY=function(m){return this.Gk(m + 1);};h.prototype.ed=function(m){return this.wY(m) - this.Gk(m);};h.prototype.get=function(m){return new d(this,m);};h.prototype.Pn=function(m,l,n){if(0 === this.length || m < this.Gk(0))return -1;m=Math.max(m,l || 0);for(var p=0,r=this.length - 1,t,w;r >= p;){if((t=p + (r - p >> 1),w=this.Gk(t),m < w))r=t - 1;else if(m >= w + this.ed(t))p=t + 1;else {for(;l && t < this.length && this.Gk(t) < l;){++t;}return t < this.length?t:n?this.length - 1:-1;}}return n?this.length - 1:-1;};h.prototype.M$=function(m,l,n){m=this.Pn(m,l,n);return 0 <= m?this.get(m):void 0;};h.prototype.Xpa=function(m,l){var n,p;n=Math.floor(l * this.I / 1E3);l=Math.min(m + Math.ceil(l / this.$ka),this.length);p=this.tE[l] - this.tE[m];if(p > n){for(;p >= n;){--l;p-=this.kt[l];}return l - m + 1;}for(;p < n && l <= this.length;){p+=this.kt[l];++l;}return l - m;};h.prototype.subarray=function(m,l){k.assert(void 0 === m || 0 <= m && m < this.length);k.assert(void 0 === l || l > m && l <= this.length);return new h(this.mediaType,this.$,{I:this.I,Fk:this.a8 + this.tE[m],ed:this.kt.subarray(m,l)},this.x8 && ({$n:this.x8.subarray(m,l + 1),eo:this.vVa}));};h.prototype.forEach=function(m){for(var l=0;l < this.length;++l){m(this.get(l),l,this);}};h.prototype.map=function(m){for(var l=[],n=0;n < this.length;++n){l.push(m(this.get(n),n,this));}return l;};h.prototype.reduce=function(m,l){for(var n=0;n < this.length;++n){l=m(l,this.get(n),n,this);}return l;};h.prototype.toJSON=function(){return {length:this.length,averageFragmentDuration:this.$ka};};h.prototype.dump=function(){var l;f.trace("TrackFragments: " + this.length + ", averageFragmentDuration: " + this.$ka + "ms");for(var m=0;m < this.length;++m){l=this.get(m);f.trace("TrackFragments: " + m + ": [" + l.da + "-" + l.Ta + "]");}};h.prototype.Prb=function(){for(var m=0,l=0;l < this.length;l++){m=Math.max(this.kt[l],m);}return this.tTa=m;};return h;})();b.Ika=a;b.$y=c;a.prototype.Afb=c(a.prototype.Gk);c(a.prototype.wY);c(a.prototype.ed);b.Ayb=function(h){return "[" + Array(h.length).map(function(m,l){return h[l].toString();}).join(",") + "]";};},function(q,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.A0a=b.FB=b.On=b.taa=void 0;c=a(4);k=a(151);b.taa=function(g,f){return g.Pn(f,void 0,!0);};b.On=function(g,f,d,h,m,l){var n,p,r,t;k.po.ks(g);c.assert(d.Z,"findFirstFragment called without stream fragments");n=d.Z;h=Math.max(d.Z.Gk(0),h);0 === g && !l && f.Io && !f.iJ && d.Qf && (h=Math.max(d.Z.Gk(0),h + d.Qf.V));p=b.taa(n,h);r=d.Hh(p);if(r.Ta < h)return r;t=r.Pra(h);t?(0 < t.hm && r.Lj({start:t.hm}),0 !== g || f.S_ || (0 > t.Xd && r.Lj({start:t.hm}),t.Xd < (f.Io && !f.iJ && d.Qf?Math.floor(d.Qf.V):0) && r.Sqa())):h >= r.Ta && p < n.length - 1 && (r=d.Hh(p + 1));1 === g && m && r.Ta === m && p < n.length - 1 && (r=d.Hh(p + 1));0 === g && !r.na && (f.W5a || f.OHb) && l && r.Lj({});r.bS(h);return r;};b.FB=function(g,f,d,h,m,l){var n,p;k.po.ks(g);n=d.Z;void 0 === h && (h=n.Ta);if(m && (m=m.UJb(d,h,g,f,l)))return m;m=n.$;l=h?h + b.A0a(g,m,f.vL,f.cfa):n.wY(n.length - 1);n=n.Pn(l,void 0,!0);m=d.Hh(n);0 === n || m.da !== h || 1 !== g && f.vL || (--n,m=d.Hh(n));l=1 === g?l:h;if(l < m.Ta){p=m.Ora(l);p && 0 !== p.hm?m.Lj({end:p.hm}):0 === g && (p || l < m.da) && 0 !== n?m=d.Hh(n - 1):1 !== g || (d.lRb || f.VCa) && !p || 0 === n || (m=d.Hh(n - 1));}0 === g && !m.na && f.W5a && m.Lj();m.bS(h);return m;};b.A0a=function(g,f,d,h){var m;return 1 === g || h?0:d?null !== (m=null === f || void 0 === f?void 0:f.V) && void 0 !== m?m:0:f?-f.V:0;};},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.H6=void 0;c=a(21);q=(function(){function k(g,f){this.JI=g;this.yI=f;this.B2b();}k.from=function(g){return "number" === typeof g?new k(g,1):new k(g.jp,g.Vl);};k.KKb=function(g){return new k(g.I,g.qa);};Object.defineProperties(k.prototype,{jp:{get:function(){return this.JI;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Vl:{get:function(){return this.yI;},enumerable:!1,configurable:!0}});k.prototype.$=function(){return new c.O(this.yI,this.JI);};k.prototype.equal=function(g){return this.JI === g.JI && this.yI === g.yI;};k.prototype.B2b=function(){var g,f,d;g=Math.floor(1E3 * this.JI / this.yI);f=Math.floor(1001 * this.JI / this.yI);d=1E3 * Math.round(g / 1E3);this.JI=d;this.yI=Math.abs(f - d) > Math.abs(g - d)?1E3:1001;};return k;})();b.H6=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Oka=void 0;c=a(399);b.Oka=(function(){return function(k,g){var f;void 0 === g && (g={w:1,Qt:1});this.pp=k;this.Bab=g;f=k.w * g.w;k=k.Qt * g.Qt;g=c.Nt(f,k);this.GW={w:f / g,Qt:k / g};};})();},function(q,b,a){var c,k,g,f,d;Object.defineProperties(b,{__esModule:{value:!0}});b.fEa=void 0;c=a(1);k=a(945);g=a(21);f=a(4);d=a(90);q=(function(){function h(m,l,n){var p,r,t;this.K=l;this.J=n;this.cl=m.track;this.iO=m.dg;this.tl=m.tl;this.utb=m.tl.Fj;this.NN=this.ab=void 0;l=m.zw;this.zw=void 0 === l?!0:l;this.d$=m.d$;this.IN=void 0;this.vTa=this.$g=0;this.url=this.GL=this.Xc=this.wu=this.iwa=this.location=this.fb=this.Jb=void 0;this.SB=!1;this.Bva=this.Of=void 0;l=(m=this.K) && "object" === typeof m.Sbb && m.Sbb[this.profile];"object" === typeof l && (l=l[this.bitrate]) && (this.yvb=new g.O(l.ticks,l.timescale));this.jub=0 <= (null === (p=m.fzb) || void 0 === p?void 0:p.indexOf(this.profile));if((null === (r=m.nR) || void 0 === r?0:r.Wfc) && 1 === this.mediaType && (p=this.tl,0 < (null === (t=p.Ks) || void 0 === t?void 0:t.length))){t=p.Ks.splice(0,p.Ks.length);p=new Uint8Array(t.length);for(r=0;r < t.length;r++){p[r]=t[r].nb;}this.Ks=p;}}Object.defineProperties(h.prototype,{Ie:{get:function(){return ! !this.ab;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{d6a:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{R:{get:function(){return this.cl.R;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{M:{get:function(){return this.R.M;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{L:{get:function(){return this.cl.L;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{mediaType:{get:function(){return this.cl.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{$:{get:function(){return this.cl.$;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{I:{get:function(){return this.cl.I;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{UQ:{get:function(){return this.cl.UQ;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{trackId:{get:function(){return this.cl.trackId;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{track:{get:function(){return this.cl;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{dg:{get:function(){return this.iO;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Za:{get:function(){return this.tl.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{id:{get:function(){return this.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Fj:{get:function(){return this.utb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{cp:{get:function(){return this.track.cp;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{bitrate:{get:function(){return this.tl.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{nb:{get:function(){var m;return this.y$?this.y$:null !== (m=this.tl.vmaf) && void 0 !== m?m:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{d2b:{get:function(){return this.tl.res_w || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Tea:{get:function(){return this.tl.res_h || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{profile:{get:function(){return this.tl.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ef:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{dr:{get:function(){return this.tl.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Qf:{get:function(){return this.yvb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{vPb:{get:function(){return this.jub;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Z:{get:function(){return this.ab;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ez:{get:function(){return this.ab && this.ab.ez;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{$$:{get:function(){return this.cl.$$;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Z$:{get:function(){return this.cl.Z$;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{da:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{cw:{get:function(){return void 0 !== this.IN?this.IN:this.ZRb();},set:function(m){this.IN=m;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Bw:{get:function(){return this.zw && !this.SB;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Yf:{get:function(){return this.NN;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{lRb:{get:function(){f.assert(! !this.Z,"Initial header should have been received already");return this.R.Xy() && -1 < this.ef.indexOf("h264mpl") && void 0 === this.Z.Jna;},enumerable:!1,configurable:!0}});h.prototype.xq=function(){return this.R.xq(this.mediaType,this.Za);};h.prototype.vaa=function(){var m;m=this.xq();return m && m.stream.Z;};h.prototype.lH=function(m){return this.R.lH(this,m);};h.prototype.Hda=function(){this.track.Hda();};h.prototype.Gda=function(){this.track.Gda();};h.prototype.Fda=function(m,l,n,p,r,t,w,v){p && void 0 !== p.Fk && (this.track.Ie || void 0 !== p.ed && p.ed.length) && void 0 !== p.offset && void 0 !== p.sizes && p.sizes.length?(this.K.Io && this.Qf && 0 === p.Fk && (p.Fk+=this.Qf.Yc(p.I).qa),this.NN=m,this.Ie || (this.track.Fda(this,l,n,p,t,v),this.ab=new k.nQa(this.iO,this.track.mr,p,r,t,w,this.L),this.track.wXb(this))):p?this.J.error("AseStream.onHeaderReceived: fragmentsData was missing data:" + (void 0 !== p.Fk) + "," + this.track.Ie + "," + this.track.fza + "," + (void 0 !== p.ed) + "," + !(!p.ed || !p.ed.length) + "," + (void 0 !== p.offset) + "," + (void 0 !== p.sizes) + "," + !(!p.sizes || !p.sizes.length)):this.J.error("AseStream.onHeaderReceived: fragmentsData was undefined.");};h.prototype.C9=function(m){this.Ie || (this.track.QCb(m.track),this.ab=m.Z,this.NN=m.Yf);};h.prototype.Hh=function(m){return new d.gn(this,this.Z.get(m));};h.prototype.P2a=function(m){var l;l=this.Hh(m.index);m.na && (l.Lj(m.na),l.bS(m.aD));return l;};h.prototype.Khb=function(m,l){this.$g=m;this.vTa=l;};h.prototype.VBb=function(){this.fb=this.Jb=this.Xc=this.location=this.url=void 0;};h.prototype.Gm=function(){return 0 === this.mediaType?this.kLb():this.GOb();};h.prototype.Y3a=function(m,l){if(this.cp){if(m)return this.QMb();f.assert(void 0 !== l,"liveSegmentId is required for live media requests");return this.RMb(l);}return this.url;};h.prototype.toJSON=function(){return {movieId:this.L,mediaType:this.mediaType,streamId:this.Za,bitrate:this.bitrate,streamIndex:this.dg,isAvailable:this.zw,fittable:this.cw,vmaf:this.nb,resolutionWidth:this.d2b,resolutionHeight:this.Tea};};h.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.Za + ":" + this.bitrate;};h.prototype.o3a=function(){var m;f.assert(this.cp && this.R.pa.nca,"liveMetadata missing from manifest");m=this.R.pa.nca;return m.V2b[m.zHb[this.Za]];};h.prototype.QMb=function(){var m;f.assert(this.cp && this.tl.O1,"live representationId missing from manifest");m=this.tl.O1;return this.url + this.o3a().OQb.replace("$RepresentationID$",m);};h.prototype.RMb=function(m){var l;f.assert(this.cp && this.tl.O1,"live representationId missing from manifest");l=this.tl.O1;return this.url + this.o3a().media.replace("$RepresentationID$",l).replace("$Number$",m.toString());};h.prototype.ZRb=function(){var m,l,n,p,r;if(!this.Ie)return !0;if(this.track.mua >= this.bitrate)return this.IN=!0;if(this.track.k8a <= this.bitrate)return this.IN=!1;r=this.ab.sAb(this.K.QK,this.$g,null !== (l=null === (m=this.R) || void 0 === m?void 0:m.NL.V) && void 0 !== l?l:0,null !== (p=null === (n=this.R) || void 0 === n?void 0:n.NL.ga) && void 0 !== p?p:0,this.vTa);r?this.track.fza && !this.Fj && this.track.$o || (this.track.mua=this.bitrate):this.track.k8a=this.bitrate;return this.IN=r;};h.prototype.GOb=function(){return c.__assign(c.__assign({},this.track.Gm()),{profile:this.ef});};h.prototype.kLb=function(){return c.__assign(c.__assign({},this.track.Gm()),{profile:this.ef,bitrate:this.bitrate});};return h;})();b.fEa=q;},function(q){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,k){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),k * a.byteLength / a.length);}:function(a,c,k){a.set(c,k);};q.exports={from:function(a,c,k,g){a=new a(c.length);for(var f="function" === typeof k,d=0;d < c.length;++d){a[d]=f?k.call(g,c[d],d,c):c[d];}return a;},set:b};},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);q=(function(k){function g(){var f;f=null !== k && k.apply(this,arguments) || this;f.Gi=1536;return f;}c.__extends(g,k);g.wa=!0;return g;})(a(188).default);b.default=q;a=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.Xa="ac-3";return g;})(q);b.$S=a;q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.Xa="ec-3";return g;})(q);b.ET=q;},function(q,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);k=a(107);q=a(28);g=k.av;q=(function(f){function d(){return null !== f && f.apply(this,arguments) || this;}c.__extends(d,f);d.prototype.parse=function(){this.tb();this.fileSize=this.l.xc();this.I=this.l.xc();this.duration=this.l.xc(!1,!0);this.u0=this.l.xc();this.l.xc();this.y0=this.l.xc();this.m0=this.l.ba();this.v0=this.l.xc();this.MY=this.l.ba();this.l.Yq();this.gd={moof:{offset:this.u0},sidx:{offset:this.v0,size:this.MY}};this.gd[k.GD]={offset:this.y0,size:this.m0};this.l.offset - this.startOffset <= this.length - 24 && (this.x0=this.l.xc(),this.i0=this.l.ba(),this.w0=this.l.xc(),this.h0=this.l.ba(),this.gd[k.Hp]={offset:this.x0,size:this.i0},this.gd[k.Gp]={offset:this.w0,size:this.h0});return !0;};d.Xa=g;d.wa=!1;return d;})(q.yb);b.default=q;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);q=a(107);a=a(28);k=q.bv;a=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}c.__extends(f,g);f.prototype.parse=function(){var d,l,n;this.tb();1 <= this.version && this.l.Yq();d=this.l.ba();this.gd={};for(var h=this.startOffset + this.length,m=0;m < d;++m){l=this.l.rh();"uuid" === l && (l=this.l.Yq());n=this.l.xc();this.gd[l]={offset:h,size:n};h+=n;}return !0;};f.Xa=k;f.wa=!1;return f;})(a.yb);b.default=a;},function(q){var b,a,c,k;b={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,pg:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,pg:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,pg:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};k={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,pg:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};q.exports={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":k},reset:{"heaac-2-dash":b,"heaac-2hq-dash":b},"heaac-2-dash":b,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":k};},function(q,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);k=a(28);g=a(88);q=(function(f){function d(h,m,l,n,p){l=f.call(this,l,n,p) || this;l.YW=h;l.Ik=m;l.Ba={};return l;}c.__extends(d,f);d.prototype.parse=function(h){var m,l,n,p,r,t;this.offset=0;m=[];for(h=h || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){l=this.offset;n=this.ba();if(0 === n)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};p=g.Uk(this.ba());if(null === p)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === p){if(16 > this.view.byteLength - this.offset)break;p=this.Yq();}if(0 === m.length && this.Ik.uF(p,l,n))break;if(l + n > this.view.byteLength)break;r=this.YW[p];t=void 0;if(r){if((t=new r(this,p,l,n,m[0]),(m[0] || this).xm(t),t.parse(h)))this.config.Mw && r.wa?m.unshift(t):this.offset=l + n;else return {done:!1,offset:this.offset,error:"parse error in " + p + " box"};}else this.offset=l + n;for(;m.length && this.offset > m[0].byteOffset + m[0].Li - 8;){t=m.shift();if(!t.Nn(h))return {done:!1,offset:this.offset,error:"finalize error in " + t.type + " box"};this.offset=t.byteOffset + t.Li;}if(0 === m.length && this.Ik.fF(p,l,n,t))break;}return !this.Ik.done && (h=this.Ik.endOffset?this.Ik.endOffset - this.view.byteLength:4096,0 < h)?{done:!1,offset:this.offset,iG:h}:{done:!0,offset:Math.min(this.Ik.endOffset || Infinity,this.offset)};};d.prototype.xm=function(h){k.yb.xm(this,h);};return d;})(a(965).SU);b.Ru=q;},function(q,b,a){var k;function c(g,f){g=f.indexOf(g);-1 !== g && f.splice(g,1);}Object.defineProperty(b,"__esModule",{value:!0});k=a(107);q=(function(){function g(f){this.endOffset=f;this.done=!1;}g.prototype.uF=function(){return this.done;};g.prototype.fF=function(f,d,h){return this.done=d + h >= this.endOffset;};return g;})();b.vD=q;q=(function(){function g(f,d,h,m){void 0 === d && (d=[]);void 0 === h && (h=[]);void 0 === m && (m=!1);this.Me=f;this.oq=d;this.cH=h;this.pG=m;this.done=!1;this.gd={};}g.prototype.uF=function(f,d,h){-1 !== g.KZ.indexOf(f) && (this.gd[f]={offset:d,size:h});if(-1 !== this.cH.indexOf(f)){if((this.gd[f]={offset:d,size:h},this.pG))this.endOffset=d + h;else return (this.endOffset=d,this.done=!0);}else this.Me && -1 !== this.Me.indexOf(f)?(f=1 < this.Me.length?4096:0,this.endOffset=Math.max(d + h + f,this.endOffset || 0)):-1 !== this.oq.indexOf(f) && (f=this.Me?4096:0,this.endOffset=Math.max(d + h + f,this.endOffset || 0));return this.done;};g.prototype.fF=function(f,d,h,m){var l;l=this;if(-1 !== this.cH.indexOf(f))return this.done=!0;f === k.av && this.PG(m.gd);f === k.bv && this.PG(m.gd);this.Me && c(f,this.Me);c(f,this.oq);return this.Me && 0 === this.Me.length && !this.oq.some(function(n){return l.gd[n];})?this.done=!0:this.done;};g.prototype.PG=function(f){var d;d=this;this.gd=f;this.endOffset=(this.Me || []).concat(this.oq).reduce(function(h,m){return d.gd[m]?(m=d.gd[m],Math.max(m.offset + (m.size || 4096),h)):h;},this.endOffset || 0);};g.KZ=["moov","sidx"];return g;})();b.ZT=q;},function(q,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.wka=void 0;c=a(1);k=a(122);a(4);c.__importDefault(a(33));q=(function(){function g(f,d,h,m,l,n){this.ed=f;this.SL=h;this.I=l;this.lTa=!1;this.length=Math.min(f.length,d.length,h.length);this.al=d;m.length !== this.length?(f=new Uint8Array(this.length),k.mI.set(f,m.subarray(0,this.length),0),this.tv=f):this.tv=m;this.Od=n;}Object.defineProperties(g.prototype,{ga:{get:function(){return void 0 !== this.Od?this.Od:this.Od=this.gla();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{sizes:{get:function(){return this.al;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{vh:{get:function(){return this.tv;},enumerable:!1,configurable:!0}});g.prototype.subarray=function(f,d){return new g(this.ed.subarray(f,d),this.sizes.subarray(f,d),this.SL.subarray(f,d),this.vh.subarray(f,d),this.I);};g.prototype.concat=function(){var h,m,l,n;for(var f=[],d=0;d < arguments.length;d++){f[d]=arguments[d];}d=[this];f=d.concat.apply(d,c.__spread(f));d=f.reduce(function(p,r){return p + r.length;},0);h=new Uint32Array(d);m=new Uint32Array(d);l=new Uint8Array(d);n=new Uint8Array(d);d=f[0].I;f.reduce(function(p,r){k.mI.set(h,r.ed,p);k.mI.set(m,r.sizes,p);k.mI.set(l,r.SL,p);k.mI.set(n,r.vh,p);return p + r.length;},0);return new g(h,m,l,n,d);};g.prototype.gla=function(){for(var f=this.sizes,d=this.length,h=0,m=0;m < d;++m){h+=f[m];}return h;};g.prototype.bVb=function(){this.lTa || (this.lTa=!0,this.al=new Uint32Array(this.al),this.tv=new Uint8Array(this.tv),this.kO=new Uint8Array(this.tv.length));};g.prototype.cVb=function(){void 0 === this.kO && (this.kO=new Uint8Array(this.tv.length));};g.prototype.upgrade=function(f,d){var h;this.bVb();f.cVb();h=f.sizes[d];void 0 !== this.Od && (this.Od+=h - this.sizes[d]);this.kO[d]=1;f.kO[d]=1;this.SL[d]=f.SL[d];this.vh[d]=f.vh[d];this.sizes[d]=h;};g.prototype.p6a=function(f){return void 0 === this.kO?!1:0 < this.kO[f];};return g;})();b.wka=q;},function(q,b,a){var c,k,g,f,d,h,m,l,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.aha=void 0;c=a(1);k=a(122);q=a(13);g=c.__importDefault(a(5));f=a(8);d=a(39);h=a(4);m=a(17);l=a(270);n=a(445);a=a(446);p=g.default.MediaSource;a=(function(r){function t(w,v,u,x,y,z,A){v=r.call(this,w,x,y,v,A) || this;n.g4.I5a(v,w,x,A);v.lu=u;v.track=u.track;v.Iy=! !x.Iy;v.WQ=! !x.WQ;v.hF=! !x.hF;v.fYb=x.ga;v.hS=! !x.hS;v.hma=(z?"(cache)":"") + v.Za + " header";w=x.offset;x=x.ga;v.Ao && (w+=v.Ao.byteLength,x-=v.Ao.byteLength);v.fO(w,x);return v;}c.__extends(t,r);Object.defineProperties(t.prototype,{Qc:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{jR:{get:function(){return this.evb;},enumerable:!1,configurable:!0}});t.prototype.sd=function(){var w;if(!this.complete){w={type:"headerRequestCancelled",request:this};this.emit(w.type,w);}r.prototype.sd.call(this);};t.prototype.PY=function(w){this.stream.Hda();r.prototype.PY.call(this,w);};t.prototype.JP=function(w,v,u){this.stream.Gda();r.prototype.JP.call(this,w,v,u);};t.prototype.Nm=function(w){this.Ao=this.Ao?f.Jv(this.Ao,w.response):w.response;w.Hea();this.stream.Gda();this.cvb()?r.prototype.Nm.call(this,w):this.QRa?(this.fO(w.offset + w.ga,this.QRa),this.stream.Hda(),r.prototype.Nm.call(this,w)):this.V$(this);};t.prototype.fO=function(w,v){w=new l.jT(this.stream,this.track,this.hma + " (" + this.Pa.length + ")",{Qc:!0,offset:w,ga:v,OG:{mf:m.Da.Sh},location:this.location,Pe:this.Pe,responseType:0},this,this.Kf,this.J);this.push(w);this.Od=this.Pa.reduce(function(u,x){return u + x.ga;},0);};t.prototype.cvb=function(){var w,v,u,x,y,z,A;x=this.Kf;y=new k.uo(t.cWb,this.stream,this.Ao,["sidx"],!0,{njc:this.stream.track.fza,iR:void 0 === this.$,ES:!p.dd || !p.dd.fYa,h3:x.h3,Io:x.Io,Hu:this.Kf.Hu,pAa:!0,zu:!p.dd || !p.dd.Y9a,J1:this.Kf.J1});z=y.parse({$:this.$});this.K8b=x.Hu && y.dua;if(z.Mi){h.assert(z.Yf);this.NN=z.Yf;this.evb=z.jR;this.uSa=! !z.fra;void 0 === this.$ && void 0 === z.$ && this.J.error("No frame duration available for " + this.Za);y=z.$?new f.O(z.$):this.$;A=void 0;if(1 === this.R1.mediaType && (null === (w=x.nR) || void 0 === w?0:w.enabled))if(null === (v=this.R1.Ks) || void 0 === v?0:v.length)A=this.R1.Ks;else if((w=this.R1.tl.Ks,0 < (null === w || void 0 === w?void 0:w.length)))for((A=new Uint8Array(w.length),u=0);u < w.length;u++){A[u]=w[u].nb;}else if(null === (u=z.vh) || void 0 === u?0:u.length)for((A=new Uint8Array(z.vh.length),u=0);u < z.vh.length;u++){A[u]=z.vh[u];}this.stream.Fda(z.Yf,z.I,y,z.Z,z.dG,z.Eh,A,z.trackId);this.Ao=void 0;}else this.QRa=z.Hna || 0;return ! !z.Mi;};t.cWb=new g.default.Console("MP4","media|asejs");return t;})(a.Yga);b.aha=a;d.Xe(n.g4,a,!1,!1);d.Xe(q.EventEmitter,a);},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.g4=void 0;c=a(1);k=a(4);g=a(189);q=(function(f){function d(h,m,l){var n;n=f.call(this,h,m) || this;n.hS=!1;n.Iy=!1;n.WQ=!1;n.hF=!1;n.lu=void 0;d.I5a(n,h,m,l);return n;}c.__extends(d,f);d.I5a=function(h,m,l,n){g.zx.xa(h,m,l);h.NN=l.Yf;h.Ao=l.sya;h.uSa=l.Ej;h.J=n;};Object.defineProperties(d.prototype,{Qc:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Yf:{get:function(){return this.NN;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{sya:{get:function(){return this.Ao;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ej:{get:function(){return this.uSa;},enumerable:!1,configurable:!0}});d.prototype.sd=function(){};d.prototype.QCa=function(){};d.prototype.ayb=function(h){k.assert(this.Bd.Za === h.Za);!h.Ie && this.Bd.Ie && h.C9(this.Bd);!h.location && this.Bd.location && (h.location=this.Bd.location,h.Xc=this.Bd.Xc,h.GL=this.Bd.GL,h.url=this.Bd.url,h.Jb=this.Bd.Jb);this.Bd=h;};d.prototype.toJSON=function(){return c.__assign(c.__assign({},f.prototype.toJSON.call(this)),{isHeader:!0,fragments:this.stream.Z});};return d;})(g.zx);b.g4=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Yga=void 0;c=a(1);c.__importDefault(a(5));a(4);q=(function(k){function g(f,d,h,m,l){f=k.call(this,f,d,h,m,l) || this;f.HSa=!1;f.GSa=!1;f.rV=!1;f.Pa=[];f.Vp=!1;f.OTa=!1;f.bTa=!1;f.wf=!1;f.wn=!1;f.aj=!1;f.kN=!1;f.SN=void 0;f.dy=void 0;return f;}c.__extends(g,k);Object.defineProperties(g.prototype,{kva:{get:function(){return this.Vp && !this.rV;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{active:{get:function(){return this.wf;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Gza:{get:function(){return this.wn;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{complete:{get:function(){return this.aj || (this.aj=this.Pa.every(function(f){return f.complete;}));},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{aborted:{get:function(){return this.kN;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{rf:{get:function(){return this.Pa.reduce(function(f,d){return f + d.rf;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{bytesReceived:{get:function(){return this.Pa.reduce(function(f,d){return f + d.bytesReceived;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{$f:{get:function(){return this.SN || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{url:{get:function(){return this.Pa[0] && this.Pa[0].url;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{readyState:{get:function(){return this.vi || this.Pa.reduce(function(f,d){return Math.min(f,d.readyState);},Infinity);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{status:{get:function(){return this.dy && this.dy.status || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Zh:{get:function(){return this.dy && this.dy.Zh;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{GP:{get:function(){return this.dy && this.dy.GP;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{nk:{get:function(){return this.dy && this.dy.nk;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Aw:{get:function(){return ! !this.Pa.length && this.Pa[0].Aw;},enumerable:!1,configurable:!0}});g.prototype.push=function(f){this.bTa && f.xa(this.eb);this.Pa.push(f);this.Vp && f.gR();};g.prototype.xa=function(f){k.prototype.xa.call(this,f);this.Pa.forEach(function(d){return d.xa(f);});this.bTa=!0;};g.prototype.gR=function(){this.OTa=!0;(this.Vp=this.Pa.every(function(f){return f.gR();})) && this.PY(this);this.OTa=!1;return this.Vp;};g.prototype.sd=function(){7 !== this.readyState && 5 !== this.readyState && (this.J.warn("AseCompoundRequest: in-progress request should be aborted before cleanup",this),this.abort());this.Pa.forEach(function(f){return f.sd();});};g.prototype.Mfa=function(f){this.vi=this.dy=void 0;return this.Pa.every(function(d){return 5 !== d.readyState && 7 !== d.readyState?d.Mfa(f):!0;});};g.prototype.abort=function(){var f,d,h;f=this.active;d=this.aborted;this.vi=7;this.kN=!0;this.wn=this.wf=!1;h=this.Pa.map(function(m){return m.abort();}).every(function(m){return m;});d || this.JP(this,f,this.kva);return h;};g.prototype.getResponseHeader=function(f){var d;d=null;this.Pa.some(function(h){return ! !(d=h.getResponseHeader(f));});return d;};g.prototype.getAllResponseHeaders=function(){var f;f=null;this.Pa.some(function(d){return ! !(f=d.getAllResponseHeaders());});return f;};g.prototype.Mda=function(){};g.prototype.AC=function(f){this.wf || (this.wf=!0);this.HSa || (this.HSa=!0,this.iu=0,this.SN=this.Ww=f.$f,this.KP(this));};g.prototype.ZK=function(f){this.wn || (this.wn=!0);this.GSa || (this.GSa=!0,this.SN=f.$f,this.tF(this));};g.prototype.$K=function(f){this.SN=f.$f;this.TJ(this);this.iu=this.bytesReceived;this.Ww=f.$f;};g.prototype.Nm=function(f){this.SN=f.$f;this.complete?(this.aj=!0,this.vi=5,this.wn=this.wf=!1,this.rV=!0,this.ew(this)):this.TJ(this);this.iu=this.bytesReceived;this.Ww=f.$f;};g.prototype.K0=function(f){this.SN=f.$f;this.dy=f;this.vi=6;this.V$(this);};g.prototype.J0=function(){};g.prototype.ij=function(){return this.Pa[0].ij() + "-" + this.Pa[this.Pa.length - 1].ij();};g.prototype.toString=function(){return "Compound[" + this.Pa.map(function(f){return f.toString();}).join(",") + "]";};g.prototype.toJSON=function(){return {requests:this.Pa};};return g;})(a(191).vH);b.Yga=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Lra=void 0;b.Lra=function(a,c){for(var k,g,f=a.length - 1;0 <= f;--f){if((g=a[f],g.Bw)){if(g.bitrate <= c)return f;k=f;}}return k;};},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.jta=b.iyb=void 0;b.iyb=function(a){return a.cfa;};b.jta=function(a,c){return void 0 !== a.QQ?a.QQ:c && void 0 !== c.QQ?c.QQ:100;};},function(q,b,a){var g;function c(f,d){this.gvb=f.nR && f.nR.enabled;this.d8=void 0;this.Utb=d;this.Qma=[];this.hna=[];this.Cma=[];f=f.kUa || [];d=f.map(function(h){return h.Ifc;});d.unshift(0);this.ovb=f;this.pvb=d;this.Fma=[];this.Gg=[];}function k(f,d){var t,w,v,u;for(var h=[],m=[],l=0;l < f.length;l++){for(var n=f[l],p=[],r=0;r < n.length;r++){t=n[r] - (m[r] || 0);w=d && d[r];v=p;u=v.push;1 <= w && (w=Math.pow(10,w || 0),t=Math.round(t * w) / w);u.call(v,t);}h.push(p);m=n;}return h;}g=a(33).wK;c.prototype.reset=function(f){this.d8=void 0;this.Qma=[];this.hna=[];this.Cma=[];this.Fma=[];f && (this.Gg=[]);};c.prototype.add=function(f,d){var h,m,l,n;h=d.filter(function(p,r){return g(p) || r === f.nf;});m=h.map(function(p){return p.bitrate;});d=d[f.nf];h=h.indexOf(d);l=this.d8;if(l && (l.length !== m.length || l.some(function(p,r){return p !== m[r];}))){n=this.z2a();n && (this.Gg.push(n),this.reset(!1));}void 0 === l && (this.d8=m);this.Qma.push([h,f.Lz,f.yc,f.Koa,f.dXa,f.h1,f.dXb,f.mf,f.Pr,f.il,f.sS - f.Lz,f.FZb]);void 0 !== f.mz && this.Cma.push([f.Lz,f.mz.WC,f.mz.rB,f.mz.LC]);h=d && d.Z;this.gvb && void 0 !== h && (l=h.Pn(f.il),-1 != l && (h=h.get(l),l=h.duration,d=h.nb || d.nb,void 0 !== d && this.hna.push({da:h.da,duration:l,nb:d})));(d=f.a_b) && d.length && (d=d.slice(0),d.unshift(f.Lz),this.Fma.push(d));};c.prototype.z2a=function(){var f,d;f=k(this.Qma);if(0 !== f.length){f={dltype:this.Utb,bitrates:this.d8,seltrace:f,vmaftrace:this.hna,paceratetrace:k(this.Cma)};d=k(this.Fma,this.pvb);d && d.length && (f.predtrace={config:this.ovb,data:d});return f;}};c.prototype.get=function(){var f,d;f=this.z2a();d=this.Gg;f && d.push(f);if(0 !== d.length)return d;};q.exports=c;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.JFa=void 0;c=a(994);q=(function(){function k(g){var H00;H00=2;for(;H00 !== 5;){switch(H00){case 2:var R59="1SIYbZ";R59+="rNJ";R59+="Cp9";this.J=g;R59;H00=5;break;}}}var G00;G00=2;for(;G00 !== 3;){switch(G00){case 4:return k;break;case 2:k.prototype.yrb=function(g,f){var I00,d;I00=2;for(;I00 !== 14;){switch(I00){case 4:var x59="applying m";x59+="anifest";x59+=" based streamingClientConfig";return (g=d.streamingClientConfig,this.J.trace(x59 + JSON.stringify(g)),this.PTa(f,g));break;case 2:f=c.PYa(f,g);d=g.steeringAdditionalInfo;I00=5;break;case 5:I00=d && d.streamingClientConfig && Object.keys(d.streamingClientConfig).length?4:3;break;case 3:g=g.cdnResponseData;I00=9;break;case 9:I00=!g?8:7;break;case 8:return f;break;case 7:var B59="using sab";B59+=" cell >= 100, pipel";B59+="ineEnabled";B59+=": ";var T59="using sab cell ";T59+=">= ";T59+="20";T59+="0, pipeli";T59+="neEnabled: ";var N59=", all";N59+="owSwi";N59+="tchb";N59+="ack";var O59=", pro";O59+="beDetailDenomina";O59+="tor:";O59+=" ";var g59="using sab cell >= 3";g59+="00, probeServerWhenErro";g59+="r: ";var Z59=", a";Z59+="llowSwitc";Z59+="hba";Z59+="ck";var M59=", probeDetailDen";M59+="o";M59+="minator: ";var S59="using sab cell >= 400, pr";S59+="o";S59+="beServerWhenError: ";(g=g.sessionABTestCell) && (g=g.split(".")) && 1 < g.length && (g=parseInt(g[1].replace(/cell/i,""),10),400 <= g?(f.set?(f.set({probeServerWhenError:!0}),f.set({probeDetailDenominator:1}),f.set({allowSwitchback:!0})):(f.Xw=!0,f.oL=1,f.aB=!0),this.J.trace(S59 + f.Xw + M59 + f.oL + Z59 + f.aB)):300 <= g?(f.set?(f.set({probeServerWhenError:!0}),f.set({probeDetailDenominator:1}),f.set({allowSwitchback:!1})):(f.Xw=!0,f.oL=1,f.aB=!1),this.J.trace(g59 + f.Xw + O59 + f.oL + N59 + f.aB)):200 <= g?(f.set?f.set({pipelineEnabled:!1}):f.Bs=!1,this.J.trace(T59 + f.Bs)):100 <= g && (f.set?(f.set({pipelineEnabled:!0}),f.set({maxParallelConnections:1}),f.set({maxActiveRequestsPerSession:f.xca}),f.set({maxPendingBufferLen:f.Z8a})):(f.Bs=!0,f.KQ=1,f.dz=f.xca,f.Eca=f.Z8a),this.J.trace(B59 + f.Bs)));return f;break;}}};k.prototype.zrb=function(g,f){var J00;J00=2;for(;J00 !== 9;){switch(J00){case 1:return f;break;case 6:return f;break;J00=5;break;case 2:J00=!f.Vpa || g === this.Btb?1:5;break;case 5:this.Btb=g;for(var d in f.Vpa){new RegExp(d).test(g) && (f=this.PTa(f,f.Vpa[d]));}return f;break;}}};k.prototype.PTa=function(g,f){var K00,d,h,m;K00=2;for(;K00 !== 4;){switch(K00){case 2:for(h in f){if(f.hasOwnProperty(h)){var q59="I";q59+="nva";q59+="li";q59+="d k";q59+="ey";m=f[h];g.set?0 === g.set((d={},d[h]=m,d)) && this.J.trace(q59 + h):g[h]=m;}}return g;break;}}};G00=4;break;}}})();b.JFa=q;},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r;Object.defineProperties(b,{__esModule:{value:!0}});b.EJa=b.EU=void 0;c=a(1);k=a(13);g=c.__importStar(a(10));f=c.__importDefault(a(91));d=a(17);h=a(274);m=a(21);q=a(39);l=c.__importDefault(a(5));n=a(999);p=a(452);(function(t){t[t.H1a=0]="forwards";t[t.roa=1]="backwards";t[t.aR=2]="none";})(r=b.EU || (b.EU={}));a=(function(t){function w(v,u,x,y,z,A,B,D,C,F,G,E,I,K,L,H){var P,N,J;N=t.call(this,void 0,u,y,C.R,v,C,void 0,F,I,m.O.Sa(G),B.Ue.bind(B),E,H,void 0,new k.EventEmitter(),void 0) || this;N.Fb=v;N.cj=x;N.Gc=z;N.o7=A;N.U=B;N.dO=D;N.Rg=E;N.VY=K;N.xh=L;N.Il=H;N.active=!1;N.USa=[];N.Gma=0;null === (P=N.R) || void 0 === P?void 0:P.Lza(N);N.children=Object.create(null);N.Kz=[];N.Je=void 0;void 0 === I && (I=m.O.Sa(C.da));J=[N.K.mWa,N.K.RBa];F.forEach(function(M){var O;O=M.mediaType;M=new p.H5(v,N.cj,N.J,N,M,I.V,J[O],u,N.o7,N.xh,null === E || void 0 === E?void 0:E.rb(O));N.Be.t3b(O,M);});N.pv=N.Be.m1;return N;}c.__extends(w,t);Object.defineProperties(w.prototype,{L:{get:function(){return this.R.L;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{co:{get:function(){var v,u,x,y;return [null !== (u=null === (v=this.rb(0)) || void 0 === v?void 0:v.co) && void 0 !== u?u:0,null !== (y=null === (x=this.rb(1)) || void 0 === x?void 0:x.co) && void 0 !== y?y:0];},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Po:{get:function(){var v,u,x,y;return [null !== (u=null === (v=this.rb(0)) || void 0 === v?void 0:v.Po) && void 0 !== u?u:{V:0,ga:0},null !== (y=null === (x=this.rb(1)) || void 0 === x?void 0:x.Po) && void 0 !== y?y:{V:0,ga:0}];},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{ffa:{get:function(){return this.G.da;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Qya:{get:function(){return this.ffa + this.df;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Uc:{get:function(){return this.G.Ta;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{lf:{get:function(){return this.Uc + this.df;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Fc:{get:function(){return this.R.Fc;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{weight:{get:function(){return this.G.weight;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{G:{get:function(){return this.Ol;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{cm:{get:function(){return this.Be;},enumerable:!1,configurable:!0}});w.prototype.Mf=function(){var v;this.Vh || (this.active=!1,this.Rg && (delete this.Rg.children[this.G.id],this.Rg=void 0),g.Wf(this.children,function(u){u && u.Rg && (u.Rg=void 0);}),this.children=Object.create(null),this.yN=void 0,t.prototype.Mf.call(this),null === (v=this.R) || void 0 === v?void 0:v.GCa(this),this.Be.clear());};w.prototype.hAa=function(v,u){void 0 === u && (u=r.roa);this.cm.forEach(function(x){(g.ta(v) || x.mediaType === v) && x.reset();});switch(u){case r.roa:this.Rg && this.Rg.hAa(v,u);break;case r.H1a:this.children && g.Wf(this.children,function(x){x && x.hAa(v,u);});}};w.prototype.rQ=function(v){var u,x,y;if(!this.active)return !1;u=this.Rg;if(u){x=u.rb(v);y=x.eb.Qab;if(0 !== y && (u.BO(v),y=x.eb.Qab,0 !== y))return !1;}return !0;};w.prototype.pe=function(v){return this.cm.get(v);};w.prototype.uPb=function(){return this.cm.every(function(v){return 0 === v.PC;});};w.prototype.toJSON=function(){return c.__assign(c.__assign({},t.prototype.toJSON.call(this)),{active:this.active,playerStartPts:this.Rd,playerEndPts:this.lf,pipelines:this.cm,previousBranch:this.Rg});};w.prototype.Meb=function(v,u){this.R.GCa(this);this.R=this.G.R=v;this.aBa(this.R);this.R.Lza(this);this.cm.forEach(function(x){var y;y=u[x.mediaType];y && x.t2(y);});};w.prototype.CNb=function(v){return this.Il[v];};w.prototype.rb=function(v){return this.cm.get(v);};w.prototype.RNb=function(v){return this.rb(v).PC;};w.prototype.ZAa=function(v,u,x){var y,z,A,B;y=this;z=this.G;v=this.o9(z.da,this.R,v,this.L === (v?v.L:this.Gc.qd.L));A=v.yR;B=v.GB;void 0 === u && (u=[0,1]);0 === B.length || u.forEach(function(D){var C,F;C=y.rb(D);x && (C.Fe=B[D]);F=y.FY(z.Ta);C.pfa(F[D]);});return A;};w.prototype.Fcb=function(v,u){var x,y,z;x=this.Fb;y=this.rb(0);void 0 === u && (u=y.MQb);this.Rg && (z=this.Rg.pe(0));x=new p.H5(x,this.cj,this.J,this,v,u,y.WR,this.K,this.o7,this.xh,z);this.Be.replace(y,x);this.pv=this.Be.m1;this.ZAa(this.Rg,[0],!0);x.JL(u,! !this.Rg);y.Mf();g.Wf(this.children,function(A){A && A.Fcb(v);});};w.prototype.$v=function(v,u){if(u=this.rb(u))return u.eb.$v(v);};w.prototype.BO=function(v){void 0 === v?this.cm.forEach(function(u){u.BO();}):this.rb(v).BO();};w.prototype.s1=function(v,u,x){(v=this.rb(v)) && v.eb.s1(u,x);};w.prototype.Jaa=function(v,u){(u=this.rb(u)) && u.eb.Jaa(v);};w.prototype.sUb=function(v){this.USa[v]=!0;};w.prototype.lBb=function(){var v;v=this;return [0,1].every(function(u){return !v.Fc(u) || v.USa[u];});};w.prototype.hBb=function(v,u,x,y){var z,A,B,D,C,F,G,E,I;z=this.K;A=this.Fb;B=this.U.getState();D=B === d.Da.Md || B === d.Da.sg;if(!D && void 0 === x)return {yf:!0};if(B === d.Da.sg && l.default.time.ma() < this.Gma + z.pxa)return {yf:!1};C=this.rb(0);F=this.rb(1);G=this.Gc.yy(this,0);E=this.Gc.yy(this,1);I=h.hea(B);G=!C || C.KXa(I,this.U.Ue(),u,G,this.U.Aq(),y);E=!F || F.KXa(I,this.U.Ue(),v,E,this.U.Aq(),y);void 0 !== x && G && (x=x.trackId,v=this.R.getTrackById(x),this.Frb(x,v.iH),A.dB=void 0);if(G && E)return (this.dO(),this.cX=l.default.time.ma(),B === d.Da.sg && (this.Gma=l.default.time.ma()),{yf:!0,Cv:F?F.mJ:C.mJ});G=this.ai(0);E=this.ai(1);if(D){A=!F || E > z.Hj;if((!C || G > z.Hj) && A && (C=this.VY(),C >= z.GC))return (this.cc("buffering longer than limit: " + C + " >= " + z.GC + ", audio buffer: " + G + " ms, video buffer: " + E + " ms"),this.dO(),this.cX=l.default.time.ma(),B === d.Da.sg && (this.Gma=l.default.time.ma()),{yf:!0,Cv:"prebufferTimeLimit"});this.cj.oub();}return {yf:!1};};w.prototype.jpa=function(v,u){var x,y,z,A,B,D;x=this.K;y=this.rb(0);z=this.rb(1);u?(u=this.ai(0,v),v=this.ai(1,v)):(u=this.Gc.yy(this,0,v),v=this.Gc.yy(this,1,v));A=x.Hj;B=!this.Fc(0) || y.Yi && 0 === y.eb.qG && 0 === y.eb.Gu;y=!this.Fc(1) || z.Yi && 0 === z.eb.qG && 0 === z.eb.Gu;D=B && y;x=!B && u < x.Hj;if(!D && (x || !y && v < A))return !1;if(z && z.yf || !this.Fc(1))return !0;if(D)if(this.Fb.L7 && 0 === u && 0 === v)this.cc("playlist mode with nothing buffered, waiting for next manifest");else return !0;return !1;};w.prototype.mfa=function(v,u){var x,y;x=this;y=this.K;this.cm.forEach(function(z){z.seeking=void 0;});v && y.fj && this.cm.forEach(function(z){var A;if(z){A=x.Gc.qJ(x,z.mediaType);z="bufferingComplete: , mediaType: " + z.mediaType + ", bufferLevelBytes: " + z.Po.ga + ", completedMs: " + z.UO + ", completedBytes: " + A + ", partials: " + z.eb.qG + ", streamingPts: " + z.yc + ", completeStreamingPts: " + z.Wr + ", fragments: " + JSON.stringify(z.eb.Z) + ", toAppend: " + u(z.mediaType);x.cj.Vn(z);}});};w.prototype.WG=function(v,u,x){var y,z,A;y=this;z=l.default.time.ma();A={};g.Wf(this.children,function(B){var D,C,F,G;if(B){if(B.Je){B.Je.BHb=z - B.Je.vba;B.Je.vba=void 0;D=B.Je.weight;}else D=y.Gc.d4a(y.G.id,B.G.id);C=B.HB();F=y.rb(0) && 0 === C.ut;G=y.rb(1) && 0 === C.Ap;A[B.G.id]={weight:D,Bt:C,IZ:!F && !G};}});x={Is:z,Oe:v,yqa:x,yfa:this.G.id,Je:A};v || (v=u.Ue(),x.iS=v - (this.G.da + this.df),x.iS=Math.max(0,x.iS),x.X9=0,x.startTime=z);this.Kz.unshift(x);return x;};w.prototype.qCb=function(v){var u,x;u=this.Kz[0];u.Oe && (u.iS=this.Uc - this.G.da,u.iS=Math.max(0,u.iS));u.jhb={};x=v.HB();f.default(x,u.jhb);u.IZ=v.Po.every(function(y){return 0 < y.V;});this.Kz=[];return u;};w.prototype.xp=function(v){var u;u=this.G;v-=this.df;if(u.da < v && v < u.Ta)this.Kz.shift();else if(u=this.Kz[0])u.xp=!0;};w.prototype.o9=function(v,u,x,y){var z,A,B,D;z=this;void 0 === u && (u=this.R);A=!1;if(x){A=!0;B=x.rb(1).ag;x=x.rb(0).ag;if(!B || !x)return {yR:[],GB:[]};B=B.Ta;y || (B=void 0);}D=this.j1a(v,B,A,u);u.bc === this.Gc.KFb && [1,0].forEach(function(C){var F;F=z.rb(C);F && (F.Fe=D[C]);});return {yR:D.map(function(C){return C.da;}),GB:D};};w.prototype.j1a=function(v,u,x,y){var z;z=this;void 0 === y && (y=this.R);return this.PUa(y)?[1,0].map(function(A){var B;if(!z.Fc(A))return {};B=y.di[A];A=z.rb(A).On(B.stream,v,u,x);v=A.da;return A;}).reverse():[];};w.prototype.FY=function(v,u){var x;x=this;void 0 === u && (u=this.R);return this.PUa(u)?[1,0].map(function(y){var z;if(!x.Fc(y))return {};z=u.di[y].stream;y=x.rb(y).FB(z,v);v=x.K.Oh?new m.O(y.wb,z.$.I).V:y.Ta;return y;}).reverse():[];};w.prototype.W7b=function(v,u){var x;x=this.G.Ta;x && x < u && (v=this.FY(x));u=this.pe(1);x=this.pe(0);u && u.pfa(v[1]);x && x.pfa(v[0]);};w.prototype.PUa=function(v){var u;u=v.di;if(!u)return !1;v=u[1];v=!this.Fc(1) || v && v.stream.Ie;u=u[0];u=!this.Fc(0) || u && u.stream.Ie;return v && u?!0:!1;};w.prototype.Frb=function(v,u){this.cj.mub(v,u);};return w;})(n.JJa);b.EJa=a;q.Xe(k.EventEmitter,a);},function(q,b,a){var c,k,g,f,d,h,m,l,n;Object.defineProperties(b,{__esModule:{value:!0}});b.H5=void 0;c=a(1);q=a(453);k=c.__importDefault(a(32)).default.kb;g=a(432);f=a(17);d=c.__importDefault(a(5));h=a(196);m=a(4);l=a(21);n=a(1036);a=(function(p){function r(t,w,v,u,x,y,z,A,B,D,C){v=p.call(this,u,A,v,u,u,x,l.O.Sa(y),z,!1,null === C || void 0 === C?void 0:C.Sf) || this;v.Fb=t;v.cj=w;v.Mg=B;v.xh=D;v.Hoa=0;v.pF=[];v.BA=!1;v.Yp.hib=!1;v.qV=new n.FJa(u,v.xh,A,v.J,v.mediaType,v.cj,v.eb,v.Fb);v.QSb=d.default.time.ma();v.HSb=void 0;v.LK=A.Qua;v.Kbb=d.default.time.ma();w=h.XP(A);t=w.f1;w=w.g1;v.$Zb=0 === v.mediaType?t:w;v.t2(x);return v;}c.__extends(r,p);Object.defineProperties(r.prototype,{vt:{get:function(){return this.eb.vt;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{UO:{get:function(){return this.eb.UO;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{QE:{get:function(){return this.eb.QE;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{PC:{get:function(){return this.eb.PC;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Yi:{get:function(){return this.qV.Yi;},set:function(t){this.qV.Yi=t;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Ws:{get:function(){return this.qV.Ws;},set:function(t){this.qV.Ws=t;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{lca:{get:function(){return this.ve;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{MQb:{get:function(){return this.$Sa.V;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{WR:{get:function(){return this.Jk.WR;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{bOb:{get:function(){return this.Fb.Kma;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{yf:{get:function(){return this.BA;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{mJ:{get:function(){return this.$Ra;},enumerable:!1,configurable:!0}});r.prototype.reset=function(){this.seeking=void 0;this.connected=this.Yi=!1;this.Yp.reset();};r.prototype.Mf=function(){this.reset();p.prototype.Mf.call(this);};r.prototype.FB=function(t,w){return g.FB(this.cl.mediaType,this.K,t,w,this.Oh,this.Fb.kVb);};r.prototype.On=function(t,w,v,u){return g.On(this.cl.mediaType,this.K,t,w,v,u);};r.prototype.xp=function(){this.LK=this.K.Qua;};r.prototype.BO=function(){this.eb.dga();};r.prototype.t2=function(t){var w,v;w=this.Fb;v=this.mediaType;m.assert(t.mediaType === v);m.assert(t.R === this.Ab.R);this.cl=t;this.Ab.R.PCa(v,t.zd);w.htb(this,t.xs);this.tAb(t.zd);this.Sf.t2(t);this.Ab.R.wpa();this.Yi=!1;};r.prototype.Jra=function(t){var w;w=this.Ab.R.di[this.mediaType];if(w && w.stream.Ie && (t=w.stream.Z.Pn(t),-1 !== t))return t;};r.prototype.JL=function(t,w){var v,u,x;if(this.Fe && this.Fe.da === t){w=this.Fe.index;v=t;}else {u=this.Ab.R;x=u.di[this.mediaType];if(!x || !x.stream.Ie){this.eL=t;this.$Yb=w;return;}v=x.stream.Z;this.Fe=this.On(x.stream,t,void 0,w);if(void 0 === this.Fe){if((w=v.length - 1,v=v.Gk(w),this.cc("setStreamingPts out of range of fragments, pts:",t,"last startPts:",v,"fragment index:",w,"fastplay:",u.Pf.jf),u.Pf.jf)){this.eL=t;return;}}else (w=this.Fe.index,v=this.Fe.da);}this.gp=w;this.dW=v;this.eL=void 0;};r.prototype.X8b=function(t){var w,v;w=this.cl.Qy(t);v="verifying streamId: " + t + " stream's track: " + (w?w.Za:"unknown") + " currentTrack: " + this.cl.trackId;return w?!0:(this.cj.Vn(v),this.cj.Vn("unknown streamId: " + t),!1);};r.prototype.tAb=function(t){this.IPb=t.reduce(function(w,v){return v.Bw && v.bitrate > w.bitrate?v:w;},t[0]);};r.prototype.pfa=function(t){this.ag=t;};r.prototype.iUb=function(t,w,v,u,x){this.qhb(t,w,u,x);v && ++this.Hoa;this.Fb.$k();};r.prototype.AC=function(t){t.Ta && t.da && (this.LK-=t.Ta - t.da);p.prototype.AC.call(this,t);};r.prototype.Nm=function(t){this.F4a(t);this.ew(t);};r.prototype.Y7b=function(t){var w;w=d.default.time.ma();this.LK+=t * (w - this.Kbb);this.Kbb=w;};r.prototype.b2b=function(){this.LK=this.K.Qua;};r.prototype.PO=function(t){this.eb.epa();this.Oh || this.qV.PO(t,this.Uc);};r.prototype.F4a=function(t){var w,v,u;v=this.lca;u=this.Fb;this.Mg.BUa() || (this.cj.Mub(t.mediaType,t.R.bc,t.stream.track.xE,this.Wr,this.ea),null === (w=this.Oh) || void 0 === w?void 0:w.zQb(t),w=v.U.Ue() || 0,u.Pb.DA() || (v=v.rb(k.Vb)) && !v.yf && v.$aa && u.Pb.Jta(v),this.PO(w),this.Fb.E4a(t),this.Mg.X6(this) && this.Mg.$k());};r.prototype.jya=function(t){this.Fb.Waa(t);};r.prototype.KXa=function(t,w,v,u,x,y){var z,A;z=this.K;A=z.Hj;if(v >= z.Hj && (z.Oea && (A=v + 1E3),z.Pea && !this.connected))return !1;if(this.Oh)return this.Oh.lB();v=this.Yi && 0 === this.eb.rya && 0 === this.eb.Gu;return !v && u < A?!1:v?y && 0 === u?(this.cc("playlist mode with nothing buffered, waiting for next manifest"),!1):!0:this.vBb(t,w,x);};r.prototype.K3b=function(t){this.dW=t;};r.prototype.mfa=function(t){this.BA=!0;this.$Ra=t;};r.prototype.upa=function(){this.BA=!1;this.$Ra=void 0;};r.prototype.vBb=function(t,w,v){if(this.yf || 0 === this.mediaType)return !0;if(void 0 === this.ws)return !1;w=this.Usb(w,t);this.track.R.Tn.t3(this.track.R.M,this.track.zd);this.Jk.$ya([this.ws],!1,f.gea(t),w,this.$Zb);t=this.Jk.lB(w,t,v,this.ws,this.Ab.R.ds);t.complete?this.mfa(t.reason):(this.upa(),this.WF=t.WF,this.progress=t.progress);return this.yf;};r.prototype.Usb=function(t,w){var v,u,x,y,z;y=d.default.yq()[this.mediaType];z=this.eb.Jaa();t={Fv:y,da:null !== (v=z.Rd) && void 0 !== v?v:0,Ac:t,yc:null !== (u=z.tR || t) && void 0 !== u?u:0,gl:null !== (x=z.uX || t) && void 0 !== x?x:0,rf:z.rf,uk:z.uk,bo:z.bo,L1a:z.Z.length,Z:z.Z};"number" !== typeof t.da?(t.da=0,t.yc=0):w === f.Zc.Md && t.Ac !== t.da && (t.Ac=t.da);return t;};return r;})(q.Lja);b.H5=a;},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r,t,w,v,u,x;Object.defineProperties(b,{__esModule:{value:!0}});b.Lja=void 0;c=a(1);k=a(13);g=a(1E3);f=a(87);d=a(1001);h=a(1003);m=a(1009);l=a(194);n=a(278);p=a(8);r=a(4);t=a(21);w=c.__importDefault(a(5));q=a(74);v=a(39);u=a(459);x=a(132);a=(function(y){function z(A,B,D,C,F,G,E,I,K,L,H,P,N){var J;J=y.call(this,A) || this;J.K=B;J.ve=F;J.cl=G;J.$Sa=E;J.ny=P;J.Pp=N;J.events=new k.EventEmitter();J.connected=!1;J.bua=!1;J.rn=!1;J.X$=new d.QLa(J.mediaType,B,D,J);J.J=p.jk(w.default,D,"[" + J.mediaType + "]");J.Jl=J.J.error.bind(J.J);J.cc=J.J.warn.bind(J.J);J.Eo=J.J.trace.bind(J.J);J.dW=E.V;"string" === typeof I || void 0 === I?(A=0 === J.mediaType && B.Zqa || 1 === J.mediaType && B.$qa,J.Zma=new n.Bka(I,B,new l.y6(L),A)):J.Zma=I;J.sm=new g.tNa(J,C,J.K,J.J,J.mediaType);J.Yp=new h.kPa(J,B,J.J,J.sm,J.ve,J.mediaType,J.ny,function(){return J.Kj;});B.Oh && (J.Oh=new m.aQa(B.Oh,J.J));K && (J.og=null !== H && void 0 !== H?H:u.Ov(J.mediaType,J.track.R,J.K,J.J,J.sm.DKb.bind(J.sm),J.sm.CKb.bind(J.sm),function(){}),J.og.on("created",function(){return J.events.emit("requestQueueCreated");}));return J;}c.__extends(z,y);Object.defineProperties(z.prototype,{mediaType:{get:function(){return this.cl.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{track:{get:function(){return this.cl;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Ab:{get:function(){return this.ve;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ea:{get:function(){return this.ve.G.id;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{eb:{get:function(){return this.Yp;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{zd:{get:function(){return this.cl.zd;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Po:{get:function(){return this.Yp.Po;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{co:{get:function(){return this.Yp.co;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{yc:{get:function(){return this.dW;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Afa:{get:function(){var A;return null !== (A=this.he) && void 0 !== A?A:this.ps;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{tX:{get:function(){var A;return null !== (A=this.eb.tX) && void 0 !== A?A:this.Afa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ona:{get:function(){return this.eb.tX;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Wr:{get:function(){return this.eb.Wr;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Kpa:{get:function(){return this.eb.Kpa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ESb:{get:function(){var A;A=this.eb.FSb;return null === A || void 0 === A?void 0:A.Ud;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Dw:{get:function(){return ! !this.ag && (this.gp > this.ag.index || this.dW >= this.ag.Uc);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Pl:{get:function(){return this.Dw && 0 === this.Yp.qG;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{vt:{get:function(){return this.eb.vt;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{nr:{get:function(){return this.fd?t.O.max(this.fd.Ia(this.aH),t.O.ib):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{SJ:{get:function(){return this.Ab.SJ;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{EZa:{get:function(){return this.eb.Z.LJ;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Jk:{get:function(){return this.Zma;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Sf:{get:function(){return this.Jk.Sf;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ws:{get:function(){return this.Jk.Sf.ws;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{I:{get:function(){var A,B;return null !== (B=null === (A=this.Fe) || void 0 === A?void 0:A.I) && void 0 !== B?B:1;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{bb:{get:function(){var A;return null === (A=this.Fe) || void 0 === A?void 0:A.bb;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{wb:{get:function(){var A;return null === (A=this.ag) || void 0 === A?void 0:A.wb;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Kj:{get:function(){return this.Ab.Cd.Yc(this.I).qa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{$aa:{get:function(){return this.eb.$aa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Iz:{get:function(){return this.eb.Iz;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{FBa:{get:function(){return this.eb.FBa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ps:{get:function(){return this.$Sa.add(this.Ab.Cd);},enumerable:!1,configurable:!0}});z.prototype.nW=function(){var A;A=this;this.Yp.nW(void 0,function(B){var D;D=B[0];B=D.ud;D=D.index;D < A.gp && A.aS(B,D);});};z.prototype.reset=function(){this.eb.reset();this.Fe && this.aS(this.Fe.ud,this.Fe.index);this.og && this.Ab.R.oO(this.mediaType,this.og);};z.prototype.Mf=function(){var A;this.rn=!0;this.Yp.Mf();null === (A=this.Zma) || void 0 === A?void 0:A.Sf.Rb();this.og && (this.Ab.R.oO(this.mediaType,this.og),x.wr.instance.hP(this.og),this.og.removeAllListeners(),this.og=void 0);};z.prototype.toJSON=function(){return {started:this.Iz,startOfSequence:this.FBa,segmentId:this.ea,requestedBufferLevel:this.co,viewableId:this.ve.R.M,hasFragments:this.$aa};};z.prototype.en=function(){return this.eb.en();};z.prototype.aS=function(A,B){this.dW=A;this.gp=B;};z.prototype.Py=function(){return this.eb.Py();};z.prototype.mF=function(){this.eb.close();};z.prototype.RE=function(A){return (A=this.eb.$v(A.V))?A.complete:!1;};Object.defineProperties(z.prototype,{hi:{get:function(){return this.ve.hi;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{aH:{get:function(){var A,B,D,C;return null !== (C=null !== (A=this.eb.aH) && void 0 !== A?A:null === (D=null === (B=this.Fe) || void 0 === B?void 0:B.Ic) || void 0 === D?void 0:D.add(this.Ab.Cd)) && void 0 !== C?C:this.ps;},enumerable:!1,configurable:!0}});z.prototype.rhb=function(A,B,D){var C;r.assert(this.og);r.assert(!this.rn,"pipeline.tryIssueRequest on disabled pipeline");C=A.vaa();return C?this.qhb(A,C,this.og,B,D):(A=A.lH(this.og))?{Im:A,reason:"success"}:{Im:A,reason:"pipelineTryIssueHeaderRequest"};};z.prototype.zba=function(A,B){A && (this.Fe=A);B && (this.ag=B);r.assert(this.Fe);r.assert(this.ag);r.assert(void 0 === this.gp);this.aS(this.Fe.ud,this.Fe.index);};z.prototype.truncate=function(A){var B;B=this;r.assert(this.Fe,"expected first fragment to exist on updateStreaming");this.ag=A;this.Dw && (A=c.__read(this.Yp.Zwb(A),2),this.aS(A[0],A[1]),this.Wt() && (this.eb.leb(),this.eb.epa(),Promise.resolve(function(){B.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:B.mediaType});})));};z.prototype.PF=function(){return this.Wt()?!1:this.Ih()?!0:this.track.lda;};z.prototype.Ih=function(){return void 0 !== this.Fe && void 0 !== this.ag;};z.prototype.Wt=function(){return this.rn || this.Dw;};Object.defineProperties(z.prototype,{Hbb:{get:function(){var A;A=!0;this.K.Pea && (A=this.connected);this.K.Oea && (A=A && this.bua);return A;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{rYb:{get:function(){return void 0 !== this.Oh;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{rab:{get:function(){var A;return (null === (A=this.Oh) || void 0 === A?0:A.lB())?{complete:!0,reason:"stall"}:{complete:!1,reason:"stall"};},enumerable:!1,configurable:!0}});z.prototype.Nm=function(A){this.sm.LWb(A);"oncomplete" === this.K.F5a && (this.bua=!0);this.ew(A);};z.prototype.AC=function(A){A.Qc || this.sm.D$a(A.stream,A.da,A.ud);this.sm.HWb(this.ea,A.stream,A.Qc);this.KP(A);};z.prototype.ZK=function(A){A.z8 || (this.connected=!0);"onfirstbyte" === this.K.F5a && (this.bua=!0);this.tF(A);};z.prototype.V2a=function(A){var B,D;B=this.eb.Z;if(0 === B.length)return {Z:[],Tda:0,uk:0,bo:0};D=B.HP(A.V);0 > D && (D=void 0 === B.da || A.V <= B.da?0:B.length);return {Z:B.Y2b(D),Tda:Math.max(0,B.vYa - D),uk:B.uk,bo:B.bo};};z.prototype.qhb=function(A,B,D,C,F){var G,E,I,K,L,H;I=this.ve;K=I.R;L=this.mediaType;H=this.gp;if(H >= B.length)return (this.cc("makeRequest nextFragmentIndex:",H,"past fragments length:",B.length),{Im:!1,reason:"insufficientFragments"});if(!this.Fe || !this.ag)return (this.cc("makeRequest delayed, first or last fragment not set","first:",! !this.Fe,"last:",! !this.ag),{Im:!1,reason:"noFirstOrLastFragment"});B=this.X$.U2a(A,H);if(this.Pp && !this.Pp.oBb(this.mediaType,B.ga))return {Im:!1,reason:1 === this.mediaType?"globalVideoMemoryLimit":"globalAudioMemoryLimit"};this.Mva=B.region;B.OG=F;null === (G=this.Oh) || void 0 === G?void 0:G.BQb(B,A);B.Hq && 1 === L && this.sm.vma(I.G,B.Ta);this.K.LQ && (B.LQ=this.K.LQ);void 0 !== A && (B.location=A.location,B.Pe=A.Xc,B.QAa=A.wu);(F=I.R.tfa) && "OPEN_CONNECT_APPLIANCE" === A.xu && (L=0 === L && this.K.Zqa || 1 === L && this.K.$qa,G=this.K.vIb && 1 === this.mediaType && this.K.Bs,B.U1=L?C:void 0,B.ufa=F.Nv({lJ:I.ai(this.mediaType),uda:this.K.qIb?this.K.uda:void 0,Qgb:String(w.default.time.ma()),BX:L?C:void 0,zoa:G?{start:B.offset,size:B.ga}:void 0}));w.default.time.ma();D=this.eb.oFb(B,D,A);if(!D.gR()){this.cc("MediaRequest.open error: " + D.Zh + " native: " + D.nk);if(7 === D.readyState)return {Im:!1,reason:"requestAborted"};this.cc("makeRequest caught:",D.Zh);K.sh("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {Im:!1,reason:"openAseMediaRequest"};}null === (E=this.Oh) || void 0 === E?void 0:E.MIb(D,B,A);this.sm.MWb(D);this.aS(D.Uc,B.XQ);this.Wt() && (this.eb.leb(),this.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:this.mediaType}));return {Im:!0,reason:"success"};};return z;})(f.yx);b.Lja=a;v.Xe(q.Yz,a);v.Xe(q.Pu,a);},function(q,b,a){var c,k,g,f,d,h,m;Object.defineProperties(b,{__esModule:{value:!0}});b.SR=void 0;q=a(1);c=q.__importStar(a(10));k=a(25);q=q.__importDefault(a(33));g=a(455);f=a(456);d=q.default.assert;h=q.default.Np;b.SR=m;(function(){var L00;L00=2;for(;L00 !== 5;){switch(L00){case 2:b.SR=m=function(n,p,r,t,w,v,u){var O00;O00=2;for(;O00 !== 1;){switch(O00){case 2:var h59="pl";h59+="a";h59+="yi";h59+="n";h59+="g";return h59 === n.Ioa?f.up.call(this,n,p,r,t,w,v,u):l.call(this,n,p,r,t);break;}}};L00=1;break;case 9:"";L00=0;break;L00=5;break;case 1:var t59="1SIYb";t59+="ZrN";t59+="JCp9";t59;L00=5;break;}}function l(n,p,r,t){function w(B){var N00,D;N00=2;for(;N00 !== 7;){switch(N00){case 5:N00=!D || (B.bitrate > u?n.u8b:1) * B.bitrate * p.playbackRate > D?4:3;break;case 2:void 0 !== y && (null === v || void 0 === v?0:v.Z) && g.Ica(n,r,v.Z.Gz,y,y + 1);D=B.fb;N00=5;break;case 3:var K59="bu";K59+="ff_lt_h";K59+="i";K59+="st";z=K59;A=D;return !0;break;case 4:return !1;break;}}}var M00,z,v,u,x,y,A;M00=2;for(;M00 !== 20;){switch(M00){case 8:var d59="fallback_lowest_acc";d59+="epta";d59+="ble_strea";d59+="m";z=d59;M00=7;break;case 4:v=k.oe(r.slice(0,Math.min(t + (n.lyb?2:1),r.length)).reverse(),w);M00=3;break;case 2:var p59="Must have at least on";p59+="e selected ";p59+="stream";d(!c.ta(t),p59);(v=r[t],u=v.bitrate,x=v,y=p.Dd);M00=5;break;case 9:v=r[0];M00=8;break;case 5:M00=v.fb?4:14;break;case 3:M00=void 0 === v?9:6;break;case 6:var Q59="s";Q59+="ele";Q59+="ct_";Q59+="feasibl";Q59+="e_buffering";z=Q59;M00=7;break;case 10:return t;break;case 14:t=new h();t.cg=v;x !== v && (t.reason=z,t.ww=A);g.Hca(n,r,y,t);M00=10;break;case 7:A=null === v || void 0 === v?void 0:v.fb;M00=14;break;}}}})();},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Hca=b.Ica=void 0;c=a(1).__importDefault(a(33)).default.console;b.Ica=k;b.Hca=g;(function(){var P00;P00=2;for(;P00 !== 4;){switch(P00){case 2:var D59="1SIYb";D59+="ZrNJ";D59+="C";D59+="p9";b.Ica=k=function(d,h,m,l,n){var R00,v,u,x,r,p,t,w;R00=2;for(;R00 !== 18;){switch(R00){case 9:var y59="maybeUpgradeLo";y59+="wVmafFragments: i";y59+="nvalid stream";y59+="s";c.error(y59);R00=18;break;case 13:(v=h[r].Z.Gz,u=v.vh[l],x=v.sizes[l]);R00=12;break;case 4:r=f(h,p,m.SL[l]);R00=3;break;case 8:r+=1;R00=7;break;case 10:(f(h,p,v.SL[l]),m.upgrade(v,l));R00=20;break;case 7:R00=m.vh[l] < d.Y_ && r < h.length?6:19;break;case 19:l++;R00=5;break;case 14:R00=!h[r].Z?19:13;break;case 2:R00=d.Y_ && 0 < d.Y_?1:18;break;case 1:p=[];R00=5;break;case 5:R00=l < n?4:18;break;case 11:R00=u > t || u === t && x > w?10:20;break;case 3:R00=-1 === r?9:8;break;case 6:(t=m.vh[l],w=m.sizes[l]);R00=14;break;case 20:r++;R00=7;break;case 12:R00=!t || !u?19:11;break;}}};b.Hca=g=function(d,h,m,l){var S00,n,p,r,t,w,v;S00=2;for(;S00 !== 8;){switch(S00){case 1:S00=d.Y_ && !(0 >= d.Y_)?5:8;break;case 2:S00=1;break;case 9:var L59="min";L59+="_fragment_";L59+="v";L59+="ma";L59+="f";void 0 !== v && (n=f(h,w,v),-1 !== n && (n !== d && (l.F9a=d,l.cg=h[n],l.reason=L59),(null === (t=null === (r=l.cg) || void 0 === r?void 0:r.Z) || void 0 === t?0:t.get) && l.cg.Z.get(m)));S00=8;break;case 5:(w=[],v=l.cg);d=f(h,w,v.dg);v=null === (p=null === (n=v.Z) || void 0 === n?void 0:n.Gz) || void 0 === p?void 0:p.SL[m];S00=9;break;}}};D59;P00=4;break;}}function f(d,h,m){var Q00,l;Q00=2;for(;Q00 !== 7;){switch(Q00){case 1:l=0;Q00=5;break;case 2:Q00=0 === h.length?1:9;break;case 5:Q00=l < d.length?4:9;break;case 4:h[d[l].dg]=l;Q00=3;break;case 3:l++;Q00=5;break;case 9:d=h[m];return void 0 !== d?d:-1;break;}}}})();},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r;Object.defineProperties(b,{__esModule:{value:!0}});b.Xt=b.up=void 0;q=a(1);k=q.__importStar(a(10));g=a(25);f=a(90);d=q.__importDefault(a(32));h=q.__importDefault(a(33));m=q.__importDefault(a(1015));l=a(17);n=a(455);p=h.default.assert;r=h.default.Np;b.up=(c=(function(){var T00;T00=2;function v(u,x,y,z,A){var X00,B;X00=2;for(;X00 !== 3;){switch(X00){case 4:return u[Math.max(x,y)];break;case 2:a000.V59(3);B=a000.z59(z,y,A);y=g.Ko(u,function(D){var Y00;Y00=2;for(;Y00 !== 1;){switch(Y00){case 2:return D.bitrate > B;break;}}});y=0 < y?y - 1:0 === y?0:u.length - 1;X00=4;break;}}}function w(u,x,y){var W00;W00=2;for(;W00 !== 4;){switch(W00){case 2:u=new r();u.cg=y[0];W00=5;break;case 5:return u;break;case 7:return u;break;W00=4;break;}}}for(;T00 !== 5;){switch(T00){case 2:var E59="1";E59+="S";E59+="I";E59+="YbZrNJCp9";E59;return {Xt:t,up:function(u,x,y,z,A,B,D){var L5q=a000;function C(S,R,W){var a10;a10=2;for(;a10 !== 1;){switch(a10){case 2:return S.Z?S.Z.Xpa(R,W):0;break;case 4:return S.Z?S.Z.Xpa(R,W):1;break;a10=1;break;}}}var Z00,sa,X,da,pa,E,I,K,L,H,P,N,xa,ya,J,M,O,Q,T,V,G;Z00=2;for(;Z00 !== 44;){switch(Z00){case 7:A=y[z];Z00=6;break;case 28:A=G;Z00=34;break;case 29:Z00=(A=g.oe(y.slice(0,z).reverse(),function(S,R){var d10;d10=2;for(;d10 !== 1;){switch(d10){case 2:return F(S,y[Math.max(z - R - 2,0)],I,sa,X,!0,x.playbackRate);break;}}})) && A.dg < G.dg || !A?28:34;break;case 30:(sa=C(A,N,u.kua),X=C(A,N + sa,u.xwa));Z00=29;break;case 16:Z00=G === d.default.j5.Uqb || !A.fb?15:27;break;case 25:G=y[0];Z00=24;break;case 31:Z00=A.Z && A.Z.length?30:34;break;case 34:E.cg=A || I;n.Hca(u,y,N,E);return E;break;case 27:A.Z && A.Z.length || (A.J2=!0);(da=f.gn.rZa(x.buffer.Z),pa=x.buffer.Fv - da.ga);Z00=25;break;case 4:var w59="n";w59+="u";w59+="m";w59+="be";w59+="r";var J59="invalid play";J59+="er fragm";J59+="entIndex";p(k.Oa(x.Dd),J59);p(w59 === typeof x.buffer.Fv);Z00=9;break;case 9:var r59="nu";r59+="m";r59+="ber";p(r59 === typeof x.mY);E=new r();Z00=7;break;case 35:A=g.oe(y.slice(z + 1,D),function(S,R){var c10;c10=2;for(;c10 !== 1;){switch(c10){case 2:return F(S,y[z + R],I,xa,ya,!1,x.playbackRate);break;}}});Z00=34;break;case 23:Z00=z + 1 < y.length && D > u.iC && (void 0 === this.gca || this.Yva && this.Yva > this.gca || H - this.gca > u.qca && D > u.Awa)?22:34;break;case 15:return w.call(this,x,u,y,A);break;case 6:Z00=D?14:13;break;case 13:(I=A,K=x.buffer.da,L=x.buffer.Ac,H=x.buffer.yc,P=x.buffer.gl,N=x.Dd);L5q.s59(2);D=L5q.Y59(P,L);Z00=11;break;case 22:D=u.xBa && D >= u.oDa?y.length:z + 2;(xa=C(A,N,u.lua),ya=C(A,N + xa,u.ywa));Z00=35;break;case 24:Z00=F(A,y[Math.max(z - 1,0)],A,Q,V,!1,x.playbackRate)?23:31;break;case 14:return (A=v(y,z,A.fb || 0,u.a1a,x.playbackRate),null !== (G=A.Z) && void 0 !== G && G.length || (A.J2=!0),E.cg=A,E);break;case 11:G=this.Sf.q7a || d.default.j5.Sh;(J=x.state === l.Da.$c || x.state === l.Da.Rh?x.buffer.uk:0,M=u.JK,O=u.jC?u.jC:1E3,Q=A.R.duration);D > O && Q <= u.FUb && (O+=(1 - Math.min(Q / (u.hba + u.vca),1)) * (D - O));Q=C(A,N,u.hba);L5q.V59(4);V=C(A,L5q.z59(N,Q),u.vca);Z00=16;break;case 2:var i59="Must have at";i59+=" least one selected str";i59+="eam";p(!k.ta(z),i59);void 0 === x.Dd && (x.Dd=0);Z00=4;break;}}function F(S,R,W,ia,za,Ra,Fa){var b10,$a,Ta,Xa;b10=2;for(;b10 !== 20;){switch(b10){case 13:W=!u.Spa || S === W || S.Xc === W.Xc && B?0:(W=S.Jb) && W.yl && W.yl.Ca?W.yl.Ca + u.Ppa * (W.yl.Ye?Math.sqrt(W.yl.Ye):0):0;(R=t(u,y,S,R,da,L + W - K,M,P - K,H - K,N,da.length,J,pa,ia,za,O,x.mY,x.playbackRate,! !x.f8a)) && R.result && (E.phc=R.F_);T={J$:R && R.result,fb:$a,bitrate:S.bitrate};return R && R.result;break;case 8:b10=$a >= Math.max(S.ez * Fa,S.bitrate * Fa * Xa) && S.cw?7:13;break;case 7:return !0;break;case 4:Ra || Ta || (S.J2=!0);b10=3;break;case 1:b10=T && !T.J$ && T.fb >= $a && T.bitrate <= S.bitrate?5:4;break;case 9:b10=Ta && !u.K2?8:6;break;case 3:b10=!Ra || !Ta?9:13;break;case 5:return !1;break;case 14:return !0;break;case 6:b10=$a >= S.bitrate * Fa * Xa?14:13;break;case 2:($a=S.fb || 0,Ta=S.Z && S.Z.length,Xa=Ra?u.Era:Ta?u.I$:u.a1a);b10=1;break;}}}}};break;}}function t(u,x,y,z,A,B,D,C,F,G,E,I,K,L,H,P,N,J,M){function O(xa,ya,sa){var V00;V00=2;for(;V00 !== 5;){switch(V00){case 2:n.Ica(u,x,xa,ya,sa);pa.push(xa.subarray(ya,sa));V00=5;break;}}}var U00,Q,T,V,da,pa;U00=2;for(;U00 !== 15;){switch(U00){case 16:(L=Math.max(0,Math.min(L,y.Z.length - G)),H=Math.max(0,Math.min(H,z.Z.length - G - L)),0 < L && O(y.Z.Gz,G,G + L),0 < H && O(z.Z.Gz,G + L,G + L + H));U00=17;break;case 8:return !1;break;case 10:(T=Math.min(M,y.Z.length - G),O(y.Z.Gz,G,G + T),M-=T,G+=T,G >= y.Z.length && (G=0));U00=11;break;case 17:return 0 < L || 0 < H?m.default({Z:A.concat(pa),blocks:E + L + H,Ac:B,gl:C,Q4b:D,uk:I,yc:F,Dd:E,kKb:E + L,mY:N,U1a:K,fb:Q / J,Wca:P,QK:u.QK,gSb:u.K2,bIb:!1}):Q > y.ez?{result:!0,F_:0,cw:!0}:{result:!1,F_:0,cw:!0};break;case 19:U00=0 < M?18:17;break;case 2:var A59="Second str";A59+="ea";A59+="m undefi";A59+="ne";A59+="d";var u59="F";u59+="irst stream un";u59+="defined";p(y,u59);p(z,A59);(Q=y.fb,T=C - B,V=y.Z && y.Z.length,da=z.Z && z.Z.length);p(A.length === E);U00=3;break;case 3:u.Bwa && (P=Math.min(P,T));U00=9;break;case 13:M=L;U00=12;break;case 14:U00=M?13:16;break;case 11:U00=0 < M?10:20;break;case 20:M=H;U00=19;break;case 18:(T=Math.min(M,z.Z.length - G),O(z.Z.Gz,G,G + T),M-=T,G+=T,G >= z.Z.length && (G=0));U00=19;break;case 12:T=void 0;U00=11;break;case 7:da || (z=y);pa=[];U00=14;break;case 9:U00=!Q || Q < y.bitrate * J * u.jua || !V?8:7;break;}}}})(),c.up);b.Xt=c.Xt;},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r;Object.defineProperties(b,{__esModule:{value:!0}});b.wRb=b.HAa=void 0;c=a(1);k=c.__importDefault(a(91));g=c.__importStar(a(10));f=a(25);d=a(416);h=c.__importDefault(a(5));q=c.__importDefault(a(105));a=c.__importDefault(a(33));m=a.default.eWb;l=a.default.hAb;n=a.default.r9;p=a.default.Np;r=q.default.oBa;a=(function(){function z(B,D,C){var n10,F,G;n10=2;for(;n10 !== 4;){switch(n10){case 2:(F=new p(),G=Math.max(B.Iw,B.Uca,D.eva?B.mxa:-Infinity));F.cg=f.oe(C.filter(function(E){var o10;o10=2;for(;o10 !== 1;){switch(o10){case 4:return E.bitrate > B.oC;break;o10=1;break;case 2:return E.bitrate <= B.oC;break;}}}).reverse(),function(E){var q10,L,I,K;q10=2;for(;q10 !== 13;){switch(q10){case 3:q10=K?9:6;break;case 9:L=v(B,E);q10=8;break;case 2:I={fb:E.fb,zn:E.Jb && E.Jb.zn,Cl:E.Jb && E.Jb.Cl};q10=1;break;case 1:q10=E.bitrate > G?5:14;break;case 5:E=E.bitrate * D.playbackRate;K=I.fb;q10=3;break;case 7:return I;break;case 14:var v59="no_historical";v59+="_lte_";v59+="minbitrat";v59+="e";var W59="hist_tp";W59+="ut_lt_minb";W59+="itrate";var X59="lt_hist_l";X59+="te_min";X59+="bitrat";X59+="e";(K=I.fb,E.bitrate * D.playbackRate <= K?(F.ww=K,I && (F.Dq=I.zn?I.zn:0,F.Eq=I.zn?I.Cl:void 0),F.reason=X59,I=!0):K?(F.ww=K,I && (F.Dq=I.zn?I.zn:0,F.Eq=I.zn?I.Cl:void 0),F.reason=W59,I=!1):(F.reason=v59,I=!0));q10=7;break;case 8:var P59="his";P59+="t_bufft";P59+="ime";w(E,K,B) <= L?(F.ww=K,I && (F.Dq=I.zn?I.zn:0,F.Eq=I.zn && I.Cl),F.reason=P59,I=!0):I=!1;q10=7;break;case 6:I=!1;q10=7;break;}}}) || C[0];return F;break;}}}var e10;e10=2;function t(B,D){var f10,C,F;f10=2;for(;f10 !== 12;){switch(f10){case 2:C=new p();C.cg=B;f10=5;break;case 5:B=C.cg.Jb || ({});C.Eq=B.zn && B.Cl;C.Dq=B.zn?B.zn:0;f10=9;break;case 9:B=k.default(C.Eq,{});f10=7;break;case 7:f10=(F=g.Oa(D.gfa) && 0 <= D.gfa && 100 >= D.gfa && !g.ta(B) && !g.Gb(B))?6:14;break;case 6:(F=d.AQa.vNb(B),g.yd(F)?(B.vk=F,F=!0):F=!1);f10=14;break;case 14:var o69="hi";o69+="st_t";o69+="hroughp";o69+="u";o69+="t";var m69="hist";m69+="_t";m69+="di";m69+="ges";m69+="t";F?(D=B.vk(D.gfa / 100) || C.cg.fb,C.ww=D,C.reason=m69):C.cg.fb && (D=C.cg.fb,C.ww=D,C.reason=o69);return C;break;}}}function y(B,D,C,F,G,E){var m10;m10=2;for(;m10 !== 5;){switch(m10){case 2:var U69="n";U69+="o_v";U69+="a";U69+="lid_Bitrate";var I69="no_";I69+="val";I69+="i";I69+="d_VM";I69+="AF";var k69="no";k69+="_";k69+="valid_DelayTarge";k69+="t";B=C?B.nb >= E.Jw && B.nb <= E.e9a:B.bitrate >= E.Iw && B.bitrate <= E.oC;return (F=F < G && B)?{J$:F}:{J$:F,reason:B?k69:C?I69:U69};break;}}}function u(B,D){var M5q=a000;var j10,C;j10=2;for(;j10 !== 9;){switch(j10){case 1:var e69="l";e69+="o";e69+="g";j10=0 === D.TR.lastIndexOf(e69,0)?5:3;break;case 7:M5q.s59(5);var K31=M5q.z59(15,2,12);M5q.V59(2);var L31=M5q.Y59(476,10);B=n(B,K31,L31) - 988;j10=9;break;j10=1;break;case 4:return (C=D.Wdb[C]) && 2 === C.length?1E3 * (C[0] + C[1] * Math.log(1 + B)):D.ys;break;case 2:M5q.V59(6);var O31=M5q.z59(7000,18,16,14,97034);B=n(B,0,1E5) / O31;j10=1;break;case 5:C=D.TR;j10=4;break;case 3:var Y69="sig";Y69+="m";Y69+="o";Y69+="i";Y69+="d";return 0 === D.TR.lastIndexOf(Y69,0)?(C=D.TR,(C=D.Wdb[C]) && 2 === C.length?1E3 * (C[0] + C[1] * r(B)):D.ys):D.ys;break;}}}function A(B,D,C,F){var r10,G;r10=2;for(;r10 !== 7;){switch(r10){case 2:var z69="v";z69+="b";G=h.default.storage.get(z69);r10=1;break;case 4:B=new p();B.cg=f.oe(C.slice().reverse(),function(E){var s10;s10=2;for(;s10 !== 1;){switch(s10){case 2:return E.bitrate <= G;break;}}}) || C[0];r10=9;break;case 1:var s69="n";s69+="u";s69+="m";s69+="b";s69+="er";r10=s69 !== typeof G?5:4;break;case 9:var V69="hi";V69+="st";V69+="_";V69+="bitrat";V69+="e";B.reason=V69;return B;break;case 5:return B.rW?x(B,D,C,F):z(B,D,C,F);break;}}}for(;e10 !== 5;){switch(e10){case 2:var b69="1";b69+="SIY";b69+="bZ";b69+="rNJCp9";b69;return {cwb:function(B,D,C,F){var t10;t10=2;for(;t10 !== 1;){switch(t10){case 2:var f69="hi";f69+="s";f69+="t";f69+="orica";f69+="l";return f69 === B.Oua?A(B,D,C,F):B.rW?x(B,D,C,F):z(B,D,C,F);break;}}},vtb:y};break;}}function x(B,D,C){var k10,F,G,E,I,K,L;k10=2;for(;k10 !== 19;){switch(k10){case 1:k10=0 <= E && (F?C[E].nb >= B.Jw:C[E].bitrate >= B.Iw)?5:11;break;case 2:(F=! !B.Jw && ! !B.e9a && C.every(function(H){var l10;l10=2;for(;l10 !== 1;){switch(l10){case 2:return H.nb && 110 >= H.nb;break;}}}),G=null,E=C.length - 1);k10=1;break;case 5:I=C[E];G=t(I,B);(K=w(I.bitrate * D.playbackRate,G.ww,B),L=u(G.ww,B));L=y(I,G.ww,F,K,L,B);k10=8;break;case 8:I=L.J$;L=L.reason;G.YB=K;k10=14;break;case 14:k10=I?11:13;break;case 12:E--;k10=1;break;case 13:G.reason=L;k10=12;break;case 11:var n69="fallback_no_acc";n69+="ept";n69+="able";n69+="_stream";var F69="be";F69+="low_";F69+="minInitVideoBit";F69+="ra";F69+="te";g.Gb(G) && C[E].bitrate < B.Iw && (G=t(C[E],B),G.reason=F69);g.Gb(G) && (G=t(C[0],B),G.reason=n69);return G;break;}}}function v(B,D){var h10,C,F;h10=2;for(;h10 !== 13;){switch(h10){case 3:h10=-1 === F?9:8;break;case 1:(C=B.uba,F=f.Ko(C,function(G){var i10;i10=2;for(;i10 !== 1;){switch(i10){case 2:return D <= G.r;break;}}}));h10=5;break;case 2:h10=B.uba?1:14;break;case 5:h10=0 === F?4:3;break;case 9:return C[C.length - 1].d;break;case 4:return C[0].d;break;case 6:return Math.floor(B.d + (C.d - B.d) * (D - B.r) / (C.r - B.r));break;case 8:a000.V59(2);B=C[a000.z59(F,1)];C=C[F];h10=6;break;case 14:return B.ys;break;}}}function w(B,D,C){var g10;g10=2;for(;g10 !== 5;){switch(g10){case 2:B=l(C.Hj,B * C.$wa);return m(B,D);break;}}}})();q=a.vtb;b.HAa=a.cwb;b.wRb=q;},function(q,b,a){var g,f,d,h,m,l;function c(n,p,r,t){h(!g.ta(t),"Must have at least one selected stream");return new l(t);}function k(n,p,r,t){h(!g.ta(t),"Must have at least one selected stream");return new l(t);}g=a(10);b=a(33);f=b.console;d=b.debug;h=b.assert;m=b.wK;l=b.Np;q.exports={STARTING:function(n,p,r){var w,v,u,x;function t(y,z){var A,B,D,C;A=y.id;B=y.bitrate;D=y.fb || 0;C=! !D;d && f.log("Checking feasibility of [" + z + "] " + A + " (" + B + " Kbps)");if(!y.Bw)return (d && !y.zw && f.log("  Not available"),d && y.SB && f.log("  Failed"),!1);if(B > n.K_)return (d && f.log("  Above maxInitAudioBitrate (" + n.K_ + " Kbps)"),!1);if(!(B * n.ada / 8 < p.buffer.Fv))return (d && f.log("  audio buffer too small to handle this stream"),!1);if(C){d && f.log("  Have throughput history = " + C + " : available throughput = " + D + " Kbps");if(B * p.playbackRate < D / v)return (d && f.log(" +FEASIBLE: bitrate less than available throughput"),!0);d && f.log(" bitrate requires more than available throughput");return !1;}y=n.a0;p.eva && (y=Math.max(y,n.Z_));if(B <= y)return (d && f.log("  Bitrate is less than max of minInitAudioBitrate (" + n.a0 + " Kbps) " + (p.eva?" and also minHCInitAudioBitrate (" + n.Z_ + " Kbps)":"")),d && f.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0);d && f.log("  No throughput history");return !1;}w=new l();v=n.Qec || 1;for(u=r.length - 1;0 <= u;--u){x=r[u];if(t(x,u)){w.nf=u;break;}m(x) && (w.nf=u);}return w;},BUFFERING:c,REBUFFERING:c,PLAYING:k,PAUSED:k};},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Ov=void 0;c=a(15);k=a(132);g=a(4);b.Ov=function(f,d,h,m,l,n,p){var r;c.aa && m.trace("AsePlaygraph.createRequestQueue()");r=k.wr.instance.Ov(f,d.L,!0,!1,{AB:h.AB},h);r.Kh.on(r,"networkfailing",function(){var t;c.aa && m.trace("requestQueue OnNetworkFailing: ",r);r.H$ && (g.assert(r.BY),null === (t=d.ds) || void 0 === t?void 0:t.pu(r.BY,void 0,r.Zh,r.nk));d.en();});r.Kh.on(r,"error",function(){p(r.Zh,r.nk);});r.on("transportreport",l);r.on("mediaRequestComplete",n);r.xa();return r;};},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Una=b.f1=b.N0a=void 0;c=a(1).__importDefault(a(105)).default.sra;b.N0a=function(k,g,f){var d,h,m;d=0;if(f){k.some(function(l){var n;n=l.b;l=l.m;if(g <= n)return (d=m && n !== h?m + (l - m) / (n - h) * (g - h):l,!0);h=n;d=m=l;return !1;});}else k.some(function(l){d=l.m;return g <= l.b;});return d;};b.f1=function(k,g,f){var d;g=(null === (d=g.fb) || void 0 === d?void 0:d.Ca) || 0;return k.CWa?(k=c(k.BWa,f.gl - f.Ac,1),g * (1 - k)):g * k.X2 / 100;};b.Una=function(k,g){return k < 2 * g?k / 2:k - g;};},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r;Object.defineProperties(b,{__esModule:{value:!0}});b.fha=void 0;c=a(1);q=a(13);k=a(15);g=c.__importDefault(a(5));f=a(8);d=a(1038);h=a(164);m=a(1039);l=a(21);n=a(1042);p=a(1043);r=a(1044);a=(function(t){function w(){var v;v=null !== t && t.apply(this,arguments) || this;v.lUa=0;v.Nma=0;v.Y6=0;v.qla=0;return v;}c.__extends(w,t);w.prototype.aAa=function(v){var u,x;t.prototype.aAa.call(this,v);this.lUa++;this.Nma++;this.GUa=g.default.time.ma();this.HN || (this.HN={Uc:v.Uc,ud:v.ud,index:v.index},this.r7 || (this.r7=this.HN));u=this.E7;x=!1;u && 100 > Math.abs(u.lf - v.Rd) && (this.Y6+=v.lf - u.lf,this.qla++,x=!0);x || (this.Y6=v.Ht,this.qla=1);this.E7=v;};w.prototype.stop=function(){t.prototype.stop.call(this);this.Nma=0;this.HN=void 0;};w.prototype.g3a=function(){var v,u,x,y;v=this.rv;u=v.HX;if(u){y=u.rb(this.Bh);y && y.eb && (x=y.eb.uta());return {RM:x,currentBranch:{sId:u.G && u.G.id,cancelled:u.Vh},currentReceivedCount:v && v.IFb,totalReceivedCount:this.lUa,currentState:v && v.FZa || "Uninitialized",lastRequestPushed:this.E7 && ({contentEndPts:this.E7.Uc,fragmentIndex:this.E7.index}),tslp:this.GUa && g.default.time.ma() - this.GUa,cpts:this.Y6,crq:this.qla,rslp:this.Nma,firstRequestSSPushed:this.HN && ({contentStartPts:this.HN.ud,fragmentIndex:this.HN.index}),firstRequestPushed:this.r7 && ({contentStartPts:this.r7.ud,fragmentIndex:this.r7.index})};}};return w;})((function(t){function w(v,u,x,y,z,A,B,D,C,F){var G;G=t.call(this) || this;G.Zg=v;G.Bh=u;G.K=y;G.J=z;G.U=A;G.dE=new f.$s(!1);G.cE=new f.$s(l.O.Sa(-Infinity));G.J=f.jk(g.default,G.J,"AsePlayerBuffer [" + u + "]:");G.rv=new d.JEa(G.J,x,u);G.resume();A && B && D && (G.rea=new m.NOa(u,z,A,G.Zg,A.events,B,D,C),v=new n.yHa(null === A || void 0 === A?void 0:A.np,l.O.Sa(G.K.c0),z),G.rv.Cna(v),G.K.SVa && (z=new p.wMa(null === A || void 0 === A?void 0:A.np,G.K.SVa,l.O.Sa(G.K.tyb),z),G.rv.Cna(z)),F && G.rv.Cna(new r.BPa(F)));G.Zg.on("requestAppended",function(E){G.dE.set(!0);E.request.fd && G.cE.set(E.request.fd);G.emit("requestAppended");});return G;}c.__extends(w,t);Object.defineProperties(w.prototype,{gz:{get:function(){return this.dE;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{n_:{get:function(){return this.cE;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{iRb:{get:function(){return this.rv.ql;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{mediaType:{get:function(){return this.Bh;},enumerable:!1,configurable:!0}});w.prototype.g3a=function(){};w.prototype.resume=function(){k.aa && this.J.trace("resume");this.CBa();};w.prototype.j6a=function(v){return this.Zg.bta() > v;};Object.defineProperties(w.prototype,{Vyb:{get:function(){return this.qN;},enumerable:!1,configurable:!0}});w.prototype.I4b=function(){this.Zg.o0(!0);};w.prototype.reset=function(v){var u;void 0 === v && (v=!1);k.aa && this.J.trace("reset");this.stop();this.Zg.reset(v);this.dE.set(!1);this.cE.set(l.O.Sa(-Infinity));v || (this.qN=void 0);v || (null === (u=this.rea) || void 0 === u?void 0:u.reset());};w.prototype.fm=function(v){void 0 === v && (v=!1);k.aa && this.J.trace("restart");this.reset(v);this.CBa(!0);};w.prototype.stop=function(){k.aa && this.J.trace("stop");this.rv.Ffb();};w.prototype.close=function(){var v;k.aa && this.J.trace("start");null === (v=this.rea) || void 0 === v?void 0:v.close();};w.prototype.Rb=function(){this.stop();this.close();};w.prototype.B0=function(){this.K.R$ && this.Zg.C1a();this.Zg.zB();};w.prototype.TG=function(v){this.Zg.TG(v);};w.prototype.lKb=function(v){this.Zg.y$a(v,!0);};w.prototype.Aj=function(v){var u;return !(null === (u=this.rea) || void 0 === u || !u.Aj(v));};w.prototype.CBa=function(v){if(!this.rv.ql || v)(this.rv.k2b(),h.AsyncIterator.nSb(this.rv,this.Zba.bind(this)));};w.prototype.Zba=function(v){v.done || this.aAa(v.value);};w.prototype.aAa=function(v){var u,x;k.aa && this.J.trace("requestReceived: " + (null === (u=this.rv.HX) || void 0 === u?void 0:u.G.id) + (" " + v.toString()));this.Zg.endOfStream?k.aa && this.J.error("Buffer manager has declared EOS, ignoring request",v.toString()):(this.qN?(this.qN.ISb=v.Uc,this.qN.KSb=v.lf,this.qN.u7a=v.fd):this.qN={igc:v.ud,jgc:v.Rd,ISb:v.Uc,KSb:v.lf,u7a:v.fd},v.sF && v.stream.track.$o && (null === (x=this.U) || void 0 === x || !x.ap(v.R.M)) && this.emit("drmNeeded",{M:v.R.M,Sya:v.he}),this.Zg.Uyb(v));};return w;})(q.EventEmitter));b.fha=a;},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r;Object.defineProperties(b,{__esModule:{value:!0}});b.sha=void 0;q=a(1);c=q.__importStar(a(10));k=q.__importDefault(a(91));g=q.__importDefault(a(5));f=a(1045);d=a(17);h=a(193);m=a(8);l=a(4);n=a(21);p=a(395);r=a(451);a=(function(){function t(w,v,u,x,y,z,A,B,D,C){this.Fb=w;this.cj=v;this.J=u;this.dO=x;this.K=A;this.o7=B;this.UTa=D;this.VY=C;this.cc=this.J.warn.bind(this.J);this.Eo=this.J.trace.bind(this.J);this.ug=this.J.log.bind(this.J);this.$i=[];this.Th={};y.Mo?(l.assert(!y.Sq),this.dla=!0,this.dvb(y,y.Mo,z)):(this.Rp=this.EA(y.Sq || "",y,0,void 0,void 0,{},!0),this.Rp.Mm=!0,this.Rp.Ta=Infinity,this.i8=[this.Rp]);this.ve=this.a7(this.Rp,void 0,z);this.ve.active=!0;w=m.jk(g.default,this.J,"BranchQueue::");this.Vj=new h.vM(w);this.Vj.enqueue(this.ve);this.Hma=this.AV=void 0;}t.psa=function(w){return "m" + w;};Object.defineProperties(t.prototype,{Xy:{get:function(){return ! !this.dla;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{pl:{get:function(){return this.ve.Vh;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{xe:{get:function(){return this.Rp;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Yh:{get:function(){return this.ve.G.id;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{KFb:{get:function(){return this.ve.R.bc;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{qd:{get:function(){return this.ve;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Cb:{get:function(){return this.$i;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{df:{get:function(){return this.ve.df;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{xh:{get:function(){return this.Fb.xh;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Qi:{get:function(){return this.AV?this.AV:this.Cb[0];},enumerable:!1,configurable:!0}});t.prototype.Rb=function(){this.$i.forEach(function(w){w.Mf();});this.$i=[];this.Vj.clear();};t.prototype.kf=function(w){return this.Th[w];};t.prototype.e4a=function(){return this.Vj.getIterator();};t.prototype.d4a=function(w,v){var u;u=this.Th[w];if(u)return (w=u.Am[v]) && w.weight;this.cc("getSegmentWeight, unknown segment:",w);};t.prototype.YNb=function(w){var v;v=this.Th[w];if(v)return v.da;this.cc("getSegmentStartPts, unknown segment:",w);};t.prototype.XNb=function(w){var v;v=this.Th[w];if(!v)this.cc("getSegmentDuration, unknown segment:",w);else if(c.Oa(v.Ta) && isFinite(v.Ta) && c.Oa(v.da) && isFinite(v.da))return v.Ta - v.da;};t.prototype.Iea=function(w){var v;v=-1;this.$i.some(function(u,x){return u === w?(v=x,!0):!1;});-1 !== v?this.$i.splice(v,1):this.cc("Unable to find branch:",w,"in branches array");};t.prototype.qJ=function(w,v){var u;u=0;this.Ssb(w).forEach(function(x){(x=x.pe(v)) && (u+=x.QE);});return u;};t.prototype.yy=function(w,v,u){var x;if(!w.Fc(v))return 0;x=w.rb(v);for(x=u?x.yc:x.Wr;void 0 === x;){if(!w.Rg)return 0;w=w.Rg;x=w.rb(v);x=u?x.yc:x.Wr;}w=this.UTa.Ue();return Math.max(x - w,0);};t.prototype.Ira=function(w){return this.$i.filter(function(v){if(v.R.bc === w)return !0;});};t.prototype.RJb=function(w,v){return this.ASa(w,!1,v);};t.prototype.QJb=function(w,v){return this.ASa(w,!0,v);};t.prototype.A1b=function(w,v,u){c.Wf(this.$i,function(x){x.R === w && x.Meb(v,u);});c.Wf(this.Th,function(x){x.R === w && (x.R=v);});};t.prototype.qdb=function(){var w;w=this;c.Wf(this.$i,function(v){var u;u=w.Fb.bi(v.R.bc);v.pr(n.O.Sa(u.bz));});};t.prototype.Ms=function(w){var v;v=this;c.Wf(this.$i,function(u){u.rb(1).track.zd.forEach(function(x){var y;y=p.Vna(x.ef,x.bitrate,w,v.J);k.default(y,x);});});};t.prototype.$v=function(w,v,u,x){var y;for(;v;){y=v.$v(w,u);if(y)return y;if(x)break;v=v.Rg;}};t.prototype.LZa=function(w){var v,u;v=this;void 0 === w && (w=!1);u=this.$i;w && (u=u.filter(function(x){return x !== v.ve;}));u.forEach(function(x){x.active=!1;v.Vj.remove(x);});w || this.Vj.clear();return u;};t.prototype.b0b=function(){var w;for(;0 < this.$i.length;){w=this.$i[0];w.rb(0);w.rb(1);if(!w.active)break;if(w === this.ve)break;if(!w.uPb())break;w.Mf();this.$i.shift();}};t.prototype.s1=function(w,v,u,x,y){if(u > x){for(u-=x;w;){w.s1(v,u,y);w=w.Rg;}return u;}};t.prototype.s8a=function(w,v){for(var u={uX:null,tR:null,Rd:null,uk:0,bo:0,rf:0,Z:[]};w;){w.Jaa(u,v);w=w.Rg;}return u;};t.prototype.cCb=function(w){var v,u,x;v=this.ve;if(v.g8a)u=v.g8a;else {x=this.ve.df;u=this.a7(v.G,v);d.fg.forEach(function(y){var z;z=u.pe(y);z && (z.JL(0),y=v.pe(y),z.pfa(y.ag));});u.pr(n.O.Sa(x + w));v.g8a=u;}this.lN(u,v);};t.prototype.Kxb=function(w,v,u){var x,y;l.assert(!w.Xy());if(!this.dla){this.dla=!0;this.AV=this.Qi;x=this.Rp.id || t.psa(0);this.Rp.id=x;this.Th[x]=this.Rp;this.Rp.Ta=this.Fb.DMb().j3a();this.Rp.vG=!0;}y=void 0 !== w.Sq?w.Sq:t.psa(w.bc);w=this.EA(y,w,v,u,void 0,{},!0);w.vG=!0;this.i8.forEach(function(z){z.Am={};z.Am[y]={weight:100};z.RX=y;z.px=!1;});this.i8=[w];};t.prototype.Ct=function(w,v){var u,x,y,z;u=this.Qi;x=u.WG(v,this.Fb.U);y=u.G;z=u.children[w];if(v){if(!y.Am[w])return (this.ve.cc("chooseNextSegment, invalid destination:",w,"for current segment:",y.id),!1);if(u.Tl)return u.Tl === w;u.Tl=w;z && u.U$ && this.lN(z,u);return !0;}if(void 0 !== u.Tl)return !1;if(!z)return (x.d$a=!0,!1);x.d$a=!z.jpa();this.Fb.Oma(void 0,r.EU.aR);u.U$=void 0;u.Tl=w;this.lN(z,u);u.mF();this.Fb.ZV();return !0;};t.prototype.MPb=function(w,v){var u,x,y,z;u=this;z=w.G;v && !w.Tl && (w.Tl=z.RX,w.WG(!0,this.Fb.U,!0));w.children=Object.create(null);c.Wf(z.Am,function(A,B){w.Tl && B !== w.Tl || (x=u.Th[B],y=u.jsb(x,w),w.children[B]=y);});w.Tl && (v=w.children[w.Tl]) && this.lN(v,w);w.U$=!0;};t.prototype.Z6b=function(){var w;w=0;c.Wf(this.$i,function(v){d.fg.forEach(function(u){v.Fc(u) && (u=v.pe(u),w+=u.eb.Pr);});});return w;};t.prototype.e6b=function(w,v){var u,x,y;u=this;x=this.Qsb(w,v);if(x){if(x !== this.ve.G){this.LZa();y=this.a7(x,this.ve,w);y.Rg=void 0;y.ZAa(void 0,void 0,!0);this.krb(this.ve);this.lN(y,this.ve);}else this.LZa(!0).forEach(function(z){z.Mf();u.Iea(z);u.Vj.remove(z);});x === this.Qi.G && (this.Qi.Kz.shift(),y && (y.Kz=this.Qi.Kz,y.Tl=this.Qi.Tl));this.cj.I7(x,this.ve.df);this.ve.U$=void 0;}else this.cc("findSegment no segment for manifestIndex:",v);};t.prototype.r8a=function(w,v){var u;u=w.G;v || (v=u.RX);w.Tl || (w.Tl=v,w.WG(!0,this.Fb.U,!0));(v=w.children[w.Tl]) && this.lN(v,w);};t.prototype.qeb=function(w,v){if(this.ve !== w){if(v)for(v=this.ve;v && v !== w;){v.active=!1;this.Vj.remove(v);v=v.Rg;}this.ve=w;}};t.prototype.vx=function(w,v){var u,x,y,z,A;u=this;if(this.Xy){x=this.K;y=this.Qi;z=y.G;A=m.T2b(z.id);!y.Tl && !z.px && y.Uc - v <= x.cG && (this.cc(A + "updatePts making fork decision at playerPts:",w,"contentPts:",v),this.r8a(y));}d.fg.forEach(function(B){u.ve.Fc(B) && u.xh[B].vx();});};t.prototype.NWb=function(w,v){var u,x;if(this.Xy){u=this.AV;if(!(this.K.lQb && w && this.Hma && w.da === this.Hma || (w=w.eb.Ab,u && w.G.id === u.G.id))){x=null === u || void 0 === u?void 0:u.pe(1);x=null === x || void 0 === x?void 0:x.ag;this.Hma=null === x || void 0 === x?void 0:x.da;this.AV=w;this.Jrb(u);u=u && u.qCb(w);this.cj.Iub(w.G,v,u);}}};t.prototype.vda=function(w,v,u){v.Mm || (v.da=this.E3a(w,v.da,!0),u || (v.Ta=this.E3a(w,v.Ta,!1)),v.Mm=!0,!1);};t.prototype.HS=function(w,v){var u;u=this.Th[w];u?c.Wf(u.Am,function(x,y){x.weight=v[y] || 0;}):this.cc("updateChoiceMapEntry, unknown segment:",w);};t.prototype.E3a=function(w,v,u){w=u?w.j1a(v):w.FY(v);if(!w.length)return v;v=w[1];return u?v.da:v.Ta;};t.prototype.dTa=function(w,v,u){var x;x=v?u.Uc:u.lf;return (v?u.ffa:u.Qya) <= w && w < x;};t.prototype.ASa=function(w,v,u){var A;for(var x=this.Fb,y=this.ve;y;){if((!c.Oa(u) || x.bva(u,y.R.bc)) && this.dTa(w,v,y))return y;y=y.Rg;}if(v){y=Object.keys(this.ve.children);for(var z=0;z < y.length;z++){A=this.ve.children[y[z]];if((!c.Oa(u) || x.bva(u,A.R.bc)) && this.dTa(w,v,A))return A;}}};t.prototype.jsb=function(w,v){var u,x;u=this.a7(w,v);x=u.ZAa(v,void 0,this.K.Hza);d.fg.forEach(function(y){var z,A,B;if(u.Fc(y)){z=u.pe(y);A=v.pe(y);B=x[y];1 === y && u.pr(n.O.Sa(A.yc + v.df - B));z.JL(B);}});this.cj.I7(w,u.df);return u;};t.prototype.krb=function(w){for(var v=[w.G.id];w.Rg;){w=w.Rg;v.unshift(w.G.id);}this.Wka(w);};t.prototype.Wka=function(w){var v,u;v=this;u=w.G;c.Wf(w.children,function(x){x && v.Wka(x);});this.Vj.remove(w);w.Mf();this.Iea(w);this.cj.wma(u);};t.prototype.lN=function(w,v){var u,x,y,z;u=this;x=v.G;v.R !== w.R && this.Fb.rTa(w.R.bc);w.active=!0;this.Vj.enqueue(w);w.BO();y=g.default.time.ma();z={};c.Wf(v.children,function(A){var B,D;if(A){if(A.Je){B=A.pe(0);D=A.pe(1);A.Je.lJ=[B?B.Po.V:0,D?D.Po.V:0];A.Je.BHb=y - A.Je.vba;A.Je.vba=void 0;z[A.G.id]=A.Je;}A.G.id !== w.G.id && u.Wka(A);}});v.children=Object.create(null);v.children[w.G.id]=w;v.yN=void 0;this.qeb(w);this.cj.Gub(w.G,z);1 < Object.keys(x.Am).length && w.jpa();};t.prototype.Jrb=function(w){var v,u;if(w){v=g.default.time.ma();u=w.Kz[0];u && void 0 === u.X9?u.X9=v - u.Is:u || (this.cc("missing metrics for branch:",w.G.id),u={yfa:w.G.id,Oe:!0,X9:0,Je:{}},w.Kz.unshift(u));void 0 === u.startTime && (u.startTime=v);}};t.prototype.Qsb=function(w,v){var x,y,z,A;l.assert(0 <= w);for(var u in this.Th){x=this.Th[u];if(this.Fb.bva(x.R.bc,v)){if(x.da <= w && (Infinity === x.Ta || void 0 === x.Ta || w < x.Ta))return x;y=Math.min(Math.abs(w - x.da),Math.abs(w - x.Ta));if(c.ta(z) || y < z)(z=y,A=x);}}return A;};t.prototype.EA=function(w,v,u,x,y,z,A,B,D){v=new f.FPa(w,v,u,x,y,z,A,B,void 0,D);return this.Th[w]=v;};t.prototype.dvb=function(w,v,u){var x,y,z;x=this;this.Rp=void 0;this.i8=[];y=null;z=null;c.Wf(v.segments,function(A,B){var D,C,F,G,E;D=A.startTimeMs;C=A.endTimeMs;F={};c.Wf(A.next,function(I,K){F[K]={weight:I.weight || 0,h7b:I.transitionHint || A.transitionHint,Vfc:"number" === typeof I.earliestSkipRequestOffset?I.earliestSkipRequestOffset:A.earliestSkipRequestOffset};});G=A.defaultNext;c.ta(G) && (G=Object.keys(F)[0]);E=c.ta(G);G=x.EA(B,w,D,C,G,F,E,A.exitZones,A.transitionHint);D <= u && (u < C || c.ta(C))?x.Rp=G:D > u && (!y || D < z) && (y=B,z=D);E && x.i8.push(G);});this.Rp || (this.Rp=y?this.Th[y]:this.Th[v.initialSegment]);};t.prototype.a7=function(w,v,u){var x,y,z,A;x=w.R;y=this.Fb.bi(x.bc);z=y.bz;A=[];[0,1].forEach(function(B){x.Fc(B) && A.push(y.js(B));});w=new r.EJa(this.Fb,this.K,this.cj,this.J,this,this.o7,this.UTa,this.dO,w,A,z,v,u?n.O.Sa(u):void 0,this.VY,this.Fb.xh,this.Fb.my);this.nrb(w);this.$i.push(w);return w;};t.prototype.nrb=function(w){var u;function v(x){u.Fb.emit(x.type,x);}u=this;w.addListener("locationSelected",v);w.addListener("logdata",v);w.addListener("serverSwitch",v);w.addListener("streamSelected",v);w.addListener("lastSegmentPts",v);w.addListener("managerdebugevent",v);w.addListener("requestCreated",function(x){x=x.request;u.Fb.Sma(x.mediaType,x.da);});};t.prototype.Ssb=function(w){for(var v=[w];w.Rg;){w=w.Rg;v.push(w);}return v;};return t;})();b.sha=a;},function(q,b,a){var f,d,h,m;function c(l,n,p){this.uG=n;this.ym=p;this.YC=this.VZ=this.xya=this.Nab=this.Mab=this.cR=this.zd=this.yZb=this.ym=this.io=this.yc=this.da=this.Ku=this.Ap=this.Z=this.U5a=this.RW=void 0;}function k(l,n,p){this.Ta=n;this.G6a=p;this.XVa=this.Sib=this.ut=this.Ap=this.IK=this.Fy=void 0;}function g(l,n,p,r,t,w,v){var u;u=new c(p,n,l.ym);l.forEach(function(x){var y,z;y=x.buffer;z=y.Z;x.mediaType === d.kb.mc?u.RW=z.length?z[0].bitrate:void 0:x.mediaType === d.kb.Vb && (u.U5a=z.length?z[0].bitrate:void 0,u.Z=z,u.Ap=y.gl - y.Ac,u.Ku=y.rf,u.da=y.Ac,u.yc=y.yc,u.io=x.Dd,u.ym=x.ym,u.yZb=n - x.ym,u.zd=x.zd,u.cR=z.filter(function(A){return u.da <= A.wz;}).length);});this.Hk=u;this.Uv=void 0;this.RZa=r;this.Az=t;this.SWa=w;this.Eza=this.Aea=this.hab=this.cD=this.uO=this.g1a=this.Rz=this.zd=this.Uv=void 0;this.fyb=v;this.Wya={};}f=a(1);d=a(32).default;h=a(33).assert;m=a(17).Da;c.prototype.constructor=c;k.prototype.constructor=k;g.prototype.constructor=g;g.prototype.Nn=function(l,n){var p,r,t,w,v,u,x,y,z,A,B,D,C,I,K,L,H,P,N;p=this.Hk;r=[];t=l[d.kb.Vb];w=l[d.kb.mc];if(void 0 === t || void 0 === w)return !1;v=t.buffer;u=w.buffer;x=p.zd.filter(function(J){return J.vaa();});if(void 0 === v || void 0 === u || void 0 === x || 0 === x.length)return !1;y=new k(n?m[n]:"maxbitratechanged",t.Ac,n === m.sg);z=0;A=0;B=0;D=0;C=p.da;l=l[d.kb.Vb].Ac;for(var F=p.Z,G=p.cR,E=0;E < G;E++){I=F[E];K=I.offset;L=I.offset + I.ga - 1;H=I.Ht;P=I.JC;N=P + H;I && P <= l && N > C && (H=I.Ht,P=Math.min(H,Math.min(l,N) - Math.max(P,C) + 1),D+=P,z+=P / H * (L - K + 1),A+=I.bitrate * P,B+=I.nb * P);}p.Mab=z;p.Nab=D;p.xya=0 < D?A / D:0;p.YYb=0 < D?B / D:0;p.VZ || (p.VZ=0,x.some(function(J,M){if(J.bitrate === p.U5a)return (p.VZ=M,!0);}));x.forEach(function(J){var M,Q;J=J.vaa();M=[];p.YC || (p.YC=J.Pn(p.da,void 0,!0));y.Fy || (y.Fy=J.Pn(y.Ta,void 0,!0),y.IK=J.length - 1);p.io !== p.YC + p.cR && (p.io=p.YC + p.cR);G=Math.min(y.IK,y.Fy + 1);for(var O=p.YC;O <= G;O++){Q=J.get(O);M[O]=Q;}r.push(M);});n === m.sg && (y.Ap=v.gl - v.Ac,y.ut=u.gl - u.Ac,y.Sib=t.ucb,y.XVa=w.ucb);this.Uv=y;this.zd=x;this.Rz=r;return this.g1a=!0;};g.prototype.MB=function(){var l,n,p,r,t,w,v,u,x,y,z,C,F,G,E,I,H,P;if(this.sl)return this.sl;p=this.cD;r=this.Hk;t=this.Uv;w=this.zd;v=this.hab;u=this.fyb;h(void 0 !== p,"throughput object must be defined before retrieving the logdata from PlaySegment");if(p.trace && 0 === p.trace.length || void 0 === p.timestamp){if(t.G6a)(x=!1,y=!0);else t.Fy - r.YC + 1 <= r.cR?y=x=!0:(x=!0,y=!1);z=!0;}if(v)for(var A=v.Bba,B=v.DP,D=0;D < u.length;D++){C=u[D];(p=v[C]) && p.Dxa && (y=!0);}t={bst:r.ym,pst:r.uG,s:r.YC,e:t.Fy,prebuf:r.cR,brsi:r.io,pbdlbytes:r.Mab,pbdur:r.Nab,pbtwbr:r.xya,pbvmaf:r.YYb};this.Az && (t.fragmentsPrebuffered=r.Z);z && (t.nt=z);y && (t.nd=y);A && (t.invalid=A);B && (t.exception=B);this.Eza && (t.rr=this.Eza);this.Aea && (t.ra=this.Aea);if(!y && !A && !B && (this.RZa || this.Az)){t.bitrate=w.map(function(N){return N.bitrate;});p=this.cD;C=p.trace;F=[];E=0;C.forEach(function(N){N=Number(N).toFixed(0);F.push(N - E);E=N;});t.tput={ts:p.timestamp,trace:F,bkms:p.fB};}if(y || z || A || B)t.feasible=x;else for((t.sols={},t.elapsed=v.RHb,D=0);D < u.length;D++){C=u[D];p=v[C];y={};if(p && p.Os){y.algelapsed=p.eyb;y.maxHeapTotal=p.nC;y.f=p && p.Xt || !1;y.dltwbr=p.D_a;y.dlvmaf=p.G_a;y.dlvdur=p.F_a;y.dlvbytes=p.E_a;y.dlabytes=p.B_a;if(this.RZa || this.Az){G=p.Os.filter(function(N){return N;}).map(function(N){return N.nf;});E=0;I=[];G.forEach(function(N){I.push(N - E);E=N;});y.strmsel=I;}if(this.Az){z=[];x=this.Hk.io;try{for(var K=(l=void 0,f.__values(G)),L=K.next();!L.done;L=K.next()){H=L.value;P=this.Rz[H][x];P.dg=H;z.push(P);x++;}}catch(N){l={error:N};}finally{try{L && !L.done && (n=K.return) && n.call(K);}finally{if(l)throw l.error;}}y.fragsel=z;y.streamList=this.zd;y.pause_dlnd_sec=p.Os.filter(function(N){return N;}).map(function(N){return N.uya;});y.buffer_sec=p.Os.filter(function(N){return N;}).map(function(N){return N.Foa;});y.buffer_kb=p.Os.filter(function(N){return N;}).map(function(N){return N.Eoa;});y.buffer_frags=p.Os.filter(function(N){return N;}).map(function(N){return N.ZWa;});y.elapsed_secs=p.Os.filter(function(N){return N;}).map(function(N){return N.c0a;});y.throughput=p.Os.filter(function(N){return N;}).map(function(N){return N.fb;});}}t.sols[C]=y;}return this.sl=t;};g.prototype.$Jb=function(l){var r;if(void 0 !== this.Wya[l])return this.Wya[l];for(var n=this.Rz[this.Hk.VZ],p=0;p < n.length;p++){r=n[p];if(r && r.da <= l && r.da + r.duration > l)return this.Wya[l]=r;}throw Error("findPlayingFragment: missing");};q.exports=g;},function(q,b,a){var g,f;function c(d,h,m){this.ga=d;this.fo=h;this.quality=m;}function k(d,h){this.Fwa=h;void 0 === h && (this.Fwa=!0);this.En=d;this.Arb();}g=a(1);f=a(4).assert;c.prototype.constructor=c;c.prototype.PB=function(){return 8 * this.ga / 1E3 / this.fo;};k.prototype.constructor=k;k.prototype.Xr=function(d,h,m,l,n){void 0 === h && (h=0);void 0 === m && (m=d.gQ());void 0 === l && (l=0);void 0 === n && (n=d.En.length);for(var p=[],r,t=l;t < n;t++){l=[];for(var w=h;w < m;w++){r=d.En[t][w];l.push(r);}p.push(l);}return new k(p,d.Fwa);};k.prototype.Arb=function(){var d,h,n;h=this.En[0].length;try{for(var m=g.__values(this.En.slice(1)),l=m.next();!l.done;l=m.next()){n=l.value;f(n.length === h,"expect chunk.length === n but got " + n.length + " and " + h);}}catch(r){var p;p={error:r};}finally{try{l && !l.done && (d=m.return) && d.call(m);}finally{if(p)throw p.error;}}this.Fwa && this.Brb();this.Crb();};k.prototype.gQ=function(){return this.En[0].length;};k.prototype.Brb=function(){for(var d=0;d < this.En.length - 1;d++){for(var h=0;h < this.gQ();h++){f(this.En[d][h].ga <= this.En[d + 1][h].ga,"Chunk size for epoch " + h + " is not monotonic");}}};k.prototype.Crb=function(){for(var d=0;d < this.En.length - 1;d++){for(var h=0;h < this.gQ();h++){f(1E-8 > Math.abs(this.En[d][h].fo - this.En[d + 1][h].fo),"Chunk duration for epoch " + h + " is not consistent");}}};k.prototype.MOb=function(){var d;d=[];this.En[0].forEach(function(h){d.push(h.fo);});return d;};q.exports={blb:c,clb:k};},function(q,b,a){var f;function c(){}function k(d,h,m){void 0 === m && (m=!1);f(d.length === h.length,"bitrates_kbps and durations_sec must be of the same length.");f(1E-8 < g(d),"bitrate zero, won't be able to send anything.");this.GE=d;this.X_a=h;this.repeat=m;this.Jn=this.jq=0;}function g(d){return d.reduce(function(h,m){return h + m;},0);}f=a(4).assert;c.prototype=Error();k.prototype.constructor=k;k.prototype.Xr=function(){var d;d=new k(this.GE,this.X_a,this.repeat);d.jq=this.jq;d.Jn=this.Jn;return d;};k.prototype.Vta=function(){return this.GE[this.jq % this.GE.length];};k.prototype.BF=function(){return this.X_a[this.jq % this.GE.length];};k.prototype.xHb=function(d){f(0 < d,"expect x_sec > 0.0");if(!(this.repeat || 0 <= this.jq && this.jq < this.GE.length))throw new c();f(this.Jn < this.BF(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var h;;){h=this.BF() - this.Jn;h=d < h?d:h;d-=h;this.Jn+=h;if(this.Jn < this.BF())break;this.Jn-=this.BF();this.jq+=1;if(!this.repeat && this.jq >= this.GE.length){if(0 < d)throw new c();break;}}};k.prototype.Kab=function(d){this.xHb(d);};k.prototype.yHb=function(d){f(0 < d,"expect y_kb > 0.0");if(!(this.repeat || 0 <= this.jq && this.jq < this.GE.length))throw new c();f(this.Jn < this.BF(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var h,m=0;;){h=this.BF() - this.Jn;h=d < h * this.Vta()?d / this.Vta():h;d-=this.Vta() * h;m+=h;this.Jn+=h;if(this.Jn < this.BF())return m;this.Jn-=this.BF();this.jq+=1;if(!this.repeat && this.jq >= this.GE.length){if(0 < d)throw new c();return m;}}};q.exports={Qqb:k,Rqb:c};},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r,t,w,v,u;Object.defineProperties(b,{__esModule:{value:!0}});b.Fqb=b.gja=b.Hqb=b.eQa=void 0;q=a(1);c=q.__importStar(a(10));k=q.__importDefault(a(5));g=q.__importDefault(a(33)).default.wK;f=q.__importStar(a(8)).jk;d=q.__importDefault(a(463));h=a(447);m=a(237);l=a(17);n=a(25);p=a(4);r=a(104);t=a(274);a=(function(){function x(y,z,A,B,D,C,F,G,E,I,K){var L;L=this;this.J=y;this.wh=z;this.K=A;this.Fc=B;this.U=D;this.YR=C;this.jc=F;this.Ub=G;this.Mg=E;this.f9=I;this.NI=K;this.c8=[];this.Xma=[];this.ATa=[];this.URa=void 0;[0,1].forEach(function(H){L.Fc(H) && (L.c8[H]=new u(L.J,H),L.Xma[H]=new w(H),L.ATa[H]=new v(H));});this.Hib=new r.oI(this.J);this.iD=r.TE(this.K,this.Hib);this.joa=r.SE();this.wI=void 0;}Object.defineProperties(x.prototype,{qg:{get:function(){return this.c8;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{ZC:{get:function(){return this.Xma;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{hz:{get:function(){return this.ATa;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{dB:{get:function(){return this.URa;},set:function(y){this.URa=y;},enumerable:!1,configurable:!0}});x.prototype.Ms=function(y,z){this.Hib.Ms(y,z);};x.prototype.Ewa=function(y){var z,A,B,D,C,F;z=this.K;A=y.mediaType;B=k.default.yq()[A];D=z.z8b?0 === A?z.IW:z.C3:1 === A?z.IW:z.C3;C=this.U.getState();F=this.U.Ue();z=y.eb.Ab;A=this.f9.s8a(z,A);B={Fv:B,da:A.Rd,Ac:F,yc:A.tR || F,gl:A.uX || F,rf:A.rf,uk:A.uk,bo:A.bo,L1a:A.Z.length,Z:[]};D={state:C,ss:this.U.ss(),Dd:y.gp,buffer:B,mY:D,f8a:! !this.YR.uca,qP:! !this.YR.qu,Pr:this.jc && this.jc.Pr,Bea:y.bOb,playbackRate:this.U.Aq()};void 0 === D.Dd && (D.Dd=y.Jra(B.yc));D.cX=z.cX;B.Z=A.Z;c.Oa(B.da)?y.seeking && B.Ac != B.da && (B.Ac=B.da):(B.da=0,B.yc=0);this.wh.pBb(D);this.wh.Jxb(D);return D;};x.prototype.ipa=function(y,z,A){var G,E;y=this.c8[y];for(var B=y.maxBitrate,D="manifest",C=0,F=z.length - 1;0 <= F;F--){G=z[F];E=G.bitrate;if(g(G)){C=Math.max(C,E);break;}else this.K.K2 && !G.cw?D="bc":G.zw?G.SB && (D="hf"):D="av";}if(void 0 === B || C !== B)(y.maxBitrate=C,this.Ub.IWb(B,C,D,A));};x.prototype.$Nb=function(y){return this.Jta(y).dg;};x.prototype.Jta=function(y){var z,A,B,D,C,F,G,E,I,K,L,H,P,N,J,M,O,Q,T;z=this.K;A=y.mediaType;B=1 == A;D=0;C=this.c8[A];F=this.Xma[A];if(!C.og)return {dg:void 0};G=this.Ewa(y);E=y.Sf;I=E.ws;K=y.lca.R;L=y.track.zd;if(!K.Tn.t3(K.M,L))return (y.Jl("location selector did not find any urls"),{dg:void 0});H=t.hea(G.state);P=B?this.iD:this.joa;try{N=P.Mn(L,H);}catch(V){this.J.error("StreamFilters: filterStreams: " + V);N=[L[0]];}0 === N.length && (this.J.error("StreamFilters: empty list"),N=[L[0]]);if(this.NI.Jt && (y.pF.length !== N.length || 0 < n.xv(y.pF,N).length || 0 < n.xv(N,y.pF).length)){try{this.wI && this.PJb();}catch(V){this.Ub.hp("Hindsight: Error when handling maxbitrate chagned: " + V);}y.pF=N;}H=I?I.dg:C.bsa;try{if(I && (D=I.bitrate,I && E.track && !I.track.equals(E.track))){J=h.Lra(N,D) || 0;M=N[J];if(I.bitrate !== M.bitrate || 1 === A)G.state=l.Da.Sh;I=M;H=L.indexOf(M);}}catch(V){this.J.error("StreamFilters: track change: " + V);}if(!B && (D=z.rS,!(D && 0 < D.length) && H && L[H] && I && I.location === L[H].location))return {dg:H};I=this.wh;try{O=I.XP(A);Q=B?I.UY():I.DZ();T=y.Jk.IAa(G,N,Q,O,C.og.config.fu,K.ds);if(!T)return (y.Jl("stream selector did not find a stream"),{dg:void 0});}catch(V){this.J.error("StreamFilters: stream selector: " + V);T={nf:0};}T.nf=L.indexOf(N[T.nf]);this.YR.qu && this.YR.qu.Mxb(y.mediaType,T,L);B && this.ipa(A,N,y.yc);G=T.nf;N=L[G];O=N.bitrate;G != H && (B && z.sP && this.Mg.MRa(y,O),B?I.KL(O):I.Dz(O));c.Oa(C.bsa) || (C.bsa=G);y.yf || (T.yf?(p.assert(void 0 !== T.g9),y.mfa(T.g9),F.Cv=T.g9):(y.WF=T.WF,y.wL=T.wL,y.progress=T.progress));this.DA();if(B)if(T.xB)K.ZR(T.xB);else if(!K.Zaa() && !z.hfb)for(y=0;y < L.length;++y){if((z=L[y],z.Bw && !K.xq(A,z.Za))){K.ZR([z.Za]);break;}}T.pWa && this.Ub.PWb(T.pWa);return {Za:N.Za,dg:G,mz:T.mz};};x.prototype.DA=function(){var y,z,A,B,D,C;A=this.qg[0];B=this.qg[1];D=this.ZC[1];C=this.ZC[0];A=this.f9.qd.hBb(null !== (y=null === B || void 0 === B?void 0:B.Sw) && void 0 !== y?y:0,null !== (z=null === A || void 0 === A?void 0:A.Sw) && void 0 !== z?z:0,this.dB,this.YR.b1);A.Cv && (this.YR.no && D?D.Cv=A.Cv:C && (C.Cv=A.Cv));return A.yf;};x.prototype.Hra=function(y,z){var A,B,D,C;A=this;if(this.wI){B=this.wI;D=this.U.Ue();C=[];z && (D=z.Ta);m.fg.forEach(function(F){var G,E;G=A.f9.qd.pe(F);if(G){E=A.Ewa(G);E.mediaType=F;E.Ac=D;y === l.Da.sg && (E.ucb=G.eb.Qna(D));C[F]=E;}});B.g1a || B.Nn(C,y) || this.gAa();return B;}};x.prototype.PJb=function(){var y,z;y=this.wI;z=this.K;y && (this.Hra(void 0),y && !y.uO && this.wh.wza.rra(y));this.kZa(z);};x.prototype.gAa=function(){this.wI=void 0;};x.prototype.b8b=function(y){var z,A,B;z=y.oldValue;y=y.newValue;A=this.wI;B=this.K;y === l.Da.$c && z !== l.Da.$c?(A && this.J.warn("override an existing play segment!"),this.kZa(B,z,!0)):y !== l.Da.$c && z === l.Da.$c && A && (this.Hra(y),A && !A.uO && this.wh.wza.rra(A),this.gAa());};x.prototype.kZa=function(y,z,A){var B,D,C;B=this;D=[];m.fg.forEach(function(F){var G,E,I;G=B.f9.qd.pe(F);if(G){E=B.Ewa(G);if(A){I=B.qg[F];I.zBa?(E.ym=I.zBa,I.zBa=void 0):E.ym=I.ym;}else E.ym=k.default.time.ma();E.zd=G.pF;E.mediaType=F;D[F]=E;}});C=k.default.yq();C={Aec:C[0],Eib:C[1],Chc:y.b9a,eu:y.eu};this.wI=new d.default(D,k.default.time.ma(),z,this.NI.sY,y.Az,C,y.iba);};return x;})();b.eQa=a;w=(function(){function x(y){this.mediaType=y;this.eX=this.Jy=this.YB=this.Cv=this.ZB=void 0;}x.prototype.f8b=function(y,z,A){this.ZB=y?y:this.ZB;this.Cv=this.Cv;this.YB=z?z:this.YB;this.Jy=A?A:this.Jy;};return x;})();b.Hqb=w;v=(function(){return function(x){this.mediaType=x;this.Sva=this.Zva=this.Uva=this.CK=void 0;};})();b.gja=v;u=(function(){return function(x,y){this.mediaType=y;this.J=f(k.default,x,"[" + y + "]");this.Jl=this.J.error.bind(this.J);this.cc=this.J.warn.bind(this.J);this.Eo=this.J.trace.bind(this.J);this.ug=this.J.log.bind(this.J);this.J.debug.bind(this.J);this.bsa=this.ym=this.aq=this.og=void 0;this.d1=this.Sw=0;this.RS=!1;this.maxBitrate=void 0;};})();b.Fqb=u;},function(q,b,a){var r,t,w,v,u,x,y,z,A,B,D,C,F;function c(){}function k(G,E){var I,K,L,H;I=r.yd(E)?E:c;this.K=G || ({});(function(P,N,J){this.Xk[P].af[N]=J;}).bind(this);(function(P,N){return this.Xk[P].af?this.Xk[P].af[N]:void 0;}).bind(this);this.on=this.addEventListener=C.addEventListener;this.removeEventListener=C.removeEventListener;this.emit=this.mb=G.Zfc?C.mb:c;K=v.KEb(G);L=this.K.dailyDiskCacheWriteLimit;if(K){this.cy=K;H=l(G.Mhc || F,v.aMb());this.VA=function(P){return r.ta(H) || null === H || void 0 === this.Xk[P]?!1:!r.ta(H[P]);};H?(this.Xk={},E=t.Promise.all(Object.keys(H).map(function(P){return new t.Promise(function(N,J){var M;M=H[P];M.pib=G.pib;new u(P,K,M,function(O,Q){O?J(O):N(Q);},L);});})).then((function(P){P.map((function(N){var J;J=N.ly;this.Xk[J]=N;H[J].GKb=H[J].Fv - N.UA;this.Xk[J].on(u.tf.REPLACE,(function(M){M=M || ({});M.partition=J;M.type="save";this.mb("mediacache",M);}).bind(this));this.Xk[J].on(u.tf.ARa,(function(M){M=M || ({});M.partition=J;M.type="save";this.mb("mediacache",M);}).bind(this));this.Xk[J].on(u.tf.rg,(function(M){M=M || ({});M.partition=J;M.type=u.tf.rg;this.mb("mediacache-error",M);}).bind(this));}).bind(this));return this;}).bind(this)).then((function(P){h(K,t.storage.rU,Object.keys(H));return P;}).bind(this)).then((function(P){Object.keys(P.Xk).map(function(N){P.Xk[N].Tsa().map(function(J){P.delete(N,J);});});P.xw=!0;I(null,P);}).bind(this)).catch((function(P){w.error("Failed to initialize media cache ",P);this.sK=B.TFa;I(this.sK,this);}).bind(this)),D.vz(E)):(this.sK=B.Gnb,I(this.sK,this));}else (this.sK=B.TFa,I(this.sK,this));}function g(G,E,I,K,L,H){var P;P=H?"mediacache-error":"mediacache";E={partition:I,type:E,resource:K,time:t.time.now()};H && (E.error=H);L && (r.Oa(L.duration) && (E.duration=L.duration),r.Oa(L.hB) && (E.bytesRead=L.hB));try{G.mb(P,E);}catch(N){w.warn("caught exception while emitting basic event",N);}}function f(G,E,I,K,L){var H;H=L?"mediacache-error":"mediacache";E={partition:I,type:E,resources:K,time:t.time.now()};L && (E.error=L);try{G.mb(H,E);}catch(P){w.warn("caught exception while emitting basic event",P);}}function d(G){return !x.xQ(G) && !z.CRb(G);}function h(G,E,I){G.query(E,"",function(K,L){K || Object.keys(L).filter(function(H){return 0 > I.indexOf(H.slice(0,H.indexOf(".")));}).map(function(H){G.remove(E,H,c);});});}function m(G,E,I){var L,H;function K(P){G.delete(L,function(N){N?I(N):(delete G.af[H],N=Object.keys(P.resourceIndex),N=t.Promise.all(N.map(function(J){return new t.Promise(function(M,O){G.delete(J,function(Q){Q?O(Q):M(J);});});})).then(function(){I();},function(J){I(J);}),D.vz(N));});}if(x.xQ(E))(L=E,H=x.G$(E));else (L=x.Zpa(E),H=E);(E=G.af[H])?K(E):G.read(L,function(P,N){P?I(P):K(N);});}function l(G,E){var I,K,L;I={};K=G.partitions.reduce(function(H,P){return H + P.capacity;},0);L=E / K;G.partitions.map(function(H){var P;P=H.key;I[P]={};I[P].Fv=Math.floor(L * H.capacity);I[P].LFb=H.dailyWriteFactor || 1;I[P].qic=H.owner;I[P].ZIb=H.evictionPolicy;});return I;}function n(G,E,I){if(I)return z.dHb(G,E).reduce(function(K,L){Object.keys(L).map(function(H){K[H]=L[H];});return K;},{});I={};I[G]=E;return I;}function p(G,E,I,K,L,H,P,N,J,M,O){return function(Q,T){Q?r.isArray(Q)?(T=Q.map(function(V){return V.error;}),T.some(function(V){return V.code === B.wM.code;}) && !T.some(function(V){return V.code === B.L6.code;})?O(M,Q,function(){J.save(E,I,K,L,H,P);}):(M.delete(N),delete M.af[I],H({error:Q[0].error,Nw:Q[0].Nw,type:Q[0].type,AVa:Q}))):H({error:Q,Nw:E,type:"save"}):(Q=T.items.filter(function(V){return 0 <= Object.keys(G).indexOf(V.key);}).reduce(function(V,da){return V + da.Xba;},0),M.af[I].Ieb(Q),Q={GKb:T.Vo,Bfc:T.cP,Ql:0,items:T},0 < T.Ql && (Q.Ql=T.Ql),0 < T.duration && (Q.duration=T.duration),H(null,Q));};}r=a(10);t=a(134);w=new t.Console("MEDIACACHE","media|asejs");v=a(1059);u=a(1060);x=a(468);y=a(135);z=a(1067);A=a(1068);B=a(282);D=a(283);C=a(469).EventEmitter;F={xic:[]};k.prototype.u1=function(G,E,I){var K;K=r.yd(I)?I:c;this.VA(G)?this.Xk[G].query(E,function(L,H){L?(w.error("Failed to query resources",L),K([])):K(H.filter(d));}):K([]);};k.prototype.read=function(G,E,I){var K,L,H,P;K=r.yd(I)?I:c;if(this.VA(G)){L=this.Xk[G];H=L.af[E];if(!x.xQ(E) && this.K.hVb){P=(function(N){L.zea(Object.keys(N),(function(J,M,O){J?K(B.cN.Ts("Failed to read " + E,J)):(g(this,"read",G,E,O),K(null,z.YQb(M)));}).bind(this),N);}).bind(this);H?P(H.resourceIndex):this.p0b(G,E,function(N,J){N?K(B.cN.Ts("Failed to read " + E,N)):P(J.resourceIndex);});}else L.read(E,(function(N,J,M){N?K(B.cN.Ts("Failed to read " + E,N)):(H && H.convertToBinaryData && (J=A.MCb(J)),g(this,"read",G,E,M),K(null,J));}).bind(this));}else K(B.CD);};k.prototype.zea=function(G,E,I){var K,L;K=r.yd(I)?I:c;if(this.VA(G)){L={};E=t.Promise.all(E.map((function(H){return new t.Promise((function(P,N){this.read(G,H,function(J,M){J?(M={},M[H]=J,N(M)):(L[H]=M,P());});}).bind(this));}).bind(this))).then(function(){K(null,L);},function(H){K(H);});D.vz(E);}else K(B.CD);};k.prototype.Ldb=function(G,E,I){var K;K=r.yd(I)?I:c;this.VA(G)?"[object Object]" !== Object.prototype.toString.call(E)?K(B.K6.Ts("items must be a map of keys to objects")):(I=new t.Promise((function(L){var H,P;H=this.Xk[G].Tsa();P=Object.keys(E);(H=H.filter(function(N){return -1 === P.indexOf(N);})) && 0 < H.length?this.n_a(G,H,function(){L();}):L();}).bind(this)).then((function(){return t.Promise.all(Object.keys(E).map((function(L){return new t.Promise((function(H,P){this.save(G,L,E[L].Js,E[L].Oc,function(N,J){N?(w.error("Received an error saving",L,N),P(N)):H(J);},!0);}).bind(this));}).bind(this)));}).bind(this)).then((function(L){var H,P,N;try{H=Number.MAX_VALUE;P=Number.MAX_VALUE;N=L.reduce(function(J,M){M.Vo && M.Vo < H && (H=M.Vo);M.cP && M.cP < P && (P=M.cP);H < Number.MAX_VALUE && (J.freeSize=H);P < Number.MAX_VALUE && (J.dailyBytesRemaining=P);r.Oa(M.Ql) && (J.bytesWritten+=M.Ql);r.Oa(M.duration) && (J.duration+=M.duration);return J;},{partition:G,type:"saveMultiple",keys:Object.keys(E),time:t.time.now(),bytesWritten:0,duration:0});this.mb("mediacache",N);K(null,N);}catch(J){K(err);}}).bind(this),(function(L){r.isArray(L.AVa)?L.AVa.forEach((function(H){this.mb("mediacache-error",{partition:G,type:"saveMultiple",error:H.error,resources:H.resources});}).bind(this)):this.mb("mediacache-error",{partition:G,type:"saveMultiple",error:L});K(L);}).bind(this)),D.vz(I)):(r.yd(I)?I:c)(B.CD);};k.prototype.save=function(G,E,I,K,L,H){var P,N,J,M,O,Q,T,V,da;P=r.yd(L)?L:c;if(this.VA(G)){N=this.Xk[G];J=x.Zpa(E);L=N.Tsa();L=L.filter(function(pa){return pa !== E;});if(r.ta(K) || r.Gb(K) || !r.Oa(K.lifespan))P(B.dob);else {M=n(E,I,this.K.hVb);O=N.af[E] || ({});Q=O.resourceIndex;Q && Object.keys(Q).map(function(pa){r.ta(M[pa]) && N.delete(pa);});K.convertToBinaryData && (I=A.NCb(M),M=n(E,I,!1));Q=t.time.now();T={};T.partition=G;T.resourceIndex=Object.keys(M).reduce(function(pa,xa){pa[xa]=y.eQ(M[xa]);return pa;},{});T.creationTime=O.creationTime || Q;T.lastRefresh=Q;T.lifespan=K.lifespan;T.lastMetadataUpdate=Q;T.size=O.size;T.convertToBinaryData=K.convertToBinaryData;V=(function(pa,xa,ya){pa.zGb((function(sa,X){sa && w.error("Evicting","Failed to delete some orphaned records",sa);X.Jza?ya():(sa=pa.lMb())?this.delete(pa.ly,sa,(function(S){S?(H || (r.isArray(xa)?xa.forEach((function(R){f(this,"save",pa.fNb,R.resources,R.error);}).bind(this)):g(this,"save",pa.ly,E,void 0,xa)),P(xa)):ya();}).bind(this)):P(B.wM);}).bind(this));}).bind(this);da=(function(){var pa,xa,ya;pa=this.Xk;xa=0;ya=t.time.now();if(!r.ta(pa))for(var sa in pa){xa+=pa[sa].CLb(ya);}return xa;}).bind(this);this.n_a(G,L,(function(){N.replace(J,T,(function(pa,xa){xa?(N.af[E]=x.msa(T),N.B1b(M,p(M,G,E,I,K,P,H,J,this,N,V),H,da)):pa.code === B.wM.code?V(N,pa,(function(){this.save(G,E,I,K,P,H);}).bind(this)):P(pa);}).bind(this),H,da);}).bind(this));}}else P(B.CD);};k.prototype.delete=function(G,E,I){var K;K=r.yd(I)?I:c;this.VA(G)?m(this.Xk[G],E,(function(L){g(this,"delete",G,E,void 0,L);K(L);}).bind(this)):K(B.CD);};k.prototype.n_a=function(G,E,I){var K,L;K=r.yd(I)?I:c;if(this.VA(G)){L=this.Xk[G];I=t.Promise.all(E.map((function(H){return new t.Promise((function(P){m(L,H,(function(N){P({fa:r.ta(N),error:N,Js:H});}).bind(this));}).bind(this));}).bind(this))).then((function(H){var O,Q;for(var P=[],N=[],J=[],M=0;M < H.length;M++){O=H[M];O.fa?P.push(O.Js):O.error && N.push(O);}0 < P.length && f(this,"delete",G,P);if(0 < N.length){J=N.map(function(T){return T.Js;});H=D.A4a(N);Q=H[0];H.forEach((function(T){w.error("Failed to delete resources ",T.error,T.resources);f(this,"delete",G,T.resources,T.error);}).bind(this));}H={};H.Sic=P;0 < J.length && (H.Tic=J);Q?K(Q,H):K(void 0,H);}).bind(this),(function(H){f(this,"delete",G,E,H);K(H);}).bind(this));D.vz(I);}else K(B.CD);};k.prototype.clear=function(G,E){var I;I=r.yd(E)?E:c;this.VA(G)?this.Xk[G].clear(function(K){I(K.filter(d));}):I(B.CD);};k.prototype.p0b=function(G,E,I){var K,L;K=r.yd(I)?I:c;if(this.VA(G)){L=this.Xk[G];L.read(x.Zpa(E),function(H,P){var N;if(H)K(B.eob);else {N=x.msa(P) || ({});L.K3a(Object.keys(N.kAa),function(J){N.size=J;(J=L.af[E]) && (N.lastMetadataUpdate && J.lastMetadataUpdate && J.lastMetadataUpdate <= N.lastMetadataUpdate?L.af[E]=N:J.lastMetadataUpdate && (J.lastMetadataUpdate > N.lastMetadataUpdate || r.ta(N.lastMetadataUpdate)) && (N=J));K(null,N);});}});}else K(B.CD);};k.prototype.constructor=k;q.exports=k;},function(q,b,a){var f,d;function c(h,m,l,n,p,r){return new g(h,m,l,n,p,r);}function k(h){return h && 0 <= h.indexOf(".__metadata__");}function g(h,m,l,n,p,r){this.partition=h;this.lifespan=l;this.resourceIndex=m;this.size=n;this.creationTime=p;this.lastRefresh=r;return this.Ygb();}f=a(10);d=a(134);a(135);new d.Console("MEDIACACHE","media|asejs");g.prototype.refresh=function(){this.lastRefresh=d.time.now();return this.Ygb();};g.prototype.Ieb=function(h){this.size=h;};g.prototype.CYa=function(){var h;h=d.time.now();return (this.lastRefresh + 1E3 * this.lifespan - h) / 1E3;};g.prototype.Ygb=function(){this.lastMetadataUpdate=d.time.now();return this;};g.prototype.constructor=g;q.exports={create:c,msa:function(h){var m;m=h;"string" === typeof h && (m=JSON.parse(h));if(m && m.partition && !f.ta(m.lifespan) && m.resourceIndex && m.creationTime && m.lastRefresh)return (h=c(m.partition,m.resourceIndex,m.lifespan,-1,m.creationTime,m.lastRefresh),m.lastMetadataUpdate && (h.lastMetadataUpdate=m.lastMetadataUpdate),!f.ta(m.size) && 0 <= m.size && h.Ieb(m.size),h.CYa(),h.convertToBinaryData=m.convertToBinaryData,h);},Zpa:function(h){return h + ".__metadata__";},G$:function(h){return k(h)?h.slice(0,h.length - 13):h;},xQ:k};},function(q,b,a){q.exports={EventEmitter:a(1063),Fg:a(1064)};},function(q){q.exports="4.1.1981";},function(q,b,a){var p,r,t;function c(w){return w.Cu - w.Gt;}function k(w,v){return Math.exp(-(Math.log(2) / w) * v);}function g(w,v){w=Math.log(2) * v / w;return (1 - Math.exp(-w)) / w;}function f(w,v){var u,x,y,z,A;u=v.dza;x=v.cza;y=v.l1;if(0 === v.hi.length)return {y8:!1};z=v.hi[0];v=z.Oe;A=z.HF;z=z.duration;if(!A || 1 === y)return {y8:!1};r.assert(z,"duration should be defined when immediate probability is included in probabilities array");r.assert(0 < y,"presenting segment seamless probability cannot be zero");x-=z;if(u < x)return {y8:!1};x=u - x;u=y + x / z * (1 - y);z-=x;A=A * (1 - u) / (1 - y);w=v * u / y * k(w,z) + A * g(w,z);r.assert(1 >= w);return {y8:!0,$xb:w};}function d(w){var v,u,x,y,z;v=w.Ht;u=w.Pfb;x=w.RC;y=w.Cu;z=w.Gt;w=w.w1a;r.assert(void 0 !== u);r.assert(void 0 !== v);x=1 - x;y-=z;w?(z=u - w - y,v-=w,0 >= z?w=Math.max(0,(u - w) / v):(u=v - z,w=0 < u?y / u:0,x*=0 < u?u / v:1)):(z=u - y,0 >= z?w=u / v:(u=v - z,w=0 < u?y / u:0,x*=0 < u?u / v:1));r.assert(0 <= w);r.assert(1 >= w);r.assert(0 <= x);r.assert(1 >= x);return 1 - w * x;}function h(w,v){w=Math.log(2) / w.wcb;return m(v) * Math.exp(-w * c(v));}function m(w){var v;return (null !== (v=w.fK) && void 0 !== v?v:1) * w.hi.reduce(function(u,x){var y;y=x.HF;return u * (x.Oe + (void 0 === y?0:y));},1);}function l(w){var v,u,x,y;if(0 === w.hi.length)return 0;u=0;if(1 > w.l1){u=w.dza;x=w.cza;y=null !== (v=w.hi[0].duration) && void 0 !== v?v:0;u=Math.max(0,Math.min(y,u - (x - y)));}return w.hi.reduce(function(z,A){A=A.duration;return z + (void 0 === A?0:A);},0) - u;}function n(w){return w.hi.filter(function(v){return !v.HF;}).reduce(function(v,u){return v * u.Oe;},1);}Object.defineProperties(b,{__esModule:{value:!0}});b.Voa=b.uXa=b.CAb=b.tXa=b.GAb=void 0;p=a(17);r=a(4);t=a(15);b.GAb=c;b.tXa=function(w,v,u){var x,y,z,A,B,D,C,F;if(!w.p$ || p.Fq(v.Lf))return h(w,v);y=w.wcb;w=c(v);z=l(v);A=n(v);B=f(y,v);D=B.y8;B=B.$xb;B=void 0 === B?1:B;C=1 > v.RC?d(v):1;F=(null !== (x=v.fK) && void 0 !== x?x:1) * A * k(y,w - z) * B * C * v.hi.filter(function(G,E){return G.HF && (0 < E || !D);}).reduce(function(G,E){var I,K;I=E.HF;K=E.duration;K=void 0 === K?0:K;I=void 0 === I?0:I;E=E.Oe * k(y,K) + I * g(y,K);return G * E;},1);t.aa && (null === u || void 0 === u?void 0:u.log("{" + v.groupId + "} [" + v.mediaType + "] calculateStreamablePriority: sp: " + (v.RC + ", pssp: ") + (v.l1 + ", streamingDuration: ") + (v.Pfb + ", duration: ") + (v.Ht + ", seamlessProbability: ") + (A + ", distance: ") + (w + ", immediateDistance: " + z + ", risk:") + (k(y,w - z) + ", adjustedFirstTerm: ") + (B + ", streamingAdjustment: " + C + ", probabilities: ") + (JSON.stringify(v.hi) + " => " + F)));return F;};b.CAb=h;b.uXa=m;b.Voa=n;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.oU=void 0;q=(function(){function a(){this[0]=0;this[1]=0;}Object.defineProperties(a.prototype,{total:{get:function(){return this[0] + this[1];},enumerable:!1,configurable:!0}});a.prototype.add=function(c){this[0]+=Math.max(c[0] || 0,0);this[1]+=Math.max(c[1] || 0,0);};a.prototype.vna=function(c,k){this[c]+=Math.max(k || 0,0);};return a;})();b.oU=q;0;1;},function(q,b,a){var k,g,f,d;function c(){return k.__awaiter(this,void 0,void 0,function(){var h;return k.__generator(this,function(m){switch(m.label){case 0:return [4,Promise.resolve().then(function(){return k.__importStar(a(284));})];case 1:return (h=m.pc().aK,[2,h()]);}});});}Object.defineProperties(b,{__esModule:{value:!0}});b.rZ=void 0;k=a(1);g=a(1084);f=k.__importDefault(a(5));b.rZ=function(h){var m;m=new f.default.Console("ASEJS","media|asejs");d || (d=new g.GOa(function(){return c();},h,m));return d;};},function(q,b,a){var c,k,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.rha=b.rD=b.zob=b.oH=void 0;q=a(1);c=a(13);k=q.__importDefault(a(5));g=a(8);b.oH=function(d,h){return (1 === d.mediaType?0:1) - (1 === h.mediaType?0:1);};b.zob={oH:b.oH};(function(d){d[d.xT=0]="CREATED";d[d.pT=1]="CANCELLED";})(f=b.rD || (b.rD={}));a=(function(){function d(h,m,l,n){var p;this.Ol=h;this.parent=m;this.xo=l;this.cd=f.xT;this.gW=[];this.events=new c.EventEmitter();this.console=g.jk(k.default,n,h.id && h.id.length?"{" + h.id + "}":"");if(null === (p=this.parent) || void 0 === p?0:p.fd)this.xo=this.parent.fd.Ia(this.Ol.Yd);}Object.defineProperties(d.prototype,{state:{get:function(){return this.cd;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Vh:{get:function(){return this.cd === f.pT;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{G:{get:function(){return this.Ol;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{sf:{get:function(){return this.gW;},enumerable:!1,configurable:!0}});d.prototype.cba=function(h){return this.sf.some(function(m){return m.mediaType === h;});};return d;})();b.rha=a;},function(q,b,a){var g,f,d;function c(h,m,l,n,p){var r,t;l=null !== (r=m.Fe) && void 0 !== r?r:m.track.On(h,l.V,void 0,p);h=null !== (t=m.ag) && void 0 !== t?t:m.track.FB(h,null === n || void 0 === n?void 0:n.V,m.Oh);return [!m.Ih(),l,h];}function k(h,m){var B,D;for(var l=[],n=0,p=h[n],r=null === p || void 0 === p?void 0:p[0],t=null === p || void 0 === p?void 0:p[1],w=m.ag.index,v=m.track.mr,u=0,x=m.Fe.Ic,y=m.Fe.Ud.V > p[0],z=y,A=m.Fe.index;A <= w;++A){B=!1;if(p){D=v.get(A);y && (D.Ic.V >= t?(y=!1,++n >= h.length?t=r=p=void 0:(p=h[n],r=null === p || void 0 === p?void 0:p[0],t=null === p || void 0 === p?void 0:p[1])):z?z=!1:(l.push(new f.q6(u,x,D.Ic)),x=D.Ic,B=!0));!y && p && D.Ud.V > r && (y=!0,B=D.Ic,(D=m.track.oQ.Hh(A).p1a(r)) && 0 !== D.hm && (B=d.O.Sa(D.Xd)),l.push(new f.q6(u,x,B)),x=B,B=!0);}B && ++u;}l.push(new f.q6(u,x,m.ag.Ud));return l;}Object.defineProperties(b,{__esModule:{value:!0}});b.wUb=b.I8a=b.u$a=b.s$a=b.Uza=void 0;g=a(1);f=a(476);d=a(8);b.Uza=function(h,m,l){var n,p,r;r=m.get(0);m=m.get(1);m=null === m || void 0 === m?void 0:m.track.FB(h,null === l || void 0 === l?void 0:l.V,m.Oh);return [null === r || void 0 === r?void 0:r.track.FB(h,null !== (p=null === (n=null === m || void 0 === m?void 0:m.Ud) || void 0 === n?void 0:n.V) && void 0 !== p?p:null === l || void 0 === l?void 0:l.V,r.Oh),m];};b.s$a=function(h,m,l,n,p){var r,t,w,v;r=m.get(0);m=m.get(1);t=g.__read(m?c(h,m,l,n,p):[!1],3);w=t[0];v=t[1];t=t[2];n=g.__read(r?c(h,r,w && void 0 !== (null === v || void 0 === v?void 0:v.da)?d.O.Sa(v.da):l,void 0 !== (null === t || void 0 === t?void 0:t.Ta)?d.O.Sa(null === t || void 0 === t?void 0:t.Ta):n,p):[!1],3);h=n[0];l=n[1];n=n[2];h && (null === r || void 0 === r?void 0:r.zba(l,n));w && (null === m || void 0 === m?void 0:m.zba(v,t));return [h,w];};b.u$a=function(h,m,l){return m.track.On(h,l.V,void 0,!0).Ic;};b.I8a=function(h,m,l){var n;n=m.G;if(!n.tq || 0 === n.tq.length)return [];h=n.tq.map(function(p){return [n.ya + p[0],n.ya + p[1]];});return k(h,l.m1);};b.wUb=k;},function(q,b,a){var k,g,f;function c(d){return "immediate" === d;}Object.defineProperties(b,{__esModule:{value:!0}});b.xOa=b.q6=b.r6a=void 0;k=a(1);g=a(8);f=a(4);b.r6a=c;q=(function(){function d(h,m,l){this.region=h;this.Ic=m;this.Ud=l;}d.prototype.toJSON=function(){return {region:this.region,da:this.Ic.jL,Ta:this.Ud.jL};};return d;})();b.q6=q;q=(function(){function d(h,m,l){var n,p,r;n=this;this.id=h;this.G=m;this.FTa=!1;this.dQ=function(t){var w,v,u,x;return (null === (w=n.zz) || void 0 === w?0:w.length)?"immediate":null !== (x=null === (u=null === (v=n.G.next) || void 0 === v?void 0:v[t]) || void 0 === u?void 0:u.ye) && void 0 !== x?x:n.ye;};this.cW=new g.O(m.ya,1E3);this.oV=void 0 !== m.za && null !== m.za?new g.O(m.za,1E3):g.O.JF;this.Dwb=null !== (r=null !== (p=m.ye) && void 0 !== p?p:l) && void 0 !== r?r:"lazy";this.S5a();f.assert(this.cW.lessThan(this.oV),"PlaygraphSegment: Invalid timestamps (endTimestamp <= startTimestamp)");}Object.defineProperties(d.prototype,{M:{get:function(){return this.G.M;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Mm:{get:function(){return this.FTa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Yd:{get:function(){return this.cW;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ng:{get:function(){return this.oV;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.oV.Ia(this.cW);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{da:{get:function(){return this.cW.V;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ta:{get:function(){return this.oV.V;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{vG:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{px:{get:function(){return this.yC.length?!this.G.vc && 0 === this.$Q.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{uWb:{get:function(){return this.eE;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{yC:{get:function(){var h,m;return Object.keys(null !== (m=null === (h=this.G) || void 0 === h?void 0:h.next) && void 0 !== m?m:{});},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{$Q:{get:function(){var h;h=this;return this.yC.filter(function(m){return ! !h.eE[m];});},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ZBa:{get:function(){var h;return null !== (h=this.CUa) && void 0 !== h?h:this.CUa=this.HAb();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Jfa:{get:function(){var h;return null !== (h=this.DUa) && void 0 !== h?h:this.DUa=this.IAb();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{RC:{get:function(){return this.G.weight?this.G.weight / (this.G.weight + this.Jfa):1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ye:{get:function(){var h;return (null === (h=this.zz) || void 0 === h?0:h.length)?"immediate":this.Dwb;},enumerable:!1,configurable:!0}});d.prototype.normalize=function(h,m,l){this.cW=h;this.oV=m;this.zz=l;this.FTa=!0;this.Yib();};d.prototype.B2a=function(){var h;return this.$Q.length?null !== (h=this.$Q.map(this.dQ).reduce(function(m,l){return m === l?l:void 0;})) && void 0 !== h?h:this.ye:this.ye;};d.prototype.Oj=function(h){this.S5a(h);};d.prototype.xAb=function(h){var m,l;if(this.ZBa){m=(this.eE[h] || 0) / this.ZBa;if(void 0 === this.G.weight || 0 === this.Jfa)return {Oe:m};l=this.RC;return 1 !== l && c(this.dQ(h)) && this.eE[h]?{Oe:l * m,HF:this.eE[h] / this.Jfa * (1 - l)}:{Oe:l * m};}return {Oe:(null === (m=this.G.next) || void 0 === m?0:m[h])?1 / this.yC.length:0};};d.prototype.tPb=function(h){return -1 < this.yC.indexOf(h);};d.prototype.Byb=function(){return this.Mm?k.__assign(k.__assign({},this.G),{ya:this.Yd.V,za:this.Ng.V}):this.G;};d.prototype.S5a=function(h){var m;if(void 0 === this.G.next)this.eE={};else {m=this.G.next;this.eE=Object.keys(m).reduce(function(l,n){var p;p=h?h[n] || 0:m[n].weight;void 0 !== p && null !== p && 0 <= p && (l[n]=p);return l;},{});}this.Yib();};d.prototype.HAb=function(){var h;h=this;return this.$Q.reduce(function(m,l){return m + h.eE[l];},0);};d.prototype.IAb=function(){var h;h=this;return this.$Q.filter(function(m){return c(h.dQ(m));}).reduce(function(m,l){return m + h.eE[l];},0);};d.prototype.Yib=function(){this.DUa=this.CUa=void 0;};return d;})();b.xOa=q;},function(q,b,a){var c,k,g,f,d,h;Object.defineProperties(b,{__esModule:{value:!0}});b.$ja=void 0;c=a(1);k=a(13);g=a(8);f=a(4);d=a(17);h=a(136).qz.wqa;q=(function(){function m(){this.lR=[];this.dE=new g.$s(!1);this.cE=new g.$s(g.O.Sa(-Infinity));this.events=new k.EventEmitter();}Object.defineProperties(m.prototype,{Jz:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{playbackRate:{get:function(){return this.Aq();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{gz:{get:function(){return this.dE;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{n_:{get:function(){return this.cE;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Af:{get:function(){return this.St;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Lg:{get:function(){return this.XJ();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Xh:{get:function(){var l,n;l=this.Lg;n=this.Rq(l);f.assert(n,"Could not find current branch for " + l.V);return n;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{KQb:{get:function(){return this.Cb[0];},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{cC:{get:function(){return this.St?this.Cb[this.Cb.length - 1]:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Qi:{get:function(){var l,n;l=this.Lg;n=this.faa(l);f.assert(n,"Could not find presenting branch for " + l.V);return n;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{St:{get:function(){return 0 < this.Cb.length;},enumerable:!1,configurable:!0}});m.prototype.I4a=function(l){return -1 !== this.Cb.indexOf(l);};m.prototype.T8=function(){return void 0 !== this.va?!1:!0;};m.prototype.Rb=function(){};m.prototype.gK=function(l){var n,p,r;n=this.Cb.filter(function(t){return t.G.id === l.ea;});if(0 !== n.length){p=this.XJ();r=new g.O(Infinity,1);n.forEach(function(t){t=t.Qq.add(l.offset);p.c$(t).lessThan(p.c$(r)) && (r=t);});return r;}};m.prototype.Uaa=function(l){var n,p,r,t,w,v,u,x,y,z;return c.__generator(this,function(A){switch(A.label){case 0:n=this.Cb.filter(function(B){return B.G.id === l.ea;});if(0 === n.length)return [2,void 0];p=this.XJ();A.label=1;case 1:(A.qj.push([1,6,7,8]),r=c.__values(n),t=r.next(),A.label=2);case 2:if(t.done)return [3,5];w=t.value;v=w.Qq.add(l.offset);u=p.c$(v);return [4,{Sya:v,c$:u}];case 3:(A.pc(),A.label=4);case 4:return (t=r.next(),[3,2]);case 5:return [3,8];case 6:return (x=A.pc(),y={error:x},[3,8]);case 7:try{t && !t.done && (z=r.return) && z.call(r);}finally{if(y)throw y.error;}return [7];case 8:return [2];}});};m.prototype.Rq=function(l){var n,p,r;n=this.faa(l);if(n){p=n.G;r=p.id;l=l.Ia(p.Yd.add(n.Cd));return {ea:r,offset:l};}};m.prototype.Haa=function(){};m.prototype.reset=function(){};m.prototype.W1=function(){};m.prototype.pause=function(l){void 0 === l && (l=d.fg);this.lR=null === l || void 0 === l?void 0:l.reduce(function(n,p){-1 === n.indexOf(p) && n.push(p);return n;},this.lR);};m.prototype.resume=function(l){var n;n=this;void 0 === l && (l=d.fg);l.forEach(function(p){p=n.lR.indexOf(p);-1 !== p && n.lR.splice(p,1);});};m.prototype.tCa=function(l){var n;f.assert(this.va);f.assert(l !== this);this.QL();n=l.T8(this.va,this);n && (l.pause(this.lR),l.kra.apply(l,c.__spread(this.Cb)),this.Dqa(this.va));return n;};m.prototype.XJ=function(){return this.c3a();};m.prototype.c3a=function(){var l,n;f.assert(this.St,"Attempted to get initial time before any branches were queued");n=c.__read(this.Cb,1)[0];f.assert(n);return null !== (l=n.he) && void 0 !== l?l:n.ps;};m.prototype.Aq=function(){return 1;};m.prototype.xaa=function(){};m.prototype.faa=function(l){var n;if(this.St){n=this.c3a();return l.lessThan(n)?this.Cb[0]:g.q1a(this.Cb,l);}};m.prototype.PLb=function(){var l,n,t,w,v,u,x,y;n={};try{for(var p=c.__values(this.Cb),r=p.next();!r.done;r=p.next()){t=r.value;w=void 0;v=void 0;u=t.HB();for(w in u){x=w;y=u[x];y && (n[x]=(null !== (v=n[x]) && void 0 !== v?v:0) + y);}if(!t.Pl)break;}}catch(A){var z;z={error:A};}finally{try{r && !r.done && (l=p.return) && l.call(p);}finally{if(z)throw z.error;}}return n;};c.__decorate([h.return.qw()],m.prototype,"Xh",null);c.__decorate([c.__param(0,h.qw())],m.prototype,"gK",null);c.__decorate([c.__param(0,h.qw())],m.prototype,"Uaa",null);c.__decorate([h.return.qw()],m.prototype,"Rq",null);return m;})();b.$ja=q;},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Yea=void 0;c=a(1);k=a(4);g=a(199);b.Yea=function(f,d,h,m,l,n){var p,r;void 0 === l && (l=g.Lx.iY);p=f();if(m && p){r=m.Ona;f=m.jo;m=m.rules.map(function(t){return ["function" === typeof t.gm?t.gm(h):h[t.gm],t.config];});r || k.assert(d,"Param is null");n && m.push([{map:n,NE:function(){return !0;}},void 0]);n=m.filter(function(t){t=c.__read(t,2);return t[0].NE(d,p,t[1]);});f && k.assert(n.length,"No rules matched for " + d);if(n.length)return n.reduce(function(t,w){w=c.__read(w,2);return w[0].map(t,l,p,w[1]);},d);}return d;};},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.j2a=b.L3a=b.Csa=b.jPa=void 0;c=a(1);k=a(15);g=a(56);q=(function(){function f(d){this.Na=d;}Object.defineProperties(f.prototype,{Kg:{get:function(){return "queue-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{gG:{get:function(){return "qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return k.aa;},enumerable:!1,configurable:!0}});f.prototype.Fm=function(d){var h,m,p;d=d.kj;if(d === g.ue.rq || d === g.ue.yp)if(d=this.Na.xsa()){m={};try{for(var l=c.__values(d.zZb),n=l.next();!n.done;n=l.next()){p=n.value;m[p.mediaType]=this.pUb(p);}}catch(t){var r;r={error:t};}finally{try{n && !n.done && (h=l.return) && h.call(l);}finally{if(r)throw r.error;}}return {branchQueue:b.j2a(d.l0b),playerIterator:m,driftStats:this.Na.nDa};}};f.prototype.pUb=function(d){return null === d || void 0 === d?void 0:d.g3a();};return f;})();b.jPa=q;b.Csa=function(f){var d,h;if(f){d=f.G;h={};f.zq().forEach(function(m){h[m.mediaType]=b.L3a(m);});return {sId:null === d || void 0 === d?void 0:d.id,cancelled:f.Vh,RM:h};}return f;};b.L3a=function(f){var d,h,m;if(f && f.eb)return c.__assign(c.__assign({},f.eb.uta()),{unsentRequests:f.eb.Gu,lastFragmentContentEndPts:null === (d=f.ag) || void 0 === d?void 0:d.Uc,trackAttributes:null === (h=f.track) || void 0 === h?void 0:h.Gm(),bitrate:null === (m=f.ag) || void 0 === m?void 0:m.bitrate});};b.j2a=function(f){return f.map(function(d){return b.Csa(d);});};},function(q,b,a){var c,k,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.rpa=b.Rq=b.y4a=b.Dib=void 0;c=a(8);k=a(4);g=a(15);b.Dib=function(d,h){d=d.P[h.ea];if(void 0 === d)return {AQ:!1,reason:"Segment " + h.ea + " was not found"};if(0 > h.offset.V)return {AQ:!1,reason:"Offset " + h.offset.V + " was negative"};if(void 0 === d.za || null === d.za || Infinity === d.za)return {AQ:!0};d=d.za - d.ya;return h.offset.V >= d?{AQ:!1,reason:"Offset " + h.offset.V + " was greater than segment duration " + d}:{AQ:!0};};f=c.O.Sa(100);b.y4a=function(d,h){if(d === h)return !0;if(d && h && d.ea === h.ea){if(d.offset === h.offset)return !0;d=c.O.abs(d.offset.Ia(h.offset));if(f.greaterThan(d))return !0;}return !1;};b.Rq=function(d,h,m){var l,n,p,r;p=h.va;h=h.LQb;void 0 === m && (m={});r=p.la;p=p.navigator;r=p.kf(null !== (l=null === h || void 0 === h?void 0:h.id) && void 0 !== l?l:r.xe);l=null !== (n=null === h || void 0 === h?void 0:h.U2b) && void 0 !== n?n:r.Yd;if(l.greaterThan(d))return m.ifb?{offset:d.Ia(l),ea:r.id}:void 0;h=p.oSb(r);for(p=h.next();!p.done;){n=p.value;p=n.Ng.Ia(n.Yd);r=l;l=r.add(p);if(l.greaterThan(d))return (d=d.Ia(r),g.aa && k.assert(d.ms(c.O.ib) && d.lessThan(p)),{ea:n.id,offset:d});p=h.next();if(p.done && m.jfb)return {ea:n.id,offset:d.Ia(r)};}};b.rpa=function(d,h){h=h.P[d.ea];return d.offset.lessThan(c.O.ib)?{s9:c.O.ib,nq:d.offset}:h.za && (h=c.O.Sa(h.za - h.ya),h.isFinite() && d.offset.greaterThan(h))?{s9:h,nq:d.offset.Ia(h)}:{s9:d.offset,nq:c.O.ib};};},function(q,b,a){var k,g,f;function c(d){return 0 === d.length || void 0 === d[0].parent && d.every(function(h,m){return 0 === m || f.Ko(d,function(l){return l.value === h.parent;}) < m;});}Object.defineProperties(b,{__esModule:{value:!0}});b.Lbb=b.Jka=void 0;a(1);k=a(482);g=a(4);f=a(25);q=(function(){function d(){this.N=new k.ika();}Object.defineProperties(d.prototype,{empty:{get:function(){return !this.QC;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{root:{get:function(){var h;return null === (h=this.QC) || void 0 === h?void 0:h.value;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{values:{get:function(){var h;h=[];this.IP(function(m){return ! !h.push(m);});return h;},enumerable:!1,configurable:!0}});d.prototype.has=function(h){return ! !this.N.get(h);};d.prototype.parent=function(h){var m;h=this.N.get(h);g.assert(h,"Attempted to find the parent of a node not in the tree");return null === (m=h.parent) || void 0 === m?void 0:m.value;};d.prototype.children=function(h){h=this.N.get(h);g.assert(h,"Attempted to find the children of a node not in the tree");return h.children?h.children.map(function(m){return m.value;}):[];};d.prototype.$ta=function(h){h=this.N.get(h);g.assert(h,"Attempted to find the children of a node not in the tree");return void 0 !== h.children && 0 < h.children.length;};d.prototype.add=function(h,m){var l;g.assert(!this.N.get(h),"Attempted to add a value to tree that is already present");l={value:h};void 0 === this.QC?(g.assert(void 0 === m,"a parent cannot be specified when the tree is empty"),this.QC=l):(g.assert(void 0 !== m,"a parent must be specified when the tree is non-empty"),m=this.N.get(m),g.assert(m,"Parent value does not exist in tree"),this.jWa(l,m));this.N.set(h,l);return this;};d.prototype.remove=function(h){h=this.N.get(h);g.assert(h,"Attempted to remove a node not in the tree");this.removeNode(h);return this;};d.prototype.removeNode=function(h){var m;m=this;this.dsa(function(l){return m.N.delete(l);},h.value);void 0 === h.parent?this.QC=void 0:this.detach(h);};d.prototype.move=function(h,m){h=this.N.get(h);m=this.N.get(m);g.assert(h,"cannot move a value that is not in the tree");g.assert(m,"cannot move a value to a parent value not in the tree");g.assert(h.parent,"cannot move the root node");g.assert(!this.hRb(h,m),"cannot move a node below itself or one of its decendants");h.parent !== m && (this.detach(h),this.jWa(h,m));return this;};d.prototype.C1b=function(h){var m,l;m=this;h=this.N.get(h);g.assert(h,"cannot replant at a value that is not in the tree");l=[];this.detach(h);this.dsa(function(n){m.N.delete(n);l.unshift(n);return !0;});this.QC=h;};d.prototype.clear=function(){this.QC && this.remove(this.QC.value);return this;};d.prototype.B1a=function(h,m){var l,n;l=this;h=this.N.get(h);g.assert(h,"cannot iterate children of a value not in the tree");null === (n=h.children) || void 0 === n?void 0:n.forEach(function(p){return m(p.value,l);});};d.prototype.IP=function(h,m,l){var n;n=this;void 0 === l && (l=0);g.assert(!this.empty || void 0 === m,"cannot iterate from a value on an empty tree");this.empty || (m=null !== m && void 0 !== m?m:this.QC.value,h(m,this,l) && this.B1a(m,function(p){return n.IP(h,p,l + 1);}));};d.prototype.dsa=function(h,m){var l;l=this;g.assert(!this.empty || void 0 === m,"cannot iterate from a value on an empty tree");this.empty || (m=null !== m && void 0 !== m?m:this.QC.value,this.B1a(m,function(n){return l.dsa(h,n);}),h(m,this));};d.prototype.v0b=function(h){var m,l,n;m=this;g.assert(c(h),"entries must be in topological order");if(0 === h.length){l=this.values;n=[];this.clear();}else (n=h.filter(function(p){return m.has(p.value) && p.parent !== m.parent(p.value);}),l=this.values.filter(function(p){return -1 === f.Ko(h,function(r){return r.value === p;});}),this.clear(),h.forEach(function(p){return m.add(p.value,p.parent);}));return {ER:l,Wcb:n};};d.prototype.jWa=function(h,m){var l;h.parent=m;(null !== (l=m.children) && void 0 !== l?l:m.children=[]).push(h);};d.prototype.detach=function(h){var m;g.assert(h.parent,"cannot detach the root");g.assert(void 0 !== h.parent.children,"logic error: parent node does not have children");m=h.parent.children.indexOf(h);g.assert(0 <= m,"logic error: node does not appear in the children of its parent");h.parent.children.splice(m,1);h.parent=void 0;};d.prototype.hRb=function(h,m){for(;void 0 !== m;){if(m === h)return !0;m=m.parent;}return !1;};return d;})();b.Jka=q;b.Lbb=function(d,h){var m;m="";d.IP(function(l,n,p){m+="" + Array(p + 1).join("-") + h(l) + "\n";return !0;});return m;};},function(q,b){var k,g,f;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.KRa);}function c(d){return (a(d)?d:Object.defineProperties(d,{KRa:{value:{},configurable:!1,enumerable:!1}})).KRa;}Object.defineProperties(b,{__esModule:{value:!0}});b.ika=void 0;g=null !== (k=Number.MAX_SAFE_INTEGER) && void 0 !== k?k:1E9;f=Date.now() % g;q=(function(){function d(){this.id=f=(f + 1) % g;}d.prototype.get=function(h){return a(h)?c(h)[this.id]:void 0;};d.prototype.set=function(h,m){c(h)[this.id]=m;return this;};d.prototype.has=function(h){return a(h) && void 0 !== c(h)[this.id];};d.prototype.delete=function(h){if(!this.has(h))return !1;c(h)[this.id]=void 0;return !0;};return d;})();b.ika=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.nja=void 0;c=a(1);q=(function(){function k(g){this.va=g;this.Eea();}Object.defineProperties(k.prototype,{xda:{get:function(){return this.kub;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Chb:{get:function(){return this.va().la;},enumerable:!1,configurable:!0}});k.prototype.Eea=function(){var g,f;g=this;if(this.va()){f=this.va().la;this.kub=c.__assign(c.__assign({},f),{P:new Proxy(f.P,{get:function(d,h){var m;d=f.P[h];if(!d)return d;m=g.ENb(h);return m?(h=m.Byb(),c.__assign(c.__assign(c.__assign({},h),d),{ya:h.ya,za:h.za})):f.P[h];}})});}};k.prototype.ENb=function(g){var f;f=this.va().navigator;return f.Q4a(g)?f.kf(g):void 0;};return k;})();b.nja=q;},function(q,b,a){var c,k,g,f,d,h,m,l,n;Object.defineProperties(b,{__esModule:{value:!0}});b.hia=void 0;c=a(1);k=a(47);g=a(21);f=c.__importDefault(a(5));d=a(71);h=a(480);m=a(4);l=a(1136);n=a(15);q=(function(){function p(r,t){this.$N=r;this.nla=t;this.console=new f.default.Console("GRAPHLOCATIONSERVICE");this.uh=new d.fv({Oq:this,source:"GraphLocation",console:this.console});}Object.defineProperties(p.prototype,{parent:{get:function(){return this.$N();},enumerable:!1,configurable:!0}});p.prototype.kP=function(r){var t,w,v;this.console.trace("downConverting",r);t=this.parent;w=this.nla;v=w.xda;if(t === w.Chb)return r;if(v.P[r.ea])return (t.P[r.ea] || n.aa && this.console.warn("Received a down converted position unexpectedly",r,Error().stack),r);w=h.rpa(r,t);r=k.Aib(t,v,{offset:w.s9.V,G:r.ea});r={offset:w.nq.add(g.O.Sa(r.offset)),ea:r.G};this.console.trace("downConverting ret:",r);return r;};p.prototype.mH=function(r){var t,w,v;this.console.trace("upConverting",r);t=this.parent;w=this.nla;v=w.xda;if(t === w.Chb)return r;if(t.P[r.ea])return (v.P[r.ea] || n.aa && this.console.warn("Received a up converted position unexpectedly",r,Error().stack),r);w=h.rpa(r,v);r=k.nYa(t,v,{offset:w.s9.V,G:r.ea});r={offset:w.nq.add(g.O.Sa(r.offset)),ea:r.G};this.console.trace("upConverting ret:",r);return r;};p.prototype.NMb=function(r){var t;t=k.w2a(this.parent,this.nla.xda,{G:r.ea,offset:r.offset.V});t=l.s7a(t);m.assert(t,"Could not find any segments in the path of " + r);return t;};c.__decorate([d.Hb({methodName:"downConvertPosition",Ul:!0,Jo:!0,return:!0})],p.prototype,"kP",null);c.__decorate([d.Hb({methodName:"upConvertPosition",Ul:!0,Jo:!0,return:!0})],p.prototype,"mH",null);return p;})();b.hia=q;},function(q,b,a){var k,g,f,d;function c(h,m){return m && !Array.isArray(m) && -1 === m.P0a.indexOf(h)?m.rules:[];}Object.defineProperties(b,{__esModule:{value:!0}});b.Ypa=void 0;k=a(1);q=a(13);g=a(199);f=a(478);d=(function(h){function m(l,n){var p;p=h.call(this) || this;p.nUb=l;p.V5a=n;p.Jla={};return p;}k.__extends(m,h);m.prototype.emit=function(l){for(var n=[],p=1;p < arguments.length;p++){n[p - 1]=arguments[p];}return h.prototype.emit.call(this,l,this.nUb(l,n[0]));};m.prototype.subscribe=function(l){var n,p;n=this;if(!this.listeners(l).length){p=function(){for(var r=[],t=0;t < arguments.length;t++){r[t]=arguments[t];}return n.emit.apply(n,k.__spread([l],r));};this.Jla[l]=p;this.V5a.addListener(l,p);}};m.prototype.addListener=function(l,n){this.subscribe(l);h.prototype.addListener.call(this,l,n);return this;};m.prototype.removeListener=function(l,n){h.prototype.removeListener.call(this,l,n);this.listeners(l).length || (this.V5a.removeListener(l,this.Jla[l]),delete this.Jla[l]);return this;};m.prototype.on=function(l,n){this.addListener(l,n);return this;};m.prototype.zC=function(l,n){this.removeListener(l,n);return this;};m.prototype.once=function(l,n){var r;function p(){for(var t=[],w=0;w < arguments.length;w++){t[w]=arguments[w];}r.removeListener(l,p);n.apply(void 0,k.__spread(t));}r=this;this.addListener(l,p);return this;};m.prototype.i1=function(l,n){this.subscribe(l);h.prototype.i1.call(this,l,n);return this;};m.prototype.Gbb=function(l,n){var r;function p(){for(var t=[],w=0;w < arguments.length;w++){t[w]=arguments[w];}r.removeListener(l,p);n.apply(void 0,k.__spread(t));}r=this;this.i1(l,p);return this;};return m;})(q.EventEmitter);b.Ypa=function(h,m,l,n){return new d(function(p,r){var t,w;w=c(p,n["*"]);p=null !== (t=n[p]) && void 0 !== t?t:[];t=w.concat(p).filter(function(v){return "object" === typeof v;});w=k.__read(p.filter(function(v){return "function" === typeof v;}),1)[0];return t.length?f.Yea(h,r,l,{rules:t,jo:!1,Ona:!0},g.Lx.HCa,w):r;},m);};},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.MDa=void 0;c=a(34);q=(function(){function k(g){this.r8=g;}Object.defineProperties(k.prototype,{id:{get:function(){return this.r8.id;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{startTime:{get:function(){return c.O.Sa(this.r8.ya);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{endTime:{get:function(){return c.O.Sa(this.r8.za);},enumerable:!1,configurable:!0}});return k;})();b.MDa=q;},function(q,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Upa=void 0;c=a(136);k=a(1156);b.Upa=function(g,f){var d;g=f(g);d=new k.EFa(g,c.qz.rAa.PR);return c.qz.qza(g,d,function(){return d.Jva;});};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.RQa="TransitionLoggerSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.rGa="DiagnosticsFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.PMa="PboGenerateScreenshotsCommandSymbol";},function(q){q.exports=function(b){return "[object Object]" === Object.prototype.toString.call(b);};},function(q,b,a){var c,k,g,f,d,h;b=a(57);c=a(493);k=a(1174);g=a(491);f=a(292);d=a(1179);h=a(496);a=b(c(["filter"],d,function(m,l){return g(l)?f(function(n,p){m(l[p]) && (n[p]=l[p]);return n;},{},h(l)):k(m,l);}));q.exports=a;},function(q,b,a){var c,k;c=a(494);k=a(1173);q.exports=function(g,f,d){return function(){var h,m;if(0 === arguments.length)return d();h=Array.prototype.slice.call(arguments,0);m=h.pop();if(!c(m)){for(var l=0;l < g.length;){if("function" === typeof m[g[l]])return m[g[l]].apply(m,h);l+=1;}if(k(m))return f.apply(null,h)(m);}return d.apply(this,arguments);};};},function(q){q.exports=Array.isArray || (function(b){return null != b && 0 <= b.length && "[object Array]" === Object.prototype.toString.call(b);});},function(q){q.exports={xa:function(){return this.R3["@@transducer/init"]();},result:function(b){return this.R3["@@transducer/result"](b);}};},function(q,b,a){var c,k,g,f,d;b=a(137);c=a(291);k=a(1180);g=!({toString:null}).propertyIsEnumerable("toString");f=("constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString").split(" ");d=(function(){return arguments.propertyIsEnumerable("length");})();a=b("function" !== typeof Object.keys || d?function(h){var m,l,n,p;if(Object(h) !== h)return [];m=[];l=d && k(h);for(n in h){!c(n,h) || l && "length" === n || (m[m.length]=n);}if(g)for(l=f.length - 1;0 <= l;){n=f[l];if(p=c(n,h)){a:{for(p=0;p < m.length;){if(m[p] === n){p=!0;break a;}p+=1;}p=!1;}p=!p;}p && (m[m.length]=n);--l;}return m;}:function(h){return Object(h) !== h?[]:Object.keys(h);});q.exports=a;},function(q){q.exports=function(b,a){for(var c=0,k=a.length,g=Array(k);c < k;){g[c]=b(a[c]);c+=1;}return g;};},function(q,b,a){var c,k,g;c=a(293);k=a(137);b=a(57);g=a(1183);a=b(function(f,d){return 1 === f?k(d):c(f,g(f,[],d));});q.exports=a;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.bIa="HLSPlaylistBuilderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.eOa="PlayerPlaydataMonitorSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Aka="StreamChangeDetectorSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.iU="HLSLogblobMonitorFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.oIa="HeaderFetcherSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.yIa="HttpDispatcherSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.sIa="HLSHeaderParserFactorySymbol";},function(q){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,k){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),k * a.byteLength / a.length);}:function(a,c,k){a.set(c,k);};q.exports={from:function(a,c,k,g){a=new a(c.length);for(var f="function" === typeof k,d=0;d < c.length;++d){a[d]=f?k.call(g,c[d],d,c):c[d];}return a;},set:b};},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=(function(k){function g(){var f;f=null !== k && k.apply(this,arguments) || this;f.Gi=1536;return f;}c.__extends(g,k);g.wa=!0;return g;})(a(202).default);b.default=q;a=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.Xa="ac-3";return g;})(q);b.$S=a;q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.Xa="ec-3";return g;})(q);b.ET=q;},function(q,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);k=a(111);q=a(29);g=k.av;q=(function(f){function d(){return null !== f && f.apply(this,arguments) || this;}c.__extends(d,f);d.prototype.parse=function(){this.tb();this.fileSize=this.l.xc();this.I=this.l.xc();this.duration=this.l.xc(!1,!0);this.u0=this.l.xc();this.l.xc();this.y0=this.l.xc();this.m0=this.l.ba();this.v0=this.l.xc();this.MY=this.l.ba();this.l.Yq();this.gd={moof:{offset:this.u0},sidx:{offset:this.v0,size:this.MY}};this.gd[k.GD]={offset:this.y0,size:this.m0};this.l.offset - this.startOffset <= this.length - 24 && (this.x0=this.l.xc(),this.i0=this.l.ba(),this.w0=this.l.xc(),this.h0=this.l.ba(),this.gd[k.Hp]={offset:this.x0,size:this.i0},this.gd[k.Gp]={offset:this.w0,size:this.h0});return !0;};d.Xa=g;d.wa=!1;return d;})(q.yb);b.default=q;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=a(111);a=a(29);k=q.bv;a=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}c.__extends(f,g);f.prototype.parse=function(){var d,l,n;this.tb();1 <= this.version && this.l.Yq();d=this.l.ba();this.gd={};for(var h=this.startOffset + this.length,m=0;m < d;++m){l=this.l.rh();"uuid" === l && (l=this.l.Yq());n=this.l.xc();this.gd[l]={offset:h,size:n};h+=n;}return !0;};f.Xa=k;f.wa=!1;return f;})(a.yb);b.default=a;},function(q){var b,a,c,k;b={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,pg:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,pg:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,pg:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};k={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,pg:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};q.exports={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":k},reset:{"heaac-2-dash":b,"heaac-2hq-dash":b},"heaac-2-dash":b,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":k};},function(q,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);k=a(29);g=a(94);q=(function(f){function d(h,m,l,n,p){l=f.call(this,l,n,p) || this;l.YW=h;l.Ik=m;l.Ba={};return l;}c.__extends(d,f);d.prototype.parse=function(h){var m,l,n,p,r,t;this.offset=0;m=[];for(h=h || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){l=this.offset;n=this.ba();if(0 === n)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};p=g.Uk(this.ba());if(null === p)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === p){if(16 > this.view.byteLength - this.offset)break;p=this.Yq();}if(0 === m.length && this.Ik.uF(p,l,n))break;if(l + n > this.view.byteLength)break;r=this.YW[p];t=void 0;if(r){if((t=new r(this,p,l,n,m[0]),(m[0] || this).xm(t),t.parse(h)))this.config.Mw && r.wa?m.unshift(t):this.offset=l + n;else return {done:!1,offset:this.offset,error:"parse error in " + p + " box"};}else this.offset=l + n;for(;m.length && this.offset > m[0].byteOffset + m[0].Li - 8;){t=m.shift();if(!t.Nn(h))return {done:!1,offset:this.offset,error:"finalize error in " + t.type + " box"};this.offset=t.byteOffset + t.Li;}if(0 === m.length && this.Ik.fF(p,l,n,t))break;}return !this.Ik.done && (h=this.Ik.endOffset?this.Ik.endOffset - this.view.byteLength:4096,0 < h)?{done:!1,offset:this.offset,iG:h}:{done:!0,offset:Math.min(this.Ik.endOffset || Infinity,this.offset)};};d.prototype.xm=function(h){k.yb.xm(this,h);};return d;})(a(1220).SU);b.Ru=q;},function(q,b,a){var k;function c(g,f){g=f.indexOf(g);-1 !== g && f.splice(g,1);}Object.defineProperty(b,"__esModule",{value:!0});k=a(111);q=(function(){function g(f){this.endOffset=f;this.done=!1;}g.prototype.uF=function(){return this.done;};g.prototype.fF=function(f,d,h){return this.done=d + h >= this.endOffset;};return g;})();b.vD=q;q=(function(){function g(f,d,h,m){void 0 === d && (d=[]);void 0 === h && (h=[]);void 0 === m && (m=!1);this.Me=f;this.oq=d;this.cH=h;this.pG=m;this.done=!1;this.gd={};}g.prototype.uF=function(f,d,h){-1 !== g.KZ.indexOf(f) && (this.gd[f]={offset:d,size:h});if(-1 !== this.cH.indexOf(f)){if((this.gd[f]={offset:d,size:h},this.pG))this.endOffset=d + h;else return (this.endOffset=d,this.done=!0);}else this.Me && -1 !== this.Me.indexOf(f)?(f=1 < this.Me.length?4096:0,this.endOffset=Math.max(d + h + f,this.endOffset || 0)):-1 !== this.oq.indexOf(f) && (f=this.Me?4096:0,this.endOffset=Math.max(d + h + f,this.endOffset || 0));return this.done;};g.prototype.fF=function(f,d,h,m){var l;l=this;if(-1 !== this.cH.indexOf(f))return this.done=!0;f === k.av && this.PG(m.gd);f === k.bv && this.PG(m.gd);this.Me && c(f,this.Me);c(f,this.oq);return this.Me && 0 === this.Me.length && !this.oq.some(function(n){return l.gd[n];})?this.done=!0:this.done;};g.prototype.PG=function(f){var d;d=this;this.gd=f;this.endOffset=(this.Me || []).concat(this.oq).reduce(function(h,m){return d.gd[m]?(m=d.gd[m],Math.max(m.offset + (m.size || 4096),h)):h;},this.endOffset || 0);};g.KZ=["moov","sidx"];return g;})();b.ZT=q;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.dIa="HLSPlaylistTransformerSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.rFa="CdnPartitionerSymbol";},function(q,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Sha=void 0;k=a(45);c.Ft=function(){var g;g={};return (g[k.ke.IH]="mp4a.40.2",g[k.ke.i5]="mp4a.40.2",g[k.ke.JH]="mp4a.40.2",g[k.ke.yA]="mp4a.40.42",g[k.ke.yT]="ec-3",g[k.ke.r4]="ec-3",g[k.ke.zT]="ec-3",g);};b.Sha=c;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kbc="LogblobBuilderSymbol";b.fU="HLSLogblobBuilderFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.FQa="ThroughputTrackerConfigSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.IQa="ThroughputTrackerSymbol";b.GQa="ThroughputTrackerFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.AHa="ExtraPlatformInfoProviderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.lFa="CapabilityDetectorFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.pEa={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(q,b,a){var k,g,f,d,h,m;function c(l,n,p){p=g.CH.call(this,l,n,k.oi.Audio,p) || this;p.config=l;p.lk=n;p.type=k.Ax.Fx;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.F4=void 0;k=a(30);g=a(523);f=a(129);q=a(131);d=a(515);h=a(312);m=new q.jI().format;na(c,g.CH);c.prototype.M2=function(){var l;l=m(c.fga,f.$d.hlb);return Promise.resolve(this.config().tP && this.lk.isTypeSupported(l));};c.prototype.Ft=function(){return d.Sha.Ft();};c.prototype.U3a=function(){return this.config().jJ;};c.prototype.DY=function(l){return this.config().sYb?Promise.resolve(new h.f6(l,l.map(function(){return {supported:!0};}))):g.CH.prototype.DY.call(this,l);};b.F4=c;c.fga="audio/mp4;codecs={0};";},function(q,b,a){var k,g,f,d,h;function c(m,l,n,p){this.config=m;this.lk=l;this.mediaType=n;this.rC=p;this.bxa={};this.bxa[k.oi.Audio]="audio";this.bxa[k.oi.oRa]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.CH=void 0;k=a(30);q=a(131);g=a(311);f=a(11);d=a(312);h=new q.jI().format;c.prototype.n4a=function(m){return this.PGb(this.HNb(this.U3a(),m));};c.prototype.rJ=function(m){return this.lk.isTypeSupported(m);};c.prototype.ULb=function(){return [g.Vg.Lga,g.Vg.Vmb,g.Vg.JT];};c.prototype.RQb=function(){this.Ds=[];this.uz=[];this.config().uYb && this.uz.push(g.Vg.yA);this.config().vab && this.uz.push(g.Vg.$Ha);this.config().uab && this.uz.push(g.Vg.ZHa);this.config().tab && this.uz.push(g.Vg.Ex);this.config().bL && this.uz.push(g.Vg.oD);this.config().wab && this.uz.push(g.Vg.VD);this.config().sab && this.uz.push(g.Vg.lm);this.uz=this.uz.concat(this.ULb());!this.config().EIb && this.Ds.push(g.Vg.yA);!this.config().k0a && this.Ds.push(g.Vg.ilb);!this.config().j0a && this.Ds.push(g.Vg.jlb);!this.config().tP && this.Ds.push(g.Vg.klb);!this.config().rIb && this.Ds.push(/prk$/);this.config().tab || this.config().dIb || this.Ds.push(g.Vg.Ex);this.config().vab || this.config().fIb || this.Ds.push(g.Vg.$Ha);this.config().uab || this.config().ara || this.Ds.push(g.Vg.ZHa);this.config().bL || this.config().rP || this.Ds.push(g.Vg.oD);this.config().wab || this.config().BIb || this.Ds.push(g.Vg.VD);this.config().sab || this.config().ZHb || this.Ds.push(g.Vg.lm);!this.config().zIb && this.Ds.push(g.Vg.MU);};c.prototype.HNb=function(m,l){var n;n=f.$e.hardwareConcurrency && f.$e.hardwareConcurrency;return m.filter(function(p){return void 0 !== p.minimumCores && n < p.minimumCores || void 0 !== p.restrictToUILabels && (void 0 === (null === l || void 0 === l?void 0:l.ze) || !p.restrictToUILabels.includes(l.ze))?!1:!0;}).map(function(p){return p.name;});};c.prototype.DY=function(m){var l,n;l=this;n=m.map(function(p){for(var r=ra(l.uz),t=r.next();!t.done;t=r.next()){if(t.value.test(p))return Promise.resolve({supported:!0});}r=ra(l.Ds);for(t=r.next();!t.done;t=r.next()){if(t.value.test(p))return Promise.resolve({supported:!1,reason:"excluded"});}return l.Hy(p).catch(function(){return {supported:!1,reason:"exception"};});});return Promise.all(n).then(function(p){return new d.f6(m,p);});};c.prototype.Hy=function(m){return this.config().oIb?this.rC.Hy(m):this.MJb(m);};c.prototype.MJb=function(m){var l;m=this.p1[m];l="";return m?(Array.isArray(m) && (l=1 < m.length?" " + m[1]:"",m=m[0]),m=h("{0}/mp4;codecs={1};{2}",this.bxa[this.mediaType],m,l),this.rJ(m)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"can-present-type"})):Promise.resolve({supported:!1,reason:"no-codec-info"});};c.prototype.PGb=function(m){this.RQb();return this.DY(m);};Ya.Object.defineProperties(c.prototype,{p1:{configurable:!0,enumerable:!0,get:function(){this.$Ta || (this.$Ta=this.Ft());return this.$Ta;}}});b.CH=c;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.RKa="MediaCapabilitiesDetectorSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.VKa="MediaCapabilitiesSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.UKa="MediaCapabilitiesLogHelperSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.MOa="PresentationAPISymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.G5="IndexedDBConfigSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.TJa="LocalStorageSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.rLa="MemoryStorageSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.EEa="BookmarkSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.CEa="BookmarkConfigSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.BEa="BookmarkConfigParserSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.VEa="CDMAttestedDescriptorProvider";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.GKa="ManifestProviderConfigSymbol";},function(q,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Dka=void 0;k=a(11);c.T3a=function(){var g;g=k.Px && k.Px.height;return g?1080 <= g?1080:720:720;};b.Dka=c;},function(q,b,a){var k;function c(g){this.log=g;}Object.defineProperty(b,"__esModule",{value:!0});b.nU=void 0;k=a(538);c.prototype.ihb=function(g,f){var d,h;d=this;if(!g)return (this.log.warn("There are no media streams for " + f.type + " track - " + f.trackId),[]);h=g.map(function(m){var l,n,p,r,t,w,v,u;u=new k.MediaStream(f,f.type,m.pq,m.bitrate,m.nb,m.size,d.dMb(m.urls),m.AJ,m.T1a / m.S1a,m.Fj,m.Nj);u.d4b(m.ldb,m.eAa,m.Yab,m.Xab);u.u3b(null !== (l=m.GFb) && void 0 !== l?l:void 0,null !== (n=m.HFb) && void 0 !== n?n:void 0,null !== (p=m.FFb) && void 0 !== p?p:void 0,null !== (r=m.EFb) && void 0 !== r?r:void 0,null !== (t=m.Yab) && void 0 !== t?t:void 0,null !== (w=m.Xab) && void 0 !== w?w:void 0);f.Bm && (u.Bm=f.Bm);m.JJ && (u.JJ=null !== (v=m.JJ) && void 0 !== v?v:void 0);m.AJ && (u.ef=m.AJ);return u;});h.sort(function(m,l){return m.bitrate - l.bitrate;});h.forEach(function(m,l){m.lower=h[l - 1];m.Mgc=h[l + 1];});return h;};c.prototype.dMb=function(g){return g.reduce(function(f,d){f[d.hq]=d.url;return f;},{});};b.nU=c;},function(q,b,a){var k,g,f;function c(d,h,m,l,n,p,r,t,w,v,u){this.track=d;this.type=h;this.Ec=m;this.bitrate=l;this.nb=n;this.size=p;this.Sv=r;this.ef=t;this.framerate=w;this.Fj=v;this.Nj=u;this.Lh={Type:h,Bitrate:l,DownloadableId:m};}Object.defineProperty(b,"__esModule",{value:!0});b.alb=b.MediaStream=void 0;k=a(16);g=a(14);f=a(96);c.prototype.toJSON=function(){return this.Lh;};c.prototype.d4b=function(d,h,m,l){(0,g.Gd)(d) && (0,g.Gd)(h) && (this.width=d,this.height=h,(0,g.Oa)(m) && (0,g.Oa)(l) && (this.width=Math.round(m / l * d)),this.Lh.Resolution=(this.width || "") + ":" + (this.height || ""));};c.prototype.u3b=function(d,h,m,l,n,p){(0,g.Gd)(d) && (0,g.Gd)(h) && (0,g.Gd)(m) && (0,g.Gd)(l) && (this.fqa=d,this.CZa=h,this.BZa=m,this.AZa=l);(0,g.Gd)(n) && (0,g.Gd)(p) && (this.Zab=n,this.$ab=p);};b.MediaStream=c;b.alb=function(d,h,m,l,n){if(d == k.J5 || d === f.uj.audio)return h;if(d == k.kU || d === f.uj.video)return m;if(d == f.uj.Sfa)return l;if(d == f.uj.xCa)return n;};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.gOa="PlayerTextTrackFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.VQa="TrickPlayFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.KKa="ManifestVerifyErrorFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.VMa="PboLinksManagerSymbol";b.TMa="PboLinksManagerFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.CKa="ManifestEnricherSymbol";},function(q){q.exports=function(){var b;for(b=0;b < arguments.length;b++){if("undefined" !== typeof arguments[b] && null !== arguments[b])return arguments[b];}return null;};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.lja="MslReadyNotifierSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.mGa="DeviceIdGeneratorSymbol";},function(q,b){function a(c,k,g){if(null != g){if(0 < g(c,k))throw a.pZa(c,k);}else if(c.zm && 0 < c.zm(k))throw a.pZa(c,k);this.start=c;this.end=k;}Object.defineProperty(b,"__esModule",{value:!0});b.lka=void 0;a.pZa=function(c,k){return new RangeError("end [" + k + "] must be >= start [" + c + "]");};b.lka=a;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.pGa="DeviceProviderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.FMa="PboBindDeviceCommandSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.kKa="LogblobSenderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.tLa="MessageQueueSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.XMa="PboLogblobCommandSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.lRa="UuidProviderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.JDa="AppLogSinkSymbol";},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t,w,v,u,x,y,z,A,B,D,C,F;function c(G,E,I,K,L,H,P,N,J,M,O,Q,T,V,da,pa,xa,ya,sa,X){var S;S=this;this.j=G;this.Fa=E;this.Cgb=I;this.Cg=K;this.Ywa=L;this.Bra=H;this.Qe=P;this.h$=N;this.Bf=J;this.config=M;this.Zd=O;this.La=Q;this.Ma=T;this.Cs=V;this.hC=da;this.Jj=pa;this.fw=xa;this.OK=ya;this.Jc=sa;this.ZF=X;this.Z2=[];this.ixa=this.MF=this.N1=0;this.lP=[];this.Bna=!1;this.XG=function(R){var W,ia,za,Ra,Fa,$a;ia={};try{ia={playdelaysdk:(0,n.xg)(S.j.hX()),applicationPlaydelay:(0,n.xg)(S.j.Roa()),playdelay:(0,n.xg)(S.j.Toa()),trackid:S.j.Lk,bookmark:(0,n.xg)(S.j.xy || 0),pbnum:S.j.index,endianness:(0,d.N2a)()};S.config().CIb && (ia.transitiontime=S.j.mo,ia.uiplaystarttime=S.j.ob.GS,ia.playbackrequestedat=S.j.Ij.ia(p.sa),ia.clockgettime=S.getTime(),ia.clockgetpreciseepoch=S.La.Nf.ia(p.sa),ia.clockgetpreciseappepoch=S.Ma.fC.ia(p.sa),ia.absolutestarttime=S.j.VJ(),ia.relativetime=S.j.W3a());S.caa(ia,"startplay");}catch(Ta){S.log.error("error in startplay log fields",Ta);}S.j.ej && (ia.blocked=S.j.ej);S.Jc.x5a(ia);(0,y.Oa)(S.j.NWa) && (ia.bookmarkact=(0,n.xg)(S.j.NWa));za=S.j.Hd.at && S.j.Hd.ats?S.j.Hd.at - S.j.Hd.ats:void 0;za && (ia.nccpat=za);(za=S.j.Hd.lr && S.j.Hd.lc?S.j.Hd.lr - S.j.Hd.lc:void 0) && (ia.nccplt=za);(za=S.j.Hd.lc && S.j.Hd.lg?S.j.Hd.lc - S.j.Hd.lg:void 0) && (ia.lct=za);(za=S.kY()) && (ia.downloadables=za);pb._cad_global.device && (0,y.Gd)(pb._cad_global.device.x$) && (ia.esnSource=pb._cad_global.device.x$);(0,n.Ke)(ia,S.Cs,{prefix:"pi_"});S.j.fq && S.j.fq.initBitrate && (ia.initvbitrate=S.j.fq.initBitrate);S.j.fq && S.j.fq.selector && (ia.selector=S.j.fq.selector);ia.fullDlreports=S.lib;if(S.j.state.value >= x.qc.Re)try{Ra=S.j.Mv();if(Ra){S.maxBitrate=(0,d.gT)(Ra.map(function(Ta){return Ta.bitrate;}));S.c9a=(0,d.gT)(Ra.map(function(Ta){return Ta.height;}));Fa=0 < Ra.length?(0,C.B4a)(function(Ta,Xa){return Ta.height === Xa.height;},Ra).map(function(Ta){return (0,z.Pwa)(Ta,function(Xa){return Xa.bitrate;});}):void 0;ia.maxbitrate=S.maxBitrate;ia.maxresheight=S.c9a;}}catch(Ta){S.log.error("Exception computing max bitrate",Ta);}try{$a=(0,d.dK)();$a && (ia.pdltime=$a);}catch(Ta){}try{(0,n.Ke)(ia,S.j.Hd,{prefix:"sm_"});(0,n.Ke)(ia,S.j.Oaa(),{prefix:"vd_"});}catch(Ta){}R && S.j.Zw && (ia.pssh=S.j.Zw);S.B5a(S.j,ia);ia.avtp=S.$L.Yo().lCa;(null === (W=S.j.Ra) || void 0 === W?0:W.bE) && S.pba(ia);if(S.j.Cc.value)try{ia.ttTrackFields=S.j.Cc.value.Lh;}catch(Ta){}S.Jc.t5a(ia,S.j.Nc.value,S.Fa);S.Jc.nQ(ia,!0,S.j.Ug.value,S.Fa);S.j.pa && (ia.packageId=S.j.pa.Tb.Pq);S.j.pa && S.j.pa.Tb.Mo && (ia.hasChoiceMap=!0);S.ASb(Fa);S.zSb();R && (S.Hua(ia),S.Jua(ia));S.v5a(S.j,ia);S.pK(S.j,ia);S.qK(S.j,ia);S.IF(S.j,ia,S.Bna);S.TZ(S.j,ia);S.rQb(S.j,ia);S.Iua(ia);S.Lua(ia);S.Jc.mQ(ia);S.u5a(ia);S.Jc.qba(ia,S.Fa);S.Kua(ia);S.Wc(A.wd.XG,R,F.Ze | F.cv | F.tj | F.dv | F.BH | F.l4 | F.FH | F.vr,ia);};this.OR=function(R,W,ia){W={playdelay:(0,n.xg)(R),reason:ia,intrplayseq:S.MF - 1,skipped:W};"repos" === ia && (W.prstate=!0 === S.j.paused.value?"paused":"playing");S.qK(S.j,W);S.Wc(A.wd.OR,!1,F.Ze | F.cv | F.tj,W);"rebuffer" !== ia && "force_rebuffer" !== ia || S.j.Om.wxb(Number((0,n.xg)(R)));};this.QO=function(R,W,ia,za){R={moff:(0,n.vq)(ia),moffms:(0,n.xg)(ia),vbitrate:W.bitrate,vbitrateold:R.bitrate,vdlid:W.Ec,vdlidold:R.Ec,vheight:W.height,vheightold:R.height,vwidth:W.width,vwidthold:R.width,bw:za};S.qK(S.j,R);S.IF(S.j,R);S.Wc(A.wd.QO,!1,F.tj,R);};this.Tza=function(R,W,ia){R={moff:(0,n.vq)(ia),moffms:(0,n.xg)(ia),vdlidold:R.Ec,vbitrateold:R.bitrate};S.qK(S.j,R);S.IF(S.j,R);S.Jc.ns(R,W,S.j.bg.value && S.j.bg.value.stream);S.Wc(A.wd.Tcb,!1,F.tj,R);};this.Jya=function(){var R,W;R={waittime:(0,n.xg)(S.j.W3a()),abortedevent:"startplay",trackid:S.j.Lk,prstate:S.NB(),paustate:S.j.paused.value};S.caa(R,"endplay");S.fw.uY && (R.eventlist_version=1,R.eventlist=S.OK.N3a(S.j));S.j.fq && S.j.fq.initBitrate && (R.initvbitrate=S.j.fq.initBitrate);try{W=(0,d.dK)();W && (R.pdltime=W);(0,n.Ke)(R,S.j.Hd,{prefix:"sm_"});}catch(ia){}S.Eua(R,!0);S.Jc.qba(R,S.Fa);S.Jc.nQ(R,!1,S.j.Ug.value,S.Fa);S.Hua(R);S.Jc.ns(R,S.j.Df.value,S.j.Uh.value);S.B5a(S.j,R);S.pK(S.j,R);S.TZ(S.j,R);S.Kua(R);S.Jua(R);S.Wc(A.wd.dea,!1,F.Ze | F.tj | F.BH | F.dv | F.vr,R);};this.Iya=function(R,W){R={waittime:(0,n.xg)(R),abortedevent:"resumeplay",resumeplayreason:W};S.j.fq && S.j.fq.initBitrate && (R.initvbitrate=S.j.fq.initBitrate);S.Jc.ns(R,S.j.Df.value,S.j.Uh.value);S.TZ(S.j,R);S.Wc(A.wd.dea,!1,F.Ze | F.tj | F.vr,R);};this.IBa=function(R,W){R={newstate:W?"Paused":"Playing",oldstate:R?"Paused":"Playing"};S.qK(S.j,R);S.IF(S.j,R);S.Jc.ns(R,S.j.Le.value && S.j.Le.value.stream,S.j.bg.value && S.j.bg.value.stream);S.Wc(A.wd.Efb,!1,F.Ze | F.tj,R);};this.Wua=function(R,W,ia){var za,Ra;R=(0,n.Ke)({vdlid:S.j.Df.value.Ec,playingms:R,pausedms:W,intrplayseq:S.MF++,prstate:S.NB(),paustate:S.j.paused.value},ia);S.caa(R,"intrplay");W=S.j.Hc[k.$b.kb.Vb].value;ia=S.j.Hc[k.$b.kb.mc].value;R.cdnid=R.vcdnid=W && W.id;R.acdnid=ia && ia.id;R.locid=S.o_ && S.o_.jwa;R.loclv=S.o_ && S.o_.Z7a;R.avtp=S.$L.Yo().lCa;R.mediabuffered=null === (za=S.j.ng) || void 0 === za?void 0:za.haa();if(null === (Ra=S.j.Ra) || void 0 === Ra?0:Ra.bE)(S.Eua(R,!0),S.pba(R),S.z5a(R));try{(0,n.Ke)(R,S.j.Oaa(),{prefix:"vd_"});}catch(Fa){}S.qK(S.j,R);S.IF(S.j,R);S.Jc.ns(R,S.j.Le.value && S.j.Le.value.stream,S.j.bg.value && S.j.bg.value.stream);S.Wc(A.wd.Wua,!1,F.Ze | F.tj,R);};this.IR=function(R,W,ia){R={moffold:(0,n.vq)(R),reposseq:S.N1++,prstate:S.NB(),paustate:S.j.paused.value};S.IF(S.j,R);S.Jc.ns(R,ia && ia.stream,W && W.stream);S.Wc(A.wd.IR,!1,F.Ze | F.tj,R);};this.koa=function(){var R,W,ia,za;W=S.j.Nc.value;ia=S.j.Uh.value.Ec;W=W?{trackId:W.trackId,bcp47:W.Vf,downloadableId:ia,rank:W.oc,chan:W.channels}:{};ia=S.dC;za=null === (R=S.Hva) || void 0 === R?void 0:R.Ec;R=ia?{trackId:ia.trackId,bcp47:ia.Vf,downloadableId:za,rank:ia.oc,chan:ia.channels}:{};S.Wc(A.wd.oWa,!1,F.Ze | F.tj,{switchdelay:(0,n.xg)(S.getTime() - S.Iva),track:W,oldtrack:R});};this.z2=function(R){S.Wc(A.wd.qfb,!1,F.Ze | F.tj,{speedold:Math.floor(1E3 * R.oldValue),speed:Math.floor(1E3 * R.newValue)});};this.vS=function(){S.Wc(A.wd.L6b,!1,F.Ze | F.tj,{track:S.j.Cc.value.Lh});};this.bD=function(R){var W,ia;W=S.j.Cc.value;if(R.newValue || W && W.rs() && !W.Gq()){ia=(R=null !== (ia=R.newValue) && void 0 !== ia?ia:W)?{trackId:R.trackId,bcp47:R.Vf,downloadableId:R.Ec,rank:R.oc,isImageBased:R.Zl}:{};R=(R=S.Xva)?{trackId:R.trackId,bcp47:R.Vf,downloadableId:R.Ec,rank:R.oc,isImageBased:R.Zl}:{};ia={switchdelay:(0,n.xg)(S.getTime() - S.Wva),track:ia,oldtrack:R};S.Jc.ns(ia,S.j.Le.value && S.j.Le.value.stream,S.j.bg.value && S.j.bg.value.stream);S.Wc(A.wd.Ogb,!1,F.Ze | F.tj,ia);}};this.Sr=function(R){S.Wc(A.wd.Kzb,!1,F.Ze | F.tj,R.newValue);};this.YAb=function(R,W){var ia,za;ia=W.serverid;za={locid:W.location,loclv:W.locationlv,selocaid:ia,selcdnid:ia,selocaname:W.servername};za.mediatype=W.mediatype;za.selreason=W.selreason || "unknown";za.seldetail=W.seldetail;za.cdnbwdata=JSON.stringify([{id:ia}]);R && (za.oldlocid=R.jwa,za.oldloclv=R.Z7a,za.oldocaid=R.l3b,za.oldocaname=R.GL);S.Wc(A.wd.CXa,!1,F.l4,za);};this.A_a=function(){var R,W,ia;if(S.j.Ai)try{R=!1;S.lib || (R=!0,S.lP=S.lP.filter(function(za){return !za.fa;}));if(0 < S.lP.length){W=S.h$.construct(S.lP,S.j.Ij.ia(p.sa));S.lP=[];W.erroronly=R;ia={};(0,n.kh)(W,function(za,Ra){ia[za]=JSON.stringify(Ra);});S.Wc(A.wd.iHb,!1,F.tj,ia);}}catch(za){S.log.error("Exception in dlreport.",za);}};this.NB=function(){var R;R=S.j.Ob.value;return R === x.zb.$c?"playing":R === x.zb.Rh?"paused":R === x.zb.Vs?"ended":"waiting";};this.aG=function(){var R,W,ia;if(S.j.state.value == x.qc.Re){ia=S.Z0();S.config().Zza && (ia.avtp=S.$L.Yo().lCa,(null === (R=S.j.Ra) || void 0 === R?0:R.bE) && S.pba(ia));ia.mediabuffered=null === (W=S.j.ng) || void 0 === W?void 0:W.haa();ia.midplayseq=S.ixa++;ia.prstate=S.NB();ia.paustate=S.j.paused.value;S.config().i3b && S.$fb("midplay");S.config().Vw && S.Mua(ia);S.Iua(ia);S.Lua(ia);S.Jc.mQ(ia);S.Wc(A.wd.aG,!1,F.Ze | F.tj | F.BH | F.dv,ia);}};this.$fb=function(R){var W,ia;W={};W.trigger=R;try{ia=S.j.pta();W.subtitleqoescore=S.j.Ps.pOb(ia);W.metrics=JSON.stringify(S.j.Ps.Mta(ia));}catch(za){S.log.error("error getting subtitle qoe data",za);}S.Wc(A.wd.R5b,!1,F.Ze | F.BH | F.cv,W);};this.transition=function(R){S.IF(S.j,R);S.TZ(S.j,R);S.Wc(A.wd.transition,!1,0,R);};this.NJ=function(R){var W,ia,za,Ra,Fa,$a,Ta;ia=S.Z0();S.caa(ia,"endplay");ia.prstate=S.NB();ia.paustate=S.j.paused.value;ia.muted=S.j.muted.value;S.j.dD && "downloaded" === S.j.dD.$P() && (ia.trickplay_ms=S.j.k3.offset,ia.trickplay_res=S.j.k3.kdb);S.config().tib && (ia.rtinfo=S.j.TNb());S.config().Zza && (null === (W=S.j.Ra) || void 0 === W?0:W.bE) && S.pba(ia);ia.endreason=R?"error":S.j.Ob.value === x.zb.Vs?"ended":"stopped";(W=S.Cs) && (0,n.Ke)(ia,W,{prefix:"pi_"});try{(0,n.Ke)(ia,S.j.Hd,{prefix:"sm_"});}catch(rb){}S.j.Dua && (ia.inactivityTime=S.j.Dua);S.Eua(ia,R);S.z5a(ia);if(S.j.i9){W=S.j.i9;za=S.config().FO;Ra=S.j.loadTime;Fa={iv:za,seg:[]};$a=function(rb,U,fa){return 0 === U || void 0 === fa[U - 1]?rb:rb - fa[U - 1];};Ta=W.JW.map($a);$a=W.E3.map($a);for(var Xa,eb=0;eb < Ta.length;eb++){if(Ta[eb] || $a[eb])Xa?(Xa.ams.push(Ta[eb]),Xa.vms.push($a[eb])):Xa={ams:[W.JW[eb]],vms:[W.E3[eb]],soffms:W.startTime + eb * za - Ra};eb !== Ta.length - 1 && Ta[eb] && $a[eb] || !Xa || (Fa.seg.push(Xa),Xa=void 0);}ia.bt=JSON.stringify(Fa);}R && (S.Hua(ia),S.Jua(ia));S.$fb("endplay");S.config().Vw && S.Mua(ia);S.Jc.nQ(ia,!1,S.j.Ug.value,S.Fa);S.v5a(S.j,ia);S.pK(S.j,ia);S.qK(S.j,ia);S.IF(S.j,ia,S.Bna);S.TZ(S.j,ia);S.Iua(ia);S.Lua(ia);S.Jc.mQ(ia);S.sQb(ia);S.u5a(ia);S.uQb(ia);S.tQb(ia);S.wQb(ia);S.Kua(ia);S.xQb(ia);S.Wc(A.wd.NJ,R,F.Ze | F.cv | F.tj | F.BH | F.dv | F.FH | F.vr,ia);};this.pHb=function(R){S.lP.push(S.h$.OCb(R.response));};this.Mqa=function(R){var W,ia,za,Ra,Fa,$a;R=R.response;W=R.request;ia=R.request.sC;za=W.track;if(za){Ra=!R.fa && R.Ea != r.S.AD;Fa=za.type;$a=R.Km;if(Ra || S.Fa.owa){ia={dltype:Fa,url1:W.url,url2:R.url || "",cdnid:W.Hc && W.Hc.id,tresp:(0,n.xg)($a.nj - $a.Is),brecv:(0,n.F1a)($a.zX),trecv:(0,n.xg)($a.Zq - $a.nj),sbr:ia && ia.bitrate};R.ou && (ia.range=R.ou);switch(Fa){case h.uj.audio:ia.adlid=W.stream.Ec;break;case h.uj.video:ia.vdlid=W.stream.Ec;break;case h.uj.Sfa:ia.ttdlid=za.Ec;}(W=(0,B.mta)(R.Ea)) && (ia.nwerr=W);R.Wl && (ia.httperr=R.Wl);S.Wc(A.wd.Mqa,Ra,F.tj,ia);}}};this.ej=function(){S.Wc(A.wd.KWa,!1,F.Ze | F.BH | F.vr,{});};this.hCb=function(R){var W,ia;W=R.response.Km;R=(0,p.Vc)(W.nj);ia=(0,p.Vc)(W.Zq);W=(0,t.ga)(W.zX || 0);W.U6a() || W.jva() || (R=new w.lka(R,ia),S.$L.pxb(new v.vGa(R,W)));};this.Uda=function(R){var W;W=R.newValue;R.Kn && R.Kn.Ixa && W || W == S.AK || (S.IBa(S.AK,W),S.AK=W);};this.gB=function(R){function W(ia){var za;if(S.j.ic && S.j.ic.sourceBuffers){za=S.j.ic.sourceBuffers.filter(function(Ra){return Ra.type === ia;}).pop();if(za)return {busy:za.Hi(),updating:za.updating(),ranges:za.iaa()};}}R={cause:R.cause};R.cause && R.cause === f.Qja && (R.mediaTime=S.j.mediaTime.value,R.buf_audio=W(g.J5),R.buf_video=W(g.kU));S.Wua(S.Z2[x.zb.$c] || 0,S.Z2[x.zb.Rh] || 0,R);};this.ehb=function(R){var W;R=R.oldValue;W=S.getTime();R === x.zb.tg?S.Z2=[]:S.Z2[R]=(S.Z2[R] || 0) + (W - S.MSb);S.MSb=W;};this.An=function(R){S.Iva=S.getTime();S.dC=R.oldValue;};this.Zm=function(R){S.Wva=S.getTime();S.Xva=R.oldValue;};this.MW=function(R){S.Hva=R.oldValue;};this.C_=function(R){function W(ia,za){var Ra;if(!ia || ia.jwa !== za.location){Ra={jwa:za.location,Z7a:za.locationlv,l3b:za.serverid,GL:za.servername};S.YAb(ia,za);return Ra;}}if("audio" === R.mediatype){if(R=W(S.GSb,R))S.GSb=R;}else if(R=W(S.o_,R))S.o_=R;};this.l2=function(R){var W,ia;W=R.mediatype;ia=R.reason;"video" === W?"serverswitchaway" === ia?(S.Kk.summary.Tib++,S.Kk.ica=S.La.Nf.ia(p.sa)):"serverswitchback" === ia && (S.Kk.summary.Uib++,S.Kk.ica && (S.Kk.summary.Vib.push(S.La.Nf.ia(p.sa) - S.Kk.ica),S.Kk.ica=void 0)):"audio" === W && ("serverswitchaway" === ia?(S.Kk.summary.bWa++,S.Kk.cca=S.La.Nf.ia(p.sa)):"serverswitchback" === ia && (S.Kk.summary.cWa++,S.Kk.cca && (S.Kk.summary.dWa.push(S.La.Nf.ia(p.sa) - S.Kk.cca),S.Kk.cca=void 0)));S.Wc(A.wd.n3b,!1,F.Ze | F.tj,{mediatype:R.mediatype,server:R.server,selreason:R.reason,location:R.location,bitrate:R.bitrate,confidence:R.confidence,throughput:R.throughput,oldserver:R.oldserver});};this.wO=function(R){S.Wc(A.wd.Fyb,!1,F.tj,{strmsel:R.strmsel});};this.pS=function(R){R=Object.assign({},R);R.details && (R.details=JSON.stringify(R.details));S.Wc(A.wd.Q5b,!0,F.Ze | F.cv | F.l4,R);};this.Bna=pa.ZCa || pa.qga || pa.D1a;this.$L=I();this.log=(0,m.hj)(G,"LogblobBuilder");this.AK=G.paused.value;this.ja=this.Fa.ja;this.Kk={summary:{Tib:0,Uib:0,Vib:[],bWa:0,cWa:0,dWa:[]},ica:void 0,cca:void 0};}Object.defineProperty(b,"__esModule",{value:!0});b.gU=void 0;k=a(34);g=a(16);f=a(65);d=a(46);h=a(96);m=a(9);l=a(24);n=a(26);p=a(6);r=a(3);t=a(55);w=a(547);v=a(1311);u=a(11);x=a(18);y=a(14);z=a(1312);A=a(308);B=a(206);D=a(140);C=a(110);c.prototype.B5a=function(G,E){var I,K,L,H,P,N,J,M,O,Q,T,V,da,pa,xa,ya,sa;if(this.config().Vw)try{I={};K=this.Zd.getStats(void 0,void 0,G.L);L=G.VJ();H=K.ZL.rCb || [];I.attempts=K.oea || 0;I.num_completed_tasks=H.length;P=this.Qe.IJb;N={};J=D.Gl.qS;M=D.Gl.Zv;O=D.Gl.$oa;K.Dm && (N.scheduled=K.Dm - L);Q=G.pa;Q && (0,y.Oa)(Q.uL) && (N.preauthsent=Q.uL - G.loadTime,N.preauthreceived=Q.LR - G.loadTime);T=H.filter(function(X){return "manifest" === X.type;});I.mf_succ=T.filter(P("status",J)).length;I.mf_fail=T.filter(P("status",M)).length;V=G.Hd;(0,y.Gd)(V.lg) && 0 > V.lg && G.loadTime && (N.ldlsent=V.lc,N.ldlreceived=V.lr);da=H.filter(function(X){return "ldl" === X.type;});I.ldl_succ=da.filter(P("status",J)).length;I.ldl_fail=da.filter(P("status",M)).length;K=!0;L=[];"notcached" === G.pJ && (K=!1,L.push("Missing cached manifest"));this.config().tY || (K=!1,L.push("LDL prefetch disabled"));pa=da.filter(P("status",O)).length;this.config().tY && 0 === pa && (!N.ldlreceived || 0 <= N.ldlreceived) && (K=!1,L.push("LDL received after start"));if(this.config().r0a)if(E.isPrefetchItem){xa=E.prefetchedAudioMs / E.bcABufferLevelMs;if(1 > E.prefetchedVideoMs / E.bcVBufferLevelMs || 1 > xa)(K=!1,L.push("Insufficient media fetched"));}else (K=!1,L.push("aseStats not initialized"));ya=H.filter(function(X){return "getHeaders" === X.type;});I.header_succ=ya.filter(P("status",J)).length;I.header_fail=ya.filter(P("status",M)).length;sa=H.filter(function(X){return "getMedia" === X.type;});I.media_succ=sa.filter(P("status",J)).length;I.media_fail=sa.filter(P("status",M)).length;I.hm_succ=I.header_succ + I.media_succ;I.hm_fail=I.header_fail + I.media_fail;(0,n.Ke)(E,I,{prefix:"pr_"});this.fw.uY && (E.eventlist_version=1,E.eventlist=this.OK.N3a(G));(E.prefetchCompleted=K) || (E.prefetchFailed=L,(0,n.Ke)(E,N,{prefix:"pe_"}));this.Mua(E);}catch(X){this.log.warn("error in collecting video prepare data",X);}};c.prototype.ZNb=function(G,E){if(G=G.WY())if(E=G[E])return E.ya;};c.prototype.v5a=function(G,E){G.ob.ei && (E.isBranching=!0);};c.prototype.pK=function(G,E){var I,K;K=(null === (I=G.pa) || void 0 === I?void 0:I.v6a) || "videopreparer" === G.oJ;E.cachedManifest=G.pJ;E.cachedLicense=G.oJ;E.usedldl=this.config().tY?K.toString():"not_capable";};c.prototype.qK=function(G,E){var I,K;if(this.config().vQb){I=G.qta();K=G.oa.pa;I && K && (E.segment=I,K=G.wF(),E.segmenttime=K,G=this.ZNb(G,I),null !== K && void 0 !== G && (E.segmentoffset=K - G));}};c.prototype.IF=function(G,E,I){E.pxid=G.jea;(void 0 === I?0:I) && (E.playgraph_trace=G.rbb);};c.prototype.TZ=function(G,E){E.hasContentPlaygraph=G.hQ();};c.prototype.rQb=function(G,E){var I,K;if(G.hQ()){I=G.VE;K=G.pa.Tb.Hn.la;E.auxViewables=Object.keys(K.P).map(function(L){return K.P[L].M;}).filter(function(L,H,P){return L !== I && P.indexOf(L) === H;});}};c.prototype.z5a=function(G){var E,I;E=this.j.Ngc;I=E && E.Pic;E && E.YPb && (G.htwbr=E.YPb,G.pbtwbr=E.xya,G.hptwbr=E.Pgc);E && E.v2b && (G.rr=E.v2b,G.ra=E.Jic);E && I && 0 < (I.length || 0) && (G.qe=JSON.stringify(I));};c.prototype.Hua=function(G){var E,I,K;try{E=this.Qe.createElement("canvas");I=E.getContext("webgl") || E.getContext("experimental-webgl");if(I){K=I.getExtension("WEBGL_debug_renderer_info");K && (G.WebGLRenderer=I.getParameter(K.UNMASKED_RENDERER_WEBGL),G.WebGLVendor=I.getParameter(K.UNMASKED_VENDOR_WEBGL));}}catch(L){}};c.prototype.wQb=function(G){G.switchAwaySummary={vsa:this.Kk.summary.Tib,vsb:this.Kk.summary.Uib,vsbt:this.Kk.summary.Vib,asa:this.Kk.summary.bWa,asb:this.Kk.summary.cWa,asbt:this.Kk.summary.dWa};};c.prototype.Lsb=function(G){var E;E=[];return G?Object.keys(G).map(function(I){return +I;}):E;};c.prototype.kY=function(){var G,E;G=this;if(this.j.jD && this.j.yj){E=[];this.j.jD.concat(this.j.yj).forEach(function(I){I.streams.forEach(function(K){E.push({dlid:K.Ec,type:K.type,bitrate:K.bitrate,vmaf:K.nb,cdn_ids:G.Lsb(K.Sv)});});});return JSON.stringify(E);}};c.prototype.XAb=function(){var E,I,K;function G(L,H){var P,N,J;P=L.cdnId + "$" + L.correlationId;N=K[P];N || (N={cdnid:L.cdnId,pbcid:L.correlationId,dls:[]},K[P]=N,I.push(N));(0,l.dP)(L.bitrate);(0,l.dP)(L.duration);P={bitrate:L.bitrate,tm:(0,u.Fp)(L.duration)};J=L.vmaf;J && ((0,l.dP)(L.vmaf),P.vf=J);P[H]=(0,n.tk)(L.downloadableId);N.dls.push(P);}E=this.j.Om.oLb();I=[];K={};E.audio.forEach(function(L){G(L,"adlid");});E.video.forEach(function(L){G(L,"dlid");});return JSON.stringify(I);};c.prototype.Z0=function(){var G,E,I,K,L,H,P,N,J,M,O,Q,T;G=this.j.Om;E={totaltime:(0,n.vq)(G.Ry()),totalcontenttime:(0,n.vq)(G.zZ()),cdndldist:this.XAb(),reposcount:this.N1,intrplaycount:this.MF};try{I={numskip:0,numlowqual:0};K=this.j.ng;L=K.JB();(0,y.Oa)(L) && (E.totfr=L,I.numren=L);L=K.YJ();(0,y.Oa)(L) && (E.totdfr=L,I.numrendrop=L);L=K.ZY();(0,y.Oa)(L) && (E.totcfr=L,I.numrenerr=L);E.playqualvideo=JSON.stringify(I);H=this.j.Df.value;H && (E.videofr=H.framerate.toFixed(3));P=G.zsa();P && (E.abrdel=P);N=G.eba() && G.h2a();N && (E.tw_vmaf=N);J=G.f2a();J && (0,n.Ke)(E,J);E.rbfrs=this.MF;E.maxbitrate=this.maxBitrate;E.maxresheight=this.c9a;M=this.j.zF();for(G=0;G < M.length;G++){O=M[G];Q=this.Fa.OQ.Fz(O);if(Q){(0,l.Db)(T);E.maxbitrate=T?T.bitrate:0;E.maxresheight=T?T.height:0;E.bitratefilters=Q.join("|");break;}T=O;}this.j.dD && (E.trickplay=this.j.dD.$P());null !== this.j.Ps.zWa && (E.avg_subt_delay=this.j.Ps.zWa);}catch(V){this.log.error("Exception reading some of the endplay fields",V);}(0,n.Ke)(E,this.j.Oaa(),{prefix:"vd_"});return E;};c.prototype.getTime=function(){return this.Ma.ec().ia(p.sa);};c.prototype.Fta=function(){return this.getTime() - this.Fa.Ij.ia(p.sa);};c.prototype.Mua=function(G){var E;try{E=this.Zd.getStats();G.pr_cache_size=JSON.stringify(E.cache);G.pr_stats=JSON.stringify(E.TKb);}catch(I){}};c.prototype.Iua=function(G){this.log.debug("httpstats",this.Bf.kc);(0,n.Ke)(G,this.Bf.kc,{prefix:"http_"});};c.prototype.Eua=function(G,E){var I,K,L;I=this.config().OZa && !(this.ja % this.config().OZa);K=this.j.Ra;L=null === K || void 0 === K?void 0:K.bj;I && L && (G.ASEstats=JSON.stringify(K.Aba(E)));};c.prototype.pba=function(G){Object.assign(G,this.j.Ra.jc.wOb());};c.prototype.Lua=function(G){var E;try{E=u.Ox.memory;(0,y.S6a)(E) && (G.totalJSHeapSize=E.totalJSHeapSize,G.usedJSHeapSize=E.usedJSHeapSize,G.jsHeapSizeLimit=E.jsHeapSizeLimit);}catch(I){}};c.prototype.u5a=function(G){var E;try{if(this.config().kX){E=this.j.wLb();G.battery=E;this.log.trace("batterystatuses",E);}}catch(I){}};c.prototype.sQb=function(G){this.j.P9 && (G.dqec=this.j.P9);};c.prototype.Kua=function(G){var E,I,K;(null === (E=this.j.gf) || void 0 === E?0:E.jZ)?G.keysys=this.j.gf.jZ():(null === (K=null === (I=this.j.gf) || void 0 === I?void 0:I.mediaKeys) || void 0 === K?0:K.keySystem)?G.keysys=this.j.gf.mediaKeys.keySystem:this.ZF.k7a && (G.keysys=this.ZF.k7a);};c.prototype.Jua=function(G){var E;if(null === (E=this.j.gf) || void 0 === E?0:E.h3a)G.keystatus=this.j.gf.Gva;};c.prototype.tQb=function(G){this.Ara && (G.externaldisplay=this.Ara.EP);};c.prototype.uQb=function(G){var E,I;if(this.dDa){E=this.dDa.map(function(K){return K.dd;}).filter(function(K){return void 0 !== K;});I=(0,z.Pwa)(E,function(K){return K.height;});I && (G.media_capabilities_smooth=I.smooth,G.media_capabilities_efficient=I.powerEfficient,G.media_capabilities_bitrate=I.bitrate,G.media_capabilities_height=I.height,G.media_capabilities_width=I.width);G.media_capabilities=E.map(function(K){return {smooth:K.smooth,efficient:K.powerEfficient,bitrate:K.bitrate,height:K.height,width:K.width};});}};c.prototype.xQb=function(G){G.didHydrateTracks=this.j.b$;};c.prototype.zSb=function(){void 0 === this.Ara && (this.Ara=this.Bra.AJb());};c.prototype.ASb=function(G){var E;E=this;void 0 === this.dDa && void 0 !== G && (this.dDa=G.map(function(I){return E.Ywa.Gra(I);}));};c.prototype.caa=function(G,E){(E=this.j.MB(E)) && Object.entries(E).forEach(function(I){var K;K=ra(I);I=K.next().value;K=K.next().value;G[I]=K;});};c.prototype.Wc=function(G,E,I,K){var L,H;H=E?"error":"info";E && this.j.gj && (0,r.aia)(this.j.gj.errorCode,this.j.gj.Ea,this.Fta(),null === (L=this.j.ng) || void 0 === L?void 0:L.JB()) && (H="info");this.qna(K,this.j,E,I);G=this.hC.Nv(G,H,K,this.Fa);this.Cg.Wc(G);};c.prototype.qna=function(G,E,I,K){var L,H,P,N,J;this.Jc.qQb(G,E);this.Jc.w5a(G,E);K & F.Ze && ((0,l.Db)(!G || void 0 === G.moff),this.Jc.A5a(G,E));K & F.cv && this.Jc.C5a(G,E);K & F.tj && (null === (L=E.Ra) || void 0 === L?0:L.bj) && (G.abuflbytes=null !== (H=G.abuflbytes) && void 0 !== H?H:E.doa(),G.abuflmsec=null !== (P=G.abuflmsec) && void 0 !== P?P:E.HW(),G.vbuflbytes=null !== (N=G.vbuflbytes) && void 0 !== N?N:E.bDa(),G.vbuflmsec=null !== (J=G.vbuflmsec) && void 0 !== J?J:E.B3());K & F.dv && this.Jc.D5a(G,E.qp);K & F.BH && (L=u.$e.hardwareConcurrency,0 <= L && (G.numcores=L),L=this.Fa.Uqa) && (H=L.Asa(),G.droppedFrames=JSON.stringify(H),L=L.bK(this.config().KHb),(0,n.kh)(L,function(M,O){G["droppedFramesP" + M]=JSON.stringify(O);}));if(K & F.l4)try{E.Ai && (G.cdninfo=JSON.stringify(E.Ai.map(function(M){return {id:M.id,nm:M.name,rk:M.oc,wt:M.location.weight,lv:M.location.level};})));}catch(M){}I && K & F.FH && ((0,l.Db)(E.gj),this.Jc.y5a(G,E,E.gj));K & F.vr && this.Jc.Gua(G);};Ya.Object.defineProperties(c.prototype,{lib:{configurable:!0,enumerable:!0,get:function(){return this.j.AB || this.j.qP;}}});b.gU=c;(function(G){G[G.Ze=1]="MOFF";G[G.cv=2]="PRESENTEDSTREAMS";G[G.tj=4]="BUFFER";G[G.dv=8]="SCREEN";G[G.BH=16]="CPU";G[G.l4=32]="CDN";G[G.FH=64]="FATALERROR";G[G.vr=128]="BROWSERINFO";})(F || (F={}));},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.xGa="DownloadReportBuilderSymbol";},function(q,b,a){var k,g,f,d,h,m,l,n,p;function c(r){this.config=r;}Object.defineProperty(b,"__esModule",{value:!0});b.wGa=void 0;q=a(2);k=a(206);g=a(96);f=a(26);d=a(3);h=a(24);m=a(11);l=a(14);n=a(0);a=a(12);c.prototype.construct=function(r,t){var w,v,u;w=this;v={};r.forEach(function(x){var y;y=x.url;v[y] || (v[y]=[]);v[y].push(x);});u=[];(0,f.kh)(v,function(x,y){u.push(w.DOb(y,t));});return {urls:u};};c.prototype.DOb=function(r,t){var w,v,u,x;w=this;v=r[0];u={url:v.url,bitrate:v.bitrate,cdnid:(0,l.fk)(v.Hc)?v.Hc.id:v.Hc,dltype:v.kHb,id:v.Ec};x={};r.forEach(function(y){var z;z=w.vRb(y)?"fail":"success";x[z] || (x[z]=[]);x[z].push(y);});(0,f.kh)(x,function(y,z){"fail" === y?u.failures=w.nMb(z,t):"success" === y && (u.downloads=w.fMb(z,t));});return u;};c.prototype.fMb=function(r,t){var w,v,u;w=this;v={};r.forEach(function(x){var y;y=x.YBb;v[y] || (v[y]=[]);v[y].push(x);});u=[];(0,f.kh)(v,function(x,y){var z;z=[];y.forEach(function(A){z.push(A);w.fRb(A) && (u.push(w.F2a(z,t,x)),z=[]);});0 < z.length && u.push(w.F2a(z,t,x));});return u;};c.prototype.F2a=function(r,t,w){var v,u,x,y,A;v=r.sort(function(B,D){return B.Km.nj < D.Km.nj?-1:B.Km.nj > D.Km.nj?1:0;});u=v[0].Km;x=u.Is;y=u.nj;u=u.Zq;for(var z=1;z < r.length;z++){A=r[z].Km;A.Is < x && (x=A.Is);A.nj < y && (y=A.nj);A.Zq > u && (u=A.Zq);}z=this.LNb(v);A=v[v.length - 1];return {time:x - t,tcpid:w?parseInt(w):-1,tresp:y - x,first:z,ranges:this.MNb(v,z),dur:u - y,trace:this.yF(r),status:this.$P(A)};};c.prototype.LNb=function(r){var t;t=0;r.forEach(function(w){w.ou && (t=(0,m.nA)(t,w.ou[0]));});return t;};c.prototype.MNb=function(r,t){var w;w=[];r.forEach(function(v){v.ou?w.push([v.ou[0] - t,v.ou[1] - t]):w.push([0,-1]);});return w;};c.prototype.yF=function(r){var t,w;t=[];r.forEach(function(v){var u;v=v.Km;if(w){u=v.Is - w.Zq;0 < u && t.push([u,-2]);u=(0,m.Yu)(w.Zq,v.Is);u=v.nj - u;0 < u && t.push([u,-3]);}t.push([v.Zq - v.nj,v.zX || 0]);w=v;});return t;};c.prototype.fRb=function(r){if(r.Ea === d.S.AD || r.Ea === d.S.KH)return !0;};c.prototype.$P=function(r){if(r.fa)return "complete";if(r.Ea === d.S.AD)return "abort";if(r.Ea === d.S.KH)return "stall";(0,h.Db)(!1,"download status should never be: other");return "other";};c.prototype.nMb=function(r,t){var w,v;w=this;v=[];r.forEach(function(u){var x;x=u.Km;u={time:x.nj - t,tresp:x.nj - x.Is,dur:x.Zq - x.nj,range:u.ou,reason:w.ONb(u),httpcode:u.Wl,nwerr:(0,k.mta)(u.Ea)};v.push(u);});return v;};c.prototype.ONb=function(r){return r.Wl || r.Ea === d.S.UT?"http":r.Ea === d.S.WT?"timeout":"network";};c.prototype.vRb=function(r){return r.fa || void 0 === r.fa || r.Ea === d.S.AD || r.Ea === d.S.KH?!1:!0;};c.prototype.OCb=function(r){var t,w,v,u,x,y;t=r.request;w=t.stream;v=t.track;u=t.url;x=this.cMb(v,u);switch(x){case g.uj.audio:case g.uj.video:y=t.stream.Ec;break;case g.uj.Sfa:case g.uj.xCa:y=v.Ec;}r={bitrate:w && w.bitrate,kHb:x,Ec:y,Km:r.Km,Hc:t.Hc,url:u,Xf:r.Xf,Wl:r.Wl,Ea:r.Ea,fa:r.fa,YBb:this.mJb(r)};void 0 !== t.offset && void 0 != t.length && (r.ou=[t.offset,t.offset + t.length - 1]);return r;};c.prototype.cMb=function(r,t){if(r)return r.type;if(0 <= t.indexOf("netflix.com")){if(0 <= t.indexOf("nccp"))return "nccp";if(0 <= t.indexOf("api"))return "api";}return "other";};c.prototype.mJb=function(r){if(r.headers && (r=r.headers["X-TCP-Info"] || r.headers["x-tcp-info"]))return (r=r.split(";").filter(function(t){return 0 == t.indexOf("port=");}).map(function(t){return t.split("=")[1];})[0])?(0,f.tk)(r):r;};p=c;p=q.__decorate([(0,n.X)(),q.__param(0,(0,n.u)(a.jd))],p);b.wGa=p;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.iU="LogblobMonitorFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.JRa="XhrFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.NLa="NetworkMonitorSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.MLa="NetworkMonitorFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.IHa="FtlDataParserSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.BIa="HttpRequesterSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.BMa="PboAcquireLicenseCommandSymbol";},function(q,b,a){var d,h,m,l,n,p;function c(r){var t;r=new m.BT(r);if(1481462272 != r.Gs())throw Error("Invalid header");t={XMR:{Version:r.Gs(),RightsID:r.yz(16)}};k(r,t.XMR,r.buffer.length);return t;}function k(r,t,w){var v,u,x,y,z;for(;r.position < w;){v=r.ii();u=r.Gs();u-=8;switch(v){case 1:x="OuterContainer";break;case 2:x="GlobalPolicy";break;case 3:x="MinimumEnvironment";break;case 4:x="PlaybackPolicy";break;case 5:x="OutputProtection";break;case 6:x="UplinkKID";break;case 7:x="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:x="AnalogVideoOutputConfiguration";break;case 9:x="KeyMaterial";break;case 10:x="ContentKey";break;case 11:x="Signature";break;case 12:x="DeviceIdentification";break;case 13:x="Settings";break;case 18:x="ExpirationRestriction";break;case 42:x="ECCKey";break;case 48:x="ExpirationAfterFirstPlayRestriction";break;case 50:x="PlayReadyRevocationInformationVersion";break;case 51:x="EmbeddedLicenseSettings";break;case 52:x="SecurityLevel";break;case 54:x="PlayEnabler";break;case 57:x="PlayEnablerType";break;case 85:x="RealTimeExpirationRestriction";break;default:x="Other";}y={Type:g(v)};z=t[x];z?(0,p.isArray)(z)?z.push(y):(t[x]=[],t[x].push(z),t[x].push(y)):t[x]=y;switch(v){case 1:case 2:case 4:case 7:case 9:case 54:k(r,y,r.position + u);break;case 5:y.Reserved1=r.ii();y.MinimumUncompressedDigitalVideoOutputProtectionLevel=r.ii();y.MinimumAnalogVideoOutputProtectionLevel=r.ii();y.Reserved2=r.ii();y.MinimumUncompressedDigitalAudioOutputProtectionLevel=r.ii();break;case 10:y.Reserved=r.yz(16);y.SymmetricCipherType=r.ii();y.AsymmetricCipherType=r.ii();u=r.ii();y.EncryptedKeyLength=u;v=r.yz(u);y.EncryptedKeyData=10 >= u?v:v.substring(0,4) + "..." + v.substring(v.length - 4,v.length);break;case 11:y.SignatureType=r.yz(2);u=r.ii();v=r.yz(u);y.SignatureData=10 >= u?v:v.substring(0,4) + "..." + v.substring(v.length - 4,v.length);break;case 13:y.Reserved=r.ii();break;case 18:y.BeginDate=r.Gs();y.EndDate=r.Gs();break;case 42:y.CurveType=r.yz(2);u=r.ii();v=r.yz(u);y.Key=10 >= u?v:v.substring(0,4) + "..." + v.substring(v.length - 4,v.length);break;case 48:y.ExpireAfterFirstPlay=r.Gs();break;case 50:y.Sequence=r.Gs();break;case 51:y.LicenseProcessingIndicator=r.ii();break;case 52:y.MinimumSecurityLevel=r.ii();break;case 57:y.PlayEnablerType=f(r.yz(16));break;case 85:break;default:y.OtherData=r.yz(u);}}}function g(r){return "0x" + r.toString(16);}function f(r){return r.substring(6,8) + r.substring(4,6) + r.substring(2,4) + r.substring(0,2) + "-" + r.substring(10,12) + r.substring(8,10) + "-" + r.substring(14,16) + r.substring(12,14) + "-" + r.substring(16,20) + "-" + r.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.$Fb=b.aGb=b.ZFb=b.YFb=b.XFb=void 0;d=a(16);h=a(9);m=a(179);l=a(208);n=a(566);p=a(14);b.XFb=function(r,t,w){switch(t){case d.J4:r && (r=(0,h.DWa)(r),(0,n.hjb)(r,function(v){v.fa && (v=v.object) && (v=(0,l.C2a)(v,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License")) && (v=(0,l.Hab)(v)) && (v=(0,h.At)(v)) && (v=c(v)) && w(v);}));}};b.YFb=c;b.ZFb=k;b.aGb=g;b.$Fb=f;},function(q,b,a){var c,k,g,f,d;Object.defineProperty(b,"__esModule",{value:!0});b.hjb=void 0;c=a(9);k=a(3);g=a(567);f=a(568);d=a(62);b.hjb=function(h,m){var l,n;try{n=(0,g.ijb)(h);}catch(p){c.log.error("xml2xmlDoc exception",p);}(0,d.wg)(function(){if(n && n.documentElement)try{l=(0,f.jjb)(n);}catch(p){c.log.error("xmlDoc2js exception",p);}(0,d.wg)(function(){l?m({fa:!0,object:l}):m({fa:!1,Ea:k.S.Kmb});});});};},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.ijb=void 0;c=a(9);k=a(14);b.ijb=function(g){var f,d;if((0,k.BQ)(g)){f=new DOMParser().parseFromString(g,"text/xml");d=f.getElementsByTagName("parsererror");if(d && d[0]){try{c.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(d[0]),xmlData:g.slice(0,300),fileSize:g.length});}catch(h){}throw Error("xml parser error");}return f;}throw Error("bad xml text");};},function(q,b,a){var k;function c(g){var f,d,h,m,l,n,p;d={};d[k.rDa]=g.localName;h={};d[k.S3]=h;m=[];d[k.ejb]=m;l=g.attributes;n=l.length;for(f=0;f < n;f++){p=l[f];h[p.localName]=p.value;}g=g.childNodes;n=g.length;h={};for(f=0;f < n;f++){switch((l=g[f],l.nodeType)){case b.mjb:l=c(l);p=l[k.rDa];l[k.fjb]=d;m.push(l);d[p]?h[p][k.gjb]=l:d[p]=l;h[p]=l;break;case b.njb:case b.kjb:(l=l.text || l.nodeValue,m.push(l),d[k.Wz] || (d[k.Wz]=l));}}return d;}Object.defineProperty(b,"__esModule",{value:!0});b.ljb=b.kjb=b.njb=b.N9b=b.mjb=b.O9b=b.jjb=void 0;k=a(208);b.jjb=function(g){return c(g.nodeType == b.ljb?g.documentElement:g);};b.O9b=c;b.mjb=1;b.N9b=2;b.njb=3;b.kjb=4;b.ljb=9;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.oNa="PboReleaseLicenseCommandSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.RMa="PboLicenseRequestTransformerSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.HMa="PboCachedPlaydataSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.XNa="PlaydataConfigSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fja={m_:"keepAlive",splice:"splice"};b.NMa="PboEventSenderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.hNa="PboPlaydataPlaybackMonitorSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.LGa="DxDisplaySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.OGa="DxManagerSymbol";b.NGa="DxManagerProviderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZJa="LogDisplayConfigSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.FRa="WindowUtilsSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.ANa="PlayPredictionDeserializerSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.JOa="PreparerManifestFetcherSymbol";b.IOa="PreparerLicenseFetcherSymbol";b.HOa="PreparerLegacyLicenseFetcherSymbol";},function(q,b,a){var k,g,f,d;function c(h){this.Zn=h;}Object.defineProperty(b,"__esModule",{value:!0});b.bka=b.wOa=void 0;q=a(2);k=a(19);g=a(0);f=a(126);d=a(47);c.prototype.D8a=function(h){var m,l;m=this;if(h.se.key.la)return Promise.resolve(h.se.key.la);l=h.se.key.M;return h.se.Pj.Wo(l).Qs.then(function(n){n=n.pa;return n.Mo?(0,d.mB)(n.Mo,{config:k.config}):(0,d.UG)(l,m.Zn.Ot(l));});};a=c;a=q.__decorate([(0,g.X)(),q.__param(0,(0,g.u)(f.$M))],a);b.wOa=a;b.bka="PlaygraphResolverSymbol";},function(q,b){function a(c){this.ooa=void 0 === c?function(){}:c;this.rH=new Map();}Object.defineProperty(b,"__esModule",{value:!0});b.Pka=void 0;a.prototype.store=function(c,k){c=this.generateKey(c);this.rH.has(c) && this.x$a(this.rH.get(c),!0);this.rH.set(c,k);};a.prototype.Wo=function(c,k){var g,f,d;d=null === (g=null === k || void 0 === k?void 0:k.TW) || void 0 === g?void 0:g.Yj;g=null === (f=null === k || void 0 === k?void 0:k.TW) || void 0 === f?void 0:f.cL;f={M:c,Yj:d};g && !this.has(f) && this.ooa(c,k);return this.get(f);};a.prototype.has=function(c){c=this.generateKey(c);return this.rH.has(c) && !this.rH.get(c).Wv;};a.prototype.clear=function(){var c;c=this;this.rH.forEach(function(k){c.x$a(k,!1);});this.rH.clear();};a.prototype.get=function(c){return this.rH.get(this.generateKey(c));};a.prototype.generateKey=function(c){var k;k=c.Yj;return c.M.toString() + (k?":" + k:"");};a.prototype.x$a=function(c,k){var g;null === (g=c.events) || void 0 === g?void 0:g.emit("viewableEvicted",{type:"viewableEvicted"});c.fgb=k;};b.Pka=a;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.aLa="MediaHttpSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.cMa="OpenConnectSideChannelSymbol";b.kLa="MediaRequestDownloaderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.iLa="MediaRequestConstructorFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.LMa="PboDispatcherSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.UQa="TransportFactorySymbol";b.CLa="MslTransportSymbol";b.$Pa="SslTransportSymbol";},function(q,b,a){var m,l;function c(n){return !(!n || !n.rG && !n.pboc || !n.code && !n.code);}function k(n){return !(!n || !n.Sc);}function g(n){return ! !(n instanceof Error);}function f(n){switch(n){case "ACCOUNT_ON_HOLD":return l.S.apb;case "STREAM_QUOTA_EXCEEDED":return l.S.epb;case "INSUFFICICENT_MATURITY":return l.S.jpb;case "TITLE_OUT_OF_WINDOW":return l.S.qpb;case "CHOICE_MAP_ERROR":return l.S.dpb;case "BadRequest":return l.S.lpb;case "Invalid_SemVer_Format":return l.S.kpb;case "RESTRICTED_TO_TESTERS":return l.S.opb;case "AGE_VERIFICATION_REQUIRED":return l.S.bpb;case "BLACKLISTED_IP":return l.S.cpb;case "DEVICE_EOL_WARNING":return l.S.tja;case "DEVICE_EOL_FINAL":return l.S.eMa;case "INCORRECT_PIN":return l.S.iMa;case "MOBILE_ONLY":return l.S.npb;case "MDX_CONTROLLER_CTICKET_INVALID":return l.S.mpb;case "VIEWABLE_RESTRICTED_BY_PROFILE":return l.S.rpb;case "RESET_DEVICE":return l.S.hMa;case "RELOAD_DEVICE":return l.S.gMa;case "EXIT_DEVICE":return l.S.fMa;case "FREE_PREVIEW_ENDED":return l.S.ipb;case "STREAMING_LOCATION_DISALLOWED":return l.S.ppb;case "EXTRA_MEMBER_STREAM_HOLD":return l.S.hpb;case "EXTRA_MEMBER_REMOVED_STREAM_HOLD":return l.S.gpb;default:return l.S.OHa;}}function d(n,p){var r;r=p.bladeRunnerCode?Number(p.bladeRunnerCode):void 0;return new m.Ad(n,f(p.code),"BadRequest" === p.code?l.D5.hkb:void 0,p.code,void 0,p.display,void 0,p.detail,p.display,r,p.alert,p.alertTag);}function h(n,p){return new m.Ad(n,p.Sc,p.fe,void 0,p.vC,p.message,p.details,p.data);}Object.defineProperty(b,"__esModule",{value:!0});b.hXa=b.iXa=b.JKb=b.OKb=b.wq=b.NKb=b.tRb=b.oRb=b.B6a=void 0;m=a(41);l=a(3);b.B6a=c;b.oRb=k;b.tRb=g;b.NKb=f;b.wq=function(n,p){return k(p)?h(n,p):c(p)?d(n,p):g(p)?m.Ad.lsa(n,p):new m.Ad(n,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,p);};b.OKb=d;b.JKb=h;b.iXa=function(n,p,r,t,w){var v,u,x,y;v=p.geb[r];if(void 0 === v)throw {rG:!0,code:"FAIL",display:"Unable to build the URL for " + r + " because there was no configuration information",detail:p};u=v.version;if(void 0 === u)throw {rG:!0,code:"FAIL",display:"Unable to build the URL for " + r + " because there was no version information",detail:p};x=v.service;if(void 0 === x)throw {rG:!0,code:"FAIL",display:"Unable to build the URL for " + r + " because there was no service information",detail:p};y=v.orgOverride;if(void 0 === y && (y=p.organization,void 0 === y))throw {rG:!0,code:"FAIL",display:"Unable to build the URL for " + r + " because there was no organization information",detail:p};return v.isPlayApiDirect?n.xNb(t) + "/" + y + "/" + x + "/" + u:n.nNb(t) + "/" + y + "/" + x + "/" + u + "/" + (void 0 === w?"router":w);};b.hXa=function(n,p){var r;r={"Content-Type":"text/plain"};p=p();n.uVa && p && (r["X-Esn"]=p.Xl);return r;};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.qNa="PboRequestFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZQa="TrickPlayManagerSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cr=void 0;q=b.Cr || (b.Cr={});q[q.S5=0]="NOT_LOADED";q[q.LOADING=1]="LOADING";q[q.PH=2]="LOADED";q[q.cU=3]="LOAD_FAILED";q[q.dMa=4]="PARSE_FAILED";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.wEa="BandwidthMeterFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.PNa="PlaybackInfoPanelFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.iPa="RepositionTraceSymbol";b.gPa="RepositionTraceFactorySymbol";},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t,w,v,u,x,y,z,A,B,D,C,F,G,E,I,K,L,H,P,N,J,M,O,Q,T,V,da,pa,xa,ya,sa,X,S;function c(R,W,ia,za,Ra,Fa,$a,Ta,Xa,eb,rb,U,fa,la,wa,Ka,ab,ob,mb,Gb,Jb,Qb,Fb,Rb,bc,ad,Qd,Df,Ef,Ff,Gf,Hf,Rd){var yb,If;function Ze(vb){vb.newValue && vb.newValue.stream && (yb.Le.removeListener(Ze),yb.yba=vb.newValue.stream.bitrate);}function $e(vb){vb.newValue !== Q.zb.tg && vb.newValue !== Q.zb.Rh && (yb.Ob.removeListener($e),yb.rK=yb.La.k2,yb.dc.rd(Q.ka.Ow));}function af(vb){vb.newValue !== Q.zb.tg && (yb.Ob.removeListener(af),yb.Yn=!0,yb.$0=yb.La.Nf.ia(F.sa),yb.dc.rd(Q.ka.Yn));}yb=this;this.Eb=Ra;this.Dl=Fa;this.VB=$a;this.Ma=Xa;this.BE=eb;this.La=rb;this.J_=U;this.Hwa=wa;this.HQ=Ka;this.Zd=ab;this.Oi=ob;this.Jj=mb;this.DO=Gb;this.a1=Jb;this.kk=Qb;this.wCa=Fb;this.Cg=Rb;this.Qe=bc;this.Kya=ad;this.Xn=Qd;this.Zcb=Df;this.Zna=Ef;this.OK=Ff;this.vya=Gf;this.vO=Hf;this.rbb=[];this.hu=new Map();this.Nc=new t.uc(null);this.Ug=new t.uc(null);this.Cc=new t.uc(null);this.xj=new t.uc(null);this.qx=new t.uc(void 0);this.Df=new t.uc(null);this.Uh=new t.uc(null);this.mediaTime=new t.uc(void 0);this.playbackRate=new ya.TNa(1,w.config.Twa);this.ICa=function(vb){return yb.Nc.set(vb.newValue);};this.p8b=function(vb){return yb.Ug.set(vb.newValue);};this.m8b=function(vb){return yb.Cc.set(vb.newValue);};this.N7b=function(vb){return yb.xj.set(vb.newValue);};this.l8b=function(vb){return yb.qx.set(vb.newValue);};this.o8b=function(vb){return yb.Df.set(vb.newValue);};this.O7b=function(vb){return yb.Uh.set(vb.newValue);};this.d8b=function(vb){return yb.Le.set(vb.newValue);};this.c8b=function(vb){return yb.bg.set(vb.newValue);};this.$7b=function(vb){return yb.mediaTime.set(vb.newValue);};this.kga=function(vb){return yb.playbackRate.set(vb.newValue);};this.sl={};this.lAa=this.rCa=0;this.dc=new v.El();this.D3={};this.E2=this.hbb=this.Yn=!1;this.qH=new t.uc(void 0);this.state=new t.uc(Q.qc.VM);this.xk=new t.uc(!1);this.paused=new t.uc(!1);this.muted=new t.uc(!1);this.volume=new t.uc(w.config.sGb / 100);this.Ob=new t.uc(Q.zb.tg);this.Lf=new t.uc(Q.eg.Md);this.zt=new t.uc(Q.eg.Md);this.lo=new t.uc(Q.eg.Md);this.bg=new t.uc(null);this.Le=new t.uc(null);this.Moa=new t.uc(null);this.lba=(0,p.zIa)(this);this.Hc=[new t.uc(null),new t.uc(null)];this.woa={};this.qP=!1;this.fb=this.yl=-1;this.Bta=function(vb,Tb){var Hc;vb=void 0 === vb?null:vb;return (0,H.Oa)(vb)?Tb && !yb.nl(Tb).pa?vb:(null === (Hc=yb.Ra) || void 0 === Hc?0:Hc.bj)?yb.Ra.Kv(vb):vb:null;};this.S$a=function(){yb.BBa();};this.VE=R;this.addEventListener=this.dc.addListener;this.removeEventListener=this.dc.removeListener;this.fireEvent=this.dc.rd;this.yna({M:R,ea:za,ob:ia || ({})},w.config.Vw?this.Zd.OB(R):void 0,W);this.log=(0,C.hj)(this);this.Z9=Ta(this);this.wzb=fa(this);this.qp=(0,M.createElement)("DIV",r.kka,void 0,{id:this.L});this.FQb();If=la((0,F.Nh)(1));this.xd=this.log.G9("Playback");(0,d.xNa)(this);y.PD.T9a=this;y.PD.Yra || (y.PD.Yra=this);this.xd.info("Playback created",this.Lh);this.owa?this.xd.info("Playback selected for trace playback info logging"):this.xd.trace("Playback not selected for trace playback info logging");w.config.Vw && (this.Zd.bPb(this.L),this.addEventListener(Q.ka.Ow,function(){yb.Zd.dPb(yb.L);yb.Cc.addListener(function(){yb.Zd.G4a();});yb.Nc.addListener(function(){yb.Zd.G4a();});}),this.addEventListener(Q.ka.Fh,function(){yb.Zd.aPb(yb.L);}));this.state.addListener(function(vb){yb.xd.info("Playback state changed",{From:vb.oldValue,To:vb.newValue});(0,E.Db)(vb.newValue > vb.oldValue);});x.zf.addListener(x.Zo,this.S$a,r.X5);this.mediaTime.addListener(function(){yb.gKb();If.Vm(function(){return yb.s1a();});});this.Ob.addListener(function(vb){yb.xd.info("PresentingState changed",{From:vb.oldValue,To:vb.newValue,MediaTime:(0,I.Sj)(yb.mediaTime.value)},yb.Gw());});this.Ob.addListener(function(){yb.xk.set(yb.Ob.value === Q.zb.$c);});this.Lf.addListener(function(vb){yb.xd.info("BufferingState changed",{From:vb.oldValue,To:vb.newValue,MediaTime:(0,I.Sj)(yb.mediaTime.value)},yb.Gw());});this.zt.addListener(function(vb){yb.xd.info("AV BufferingState changed",{From:vb.oldValue,To:vb.newValue,MediaTime:(0,I.Sj)(yb.mediaTime.value)},yb.Gw());});this.lo.addListener(function(vb){yb.xd.info("Text BufferingState changed",{From:vb.oldValue,To:vb.newValue,MediaTime:(0,I.Sj)(yb.mediaTime.value)},yb.Gw());});this.Nc.addListener(function(vb){(0,E.Db)(vb.newValue && vb.newValue.jj);yb.xd.info("AudioTrack changed",vb.newValue && ({ToBcp47:vb.newValue.Vf,To:vb.newValue.trackId}),vb.oldValue && ({FromBcp47:vb.oldValue.Vf,From:vb.oldValue.trackId}),{MediaTime:(0,I.Sj)(yb.mediaTime.value)});});this.Cc.addListener(function(vb){(0,E.Db)(!vb.newValue || vb.newValue.jj);yb.xd.info("TimedTextTrack changed",vb.newValue?{ToBcp47:vb.newValue.Vf,To:vb.newValue.trackId}:{To:"none"},vb.oldValue?{FromBcp47:vb.oldValue.Vf,From:vb.oldValue.trackId}:{From:"none"},{MediaTime:(0,I.Sj)(yb.mediaTime.value)});});this.Ob.addListener(af,r.XM);this.Ob.addListener($e);this.addEventListener(Q.ka.Ow,function(){yb.E2=!0;yb.xfb=yb.hX();yb.We("start");});this.Le.addListener(Ze);(0,D.JNa)(this);y.Lp.push(this);w.config.I1 && (this.$da=this.Kya(this),this.cea=new A.VNa(this));y.Uja.forEach(function(vb){vb(yb);});this.Gxb=function(){yb.addEventListener(Q.ka.sL,function(vb){var Tb;vb=vb.cause;vb !== Q.uf.jA && vb !== Q.uf.eN && (null === (Tb=yb.Ra) || void 0 === Tb?void 0:Tb.stop());});yb.addEventListener(Q.ka.xl,function(vb){var Tb,Hc,bf,Jf,zc,Sd,Kf,Td,cf,Lf;yb.Zcb.xl(vb);bf=vb.cause;Jf=vb.skip;zc=vb.rda;Sd=vb.Txa;Kf=vb.L;Td=vb.il;yb.oa.Om.Nxa(Sd,zc);if(bf !== Q.uf.eN && bf !== Q.uf.jA)if(Jf){if(null !== (Tb=yb.Ra) && void 0 !== Tb && Tb.Aj(zc)){yb.xd.trace("Repositioned. Skipping from " + Sd + " to " + zc);vb=function(Ub){yb.log.error("streamingSession.skipped threw an exception",Ub);Ub=T.Ad.lsa(G.W.yjb,Ub);yb.ju(Ub.code,Ub);};try{yb.Ra.xp(zc).then(function(Ub){var Ic;Ub.sQ || (null === (Ic=yb.Ra) || void 0 === Ic?void 0:Ic.play());}).catch(vb);}catch(Ub){vb(Ub);}}else yb.log.error("can skip returned false");}else {yb.xd.trace("Repositioned. Seeking from " + Sd + " to " + zc);try{cf=yb.Eb.Gaa(yb.oa);Lf=Object.keys(cf.P).find(function(Ub){var Ic;Ub=cf.P[Ub];return Ub.M === Kf && Ub.ya <= Td && (null !== (Ic=Ub.za) && void 0 !== Ic?Ic:Infinity) > Td;});null === (Hc=yb.Ra) || void 0 === Hc?void 0:Hc.uu(Td,Lf);}catch(Ub){yb.log.error("streamingSession.seekByContentPts threw an exception",Ub);zc=T.Ad.lsa(G.W.wjb,Ub);yb.ju(zc.code,zc);}}});};this.playbackRate.addListener(function(){var vb,Tb;if(null === (vb=yb.Ra) || void 0 === vb?0:vb.bj)null === (Tb=yb.Ra) || void 0 === Tb?void 0:Tb.Mya();});this.addEventListener(Q.ka.gB,function(vb){var Tb;vb.cause == y.Rja && (yb.Lf.set(Q.eg.Md),null === (Tb=yb.Ra) || void 0 === Tb?void 0:Tb.yp(yb.ng.L2a()));});Rd && (this.oa.pa=Rd,this.kk.H2(R,Rd));}Object.defineProperty(b,"__esModule",{value:!0});b.ONa=void 0;k=a(2);g=a(34);f=a(331);d=a(333);h=a(175);m=a(600);l=a(1386);n=a(1387);p=a(603);r=a(16);t=a(82);w=a(19);v=a(75);u=a(604);x=a(66);y=a(65);z=a(141);A=a(606);B=a(1390);D=a(610);C=a(9);F=a(6);G=a(3);E=a(24);I=a(98);K=a(26);L=a(62);H=a(14);P=a(611);N=a(110);J=a(337);M=a(46);O=a(109);Q=a(18);T=a(41);V=a(334);da=a(614);pa=a(138);xa=a(1393);ya=a(1394);sa=a(47);X=a(63);S=a(613);c.prototype.We=function(R,W){var ia;W=void 0 === W?this.VE:W;null === (ia=this.hu.get(W)) || void 0 === ia?void 0:ia.We(R);};c.prototype.WB=function(R){this.oa.WB(R);};c.prototype.hQ=function(){var R;return !(null === (R=this.pa) || void 0 === R || !R.Tb.Hn);};c.prototype.FQb=function(){var R;R=this;this.Nc.addListener(function(W){return R.oa.Nc.set(W.newValue);});this.Ug.addListener(function(W){return R.oa.Ug.set(W.newValue);});this.Cc.addListener(function(W){return R.oa.Cc.set(W.newValue);});this.xj.addListener(function(W){return R.oa.xj.set(W.newValue);});this.qx.addListener(function(W){return R.oa.qx.set(W.newValue);});this.Df.addListener(function(W){return R.oa.Df.set(W.newValue);});this.Uh.addListener(function(W){return R.oa.Uh.set(W.newValue);});this.Le.addListener(function(W){return R.oa.Le.set(W.newValue);});this.bg.addListener(function(W){return R.oa.bg.set(W.newValue);});this.Hc[g.$b.kb.mc].addListener(function(W){return R.oa.Hc[g.$b.kb.mc].set(W.newValue);});this.Hc[g.$b.kb.Vb].addListener(function(W){return R.oa.Hc[g.$b.kb.Vb].set(W.newValue);});this.mediaTime.addListener(function(W){return R.oa.mediaTime.set(W.newValue);});this.playbackRate.addListener(function(W){return R.oa.playbackRate.set(W.newValue);});this.ydb();};c.prototype.ydb=function(){var R;R=this;this.oa !== this.FAa && (this.oa.mediaTime.set(this.mediaTime.value),this.oa.playbackRate.set(this.playbackRate.value),this.Ss(function(W){return W.Nc;},this.ICa),this.Ss(function(W){return W.Ug;},this.p8b),this.Ss(function(W){return W.qx;},this.l8b),this.Ss(function(W){return W.Cc;},this.m8b),this.Ss(function(W){return W.xj;},this.N7b),this.Ss(function(W){return W.Df;},this.o8b),this.Ss(function(W){return W.Uh;},this.O7b),this.Ss(function(W){return W.bg;},this.c8b),this.Ss(function(W){return W.Le;},this.d8b),this.Ss(function(W){return W.Hc[g.$b.kb.mc];},function(W){return R.Hc[g.$b.kb.mc].set(W.newValue);}),this.Ss(function(W){return W.Hc[g.$b.kb.Vb];},function(W){return R.Hc[g.$b.kb.Vb].set(W.newValue);}),this.Ss(function(W){return W.mediaTime;},this.$7b),this.Ss(function(W){return W.playbackRate;},this.kga),this.Cc.set(this.oa.Cc.value),this.Nc.set(this.oa.Nc.value,{GVa:!0}),this.Ug.set(this.oa.Ug.value),this.xj.set(this.oa.xj.value),this.qx.set(this.oa.qx.value),this.Df.set(this.oa.Df.value),this.Uh.set(this.oa.Uh.value),this.FAa=this.oa);};c.prototype.Ss=function(R,W){this.FAa && R(this.FAa).removeListener(W);R(this.oa).addListener(W);};c.prototype.load=function(R){var W,ia;W=this;this.load=function(){};this.ubb=R;if(this.state.value == Q.qc.VM){this.xd.info("Playback loading",this);this.FWb();this.We("asl_load_start");ia=this.BE;R=ia.startTime;ia=ia.endTime;(0,H.Gd)(R)?(0,H.Gd)(ia)?this.We("asl_ended"):this.We("asl_in_progress"):this.We("asl_not_started");this.BE.A_(function(za){W.We("asl_load_complete");za.fa?W.FEb():W.ju(za.errorCode || G.W.zia,za);});}};c.prototype.SZb=function(){!1;try{this.state.value === Q.qc.LOADING && (this.aib(),this.xy=this.DO.Zxb({lM:(0,F.Vc)(this.da),L:this.L,Zda:this.sB,ob:this.ob,nG:this.Kc.cp?w.config.lya:this.ob.ei?w.config.kya:w.config.nG}).ia(F.sa),this.Xna(),this.CFb());}catch(R){this.ju(G.W.wnb,{Ea:G.S.jn,ac:(0,K.hf)(R)});}};c.prototype.aib=function(){var R,W,ia;ia={width:1,height:1};this.zF({jib:!0}).forEach(function(za){ia.width * ia.height < za.width * za.height && (ia={width:za.width,height:za.height});});ia.height === (null === (R=this.qH.value) || void 0 === R?void 0:R.height) && ia.width === (null === (W=this.qH.value) || void 0 === W?void 0:W.width) || this.qH.set(ia);};c.prototype.lz=function(){var R,W;!1;W=this.Eb.Gaa(this);this.lZa(W);null === (R=this.Ra) || void 0 === R?void 0:R.Oz(W);};c.prototype.YK=function(R){var W,ia;!1;(0,E.Db)(this.Ra,"ASE should be initialized");ia=this.Eb.qZ(R);ia?R === this.Eb.Yh?this.Ra.Ct(ia,!0,!0) || this.GZ(ia,{}):null === (W=this.Ra) || void 0 === W?void 0:W.oj(R,ia,!1,!0):this.log.warn("onNextSegmentChanged: Next segment not found");};c.prototype.GZ=function(R,W,ia){var za,Ra,Fa,$a,Ta;za=this;ia=void 0 === ia?!0:ia;!1;$a=this.Eb.kf(R);if(this.Jj.qga && this.Eb.oa.M === $a.M)return Promise.resolve(this.ng.seek($a.ya,Q.uf.hI,void 0));$a=this.Dl.fQ($a.M);W=(0,N.Sca)($a.Nb,W);if(null === (Ra=this.Ra) || void 0 === Ra || !Ra.bj)throw (!1,Error("No streaming session"));!1;this.eJ("Transition " + this.Eb.Yh + "->" + R);Ta=this.nl(R);Ta.mo=this.Ma.ec().ia(F.sa);Ta.ob=W;return "seamless" !== (null !== (Fa=this.Eb.kf(R).ye) && void 0 !== Fa?Fa:"seamless") || ia?(this.Ra.WP(R).GO?this.OOb(R,Ta.L):this.e2(R,Ta.L)).then(function(){za.zKb(Ta.L);}):Promise.resolve();};c.prototype.e2=function(R,W){var ia;ia=this.Eb.dm.P[R].ya;!1;this.eJ("NO DATA " + R + ", SEEKING " + ia + ", viewableId: " + W);return Promise.resolve(this.ng.seek(ia,Q.uf.hI,R,!0));};c.prototype.OOb=function(R,W){var ia,za,Ra,Fa,$a;ia=this;!1;za=this.Ra;if(null === za || void 0 === za || !za.bj)throw Error("No streaming session");Ra=new Promise(function(Ta){function Xa(){!1;za.removeEventListener("stop",Xa);Ta();}za.addEventListener("stop",Xa);});Fa=!1;$a=new Promise(function(Ta){function Xa(rb){!1;ia.removeEventListener(Q.ka.xl,Xa);Fa=rb.skip;Ta();}function eb(){!1;ia.removeEventListener(Q.ka.sL,eb);za.stop();}ia.addEventListener(Q.ka.sL,eb);ia.addEventListener(Q.ka.xl,Xa);});Ra=Promise.all([Ra,$a]).then(function(){var Ta;Ta=!1;Fa && (Ta=za.Ct(R,!1,!0));if(!Ta)return (ia.eJ("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),ia.e2(R,W));});$a=za.WO(R,this.Eb.dm.P[R].ya);!1;this.ng.seek($a,Q.uf.eN,R,!0);return Ra;};c.prototype.yna=function(R,W,ia){var za,Ra,Fa,$a,Ta;W=void 0 === W?this.VB.uB():W;ia=void 0 === ia?this.Ma.ec():ia;Ra=! !w.config.Fib && !(W % w.config.Fib);Fa=R.M;$a=R.ea;Ta=R.ob;R=R.zi;this.hu.has(Fa)?this.hu.get(Fa):(W=this.a1(y.PD.index++,Fa,$a,Ta,W,ia,Ra,this.oa,this.Bta,this.hQ,R),this.hu.set(Fa,W),1 < this.hu.size && (W.D_=this.HQ.create(this,W,!1)),W.OQ=new z.nLa(this,W),null === (za=this.Ra) || void 0 === za?void 0:za.GX(W.ea,{ja:W.ja,mp:W.jg}),1 < this.hu.size && this.kk.Xaa(W.L) && this.yea(W));};c.prototype.eFb=function(R,W,ia){var za,Ra,Fa,$a,Ta;za=this;!1;Ta={Rba:!0,ei:!1,GS:Date.now()};(0,E.Db)(W.TW,"Auxiliary viewable config request options must have auxiliary options");W=W.TW;W={Yj:W.Yj,mya:this.lj,cL:W.cL};(0,E.Db)(null === (Ra=this.Ra) || void 0 === Ra?void 0:Ra.pd,"If we have auxiliary viewables combined playgraph must exist");Ra=Object.keys(null === ($a=null === (Fa=this.Ra) || void 0 === Fa?void 0:Fa.pd) || void 0 === $a?void 0:$a.P).find(function(Xa){var eb,rb;return (null === (rb=null === (eb=za.Ra) || void 0 === eb?void 0:eb.pd) || void 0 === rb?void 0:rb.P[Xa].M) === R;});(0,E.Db)(! !Ra,"Segment for the auxiliary viewable should exist in the combined playgraph");this.yna({zi:W,ob:Ta,ea:Ra,M:R},ia);};c.prototype.Oy=function(R){if(R === S.Eja)return this.oa;if(!this.hu.has(R))throw Error("Playback segment not found: " + R);return this.hu.get(R);};c.prototype.nl=function(R){var ia,za,Ra,Fa,$a,Ta;function W(Xa){for(var eb=ra(ia.rR),rb=eb.next();!rb.done;rb=eb.next()){if((rb=rb.value,rb.ea === Xa))return rb;}}ia=this;Ta=W(R);return Ta?Ta:(null === (Ra=null === (za=this.Ra) || void 0 === za?void 0:za.pd) || void 0 === Ra?0:Ra.P[R]) && (za=null === (Fa=this.Ra) || void 0 === Fa?void 0:Fa.pd.P[R].Lc) && this.Eb.TC(za)?(Fa=this.Eb.kf(za).M,R=null === ($a=this.Ra) || void 0 === $a?void 0:$a.pd.P[R].M,Fa === R && (Ta=W(za)),null !== Ta && void 0 !== Ta?Ta:this.Oy(R)):this.oa;};c.prototype.BNb=function(R){for(var W,ia,za=ra(this.rR),Ra=za.next();!Ra.done;Ra=za.next()){if((Ra=Ra.value,(null === (ia=null === (W=Ra.gf) || void 0 === W?void 0:W.Xb) || void 0 === ia?void 0:ia.sessionId) === R))return Ra;}return this.oa;};c.prototype.yea=function(R){var W,ia;W=this;!1;ia=R.L;this.Dl.D3b(ia);return this.j2(R).then(function(za){W.lza(za,R);za=R.xK?W.ic.Jm.$cb(R):Promise.resolve();W.e_b(R);return za.then(function(){return W.Dl.reb(ia);});}).catch(function(za){W.log.error("queueManifest failed",za);W.Dl.C3b(ia,za);throw W.Oi(za.code,za);});};c.prototype.qLb=function(){if((0,H.Oa)(this.Hd.ats) && (0,H.Oa)(this.Hd.at))return this.Hd.at - this.Hd.ats;};c.prototype.l2a=function(){var R,W;R=this.B3();W=this.HW();return Math.min(R,W);};c.prototype.kS=function(){this.background || (this.xd.info("Starting inactivity monitor for movie " + this.L),new u.eJa(this));};c.prototype.close=function(R){R && (this.state.value == Q.qc.CLOSED?R():this.addEventListener(Q.ka.closed,function(){R();}));this.BBa();};c.prototype.de=function(R,W,ia){R=this.Oi(R,W,ia);this.vJ(R,void 0);};c.prototype.vJ=function(R,W){var ia,za,Ra,Fa;ia=this;!1;R.Ceb(this.Yn);if(this.state.value == Q.qc.VM)this.gj || (this.gj=R,this.load());else {W && (this.state.value == Q.qc.CLOSED?W():this.addEventListener(Q.ka.closed,function(){W();}));za=function(){ia.BBa(R);};Ra=w.config.k_a && R && w.config.k_a[R.errorCode];Fa=-1;(0,H.BQ)(Ra) && (Fa=(0,K.tk)(Ra));this.xd.error("Fatal playback error",{Error:"" + R,HandleDelay:"" + Ra});0 <= Fa?setTimeout(za,Fa):za();}};c.prototype.eJ=function(R){var W;W=void 0 === W?this.ea:W;R=this.Ma.ec().ia(F.sa) + "-" + W + "-" + R;!1;this.rbb.push(R);};c.prototype.qKb=function(){this.s1a();};c.prototype.qta=function(){var R;if(null === (R=this.Ra) || void 0 === R?0:R.bj)if((R=this.Ra.Qn().id,void 0 !== R))return R;return null;};c.prototype.wF=function(){var R,W;W=null === (R=this.Ra) || void 0 === R?void 0:R.bj;return void 0 === this.oa.AX || W?this.Bta(this.mediaTime.value):this.oa.AX;};c.prototype.pta=function(){var R;R=this.Bta(this.ng.L2a());return null === R?null:Math.min(this.sB.ia(F.sa),Math.max(0,R));};c.prototype.WY=function(){var R,W;return null === (W=null === (R=this.pa) || void 0 === R?void 0:R.Tb.Mo) || void 0 === W?void 0:W.P;};c.prototype.jga=function(R){!1;this.ob=(0,N.Sca)(this.ob,R);this.Xna();};c.prototype.w4a=function(R){return (null === R || void 0 === R?0:R.M)?R.M:(null === R || void 0 === R?0:R.jib) && this.TO?this.TO.M:this.L;};c.prototype.lLb=function(){var R;R=this.Oy(this.w4a(void 0)).Nc;return R.value?R.value.streams:[];};c.prototype.zF=function(R){return (R=this.Oy(this.w4a(R)).Ug) && R.value?R.value.streams:[];};c.prototype.kPb=function(R){for(var W=ra(this.rR),ia=W.next();!ia.done;ia=W.next()){if(ia=(ia=ia.value.Ai) && ia.find(function(za){return za.id === R;}))return ia;}!1;};c.prototype.e_b=function(R){R=void 0 === R?this.oa:R;!1;R.Cc.value?this.Ps.b_b(R.Cc.value):Promise.resolve();};c.prototype.H4a=function(R){for(var W=ra(this.rR),ia=W.next();!ia.done;ia=W.next()){ia=ra(ia.value.yj);for(var za=ia.next();!za.done;za=ia.next()){if(za=za.value.streams.find(function(Ra){return Ra.Ec === R;}))return za;}}!1;};c.prototype.T4a=function(R){for(var W=ra(this.rR),ia=W.next();!ia.done;ia=W.next()){ia=ra(ia.value.jD);for(var za=ia.next();!za.done;za=ia.next()){if(za=(za=za.value) && za.streams.find(function(Ra){return Ra.Ec === R;}))return za;}}!1;};c.prototype.Mv=function(){var R,W,ia;return null !== (ia=null === (W=null === (R=this.cea) || void 0 === R?void 0:R.DX) || void 0 === W?void 0:W.call(R)) && void 0 !== ia?ia:this.PEb().pF;};c.prototype.Keb=function(R){var W,ia;null !== (W=this.Ra) && void 0 !== W && W.bj && this.hu.has(R) && ((null === (ia=this.cea) || void 0 === ia?0:ia.DX)?this.cea.Hhb():(W=this.eqa(R),this.Ra.Ms(W,R)));};c.prototype.bSb=function(){return "trailer" === this.ze;};c.prototype.kRb=function(){return ! !this.ze && 0 <= this.ze.indexOf("billboard");};c.prototype.iSb=function(){return ! !this.ze && 0 <= this.ze.indexOf("video-merch");};c.prototype.IRb=function(){return ! !this.ze && 0 <= this.ze.indexOf("mini-modal");};c.prototype.zQ=function(){return this.bSb() || this.kRb() || this.iSb() || this.IRb();};c.prototype.naa=function(){var R;if(this.jD){this.zF({jib:!1}).forEach(function(W){var ia,za;if((0,H.Oa)(W.fqa) && (0,H.Oa)(W.CZa) && (0,H.Oa)(W.BZa) && (0,H.Oa)(W.AZa) && (0 < W.fqa || 0 < W.CZa)){ia=1;za=1;(0,H.Oa)(W.Zab) && (0,H.Oa)(W.$ab) && (ia=W.Zab,za=W.$ab);ia=W.AZa * za / (W.BZa * ia);R=(0,H.Oa)(R)?0 < W.fqa?Math.max(R,ia):Math.min(R,ia):ia;}});return R;}};c.prototype.TNb=function(){return {tr:this.rCa,rt:this.lAa};};c.prototype.MB=function(R){return this.sl[R];};c.prototype.Roa=function(){return this.mo?this.Ma.ec().ia(F.sa) - this.mo:this.La.Nf.ia(F.sa) - this.VJ();};c.prototype.hX=function(){var R;if(this.mo)return this.Ma.ec().ia(F.sa) - this.mo;R=this.Ma.fC;return this.$0 - (this.Ij.ia(F.sa) + R.ia(F.sa));};c.prototype.Toa=function(){return this.mo?this.Ma.ec().ia(F.sa) - this.mo:this.$0 - this.VJ();};c.prototype.wLb=function(){var R,W;R=this.loadTime;W={};(0,K.kh)(this.woa,function(ia,za){W[ia]=za.map(function(Ra){return Ra - R;});});return m.wy?{level:m.wy.l3a(),charging:m.wy.Gsa(),statuses:W}:null;};c.prototype.Oaa=function(){this.r1a();return this.D3;};c.prototype.VJ=function(){var R;R=this.ob.GS;R=(0,H.Oa)(R)?R:this.Ij.ia(F.sa) + this.Ma.fC.ia(F.sa);(0,E.Db)((0,H.QF)(R));return R;};c.prototype.W3a=function(){return this.Ma.ec().ia(F.sa) - this.Ij.ia(F.sa);};c.prototype.Leb=function(R,W){this.D3[R]=W;};c.prototype.q9b=function(){this.D4b=!0;};c.prototype.Ada=function(){this.Icb();};c.prototype.B3=function(){var R;R=this.P8();return R && R.vbuflmsec || 0;};c.prototype.HW=function(){var R;R=this.P8();return R && R.abuflmsec || 0;};c.prototype.bDa=function(){var R;R=this.P8();return R && R.vbuflbytes || 0;};c.prototype.doa=function(){var R;R=this.P8();return R && R.abuflbytes || 0;};c.prototype.j2=function(R,W,ia){var za,Ra,Fa,$a;za=this;R=void 0 === R?this.oa:R;ia=void 0 === ia?!0:ia;!1;Ra=! !W;Fa=!Ra && R !== this.oa;$a=w.config.wea.enabled?O.so.Zpb:Fa?O.so.aI:this.zQ()?O.so.u6:O.so.Ar;Ra=this.zQ() || Ra || Fa?void 0:this.ic.Jm.yaa(Fa);return this.kk.UP({ja:R.ja,ob:R.ob,M:R.L,dw:$a,Bg:Ra,Zfa:W,zi:R.zi},R.zi?!1:ia).then(function(Ta){Ta.u6a && za.fireEvent(Q.ka.z_,{L:R.L});return Ta;});};c.prototype.lza=function(R,W,ia){var za,Ra,Fa;W=void 0 === W?this.oa:W;ia=void 0 === ia?!1:ia;!1;if(W.ob.ei && !R.Tb.Mo)this.de(G.W.akb);else {za=this.J_.create(this);Ra=! !(W.zi && W.zi.Yj && W.zi.Sda);if(ia){Fa=za.bQb(W.pa,W.Kc,R);R=Fa.pa;Fa=Fa.Kc;}else (R=Ra?za.C2b(R,null === (Fa=W.zi) || void 0 === Fa?void 0:Fa.Sda):R,Fa=za.Gab(R));W.pa=R;W.Kc=Fa;ia || (W.Ug.set(Fa.V9),W.Nc.set(Fa.OX),W.Cc.set(Fa.SX));}};c.prototype.zKb=function(R){var W;W=void 0 === W?!1:W;!1;this.CL({M:R,uK:W});};c.prototype.K4a=function(R,W){if(!this.Jj.ZCa)return !0;R=this.Rw.ia(F.sa) - R;return 0 > R || R > W;};c.prototype.l2b=function(){!1;this.ng.seek(this.wF() || 0,Q.uf.N4);};c.prototype.m5a=function(R,W){var ia,za;ia=this;!1;za=this.oa;za.b$=!0;return this.j2(za,{mya:za.lj,X1b:R,$1b:W},!1).then(function(Ra){var Fa;ia.lza(Ra,za,!0);ia.kk.H2(za.L,za.pa);return null === (Fa=ia.Ra) || void 0 === Fa?void 0:Fa.Pz(ia.qbb);}).then(function(){var Ra,Fa;Ra=za.yj.find(function($a){return $a.trackId === R;});Fa=za.Si.find(function($a){return $a.trackId === W;});if(!(Ra && Ra.jj && Fa && Fa.jj))throw Error("Track hydration failed: requiredAudioTrackId=" + R + " requiredTextTrackId=" + W);ia.fireEvent(Q.ka.ghb);return {Nc:Ra,W2:Fa};});};c.prototype.CL=function(R){var W,ia,za;W=R.M;ia=R.uK;!1;R.TO !== this.TO && (this.TO=R.TO,this.aib());if(this.vR){if(W === this.VE){this.vR=W;return;}R=this.Oy(W);za=R.pa;za && (0,H.Gd)(za.uL) && (0,H.Gd)(za.LR) && R.WB({pr_ats:za.uL,pr_at:za.LR});this.fireEvent(Q.ka.Gwa,{L:this.VE});this.VE=W;this.Xna();ia || this.ydb();this.rK=this.La.k2;this.oa.mo || (this.oa.mo=this.Ma.ec().ia(F.sa));}("boolean" === typeof this.ob.wP?this.ob.wP:w.config.wP) && !ia && this.wCa.wP(this);ia={L:W,uK:ia,vR:this.vR};this.vR=W;this.fireEvent(Q.ka.GK,ia);};c.prototype.FEb=function(){!1;try{this.ic=new l.YKa(this);this.A9=new V.KFa(this);this.D_=this.HQ.create(this,this.oa,!0);w.config.TAb && new da.xHa(this,this.Cg,this.log);w.config.kX && this.kX(this);this.S8b();}catch(R){this.ju(G.W.vnb,{Ea:G.S.jn,ac:(0,K.hf)(R)});}};c.prototype.S8b=function(){!1;this.gj?this.vJ(this.gj):(0,H.pva)(this.L)?this.uBb():this.ju(G.W.snb,{ac:"" + this.L});};c.prototype.uBb=function(){var R;!1;R=f.RL.jeb;R?R.fa?this.Dpa():this.ju(G.W.$Ia,R):((0,E.Db)(!w.config.s$),this.lna());};c.prototype.Dpa=function(){var R;R=this;!this.background && w.config.Dpa?(0,y.Tja)(function(){R.lna();},this):this.lna();};c.prototype.lna=function(){var R;R=this;!1;this.state.value == Q.qc.LOADING && (w.config.jra && !this.zQ()?f.RL.XA(y.INa,function(W){W.fa?(R.rca=W.rca,R.sWa()):R.ju(G.W.ZIa);},!0):this.sWa());};c.prototype.sWa=function(){var R,W,ia;R=this;if(this.state.value == Q.qc.LOADING){this.log.info("Authorizing",this);W=this.Ma.ec().ia(F.sa);this.We("ats");(0,E.dP)(this.L);(0,E.dP)(this.Lk);ia=this.Q_b.bind(this,W);Promise.all([this.pa,w.config.Vw && this.kk.Xaa(this.L)?this.kk.jaa(this.L).catch(function(){}):void 0]).then(function(za){var Ra,Fa;Ra=ra(za);za=Ra.next().value;Ra=Ra.next().value;za && Ra?Fa=Ra.Tb.expiration > za.Tb.expiration?Ra:za:za?Fa=za:Ra && (Fa=Ra);Fa && 18E5 > Fa.Tb.expiration - (0,X.u9)() && (Fa=void 0);return Fa?(R.pJ=Fa === za?"ui":"videopreparer",Fa):R.j2();}).then(function(za){try{R.lza(za);ia(r.Xg);R.hbb || (R.hbb=!0,R.vya.fr(R));}catch(Ra){R.log.error("Exception processing authorization response",Ra);ia({fa:!1,Ea:G.S.Ppb});}}).catch(ia);}};c.prototype.Q_b=function(R,W){var ia,za;ia=this;!1;if(this.state.value == Q.qc.LOADING){this.We("at");za=this.pa;this.WB({pr_ats:za && (0,H.Gd)(za.uL)?za.uL:R,pr_at:za && (0,H.Gd)(za.LR)?za.LR:this.Ma.ec().ia(F.sa)});W.fa?0 < this.Kc.Ai.length && this.Kc.OX && this.Kc.V9 && this.Kc.SX?this.ubb?(this.log.info("Processing post-authorize",this),this.ubb(this,function(Ra){Ra.fa?ia.Lhb():ia.ju(G.W.znb,Ra);})):this.Lhb():this.ju(G.W.pKa,this.Hwa(this.Kc)):this.ju(G.W.NM,W);}};c.prototype.Lhb=function(){var R,W;k.__awaiter(this,void 0,void 0,function za(){var Ra;Ra=this;return Ma(za,function(Fa){!1;if(Ra.state.value != Q.qc.LOADING)return Fa.return();(null === (R=Ra.oa.pa) || void 0 === R?0:R.Tb.Mo) && Ra.Eb.reset((0,sa.mB)(null === (W=Ra.oa.pa) || void 0 === W?void 0:W.Tb.Mo,{config:w.config}));Ra.Ra=Ra.Zna(Ra.Eb,Ra);Ra.Ra.g4b({yv:h.yv,config:w.config,Qe:Ra.Qe,xd:Ra.xd,Gw:Ra.Gw.bind(Ra),dk:C.dk,o2:Ra.o2.bind(Ra),CL:Ra.CL.bind(Ra)});Ra.SZb();Fa.kG=0;});});};c.prototype.CFb=function(){var R,W,ia,za,Ra,Fa,$a;R=this;!1;try{if(this.state.value === Q.qc.LOADING){this.ic.open();W=new Promise(function(Ta){R.ic.addEventListener(J.Qk.pfb,Ta);});this.ng=new P.gLa(this);ia=this.Kc.OX.Ti === pa.Br.NONE;za={pH:this.Kc.OX.rs || ia};Ra={ja:this.ja,mp:this.jg,AB:this.AB};try{if(this.state.value !== Q.qc.LOADING)return;Fa=this.Ra;Fa.zba({flags:za,Dy:Ra,ea:this.qbb,eqa:this.eqa.bind(this)});$a=this.Eb.Gaa(this);this.lZa($a);Fa.Oz($a);this.Gxb();Fa.Izb({sl:this.sl,loadTime:this.loadTime});}catch(Ta){throw (this.log.error("Failed to initialize ASE streaming",{error:Ta,startPts:this.da,flags:za}),Ta);}W.then(function(){var Ta;R.state.value !== Q.qc.CLOSING && R.state.value !== Q.qc.CLOSED && (null === (Ta=R.Ra) || void 0 === Ta?void 0:Ta.open());});this.mediaTime.set(this.da);this.Ps=new n.LQa(this);if("boolean" === typeof this.ob.Lea?this.ob.Lea:w.config.Lea)this.a3=new B.MQa(this);this.kS();y.Vja.forEach(function(Ta){Ta(R);});this.EWb();}}catch(Ta){this.ju(G.W.xnb,{Ea:G.S.jn,ac:(0,K.hf)(Ta)});}};c.prototype.FWb=function(){(0,E.Db)(this.state.value == Q.qc.VM);this.loadTime=this.Ma.ec().ia(F.sa);this.state.set(Q.qc.LOADING);};c.prototype.ju=function(R,W){this.done || (this.done=!0,W instanceof T.Ad?this.de(W.code,W):this.de(R,W));};c.prototype.kX=function(R){var ia,za;function W(){var Ra,Fa;Ra=m.wy.Gsa() + "";Fa=R.woa[Ra];Fa || (Fa=R.woa[Ra]=[]);Fa.push(ia.Ma.ec().ia(F.sa));ia.log.trace("charging change event",{level:m.wy.l3a(),charging:m.wy.Gsa()});}ia=this;za=m.wy.Jkb;m.wy.addEventListener(za,W);R.addEventListener(Q.ka.Fh,function(){m.wy.removeEventListener(za,W);});};c.prototype.BBa=function(R){var W,ia;W=this;if(this.state.value == Q.qc.VM || this.state.value == Q.qc.LOADING || this.state.value == Q.qc.Re){this.xd.info("Playback closing",this,R?{ErrorCode:R.e$}:void 0);this.eJ("Closing");x.zf.removeListener(x.Zo,this.S$a);this.gj=R;this.oa.AX=this.wF();this.r1a();(null === (ia=this.Ra) || void 0 === ia?0:ia.bj) && this.Ra.flush();try{this.dc.rd(Q.ka.Fh,{movieId:this.VE});}catch(za){this.xd.error("Unable to fire playback closing event",za);}this.state.set(Q.qc.CLOSING);this.vjb();this.D4b || (0,L.wg)(function(){return W.Icb();});}};c.prototype.gKb=function(){this.dc.rd(Q.ka.Fhb);};c.prototype.s1a=function(){var R;R=this.mediaTime.value;this.RSb != R && (!1,this.RSb=R,this.dc.rd(Q.ka.jCa));};c.prototype.Icb=function(){var R,W;R=this;(0,E.Db)(this.state.value == Q.qc.CLOSING);W=this.rca;this.rca=void 0;W?f.RL.release(W,function(ia){(0,E.Db)(ia.fa);R.Jpa();}):this.Jpa();};c.prototype.vjb=function(){var R;null === (R=this.Ra) || void 0 === R?void 0:R.sd();delete this.Ra;};c.prototype.Jpa=function(){var R;this.Jpa=r.Qx;(0,E.Db)(this.state.value == Q.qc.CLOSING);R=y.Lp.indexOf(this);(0,E.Db)(0 <= R);y.Lp.splice(R,1);this.state.set(Q.qc.CLOSED);this.dc.rd(Q.ka.closed,void 0,!0);this.dc.Ei();delete this.gf;this.oa.Ada();};c.prototype.Xna=function(){this.ob.playbackState && ("number" === typeof this.ob.playbackState.volume && this.volume.set((0,I.LD)(this.ob.playbackState.volume,0,1)),"boolean" === typeof this.ob.playbackState.muted && this.muted.set(this.ob.playbackState.muted),"number" === typeof this.ob.playbackState.playbackRate && this.playbackRate.set(this.ob.playbackState.playbackRate));};c.prototype.r1a=function(){this.dc.rd(Q.ka.Zeb,{D3:this.D3});};c.prototype.o2=function(R,W,ia){var za;R=this.nl(R);za=R.Ai.filter(function(Ra){return Ra.id === W;})[0];za && R.Hc[ia].set(za);};c.prototype.Gw=function(){return {AudioBufferLength:this.HW(),VideoBufferLength:this.B3()};};c.prototype.P8=function(){var R;if(null === (R=this.Ra) || void 0 === R?0:R.bj)return this.Ra.Aba(!1);};c.prototype.EWb=function(){this.state.value == Q.qc.LOADING && this.state.set(Q.qc.Re);};c.prototype.PEb=function(){var R,W,ia;R=void 0 === R?this.L:R;W=this.zF({M:R});ia=this.Oy(R);return (0,xa.Mv)(W,function(za){return ia.OQ.Fz(za);});};c.prototype.eqa=function(R){var W,ia;R=void 0 === R?this.L:R;W=this.zF({M:R});ia=this.Oy(R);return (0,xa.u4a)(W,function(za){return ia.OQ.Fz(za);});};c.prototype.lZa=function(R){var W;W=this;Object.keys(R.P).filter(function(ia){return !W.hu.has(R.P[ia].M);}).forEach(function(ia){var za,Ra,Fa;Ra=R.P[ia];Fa=Ra.M;Ra=Object.assign(null !== (za=W.Dl.fQ(Fa).Nb) && void 0 !== za?za:{},{da:Ra.ya,Ta:Ra.za,ei:!1,GS:Date.now(),Rba:!0});W.yna({M:Fa,ea:ia,ob:Ra});});};Ya.Object.defineProperties(c.prototype,{rR:{configurable:!0,enumerable:!0,get:function(){return this.hu.values();}},oa:{configurable:!0,enumerable:!0,get:function(){return this.hu.get(this.VE);}},da:{configurable:!0,enumerable:!0,get:function(){var R,W;return void 0 !== this.xy?this.xy:null !== (W=null === (R=this.rR.next()) || void 0 === R?void 0:R.value.ob.da) && void 0 !== W?W:0;}},Kc:{configurable:!0,enumerable:!0,get:function(){return this.oa.Kc;},set:function(R){this.oa.Kc=R;}},S$:{configurable:!0,enumerable:!0,get:function(){return this.oa.ob.S$;}},T$:{configurable:!0,enumerable:!0,get:function(){return this.oa.ob.T$;}},index:{configurable:!0,enumerable:!0,get:function(){return this.oa.index;}},ea:{configurable:!0,enumerable:!0,get:function(){return this.oa.ea;}},qbb:{configurable:!0,enumerable:!0,get:function(){return this.Eb.$Ca?this.Eb.Yh:this.oa.ea;}},gf:{configurable:!0,enumerable:!0,get:function(){return this.oa.gf;},set:function(R){this.oa.gf=R;}},mo:{configurable:!0,enumerable:!0,get:function(){return this.oa.mo;},set:function(R){this.oa.mo=R;}},pJ:{configurable:!0,enumerable:!0,get:function(){return this.oa.pJ;},set:function(R){this.oa.pJ=R;}},oJ:{configurable:!0,enumerable:!0,get:function(){return this.oa.oJ;},set:function(R){this.oa.oJ=R;}},yba:{configurable:!0,enumerable:!0,get:function(){return this.oa.yba;},set:function(R){this.oa.yba=R;}},pa:{configurable:!0,enumerable:!0,get:function(){return this.oa.pa;},set:function(R){this.oa.pa=R;}},xy:{configurable:!0,enumerable:!0,get:function(){return this.oa.xy;},set:function(R){this.oa.xy=R;}},S2:{configurable:!0,enumerable:!0,get:function(){return this.oa.S2;},set:function(R){this.oa.S2=R;}},ob:{configurable:!0,enumerable:!0,get:function(){return this.oa.ob;},set:function(R){this.oa.ob=R;}},D_:{configurable:!0,enumerable:!0,get:function(){return this.oa.D_;},set:function(R){this.oa.D_=R;}},Om:{configurable:!0,enumerable:!0,get:function(){return this.oa.Om;}},L:{configurable:!0,enumerable:!0,get:function(){return this.oa.L;}},ze:{configurable:!0,enumerable:!0,get:function(){return this.oa.ze;}},yj:{configurable:!0,enumerable:!0,get:function(){return this.oa.yj;}},jD:{configurable:!0,enumerable:!0,get:function(){return this.oa.jD;}},eD:{configurable:!0,enumerable:!0,get:function(){return this.oa.eD;}},Si:{configurable:!0,enumerable:!0,get:function(){return this.oa.Si;}},lj:{configurable:!0,enumerable:!0,get:function(){return this.oa.lj;}},xK:{configurable:!0,enumerable:!0,get:function(){return this.oa.xK;}},Zw:{configurable:!0,enumerable:!0,get:function(){return this.oa.Zw;}},Bm:{configurable:!0,enumerable:!0,get:function(){return this.oa.Bm;}},Ai:{configurable:!0,enumerable:!0,get:function(){return this.oa.Ai;}},sB:{configurable:!0,enumerable:!0,get:function(){return this.oa.sB;},set:function(R){this.oa.sB=R;}},ja:{configurable:!0,enumerable:!0,get:function(){return this.oa.ja;}},Lk:{configurable:!0,enumerable:!0,get:function(){return this.oa.Lk;}},Ij:{configurable:!0,enumerable:!0,get:function(){return this.oa.Ij;}},rK:{configurable:!0,enumerable:!0,get:function(){return this.oa.rK;},set:function(R){this.oa.rK=R;}},jg:{configurable:!0,enumerable:!0,get:function(){return this.oa.jg;}},HL:{configurable:!0,enumerable:!0,get:function(){return this.oa.HL;}},background:{configurable:!0,enumerable:!0,get:function(){return this.oa.background;},set:function(R){this.oa.background=R;}},K9:{configurable:!0,enumerable:!0,get:function(){return this.oa.K9;}},Hd:{configurable:!0,enumerable:!0,get:function(){return this.oa.Hd;}},Sr:{configurable:!0,enumerable:!0,get:function(){return this.oa.Sr;}},Uqa:{configurable:!0,enumerable:!0,get:function(){return this.oa.Uqa;}},OQ:{configurable:!0,enumerable:!0,get:function(){return this.oa.OQ;}},AB:{configurable:!0,enumerable:!0,get:function(){return 0 !== w.config.i$ && 0 === this.oa.ja % w.config.i$;}},b$:{configurable:!0,enumerable:!0,get:function(){return this.oa.b$;}},Lh:{configurable:!0,enumerable:!0,get:function(){return {MovieId:this.L,TrackingId:this.Lk,Xid:this.ja};}},jea:{configurable:!0,enumerable:!0,get:function(){return this.Eb.jea;}}});b.ONa=c;},function(q,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});b.Jfb=void 0;c=a(16);k=a(9);g=a(3);a(26);b.Jfb=function(f){var d;(0,k.dk)("Storage");d={};f({fa:!0,storage:{load:function(h,m){var l;if(d.hasOwnProperty(h)){l=d[h];!1;m({fa:!0,data:l,Dfa:h});}else (!1,m({Ea:g.S.SD}));},save:function(h,m,l,n){l && d.hasOwnProperty(h)?n({fa:!1}):(d[h]=m,!1,n && n({fa:!0,Dfa:h}));},remove:function(h,m){delete d[h];!1;m && m(c.Xg);}}});};},function(q,b,a){var c,k,g,f;Object.defineProperty(b,"__esModule",{value:!0});b.Hfb=void 0;c=a(9);k=a(102);g=a(35);f=a(598);b.Hfb=function(d){c.Ga.get(k.pD).create().then(function(h){d({fa:!0,storage:new f.Mia(h,c.Ga.get(g.si))});}).catch(function(h){d(h);});};},function(q,b){function a(c,k){this.uy=c;this.Qe=k;}Object.defineProperty(b,"__esModule",{value:!0});b.Mia=void 0;a.prototype.load=function(c,k){var g;g=this;this.uy.load(c).then(function(f){k && k(a.bgb(f));}).catch(function(f){k && k(g.pra(c,f));});};a.prototype.save=function(c,k,g,f){var d;d=this;this.uy.save(c,k,g).then(function(){f && f(a.bgb({key:c,value:k}));}).catch(function(h){f && f(d.pra(c,h));});};a.prototype.remove=function(c,k){var g;g=this;this.uy.remove(c).then(function(){k && k({fa:!0,Dfa:c});}).catch(function(f){k && k(g.pra(c,f));});};a.bgb=function(c){return {fa:!0,data:c.value,Dfa:c.key};};a.prototype.pra=function(c,k){return {fa:!1,Dfa:c,Ea:k.Ea,ac:k.cause?this.Qe.hf(k.cause):void 0};};b.Mia=a;},function(q,b,a){var c,k,g,f;Object.defineProperty(b,"__esModule",{value:!0});b.Ifb=void 0;c=a(598);k=a(9);g=a(529);f=a(35);b.Ifb=function(d){d({fa:!0,storage:new c.Mia(k.Ga.get(g.TJa),k.Ga.get(f.si))});};},function(q,b,a){var c,k,g,f,d,h,m,l,n;Object.defineProperty(b,"__esModule",{value:!0});b.wy=void 0;c=a(16);k=a(19);q=a(3);g=a(9);f=a(11);d=a(40);h=a(14);m=a(69);l=a(6);a=g.Ga.get(d.sj);n=g.Ga.get(m.gI);a.register(q.W.LIa,function(p){var v,u;function r(){p(c.Xg);r=c.Qx;}function t(x){if(!(x instanceof EventTarget))throw "batteryManager is not an instaceof EventTarget";["addEventListener","removeEventListener"].forEach(function(y){if(!(0,h.yd)(x[y]))throw y + " is not a function";});}function w(){return Promise.resolve().then(function(){var x;x=f.$e.getBattery();if(!(0,h.yd)(x.then))throw "getBattery did not return a promise";return x;});}v=(0,g.dk)("BatteryManager");b.wy={Jkb:"chargingchange",l3a:function(){return u?u.level:null;},Gsa:function(){return u?u.charging:null;},addEventListener:function(x,y){u && u.addEventListener(x,y);},removeEventListener:function(x,y){u && u.removeEventListener(x,y);}};k.config.kX && (0,h.yd)(f.$e.getBattery)?n.ru((0,l.Vc)(k.config.vLb),w()).then(function(x){t(x);u=x;}).catch(function(x){v.error("getBattery failed",x);}).then(r):r();});},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.NJa="LicenseBrokerFactorySymbol";},function(q,b){function a(c,k){var g;g=this;this.y3a=c;this.Q$a=k;this.pCa=!1;this.fR=function(){g.jr=void 0;g.update();};}Object.defineProperty(b,"__esModule",{value:!0});b.NQa=void 0;a.prototype.update=function(c){var k,g,f,d,h;f=this.y3a();if(this.dib !== f){d=null === (g=null === (k=this.Jq) || void 0 === k?void 0:k.QP(f)) || void 0 === g?void 0:g[0];if(d && ("startTime" in d))if(d.startTime <= f && f <= d.endTime){h=d;this.Rhb(d.endTime - f);}else this.Rhb(d.startTime - f);this.dib=f;this.nna !== h && (this.nna=h,!c && this.Q$a && this.Q$a());}};a.prototype.start=function(){this.pCa=!0;this.update();};a.prototype.yeb=function(c){this.Jq=c;this.nna=this.dib=void 0;c || this.stop();};a.prototype.stop=function(){this.pCa=!1;this.Bu();};a.prototype.dLb=function(){this.update(!0);return this.nna;};a.prototype.Rhb=function(c){this.Bu();this.pCa && 0 < c && (this.jr=setTimeout(this.fR,c + a.Dob));};a.prototype.Bu=function(){this.jr && (clearTimeout(this.jr),this.jr=void 0);};b.NQa=a;a.Dob=10;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.zIa=void 0;c=a(18);k=a(112);b.zIa=function(g){function f(d){g.fireEvent(c.ka.gF,{response:d,L:g.oa.L});}return {download:function(d,h){d.j=g;d=k.Bf.download(d,h);d.t8(f);return d;}};};},function(q,b,a){var c,k,g,f,d,h,m,l,n;Object.defineProperty(b,"__esModule",{value:!0});b.eJa=void 0;c=a(19);k=a(63);g=a(3);f=a(605);d=a(11);h=a(14);m=a(18);l=a(9);n=a(232);b.eJa=function(p){var t,w,v,u;function r(){p.state.value !== m.qc.Re || p.Ob.value !== m.zb.Rh && p.Ob.value !== m.zb.Vs?w.Bu():w.OJ();}t=c.config.TYb;if(!p.zQ() && t){w=l.Ga.get(n.C6)(t,function(){p.fireEvent(m.ka.lQ,g.W.Y5);});p.Ob.addListener(r);p.state.addListener(r);if(c.config.Cua){v=(0,k.No)();u=new f.$Oa(c.config.Cua,function(){var x,y;x=(0,k.No)();y=x - v;y > t && (p.fireEvent(m.ka.lQ,g.W.E5),u.ZXa());y > 2 * c.config.Cua && (p.Dua=(0,d.Yu)(y,p.Dua || 0));v=x;});u.$3b();}p.addEventListener(m.ka.Fh,function(){w.Bu();(0,h.Gd)(u) && u.ZXa();});}};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Oa=void 0;b.$Oa=function(a,c){var k;this.$3b=function(){k || (k=setInterval(c,a));};this.ZXa=function(){k && (clearInterval(k),k=void 0);};};},function(q,b,a){var k,g,f,d,h,m,l;function c(n){var p,r,t,w;p=this;this.j=n;this.DX=void 0;this.Dla=(0,f.createElement)("DIV","position:fixed;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace;z-index:9999",void 0,{"class":"player-streams"});this.rla=(0,f.createElement)("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.fla=(0,f.createElement)("DIV","width:100%;text-align:center");this.Drb=this.tla("Audio Bitrate");this.gna=this.tla("Video Bitrate");this.ila=this.tla("CDN");this.LV={};this.EZ=d.Ga.get(h.Dp);this.Dla.appendChild(this.rla);this.rla.appendChild(this.fla);r=(0,f.createElement)("BUTTON",void 0,"Override");r.addEventListener("click",this.xrb.bind(this),!1);this.fla.appendChild(r);r=(0,f.createElement)("BUTTON",void 0,"Reset");r.addEventListener("click",this.Tvb.bind(this),!1);this.fla.appendChild(r);t=this.$ub.bind(this);g.zf.addListener(g.CF,t);n.addEventListener(l.ka.GK,function(){p.LV={};});n.addEventListener(l.ka.Fh,function(){g.zf.removeListener(g.CF,t);});w=this.Gvb.bind(this);n.Hc.forEach(function(v){v.addListener(w);});n.Nc.addListener(w);n.Ug.addListener(w);}Object.defineProperty(b,"__esModule",{value:!0});b.VNa=void 0;k=a(34);g=a(66);f=a(46);d=a(9);h=a(43);m=a(209);l=a(18);c.prototype.show=function(){this.lW || (this.jUa(),document.body.appendChild(this.Dla),this.lW=!0);};c.prototype.Ty=function(){this.lW && (document.body.removeChild(this.Dla),this.lW=!1);};c.prototype.toggle=function(){this.lW?this.Ty():this.show();};c.prototype.Hhb=function(){var r,t,w,v;function n(u,x,y){var z,A,B;A=[];x.filter(function(D){return D.ef === u;}).forEach(function(D){0 <= y.indexOf(D)?(void 0 === B?B=D.bitrate:z=D.bitrate,void 0 === z && (z=D.bitrate)):void 0 !== B && void 0 !== z && (A.push({min:B,max:z}),B=z=void 0);});if(void 0 !== B && void 0 !== z){A.push({min:B,max:z});B=z=void 0;}return A;}function p(u,x,y){var z;z=[];x.filter(function(A){return A.ef === u;}).forEach(function(A){-1 === y.indexOf(A) && z.push({stream:{bitrate:A.bitrate},disallowedBy:["manual"]});});return z;}t=this.j.Mv();w=this.j.zF().sort(function(u,x){return u.bitrate - x.bitrate;});v=w.reduce(function(u,x){0 > u.indexOf(x.ef) && u.push(x.ef);return u;},[]).map(function(u){return {profile:u,ranges:n(u,w,t),disallowed:p(u,w,t)};});!1;null === (r=this.j.Ra) || void 0 === r?void 0:r.Ms(v,this.j.L);};c.prototype.xrb=function(){var r,t;this.LV={};for(var n=this.gna.options,p=n.length;p--;){r=n[p];r.selected && (this.LV[r.value]=1);}this.DX=this.dsb.bind(this);this.Hhb();if(n=this.j.Ai){t=this.ila.value;n=n.filter(function(w){return w.id == t;})[0];p=this.j.Hc[k.$b.kb.Vb].value;n && n != p && (n.CXa={testreason:"streammanager",selreason:"userselection"},this.j.Hc[k.$b.kb.Vb].set(n));}this.Ty();};c.prototype.Tvb=function(){this.DX=void 0;this.j.Keb(this.j.L);this.Ty();};c.prototype.dsb=function(){var n;n=this;return this.j.zF().filter(function(p){return n.LV[p.bitrate];});};c.prototype.jUa=function(){var n,p,r,t;n=this;p=this.j.Nc.value;r=this.j.Ug.value;t=this.j.Ai;p && (t=t.slice(),t.sort(function(w,v){return w.oc - v.oc;}),this.Tma(this.Drb,p.streams.map(function(w){return {value:w.bitrate,caption:w.bitrate,selected:w == n.j.Uh.value};})));r && (this.Tma(this.gna,r.streams.map(function(w){var v,u;v=n.j.OQ.Fz(w);w=w.bitrate;u="" + w;v && (u+=" (" + v.join("|") + ")");return {value:w,caption:u,selected:n.DX?n.LV[w]:!v};})),this.gna.removeAttribute("disabled"));t && (this.Tma(this.ila,t.map(function(w){return {value:w.id,caption:"[" + w.id + "] " + w.name,selected:w == n.j.Hc[k.$b.kb.Vb].value};})),this.ila.removeAttribute("disabled"));};c.prototype.Gvb=function(){this.lW && this.jUa();};c.prototype.tla=function(n){var p,r;p=(0,f.createElement)("DIV","display:inline-block;vertical-align:top;margin:5px;");n=(0,f.createElement)("DIV",void 0,n);r=(0,f.createElement)("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});p.appendChild(n);p.appendChild(r);this.rla.appendChild(p);return r;};c.prototype.Tma=function(n,p){n.innerHTML="";p.forEach(function(r){var t;t={title:r.caption};r.selected && (t.selected="selected");t=(0,f.createElement)("option",void 0,r.caption,t);t.value=r.value;n.appendChild(t);});};c.prototype.$ub=function(n){n.ctrlKey && n.altKey && n.shiftKey && n.keyCode == m.DD.hqb && this.EZ.xva && this.toggle();};b.VNa=c;},function(q,b,a){var k,g,f,d,h;function c(m,l){this.csa=m;this.MJ={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=(0,k.createElement)("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return !1;};this.seb(l);this.A1a=this.rMb(this.csa);}Object.defineProperty(b,"__esModule",{value:!0});b.KQa=void 0;k=a(46);g=a(608);f=a(609);d=a(11);h=a(26);c.prototype.Xo=function(){return this.element;};c.prototype.p3b=function(m){this.GW=m;};c.prototype.z3b=function(m){this.entry=m;this.FR();};c.prototype.G3b=function(m){this.seb(m);this.FR();};c.prototype.FR=function(){var m,l,n,p,r,t,w,v,u,x,y,A,B,D;m=this;l=this.Xo();n=l.parentElement;p=n && n.clientWidth || 0;r=n && n.clientHeight || 0;t=n=0;w={width:p,height:r};if(0 < p && 0 < r && this.entry){this.GW && (w=(0,k.P$)(p,r,this.GW),n=Math.round((p - w.width) / 2),t=Math.round((r - w.height) / 2));u=this.EAb(w);x=(0,k.P$)(u.width,u.height,this.GW);u=(v=this.entry.blocks) && v.map(function(C){var F;F=(0,f.lra)(C,x,m.csa,m.A1a);C=(0,f.F0a)(C) + ";position:absolute";return (0,k.createElement)("div",C,F,c.Fha);});}Object.assign(this.MJ,{left:n + "px",right:n + "px",top:t + "px",bottom:t + "px"});l.style.display="none";l.style.direction=this.MJ.direction;l.innerHTML="";if(u && u.length){p=w.width;n=w.height;y=w;this.XW && (y=this.bxb(w,this.XW,r,t));this.MJ.margin=this.cu?this.n9(w,"top") + "px " + this.n9(w,"right") + "px " + this.n9(w,"bottom") + "px " + this.n9(w,"left") + "px ":void 0;u.forEach(function(C){return l.appendChild(C);});r=(0,k.CX)(this.MJ);l.style.cssText=r + ";visibility:hidden;z-index:-1";t=[];for(var z=u.length - 1;0 <= z;z--){A=u[z];B=v[z];D=this.q$a(A,B,p,n);D.width > p && (A.innerHTML=(0,f.lra)(B,w,this.csa,this.A1a,p / D.width),D=this.q$a(A,B,p,n));t[z]=D;}t=(0,g.xhb)(t,y);if(z=v && v[0] && v[0].textNodes && v[0].textNodes[0] && v[0].textNodes[0].style)(y=z.windowColor,z=z.windowOpacity,y && 0 < z && (A=Math.round(n / 50),w=(0,f.H0a)(v,t,A,y,w),w=(0,k.createElement)("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:" + z,w,c.Fha),l.insertBefore(w,l.firstChild)));l.style.display="none";for(w=t.length - 1;0 <= w;w--){z=t[w];y=u[w].style;A=v[w].region;z=(0,f.G0a)(A,z,p,n,0);Object.assign(y,z);}l.style.cssText=r;}};c.prototype.eBa=function(m){this.XW=m;this.FR();};c.prototype.Qta=function(){return this.XW;};c.prototype.fBa=function(m){this.cu=m;this.FR();};c.prototype.Rta=function(){return this.cu;};c.prototype.Sta=function(){return "block" === this.MJ.display;};c.prototype.gBa=function(m){var l;l=m?"block":"none";this.element.style.display=l;this.MJ.display=l;m && this.FR();};c.prototype.rMb=function(m){var l,n;l=this;n={};(0,h.kh)(m,function(p,r){n[p]=l.fVb(r);});return n;};c.prototype.seb=function(m){this.MJ.direction="boolean" === typeof m?m?"ltr":"rtl":"inherit";};c.prototype.n9=function(m,l){if(this.cu){if("left" === l || "right" === l)return m.width * (this.cu[l] || 0);if("top" === l || "bottom" === l)return m.height * (this.cu[l] || 0);}return 0;};c.prototype.EAb=function(m){return this.cu?{height:m.height * (1 - (this.cu.top || 0) - (this.cu.bottom || 0)),width:m.width * (1 - (this.cu.left || 0) - (this.cu.right || 0))}:m;};c.prototype.fVb=function(m){var l;m="display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;" + m + ";";m=(0,k.createElement)("DIV",m,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c.Fha);d.Qh.body.appendChild(m);l={fontSize:1E3,height:m.clientHeight,width:m.clientWidth / 52,lineHeight:m.clientHeight / 1E3};d.Qh.body.removeChild(m);return l;};c.prototype.q$a=function(m,l,n,p){var r,t,w,v,u;r=l.region;t=(r.marginTop || 0) * p;w=(r.marginBottom || 0) * p;v=(r.marginLeft || 0) * n;u=(r.marginRight || 0) * n;l=m.clientWidth || 1;m=m.clientHeight || 1;switch(r.verticalAlignment){case "top":p=t;break;case "center":p=(t + p - w - m) / 2;break;default:p=p - w - m;}switch(r.horizontalAlignment){case "left":n=v;break;case "right":n=n - u - l;break;default:n=(v + n - u - l) / 2;}return {top:p,left:n,width:l,height:m};};c.prototype.bxb=function(m,l,n,p){return {height:n - Math.max(p,l.bottom || 0) - Math.max(p,l.top || 0),width:m.width};};b.KQa=c;c.Fha={"class":"player-timedtext-text-container"};},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.xhb=void 0;c=a(11);b.xhb=function(k,g){function f(m,l,n){var w,u,x,y,z;if(m && 1 < m.length){for(var p=[],r=[],t=0;t < m.length;t++){p[t]=0;r[t]=0;}w=!1;for(t=0;t < m.length;t++){for(var v=t + 1;v < m.length;v++){u=m[t];x=m[v];if(0 > u.width || 0 > x.width || x.left > u.left + u.width || x.left + x.width < u.left || x.top > u.top + u.height?0:x.top + x.height >= u.top){y=(0,c.Yu)(u.left,x.left);z=(0,c.Yu)(u.top,x.top);y={width:(0,c.Yu)((0,c.nA)(u.left + u.width,x.left + x.width) - y,0),height:(0,c.Yu)((0,c.nA)(u.top + u.height,x.top + x.height) - z,0),x:y,y:z};}else y=void 0;if(y && 1 < y.width && 1 < y.height)if((z=y.width <= y.height,u=d(m[t]),x=d(m[v]),z && l || !z && !l))(y=(0,c.Yu)(y.width / 2,.25),u.x <= x.x?(r[t]-=y,r[v]+=y):(r[v]-=y,r[t]+=y));else if(z && !l || !z && l)(u=(0,c.Yu)(y.height / 2,.25),p[t]-=u,p[v]+=u);}}for(t=0;t < m.length;t++){if(-.25 > r[t] && 0 <= m[t].left + r[t] || .25 < r[t] && m[t].left + m[t].width + r[t] <= n.width)(m[t].left+=r[t],w=!0);if(-.25 > p[t] && 0 <= m[t].top + p[t] || .25 < p[t] && m[t].top + m[t].height + p[t] <= n.height)(m[t].top+=p[t],w=!0);}return w;}}function d(m){return {x:m.left + m.width / 2,y:m.top + m.height / 2};}k=k.map(function(m){return {top:m.top,left:m.left,width:m.width,height:m.height};});(function(m,l){m.forEach(function(n){0 > n.left && n.left + n.width < l.width?n.left+=(0,c.nA)(-n.left,l.width - (n.left + n.width)):n.left + n.width > l.width && 0 < n.left && (n.left-=(0,c.nA)(n.left + n.width - l.width,n.left));0 > n.top && n.top + n.height < l.height?n.top+=(0,c.nA)(-n.top,l.height - (n.top + n.height)):n.top + n.height > l.height && 0 < n.top && (n.top-=(0,c.nA)(n.top + n.height - l.height,n.top));});})(k,g);for(var h=0;50 > h && f(k,!0,g);h++){;}for(h=0;50 > h && f(k,!1,g);h++){;}return k;};},function(q,b,a){var h,m,l;function c(n,p,r,t,w){var v;v={};"right" == n.horizontalAlignment?v.right=100 * (r - p.left - p.width - w) / r + "%":v.left=100 * (p.left - w) / r + "%";"bottom" == n.verticalAlignment?v.bottom=100 * (t - p.top - p.height - w) / t + "%":v.top=100 * (p.top - w) / t + "%";return v;}function k(n,p){var r;if(n && p){40 === p.x && 19 === p.y?r=4 / 3 / (40 / 19):52 === p.x && 19 === p.y && (r=16 / 9 / (52 / 19));if(r)return n.width / n.fontSize / r;}}function g(n,p,r,t,w){var v,u;v=n.style;u=(0,m.rua)(n.text);for(n=n.lineBreaks;n--;){u="<br />" + u;}return f(u,v,p,r,t,w);}function f(n,p,r,t,w,v){var u;u=p.characterStyle;w=w[u];u=0 <= u.indexOf("MONOSPACE")?k(w,p.cellResolution) || w.lineHeight:w.lineHeight;t=p.characterSize * t.height / (u || 1);t=0 < v?(0,l.PM)(t * v):(0,l.Fp)(t);v={"font-size":t + "px","line-height":"normal","font-weight":"normal"};p.characterItalic && (v["font-style"]="italic");p.characterUnderline && (v["text-decoration"]="underline");p.characterColor && (v.color=p.characterColor);p.backgroundColor && 0 !== p.backgroundOpacity && (v["background-color"]=d(p.backgroundColor,p.backgroundOpacity));t=p.characterEdgeColor || "#000000";switch(p.characterEdgeAttributes){case "DROP_SHADOW":v["text-shadow"]=t + " 0px 0px 7px";break;case "UNIFORM":v["text-shadow"]="-1px 0px " + t + ",0px 1px " + t + ",1px 0px " + t + ",0px -1px " + t;break;case "RAISED":v["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case "DEPRESED":v["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}v=(0,h.CX)(v);(r=r[p.characterStyle || "PROPORTIONAL_SANS_SERIF"]) && (v+=";" + r);p=p.characterOpacity;0 < p && 1 > p && (n='<span style="opacity:' + p + '">' + n + "</span>");return '<span style="' + v + '">' + n + "</span>";}function d(n,p){n=n.substring(1);n=parseInt(n,16);return "rgba(" + (n >> 16 & 255) + "," + (n >> 8 & 255) + "," + (n & 255) + "," + (void 0 !== p?p:1) + ")";}Object.defineProperty(b,"__esModule",{value:!0});b.F0a=b.QIb=b.OIb=b.RIb=b.PIb=b.G0a=b.H0a=b.lra=void 0;h=a(46);m=a(26);l=a(11);b.lra=function(n,p,r,t,w){var v;v="";n.textNodes.forEach(function(u){v+=g(u,r,p,t,w);});n.region && n.region.multiRowAlignment && (v='<span style="display:inline-block;text-align:' + n.region.multiRowAlignment + '">' + v + "</span>");return v;};b.H0a=function(n,p,r,t,w){var v,u,y,z,A;v="";u=w.width;w=w.height;for(var x=p.length;x--;){y=p[x];z=n[x];z=z && z.region;A="position:absolute;background:" + t + ";width:" + (0,l.Fp)(y.width + 2 * r) + "px;height:" + (0,l.Fp)(y.height + 2 * r) + "px;";y=c(z,y,u,w,r);(0,m.kh)(y,function(B,D){A+=B + ":" + D + ";";});v+='<div style="' + A + '"></div>';}return v;};b.G0a=c;b.PIb=k;b.RIb=g;b.OIb=f;b.QIb=d;b.F0a=function(n){var p;p={display:"block","white-space":"nowrap"};switch(n.region.horizontalAlignment){case "left":p["text-align"]="left";break;case "right":p["text-align"]="right";break;default:p["text-align"]="center";}return (0,h.CX)(p);};},function(q,b,a){var c,k,g,f,d,h,m,l;Object.defineProperty(b,"__esModule",{value:!0});b.JNa=void 0;c=a(16);k=a(19);g=a(63);f=a(98);d=a(11);h=a(62);m=a(14);l=a(18);b.JNa=function(n){var w,v,u,x,y,z;function p(){return n.state.value === l.qc.LOADING || n.state.value === l.qc.Re && n.Ob.value === l.zb.tg;}function r(){p()?z || (z=setInterval(t,100)):z && (clearInterval(z),z=void 0,(0,h.wg)(t));}function t(){var A,B,D,C,F,G,E,I;A=(0,g.No)();B=w.value;D=B?B.progress:0;C=n.state.value == l.qc.LOADING || p() && A - v > k.config.fAb;if(C && n.state.value == l.qc.Re){if(n.Lf.value === l.eg.tPa)(F=D,G=!0);else {E=A;u=u || A;x=x || u + k.config.HVb + 1;(0,m.Oa)(E) && (E=(0,d.Yu)(E,x),F=(0,d.Fp)(1E3 * (0,f.LD)((A - u) / (E - u),0,.99)) / 1E3);}if(F < D)if(D - F < k.config.Y_b / 100)(F=D,y=void 0);else if(y){if(A - y > k.config.X_b){I=!0;y=void 0;}else F=D;}else (y=A,F=D);}else y=x=u=void 0;A=C?{Au:G,progress:F,Z_b:I}:null;(!A || !w || !B || (0,m.Oa)(A.progress) && !(0,m.Oa)(B.progress) || (0,m.Oa)(A.progress) && (0,m.Oa)(B.progress) && .01 < (0,d.M5)(A.progress - B.progress) || A.Au !== B.Au) && w.set(A);}w=n.Moa;v=0;n.state.addListener(function(){r();t();},c.X5);n.Ob.addListener(function(A){if(A.oldValue !== l.zb.tg || A.newValue !== l.zb.tg)v=(0,g.No)();r();});n.Lf.addListener(function(){r();});n.zt.addListener(function(){r();});n.lo.addListener(function(){r();});z || (z=setInterval(t,100));};},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t,w,v,u,x,y,z,A,B,D,C,F,G,E,I,K,L;function c(H){var P;P=this;this.j=H;this.ic=this.j.ic;this.log=(0,n.hj)(this.j,"MediaPresenterASE");this.oda=this.O9=0;this.ca=this.ic.ca;this.ofb=this.bbb=this.Tab=this.Tba=this.Lya=!1;this.mca=new Set();this.h6b=n.Ga.get(D.gN)((0,B.Vc)(z.s6));this.vO=void 0;this.cr=n.Ga.get(F.CPa)(this.j);this.Sz={};this.p9a={};this.FZ={};this.ph=new E.PKa(this.j);this.f6b=function(){var N,J,M;P.j.S2=(0,l.No)();if(!P.pl() && P.xw){N=P.ic.c4a();N || (P.bZb(),P.ph.phb(P.mediaTime));P.j.paused.value || !P.ph.uqa(P.mediaTime) || !P.Joa() || N || P.cr.mva?P.sAa():P.Lya || P.tAa();P.aZb();if(!P.ic.c4a() && !P.Tba){N=P.ic.aZ(!0);J=P.j.Ob.value;M=P.sCb();J !== M && !1;M === x.zb.Vs?(P.mediaTime=P.j.Rw.ia(B.sa),P.sAa()):M !== x.zb.tg && P.a8b(N);P.Vhb();P.ph.gpa(P.mediaTime);P.j.Ob.set(M);M !== x.zb.tg || J !== x.zb.$c && J !== x.zb.Rh || P.MXb();}}};this.Ym=(0,G.Vbb)(this.f6b);this.mediaTime=H.da;this.j.ej=!1;this.ic.addEventListener(A.Qk.nfb,function(){P.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");P.ofb=!0;try{P.xa();}catch(N){P.log.error("Exception while initializing",N);P.de(p.W.wpb);}});this.ic.addEventListener(A.Qk.I7a,function(N){N=N.M;P.ofb?P.W$a(N):P.mca.add(N);});}Object.defineProperty(b,"__esModule",{value:!0});b.gLa=void 0;k=a(34);g=a(16);f=a(19);d=a(65);h=a(66);m=a(46);l=a(63);n=a(9);a(108);p=a(3);r=a(380);t=a(24);w=a(98);v=a(26);u=a(62);x=a(18);y=a(14);z=a(183);A=a(337);B=a(6);D=a(119);C=a(232);F=a(612);G=a(1391);E=a(1392);I=a(297);K=a(230);L=a(11);c.prototype.L2a=function(){return this.ic.aZ(!1);};c.prototype.paa=function(){return this.ic.paa();};c.prototype.JB=function(){return this.ic.JB();};c.prototype.YJ=function(){return this.ic.YJ();};c.prototype.ZY=function(){return this.ic.ZY();};c.prototype.xa=function(){var H;H=this;this.log.trace("Video element initializing");this.ic.sourceBuffers.forEach(function(P){return H.ph.V3b(P);});this.GQb(this.j.xK);};c.prototype.GQb=function(H){var P,N;P=this;H?this.log.trace("Waiting for needkey"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.L}),null === (N=this.j.Ra) || void 0 === N?void 0:N.zB(this.j.L));0 < this.mca.size && setTimeout(function(){P.log.trace("Notifying about licenses that were added before source buffers created");Array.from(P.mca).forEach(function(J){P.mca.delete(J);P.W$a(J);});},0);this.log.trace("Waiting for loadedmetadata");(0,m.rVa)(this.ca,"loadedmetadata",function(){P.log.trace("Video element event: loadedmetadata");P.j.We("md");});h.zf.addListener(h.Zo,this.FZ[h.Zo]=function(){return P.close();},g.XM);this.j.addEventListener(x.ka.Fh,function(){return P.close();},g.XM);this.j.addEventListener(x.ka.Gdb,function(){return P.tAa();});this.j.addEventListener(x.ka.GK,function(){return P.yXb();});this.j.paused.addListener(function(){return P.Ym();});this.j.muted.addListener(function(){return P.RCa();});this.j.volume.addListener(function(){return P.RCa();});this.j.playbackRate.addListener(function(){return P.kga();});this.j.zt.addListener(function(){return P.Ym();});this.j.lo.addListener(function(){return P.Ym();});this.RCa();this.kga();this.ph.nfa(function(){return P.Mca();});this.Mca();this.s7b();};c.prototype.W$a=function(H){var P;this.j.We("ld",H);null === (P=this.j.Ra) || void 0 === P?void 0:P.zB(H);this.j.fireEvent(x.ka.F7a);};c.prototype.I8=function(H){var P;P=this;!1;this.ph.syb(H);this.cBb(H).then(function(){P.Mca();P.j.fireEvent(x.ka.Lca);}).catch(function(N){P.de(p.W.Apb,{ac:(0,v.hf)(N)});});};c.prototype.Sna=function(H,P,N){N=void 0 === N?{}:N;P=this.PHb(H,P);this.ph.ryb(H,P,N);this.Mca();this.Tab || H.type !== k.$b.Fl.Vb || (this.cr.mva || this.seek(this.j.da,x.uf.jA),this.Tab=!0);};c.prototype.s7b=function(){var H;H=this;this.ic.addEventListener(A.Qk.f2,this.Sz[A.Qk.f2]=function(){return H.QXb();});this.ic.addEventListener(A.Qk.Zr,this.Sz[A.Qk.Zr]=function(){return H.Eda();});this.ca.addEventListener("ended",this.Sz.ended=function(){return H.uXb();});this.ca.addEventListener("play",this.Sz.play=function(){return H.DXb();});this.ca.addEventListener("pause",this.Sz.pause=function(){return H.BXb();});this.ca.addEventListener("playing",this.Sz.playing=function(){return H.JXb();});this.xw=!0;this.ph.phb(this.mediaTime);this.log.trace("Video element initialization complete");this.j.We("vi");f.config.l_a?setTimeout(function(){H.Sxa=!0;H.Ym();},f.config.l_a):this.Sxa=!0;this.b5b();(0,u.wg)(function(){return H.Ym();});};c.prototype.b5b=function(){var N;function H(){var J;N.j.Ob.value !== x.zb.$c || 0 !== (null === (J=N.j.ng) || void 0 === J?void 0:J.paa()) || L.Qh.hidden?(N.p$a.Bu(),J="stopTimer"):(N.p$a.OJ(),J="ensureTimer");N.log.trace("No render timer update: " + J,{presentingState:x.zb[N.j.Ob.value],hidden:L.Qh.hidden});}function P(J){var M,O;J=void 0 === J?!0:J;M=N.j.Ra;O=(null === M || void 0 === M?void 0:M.bj) && M.bba();N.j.Ob.value == x.zb.tg && N.j.state.value == x.qc.Re && N.j.zt.value == x.eg.Re && N.j.lo.value == x.eg.Re && !N.j.ej && O?(J && N.Q9.Bu(),N.Q9.OJ(),M="ensureTimer"):(N.Q9.Bu(),M="stopTimer");N.log.trace("Timer update: " + M,{presentingState:x.zb[N.j.Ob.value],playbackState:x.qc[N.j.state.value],avBufferingState:x.eg[N.j.zt.value],textBufferingState:x.eg[N.j.lo.value],autoplayWasBlocked:N.j.ej,hasLicense:O,restartTimer:J});}N=this;f.config.UZa && ((0,t.Db)(!this.Q9),this.Q9=n.Ga.get(C.C6)(f.config.UZa,function(){var J;J=n.Ga.get(r.Rha).v_a(N.j);N.de(J.code,J);}),this.j.Ob.addListener(function(){return P();}),this.j.zt.addListener(function(){return P();}),this.j.lo.addListener(function(){return P();}),this.j.state.addListener(function(){return P();}),this.j.addEventListener(x.ka.F7a,function(){return P();}),this.j.addEventListener(x.ka.ej,function(){return P();}),this.j.addEventListener(x.ka.moa,function(){return P();}),this.j.addEventListener(x.ka.sL,function(){return P(!0);}),P());f.config.o$a && (this.p$a=n.Ga.get(C.C6)(f.config.o$a,function(){var J;0 === (null === (J=N.j.ng) || void 0 === J?void 0:J.JB()) && (J=n.Ga.get(r.Rha).v_a(N.j),N.de(J.code,J));N.j.Ob.removeListener(H);h.zf.removeListener(h.Pt,N.FZ[h.Pt]);}),this.j.Ob.addListener(H),h.zf.addListener(h.Pt,this.FZ[h.Pt]=H),H());};c.prototype.PHb=function(H,P){var N;N=this.j.gf;(N=(0,K.$ua)(N)?N.SP():void 0) && H.type === k.$b.Fl.Vb && ((H=new I.lA(this.log,{mediaType:I.oi.Vb,url:"http://some-url"},P).na(N))?P=H:!1);return P;};c.prototype.Mca=function(){this.xw && this.Ym();this.ph.LXa();};c.prototype.j5b=function(){!1;this.j.Ob.set(x.zb.tg);this.Tba=!0;this.Ym();};c.prototype.pCb=function(){var H;H=this;this.Tba && (!1,this.Tba=!1,(0,u.wg)(function(){return H.QWb();}));};c.prototype.haa=function(){return this.ph.haa();};c.prototype.QWb=function(){var H,P;H=this.j.wF() || 0;if(this.j.ob.ei){if(f.config.Tzb){H=H - (this.ic.CAa + 1) - f.config.BAa;P=this.j.Ra.Qn().ud;H=Math.max(H,P);}}else (H-=f.config.P2b,H=Math.max(H,this.cr.Rva));this.seek(H,x.uf.A6);};c.prototype.o0=function(H){var P;P=this;this.ph.X3b(H);(0,u.wg)(function(){return P.Ym();});};c.prototype.FMb=function(){return {O9:this.O9,oda:this.oda};};c.prototype.cBb=function(H){var P;P=this.ic && this.ic.x3a();this.j.Rw && P && Infinity !== H.Vdb && (H=H.Vdb + H.$w,H > this.j.Rw.zbb(B.sa) && (this.j.Rw=(0,B.Vc)(H)));return Promise.resolve();};c.prototype.aZb=function(){var H;H=this;this.cr.Vda && (!1,this.Joa() && this.ph.uqa(this.mediaTime) && (this.ic.seek(this.mediaTime),this.cr.Vda=!1,(0,u.wg)(function(){return H.Ym();})));};c.prototype.a8b=function(H){var P;if(H < this.mediaTime){P=this.mediaTime - H;f.config.cZb && H && P > z.s6 && (H={ElementTime:(0,w.Sj)(H),MediaTime:(0,w.Sj)(this.mediaTime)},P > z.WOa?this.de(p.W.Kpb,{ac:Object.assign({Trace:this.ic.yF()},H)}):this.log.warn("VIDEO.currentTime became smaller",H));}else this.mediaTime=(0,w.LD)(H,0,this.j.Rw.ia(B.sa));};c.prototype.Joa=function(){return this.j.zt.value === x.eg.Re && this.j.lo.value === x.eg.Re;};c.prototype.sCb=function(){var H,P,N;H=this;P=this.j.Ob.value;N=P;this.cr.mva?N=x.zb.tg:this.ca && this.ca.ended?P === x.zb.$c && (N=x.zb.Vs):this.Joa() && this.ph.uqa(this.mediaTime)?this.ic.RGb()?N=this.ca && this.ca.paused?x.zb.Rh:x.zb.$c:this.h6b.Vm(function(){return H.g6b();}):N=this.j.Rw?this.j.K4a(this.mediaTime,this.ph.N9())?x.zb.tg:x.zb.Vs:x.zb.tg;return N;};c.prototype.MXb=function(){var H;if(this.j.Ob.value === x.zb.tg){H=this.ph.P6b() > this.ph.N9();this.j.lo.value !== x.eg.Re?this.j.xj.value?(this.j.fireEvent(x.ka.gB,{cause:d.GNa}),this.log.warn("rebuffer due to timed text",this.j.xj.value.Lh)):this.j.fireEvent(x.ka.vS):H?(this.O9++,this.j.fireEvent(x.ka.gB,{cause:d.Qja})):(this.oda++,this.j.fireEvent(x.ka.gB,{cause:d.Rja}));}};c.prototype.g6b=function(){this.pl() || (f.config.UWb && this.ph.TWb(),this.Ym());};c.prototype.QXb=function(){this.Ym();};c.prototype.Eda=function(){this.Ym();this.j.fireEvent(x.ka.Zr);};c.prototype.uXb=function(){this.log.trace("Video element event: ended");this.Ym();};c.prototype.DXb=function(){this.log.trace("Video element event: play");this.Ym();};c.prototype.BXb=function(){this.log.trace("Video element event: pause");this.Ym();};c.prototype.JXb=function(){this.log.trace("Video element event: playing");this.Ym();};c.prototype.RCa=function(){this.pl() || (this.ca && this.ca.volume !== this.j.volume.value && (this.ca.volume=this.j.volume.value),this.ca && this.ca.muted !== this.j.muted.value && (this.ca.muted=this.j.muted.value));};c.prototype.kga=function(){!this.pl() && this.ca && (this.ca.playbackRate=this.j.playbackRate.value);};c.prototype.tAa=function(){var H;H=this;this.pl() || !(0,y.Gd)(this.ca) || this.ca.ended || !this.Sxa || !this.MS && void 0 !== this.MS || (this.log.trace("Calling play on element"),Promise.resolve(this.ca.play()).then(function(){H.closed || (H.MS=!1,H.Lya=!1,H.ca.style.display=null,H.j.ej=!1,H.j.fireEvent(x.ka.moa));}).catch(function(P){"NotAllowedError" === P.name?(H.log.warn("Playback is blocked by the browser settings",P),H.j.ej=!0,H.closed || (H.Lya=!0,H.ca.style.display="none",H.j.fireEvent(x.ka.ej,{player:{play:function(){return H.tAa();}}}))):H.closed || (H.MS=!1,H.bbb || (H.bbb=!0,H.log.error("Play promise rejected",P)));}));};c.prototype.yXb=function(){this.cr.Rva=this.j.wF() || 0;};c.prototype.sAa=function(){this.pl() || !(0,y.Gd)(this.ca) || this.ca.ended || !this.Sxa || this.MS && void 0 !== this.MS || (this.log.trace("Calling pause on element"),this.ca.pause(),this.MS=!0);};c.prototype.Vhb=function(H){this.j.mediaTime.set(this.mediaTime);H && this.j.qKb();};c.prototype.seek=function(H,P,N,J){var M,O;N=void 0 === N?this.j.ea:N;J=void 0 === J?!1:J;O=null === (M=this.j.Ra) || void 0 === M?void 0:M.bj;!this.pl() && O && (this.j.fireEvent(x.ka.sL,{cause:P}),this.cr.U0={time:H,cause:P,ea:N,xKb:J},this.j.Ob.set(x.zb.tg),this.Ym());};c.prototype.bZb=function(){var H,P,N,J,M,O,Q,T;if(this.cr.U0){H=this.cr.U0;P=H.time;N=H.cause;J=H.ea;M=H.xKb;if(!this.ph.Hi() || N === x.uf.jA){H=this.j.nl(J).L;O=this.ph.Hi()?void 0:this.ph.ALb();O=this.cr.hNb(P,N,J,M,O);J=O.rda;M=O.il;Q=O.DZb;O=O.Aj;this.ph.gpa(this.mediaTime);T=this.mediaTime;P=(0,w.Sj)(P);this.j.eJ("SEEKING: Requested: (" + H + ":" + N + ":" + P + ") - Actual: (contentPts: " + M + ",playerPts: " + (Q + ", newMediaTime: " + J + ")"));this.log.info("Seeking",{Requested:P,Actual:(0,w.Sj)(J),Cause:N,Skip:O});N === x.uf.jA || O || (this.ph.ndb(),this.ph.R3b());this.mediaTime=J;this.cr.Rva=M;P=this.j.bg.value;Q=this.j.Le.value;this.j.bg.set(null);this.j.Le.set(null);this.Vhb(!0);this.cr.U0=void 0;this.cr.Vda=!0;this.j.fireEvent(x.ka.xl,{Txa:T,rda:J,il:M,cause:N,skip:O,bg:P,Le:Q,L:H});O && this.ph.skip(J);}}};c.prototype.de=function(H,P,N){this.closed || this.j.de(H,P,N);};c.prototype.close=function(){if(!this.closed){this.log.info("Closing.");this.ph.close();this.ic.removeEventListener(A.Qk.f2,this.p9a[A.Qk.f2]);this.ic.removeEventListener(A.Qk.Zr,this.p9a[A.Qk.Zr]);this.ca.removeEventListener("ended",this.Sz.ended);this.ca.removeEventListener("play",this.Sz.play);this.ca.removeEventListener("pause",this.Sz.pause);this.ca.removeEventListener("playing",this.Sz.playing);h.zf.removeListener(h.Zo,this.FZ[h.Zo]);h.zf.removeListener(h.Pt,this.FZ[h.Pt]);this.closed=!0;try{this.ca.volume=0;this.ca.muted=!0;this.sAa();this.ic.close();}catch(H){}this.ca=void 0;this.ph.ndb();}};c.prototype.pl=function(){return this.closed?!0:(0,y.Gd)(this.ca)?!1:(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0);};b.gLa=c;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.CPa="SeekManagerFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Eja=-1;q={};b.fQa=(q[b.Eja]={id:-1,name:"hardcoded",oc:1,type:"hardcoded",V7a:"-1",HRb:!1,location:{id:"-1",oc:1,level:100,weight:1}},q);q={};b.hQa=(q[b.Eja]={track:{type:"padding",trackId:"padding",Ti:"padding",jg:"padding",Uz:"padding",Vf:"padding",CG:"padding",Wy:"padding",Lh:{}},type:"padding",Ec:"-1",bitrate:1,nb:void 0,ef:"unknown",size:1,Sv:{},Lh:{},Bm:"",framerate:0,Fj:!1,Nj:[],height:1,width:1},q);},function(q,b,a){var c,k,g,f,d;Object.defineProperty(b,"__esModule",{value:!0});b.xHa=void 0;c=a(19);k=a(66);g=a(26);f=a(3);d=a(18);b.xHa=function(h,m,l){function n(r){var t,w;t=r.error || r;w=(0,g.hf)(t);l.error("uncaught exception",t,w);(t=(t=t && t.stack) && c.config.zhb && c.config.F7b?0 <= t.indexOf(c.config.zhb):void 0) && (r && r.stopImmediatePropagation && r.stopImmediatePropagation(),h.de(f.W.dRa));}function p(){k.zf.removeListener(k.Raa,n);h.removeEventListener(d.ka.Fh,p);h.removeEventListener(d.ka.Ow,p);}try{k.zf.addListener(k.Raa,n);h.addEventListener(d.ka.Fh,p);c.config.mQb && h.addEventListener(d.ka.Ow,p);}catch(r){l.error("exception in exception handler ",r);}};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zja="PlayedSegmentsTrackerFactorySymbol";},function(q,b,a){var c,k,g,f,d,h;Object.defineProperty(b,"__esModule",{value:!0});b.p8a=void 0;c=a(19);k=a(16);g=a(63);q=a(3);f=a(11);d=a(14);h=a(9);a=a(40);h.Ga.get(a.sj).register(q.W.PIa,function(m){var p,r,t,w,v;function l(){return (0,f.PM)((0,g.No)() / t);}function n(){var u;u=l();if(u != v){for(var x=(0,f.nA)(u - v,30);x--;){w.push(0);}(x=(0,f.Yu)(w.length - 31,0)) && w.splice(0,x);v=u;}w[w.length - 1]++;}p=c.config.$Tb;r=-6 / (p - 2 - 2);t=k.Xu;w=[];v=l();(0,d.pva)(p) && (setInterval(n,1E3 / p),b.p8a={AMb:function(){var y;for(var u=[],x=w.length - 1;x--;){y=w[x];u.unshift(0 >= y?9:1 >= y?8:y >= p - 1?0:(0,f.Fp)((y - 2) * r + 7));}return u;}});m(k.Xg);});},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wja="PlaybackMilestoneStoreSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZMa="PboManifestRequestTransformerSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.DMa="PboBindCommandSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.kca=void 0;b.kca=function(a,c,k){var g;if(k.set)throw Error("Property " + c + " has a setter and cannot be made into a lazy property.");g=k.get;k.get=function(){var f,d;f=g.apply(this,arguments);d={enumerable:k.enumerable,value:f};Object.getPrototypeOf(a) === Function.prototype?Object.defineProperty(a,c,d):Object.defineProperty(this,c,d);return f;};};},function(q,b,a){var k,g,f,d,h;function c(m,l){this.ic=m;this.j=l;this.v_=[];}Object.defineProperty(b,"__esModule",{value:!0});b.oT=void 0;q=a(2);k=a(3);g=a(0);f=a(14);d=a(26);h=a(9);c.prototype.O$=function(m){this.v_.forEach(function(l){return l(m);});};c.prototype.de=function(m,l,n){this.j.de(m,l,n);};c.prototype.yxb=function(m){-1 === this.v_.indexOf(m) && this.v_.push(m);};c.prototype.o1b=function(m){m=this.v_.indexOf(m);0 <= m && this.v_.splice(m,1);};c.prototype.t4a=function(m){var l,n;l={};(0,f.Gd)(m.code)?l.Ea=(0,k.uHa)(m.code):l.Ea=k.S.jn;try{n=m.message.match(/\((\d*)\)/)[1];l.Xf=(0,h.voa)(n,4);}catch(p){}l.ac=(0,d.hf)(m);return l;};a=c;a=q.__decorate([(0,g.X)()],a);b.oT=a;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.uOa="PlaygraphPlaybackStrategyFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.yOa="PlaygraphStateFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.KJa="LegacyPostPlayShimFactorySymbol";},function(q,b,a){var k;function c(g,f,d,h,m){var l;l=this;this.Eb=g;this.Dl=f;this.jx=d;this.dc=h;this.Zn=m;this.pea=new Map();this.i4b();this.dc.addListener(k.Qa.loaded,function(){return l.Fbb();});}Object.defineProperty(b,"__esModule",{value:!0});b.WH=void 0;k=a(18);c.prototype.tVa=function(g){var f,d;f=this;d=Object.keys(this.Eb.dm.P).find(function(h){return f.Eb.dm.P[h].M === g.L;});g.id || (g.id=null !== d && void 0 !== d?d:this.Zn.Ot(g.L));d || (this.Eb.dm=this.Zn.uyb(this.Eb.dm,g));d=this.lL(g.id);g.ik && this.Eb.g8b(g.id,g.ik);return d;};c.prototype.thb=function(){return Promise.reject(Error("Error isn't recoverable"));};c.prototype.Xta=function(g,f){var d;d=this;f=void 0 === f?{}:f;return this.jx.transition(g,f).then(function(){d.Eb.Yh=g;});};c.prototype.close=function(g){return this.jx.close(g);};c.prototype.isReady=function(){return this.jx.NNb();};c.prototype.Xo=function(){return this.jx.Xo();};c.prototype.cK=function(){return this.jx.cK();};c.prototype.lL=function(g){this.pea.has(g) || this.pea.set(g,this.jx.Dh(this.eAb(g)));return this.pea.get(g);};c.prototype.i4b=function(){var g;g=this;this.jx.addListener(k.eI.h2,function(){return g.dc.rd(k.eI.h2);});Object.values(k.Qa).forEach(function(f){g.jx.addListener(f,function(d){return g.dc.rd(f,d);});});};c.prototype.lz=function(){this.Fbb();};c.prototype.dya=function(g){this.jx.e8b({id:g,L:this.Eb.kf(g).M,ik:this.Eb.eOb(g)});};c.prototype.YK=function(){};c.prototype.Fbb=function(){var g,f;if(this.isReady()){g=this.Eb.Yh;f=this.Eb.qZ(g);f && !this.pea.has(f) && (this.dya(g),this.lL(f));}};c.prototype.eAb=function(g){var f,d,h,m;d=this.Eb.kf(g);h=this.Dl.fQ(d.M);m=null === h || void 0 === h?void 0:h.Nb;h=null === h || void 0 === h?void 0:h.pa;return {id:g,L:d.M,da:d.ya,ik:null !== (f=null === m || void 0 === m?void 0:m.ik) && void 0 !== f?f:d.za,Nb:m,pa:h};};b.WH=c;},function(q,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Xja=void 0;a.prototype.Iwa=function(c){c=void 0 === c?{}:c;return {Lk:c.trackingId,Z8:c.authParams,ho:c.sessionParams,ze:c.uiLabel,sga:c.uxLabels,Kqa:c.disableTrackStickiness,GS:c.uiPlayStartTime,S$:c.forceAudioTrackId,T$:c.forceTimedTextTrackId,ei:c.isBranching,playbackState:c.playbackState?{currentTime:c.playbackState.currentTime,volume:c.playbackState.volume,muted:c.playbackState.muted,playbackRate:c.playbackState.playbackRate}:void 0,wP:c.enableTrickPlay,iua:c.heartbeatCooldown,Rba:c.isPlaygraph,oca:c.loadImmediately || !1,Vab:c.pin,e1:c.preciseSeeking,da:c.startPts,Ta:c.endPts,ik:c.logicalEnd,Lea:c.renderTimedText,U0a:c.extraManifestParams,boa:c.assetId,czb:c.audioLanguages,v6b:c.textLanguages,Jib:c.videoLanguage,Pq:c.packageId,r_a:c.desiredDownloadables,bAa:c.requestReference,Vxb:c.additionalAudioAssets,Xxb:c.additionalTextAssets};};b.Xja=a;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.NHa=void 0;b.NHa=function(a){var g,f,d,h;function c(){if(d)for(var m;m=g.pop();){m(h);}}function k(m){d=!0;h=m;c();}g=[];return function(m){g.push(m);f || (f=!0,a(k));c();};};},function(q,b,a){var k,g,f,d;function c(h){var m;(0,k.dk)("MediaSourceASE").trace("Inside MediaSourceASE");m=h.nZ();this.readyState=d.kd.CLOSED;this.sourceBuffers=m.sourceBuffers;this.addSourceBuffer=function(l){return m.addSourceBuffer(l);};this.w8=function(l){return m.w8(l);};this.removeSourceBuffer=function(l){return m.removeSourceBuffer(l);};this.$r=function(l){return m.$r(l);};this.duration=void 0;this.readyState=d.kd.OPEN;this.dd=g.Ga.get(f.si).RK(d.dd,{});}Object.defineProperty(b,"__esModule",{value:!0});b.lLa=void 0;k=a(9);g=a(9);f=a(35);Object.defineProperty(c.prototype,"duration",{get:function(){return this.Vk;},set:function(h){var m;this.Vk=h || Infinity;m=Math.floor(1E3 * h) || Infinity;this.sourceBuffers.forEach(function(l){l.Vk=m;});}});d={kd:{CLOSED:0,OPEN:1,Vs:2,name:["CLOSED","OPEN","ENDED"]},dd:{fYa:!0,Y9a:!0}};b.lLa=Object.assign(c,d);},function(q,b,a){var m,l,n,p,r,t,w,v;function c(u){return u.split(",").reduce(function(x,y){var z;z=y.split("=");y=z[0];z=z.slice(1).join("=");y && y.length && (x[y]=z || !0);return x;},{});}function k(u){return u && "object" === typeof u?JSON.stringify(u):"string" === typeof u?'"' + u + '"':"" + u;}function g(u,x,y){var z;if("string" === typeof u)return g.call(this,c(u),x,y);z=0;Object.keys(u).forEach(function(A){var B,D,C;B=r[A];D=u[A];if(B){if(C=t[A] || v[typeof m[B]])try{D=C(D);}catch(F){y && y.error("Failed to convert value '" + D + "' for config '" + A + "' : " + F.toString());return;}C=p[B];this[B]=D;p[B] !== C && (y && y.debug("Config changed for '" + A + "' from " + k(C) + " (" + typeof C + ") to " + k(D) + " (" + typeof D + ")"),++z);}else x?(B=(B=w[A])?B.filter(function(F){return F[0] !== this;},this):[],B.push([this,D]),w[A]=B):y && y.error("Attempt to change undeclared config option '" + A + "'");},this);z && p.emit("changed");return z;}function f(){return Object.keys(r).reduce(function(u,x){var y,z;y=r[x];z=u[y];z?(z.push(x),u[y]=z.sort(function(A,B){return B.length - A.length;})):u[y]=[x];return u;},{});}function d(u,x){return u.hasOwnProperty(x)?k(u[x]):void 0;}function h(u,x){return "undefined" === typeof u?x:u;}b=a(91);a=a(1474).EventEmitter;m={};l=Object.create(m);n=Object.create(l);p=Object.create(n);r={};t={};w={};p.declare=function(u){Object.keys(u).forEach(function(x){var y,z,A,B;y=u[x];z=y[0];A=y[1];B=y[2];if(m.hasOwnProperty(x))throw Error("The local configuraion key '" + x + "' is already in use");"string" === typeof z && (z=[z]);z.forEach(function(D){var C;if(r.hasOwnProperty(D))throw Error("The configuration value '" + D + "' has been declared more than once");m.hasOwnProperty(x) || ("function" === typeof A && (A=A()),m[x]=A);r[D]=x;"function" === typeof B && (t[D]=B);if(C=w[D])(C.forEach(function(F){var G,E;G=F[0];E={};E[D]=F[1];g.call(G,E,!1);}),delete w[D]);});});return p;};v={object:function(u){return "object" == typeof u?u:JSON.parse("" + u);},"boolean":function(u){return "boolean" == typeof u?u:!("0" === "" + u || "false" === ("" + u).toLowerCase());},number:function(u){if("number" == typeof u)return u;u=parseFloat("" + u);if(isNaN(u))throw Error("parseFloat returned NaN");return u;}};p.set=g.bind(l);p.M0=g.bind(n);p.dump=function(u,x){var z,A,B,D;function y(){D && u && u.log("===========================================");}z=Object.keys(w).sort();A={};B=f();x=h(x,!0);Object.keys(r).sort().forEach(function(C){var F,G,E;C=r[C];if(!A[C]){A[C]=!0;F=d(l,C);G=d(n,C);if(x || "undefined" !== typeof F || "undefined" !== typeof G){E=B[C].join(",");E+=" = " + k(p[C]) + " (" + typeof p[C] + ") [";E+=h(G,"<unset>") + ",";E+=h(F,"<unset>") + ",";E+=d(m,C) + "]";D || (D=!0,u && u.log("Current config values"),y());u && u.log(E);}}});(x || z.length) && u && u.log("<undeclared> :",z);y();};p.Xr=function(u){var x,y;x={};y={};Object.keys(r).forEach(function(z){z=r[z];y[z] || (y[z]=!0,x[z]=p[z]);});u && g.call(x,u);return x;};p.Uab=function(){var u;u=f();return Object.getOwnPropertyNames(l).reduce(function(x,y){x[u[y][0]]=l[y];return x;},{});};p.reset=function(){Object.keys(l).forEach(function(u){delete l[u];});};p.Sd={};b(a,p);q.exports=Object.freeze(p);},function(q,b,a){var k;function c(g){for(var f="",d=0;d < g.length;d++){f+=g[d].M + "|";}return f;}k=a(342);q.exports={assert:function(g,f){if(!g)throw Error("PlayPredictionModel assertion failed" + (f?" : " + f:""));},$gc:function(g,f,d){Array.prototype.splice.apply(g,[f,0].concat(d));},QLb:function(g){for(var f=[],d=0;d < g.length;d++){if(g[d].context === k.bU.$kb){f=g[d].list;break;}}return f;},xLb:function(g){for(var f=[],d=0;d < g.length;d++){if(g[d].context === k.bU.Sjb){f=g[d].list;break;}}return f;},NGb:function(g,f){for(var d=0,h,m,l,n=0,p=g.length - 1;n < p;n++){h=c(g[n].list || []);l=!1;for(var r=0,t=f.length;r < t;r++){if((m=c(f[r].list || []),m == h)){l=!0;break;}}if(!1 === l){d=n;break;}}return d;},iXb:function(g,f,d){for(var h=[],m,l=0;l < Math.min(f,g.length);l++){m=g[l].list || [];h=h.concat(m.slice(0,d));}return h;},hXb:function(g,f){for(var d=[],h,m=0;m < g.length && (h=g[m].list || [],h=h.slice(0,Math.min(h.length,f)),f-=h.length,d=d.concat(h),0 !== f);m++){;}return d;},gXb:function(g,f,d){var h;f < g.length && 0 <= f && (g=g[f].list || [],d < g.length && (h=g[d]));return h;},m1a:function(g){for(var f={},d=g.length,h,m=0;m < d;m++){h=g[m].list || [];for(var l=0;l < h.length;l++){if(h[l].property === k.JM.vU || h[l].property === k.JM.RFa){f.zl=m;f.Fn=l;break;}}}void 0 === f.zl && void 0 === f.Fn && (f.zl=0,f.Fn=0);return f;}};},function(q,b,a){var f;function c(d,h,m,l,n,p,r){this.z3=l;this.ojb=d;this.m$a=h;this.sxa=m;this.kSb=p;this.ar=r;this.split=n;}function k(){this.N={};this.N["0"]=new c("1","2","1","14","-0.0000100136",0,0);this.N["1"]=new c("3","4","3","20","-0.0000100136",0,0);this.N["3"]=new c("7","8","7","10","1.5",0,0);this.N["7"]=new c("15","16","15","9","4.5",0,0);this.N["15"]=new c("31","32","31","2","5.5",0,0);this.N["31"]=new c("63","64","63","29","-0.0000100136",0,0);this.N["63"]=new c("123","124","123","24","-0.0000100136",0,0);this.N["123"]=new c("123","124","123","0","0",1,.207298);this.N["124"]=new c("123","124","123","0","0",1,.49076);this.N["64"]=new c("125","126","125","4","40.5",0,0);this.N["125"]=new c("125","126","125","0","0",1,-.00157835);this.N["126"]=new c("125","126","125","0","0",1,.934205);this.N["32"]=new c("65","66","65","135","5.5",0,0);this.N["65"]=new c("127","128","128","4","1272.5",0,0);this.N["127"]=new c("127","128","128","0","0",1,-.510333);this.N["128"]=new c("127","128","128","0","0",1,.18363);this.N["66"]=new c("129","130","129","24","-0.0000100136",0,0);this.N["129"]=new c("129","130","129","0","0",1,-.0464542);this.N["130"]=new c("129","130","129","0","0",1,.458833);this.N["16"]=new c("33","34","34","10","2.00001",0,0);this.N["33"]=new c("67","68","67","0","29.5",0,0);this.N["67"]=new c("131","132","131","2","39.5",0,0);this.N["131"]=new c("131","132","131","0","0",1,-.37577);this.N["132"]=new c("131","132","131","0","0",1,.512087);this.N["68"]=new c("133","134","134","140","1.5",0,0);this.N["133"]=new c("133","134","134","0","0",1,.321272);this.N["134"]=new c("133","134","134","0","0",1,-.675396);this.N["34"]=new c("69","70","70","2","24.5",0,0);this.N["69"]=new c("135","136","136","9","28.5",0,0);this.N["135"]=new c("135","136","136","0","0",1,-.0573845);this.N["136"]=new c("135","136","136","0","0",1,-.507455);this.N["70"]=new c("137","138","137","45","-0.0000100136",0,0);this.N["137"]=new c("137","138","137","0","0",1,-.503909);this.N["138"]=new c("137","138","137","0","0",1,.450886);this.N["8"]=new c("17","18","17","4","44189.5",0,0);this.N["17"]=new c("35","36","35","2","21.5",0,0);this.N["35"]=new c("71","72","72","0","19.5",0,0);this.N["71"]=new c("139","140","140","9","2.5",0,0);this.N["139"]=new c("139","140","140","0","0",1,.00403497);this.N["140"]=new c("139","140","140","0","0",1,-.312656);this.N["72"]=new c("141","142","141","135","96",0,0);this.N["141"]=new c("141","142","141","0","0",1,-.465786);this.N["142"]=new c("141","142","141","0","0",1,.159633);this.N["36"]=new c("73","74","73","130","89.5",0,0);this.N["73"]=new c("143","144","144","10","4.5",0,0);this.N["143"]=new c("143","144","144","0","0",1,-.76265);this.N["144"]=new c("143","144","144","0","0",1,-.580804);this.N["74"]=new c("145","146","146","10","16.5",0,0);this.N["145"]=new c("145","146","146","0","0",1,.296357);this.N["146"]=new c("145","146","146","0","0",1,-.691659);this.N["18"]=new c("37","38","38","9","1.5",0,0);this.N["37"]=new c("37","38","38","0","0",1,.993951);this.N["38"]=new c("75","76","75","0","19",0,0);this.N["75"]=new c("147","148","147","39","-0.0000100136",0,0);this.N["147"]=new c("147","148","147","0","0",1,-.346535);this.N["148"]=new c("147","148","147","0","0",1,-.995745);this.N["76"]=new c("147","148","147","0","0",1,-.99978);this.N["4"]=new c("9","10","9","5","4.5",0,0);this.N["9"]=new c("19","20","19","2","4.5",0,0);this.N["19"]=new c("39","40","39","140","7.5",0,0);this.N["39"]=new c("77","78","78","134","6.5",0,0);this.N["77"]=new c("149","150","150","7","11.5",0,0);this.N["149"]=new c("149","150","150","0","0",1,.729843);this.N["150"]=new c("149","150","150","0","0",1,.383857);this.N["78"]=new c("151","152","151","133","4.5",0,0);this.N["151"]=new c("151","152","151","0","0",1,.39017);this.N["152"]=new c("151","152","151","0","0",1,.0434342);this.N["40"]=new c("79","80","79","133","3.5",0,0);this.N["79"]=new c("153","154","154","8","4.5",0,0);this.N["153"]=new c("153","154","154","0","0",1,-.99536);this.N["154"]=new c("153","154","154","0","0",1,-.00943396);this.N["80"]=new c("155","156","155","125","-0.0000100136",0,0);this.N["155"]=new c("155","156","155","0","0",1,.266272);this.N["156"]=new c("155","156","155","0","0",1,.959904);this.N["20"]=new c("41","42","42","10","65.5",0,0);this.N["41"]=new c("81","82","82","7","10.5",0,0);this.N["81"]=new c("157","158","158","2","37.5",0,0);this.N["157"]=new c("157","158","158","0","0",1,-.701873);this.N["158"]=new c("157","158","158","0","0",1,.224649);this.N["82"]=new c("159","160","159","133","9.5",0,0);this.N["159"]=new c("159","160","159","0","0",1,.0955181);this.N["160"]=new c("159","160","159","0","0",1,-.58962);this.N["42"]=new c("83","84","83","39","-0.0000100136",0,0);this.N["83"]=new c("161","162","161","135","31",0,0);this.N["161"]=new c("161","162","161","0","0",1,-.229692);this.N["162"]=new c("161","162","161","0","0",1,.88595);this.N["84"]=new c("163","164","164","1","13.5",0,0);this.N["163"]=new c("163","164","164","0","0",1,-.992157);this.N["164"]=new c("163","164","164","0","0",1,.922159);this.N["10"]=new c("21","22","22","4","486",0,0);this.N["21"]=new c("43","44","44","133","4.5",0,0);this.N["43"]=new c("85","86","86","10","4.5",0,0);this.N["85"]=new c("165","166","166","4","158.5",0,0);this.N["165"]=new c("165","166","166","0","0",1,-.127778);this.N["166"]=new c("165","166","166","0","0",1,.955189);this.N["86"]=new c("165","166","166","0","0",1,-.994012);this.N["44"]=new c("87","88","88","1","3.5",0,0);this.N["87"]=new c("167","168","168","135","7",0,0);this.N["167"]=new c("167","168","168","0","0",1,-.997015);this.N["168"]=new c("167","168","168","0","0",1,.400821);this.N["88"]=new c("169","170","169","130","36",0,0);this.N["169"]=new c("169","170","169","0","0",1,-.898638);this.N["170"]=new c("169","170","169","0","0",1,.56129);this.N["22"]=new c("45","46","45","9","2.5",0,0);this.N["45"]=new c("89","90","90","9","1.5",0,0);this.N["89"]=new c("171","172","171","10","10.5",0,0);this.N["171"]=new c("171","172","171","0","0",1,.573986);this.N["172"]=new c("171","172","171","0","0",1,-.627266);this.N["90"]=new c("173","174","173","31","-0.0000100136",0,0);this.N["173"]=new c("173","174","173","0","0",1,.925273);this.N["174"]=new c("173","174","173","0","0",1,-.994805);this.N["46"]=new c("91","92","91","136","5.5",0,0);this.N["91"]=new c("175","176","175","10","10.5",0,0);this.N["175"]=new c("175","176","175","0","0",1,.548352);this.N["176"]=new c("175","176","175","0","0",1,-.879195);this.N["92"]=new c("177","178","178","8","14.5",0,0);this.N["177"]=new c("177","178","178","0","0",1,.457305);this.N["178"]=new c("177","178","178","0","0",1,-.998992);this.N["2"]=new c("5","6","5","10","2.5",0,0);this.N["5"]=new c("11","12","11","9","4.5",0,0);this.N["11"]=new c("23","24","24","10","4.00001",0,0);this.N["23"]=new c("47","48","48","133","5.5",0,0);this.N["47"]=new c("93","94","93","3","13.5",0,0);this.N["93"]=new c("179","180","179","138","15.5",0,0);this.N["179"]=new c("179","180","179","0","0",1,.658398);this.N["180"]=new c("179","180","179","0","0",1,-.927007);this.N["94"]=new c("181","182","182","3","15.5",0,0);this.N["181"]=new c("181","182","182","0","0",1,-.111351);this.N["182"]=new c("181","182","182","0","0",1,-.99827);this.N["48"]=new c("95","96","95","7","167",0,0);this.N["95"]=new c("183","184","183","132","36.5",0,0);this.N["183"]=new c("183","184","183","0","0",1,.895161);this.N["184"]=new c("183","184","183","0","0",1,-.765217);this.N["96"]=new c("185","186","186","137","6.00001",0,0);this.N["185"]=new c("185","186","186","0","0",1,-.851095);this.N["186"]=new c("185","186","186","0","0",1,.674286);this.N["24"]=new c("49","50","49","137","5.5",0,0);this.N["49"]=new c("97","98","97","5","23.5",0,0);this.N["97"]=new c("187","188","187","3","28.5",0,0);this.N["187"]=new c("187","188","187","0","0",1,.951654);this.N["188"]=new c("187","188","187","0","0",1,-.993808);this.N["98"]=new c("187","188","187","0","0",1,-.99705);this.N["50"]=new c("187","188","187","0","0",1,-.997525);this.N["12"]=new c("25","26","25","8","8.5",0,0);this.N["25"]=new c("51","52","52","10","4.00001",0,0);this.N["51"]=new c("99","100","100","133","5.5",0,0);this.N["99"]=new c("189","190","190","7","40.5",0,0);this.N["189"]=new c("189","190","190","0","0",1,.151839);this.N["190"]=new c("189","190","190","0","0",1,-.855517);this.N["100"]=new c("191","192","192","133","14.5",0,0);this.N["191"]=new c("191","192","192","0","0",1,.86223);this.N["192"]=new c("191","192","192","0","0",1,.544394);this.N["52"]=new c("101","102","101","135","47.5",0,0);this.N["101"]=new c("193","194","194","4","24.5",0,0);this.N["193"]=new c("193","194","194","0","0",1,.946185);this.N["194"]=new c("193","194","194","0","0",1,.811859);this.N["102"]=new c("193","194","194","0","0",1,-.991561);this.N["26"]=new c("53","54","54","132","6.5",0,0);this.N["53"]=new c("103","104","103","131","85",0,0);this.N["103"]=new c("195","196","196","134","16.5",0,0);this.N["195"]=new c("195","196","196","0","0",1,.0473538);this.N["196"]=new c("195","196","196","0","0",1,-.999401);this.N["104"]=new c("197","198","198","8","15.5",0,0);this.N["197"]=new c("197","198","198","0","0",1,.816129);this.N["198"]=new c("197","198","198","0","0",1,-.99322);this.N["54"]=new c("105","106","105","133","3.5",0,0);this.N["105"]=new c("105","106","105","0","0",1,-.998783);this.N["106"]=new c("199","200","199","39","-0.0000100136",0,0);this.N["199"]=new c("199","200","199","0","0",1,.528588);this.N["200"]=new c("199","200","199","0","0",1,-.998599);this.N["6"]=new c("13","14","14","10","7.5",0,0);this.N["13"]=new c("27","28","28","133","7.5",0,0);this.N["27"]=new c("55","56","56","10","4.5",0,0);this.N["55"]=new c("107","108","107","3","3.5",0,0);this.N["107"]=new c("201","202","201","4","17.5",0,0);this.N["201"]=new c("201","202","201","0","0",1,-.379512);this.N["202"]=new c("201","202","201","0","0",1,.15165);this.N["108"]=new c("203","204","203","57","-0.0000100136",0,0);this.N["203"]=new c("203","204","203","0","0",1,-.884606);this.N["204"]=new c("203","204","203","0","0",1,.265406);this.N["56"]=new c("109","110","109","136","6.5",0,0);this.N["109"]=new c("205","206","205","4","157.5",0,0);this.N["205"]=new c("205","206","205","0","0",1,-.0142737);this.N["206"]=new c("205","206","205","0","0",1,.691279);this.N["110"]=new c("205","206","205","0","0",1,-.998086);this.N["28"]=new c("57","58","58","138","11.5",0,0);this.N["57"]=new c("111","112","112","2","6.5",0,0);this.N["111"]=new c("207","208","208","7","67.5",0,0);this.N["207"]=new c("207","208","208","0","0",1,.763925);this.N["208"]=new c("207","208","208","0","0",1,-.309645);this.N["112"]=new c("209","210","209","40","-0.0000100136",0,0);this.N["209"]=new c("209","210","209","0","0",1,-.306635);this.N["210"]=new c("209","210","209","0","0",1,.556696);this.N["58"]=new c("113","114","113","138","50.5",0,0);this.N["113"]=new c("211","212","212","8","25.5",0,0);this.N["211"]=new c("211","212","212","0","0",1,.508234);this.N["212"]=new c("211","212","212","0","0",1,.793551);this.N["114"]=new c("211","212","212","0","0",1,-.998438);this.N["14"]=new c("29","30","29","134","27.5",0,0);this.N["29"]=new c("59","60","60","7","17.5",0,0);this.N["59"]=new c("115","116","115","135","5.5",0,0);this.N["115"]=new c("213","214","214","137","5.5",0,0);this.N["213"]=new c("213","214","214","0","0",1,.401747);this.N["214"]=new c("213","214","214","0","0",1,.0367503);this.N["116"]=new c("215","216","216","8","5.5",0,0);this.N["215"]=new c("215","216","216","0","0",1,-.0241984);this.N["216"]=new c("215","216","216","0","0",1,-.999046);this.N["60"]=new c("117","118","117","0","12.5",0,0);this.N["117"]=new c("217","218","218","132","5.5",0,0);this.N["217"]=new c("217","218","218","0","0",1,-.997294);this.N["218"]=new c("217","218","218","0","0",1,.210398);this.N["118"]=new c("219","220","219","137","1.5",0,0);this.N["219"]=new c("219","220","219","0","0",1,-.55763);this.N["220"]=new c("219","220","219","0","0",1,.074493);this.N["30"]=new c("61","62","62","133","42.5",0,0);this.N["61"]=new c("119","120","119","135","5.5",0,0);this.N["119"]=new c("221","222","222","4","473.5",0,0);this.N["221"]=new c("221","222","222","0","0",1,-.920213);this.N["222"]=new c("221","222","222","0","0",1,-.17615);this.N["120"]=new c("223","224","224","5","144",0,0);this.N["223"]=new c("223","224","224","0","0",1,-.954295);this.N["224"]=new c("223","224","224","0","0",1,-.382538);this.N["62"]=new c("121","122","121","133","50",0,0);this.N["121"]=new c("225","226","226","10","18.5",0,0);this.N["225"]=new c("225","226","226","0","0",1,-.0731343);this.N["226"]=new c("225","226","226","0","0",1,.755454);this.N["122"]=new c("227","228","228","0","30",0,0);this.N["227"]=new c("227","228","228","0","0",1,.25);this.N["228"]=new c("227","228","228","0","0",1,-.997101);}function g(d,h,m,l,n,p){this.Xea=n;this.v9=p;}b=a(629);f=a(341);a={};a.Xyb=new (function(){this.Rsb=f();this.Va=0;this.update=function(){this.Va=f() - this.Rsb;};this.type="num";})();a.dTb=new (function(){this.type="cat";})();a.eTb=new (function(){this.type="cat";})();a.gTb=new (function(){this.type="cat";})();a.hTb=new (function(){this.type="cat";})();a.fTb=new (function(){this.type="cat";})();a.iTb=new (function(){this.type="cat";})();a.jTb=new (function(){this.type="cat";})();a.kTb=new (function(){this.type="cat";})();a.lTb=new (function(){this.type="cat";})();a.mTb=new (function(){this.type="cat";})();a.nTb=new (function(){this.type="cat";})();a.oTb=new (function(){this.type="cat";})();a.qTb=new (function(){this.type="cat";})();a.rTb=new (function(){this.type="cat";})();a.sTb=new (function(){this.type="cat";})();a.pTb=new (function(){this.type="cat";})();a.Czb=new (function(){this.update=function(d){for(var h in d.Zb){if("becauseYouAdded" === d.Zb[h].context){this.Va=Math.max(d.Zb[h].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.Dzb=new (function(){this.update=function(d){for(var h in d.Zb){if("becauseYouLiked" === d.Zb[h].context){this.Va=Math.max(d.Zb[h].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.Gzb=new (function(){this.update=function(d){for(var h in d.Zb){if("billboard" === d.Zb[h].context){this.Va=Math.max(d.Zb[h].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.LCb=new (function(){this.update=function(d){for(var h in d.Zb){if("continueWatching" === d.Zb[h].context){this.Va=Math.max(d.Zb[h].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.Fzb=new (function(){this.update=function(d){for(var h in d.Zb){if("bigRow" === d.Zb[h].context){this.Va=Math.max(d.Zb[h].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.aLb=new (function(){this.update=function(d){for(var h in d.Zb){if("genre" === d.Zb[h].context){this.Va=Math.max(d.Zb[h].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.nWb=new (function(){this.update=function(d){for(var h in d.Zb){if("netflixOriginals" === d.Zb[h].context){this.Va=Math.max(d.Zb[h].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.pWb=new (function(){this.update=function(d){for(var h in d.Zb){if("newRelease" === d.Zb[h].context){this.Va=Math.max(d.Zb[h].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.QZb=new (function(){this.update=function(d){for(var h in d.Zb){if("popularTitles" === d.Zb[h].context){this.Va=Math.max(d.Zb[h].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.lu=new (function(){this.update=function(d){for(var h in d.Zb){if("queue" === d.Zb[h].context){this.Va=Math.max(d.Zb[h].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.A0b=new (function(){this.update=function(d){for(var h in d.Zb){if("recentlyAdded" === d.Zb[h].context){this.Va=Math.max(d.Zb[h].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.K4b=new (function(){this.update=function(d){for(var h in d.Zb){if("similars" === d.Zb[h].context){this.Va=Math.max(d.Zb[h].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.j7b=new (function(){this.update=function(d){for(var h in d.Zb){if("trendingNow" === d.Zb[h].context){this.Va=Math.max(d.Zb[h].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.D7b=new (function(){this.update=function(d){for(var h in d.Zb){if("ultraHD" === d.Zb[h].context){this.Va=Math.max(d.Zb[h].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.w9b=new (function(){this.update=function(d){for(var h in d.Zb){if("watchAgain" === d.Zb[h].context){this.Va=Math.max(d.Zb[h].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.Y6b=new (function(){this.update=function(d){for(var h in d.Zb){if("topTen" === d.Zb[h].context){this.Va=Math.max(d.Zb[h].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.VCb=new (function(){this.type="cat";})();a.WCb=new (function(){this.type="cat";})();a.XCb=new (function(){this.type="cat";})();a.YCb=new (function(){this.type="cat";})();a.ZCb=new (function(){this.type="cat";})();a.$Cb=new (function(){this.type="cat";})();a.aDb=new (function(){this.type="cat";})();a.bDb=new (function(){this.type="cat";})();a.cDb=new (function(){this.type="cat";})();a.dDb=new (function(){this.type="cat";})();a.eDb=new (function(){this.type="cat";})();a.fDb=new (function(){this.type="cat";})();a.gDb=new (function(){this.type="cat";})();a.hDb=new (function(){this.type="cat";})();a.iDb=new (function(){this.type="cat";})();a.jDb=new (function(){this.type="cat";})();a.kDb=new (function(){this.type="cat";})();a.lDb=new (function(){this.type="cat";})();a.mDb=new (function(){this.type="cat";})();a.nDb=new (function(){this.type="cat";})();a.oDb=new (function(){this.type="cat";})();a.pDb=new (function(){this.type="cat";})();a.qDb=new (function(){this.type="cat";})();a.rDb=new (function(){this.type="cat";})();a.sDb=new (function(){this.type="cat";})();a.tDb=new (function(){this.type="cat";})();a.uDb=new (function(){this.type="cat";})();a.vDb=new (function(){this.type="cat";})();a.wDb=new (function(){this.type="cat";})();a.xDb=new (function(){this.type="cat";})();a.yDb=new (function(){this.type="cat";})();a.zDb=new (function(){this.type="cat";})();a.ADb=new (function(){this.type="cat";})();a.BDb=new (function(){this.type="cat";})();a.CDb=new (function(){this.type="cat";})();a.DDb=new (function(){this.type="cat";})();a.EDb=new (function(){this.type="cat";})();a.FDb=new (function(){this.type="cat";})();a.GDb=new (function(){this.type="cat";})();a.HDb=new (function(){this.type="cat";})();a.IDb=new (function(){this.type="cat";})();a.JDb=new (function(){this.type="cat";})();a.KDb=new (function(){this.type="cat";})();a.LDb=new (function(){this.type="cat";})();a.MDb=new (function(){this.type="cat";})();a.NDb=new (function(){this.type="cat";})();a.ODb=new (function(){this.type="cat";})();a.PDb=new (function(){this.type="cat";})();a.QDb=new (function(){this.type="cat";})();a.RDb=new (function(){this.type="cat";})();a.SDb=new (function(){this.type="cat";})();a.TDb=new (function(){this.type="cat";})();a.UDb=new (function(){this.type="cat";})();a.VDb=new (function(){this.type="cat";})();a.WDb=new (function(){this.type="cat";})();a.XDb=new (function(){this.type="cat";})();a.YDb=new (function(){this.type="cat";})();a.ZDb=new (function(){this.type="cat";})();a.$Db=new (function(){this.type="cat";})();a.aEb=new (function(){this.type="cat";})();a.bEb=new (function(){this.type="cat";})();a.cEb=new (function(){this.type="cat";})();a.dEb=new (function(){this.type="cat";})();a.eEb=new (function(){this.type="cat";})();a.fEb=new (function(){this.type="cat";})();a.gEb=new (function(){this.type="cat";})();a.hEb=new (function(){this.type="cat";})();a.iEb=new (function(){this.type="cat";})();a.jEb=new (function(){this.type="cat";})();a.kEb=new (function(){this.type="cat";})();a.lEb=new (function(){this.type="cat";})();a.mEb=new (function(){this.type="cat";})();a.nEb=new (function(){this.type="cat";})();a.oEb=new (function(){this.type="cat";})();a.pEb=new (function(){this.type="cat";})();a.qEb=new (function(){this.type="cat";})();a.rEb=new (function(){this.type="cat";})();a.sEb=new (function(){this.type="cat";})();a.tEb=new (function(){this.type="cat";})();a.C0b=new (function(){this.type="cat";})();a.D0b=new (function(){this.type="cat";})();a.E0b=new (function(){this.type="cat";})();a.F0b=new (function(){this.type="cat";})();a.G0b=new (function(){this.type="cat";})();a.H0b=new (function(){this.type="cat";})();a.I0b=new (function(){this.type="cat";})();a.J0b=new (function(){this.type="cat";})();a.K0b=new (function(){this.type="cat";})();a.L0b=new (function(){this.type="cat";})();a.M0b=new (function(){this.type="cat";})();a.N0b=new (function(){this.type="cat";})();a.O0b=new (function(){this.type="cat";})();a.P0b=new (function(){this.type="cat";})();a.Q0b=new (function(){this.type="cat";})();a.R0b=new (function(){this.type="cat";})();a.S0b=new (function(){this.type="cat";})();a.T0b=new (function(){this.type="cat";})();a.U0b=new (function(){this.type="cat";})();a.V0b=new (function(){this.type="cat";})();a.W0b=new (function(){this.type="cat";})();a.X0b=new (function(){this.type="cat";})();a.Y0b=new (function(){this.type="cat";})();a.S5b=new (function(){this.update=function(d){"down" === d.direction && this.Va++;};this.type="num";this.Va=0;})();a.U5b=new (function(){this.update=function(d){"right" === d.direction && this.Va++;};this.type="num";this.Va=0;})();a.T5b=new (function(){this.update=function(d){"left" === d.direction && this.Va++;};this.type="num";this.Va=0;})();a.V5b=new (function(){this.update=function(d){"up" === d.direction && this.Va++;};this.type="num";this.Va=0;})();a.ZUb=new (function(){this.Va=0;this.update=function(d){this.Va=Math.max(this.Va,d.rowIndex);};this.type="num";})();a.$Ub=new (function(){this.Va=0;this.update=function(d){this.Va=Math.max(this.Va,d.iYa);};this.type="num";})();a.dVb=new (function(){this.uI=this.Va=0;this.update=function(d){this.uI++;this.Va=1 * (this.Va + d.rowIndex) / this.uI;};this.type="num";})();a.eVb=new (function(){this.uI=this.Va=0;this.update=function(d){this.uI++;return this.Va=1 * (this.Va + d.iYa) / this.uI;};this.type="num";})();a.w_b=new (function(){this.type="num";})();a.x_b=new (function(){this.type="num";})();k.prototype.ar=function(d){return this.rUa(this.N["0"].Qdb(d),d);};k.prototype.rUa=function(d,h){return "string" == typeof d?this.rUa(this.N[d].Qdb(h),h):d;};c.prototype.Qdb=function(d){switch(this.kSb){case 0:switch(d.features[this.z3].type){case "cat":return null === d.features[this.z3].value?this.m$a:"missing" == d.features[this.z3].value?this.sxa:this.ojb;case "num":return null === d.features[this.z3].value?this.sxa:d.features[this.z3].value < this.split?this.ojb:this.m$a;default:return this.sxa;}case 1:return this.ar;default:return this.ar;}};b.declare({d0:["modelSelector","modelone"],gCb:["colEpisodeList",5],NPb:["holdDuration",15E3],zdb:["rowFirst",2],hYa:["colFirst",5],Adb:["rowScroll",2],jYa:["colScroll",6],u2b:["rowScrollHorizontal",6],N2b:["searchTop",3],JZa:["cwFirst",2],MZ:["horizontalItemsFocusedMode",3],mSb:["itemsPerRank",1],MUb:["maxNumberPayloadsStored",10],Y8a:["maxNumberTitlesScheduled",5],Yfc:["enableDetailedLogging",!0],Xic:["rowStep",20],vfc:["colStep",15],uic:["pageRows",100],tic:["pageColumns",75],Lwa:["maskParamsList",new (function(){var d,h;this.Lwa=[];this.gd={};this.Xea=20;this.v9=15;for(d=0;100 > d;d++){for(h=0;75 > h;h++){(Math.floor(d / this.Xea) + "_" + Math.floor(h / this.v9) in this.gd) || (this.gd[Math.floor(d / this.Xea) + "_" + Math.floor(h / this.v9)]=1,this.Lwa.push(new g("grid",10,5,5,Math.floor(d / this.Xea),Math.floor(h / this.v9))));}}})().Lwa],N:["nodes",new k().N],mapping:["mapping",{$Ub:"0",eVb:"1",ZUb:"2",dVb:"3",Xyb:"4",V5b:"5",T5b:"6",U5b:"7",S5b:"8",x_b:"9",w_b:"10",dTb:"11",eTb:"12",gTb:"13",hTb:"14",fTb:"15",iTb:"16",jTb:"17",kTb:"18",lTb:"19",mTb:"20",nTb:"21",oTb:"22",pTb:"23",qTb:"24",rTb:"25",sTb:"26",C0b:"27",D0b:"28",E0b:"29",F0b:"30",G0b:"31",H0b:"32",I0b:"33",J0b:"34",K0b:"35",L0b:"36",M0b:"37",N0b:"38",O0b:"39",P0b:"40",Q0b:"41",R0b:"42",S0b:"43",T0b:"44",U0b:"45",V0b:"46",W0b:"47",X0b:"48",Y0b:"49",VCb:"50",WCb:"51",XCb:"52",YCb:"53",ZCb:"54",$Cb:"55",aDb:"56",bDb:"57",cDb:"58",dDb:"59",eDb:"60",fDb:"61",gDb:"62",hDb:"63",iDb:"64",jDb:"65",kDb:"66",lDb:"67",mDb:"68",nDb:"69",oDb:"70",pDb:"71",qDb:"72",rDb:"73",sDb:"74",tDb:"75",uDb:"76",vDb:"77",wDb:"78",xDb:"79",yDb:"80",zDb:"81",ADb:"82",BDb:"83",CDb:"84",DDb:"85",EDb:"86",FDb:"87",GDb:"88",HDb:"89",IDb:"90",JDb:"91",KDb:"92",LDb:"93",MDb:"94",NDb:"95",ODb:"96",PDb:"97",QDb:"98",RDb:"99",SDb:"100",TDb:"101",UDb:"102",VDb:"103",WDb:"104",XDb:"105",YDb:"106",ZDb:"107",$Db:"108",aEb:"109",bEb:"110",cEb:"111",dEb:"112",eEb:"113",fEb:"114",gEb:"115",hEb:"116",iEb:"117",jEb:"118",kEb:"119",lEb:"120",mEb:"121",nEb:"122",oEb:"123",pEb:"124",qEb:"125",rEb:"126",sEb:"127",tEb:"128",w9b:"129",A0b:"130",K4b:"131",lu:"132",LCb:"133",aLb:"134",j7b:"135",Y6b:"136",Gzb:"137",pWb:"138",D7b:"139",QZb:"140",Czb:"141",Fzb:"142",Dzb:"143",nWb:"144"}],features:["features",a],qec:["_modelName","tree"],lec:["_format","xgboost"],pec:["_itemsToKeep",5],oec:["_itemsThreshold",null],gfc:["cacheLimit",20]});q.exports={config:b,whc:g,Afc:c};},function(q,b,a){q.exports=a(633);},function(q,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(634);a(635)();a(660)();pb._cad_global={};pb.DEBUG=!1;a(16);a(11);a(14);a(26);a(46);a(98);a(1460);a(627);a(62);a(63);a(24);a(75);a(66);a(1461);a(336);a(384);a(1462);a(605);a(1463);a(602);a(609);a(607);a(608);a(596);a(597);a(599);a(332);a(331);a(1464);a(19);a(616);a(1465);a(213);a(112);a(603);a(208);a(567);a(568);a(566);a(1466);a(1467);a(565);a(1468);a(557);a(334);a(555);a(333);a(595);a(1469);a(335);a(611);a(211);a(628);a(175);a(1470);a(141);a(1477);a(1478);a(1481);a(1483);a(610);a(65);a(606);a(538);a(604);a(614);a(1484);a(340);a(142);a(1485);a(1486);a(1487);a(1489);a(1490);a(600);},function(q,b,a){(function(c){var k;(function(g){var G,E,I,K,L,H,P,N,J;function f(M,O,Q){var T;T=J.get(M);if(!T){if(!Q)return;T=new P();J.set(M,T);}M=T.get(O);if(!M){if(!Q)return;M=new P();T.set(O,M);}return M;}function d(M,O,Q){if(h(M,O,Q))return !0;O=u(O);return null !== O?d(M,O,Q):!1;}function h(M,O,Q){O=f(O,Q,!1);return void 0 !== O && ! !O.has(M);}function m(M,O,Q){if(h(M,O,Q))return l(M,O,Q);O=u(O);return null !== O?m(M,O,Q):void 0;}function l(M,O,Q){O=f(O,Q,!1);return void 0 === O?void 0:O.get(M);}function n(M,O){var Q,V;Q=p(M,O);M=u(M);if(null === M)return Q;O=n(M,O);if(0 >= O.length)return Q;if(0 >= Q.length)return O;M=new N();for(var T=0;T < Q.length;T++){V=Q[T];M.add(V);}for(Q=0;Q < O.length;Q++){V=O[Q];M.add(V);}return z(M);}function p(M,O){var Q;M=f(M,O,!1);Q=[];M && y(M,function(T,V){return Q.push(V);});return Q;}function r(M){return void 0 === M;}function t(M){return Array.isArray?Array.isArray(M):M instanceof Array || "[object Array]" === Object.prototype.toString.call(M);}function w(M){return "object" === typeof M?null !== M:"function" === typeof M;}function v(M){return "symbol" === typeof M?M:String(M);}function u(M){var O,Q;O=Object.getPrototypeOf(M);if("function" !== typeof M || M === H || O !== H)return O;Q=M.prototype;Q=Q && Object.getPrototypeOf(Q);if(null == Q || Q === Object.prototype)return O;Q=Q.constructor;return "function" !== typeof Q || Q === M?O:Q;}function x(M){M=M.next();return M.done?void 0:M;}function y(M,O,Q){var T,V,da;T=M.entries;if("function" === typeof T){T=T.call(M);try{for(;V=x(T);){da=V.value;O.call(Q,da[1],da[0],M);}}finally{V && (M=T["return"]) && M.call(T);}}else (T=M.forEach,"function" === typeof T && T.call(M,O,Q));}function z(M){var O;O=[];y(M,function(Q,T){O.push(T);});return O;}function A(M,O,Q){var T;T=0;return {next:function(){var V;if((M || O) && T < (M || O).length){V=T++;switch(Q){case "key":return {value:M[V],done:!1};case "value":return {value:O[V],done:!1};case "key+value":return {value:[M[V],O[V]],done:!1};}}O=M=void 0;return {value:void 0,done:!0};},"throw":function(V){if(M || O)O=M=void 0;throw V;},"return":function(V){if(M || O)O=M=void 0;return {value:V,done:!0};}};}function B(){var M;M={};return (function(){function O(){this.Hf=[];this.gg=[];this.Zx=M;this.hv=-2;}Object.defineProperty(O.prototype,"size",{get:function(){return this.Hf.length;},enumerable:!0,configurable:!0});O.prototype.has=function(Q){return 0 <= this.GA(Q,!1);};O.prototype.get=function(Q){Q=this.GA(Q,!1);return 0 <= Q?this.gg[Q]:void 0;};O.prototype.set=function(Q,T){Q=this.GA(Q,!0);this.gg[Q]=T;return this;};O.prototype.delete=function(Q){var T;T=this.GA(Q,!1);if(0 <= T){Q=this.Hf.length;for(T+=1;T < Q;T++){this.Hf[T - 1]=this.Hf[T];this.gg[T - 1]=this.gg[T];}this.Hf.length--;this.gg.length--;this.Zx=M;this.hv=-2;return !0;}return !1;};O.prototype.clear=function(){this.Hf.length=0;this.gg.length=0;this.Zx=M;this.hv=-2;};O.prototype.keys=function(){return A(this.Hf,void 0,"key");};O.prototype.values=function(){return A(void 0,this.gg,"value");};O.prototype.entries=function(){return A(this.Hf,this.gg,"key+value");};O.prototype.GA=function(Q,T){var V;if(this.Zx === Q)return this.hv;V=this.Hf.indexOf(Q);0 > V && T && (V=this.Hf.length,this.Hf.push(Q),this.gg.push(void 0));return (this.Zx=Q,this.hv=V);};return O;})();}function D(){return (function(){function M(){this.Ah=new P();}Object.defineProperty(M.prototype,"size",{get:function(){return this.Ah.size;},enumerable:!0,configurable:!0});M.prototype.has=function(O){return this.Ah.has(O);};M.prototype.add=function(O){return (this.Ah.set(O,O),this);};M.prototype.delete=function(O){return this.Ah.delete(O);};M.prototype.clear=function(){this.Ah.clear();};M.prototype.keys=function(){return this.Ah.keys();};M.prototype.values=function(){return this.Ah.values();};M.prototype.entries=function(){return this.Ah.entries();};return M;})();}function C(){var T,V;function M(da,pa){for(var xa=0;xa < pa;++xa){da[xa]=255 * Math.random() | 0;}return da;}function O(){var da,ya;do {da="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):M(new Uint8Array(16),16):M(Array(16),16);da[6]=da[6] & 79 | 64;da[8]=da[8] & 191 | 128;for(var pa="",xa=0;16 > xa;++xa){ya=da[xa];if(4 === xa || 6 === xa || 8 === xa)pa+="-";16 > ya && (pa+="0");pa+=ya.toString(16).toLowerCase();}da="@@WeakMap@@" + pa;}while(L.has(T,da));T[da]=!0;return da;}function Q(da,pa){if(!G.call(da,V)){if(!pa)return;Object.defineProperty(da,V,{value:K()});}return da[V];}T=K();V=O();return (function(){function da(){this.nv=O();}da.prototype.has=function(pa){pa=Q(pa,!1);return void 0 !== pa?L.has(pa,this.nv):!1;};da.prototype.get=function(pa){pa=Q(pa,!1);return void 0 !== pa?L.get(pa,this.nv):void 0;};da.prototype.set=function(pa,xa){Q(pa,!0)[this.nv]=xa;return this;};da.prototype.delete=function(pa){pa=Q(pa,!1);return void 0 !== pa?delete pa[this.nv]:!1;};da.prototype.clear=function(){this.nv=O();};return da;})();}function F(M){M.iec=1;delete M.jec;return M;}G=Object.prototype.hasOwnProperty;E="function" === typeof Object.create;I=(function(){var O;function M(){}O={};M.prototype=O;return new M().__proto__ === O;})();K=E?function(){return F(Object.create(null));}:I?function(){return F({__proto__:null});}:function(){return F({});};(function(M){var O;O=!E && !I;M.has=O?function(Q,T){return G.call(Q,T);}:function(Q,T){return (T in Q);};M.get=O?function(Q,T){return G.call(Q,T)?Q[T]:void 0;}:function(Q,T){return Q[T];};})(L || (L={}));H=Object.getPrototypeOf(Function);P="function" === typeof Map?Map:B();N="function" === typeof Set?Set:D();J=new ("function" === typeof WeakMap?WeakMap:C())();g.kq=function(M,O,Q,T){var da;if(r(T)){if(r(Q)){if(!t(M))throw new TypeError();if("function" !== typeof O)throw new TypeError();for(Q=M.length - 1;0 <= Q;--Q){if((T=(0,M[Q])(O),!r(T))){if("function" !== typeof T)throw new TypeError();O=T;}}return O;}if(!t(M))throw new TypeError();if(!w(O))throw new TypeError();Q=v(Q);for(T=M.length - 1;0 <= T;--T){(0,M[T])(O,Q);}}else {if(!t(M))throw new TypeError();if(!w(O))throw new TypeError();if(r(Q))throw new TypeError();if(!w(T))throw new TypeError();Q=v(Q);for(var V=M.length - 1;0 <= V;--V){da=(0,M[V])(O,Q,T);if(!r(da)){if(!w(da))throw new TypeError();T=da;}}return T;}};g.Oc=function(M,O){return function(Q,T){if(r(T)){if("function" !== typeof Q)throw new TypeError();f(Q,void 0,!0).set(M,O);}else {if(!w(Q))throw new TypeError();T=v(T);f(Q,T,!0).set(M,O);}};};g.W9=function(M,O,Q,T){if(!w(Q))throw new TypeError();r(T) || (T=v(T));f(Q,T,!0).set(M,O);};g.sPb=function(M,O){var Q;if(!w(O))throw new TypeError();r(Q) || (Q=v(Q));return d(M,O,Q);};g.eua=function(M,O){var Q;if(!w(O))throw new TypeError();r(Q) || (Q=v(Q));return h(M,O,Q);};g.getMetadata=function(M,O,Q){if(!w(O))throw new TypeError();r(Q) || (Q=v(Q));return m(M,O,Q);};g.J3a=function(M,O,Q){if(!w(O))throw new TypeError();r(Q) || (Q=v(Q));return l(M,O,Q);};g.wgc=function(M,O){if(!w(M))throw new TypeError();r(O) || (O=v(O));return n(M,O);};g.ygc=function(M,O){if(!w(M))throw new TypeError();r(O) || (O=v(O));return p(M,O);};g.Efc=function(M,O,Q){var T;if(!w(O))throw new TypeError();r(Q) || (Q=v(Q));T=f(O,Q,!1);if(r(T) || !T.delete(M))return !1;if(0 < T.size)return !0;M=J.get(O);M.delete(Q);if(0 < M.size)return !0;J.delete(O);return !0;};(function(M){if("undefined" !== typeof M.Reflect){if(M.Reflect !== g)for(var O in g){G.call(g,O) && (M.Reflect[O]=g[O]);}}else M.Reflect=g;})("undefined" !== typeof pb?pb:"undefined" !== typeof WorkerGlobalScope?self:"undefined" !== typeof c?c:Function("return this;")());})(k || (k={}));}).call(this,a(214));},function(q,b,a){var c,k;c=a(343);k=a(639);q.exports=function(){var g;g=k();c(Array.prototype,{includes:g},{includes:function(){return Array.prototype.includes !== g;}});return g;};},function(q,b,a){var c,k,g,f,d;c=Array.prototype.slice;k=a(344);g=Object.keys;f=g?function(h){return g(h);}:a(637);d=Object.keys;f.Wm=function(){Object.keys?(function(){var h;h=Object.keys(arguments);return h && h.length === arguments.length;})(1,2) || (Object.keys=function(h){return k(h)?d(c.call(h)):d(h);}):Object.keys=f;return Object.keys || f;};q.exports=f;},function(q,b,a){var c,k,g,f,d,h,m,l,n,p;if(!Object.keys){c=Object.prototype.hasOwnProperty;k=Object.prototype.toString;g=a(344);b=Object.prototype.propertyIsEnumerable;f=!b.call({toString:null},"toString");d=b.call(function(){},"prototype");h=("toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor").split(" ");m=function(r){var t;t=r.constructor;return t && t.prototype === r;};l={P9b:!0,Q9b:!0,R9b:!0,S9b:!0,T9b:!0,U9b:!0,V9b:!0,W9b:!0,X9b:!0,Y9b:!0,Z9b:!0,$9b:!0,a$b:!0,b$b:!0,c$b:!0,d$b:!0,e$b:!0,f$b:!0,g$b:!0,h$b:!0,i$b:!0,j$b:!0,k$b:!0};n=(function(){if("undefined" === typeof pb)return !1;for(var r in pb){try{if(!l["$" + r] && c.call(pb,r) && null !== pb[r] && "object" === typeof pb[r])try{m(pb[r]);}catch(t){return !0;}}catch(t){return !0;}}return !1;})();p=function(r){var t,w,v,u,x,z;t=null !== r && "object" === typeof r;w="[object Function]" === k.call(r);v=g(r);u=t && "[object String]" === k.call(r);x=[];if(!t && !w && !v)throw new TypeError("Object.keys called on a non-object");t=d && w;if(u && 0 < r.length && !c.call(r,0))for(u=0;u < r.length;++u){x.push(String(u));}if(v && 0 < r.length)for(v=0;v < r.length;++v){x.push(String(v));}else for(var y in r){t && "prototype" === y || !c.call(r,y) || x.push(String(y));}if(f){if("undefined" !== typeof pb && n)try{z=m(r);}catch(A){z=!1;}else z=m(r);for(v=0;v < h.length;++v){z && "constructor" === h[v] || !c.call(r,h[v]) || x.push(h[v]);}}return x;};}q.exports=p;},function(q){var b,a;b=Array.prototype.slice;a=Object.prototype.toString;q.exports=function(c){var k;k=this;if("function" !== typeof k || "[object Function]" !== a.call(k))throw new TypeError("Function.prototype.bind called on incompatible " + k);for(var g=b.call(arguments,1),f,d=Math.max(0,k.length - g.length),h=[],m=0;m < d;m++){h.push("$" + m);}f=Function("binder","return function (" + h.join(",") + "){ return binder.apply(this,arguments); }")(function(){var l;if(this instanceof f){l=k.apply(this,g.concat(b.call(arguments)));return Object(l) === l?l:this;}return k.apply(c,g.concat(b.call(arguments)));});k.prototype && (d=function(){},d.prototype=k.prototype,f.prototype=new d(),d.prototype=null);return f;};},function(q,b,a){var c;c=a(640);q.exports=function(){return Array.prototype.includes && Array(1).includes(void 0)?Array.prototype.includes:c;};},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r;c=a(348);k=a(653);g=a(655);f=a(658);d=a(177);h=a(351);b=a(48);m=a(143);l=a(659);n=m("String.prototype.charAt");p=b("%Array.prototype.indexOf%");r=b("%Math.max%");q.exports=function(t){var w,v,u;w=1 < arguments.length?c(arguments[1]):0;if(p && !d(t) && h(w) && "undefined" !== typeof t)return -1 < p.apply(this,arguments);v=g(this);u=k(v.length);if(0 === u)return !1;for(w=0 <= w?w:r(0,u + w);w < u;){if(f(t,l(v)?n(v,w):v[w]))return !0;w+=1;}return !1;};},function(q,b,a){var c;c=a(48)("%Math.abs%");q.exports=function(k){return c(k);};},function(q){var b;b=Math.floor;q.exports=function(a){return b(a);};},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r,t,w,v;c=a(48);k=c("%TypeError%");g=c("%Number%");b=c("%RegExp%");f=c("%parseInt%");c=a(143);d=a(645);h=a(646);m=c("String.prototype.slice");l=d(/^0b[01]+$/i);n=d(/^0o[0-7]+$/i);p=d(/^[-+]0x[0-9a-f]+$/i);b=new b("[\u0085\u200b\ufffe]","g");r=d(b);t=/(^[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+)|([\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+$)/g;w=c("String.prototype.replace");v=a(647);q.exports=function y(x){var z;x=h(x)?x:v(x,g);if("symbol" === typeof x)throw new k("Cannot convert a Symbol value to a number");if("bigint" === typeof x)throw new k("Conversion from 'BigInt' to 'number' is not allowed.");if("string" === typeof x){if(l(x))return y(f(m(x,2),2));if(n(x))return y(f(m(x,2),8));if(r(x) || p(x))return NaN;z=w(x,t,"");if(z !== x)return y(z);}return g(x);};},function(q,b,a){var k,g,f,d,h,m,l;function c(){return d(k,g,arguments);}k=a(215);b=a(48);g=b("%Function.prototype.apply%");f=b("%Function.prototype.call%");d=b("%Reflect.apply%",!0) || k.call(f,g);h=b("%Object.getOwnPropertyDescriptor%",!0);m=b("%Object.defineProperty%",!0);l=b("%Math.max%");if(m)try{m({},"a",{value:1});}catch(n){m=null;}q.exports=function(n){var p;p=d(k,f,arguments);h && m && h(p,"length").configurable && m(p,"length",{value:1 + l(0,n.length - (arguments.length - 1))});return p;};m?m(q.exports,"apply",{value:c}):q.exports.apply=c;},function(q,b,a){var c;c=a(143)("RegExp.prototype.exec");q.exports=function(k){return function(g){return null !== c(k,g);};};},function(q){q.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},function(q,b,a){var c;c=a(648);q.exports=function(k){return 1 < arguments.length?c(k,arguments[1]):c(k);};},function(q,b,a){var c,k,g,f,d;c="function" === typeof Symbol && "symbol" === typeof Symbol.iterator;k=a(649);g=a(349);f=a(650);d=a(651);q.exports=function(h){var m,l,n;if(k(h))return h;m="default";1 < arguments.length && (arguments[1] === String?m="string":arguments[1] === Number && (m="number"));if(c)if(Symbol.toPrimitive){l=Symbol.toPrimitive;n=h[l];if(null !== n && "undefined" !== typeof n){if(!g(n))throw new TypeError(n + " returned for property " + l + " of object " + h + " is not a function");l=n;}else l=void 0;}else d(h) && (l=Symbol.prototype.valueOf);if("undefined" !== typeof l){m=l.call(h,m);if(k(m))return m;throw new TypeError("unable to convert exotic object to primitive");}"default" === m && (f(h) || d(h)) && (m="string");a:{m="default" === m?"number":m;if("undefined" === typeof h || null === h)throw new TypeError("Cannot call method on " + h);if("string" !== typeof m || "number" !== m && "string" !== m)throw new TypeError('hint must be "string" or "number"');m="string" === m?["toString","valueOf"]:["valueOf","toString"];for(l=0;l < m.length;++l){if((n=h[m[l]],g(n) && (n=n.call(h),k(n))))break a;}throw new TypeError("No default value");}return n;};},function(q){q.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},function(q,b,a){var c,k,g;c=Date.prototype.getDay;k=Object.prototype.toString;g=a(350)();q.exports=function(f){if("object" !== typeof f || null === f)f=!1;else if(g)try{c.call(f);f=!0;}catch(d){f=!1;}else f="[object Date]" === k.call(f);return f;};},function(q,b,a){var c,k,g;c=Object.prototype.toString;if(a(346)()){k=Symbol.prototype.toString;g=/^Symbol\(.*\)$/;q.exports=function(f){if("symbol" === typeof f)return !0;if("[object Symbol]" !== c.call(f))return !1;try{return "symbol" !== typeof f.valueOf()?!1:g.test(k.call(f));}catch(d){return !1;}};}else q.exports=function(){return !1;};},function(q){q.exports=function(b){return 0 <= b?1:-1;};},function(q,b,a){var c,k;c=a(654);k=a(348);q.exports=function(g){g=k(g);return 0 >= g?0:g > c?c:g;};},function(q,b,a){a=a(48);b=a("%Math%");a=a("%Number%");q.exports=a.MAX_SAFE_INTEGER || b.pow(2,53) - 1;},function(q,b,a){var c,k;c=a(48)("%Object%");k=a(656);q.exports=function(g){k(g);return c(g);};},function(q,b,a){q.exports=a(657);},function(q,b,a){var c;c=a(48)("%TypeError%");q.exports=function(k,g){if(null == k)throw new c(g || "Cannot call method on " + k);return k;};},function(q,b,a){var c;c=a(177);q.exports=function(k,g){return k === g || c(k) && c(g);};},function(q,b,a){var c,k,g;c=String.prototype.valueOf;k=Object.prototype.toString;g=a(350)();q.exports=function(f){if("string" === typeof f)f=!0;else if("object" !== typeof f)f=!1;else if(g)try{c.call(f);f=!0;}catch(d){f=!1;}else f="[object String]" === k.call(f);return f;};},function(q,b,a){var c,k,g;c=a(216);k=a(661);g=a(343);q.exports=function(){var f;c();f=k();g(Promise.prototype,{"finally":f},{"finally":function(){return Promise.prototype["finally"] !== f;}});return f;};},function(q,b,a){var c,k;c=a(216);k=a(662);q.exports=function(){c();return "function" === typeof Promise.prototype["finally"]?Promise.prototype["finally"]:k;};},function(q,b,a){var d,h,m,l;function c(n){var p,r,t;if("Object" !== m(this))throw new TypeError("receiver is not an Object");p=h(this,l);r=n;t=n;d(n) && (r=g(p,n),t=k(p,n));return this.then(r,t);}function k(n,p){return function(r){var t;t=p();return f(n,t).then(function(){throw r;});};}function g(n,p){return function(r){var t;t=p();return f(n,t).then(function(){return r;});};}function f(n,p){return new n(function(r){r(p);});}a(216)();d=a(352);h=a(663);m=a(114);l=Promise;Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(c,"name")) && b.configurable && Object.defineProperty(c,"name",{configurable:!0,value:"finally"});q.exports=c;},function(q,b,a){var c,k,g,f;b=a(48);c=b("%Symbol.species%",!0);k=b("%TypeError%");g=a(664);f=a(114);q.exports=function(d,h){if("Object" !== f(d))throw new k("Assertion failed: Type(O) is not Object");d=d.constructor;if("undefined" === typeof d)return h;if("Object" !== f(d))throw new k("O.constructor is not an Object");d=c?d[c]:void 0;if(null == d)return h;if(g(d))return d;throw new k("no constructor found");};},function(q,b,a){var c,k,g;c=a(665)("%Reflect.construct%",!0);b=a(666);try{b({},"",{"[[Get]]":function(){}});}catch(f){b=null;}if(b && c){k={};g={};b(g,"length",{"[[Get]]":function(){throw k;},"[[Enumerable]]":!0});q.exports=function(f){try{c(f,g);}catch(d){return d === k;}};}else q.exports=function(f){return "function" === typeof f && ! !f.prototype;};},function(q,b,a){q.exports=a(48);},function(q,b,a){var c,k,g,f,d,h,m,l,n,p;c=a(48)("%TypeError%");k=a(667);g=a(668);f=a(670);d=a(674);h=a(675);m=a(676);l=a(677);n=a(678);p=a(114);q.exports=function(r,t,w){if("Object" !== p(r))throw new c("Assertion failed: Type(O) is not Object");if(!m(t))throw new c("Assertion failed: IsPropertyKey(P) is not true");w=k({cRa:p,sJa:h,rJa:d},w)?w:n(w);if(!k({cRa:p,sJa:h,rJa:d},w))throw new c("Assertion failed: Desc is not a valid Property Descriptor");return g(h,l,f,r,t,w);};},function(q,b,a){var c,k;b=a(48);c=a(113);k=b("%TypeError%");q.exports=function(g,f){var d,h;if("Object" !== g.cRa(f))return !1;d={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(h in f){if(c(f,h) && !d[h])return !1;}if(g.sJa(f) && g.rJa(f))throw new k("Property Descriptors may not be both accessor and data descriptors");return !0;};},function(q,b,a){var c,k,g,f,d;b=a(345);c=a(48);k=b() && c("%Object.defineProperty%",!0);g=b.jPb();f=g && a(669);d=a(143)("Object.prototype.propertyIsEnumerable");q.exports=function(h,m,l,n,p,r){if(!k){if(!h(r) || !r["[[Configurable]]"] || !r["[[Writable]]"] || (p in n) && d(n,p) !== ! !r["[[Enumerable]]"])return !1;h=r["[[Value]]"];n[p]=h;return m(n[p],h);}if(g && "length" === p && ("[[Value]]" in r) && f(n) && n.length !== r["[[Value]]"])return (n.length=r["[[Value]]"],n.length === r["[[Value]]"]);k(n,p,l(r));return !0;};},function(q,b,a){var c;b=a(48)("%Array%");c=!b.isArray && a(143)("Object.prototype.toString");q.exports=b.isArray || (function(k){return "[object Array]" === c(k);});},function(q,b,a){var c,k,g;c=a(217);k=a(672);g=a(114);q.exports=function(f){"undefined" !== typeof f && c(g,"Property Descriptor","Desc",f);return k(f);};},function(q,b,a){var c;c=a(113);q.exports=function(k){return c(k,"[[StartIndex]]") && c(k,"[[EndIndex]]") && 0 <= k["[[StartIndex]]"] && k["[[EndIndex]]"] >= k["[[StartIndex]]"] && String(parseInt(k["[[StartIndex]]"],10)) === String(k["[[StartIndex]]"]) && String(parseInt(k["[[EndIndex]]"],10)) === String(k["[[EndIndex]]"]);};},function(q){q.exports=function(b){var a;if("undefined" === typeof b)return b;a={};("[[Value]]" in b) && (a.value=b["[[Value]]"]);("[[Writable]]" in b) && (a.writable=! !b["[[Writable]]"]);("[[Get]]" in b) && (a.get=b["[[Get]]"]);("[[Set]]" in b) && (a.set=b["[[Set]]"]);("[[Enumerable]]" in b) && (a.enumerable=! !b["[[Enumerable]]"]);("[[Configurable]]" in b) && (a.configurable=! !b["[[Configurable]]"]);return a;};},function(q){q.exports=function(b){if(null === b)return "Null";if("undefined" === typeof b)return "Undefined";if("function" === typeof b || "object" === typeof b)return "Object";if("number" === typeof b)return "Number";if("boolean" === typeof b)return "Boolean";if("string" === typeof b)return "String";};},function(q,b,a){var c,k,g;c=a(113);k=a(217);g=a(114);q.exports=function(f){if("undefined" === typeof f)return !1;k(g,"Property Descriptor","Desc",f);return c(f,"[[Get]]") || c(f,"[[Set]]")?!0:!1;};},function(q,b,a){var c,k,g;c=a(113);k=a(217);g=a(114);q.exports=function(f){if("undefined" === typeof f)return !1;k(g,"Property Descriptor","Desc",f);return c(f,"[[Value]]") || c(f,"[[Writable]]")?!0:!1;};},function(q){q.exports=function(b){return "string" === typeof b || "symbol" === typeof b;};},function(q,b,a){var c;c=a(177);q.exports=function(k,g){return k === g?0 === k?1 / k === 1 / g:!0:c(k) && c(g);};},function(q,b,a){var c,k,g,f,d;c=a(113);k=a(48)("%TypeError%");g=a(114);f=a(679);d=a(352);q.exports=function(h){var m,l;if("Object" !== g(h))throw new k("ToPropertyDescriptor requires an object");m={};c(h,"enumerable") && (m["[[Enumerable]]"]=f(h.enumerable));c(h,"configurable") && (m["[[Configurable]]"]=f(h.configurable));c(h,"value") && (m["[[Value]]"]=h.value);c(h,"writable") && (m["[[Writable]]"]=f(h.writable));if(c(h,"get")){l=h.get;if("undefined" !== typeof l && !d(l))throw new k("getter must be a function");m["[[Get]]"]=l;}if(c(h,"set")){h=h.set;if("undefined" !== typeof h && !d(h))throw new k("setter must be a function");m["[[Set]]"]=h;}if((c(m,"[[Get]]") || c(m,"[[Set]]")) && (c(m,"[[Value]]") || c(m,"[[Writable]]")))throw new k("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return m;};},function(q){q.exports=function(b){return ! !b;};},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r,t;c=this && this.__awaiter || (function(w,v,u,x){return new (u || (u=Promise))(function(y,z){function A(C){try{D(x.next(C));}catch(F){z(F);}}function B(C){try{D(x["throw"](C));}catch(F){z(F);}}function D(C){C.done?y(C.value):new u(function(F){F(C.value);}).then(A,B);}D((x=x.apply(w,v || [])).next());});});k=this && this.__generator || (function(w,v){var y,z,A,B,D;function u(C){return function(F){return x([C,F]);};}function x(C){if(z)throw new TypeError("Generator is already executing.");for(;y;){try{if((z=1,A && (B=A[C[0] & 2?"return":C[0]?"throw":"next"]) && !(B=B.call(A,C[1])).done))return B;if((A=0,B))C=[0,B.value];switch(C[0]){case 0:case 1:B=C;break;case 4:return (y.label++,{value:C[1],done:!1});case 5:y.label++;A=C[1];C=[0];continue;case 7:C=y.wl.pop();y.qj.pop();continue;default:if(!(B=y.qj,B=0 < B.length && B[B.length - 1]) && (6 === C[0] || 2 === C[0])){y=0;continue;}if(3 === C[0] && (!B || C[1] > B[0] && C[1] < B[3]))y.label=C[1];else if(6 === C[0] && y.label < B[1])(y.label=B[1],B=C);else if(B && y.label < B[2])(y.label=B[2],y.wl.push(C));else {B[2] && y.wl.pop();y.qj.pop();continue;}}C=v.call(w,y);}catch(F){C=[6,F];A=0;}finally{z=B=0;}}if(C[0] & 5)throw C[1];return {value:C[0]?C[1]:void 0,done:!0};}y={label:0,pc:function(){if(B[0] & 1)throw B[1];return B[1];},qj:[],wl:[]};return (D={next:u(0),"throw":u(1),"return":u(2)},"function" === typeof Symbol && (D[Symbol.iterator]=function(){return this;}),D);});Object.defineProperty(b,"__esModule",{value:!0});g=a(681);f=a(60);d=a(77);a(44);h=a(353);m=a(682);l=a(689);n=a(691);p=a(115);r=a(144);a(694);t=a(695);q=(function(){function w(v){v=v || ({});if("object" !== typeof v)throw Error("" + f.Zkb);if(void 0 === v.EJ)v.EJ=d.Qu.E6;else if(v.EJ !== d.Qu.xka && v.EJ !== d.Qu.E6 && v.EJ !== d.Qu.Request)throw Error("" + f.Xkb);if(void 0 === v.SW)v.SW=!1;else if("boolean" !== typeof v.SW)throw Error("" + f.Wkb);if(void 0 === v.ML)v.ML=!1;else if("boolean" !== typeof v.ML)throw Error("" + f.Ykb);this.options={SW:v.SW,EJ:v.EJ,ML:v.ML};this.id=p.id();this.uN=new t.Xnb();this.nwb=[];this.parent=this.sma=null;this.Vtb=new h.hja();}w.prototype.load=function(){var y,z;for(var v=[],u=0;u < arguments.length;u++){v[u]=arguments[u];}u=this.JSa();for(var x=0;x < v.length;x++){y=v[x];z=u(y.id);y.Mza(z.FWa,z.whb,z.V6a,z.scb);}};w.prototype.A_=function(){for(var v=[],u=0;u < arguments.length;u++){v[u]=arguments[u];}c(this,void 0,void 0,function(){var x,y,z,A,B;return k(this,function(D){switch(D.label){case 0:(x=this.JSa(),y=0,z=v,D.label=1);case 1:if(!(y < z.length))return [3,4];A=z[y];B=x(A.id);return [4,A.Mza(B.FWa,B.whb,B.V6a,B.scb)];case 2:(D.pc(),D.label=3);case 3:return (y++,[3,1]);case 4:return [2];}});});};w.prototype.bind=function(v){var u;u=new g.jkb(v,this.options.EJ || d.Qu.E6);this.uN.add(v,u);return new n.lkb(u);};w.prototype.w0b=function(v){this.vhb(v);return this.bind(v);};w.prototype.vhb=function(v){try{this.uN.remove(v);}catch(u){throw Error(f.Hkb + " " + r.ZP(v));}};w.prototype.h6a=function(v){var u;u=this.uN.L4a(v);!u && this.parent && (u=this.parent.h6a(v));return u;};w.prototype.restore=function(){var v;v=this.nwb.pop();if(void 0 === v)throw Error(f.Kob);this.uN=v.WW;this.sma=v.CVb;};w.prototype.BEb=function(){var v;v=new w(this.options);v.parent=this;return v;};w.prototype.get=function(v){return this.ISa(!1,!1,d.wA.Nka,v);};w.prototype.getAll=function(v){return this.ISa(!0,!0,d.wA.Nka,v);};w.prototype.resolve=function(v){var u;u=this.BEb();u.bind(v).Ugb();return u.get(v);};w.prototype.JSa=function(){var z;function v(A){return function(B){B=z.w0b.bind(z)(B);B.Tc.aWb=A;return B;};}function u(){return function(A){return z.h6a.bind(z)(A);};}function x(){return function(A){z.vhb.bind(z)(A);};}function y(A){return function(B){B=z.bind.bind(z)(B);B.Tc.aWb=A;return B;};}z=this;return function(A){return {FWa:y(A),V6a:u(A),scb:v(A),whb:x(A)};};};w.prototype.ISa=function(v,u,x,y){var z;z=null;v={szb:v,KCb:function(A){return A;},JRb:u,key:void 0,th:y,q6b:x,value:void 0};if(this.sma){if((z=this.sma(v),void 0 === z || null === z))throw Error(f.Fnb);}else z=this.kvb()(v);return z;};w.prototype.kvb=function(){var v;v=this;return function(u){var x;x=m.pR(v.Vtb,v,u.JRb,u.q6b,u.th,u.key,u.value,u.szb);x=u.KCb(x);return l.resolve(x);};};return w;})();b.q4=q;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(77);k=a(115);q=(function(){function g(f,d){this.id=k.id();this.mna=!1;this.th=f;this.scope=d;this.type=c.Ok.Qnb;this.yJ=function(){return !0;};this.oP=this.kz=this.IC=this.FP=this.cache=this.Rn=null;}g.prototype.clone=function(){var f;f=new g(this.th,this.scope);f.mna=!1;f.Rn=this.Rn;f.oP=this.oP;f.scope=this.scope;f.type=this.type;f.FP=this.FP;f.IC=this.IC;f.yJ=this.yJ;f.kz=this.kz;f.cache=this.cache;return f;};return g;})();b.jkb=q;},function(q,b,a){var d,h,m,l,n,p,r,t,w,v,u,x;function c(y,z,A,B,D){var C,F;C=f(A.hb,D.th);F=[];C.length === d.pha.OLa && A.hb.options.SW && "function" === typeof D.th && y.y2a(D.th).rYa && (A.hb.bind(D.th).Ugb(),C=f(A.hb,D.th));F=z?C:C.filter(function(G){var E;E=new u.Request(G.th,A,B,G,D);return G.yJ(E);});k(D.th,F,D,A.hb);return F;}function k(y,z,A,B){switch(z.length){case d.pha.OLa:if(A.A6a())return z;y=p.ZP(y);z=h.Iob;z+=p.cTb(y,A);z+=p.M7a(B,y,f);throw Error(z);case d.pha.Zob:if(!A.isArray())return z;default:if(A.isArray())return z;y=p.ZP(y);z=h.rjb + " " + y;z+=p.M7a(B,y,f);throw Error(z);}}function g(y,z,A,B,D,C){var F;if(null === D){z=c(y,z,B,null,C);F=new u.Request(A,B,null,z,C);A=new w.Tpb(B,F);B.Fxb(A);}else (z=c(y,z,B,D,C),F=D.$Ua(C.th,z,C));z.forEach(function(G){var E,I,K;E=null;if(C.isArray())E=F.$Ua(G.th,G,C);else {if(G.cache)return;E=F;}if(G.type === m.Ok.Instance && null !== G.Rn){I=v.WLb(y,G.Rn);if(!B.hb.options.ML){K=v.tLb(y,G.Rn);if(I.length < K)throw (G=h.tjb(v.getFunctionName(G.Rn)),Error(G));}I.forEach(function(L){g(y,!1,L.th,B,E,L);});}});}function f(y,z){var A,B;A=[];B=y.uN;B.L4a(z)?A=B.get(z):null !== y.parent && (A=f(y.parent,z));return A;}Object.defineProperty(b,"__esModule",{value:!0});d=a(683);h=a(60);m=a(77);l=a(44);n=a(354);p=a(144);r=a(684);t=a(67);w=a(685);v=a(686);u=a(688);x=a(356);b.sgc=function(y){return y.uN;};b.pR=function(y,z,A,B,D,C,F,G){void 0 === G && (G=!1);z=new r.IFa(z);A=new t.Metadata(A?l.TH:l.$T,D);B=new x.B6(B,"",D,A);void 0 !== C && (C=new t.Metadata(C,F),B.Oc.push(C));try{return (g(y,G,D,z,null,B),z);}catch(E){throw (n.K6a(E) && z.pR && p.GBb(z.pR.qAa),E);}};b.wfc=function(y,z,A,B){A=new x.B6(m.wA.Nka,"",z,new t.Metadata(A,B));y=new r.IFa(y);return new u.Request(z,y,null,[],A);};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.pha={Xbc:2,OLa:0,Zob:1};},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(115);q=(function(){function k(g){this.id=c.id();this.hb=g;}k.prototype.Fxb=function(g){this.pR=g;};return k;})();b.IFa=q;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tpb=(function(){return function(a,c){this.hR=a;this.qAa=c;};})();},function(q,b,a){var d,h,m,l,n,p;function c(r,t,w,v){var u,x,y,z,B,D,C,F,G,E,I,K;u=r.y2a(w);x=u.rYa;if(void 0 === x)throw Error(h.gob + " " + t + ".");u=u.L8b;y=Object.keys(u);z=0 === w.length && 0 < y.length?y.length:w.length;y=[];for(var A=0;A < z;A++){B=A;D=v;C=t;F=x;G=u[B.toString()] || [];E=f(G);I=!0 !== E.zp;F=F[B];K=E.u || E.TK;F=K?K:F;F instanceof d.Lia && (F=F.M7b());if(I){I=F === Function;I=F === Object || I || void 0 === F;if(!D && I)throw Error(h.hob + " argument " + B + " in class " + C + ".");B=new p.B6(m.wA.DFa,E.V2,F);B.Oc=G;G=B;}else G=null;null !== G && y.push(G);}r=k(r,w);return y.concat(r);}function k(r,t){var y,z,A;for(var w=r.INb(t),v=[],u=0,x=Object.keys(w);u < x.length;u++){y=x[u];z=w[y];A=f(w[y]);y=new p.B6(m.wA.uFa,A.V2 || y,A.u || A.TK);y.Oc=z;v.push(y);}t=Object.getPrototypeOf(t.prototype).constructor;t !== Object && (r=k(r,t),v=v.concat(r));return v;}function g(r,t){var w,v;t=Object.getPrototypeOf(t.prototype).constructor;if(t !== Object){w=n.getFunctionName(t);w=c(r,w,t,!0);v=w.map(function(u){return u.Oc.filter(function(x){return x.key === l.NU;});});v=[].concat.apply([],v).length;w=w.length - v;return 0 < w?w:g(r,t);}return 0;}function f(r){var t;t={};r.forEach(function(w){t[w.key.toString()]=w.value;});return {u:t[l.$T],TK:t[l.TH],V2:t[l.P5],zp:t[l.NU]};}Object.defineProperty(b,"__esModule",{value:!0});d=a(355);h=a(60);m=a(77);l=a(44);n=a(144);b.getFunctionName=n.getFunctionName;p=a(356);b.WLb=function(r,t){var w;w=n.getFunctionName(t);return c(r,w,t,!1);};b.tLb=g;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});q=(function(){function a(c){this.nS=c;}a.prototype.startsWith=function(c){return 0 === this.nS.indexOf(c);};a.prototype.endsWith=function(c){var k;k=c.split("").reverse().join("");c=this.nS.split("").reverse().join("");return this.startsWith.call({nS:c},k);};a.prototype.contains=function(c){return -1 !== this.nS.indexOf(c);};a.prototype.equals=function(c){return this.nS === c;};a.prototype.value=function(){return this.nS;};return a;})();b.$pb=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(115);q=(function(){function k(g,f,d,h,m){this.id=c.id();this.th=g;this.hR=f;this.BC=d;this.target=m;this.npa=[];this.WW=Array.isArray(h)?h:[h];this.S1b=null === d?new Map():null;}k.prototype.$Ua=function(g,f,d){g=new k(g,this.hR,this,f,d);this.npa.push(g);return g;};return k;})();b.Request=q;},function(q,b,a){var g,f,d,h,m;function c(l){return function(n){var p,r,t,w,v;p=n.WW;r=n.npa;t=n.target && n.target.isArray();w=!n.BC || !n.BC.target || !n.target || !n.BC.target.zUb(n.target.th);if(t && w)return r.map(function(u){return c(l)(u);});t=null;if(!n.target.A6a() || 0 !== p.length){v=p[0];p=v.scope === f.Qu.xka;w=v.scope === f.Qu.Request;if(p && v.mna)return v.cache;if(w && null !== l && l.has(v.id))return l.get(v.id);if(v.type === f.Ok.BFa)t=v.cache;else if(v.type === f.Ok.Function)t=v.cache;else if(v.type === f.Ok.CFa)t=v.Rn;else if(v.type === f.Ok.PGa && null !== v.oP)t=k("toDynamicValue",v.th,function(){return v.oP(n.hR);});else if(v.type === f.Ok.fia && null !== v.FP)t=k("toFactory",v.th,function(){return v.FP(n.hR);});else if(v.type === f.Ok.ROa && null !== v.IC)t=k("toProvider",v.th,function(){return v.IC(n.hR);});else if(v.type === f.Ok.Instance && null !== v.Rn)t=m.e2b(v.Rn,r,c(l));else throw (r=h.ZP(n.th),Error(g.Bnb + " " + r));"function" === typeof v.kz && (t=v.kz(n.hR,t));p && (v.cache=t,v.mna=!0);w && null !== l && !l.has(v.id) && l.set(v.id,t);return t;}};}function k(l,n,p){try{return p();}catch(r){if(d.K6a(r))throw Error(g.Lkb(l,n.toString()));throw r;}}Object.defineProperty(b,"__esModule",{value:!0});g=a(60);f=a(77);d=a(354);h=a(144);m=a(690);b.resolve=function(l){return c(l.pR.qAa.S1b)(l.pR.qAa);};},function(q,b,a){var g,f,d;function c(h,m,l){var n;m=m.filter(function(p){return null !== p.target && p.target.type === f.wA.uFa;});n=m.map(l);m.forEach(function(p,r){p=p.target.name.value();h[p]=n[r];});return h;}function k(h,m){var l;if(Reflect.sPb(d.xU,h)){l=Reflect.getMetadata(d.xU,h);try{m[l.value]();}catch(n){throw Error(g.Npb(h.name,n.message));}}}Object.defineProperty(b,"__esModule",{value:!0});g=a(60);f=a(77);d=a(44);b.e2b=function(h,m,l){var n;n=null;0 < m.length?(n=m.filter(function(p){return null !== p.target && p.target.type === f.wA.DFa;}).map(l),n=new (h.bind.apply(h,[void 0].concat(n)))(),n=c(n,m,l)):n=new h();k(h,n);return n;};},function(q,b,a){var c,k,g,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(60);k=a(77);g=a(692);f=a(357);q=(function(){function d(h){this.Tc=h;}d.prototype.to=function(h){this.Tc.type=k.Ok.Instance;this.Tc.Rn=h;return new g.yEa(this.Tc);};d.prototype.Ugb=function(){if("function" !== typeof this.Tc.th)throw Error("" + c.Hnb);this.to(this.Tc.th);};d.prototype.$m=function(h){this.Tc.type=k.Ok.BFa;this.Tc.cache=h;this.Tc.oP=null;this.Tc.Rn=null;new f.yH(this.Tc);};d.prototype.fH=function(h){this.Tc.type=k.Ok.PGa;this.Tc.cache=null;this.Tc.oP=h;this.Tc.Rn=null;return new g.yEa(this.Tc);};d.prototype.T6b=function(h){this.Tc.type=k.Ok.CFa;this.Tc.Rn=h;new f.yH(this.Tc);};d.prototype.Tf=function(h){this.Tc.type=k.Ok.fia;this.Tc.FP=h;new f.yH(this.Tc);};d.prototype.U6b=function(h){if("function" !== typeof h)throw Error(c.Enb);this.$m(h);this.Tc.type=k.Ok.Function;};d.prototype.Sgb=function(h){this.Tc.type=k.Ok.fia;this.Tc.FP=function(m){return function(){return m.hb.get(h);};};new f.yH(this.Tc);};d.prototype.d3=function(h){this.Tc.type=k.Ok.ROa;this.Tc.IC=h;new f.yH(this.Tc);};d.prototype.V6b=function(h){this.fH(function(m){return m.hb.get(h);});};return d;})();b.lkb=q;},function(q,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(693);k=a(220);g=a(221);q=(function(){function f(d){this.Tc=d;this.$U=new g.qha(this.Tc);this.bla=new k.j4(this.Tc);this.WRa=new c.kkb(d);}f.prototype.ha=function(){return this.WRa.ha();};f.prototype.Bua=function(){return this.WRa.Bua();};f.prototype.when=function(d){return this.$U.when(d);};f.prototype.L3=function(){return this.$U.L3();};f.prototype.kz=function(d){return this.bla.kz(d);};return f;})();b.yEa=q;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(77);k=a(357);q=(function(){function g(f){this.Tc=f;}g.prototype.ha=function(){this.Tc.scope=c.Qu.xka;return new k.yH(this.Tc);};g.prototype.Bua=function(){this.Tc.scope=c.Qu.E6;return new k.yH(this.Tc);};return g;})();b.kkb=q;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.kac=(function(){function a(){}a.of=function(c,k){var g;g=new a();g.WW=c;g.CVb=k;return g;};return a;})();},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(60);q=(function(){function k(){this.Ah=new Map();}k.prototype.add=function(g,f){var d;if(null === g || void 0 === g)throw Error(c.sU);if(null === f || void 0 === f)throw Error(c.sU);d=this.Ah.get(g);void 0 !== d?(d.push(f),this.Ah.set(g,d)):this.Ah.set(g,[f]);};k.prototype.get=function(g){if(null === g || void 0 === g)throw Error(c.sU);g=this.Ah.get(g);if(void 0 !== g)return g;throw Error(c.wJa);};k.prototype.remove=function(g){if(null === g || void 0 === g)throw Error(c.sU);if(!this.Ah.delete(g))throw Error(c.wJa);};k.prototype.L4a=function(g){if(null === g || void 0 === g)throw Error(c.sU);return this.Ah.has(g);};k.prototype.clone=function(){var g;g=new k();this.Ah.forEach(function(f,d){f.forEach(function(h){return g.add(d,h.clone());});});return g;};return k;})();b.Xnb=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(115);b.Nd=(function(){return function(k){this.id=c.id();this.Mza=k;};})();b.kEa=(function(){return function(k){this.id=c.id();this.Mza=k;};})();},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(60);k=a(44);b.X=function(){return function(g){var f;if(Reflect.eua(k.sja,g))throw Error(c.emb);f=Reflect.getMetadata(k.Clb,g) || [];Reflect.W9(k.sja,f,g);return g;};};},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(67);k=a(100);b.pgb=function(g,f){return function(d,h,m){var l;l=new c.Metadata(g,f);"number" === typeof m?k.XL(d,h,m,l):k.U2(d,h,l);};};},function(q,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(44);k=a(67);g=a(100);b.a$a=function(f){return function(d,h,m){var l;l=new k.Metadata(c.FD,f);"number" === typeof m?g.XL(d,h,m,l):g.U2(d,h,l);};};},function(q,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(44);k=a(67);g=a(100);b.optional=function(){return function(f,d,h){var m;m=new k.Metadata(c.YLa,!0);"number" === typeof h?g.XL(f,d,h,m):g.U2(f,d,m);};};},function(q,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(44);k=a(67);g=a(100);b.zp=function(){return function(f,d,h){var m;m=new k.Metadata(c.NU,!0);g.XL(f,d,h,m);};};},function(q,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(44);k=a(67);g=a(100);b.TK=function(f){return function(d,h,m){var l;l=new k.Metadata(c.TH,f);"number" === typeof m?g.XL(d,h,m,l):g.U2(d,h,l);};};},function(q,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(44);k=a(67);g=a(100);b.V2=function(f){return function(d,h,m){var l;l=new k.Metadata(c.P5,f);g.XL(d,h,m,l);};};},function(q,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(60);k=a(44);g=a(67);b.wbb=function(){return function(f,d){d=new g.Metadata(k.xU,d);if(Reflect.eua(k.xU,f.constructor))throw Error(c.uob);Reflect.W9(k.xU,d,f.constructor);};};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.X9a=function(a){return function(c){return function(){for(var k=[],g=0;g < arguments.length;g++){k[g]=arguments[g];}return k.forEach(function(f){return a.bind(f).V6b(c);});};};};},function(q,b,a){var d,h,m,l,n,p,r,t,w,v,u,x,y,z,A,B,D;function c(){}function k(C){this.we=C;}function g(C){var F;F=l.Oja.call(this) || this;C.vQ?Object.assign(F,(0,x.b3a)(C)):C.Lba?Object.assign(F,(0,u.Q2a)(C)):C.lva?Object.assign(F,(0,v.F3a)()):C.bC || C.c_?Object.assign(F,(0,w.I2a)()):C.i_?Object.assign(F,(0,x.Z3a)(C)):Object.assign(F,(0,t.t2a)(C));return F;}function f(C){this.data=C.Lba?(0,u.S2a)(C):C.lva?(0,v.H3a)(C):C.bC || C.c_?(0,w.K2a)(C):C.i_?(0,x.a4a)(C):(0,t.v2a)(C);}Object.defineProperty(b,"__esModule",{value:!0});b.platform=b.Dkb=b.Ckb=b.Bkb=b.Akb=void 0;q=a(2);d=a(0);h=a(49);m=a(116);l=a(707);n=a(178);p=a(360);r=a(222);t=a(708);w=a(709);v=a(710);u=a(711);x=a(712);y=a(713);z=a(714);Ya.Object.defineProperties(f.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.data.version;}},jda:{configurable:!0,enumerable:!0,get:function(){return this.data.jda;}},Lt:{configurable:!0,enumerable:!0,get:function(){return this.data.Lt;}},sq:{configurable:!0,enumerable:!0,get:function(){return this.data.sq;}},MP:{configurable:!0,enumerable:!0,get:function(){return this.data.MP;}},bF:{configurable:!0,enumerable:!0,get:function(){return this.data.bF;}},Fqa:{configurable:!0,enumerable:!0,get:function(){return this.data.Fqa;}},e_a:{configurable:!0,enumerable:!0,get:function(){return this.data.e_a;}},pwa:{configurable:!0,enumerable:!0,get:function(){return this.data.pwa;}},dY:{configurable:!0,enumerable:!0,get:function(){return this.data.dY;}},zib:{configurable:!0,enumerable:!0,get:function(){return this.data.zib;}},B8:{configurable:!0,enumerable:!0,get:function(){return this.data.B8;}},E1:{configurable:!0,enumerable:!0,get:function(){return this.data.E1;}}});A=f;A=q.__decorate([(0,d.X)(),q.__param(0,(0,d.u)(n.AH))],A);b.Akb=A;na(g,l.Oja);B=g;B=q.__decorate([(0,d.X)(),q.__param(0,(0,d.u)(n.AH))],B);b.Bkb=B;k.prototype.apply=function(){this.we.Lba?Object.assign(this,(0,u.R2a)(this.we)):this.we.lva?Object.assign(this,(0,v.G3a)(this.we)):this.we.bC || this.we.c_?Object.assign(this,(0,w.J2a)(this.we)):this.we.i_?Object.assign(this,(0,x.$3a)(this.we)):Object.assign(this,(0,t.u2a)(this.we));return this;};D=k;D=q.__decorate([(0,d.X)(),q.__param(0,(0,d.u)(n.AH))],D);b.Ckb=D;c=q.__decorate([(0,d.X)()],c);b.Dkb=c;b.platform=new d.Nd(function(C){C(h.Kp).to(A).ha();C(m.bI).to(B).ha();C(p.vNa).to(D).ha();C(h.d6).to(c).ha();C(r.Pja).Tf(function(F){return function(){var G;G=F.hb.get(n.AH);return G.bC || G.c_?{tc:function(E,I,K){return new z.Ska(E,I,K);},request:y.GRa}:G.i_?{tc:function(E,I,K){return new (a(715))(E,I,K);},request:a(716)}:{};};});});},function(q,b,a){var c,k,g,f;Object.defineProperty(b,"__esModule",{value:!0});b.Oja=void 0;c=a(6);k=a(55);g=a(45);f={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.Oja=function(){this.OAa=!0;this.jJ=[];this.oo=[];this.bL=this.rP=!1;this.rx=[g.pn.Gha,g.pn.qqb,g.pn.UM,g.pn.HIa];this.Sn=void 0;this.jra=!0;this.s$=!1;this.N8=(0,k.ga)(288E4);this.Q8=(0,k.ga)(335544320);this.mC=(0,c.Vc)(15E3);this.JUb=(0,k.ga)(6291456);this.GQ=1E3;this.Xoa=!0;this.nCa=f;this.wS=(0,k.ga)(0);this.kQ=("ro zh-Hans zh-Hant ko vi ar he hi").split(" ");this.Vfa=(0,c.Vc)(0);this.QZ=!0;this.pga=!1;this.uP=this.axa=this.aaa=!0;this.oM=this.lF=this.By=!1;this.zJ=["start"];};},function(q,b,a){var c,k,g,f;Object.defineProperty(b,"__esModule",{value:!0});b.u2a=b.t2a=b.v2a=void 0;c=a(30);k=a(45);g=a(127);f=a(145);b.v2a=function(d){return Object.assign(Object.assign({},(0,f.PP)()),{Lt:d.O6a?"T":d.tQ?"C":"M",sq:d.O6a?"NFCDTS-01-":d.RF?"NFCDCH-02-":d.wQ?"NFCDCH-MC-":d.tQ?"NFCDCH-01-":d.Dba?"NFCDCH-AP-":d.Cba?"NFCDCH-AT-":d.vQ?"NFCDCH-PH-":"NFCDCH-LX-",bF:d.tQ?"chromeos-cadmium":"chrome-cadmium",E1:d.tQ});};b.t2a=function(d){var h,m;h=(0,f.OP)();m=Object.assign(Object.assign({},h),{rP:!0,bL:!0,By:!0,lF:!0,oM:!0});d.RF && (m.oo=[].concat(ka(h.oo),ka((0,g.op)([k.H.mD,k.H.nD],{minimumCores:5}))));d.wQ && (m.oo=[].concat(ka(h.oo),ka((0,g.op)([k.H.mD,k.H.nD],{minimumCores:3,restrictToUILabels:["mini-modal-horizontal"]}))));d.tQ && (m.oo=(0,g.op)([].concat(ka(k.Se.uha),ka(k.Se.Nga),ka(k.Se.Mga),ka(k.Se.sDa),ka(k.Se.zha),ka(k.Se.Aha),ka(k.Se.yha),ka(k.Se.wha),ka(k.Se.xha),ka(k.Se.vha))));return m;};b.u2a=function(d){var h;h={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.pm.xM,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,useEncryptedEvent:!1};80 <= d.Ur && (h=Object.assign(Object.assign({},h),{enableMediaCapabilities:!0,enableMediaCapabilitiesSourceBufferCheck:!0}));d.tQ && (h=Object.assign(Object.assign({},h),{enableHWDRM:!0,prepareLdlCacheMaxCount:15}),89 <= d.Ur && (h=Object.assign(Object.assign({},h),{enableHEVC:!0,enableHDR:!0,enableMediaCapabilities:!0,enableHdcp:!0})));102 <= d.Ur && d.RF && (h=Object.assign(Object.assign({},h),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,overrideEnableAVCHigh:!1,microsoftClearLeadRequiresSwdrm:!0}));d.RF && 99 <= d.Ur && (h=Object.assign(Object.assign({},h),{enableAV1:!0}));return h;};},function(q,b,a){var k,g,f,d,h,m;function c(){var l,n,p;p=null === (l=pb.MSMediaKeys) || void 0 === l?void 0:l.isTypeSupported(g.Kb.te,h.$d.kxa);l=p || (null === (n=pb.MSMediaKeys) || void 0 === n?void 0:n.isTypeSupported(g.Kb.cI,h.$d.kxa));return {D6a:p,C6a:l};}Object.defineProperty(b,"__esModule",{value:!0});b.J2a=b.gMb=b.I2a=b.K2a=void 0;k=a(30);g=a(101);f=a(45);d=a(145);h=a(129);m=a(127);b.K2a=function(l){return Object.assign(Object.assign({},(0,d.PP)()),{Lt:l.bC?"D":"H",sq:l.bC?l.wQ?"NFCDIE-04-":l.FRb?"NFCDIE-LX-":l.Dba?"NFCDIE-AP-":l.Cba?"NFCDIE-AT-":l.vQ?"NFCDIE-PH-":"NFCDIE-03-":"NFCDIE-02-",bF:"edge-cadmium",B8:!1,E1:!1});};b.I2a=function(){var l,n,p;l=Object.assign(Object.assign({},(0,d.OP)()),{jJ:(0,m.op)([f.ke.IH,f.ke.JH,f.ke.yT,f.ke.zT]),oo:(0,m.op)([].concat(ka(f.Se.uha),ka(f.Se.Nga),ka(f.Se.Mga),ka(f.Se.sDa),ka(f.Se.zha),ka(f.Se.Aha),ka(f.Se.yha),ka(f.Se.wha),ka(f.Se.xha),ka(f.Se.vha),ka(f.Se.WEa),ka(f.Se.XEa),ka(f.Se.Ikb))),Sn:void 0,QZ:!1});n=c();p=n.D6a;n.C6a || (l.By=!0,l.lF=!0,l.oM=!0);l.zJ=p?[]:["start"];return l;};b.gMb=c;b.J2a=function(l){var n,p,r,t,w,v,u;n=l.c_;p=l.bC;r=l.RF;t=c();w=t.C6a;v=t.D6a;t={nudgeSourceBuffer:!0,audioCapabilityDetectorType:k.Ax.oA,videoCapabilityDetectorType:k.pm.oA,microsoftHwdrmRequiresHevc:!0,microsoftScreenSizeFilterEnabled:!0,addFailedLogBlobsToQueue:!1,bookmarkIgnoreBeginning:"2000",enableCombinedPlaygraphs:v?!1:!0,enableAdPlaygraphs:v?!1:!0,forceAppendEncryptedStreamHeaderFirst:!0};v={prepareCadmium:!0,enableLdlPrefetch:!w || v,licenseRenewalRequestDelay:5E3,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareLdlCacheMaxCount:15};u={audioCapabilityDetectorType:k.Ax.Fx,videoCapabilityDetectorType:k.pm.xM,microsoftScreenSizeFilterEnabled:!1,keySystemList:[g.Kb.BRa],useTypescriptEme:!0,licenseRenewalRequestDelay:0,audioProfiles:(0,m.op)([f.ke.IH,f.ke.JH]),videoProfiles:(0,m.op)([f.H.GH,f.H.HH,f.H.KT,f.H.MT,f.H.LT,f.H.NT]),enableAVCHigh:!0,droppedFrameRateFilterEnabled:!0,enableCDMAttestedDescriptors:!0};n && (14 <= l.Ur && (t=Object.assign(Object.assign(Object.assign({},t),v),{microsoftEnableDeviceInfo:!0,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,useHevcCodecForDolbyVision:!0})),15 <= l.Ur && (t=Object.assign(Object.assign({},t),{enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0})),16 <= l.Ur && (t=Object.assign(Object.assign({},t),{microsoftHwdrmRequiresHevc:!1})),17 <= l.Ur && (t=Object.assign(Object.assign({},t),{enableDDPlusAtmos:!0})));p && (t=Object.assign(Object.assign(Object.assign({},t),v),{useEncryptedEvent:!1}),r && (t=Object.assign(Object.assign({},t),{webkitDecodedFrameCountIncorrectlyReported:!0,noRenderTimeoutMilliseconds:1E4})),w?(t=Object.assign(Object.assign({},t),{microsoftEnableDeviceInfo:!1,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0,microsoftHwdrmRequiresHevc:!1,enableDDPlusAtmos:!0,keySystemList:[g.Kb.CNa,g.Kb.DNa]}),94 === l.Ur && (t=Object.assign(Object.assign({},t),{enableHWDRM:!1})),102 <= l.Ur && (t=Object.assign(Object.assign({},t),{useTypescriptEme:!0,validateKeySystemAccess:!0,enableCDMAttestedDescriptors:!0}))):t=Object.assign(Object.assign({},t),u));return t;};},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.G3a=b.F3a=b.H3a=void 0;c=a(30);k=a(145);b.H3a=function(g){return Object.assign(Object.assign({},(0,k.PP)()),{Lt:"O",sq:g.Dba?"NFCDOP-AP-":g.Cba?"NFCDOP-AT-":g.vQ?"NFCDOP-PH-":"NFCDOP-01-",bF:"opera-cadmium"});};b.F3a=function(){return Object.assign(Object.assign({},(0,k.OP)()),{rP:!0,bL:!0,By:!0,lF:!0,oM:!0});};b.G3a=function(g){var f;f={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.pm.xM,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,useEncryptedEvent:!1};67 <= g.Ur && (f=Object.assign(Object.assign({},f),{enableVP9:!0}));return f;};},function(q,b,a){var c,k,g,f;Object.defineProperty(b,"__esModule",{value:!0});b.R2a=b.Q2a=b.S2a=void 0;c=a(30);k=a(45);g=a(127);f=a(145);b.S2a=function(d){return Object.assign(Object.assign({},(0,f.PP)()),{Lt:"F",sq:d.wQ?"NFCDFF-MC-":d.RF?"NFCDFF-02-":d.Dba?"NFCDFF-AP-":d.Cba?"NFCDFF-AT-":d.vQ?"NFCDFF-PH-":"NFCDFF-LX-",bF:"firefox-cadmium"});};b.Q2a=function(d){var h,m;h=(0,f.OP)();m=Object.assign(Object.assign({},h),{rP:!0,bL:!0,By:!0,lF:!0,oM:!0});d.RF && (m.oo=[].concat(ka(h.oo),ka((0,g.op)([k.H.mD,k.H.nD],{minimumCores:5,restrictToUILabels:["mini-modal-horizontal"]}))));d.wQ && (m.oo=[].concat(ka(h.oo),ka((0,g.op)([k.H.mD,k.H.nD],{minimumCores:3,restrictToUILabels:["mini-modal-horizontal"]}))));return m;};b.R2a=function(d){var h;h={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,defaultHeaderCacheSize:15,enableMediaPrefetch:!0,enableLdlPrefetch:!0,prepareCadmium:!0,enableSeamless:!0,videoCapabilityDetectorType:c.pm.xM,useTypescriptEme:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,preciseSeeking:!0,useEncryptedEvent:!1,forceAppendEncryptedStreamHeaderFirst:!1};(d.RF || d.wQ) && 95 <= d.Ur && (h=Object.assign(Object.assign({},h),{enableAV1:!0}));return h;};},function(q,b,a){var k,g,f,d,h,m;function c(l){var n;n=Object.assign(Object.assign({},(0,m.OP)()),{jJ:(0,h.op)([d.ke.IH,d.ke.JH,d.ke.yA]),oo:(0,h.op)([].concat(ka(d.Se.uha),ka(d.Se.Nga),ka(d.Se.Mga),ka(d.Se.zha),ka(d.Se.Aha),ka(d.Se.yha),ka(d.Se.wha),ka(d.Se.xha),ka(d.Se.vha),ka(d.Se.WEa),ka(d.Se.XEa))),Sn:f.Kb.Nmb,mC:(0,k.Vc)(7E3),zJ:[]});(0,m.Gba)(l,14) && (n.zJ=["start"]);return n;}Object.defineProperty(b,"__esModule",{value:!0});b.$3a=b.Z3a=b.b3a=b.a4a=void 0;k=a(6);g=a(30);f=a(101);d=a(45);h=a(127);m=a(145);b.a4a=function(l){return Object.assign(Object.assign({},(0,m.PP)()),{Lt:"S",sq:l.vQ?"NFCDSF-PH-":"NFCDSF-01-",bF:"safari-cadmium"});};b.b3a=function(l){return Object.assign(Object.assign({},c(l)),{pga:!0,uP:!1,rx:[d.pn.J6]});};b.Z3a=c;b.$3a=function(l){var n;n={delayErrorHandling:{7361:"100",7371:"100",7373:"100"},licenseRenewalRequestDelay:5E3,addFailedLogBlobsToQueue:!1,performRewindCheck:!1,fatalOnUnexpectedSeeking:!1,fatalOnUnexpectedSeeked:!1,waitForDrmToAppendMedia:!0,forceAppendHeadersAfterDrm:!0,videoCapabilityDetectorType:g.pm.Fx,enableSeamless:!0,enableCombinedPlaygraphs:!1,enableAdPlaygraphs:!1,forceAppendEncryptedStreamHeaderFirst:!1};(0,m.Gba)(l,14) && (n=Object.assign(Object.assign({},n),{enableCombinedPlaygraphs:!0,enableAdPlaygraphs:!0,forceAppendEncryptedStreamHeaderFirst:!1}));(0,m.e_)(l,10,12,2) && (n=Object.assign(Object.assign({},n),{keySystemId:"com.apple.fps.3_0",enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareCadmium:!0}));(0,m.e_)(l,10,13,6) && (n=Object.assign(Object.assign({},n),{enableLdlPrefetch:!0}));(0,m.e_)(l,10,15,5) && (n=Object.assign(Object.assign({},n),{useTypescriptEme:!0,useEncryptedEvent:!1,enablePRK:!0,enableDV:!0,enableAVCHigh:!0,enableHEVC:!0,enableHDR:!0,enableCDMAttestedDescriptors:!0,waitForDrmToAppendMedia:!1,forceAppendHeadersAfterDrm:!1,enableMediaCapabilities:!0,powerEfficientForVideo:!0,preciseSeeking:!0}));(0,m.e_)(l,10,15,6) && (n=Object.assign(Object.assign({},n),{keyStatusFilterEnabled:!0,hdcpEngagementWaitTime:8E3,enableUHD:!0}));(0,m.Gba)(l,9) && (n=Object.assign(Object.assign({},n),{maxDecoderBufferMilliseconds:31E3}));return n;};},function(q,b,a){var k;function c(g,f,d,h){this.log=g;this.ZJ=f;this.MC=d;this.context=h;}Object.defineProperty(b,"__esModule",{value:!0});b.GRa=void 0;k=a(3);c.prototype.Jh=function(g){var f;f=this;(this.context.Zf || this.context.Yl) && this.log.trace("Requesting license",{drmType:g.Ro});return this.ZJ(g).catch(function(d){f.log.error("Unable to get the Playready license",d);if(f.context.Yjc)throw d;throw {fa:!1,code:k.W.KM,Sc:d.Sc,fe:d.fe,So:d.So,ml:d.message || d.ml,PJ:d.data,message:"Unable to send the Playready license request. " + (d.message || d.ml)};});};c.prototype.release=function(g){var f;f=this;this.log.trace("Requesting stop data");return this.MC(g).catch(function(d){f.log.error("Unable to release the PlayReady license ",{code:d.code,subCode:d.Sc,extCode:d.fe,edgeCode:d.So,message:d.message || d.ml});throw {fa:!1,code:k.W.jka,Sc:d.Sc,fe:d.fe,So:d.So,ml:d.message || d.ml,message:"Unable to release the PlayReady license. " + (d.message || d.ml)};});};b.GRa=c;pb._cad_global.WindowsDrmRequests=c;},function(q,b,a){var c,k,g,f,d,h,m,l;Object.defineProperty(b,"__esModule",{value:!0});b.Ska=void 0;c=a(3);k=a(219);g=a(223);f=a(35);d=a(79);h=a(36);m=a(30);l=a(64);(function(){var z;function n(A,B,D){var C;C=this;this.log=A;this.kp=B || y.bind(this);this.context=D;this.S0=this.challenge=this.keySystem=this.keySessionId=this.Xb=this.mediaKeys=void 0;this.Hd={};this.ewa=this.OBa=!1;this.C0=w.bind(this);this.S0=void 0;this.kDa=new Promise(function(F,G){C.iAa=F;C.Nza=G;});this.kDa.catch(function(F){C.log.error("wait for license rejected",F);});k.zc.get(m.cA).qaa().then(function(F){(C.context.Zf || C.context.Yl) && C.log.debug("DRIVERINFO: ",F);}).catch(function(F){C.log.error("DRIVERINFO",F);});this.Wn=function(F,G){C.Nza(F,G);C.context.onerror(F,G);};this.$xa=function(){C.iAa();};if(!(this instanceof n))throw new TypeError("EmeSession constructor not called correctly.");}function p(){return k.zc.get(h.Vi);}function r(){return k.zc.get(f.si);}function t(A){var B,D;B=k.zc.get(g.Cka);D="";A.forEach(function(C){D+="<KeyID>" + C + "</KeyID>";});A='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="true"><KeyIDs>' + D + "</KeyIDs><CustomData></CustomData></LicenseAcquisition></PlayReadyCDMData>";B=new Uint8Array(B.Tfb(A));(this.context.Zf || this.context.Yl) && this.log.trace("LICENSE: proactive license cdm data",{xml:A,b64:p().encode(B)});return B;}function w(A){var B;B=A.target.error?A.target.error.msExtendedCode:void 0;this.log.error("Received " + A.type + " event",{sessionId:this.Xb.sessionId,systemCode:B});if(this.context.onerror)this.context.onerror(z.Eg.dt,z.TD.Uu,B);this.Xb=void 0;}function v(A,B,D){var F,G,E;for(var C=2;C < arguments.length;++C){;}C="";G=A.length;for(F=0;F < G;F++){E=A[F];0 < E && (C+=String.fromCharCode(E));}G="\\s*(.*)\\s*";for(F=arguments.length - 1;0 < F;F--){E=arguments[F];if(0 > C.search(E))return;E="(?:[^:].*:|)" + E;G="[\\s\\S]*<" + E + "[^>]*>" + G + "</" + E + ">[\\s\\S]*";}if(C=C.match(new RegExp(G)))return C[1];}function u(A,B,D,C){var F,G;F=A.target && A.target.sessionId;G=p().decode(v(A.message,"PlayReadyKeyMessage","Challenge"));D.state=12;D.log.trace("LICENSE: Received " + A.type + " event",{keySystem:A.target && A.target.keySystem,sessionId:F});(D.context.Zf || D.context.Yl || D.context.hD) && D.log.debug("LICENSE: License challenge",p().encode(G));D.keySessionId=F;A={Bg:B,messageType:"license-request",Ro:(/clearkey/i).test(D.keySystem)?"clearkey":"playready",fl:[{data:G,sessionId:F}]};12 === D.state && (D.kp("lc"),G={data:G,Ro:(/clearkey/i).test(D.keySystem)?"clearkey":"playready"},D.context.gL || (D.S0=G));D.context.Qm.Jh(A).then(function(E){if(12 === D.state && (D.kp("lr"),D.$xa(),!D.context.gL))(D.T0=E.gk[0].data,D.state=13,C({fa:!0,state:D.state}));else if(D.Xb)return x(D,E.gk[0].data,D.Xb).then(function(){D.state=30;C({fa:!0,state:D.state});});}).catch(function(E){C(r().RK(E,{state:D.state}));});}function x(A,B,D){A.Iba() && A.log.trace("LICENSE: Got the response, calling update",{sessionId:D.sessionId,license:p().encode(B)});return new Promise(function(C,F){try{A.Xb.update(B);C(void 0);A.Iba() && A.log.trace("LICENSE: Update succeeded",{sessionId:D.sessionId});}catch(G){F({fa:!1,code:z.Eg.Z5,message:"Unable to update the EME.",ac:r().hf(G)});}});}function y(A){this.context.La && (this.Hd[A]=this.context.La.getTime(),this.log.trace("Milestone: " + A + ", " + this.Hd[A]));}z={Eg:c.W,TD:c.S};n.prototype.jZ=function(){return this.keySystem;};n.prototype.Whb=function(A,B){A.log && (this.log=A.log);A.kp && (this.kp=A.kp);B.Qm && (this.context.Qm=B.Qm);B.onerror && (this.context.onerror=B.onerror);};n.prototype.create=function(A){var B;B=this;return (A?Promise.resolve(A):k.zc.get(m.cA).TP()).then(function(D){B.kp("lg");B.log.trace("Creating the media keys",{keySystem:D});B.keySystem=D;if(B.context.q1)D=Promise.reject({fa:!1,code:z.Eg.FT,message:"Promise based EME is currently not supported for Internet Explorer"});else a:{try{B.mediaKeys=new pb.MSMediaKeys(D);}catch(C){D=Promise.reject({fa:!1,code:z.Eg.kMa,message:"create MSMediaKeys(" + D + ") failed",ac:r().hf(C)});break a;}try{B.context.ca && B.context.ca.msSetMediaKeys(B.mediaKeys);}catch(C){D=Promise.reject({fa:!1,code:z.Eg.YM,message:"set MSMediaKeys failed",ac:r().hf(C)});break a;}D=Promise.resolve({fa:!0,mediaKeys:B.mediaKeys});}return D;});};n.prototype.close=function(){this.mediaKeys=void 0;this.context.ca=void 0;if(this.Xb){this.log.info("Closing the session",{sessionId:this.Xb.sessionId});this.Xb.removeEventListener("mskeyerror",this.C0);try{this.Xb.close();}catch(A){this.log.error("Failed to close the key sessions",A);}this.Xb=void 0;}};n.prototype.Jh=function(A,B,D){var C;if(1 < B.length)return Promise.reject({code:z.Eg.oMa});if(0 === B.length)return Promise.reject({code:z.Eg.nMa});B=B[0];C=this;C.context.Zf && C.log.trace("LICENSE: Setting license");return C.context.q1?Promise.reject({fa:!1,code:z.Eg.WGa,message:"Promise based EME is currently not supported for Internet Explorer"}):(function(){return new Promise(function(F,G){var E,I,K,L,H,P,N;try{I=function(J){C.Xb && (C.Xb.removeEventListener("mskeymessage",L),C.Xb.removeEventListener("mskeyadded",H),C.Xb.removeEventListener("mskeyerror",P),C.Xb.addEventListener("mskeyerror",C.C0));J.state=11;J.fa?F(J):(C.close(),G(J));};K=function(J){var M,O;M=[];O=Array.prototype.map.call(J,function(T){return T?String.fromCharCode(T):"";}).join("").match(/<KID>(.+?)<\/KID>/);if(O)M.push(O[1]);else {J=v(J,"KIDS");O=/VALUE="(.+?)">/g;for(var Q=O.exec(J);null != Q;){M.push(Q[1]);Q=O.exec(J);}}return M;};L=function(J){E && clearTimeout(E);u(J,A,C,I);};H=function(J){(C.context.Zf || C.context.Yl) && C.log.trace("LICENSE: Received " + J.type + " event",{keySystem:J.target.keySystem,sessionId:J.target.sessionId});I({fa:!0});};P=function(J){var M,O;E && clearTimeout(E);if(J.target && J.target.error)(M=J.target.error.systemCode,O=J.target.error.code);M={code:z.Eg.dt,Sc:z.TD.Uu,fe:M?k.zc.get(d.Zz).UJ(M,4):O,details:r().hf(J),cause:J.target && J.target.error,Ofa:M,C$:O};C.log.error("LICENSE: Received " + J.type + " event",{sessionId:C.Xb && C.Xb.sessionId,keySystem:J.target.keySystem,systemCode:M.Ofa,code:M.C$});C.kp("le");C.Wn && C.Wn(z.Eg.dt,M);I({fa:!1,code:z.Eg.dt,Sc:z.TD.Uu,fe:M.fe,message:"Received a key error.",ac:M.details,cause:M.cause});};C.log.trace("LICENSE: Executing prefix based EME");(C.context.Zf || C.context.Yl) && C.log.debug("LICENSE: PSSH",p().encode(B));C.Yy || (C.Yy=K(B));if(D){N=t.call(C,C.Yy);C.Xb=C.mediaKeys.createSession("video/mp4",new Uint8Array(0),N);}else C.Xb=C.mediaKeys.createSession("video/mp4",B,null);(C.context.Zf || C.context.Yl) && C.log.debug("LICENSE: Created the media keys sessions",{keySystem:C.Xb.keySystem,sessionId:C.Xb.sessionId});C.Xb.addEventListener("mskeymessage",L);C.Xb.addEventListener("mskeyadded",H);C.Xb.addEventListener("mskeyerror",P);C.context.bwa && (E=setTimeout(function(){I({fa:!1,code:z.Eg.wU,Sc:z.TD.Emb});},C.context.bwa));}catch(J){G({code:z.Eg.wU,Sc:z.TD.jn});}});})();};n.prototype.qL=function(){var A;(this.context.Zf || this.context.Yl) && this.log.trace("LICENSE: Renewing license");A=[new Uint8Array(0)];return this.Jh(l.Cp.Kia.Ar,A,!0);};n.prototype.J8=function(A){this.T0 || this.log.error("pending license must exist at this point");this.context.gL=!0;try{A && (this.context.ca=A,this.context.ca.msSetMediaKeys(this.mediaKeys));}catch(B){return Promise.reject({fa:!1,code:z.Eg.YM,message:"setMediaKeys failed",ac:r().hf(B)});}return x(this,this.T0,this.Xb);};n.prototype.S0a=function(A){var B,D;B=this;B.log.trace("Releasing the license of current session",JSON.stringify(A));D={ja:A.ja,Ve:A.Ve};return new Promise(function(C,F){(function(){B.context.Qm.release.call(B.context.Qm,D).then(function(){var G;B.log.trace("successfully released the license",JSON.stringify(A));G={fa:!0};B.close();G.fa?C(G):F(G);}).catch(function(G){B.log.error("Unable to release the license",{sessionId:B.keySessionId,code:G.code,subCode:G.Sc,extCode:G.fe,edgeCode:G.So,message:G.ml});B.close();G.fa?C(G):F(G);});})();});};n.prototype.Iba=function(){return this.context.Zf || this.context.Yl;};b.Ska=n;pb._cad_global.WindowsEmeSession=b.Ska;})();},function(q,b,a){var u,x,y,z,A,B,D,C,F,G,E,I;function c(K,L,H){var P;P=this;this.log=K;this.kp=L || v.bind(this);this.context=H;this.S0=this.challenge=this.keySystem=this.keySessionId=this.mediaKeys=void 0;this.Hd={};this.lk=void 0;this.url="";this.ewa=this.OBa=!1;this.C0=l.bind(this);this.qp=this.S0=void 0;this.kDa=new Promise(function(N,J){P.iAa=N;P.Nza=J;});this.Wn=function(N,J){P.Nza(N,J);P.context.onerror(N,J);};this.$xa=function(){P.iAa();};if(!(this instanceof c))throw new TypeError("EmeSession constructor not called correctly.");}function k(){return u.Ga.get(A.gv);}function g(){return u.Ga.get(z.Vi);}function f(){return u.Ga.get(x.si);}function d(K){return (/com.apple.fps/).test(K) && !(/com.apple.fps.2_0/).test(K);}function h(K){var L;K=(function(H){var N,J;function P(M,O,Q,T){var V,da;V=new Uint8Array("piff" == O?88:72);da=new G.BT(V);da.lD(12);da.kD("frma");da.kD(M);da.lD(20);da.kD("schm");da.Q3(0);da.Q3(0);da.kD(O);da.lD(Q);"piff" == O?(da.lD(56),da.kD("schi"),da.lD(48),da.kD("uuid"),da.P3([137,116,219,206,123,231,76,81,132,249,113,72,249,136,37,84])):(da.lD(40),da.kD("schi"),da.lD(32),da.kD("tenc"));da.Q3(0);da.Q3(0);da.lD(264);da.P3(T);return V;}N=P("avc1","piff",65537,H);N=k().decode(g().encode(N));H=P("avc1",E.Cx,65536,H);H=k().decode(g().encode(H));J=new Uint8Array(7 + N.length + 8 + H.length + 5);J.set([91,10,32,32,32,32,34],0);J.set(N,7);J.set([34,44,10,32,32,32,32,34],7 + N.length);J.set(H,7 + N.length + 8);J.set([34,10,32,32,93],7 + N.length + 8 + H.length);return J;})(K);L=new Uint8Array(13 + K.length + 2);L.set([123,10,32,32,34,115,105,110,102,34,32,58,32]);L.set(K,13);L.set([10,125],13 + K.length);return L;}function m(K){var L;K=K.subarray(14,30);K=String.fromCharCode.apply(null,K);K=g().decode(K);K=K.subarray(4);L=new Uint8Array(16);L.set(K);return L;}function l(K){var L;L=n(K);this.log.error("LICENSE Error: Received event: " + K.type,{sessionId:this.Xb?this.Xb.sessionId:void 0,keySystem:K.target.keySystem,systemCode:L.Ofa,code:L.C$});this.Wn && this.Wn(I.Eg.dt,L);this.Xb=void 0;}function n(K){var L,H;if(K.target.error)(L=K.target.error.systemCode,H=K.target.error.code);return {code:I.Eg.dt,Sc:I.TD.Uu,fe:L?u.Ga.get(y.Zz).UJ(L,4):H,details:f().hf(K),cause:K.target.error,Ofa:L,C$:H};}function p(K,L,H,P){var N,J,M;N=K.target.sessionId;J=K.message;M=f().PE(J,k().decode("certificate"));H.ewa=L === F.Cp.Kia.Ep;H.state=M?2:12;H.log.trace("LICENSE: Received event: " + K.type,{keySystem:K.target.keySystem,sessionId:N});(H.context.Zf || H.context.Yl || H.context.hD) && H.log.debug("LICENSE: License challenge",g().encode(J));H.keySessionId=N;K={gi:H.gi,Bg:L,messageType:"license-request",Ro:(/clearkey/i).test(H.keySystem)?"clearkey":"fps",fl:[{data:J,sessionId:N}]};12 === H.state && (H.kp("lc"),J={data:J,Ro:(/clearkey/i).test(H.keySystem)?"clearkey":"fps"},H.context.gL || (H.S0=J));H.context.Qm.Jh(K).then(function(O){if(12 === H.state && (H.kp("lr"),H.$xa(),!H.context.gL))(H.T0=O.gk[0].data,H.state=13,P({fa:!0,state:H.state}));else if(H.Xb)return (O=w(H,M,O.gk[0].data,H.Xb),2 === H.state?O:O.then(function(){H.state=30;P({fa:!0,state:H.state});}));}).catch(function(O){P(f().RK(O,{state:H.state}));});}function r(K,L,H){L.log.trace("LICENSE: Received event: " + K.type,{keySystem:K.target.keySystem,sessionId:K.target.sessionId});H({fa:!0});}function t(K,L,H){var P;P=n(K);L.Wn && L.Wn(I.Eg.dt,P);L.log.error("LICENSE Error: Received event: " + K.type,{sessionId:L.Xb?L.Xb.sessionId:void 0,keySystem:K.target.keySystem,systemCode:P.Ofa,code:P.C$});H({fa:!1,code:I.Eg.dt,Sc:I.TD.Uu,fe:P.fe,message:"Received a key error.",ac:P.details,cause:P.cause});}function w(K,L,H,P){P={sessionId:P.sessionId};K.Iba() && (P.license=g().encode(H));K.log.trace("calling keysession update",P);return new Promise(function(N,J){function M(){K.Xb.removeEventListener("webkitkeyadded",M);N(void 0);}try{L || K.Xb.addEventListener("webkitkeyadded",M);K.Xb.update(H);L && N(void 0);}catch(O){J({fa:!1,code:I.Eg.Z5,message:"Unable to update the EME.",e:O});}});}function v(K){this.Hd[K]=u.Ga.get(B.Jd).ec().ia(D.sa);this.log.trace("Milestone: " + K + ", " + this.Hd[K]);}Object.defineProperty(b,"__esModule",{value:!0});u=a(9);b=a(3);x=a(35);y=a(79);z=a(36);A=a(73);B=a(20);D=a(6);C=a(11);F=a(64);G=a(179);E=a(50);I={Eg:b.W,TD:b.S};c.prototype.jZ=function(){return this.keySystem;};c.prototype.Whb=function(K,L){K.log && (this.log=K.log);K.kp && (this.kp=K.kp);L.Qm && (this.context.Qm=L.Qm);L.onerror && (this.context.onerror=L.onerror);};c.prototype.create=function(K){var L;L=this;L.kp("lg");L.log.trace("CREATE: Creating the media keys",{keySystem:K});L.keySystem=K;return L.context.q1?Promise.reject({fa:!1,code:I.Eg.FT,message:"CREATE: Promise based EME is currently not supported for Internet Explorer"}):(function(){function H(){var P,N;P=f().createElement("div","position:relative;width:100%;height:100%;overflow:hidden");N=P.lastChild;L.qp=P;L.context.ca=C.Qh.createElement("VIDEO");N?L.qp.insertBefore(L.context.ca,N):L.qp.appendChild(L.context.ca);}return new Promise(function(P,N){function J(M){(L.context.Zf || L.context.Yl || L.context.hD) && L.log.trace("CREATE: Received event: " + M.type,{readyState:M.target.readyState,duration:M.target.duration});try{L.mediaKeys=new pb.WebKitMediaKeys(K);L.context.ca.webkitSetMediaKeys(L.mediaKeys);P({fa:!0,mediaKeys:L.mediaKeys});}catch(O){L.log.error("CREATE: Exception on webkitSetMediaKeys",O);N({fa:!1,code:I.Eg.wU,ac:f().hf(O)});}}if(d(L.keySystem))try{L.mediaKeys=new pb.WebKitMediaKeys(K);L.context.ca && (L.log.trace("LICENSE: calling setmediakeys on video element"),L.context.ca.webkitSetMediaKeys(L.mediaKeys));P({fa:!0,mediaKeys:L.mediaKeys});}catch(M){N({fa:!1,code:I.Eg.wU,ac:f().hf(M)});}else (L.mediaKeys=new pb.WebKitMediaKeys(K),L.context.ca?(L.log.trace("LICENSE: calling setmediakeys on video element"),L.context.ca.webkitSetMediaKeys(L.mediaKeys)):(H(),L.lk=new C.HD(),L.lk.addEventListener("sourceopen",J),L.url=URL.createObjectURL(L.lk),L.context.ca.src=L.url),P({fa:!0,mediaKeys:L.mediaKeys}));});})();};c.prototype.close=function(){this.Xb && (this.log.info("Closing the session",{sessionId:this.Xb.sessionId}),this.Xb.removeEventListener("webkitkeyerror",this.C0),this.Xb.close(),this.Xb=void 0);};c.prototype.Jh=function(K,L){var H;if(1 < L.length)return Promise.reject({code:I.Eg.oMa});if(0 === L.length)return Promise.reject({code:I.Eg.nMa});L=L[0];H=this;H.context.Zf && H.log.trace("LICENSE: Setting license",{initData:g().encode(L)});return H.context.q1?Promise.reject({fa:!1,code:I.Eg.WGa,message:"Promise based EME is currently not supported in Safari"}):(function(){return new Promise(function(P,N){var M,O,Q;function J(T){H.Xb && (H.Xb.removeEventListener("webkitkeymessage",M),H.Xb.removeEventListener("webkitkeyadded",O),H.Xb.removeEventListener("webkitkeyerror",Q),H.Xb.addEventListener("webkitkeyerror",H.C0));T.fa?P(T):(H.close(),N(T));}M=function(T){p(T,K,H,J);};O=function(T){r(T,H,J);};Q=function(T){t(T,H,J);};d(H.keySystem) && (H.gi=m(L),L=h(H.gi));H.log.trace("LICENSE: Executing prefix based EME");H.context.Zf | H.context.Yl && H.log.debug("LICENSE: PSSH",g().encode(L));H.Xb=H.mediaKeys.createSession("video/mp4",L,null);(H.context.Zf || H.context.Yl) && H.log.debug("LICENSE: Created the media keys sessions",{keySystem:H.Xb.keySystem,sessionId:H.Xb.sessionId});H.Xb.addEventListener("webkitkeymessage",M);H.Xb.addEventListener("webkitkeyadded",O);H.Xb.addEventListener("webkitkeyerror",Q);});})();};c.prototype.qL=function(){var K;K=this;return K.OBa?Promise.resolve({fa:!0}):new Promise(function(L,H){var N,J,M;function P(O){K.Xb && (K.Xb.removeEventListener("webkitkeymessage",N),K.Xb.removeEventListener("webkitkeyadded",J),K.Xb.removeEventListener("webkitkeyerror",M));O.fa?L(O):(H(O),K.close());}N=function(O){p(O,F.Cp.Kia.Ar,K,P);};J=function(O){r(O,K,P);L({fa:!0});};M=function(O){t(O,K,P);};K.ewa=!1;K.Xb.addEventListener("webkitkeymessage",N);K.Xb.addEventListener("webkitkeyadded",J);K.Xb.addEventListener("webkitkeyerror",M);K.Xb.update(k().decode("renew"));});};c.prototype.J8=function(K){this.T0 || this.log.error("pending license must exist at this point");this.context.gL=!0;try{K && (this.context.ca=K,this.log.trace("calling setmediakeys on video element"),this.context.ca.webkitSetMediaKeys(this.mediaKeys));}catch(L){return new Promise(function(H,P){P({fa:!1,code:I.Eg.YM,message:"setMediaKeys failed",ac:f().hf(L)});});}return w(this,!1,this.T0,this.Xb);};c.prototype.S0a=function(K){var L,H;L=this;L.log.trace("Releasing the license of the current session",JSON.stringify(K));L.OBa=!0;H={ja:K.ja,Ve:K.Ve};return new Promise(function(P,N){(function(){L.context.Qm.release.call(L.context.Qm,H).then(function(){var J;L.log.trace("successfully released the license",JSON.stringify(K));J={fa:!0};J.fa?P(J):(L.close(),N(J));}).catch(function(J){L.log.error("RELEASE: Unable to get the release the license",{sessionId:L.Xb?L.Xb.sessionId:void 0,code:J.code,subCode:J.Sc,extCode:J.fe,edgeCode:J.So,message:J.ml});J.fa?P(J):(L.close(),N(J));});})();});};c.prototype.Iba=function(){return this.context.Zf || this.context.Yl;};q.exports=c;},function(q,b,a){var k,g,f,d,h,m;function c(l,n,p,r){this.log=l;this.ZJ=n;this.MC=p;this.context=r;}Object.defineProperty(b,"__esModule",{value:!0});k=a(3);g=a(9);f=a(35);d=a(73);h=a(36);m=a(50);c.prototype.Jh=function(l){var n,p;n=this;(this.context.Zf || this.context.Yl) && this.log.debug("Requesting a license",l);if(g.Ga.get(f.si).PE(g.Ga.get(d.gv).decode("certificate"),l.fl[0].data)){n.log.trace("Requesting Fairplay cert data.");p=Promise.resolve({gk:[{sessionId:l.fl[0].sessionId,data:g.Ga.get(h.Vi).decode(m.M4)}]});}else p=g.Ga.get(f.si).PE(g.Ga.get(d.gv).decode("content"),l.fl[0].data)?Promise.resolve({gk:[{sessionId:l.fl[0].sessionId,data:l.gi}]}):(function(){n.log.trace("Requesting license",{drmType:l.Ro});return n.ZJ(l).catch(function(r){n.log.error("Unable to get the Fairplay license",r);throw {code:k.W.KM,Sc:r.Sc,fe:r.fe,So:r.So,ml:r.message || r.ml,PJ:r.data,message:"Unable to send the Fairplay license request. " + (r.message || r.ml),cause:r};});})();return p;};c.prototype.release=function(l){var n;n=this;this.log.trace("Requesting stop data");return this.MC(l).catch(function(p){n.log.error("Unable to release the FairPlay license",{code:p.code,subCode:p.Sc,extCode:p.fe,edgeCode:p.So,message:p.message || p.ml});throw {fa:!1,code:k.W.jka,Sc:p.Sc,fe:p.fe,So:p.So,ml:p.message || p.ml,message:"Unable to release the FairPlay license. " + (p.message || p.ml),cause:p};});};q.exports=c;},function(q,b,a){var f,d,h,m,l,n,p,r;function c(t,w,v){var u;u=this;this.is=t;this.gr=w;this.config=v;this.tx=function(){return {version:u.version,drmData:u.k$.map(function(x){return x.tx();})};};this.nsa=function(x){var y;u.is.Go(x) && (x=k(x));1 === x.version && (x=g(u.is,x));y={version:2,data:[]};if(2 === x.version){y.version=x.version;try{y.data=x.drmData.map(function(z){return new r.H4(z);});}catch(z){throw new l.Ad(h.W.IM,h.S.sD,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",z);}}else {if(!x.version || !u.is.Fo(x.version))throw new l.Ad(h.W.IM,h.S.sD,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1 !== x.version)throw new l.Ad(h.W.IM,h.S.REa,void 0,void 0,void 0,"Version number is not supported. Version: " + x.version);}return y;};this.im=new n.Cia(2,this.config.nY,this.is.Go(this.config.nY),this.gr,this.tx);}function k(t){t=JSON.parse(t);t={xid:t.xid,movieId:t.movieId,keySessionIds:t.keySessionIds,licenseContextId:t.licenseContextId};if(!t.licenseContextId || !t.xid || !t.movieId)throw new l.Ad(h.W.IM,h.S.sD);return {version:1,drmData:[t]};}function g(t,w){if(t.AE(w.drmData))return {version:2,drmData:w.drmData.map(function(v){var u;u=v.keySessionIds;return new r.H4({keySessionData:(u && 0 < u.length?u:[void 0]).map(function(x){return {id:x,licenseContextId:v.licenseContextId,licenseId:void 0};}),xid:v.xid,movieId:v.movieId}).tx();})};throw new l.Ad(h.W.IM,h.S.sD);}Object.defineProperty(b,"__esModule",{value:!0});b.iFa=void 0;q=a(2);f=a(0);d=a(68);h=a(3);m=a(31);l=a(41);n=a(362);p=a(102);r=a(225);c.prototype.mcb=function(){return this.h5b();};c.prototype.cVa=function(t){return this.im.add(t);};c.prototype.G1=function(t){return this.im.remove(t,function(w,v){return w.ja === v.ja;});};c.prototype.toString=function(){return JSON.stringify(this.tx(),null,"  ");};c.prototype.h5b=function(){var t;t=this;this.qcb || (this.qcb=new Promise(function(w,v){t.im.load(t.nsa).then(function(){w();}).catch(function(u){u.Ea && u.cause?v(new l.Ad(h.W.IM,u.Ea,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,u)):v(u);});}));return this.qcb;};Ya.Object.defineProperties(c.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.im.version;}},k$:{configurable:!0,enumerable:!0,get:function(){return this.im.Bn;}}});a=c;a=q.__decorate([(0,f.X)(),q.__param(0,(0,f.u)(m.Wg)),q.__param(1,(0,f.u)(p.pD)),q.__param(2,(0,f.u)(d.Vu))],a);b.iFa=a;},function(q,b,a){var k,g;function c(f,d,h,m,l){this.version=f;this.fL=d;this.PBa=h;this.gr=m;this.tx=l;}Object.defineProperty(b,"__esModule",{value:!0});b.dJa=void 0;k=a(3);g=a(41);c.prototype.load=function(f){return this.vTb(f);};c.prototype.set=function(f){this.Bn=f;return this.fZb();};c.prototype.vTb=function(f){var d;d=this;this.Q7a || (this.Q7a=new Promise(function(h,m){function l(n){d.wGb().then(function(){m(n);}).catch(function(){m(n);});}d.Ita().then(function(n){d.storage=n;return d.storage.load(d.fL);}).then(function(n){var p;n=n.value;try{p=f(n);d.version=p.version;d.Bn=p.data;h();}catch(r){l(r);}}).catch(function(n){n.Ea !== k.S.SD?m(n):h();});}));return this.Q7a;};c.prototype.fZb=function(){var f,d,h,m,l;f=this;if(!this.PBa)return Promise.resolve();if(this.Efa){m=new Promise(function(n,p){d=n;h=p;});l=function(){f.Efa=m;f.Lfb().then(function(){d();}).catch(function(n){h(n);});};this.Efa.then(l).catch(l);return m;}return this.Efa=this.Lfb();};c.prototype.Lfb=function(){var f,d;f=this;d=this.tx();return new Promise(function(h,m){f.Ita().then(function(l){return l.save(f.fL,d,!1);}).then(function(){h();}).catch(function(l){m(c.S6b(k.W.tpb,l));});});};c.prototype.wGb=function(){var f;f=this;return this.PBa?new Promise(function(d,h){f.Ita().then(function(m){return m.remove(f.fL);}).then(function(){d();}).catch(function(m){h(m);});}):Promise.resolve();};c.prototype.Ita=function(){return this.storage?Promise.resolve(this.storage):this.gr.create();};c.S6b=function(f,d){var h;if(d.Ea && d.cause)return new g.Ad(f,d.Ea,void 0,void 0,void 0,void 0,void 0,d.cause);if(void 0 !== d.Sc){h=d.message?d.message + " ":"";d.code=f;d.message="" === h?void 0:h;return d;}return d instanceof Error?new g.Ad(f,k.S.jn,void 0,void 0,void 0,void 0,d.stack,d):new g.Ad(f,k.S.wo,void 0,void 0,void 0,void 0,void 0,d);};b.dJa=c;},function(q,b,a){var c,k,g,f,d;Object.defineProperty(b,"__esModule",{value:!0});b.Wbb=void 0;c=a(3);k=a(103);g=a(130);f=a(224);b.Wbb=function(h){f.pP.parent=h.hb;return function(){d || (d=new Promise(function(m,l){try{m(f.pP.get(g.HGa));}catch(n){l(new k.Ph(c.W.tnb,c.S.Dnb,void 0,"Unable to extract the DRM services from the dependency injector",n));}}));return d;};};},function(q,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.fLa=void 0;a.prototype.N4a=function(){return void 0 !== this.mediaKeys;};a.prototype.jVa=function(c){this.mediaKeys=c;};a.prototype.p1b=function(){this.N4a() && (this.mediaKeys=void 0);};b.fLa=a;},function(q,b,a){var k,g,f,d,h,m,l,n;function c(p,r,t,w,v){this.KJ=p;this.Dc=r;this.NQ=w;this.Kq=v;this.log=t.Bb("CannedChallengeProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.jFa=void 0;q=a(2);k=a(0);g=a(130);f=a(36);d=a(7);h=a(146);m=a(80);l=a(128);n=a(363);c.prototype.Dta=function(p){var r;r=this;return Promise.all([this.KJ(),this.Ysa()]).then(function(t){var w;w=ra(t);t=w.next().value;w=w.next().value;return t.VKb({type:p,initData:w},r.NQ());}).then(function(t){var w;w=ra(t);t=w.next().value;w=w.next().value;w=r.Dc.encode(w.data[0]);r.log.trace("Challenge generated",w);return {tc:t,dpa:w};});};c.prototype.Ysa=function(){var p;p=this;return this.Kq.LB().then(function(r){return r.gw();}).then(function(r){switch(r){case l.hn.oF:return n.FHa;case l.hn.FC:return n.BNa;default:return n.CRa;}}).then(function(r){return r.map(p.Dc.decode);});};a=c;a=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(g.I4)),q.__param(1,(0,k.u)(f.Vi)),q.__param(2,(0,k.u)(d.Ib)),q.__param(3,(0,k.u)(h.mU)),q.__param(4,(0,k.u)(m.Mx))],a);b.jFa=a;},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t;function c(w,v,u,x,y,z){this.Qe=w;this.li=v;this.Dc=u;this.is=x;this.f0=y;this.kl=z;}Object.defineProperty(b,"__esModule",{value:!0});b.fHa=void 0;q=a(2);k=a(0);g=a(36);f=a(31);d=a(42);h=a(73);m=a(35);l=a(128);n=a(68);p=a(723);r=a(725);t=a(228);c.prototype.create=function(w){switch(w){case l.hn.FC:return new r.COa(this.f0,this.is,this.Dc,this.Qe,this.kl,this.li);case l.hn.oF:return new p.EHa(this.f0,this.is,this.Dc,this.Qe,this.kl,this.li);default:return new t.Tx(this.f0,this.is,this.Dc,this.Qe,this.kl,this.li);}};a=c;a=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(m.si)),q.__param(1,(0,k.u)(h.gv)),q.__param(2,(0,k.u)(g.Vi)),q.__param(3,(0,k.u)(f.Wg)),q.__param(4,(0,k.u)(d.WM)),q.__param(5,(0,k.u)(n.Vu))],a);b.fHa=a;},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t;function c(w,v,u,x,y,z){w=g.Tx.call(this,w,v,u,x,y,z) || this;w.Dc=u;w.Ui=x;w.kl=y;w.li=z;w.d5a=new f.DHa(w.Dc,w.Ui,w.li);return w;}Object.defineProperty(b,"__esModule",{value:!0});b.EHa=void 0;q=a(2);k=a(0);g=a(228);f=a(724);d=a(42);h=a(31);m=a(36);l=a(35);n=a(68);p=a(73);r=a(364);t=a(365);na(c,g.Tx);c.prototype.generateRequest=function(w,v){var u,x,y;u=this;try{x=v.map(function(z){return u.d5a.KMb(z);});this.H5a=x.map(function(z){return u.Dc.encode(z);});y=this.d5a.FCb(x);return g.Tx.prototype.generateRequest.call(this,w,[y]);}catch(z){return Promise.reject(z);}};c.prototype.update=function(w,v,u){var x,y,z,A,B;x=this;if(u)try{y=this.li.encode(w[0]);z=JSON.parse(y).RESPONSES.map(function(D){var C;C=t.v6.Ufb(D.ID);return {keyID:v === r.nI.aPa?x.H5a[x.H5a.length - 1]:u[C],payload:D.PAYLOAD};});if(v === r.nI.Request){A=z.map(function(D){return D.keyID;});u.forEach(function(D){-1 === A.indexOf(D) && z.push({keyID:D,error:1});});}B=JSON.stringify(z);w=[this.li.decode(B)];}catch(D){return Promise.reject(D);}return g.Tx.prototype.update.call(this,w,v);};c.prototype.qL=function(){return g.Tx.prototype.update.call(this,[this.li.decode("renew")],r.nI.Request);};a=c;a=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(d.WM)),q.__param(1,(0,k.u)(h.Wg)),q.__param(2,(0,k.u)(m.Vi)),q.__param(3,(0,k.u)(l.si)),q.__param(4,(0,k.u)(n.Vu)),q.__param(5,(0,k.u)(p.gv))],a);b.EHa=a;},function(q,b){function a(c,k,g){var f;f=this;this.Dc=c;this.Ui=k;this.li=g;this.KMb=function(d){var h;d=d.subarray(14,30);d=String.fromCharCode.apply(null,d);d=f.Dc.decode(d);d=d.subarray(4);h=new Uint8Array(16);h.set(d);return h;};this.Pmb={Cx:1667591779,$$b:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.DHa=void 0;a.prototype.FCb=function(c){var k;k=this.Pmb.Cx;c=c.map(function(g){return {ihc:"",ySb:g,boa:g,Y4b:g,Y8b:[1]};});return this.dUb(k,c);};a.prototype.cUb=function(c){var k;k=new Uint8Array(4);new DataView(k.buffer).setUint32(0,c);return this.Dwa("fpsi",[k]);};a.prototype.bUb=function(c,k,g,f){c=[this.Dwa("fkri",[c])];k.byteLength && c.push(this.G_("fkai",[k]));g.byteLength && c.push(this.G_("fkcx",[g]));f.length && c.push(this.G_("fkvl",[new Uint8Array(new Uint32Array(f).buffer)]));return this.G_("fpsk",c);};a.prototype.dUb=function(c,k){var g,d;g=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);c=[this.cUb(c)];for(var f in k){d=k[f];c.push(this.bUb(d.ySb,d.boa,d.Y4b,d.Y8b));}k=this.G_("fpsd",c);f=new Uint8Array(4);new DataView(f.buffer).setUint32(0,k.byteLength);return this.Dwa("pssh",[g,f,k]);};a.prototype.Dwa=function(c,k){var g,f,d;g=0;for(d in k){g+=k[d].byteLength;}g=new Uint8Array(12 + g);f=new DataView(g.buffer);d=0;f.setUint32(d,g.byteLength);d+=4;g.set(this.li.decode(c),d);d+=4;f.setUint32(d,0);d+=4;for(var h in k){c=k[h];g.set(c,d);d+=c.byteLength;}return g;};a.prototype.G_=function(c,k){var g,f;g=0;for(f in k){g+=k[f].byteLength;}g=new Uint8Array(8 + g);f=0;new DataView(g.buffer).setUint32(f,g.byteLength);f+=4;g.set(this.li.decode(c),f);f+=4;for(var d in k){c=k[d];g.set(c,f);f+=c.byteLength;}return g;};b.DHa=a;},function(q,b,a){var k,g,f,d;function c(){return g.Tx.apply(this,arguments) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.COa=void 0;q=a(2);k=a(0);g=a(228);f=a(103);d=a(3);na(c,g.Tx);c.prototype.I9=function(h,m,l,n,p){this.Pcb(l);this.Ncb(n);this.Lcb(p);this.mTa=this.Fb;this.Fb=h.createSession(m);this.kVa(l);this.fVa(n);this.dVa(p);return this.generateRequest(this.initDataType,this.initData);};c.prototype.close=function(){var m;function h(l){return l && l.sessionId?l.close():Promise.resolve();}m=this;this.Epa=void 0;return this.Fb?Promise.all([h(this.Fb),h(this.mTa)]).then(function(){}).finally(function(){m.Fb=void 0;m.mTa=void 0;}):Promise.reject(new f.Ph(d.W.QGa,d.S.DM,void 0,"Unable to close a key session, key session is not valid"));};c.prototype.generateRequest=function(h,m){this.initDataType=h;this.initData=m;return g.Tx.prototype.generateRequest.call(this,h,m);};a=c;a=q.__decorate([(0,k.X)()],a);b.COa=a;},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t;function c(w,v,u,x,y,z){this.li=w;this.Zj=v;this.Dc=u;this.config=x;this.kl=y;this.Ni=z;}Object.defineProperty(b,"__esModule",{value:!0});b.IGa=void 0;q=a(2);k=a(0);g=a(79);f=a(36);d=a(73);h=a(12);m=a(81);l=a(128);n=a(68);p=a(727);r=a(728);t=a(729);c.prototype.create=function(w){switch(w){case l.hn.FC:return new r.eHa(this.Zj,this.Dc);case l.hn.oF:return new t.xPa(this.Zj,this.Dc,this.li,this.Ni);default:return new p.sFa(this.Zj,this.Dc,this.kl,this.config);}};a=c;a=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(d.gv)),q.__param(1,(0,k.u)(g.Zz)),q.__param(2,(0,k.u)(f.Vi)),q.__param(3,(0,k.u)(h.jd)),q.__param(4,(0,k.u)(n.Vu)),q.__param(5,(0,k.u)(m.rA))],a);b.IGa=a;},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t;function c(w,v,u,x){this.Zj=w;this.Dc=v;this.kl=u;this.config=x;}Object.defineProperty(b,"__esModule",{value:!0});b.sFa=void 0;q=a(2);k=a(0);g=a(3);f=a(79);d=a(36);h=a(366);m=a(103);l=a(69);n=a(68);p=a(12);r=a(41);t=a(50);c.prototype.w9=function(){return !1;};c.prototype.loa=function(){return !0;};c.prototype.Yoa=function(){return !0;};c.prototype.iZ=function(){return t.Cx;};c.prototype.kaa=function(){return this.kl.PAa?this.Dc.decode(this.kl.PAa):this.Dc.decode(t.zRa);};c.prototype.xta=function(){var w;w=this;return [t.LH,t.tka,t.ska].map(function(v){return {initDataTypes:[w.iZ()],persistentState:"required",videoCapabilities:[{contentType:h.L5,robustness:v}]};});};c.prototype.Uua=function(){Promise.reject(new r.Ad(g.W.Xha));};c.prototype.Wpa=function(w){var v;return {type:w.type,sessionId:null === (v=w.target) || void 0 === v?void 0:v.sessionId,MK:[new Uint8Array(w.message)],messageType:w.messageType};};c.prototype.tB=function(w){var v,u,x;v=new m.Ph(g.W.dt);u=null === w || void 0 === w?void 0:w.code;null != u && void 0 !== u?(u=parseInt(u,10),v.Sc=1 <= u && 9 >= u?g.S.Uu + u:g.S.Uu):v.Sc=w instanceof l.ft?g.S.GT:g.S.jn;try{x=w.message.match(/\((\d*)\)/)[1];v.fe=this.Zj.UJ(x,4);}catch(y){}v.cY(w);return v;};c.prototype.SP=function(){};a=c;a=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(f.Zz)),q.__param(1,(0,k.u)(d.Vi)),q.__param(2,(0,k.u)(n.Vu)),q.__param(3,(0,k.u)(p.jd))],a);b.sFa=a;},function(q,b,a){var k,g,f,d,h,m,l,n,p;function c(r,t){this.Zj=r;this.Dc=t;}Object.defineProperty(b,"__esModule",{value:!0});b.eHa=void 0;q=a(2);k=a(0);g=a(3);f=a(79);d=a(36);h=a(366);m=a(103);l=a(69);n=a(41);p=a(50);c.prototype.w9=function(){return !0;};c.prototype.loa=function(){return !1;};c.prototype.Yoa=function(){return !1;};c.prototype.iZ=function(){return p.Cx;};c.prototype.kaa=function(){};c.prototype.xta=function(){return [{initDataTypes:[this.iZ()],audioCapabilities:[{contentType:h.K5}],videoCapabilities:[{contentType:h.L5}],sessionTypes:[p.TEMPORARY]}];};c.prototype.Uua=function(){Promise.reject(new n.Ad(g.W.Xha));};c.prototype.Wpa=function(r){var t;t=new Uint8Array(r.message);t=this.Cra(t,"PlayReadyKeyMessage","Challenge");t=this.Dc.decode(t);return {type:r.type,sessionId:r.target.sessionId,MK:[t],messageType:r.messageType};};c.prototype.tB=function(r){var t,w,v;t=new m.Ph(g.W.dt);w=r.code;null != w && void 0 !== w?(w=parseInt(w,10),t.Sc=1 <= w && 9 >= w?g.S.Uu + w:g.S.Uu):t.Sc=r instanceof l.ft?g.S.GT:g.S.jn;try{v=(/\((\d+)\)/).exec(r.message);t.fe=this.Zj.UJ(Number(v && v[1]),4);}catch(u){}t.cY(r);return t;};c.prototype.Cra=function(r,t){var v,u,x;for(var w=1;w < arguments.length;++w){;}for(w=1;w < arguments.length;w++){;}w="";u=r.length;for(v=0;v < u;v++){x=r[v];0 < x && (w+=String.fromCharCode(x));}u="\\s*(.*)\\s*";for(v=arguments.length - 1;0 < v;v--){x=arguments[v];if(0 > w.search(x))return "";x="(?:[^:].*:|)" + x;u="[\\s\\S]*<" + x + "[^>]*>" + u + "</" + x + ">[\\s\\S]*";}return (w=w.match(new RegExp(u)))?w[1]:"";};c.prototype.SP=function(){};a=c;a=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(f.Zz)),q.__param(1,(0,k.u)(d.Vi))],a);b.eHa=a;},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t,w;function c(v,u,x,y){this.Zj=v;this.Dc=u;this.li=x;this.Ni=y;}Object.defineProperty(b,"__esModule",{value:!0});b.xPa=void 0;q=a(2);k=a(0);g=a(3);f=a(79);d=a(73);h=a(103);m=a(69);l=a(36);n=a(50);p=a(367);r=a(41);t=a(81);w=a(365);c.prototype.w9=function(){return !1;};c.prototype.loa=function(){return !1;};c.prototype.Yoa=function(){return !0;};c.prototype.iZ=function(){return n.Cx;};c.prototype.kaa=function(){return this.Dc.decode(n.M4);};c.prototype.xta=function(){return [{initDataTypes:[n.Cx],videoCapabilities:[{contentType:"video/mp4;codecs=avc1.42E01E"}],audioCapabilities:[{contentType:"audio/mp4;codecs=mp4a.40.2"}],distinctiveIdentifier:"not-allowed",persistentState:"optional",sessionTypes:[n.TEMPORARY]}];};c.prototype.Uua=function(v){v.qL();};c.prototype.Wpa=function(v){var u,x;u=[];if(v.messageType === p.Zia || v.messageType === p.Yia){if(v.messageType === p.Zia){x=this.li.encode(new Uint8Array(v.message));u=JSON.parse(x);x=u.map(function(y){return y.keyID;});u=u.map(function(y){return y.payload;});}else u=[this.Dc.encode(new Uint8Array(v.message))];if(0 === u.length || !u.every(function(y){return y && y.length;}))throw new r.Ad(g.W.VGa);u=this.R6b(u);u=this.li.decode(JSON.stringify(u));}else u=new Uint8Array(v.message);return {type:v.type,sessionId:v.target.sessionId,MK:[u],messageType:v.messageType,Yy:x};};c.prototype.tB=function(v){var u,x,y,z;x=null === (u=v.target) || void 0 === u?void 0:u.error;if(x)(y=x.systemCode,z=x.code);u=new h.Ph(g.W.dt,v instanceof m.ft?g.S.GT:g.S.Uu,y?this.Zj.UJ(y,4):z,"",x);u.cY(v);return u;};c.prototype.R6b=function(v){v=v.map(function(u,x){return {ID:w.v6.CQb(x),PAYLOAD:u};});return {VERSION:this.Ni.By?3:1,CHALLENGES:v};};c.prototype.SP=function(v,u){var x,y;x=this;if(u && this.Ni.By)try{y=this.li.encode(u[0]);return JSON.parse(y).RESPONSES.sort(function(z,A){return z.ID > A.ID?1:-1;}).map(function(z){var A;A=w.v6.Ufb(z.ID);z=x.Dc.decode(z.DHB).subarray(4,12);A=x.Dc.decode(v[A]).subarray(0,8);return {from:z,to:A};});}catch(z){throw new h.Ph(g.W.Bpb,void 0,void 0,void 0,z);}};a=c;a=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(f.Zz)),q.__param(1,(0,k.u)(l.Vi)),q.__param(2,(0,k.u)(d.gv)),q.__param(3,(0,k.u)(t.rA))],a);b.xPa=a;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.g6=void 0;b.g6=function(){var a;a=this;this.promise=new Promise(function(c,k){a.resolve=c;a.reject=k;});};},function(q,b,a){var k,g,f,d;function c(h,m){this.pY=h;this.qY=m;}Object.defineProperty(b,"__esModule",{value:!0});b.bLa=void 0;q=a(2);k=a(0);g=a(229);f=a(227);d=a(732);c.prototype.create=function(h,m){return new d.dLa(this.pY,this.qY,h,m);};a=c;a=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(g.Uha)),q.__param(1,(0,k.u)(f.Zha))],a);b.bLa=a;},function(q,b,a){var k,g;function c(f,d,h,m){this.pY=f;this.qY=d;this.uC=h;this.Ro=m;}Object.defineProperty(b,"__esModule",{value:!0});b.dLa=void 0;k=a(101);g=a(50);c.prototype.createMediaKeys=function(){return this.uC.createMediaKeys();};c.prototype.getConfiguration=function(){return this.uC.getConfiguration();};c.prototype.gw=function(){return k.Kb.eZ(this.uC.keySystem);};c.prototype.fZa=function(){return this.qY.create(this.Ro);};c.prototype.eZa=function(){return this.pY.create(this.Ro);};Ya.Object.defineProperties(c.prototype,{keySystem:{configurable:!0,enumerable:!0,get:function(){return this.uC.keySystem;}},m7a:{configurable:!0,enumerable:!0,get:function(){var f,d;f=this.keySystem;d=(0,g.Aaa)(this.uC);d && (f+="." + d);return f;}}});b.dLa=c;},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;q=a(0);c=a(12);k=a(734);g=a(37);f=a(43);d=a(735);h=a(371);m=a(737);l=a(181);n=a(738);p=a(68);r=a(739);b.config=new q.Nd(function(t){t(c.jd).Tf(function(){return function(){return pb._cad_global.config;};});t(g.Eha).to(k.AFa).ha();t(g.qn).to(k.mRa).ha();t(g.aU).to(k.lJa).ha();t(f.Dp).to(d.QHa).ha();t(h.KLa).to(m.JLa).ha();t(l.KHa).to(n.JHa).ha();t(p.Vu).to(r.gHa).ha();});},function(q,b,a){var f,d,h,m,l;function c(){this.wB={};this.xdb=0;}function k(n,p,r,t,w){this.debug=n;this.XB=p;this.s0=r;this.mg=t;this.xea=w;}function g(n,p,r){this.XB=n;this.s0=p;this.xea=r;}Object.defineProperty(b,"__esModule",{value:!0});b.lJa=b.mRa=b.AFa=void 0;q=a(2);f=a(0);d=a(117);h=a(7);m=a(147);l=a(370);a=a(37);g=q.__decorate([(0,f.X)(),q.__param(0,(0,f.u)(a.aU)),q.__param(1,(0,f.u)(m.z6)),q.__param(2,(0,f.u)(l.hka))],g);b.AFa=g;k=q.__decorate([(0,f.X)(),q.__param(0,(0,f.u)(d.bA)),q.__param(1,(0,f.u)(a.aU)),q.__param(2,(0,f.u)(m.z6)),q.__param(3,(0,f.u)(h.Ib)),q.__param(4,(0,f.u)(l.hka))],k);b.mRa=k;c.prototype.rVb=function(n){this.wB=Object.assign({},this.wB,n);this.xdb++;};Ya.Object.defineProperties(c.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.wB;}},Wea:{configurable:!0,enumerable:!0,get:function(){return this.xdb;}}});a=c;a=q.__decorate([(0,f.X)()],a);b.lJa=a;},function(q,b,a){var k,g,f,d,h,m,l,n;function c(p,r,t){p=d.Ef.call(this,p,void 0 === t?"GeneralConfigImpl":t) || this;p.Gh=r;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.QHa=b.zP=void 0;q=a(2);k=a(6);g=a(0);f=a(51);d=a(52);h=a(43);m=a(37);a=a(116);l={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.zP=function(p,r){return p.ncb(l[r] || r,h.gA);};na(c,d.Ef);Ya.Object.defineProperties(c.prototype,{zP:{configurable:!0,enumerable:!0,get:function(){return h.gA.Ypb;}},Kfb:{configurable:!0,enumerable:!0,get:function(){return (0,k.Nh)(8);}},hK:{configurable:!0,enumerable:!0,get:function(){return "";}},MO:{configurable:!0,enumerable:!0,get:function(){return "";}},o3:{configurable:!0,enumerable:!0,get:function(){return "";}},K8:{configurable:!0,enumerable:!0,get:function(){return !0;}},QZ:{configurable:!0,enumerable:!0,get:function(){return this.Gh.QZ;}},bJb:{configurable:!0,enumerable:!0,get:function(){return !1;}},we:{configurable:!0,enumerable:!0,get:function(){return {};}},xva:{configurable:!0,enumerable:!0,get:function(){return !1;}},Iu:{configurable:!0,enumerable:!0,get:function(){return !1;}},uY:{configurable:!0,enumerable:!0,get:function(){return !0;}},ZG:{configurable:!0,enumerable:!0,get:function(){return {__default_rule_key__:["idb","mem"]};}},DB:{configurable:!0,enumerable:!0,get:function(){return 0 <= [h.gA.BQa,h.gA.pJa].indexOf(this.zP);}}});n=c;q.__decorate([f.config(b.zP,"environment")],n.prototype,"zP",null);q.__decorate([f.config(f.ul,"storageTimeout")],n.prototype,"Kfb",null);q.__decorate([f.config(f.string,"groupName")],n.prototype,"hK",null);q.__decorate([f.config(f.string,"canaryGroupName",!0)],n.prototype,"MO",null);q.__decorate([f.config(f.string,"uiGroupName")],n.prototype,"o3",null);q.__decorate([f.config(f.Td,"applyIndexedDbOpenWorkaround")],n.prototype,"K8",null);q.__decorate([f.config(f.Td,"ignoreIdbOpenError")],n.prototype,"QZ",null);q.__decorate([f.config(f.Td,"executeStorageMigration")],n.prototype,"bJb",null);q.__decorate([f.config(f.object(),"browserInfo")],n.prototype,"we",null);q.__decorate([f.config(f.Td,"isTestAccount")],n.prototype,"xva",null);q.__decorate([f.config(f.Td,"useRangeHeader")],n.prototype,"Iu",null);q.__decorate([f.config(f.Td,"enableMilestoneEventList")],n.prototype,"uY",null);q.__decorate([f.config(f.object,"storageRules")],n.prototype,"ZG",null);n=q.__decorate([(0,g.X)(),q.__param(0,(0,g.u)(m.qn)),q.__param(1,(0,g.u)(a.bI)),q.__param(2,(0,g.u)(m.p4)),q.__param(2,(0,g.optional)())],n);b.QHa=n;},function(q,b){function a(c){this.value=c;}Object.defineProperty(b,"__esModule",{value:!0});b.rja=void 0;a.empty=function(){return a.of(void 0);};a.of=function(c){return new a(c);};a.prototype.or=function(c){return void 0 === this.value?c instanceof Function?c():c:this.value;};a.prototype.map=function(c){return void 0 === this.value?a.empty():a.of(c(this.value));};b.rja=a;},function(q,b,a){var k,g,f,d;function c(h,m){return f.Ef.call(this,h,void 0 === m?"NetworkMonitorConfigImpl":m) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.JLa=void 0;q=a(2);k=a(0);g=a(51);f=a(52);a=a(37);na(c,f.Ef);Ya.Object.defineProperties(c.prototype,{oib:{configurable:!0,enumerable:!0,get:function(){return !0;}}});d=c;q.__decorate([g.config(g.Td,"useNetworkMonitor")],d.prototype,"oib",null);d=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(a.qn)),q.__param(1,(0,k.u)(a.p4)),q.__param(1,(0,k.optional)())],d);b.JLa=d;},function(q,b,a){var k,g,f,d,h,m,l,n;function c(p,r,t,w){p=d.Ef.call(this,p,"FtlProbeConfigImpl") || this;p.wi=r;p.La=t;p.Gh=w;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.JHa=void 0;q=a(2);k=a(38);g=a(0);f=a(6);d=a(52);h=a(182);m=a(51);l=a(37);a=a(116);na(c,d.Ef);Ya.Object.defineProperties(c.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return this.Gh.aaa;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return "" + this.osa + (-1 === this.osa.indexOf("?")?"?":"&") + "monotonic=" + this.La.S9a + "&device=web";}},tfb:{configurable:!0,enumerable:!0,get:function(){return f.ib;}},hsa:{configurable:!0,enumerable:!0,get:function(){return "";}},osa:{configurable:!0,enumerable:!0,get:function(){return this.wi.endpoint + "/ftl/probe" + (this.hsa?"?force=" + this.hsa:"");}}});n=c;q.__decorate([m.config(m.Td,"ftlEnabled")],n.prototype,"enabled",null);q.__decorate([m.config(m.ul,"ftlStartDelay")],n.prototype,"tfb",null);q.__decorate([m.config(m.string,"ftlEndpointForceParam")],n.prototype,"hsa",null);q.__decorate([m.config(m.url,"ftlEndpoint")],n.prototype,"osa",null);n=q.__decorate([(0,g.X)(),q.__param(0,(0,g.u)(l.qn)),q.__param(1,(0,g.u)(h.c4)),q.__param(2,(0,g.u)(k.Wi)),q.__param(3,(0,g.u)(a.bI))],n);b.JHa=n;},function(q,b,a){var k,g,f,d,h,m;function c(l,n,p){l=g.Ef.call(this,l,void 0 === p?"EmeConfigImpl":p) || this;l.we=n;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.gHa=void 0;q=a(2);k=a(0);g=a(52);f=a(37);d=a(6);h=a(51);a=a(178);na(c,g.Ef);Ya.Object.defineProperties(c.prototype,{R5a:{configurable:!0,enumerable:!0,get:function(){return this.we.k6a || this.we.Lba || this.we.i_?!0:!1;}},UF:{configurable:!0,enumerable:!0,get:function(){return (0,d.Nh)(5);}},Dya:{configurable:!0,enumerable:!0,get:function(){return (0,d.Nh)(10);}},nY:{configurable:!0,enumerable:!0,get:function(){return "unsentDrmData";}},OY:{configurable:!0,enumerable:!0,get:function(){return !1;}},Jqa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Vw:{configurable:!0,enumerable:!0,get:function(){return !0;}},LVa:{configurable:!0,enumerable:!0,get:function(){return (0,d.Nh)(30);}},MVa:{configurable:!0,enumerable:!0,get:function(){return (0,d.Nh)(30);}},OVa:{configurable:!0,enumerable:!0,get:function(){return (0,d.Nh)(30);}},H8:{configurable:!0,enumerable:!0,get:function(){return (0,d.Nh)(30);}},PVa:{configurable:!0,enumerable:!0,get:function(){return (0,d.Nh)(30);}},PAa:{configurable:!0,enumerable:!0,get:function(){return "";}},pab:{configurable:!0,enumerable:!0,get:function(){return this.we.bC?!1:!0;}},qab:{configurable:!0,enumerable:!0,get:function(){return !1;}}});m=c;q.__decorate([h.config(h.Td,"initializeKeySystemAtStartup")],m.prototype,"R5a",null);q.__decorate([h.config(h.ul,"licenseRenewalRequestDelay")],m.prototype,"UF",null);q.__decorate([h.config(h.ul,"persistedReleaseDelay")],m.prototype,"Dya",null);q.__decorate([h.config(h.string,"drmPersistKey")],m.prototype,"nY",null);q.__decorate([h.config(h.Td,"forceLimitedDurationLicense")],m.prototype,"OY",null);q.__decorate([h.config(h.Td,"disableLicenseRenewal")],m.prototype,"Jqa",null);q.__decorate([h.config(h.Td,"prepareCadmium")],m.prototype,"Vw",null);q.__decorate([h.config(h.ul,"apiCloseTimeout")],m.prototype,"LVa",null);q.__decorate([h.config(h.ul,"apiCreateMediaKeysTimeout")],m.prototype,"MVa",null);q.__decorate([h.config(h.ul,"apiSetServerCertificateTimeout")],m.prototype,"OVa",null);q.__decorate([h.config(h.ul,"apiGenerateRequestTimeout")],m.prototype,"H8",null);q.__decorate([h.config(h.ul,"apiUpdateTimeout")],m.prototype,"PVa",null);q.__decorate([h.config(h.string,"serverCertificate")],m.prototype,"PAa",null);q.__decorate([h.config(h.Td,"outputRestrictedIsFatal")],m.prototype,"pab",null);q.__decorate([h.config(h.Td,"outputRestrictedIsFatalForUhd")],m.prototype,"qab",null);m=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(f.qn)),q.__param(1,(0,k.u)(a.AH)),q.__param(2,(0,k.u)(f.p4)),q.__param(2,(0,k.optional)())],m);b.gHa=m;},function(q,b,a){var c,k,g,f,d,h;Object.defineProperty(b,"__esModule",{value:!0});b.e0a=void 0;q=a(0);c=a(130);k=a(741);g=a(80);f=a(742);d=a(373);h=a(743);b.e0a=new q.Nd(function(m){m(c.HGa).to(k.GGa).ha();m(g.Mx).to(f.eLa).ha();m(d.iHa).to(h.hHa);});},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t,w,v;function c(u,x,y,z,A,B,D,C,F){var G;G=this;this.bd=x;this.IC=y;this.config=z;this.fw=A;this.SHb=B;this.LO=D;this.NQ=C;this.Xn=F;this.K5b=function(E,I){var K;G.Xn.mark(v.Ua.P4,E.wk.ja,"generate-challenge");K=!1;I.H3b(function(L){K || (K=!0,G.Xn.mark(v.Ua.O4,E.wk.ja,"generate-challenge"));G.ZJ(E,I,L).then(function(H){I.gVa(H);G.jAb(I);}).catch(function(H){return I.zxb(H);});});};this.log=u.Bb("DrmServices");this.fw().Ju && this.LO.mcb().then(function(){G.c1b();}).catch(function(E){G.log.error("Unable to load the persisted DRM data",E);});this.config.R5a && this.UE(C(),m.Zi.Ar).then(function(E){return E.close();});}Object.defineProperty(b,"__esModule",{value:!0});b.GGa=void 0;q=a(2);k=a(0);g=a(7);f=a(53);d=a(372);h=a(83);m=a(61);l=a(68);n=a(226);p=a(225);r=a(373);t=a(12);w=a(146);v=a(64);c.prototype.VKb=function(u,x){return this.UE(x,u.type,u.context).then(function(y){return y.YKb(u.initData).then(function(z){return [y,{Ro:y.gw(),data:z.fl}];});});};c.prototype.Jh=function(u,x){var y;y=this;this.log.info("Requesting challenges",this.m3a(u,u.type));return this.UE(x,u.type,u.context).then(function(z){y.Q9a(u,z);return z.ZKb(u.initData).then(function(){return z;});});};c.prototype.Q9a=function(u,x){x.O3b(u.wk);this.K5b(u,x);};c.prototype.release=function(u,x){var y;y=this;this.log.info("Releasing server license",this.f4a(u));return this.PNb(u).then(function(){var z;z=Object.assign({active:!1,Ve:[]},u.wk);y.LO.G1(z);x.p1b();return u;});};c.prototype.m3a=function(u,x){return {movieId:u.wk.L,xid:u.wk.ja,type:(0,m.cwa)(x)};};c.prototype.f4a=function(u){return {movieId:u.wk?u.wk.L:void 0,xid:u.wk?u.wk.ja:void 0,keySessionId:u.KB()};};c.prototype.ZJ=function(u,x,y){this.log.info("Sending license request",this.m3a(u,y.Bg));return this.IC.Jh({ja:u.wk.ja,lj:u.wk.lj,j$:[u.wk.Bm],fl:[{sessionId:x.KB() || "session",data:y.fl}],Bg:y.Bg,Ro:x.gw(),EXa:y.EXa,rl:u.wk.rl});};c.prototype.PNb=function(u){this.log.info("Sending release request",this.f4a(u));return this.IC.release({ja:u.wk.ja,Ve:u.Ve});};c.prototype.UE=function(u,x,y){return this.SHb.create().then(function(z){return z.createSession(u,x,y).then(function(){return z;});});};c.prototype.b1b=function(u){var x;x=this;return this.IC.release({ja:u.ja,Ve:u.Ve}).catch(function(y){x.log.error("Unable to send release data to the server",y);});};c.prototype.c1b=function(){var u;u=this;this.bd.Al(this.config.Dya,function(){u.log.trace("Removing cached sessions",{"count:":u.LO.k$.length});u.LO.k$.filter(function(x){return !x.active;}).reduce(function(x,y){return x.then(function(){return u.b1b(y);}).then(function(){return u.LO.G1(y);});},Promise.resolve(void 0));});};c.prototype.jAb=function(u){var x;if(u.KB() && u.wk){x=new p.H4();x.Ve=u.Ve;x.ja=u.wk.ja;x.L=u.wk.L;this.LO.cVa(x);}};a=c;a=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(g.Ib)),q.__param(1,(0,k.u)(f.Rk)),q.__param(2,(0,k.u)(d.FGa)),q.__param(3,(0,k.u)(l.Vu)),q.__param(4,(0,k.u)(t.jd)),q.__param(5,(0,k.u)(r.iHa)),q.__param(6,(0,k.u)(n.Dha)),q.__param(7,(0,k.u)(w.mU)),q.__param(8,(0,k.u)(h.pU))],a);b.GGa=a;},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t,w,v,u;function c(x,y,z,A,B,D){this.au=x;this.Dc=y;this.config=z;this.YVb=A;this.pY=B;this.qY=D;this.log=this.au.Bb("MediaKeySystemAccessServices");}Object.defineProperty(b,"__esModule",{value:!0});b.eLa=void 0;q=a(2);k=a(0);g=a(3);f=a(7);d=a(103);h=a(128);m=a(36);l=a(12);n=a(101);p=a(50);r=a(363);t=a(58);w=a(369);v=a(229);a=a(227);c.prototype.LB=function(){this.promise || (this.promise=this.x2b());return this.promise;};c.prototype.UEb=function(x,y){var z;z=this;return new Promise(function(A,B){var D;D=n.Kb.eZ(x);z.qY.create(D).M1b(x,[y]).then(function(C){z.log.trace("Created the media keys system access",{keySystem:x,supportedconfig:C.getConfiguration?JSON.stringify(C.getConfiguration()):void 0});z.keySystem=C.keySystem;A(z.YVb.create(C,D));}).catch(function(C){z.log.warn("Unable to create the media key system access object",{keySystem:x,error:C.message});B(new d.Ph(g.W.RGa,g.S.jn,void 0,"Unable to create media keys system access. " + C.message,C));});});};c.prototype.hMb=function(){var x;x=this.config().l7a || [this.config().Sn];if(1 < x.length)return (x=x.map(function(y){return n.Kb.Qsa(n.Kb.eZ(y));}),1 === new Set(x).size?Promise.resolve(x[0]):this.LB().then(function(y){return y.gw();}).then(function(y){return n.Kb.Qsa(y);}));x=n.Kb.eZ(x[0]);return Promise.resolve(n.Kb.Qsa(x));};c.prototype.aDa=function(x){var y,z,A,B;y=this;z=x.gw();A=x.fZa();B=x.eZa();return x.createMediaKeys().then(function(D){A.createSession(D,p.TEMPORARY);return A.setServerCertificate(D,B.kaa());}).then(function(){return A.generateRequest(p.Cx,y.Ysa(z));}).then(function(){return A.close();}).then(function(){return x;}).catch(function(D){y.log.error("validateKeySystemAccess failed",D);return Promise.reject(D);});};c.prototype.Ysa=function(x){switch(x){case h.hn.oF:x=r.FHa;break;case h.hn.FC:x=r.BNa;break;default:x=r.CRa;}return x.map(this.Dc.decode);};c.prototype.x2b=function(){var y,z,A,B;function x(D){var C,F,G,E;C=D.config;D=n.Kb.anb.includes(D.keySystem) || p.DIa.includes(null !== (E=null === (G=null === (F=C.videoCapabilities) || void 0 === F?void 0:F[0]) || void 0 === G?void 0:G.robustness) && void 0 !== E?E:"");return y.config().n0a || !D;}y=this;try{z=(this.config().l7a || [this.config().Sn]).map(function(D){var C;C=n.Kb.eZ(D);return y.pY.create(C).xta().map(function(F){return {keySystem:D,config:F};});});A=(0,t.flatten)(z).filter(x);B=A.map(function(D,C){var F,G;F=D.keySystem;G=D.config;return function(){var E,I;E=C === A.length - 1;I=y.config().aDa && !E;return y.UEb(F,G).then(function(K){return I?y.aDa(K):Promise.resolve(K);});};});return this.y2b(B);}catch(D){return Promise.reject(D);}};c.prototype.y2b=function(x){return x.reduce(function(y,z){return y.then(function(A){return Promise.resolve(A);}).catch(function(){return z();});},Promise.reject(Error("keySystem missing")));};Ya.Object.defineProperties(c.prototype,{k7a:{configurable:!0,enumerable:!0,get:function(){return this.keySystem;}}});u=c;u=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(f.Ib)),q.__param(1,(0,k.u)(m.Vi)),q.__param(2,(0,k.u)(l.jd)),q.__param(3,(0,k.u)(w.cLa)),q.__param(4,(0,k.u)(v.Uha)),q.__param(5,(0,k.u)(a.Zha))],u);b.eLa=u;},function(q,b,a){var k,g,f,d,h,m,l,n;function c(p,r,t,w,v,u){this.au=p;this.Ma=r;this.Dc=t;this.config=w;this.ku=v;this.Kq=u;}Object.defineProperty(b,"__esModule",{value:!0});b.hHa=void 0;q=a(2);k=a(0);g=a(7);f=a(20);d=a(36);h=a(68);m=a(69);l=a(367);a=a(80);c.prototype.create=function(){var p;p=this;return this.Kq.LB().then(function(r){return new l.jHa(p.au,p.Ma,p.Dc,p.config,p.ku,r);});};n=c;n=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(g.Ib)),q.__param(1,(0,k.u)(f.Jd)),q.__param(2,(0,k.u)(d.Vi)),q.__param(3,(0,k.u)(h.Vu)),q.__param(4,(0,k.u)(m.gI)),q.__param(5,(0,k.u)(a.Mx))],n);b.hHa=n;},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r,t,w,v,u,x,y,z,A,B,D,C,F,G,E,I,K,L,H,P,N,J,M;Object.defineProperty(b,"__esModule",{value:!0});b.O7a=void 0;c=a(745);k=a(770);g=a(779);f=a(782);d=a(1165);h=a(1198);m=a(1236);l=a(1239);n=a(1251);p=a(1260);r=a(1264);t=a(1266);w=a(1295);v=a(1297);u=a(1301);x=a(1316);y=a(1324);z=a(1330);A=a(1333);B=a(1340);D=a(224);C=a(1346);F=a(1353);G=a(1367);E=a(1373);I=a(1375);K=a(1382);L=a(1411);H=a(1431);P=a(1435);N=a(1439);J=a(1453);M=a(1456);b.O7a=function(O){O.load(c.pB,m.$L,k.d8a,l.Qo,g.P9a,f.P,d.Lib,h.h5a,n.storage,p.DO,r.lXa,t.z8a,w.fG,v.jl,u.c8a,x.e$a,y.V1a,z.Xbb,A.iL,B.Y_a,D.d0a,C.Qe,F.Zd,G.Ra,E.W9a,I.Oab,K.j,L.oYa,H.transports,P.Jm,N.Mh,J.iWa,M.pa);};},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r,t,w,v,u,x,y,z,A,B,D,C,F,G,E,I,K,L,H,P,N,J,M,O,Q,T,V,da,pa,xa,ya,sa,X,S,R,W,ia,za,Ra,Fa,$a,Ta,Xa,eb,rb,U,fa,la,wa,Ka,ab,ob,mb,Gb,Jb,Qb;Object.defineProperty(b,"__esModule",{value:!0});b.pB=void 0;q=a(0);c=a(42);k=a(38);g=a(53);f=a(84);d=a(148);h=a(746);m=a(747);l=a(748);n=a(749);p=a(73);r=a(79);t=a(36);w=a(35);v=a(31);u=a(118);x=a(69);y=a(375);z=a(750);A=a(376);B=a(377);D=a(751);C=a(752);F=a(218);G=a(378);E=a(753);I=a(223);K=a(131);L=a(754);H=a(20);P=a(379);N=a(755);J=a(756);M=a(117);O=a(757);Q=a(7);T=a(374);V=a(758);da=a(83);pa=a(759);xa=a(380);ya=a(760);sa=a(761);X=a(119);S=a(11);R=a(762);W=a(382);ia=a(383);za=a(763);Ra=a(384);Fa=a(12);$a=a(49);Ta=a(149);Xa=a(385);eb=a(178);rb=a(764);U=a(386);fa=a(387);la=a(232);wa=a(765);Ka=a(388);ab=a(766);ob=a(233);mb=a(767);Gb=a(768);Jb=a(231);Qb=a(769);b.pB=new q.Nd(function(Fb){Fb(c.c6).fH(function(){return {};}).ha();Fb(c.OH).$m(JSON);Fb(c.DRa).$m(pb);Fb(d.uQa).$m(Math);Fb(c.UJa).$m(S.Q5);Fb(c.Kja).$m(S.Ox);Fb(c.hRa).$m(S.XH);Fb(c.$Fa).$m(Date);Fb(c.WM).$m(S.$e);Fb(c.xob).$m(S.HD);Fb(T.xFa).to(V.wFa).ha();Fb(H.Jd).to(L.LDa).ha();Fb(k.Wi).to(n.yFa).ha();Fb(g.Rk).to(h.yPa).ha();Fb(f.kA).to(m.cJa).ha();Fb(x.gI).to(C.QOa).ha();Fb(d.o6).to(l.YOa).ha();Fb(Xa.eja).to(Gb.XKa).ha();Fb(M.bA).to(J.fGa).ha();Fb(M.dGa).to(O.cGa).ha();Fb(p.gv).to(z.iRa).ha();Fb(r.Zz).to(A.nha).ha();Fb(t.Vi).to(B.oha).ha();Fb(w.si).to(D.jRa).ha();Fb(v.Wg).$m(F.NH);Fb(U.IT).to(fa.wHa).ha();Fb(u.dia).to(G.El).Bua();Fb(u.E4).to(G.El).ha();Fb(u.qGa).to(G.El).ha();Fb(u.gia).to(G.El).ha();Fb(I.Cka).to(K.jI).ha();Fb(P.NFa).to(N.MFa).ha();Fb(da.iN).to(pa.Hka).ha();Fb(da.pU).to(pa.Hka).ha();Fb("Factory<LoggerFactory>").Sgb(Q.Ib);Fb(xa.Rha).to(ya.gGa).ha();Fb(X.gN).Tf(function(Rb){return function(bc){return new sa.DQa(Rb.hb.get(H.Jd),Rb.hb.get(g.Rk),bc);};});Fb(Ka.aGa).Tf(function(Rb){return function(bc){return new ab.bGa(Rb.hb.get(g.Rk),bc);};});Fb(R.fka).T6b(W.eka);Fb(R.Wpb).Tf(function(Rb){var bc;bc=Rb.hb.get(R.fka);return function(){return new bc(!1);};});Fb(R.Xpb).Tf(function(Rb){var bc;bc=Rb.hb.get(R.fka);return function(){return new bc(!0);};});Fb(ia.eRa).Tf(function(){return function(Rb){return new za.fRa(Rb);};});Fb(Ta.AU).Tf(function(Rb){return function(bc,ad,Qd){return new Ra.cOa(Rb.hb.get(M.bA),Rb.hb.get(Fa.jd),Rb.hb.get($a.Kp),Rb.hb.get(Xa.eja),bc,ad,Qd);};});Fb(y.$La).Tf(function(){return function(Rb){return new E.aMa(Rb);};});Fb(eb.AH).to(rb.MEa);Fb(Jb.Lka).to(Qb.gRa).ha();Fb(la.C6).Tf(function(Rb){return function(bc,ad){return new wa.OQa(Rb.hb.get(g.Rk),bc,ad);};});Fb(ob.pHa).to(mb.oHa).ha();});},function(q,b,a){var g,f,d,h;function c(m){this.yS=m;(0,f.Iq)(this,"timers");}function k(m,l){this.yS=m;this.RAb=l;}Object.defineProperty(b,"__esModule",{value:!0});b.yPa=void 0;q=a(2);g=a(0);f=a(58);d=a(42);h=a(6);k.prototype.cancel=function(){this.RAb(this.yS);};c.prototype.Vm=function(m){return this.Al(h.ib,m);};c.prototype.Al=function(m,l){var n;n=this.yS.setTimeout(l,m.ia(h.sa));return new k(this.yS,function(p){p.clearTimeout(n);});};c.prototype.bfa=function(m,l){var n;n=this.yS.setInterval(l,m.ia(h.sa));return new k(this.yS,function(p){p.clearInterval(n);});};a=c;a=q.__decorate([(0,g.X)(),q.__param(0,(0,g.u)(d.DRa))],a);b.yPa=a;},function(q,b,a){var k,g,f,d,h;function c(m,l){this.La=m;this.random=l;}Object.defineProperty(b,"__esModule",{value:!0});b.cJa=void 0;q=a(2);g=a(0);f=a(6);d=a(38);a=a(148);c.prototype.uB=function(){return this.La.Nf.ia(f.Mp) * k.eFa + Math.floor(this.random.random() * k.eFa);};h=k=c;h.eFa=1E8;h=k=q.__decorate([(0,g.X)(),q.__param(0,(0,g.u)(d.Wi)),q.__param(1,(0,g.u)(a.o6))],h);b.cJa=h;},function(q,b,a){var k,g;function c(f){this.j6b=f;}Object.defineProperty(b,"__esModule",{value:!0});b.YOa=void 0;q=a(2);k=a(0);a=a(148);c.prototype.random=function(){return this.j6b.random();};c.prototype.gcb=function(f,d){if("number" !== typeof f)(d=f.end,f=f.start);else if("undefined" === typeof d)throw Error("max must be provided for randomInteger API");return Math.round(f + this.random() * (d - f));};g=c;g=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(a.uQa))],g);b.YOa=g;},function(q,b,a){var k,g,f,d,h,m,l;function c(n,p,r,t){var w;w=this;this.config=n;this.MFb=p;this.dc=r;this.performance=t;this.SXb=function(v){w.ceb=v.Ia(w.Nf);};(0,k.Iq)(this,"date");(0,k.Iq)(this,"performance");this.nyb=void 0 !== this.performance && void 0 !== this.performance.timing && void 0 !== this.performance.now;this.ceb=g.ib;this.dc.addListener(l.Dia.feb,this.SXb);}Object.defineProperty(b,"__esModule",{value:!0});b.yFa=void 0;q=a(2);k=a(58);g=a(6);f=a(0);d=a(42);h=a(374);m=a(118);l=a(18);Ya.Object.defineProperties(c.prototype,{Nf:{configurable:!0,enumerable:!0,get:function(){return this.S9a?(0,g.timestamp)(this.performance.timing.navigationStart + this.performance.now()):(0,g.Vc)(this.MFb.now());}},k2:{configurable:!0,enumerable:!0,get:function(){return this.Nf.add(this.ceb);}},S9a:{configurable:!0,enumerable:!0,get:function(){return this.config.rib && this.nyb;}}});a=c;a=q.__decorate([(0,f.X)(),q.__param(0,(0,f.u)(h.xFa)),q.__param(1,(0,f.u)(d.$Fa)),q.__param(2,(0,f.u)(m.gia)),q.__param(3,(0,f.u)(d.Kja)),q.__param(3,(0,f.optional)())],a);b.yFa=a;},function(q,b,a){var k,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.iRa=void 0;q=a(2);a=a(0);c.prototype.encode=function(f){return k.dra(f);};c.prototype.decode=function(f){return k.tqa(f);};c.dra=function(f){if(!f)throw new TypeError("Invalid byte array");for(var d=0,h,m=f.length,l="";d < m;){h=f[d++];if(!(0 <= h && 255 >= h))throw Error("bad utf8");if(h & 128)if(192 === (h & 224))h=((h & 31) << 6) + (f[d++] & 63);else if(224 === (h & 240))h=((h & 15) << 12) + ((f[d++] & 63) << 6) + (f[d++] & 63);else throw Error("unsupported utf8 character");l+=String.fromCharCode(h);}return l;};c.tqa=function(f){var d,h,m,l,n;d=f.length;h=0;l=0;if(!(0 <= d))throw Error("bad string");for(m=d;m--;){n=f.charCodeAt(m);128 > n?h++:h=2048 > n?h + 2:h + 3;}h=new Uint8Array(h);for(m=0;m < d;m++){n=f.charCodeAt(m);128 > n?h[l++]=n:(2048 > n?h[l++]=192 | n >>> 6:(h[l++]=224 | n >>> 12,h[l++]=128 | n >>> 6 & 63),h[l++]=128 | n & 63);}return h;};g=k=c;g=k=q.__decorate([(0,a.X)()],g);b.iRa=g;},function(q,b,a){var k,g,f,d;function c(h,m){this.is=h;this.Zj=m;}Object.defineProperty(b,"__esModule",{value:!0});b.jRa=void 0;q=a(2);k=a(0);a(3);g=a(31);f=a(79);d=a(11);c.prototype.RK=function(h,m,l){var n,p,r,t;n=this;if(m)if(l){p=l.H_;r=l.prefix;t=l.Lda;this.nF(m,function(w,v){if(!t || n.is.jh(v))h[(r || "") + (p?w.toLowerCase():w)]=v;});}else this.nF(m,function(w,v){h[w]=v;});return h;};c.prototype.nF=function(h,m){for(var l in h){h.hasOwnProperty(l) && m(l,h[l]);}};c.prototype.PE=function(h,m){if(h.length == m.length){for(var l=h.length;l--;){if(h[l] != m[l])return !1;}return !0;}return !1;};c.prototype.LYa=function(h,m){if(h.length != m.length)return !1;h.sort();m.sort();for(var l=h.length;l--;){if(h[l] !== m[l])return !1;}return !0;};c.prototype.hf=function(h){var m,l,n;if(h){m=h.stack;l=h.number;n=h.message;n || (n="" + h);m?(h="" + m,0 !== h.indexOf(n) && (h=n + "\n" + h)):h=n;l && (h+="\nnumber:" + l);return h;}};c.prototype.getFunctionName=function(h){return (h=(/function (.{1,})\(/).exec(h.toString())) && 1 < h.length?h[1]:"";};c.prototype.Isa=function(h){return this.getFunctionName(h.constructor);};c.prototype.Rxa=function(h){var m,l;m=this;l="";this.is.AE(h) || this.is.JVa(h)?l=Array.prototype.reduce.call(h,function(n,p){return n + (32 <= p && 128 > p?String.fromCharCode(p):".");},""):this.is.uv(h)?l=h:this.nF(h,function(n,p){l+=(l?", ":"") + "{" + n + ": " + (m.is.q8(p)?m.getFunctionName(p) || "function":p) + "}";});return "[" + this.Isa(h) + " " + l + "]";};c.prototype.createElement=function(h,m,l,n){var p;p=d.Qh.createElement(h);m && (p.style.cssText=m);l && (p.innerHTML=l);n && this.nF(n,function(r,t){p.setAttribute(r,t);});return p;};c.prototype.IJb=function(h,m){return function(l){return l[h] === m;};};c.prototype.P0=function(h){var m;m={};(h || "").split("&").forEach(function(l){var n,p;l=l.trim();n=l.indexOf("=");if(0 <= n){p=decodeURIComponent(l.substr(0,n)).toLowerCase();m[p]=decodeURIComponent(l.substr(n + 1));}else m[l.toLowerCase()]=void 0;});return m;};a=c;a=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(g.Wg)),q.__param(1,(0,k.u)(f.Zz))],a);b.jRa=a;},function(q,b,a){var k,g,f;function c(d){this.bd=d;}Object.defineProperty(b,"__esModule",{value:!0});b.QOa=void 0;q=a(2);k=a(0);g=a(53);f=a(69);c.prototype.ru=function(d,h){var m;m=this;return new Promise(function(l,n){var p;p=m.bd.Al(d,function(){n(new f.ft(d));});h.then(function(r){l(r);p.cancel();}).catch(function(r){n(r);p.cancel();});});};a=c;a=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(g.Rk))],a);b.QOa=a;},function(q,b,a){var k;function c(g){this.eLb=g;this.Yaa=!1;this.nba=this.Dg=this.tS=0;this.RZ=!1;this.oba=0;}Object.defineProperty(b,"__esModule",{value:!0});b.aMa=void 0;k=a(14);c.prototype.zna=function(g){g < this.tS && (this.Dg+=this.tS);this.tS=g;this.Yaa=!0;};c.prototype.RLb=function(){if(this.Yaa)return this.RZ?this.oba - this.nba:this.Dg + this.tS - this.nba;};c.prototype.refresh=function(){var g;g=this.eLb();(0,k.Oa)(g) && this.zna(g);};c.prototype.$4b=function(){this.RZ || (this.Yaa && (this.oba=this.Dg + this.tS),this.RZ=!0);};c.prototype.p5b=function(){this.RZ && (this.Yaa && (this.nba+=this.Dg + this.tS - this.oba),this.oba=0,this.RZ=!1);};b.aMa=c;},function(q,b,a){var k,g,f,d;function c(h,m){this.La=h;this.baa=this.La.Nf.ia(f.sa) - 1;this.PTb=this.hca=0;this.id="" + m.uB();}Object.defineProperty(b,"__esModule",{value:!0});b.LDa=void 0;q=a(2);k=a(0);g=a(38);f=a(6);a=a(84);c.prototype.ec=function(){var h,m;h=this.La.Nf.ia(f.sa) - this.baa;if(h < this.hca){m=this.hca + 1;this.baa-=m - h;h=m;}this.hca=h;return (0,f.Vc)(this.hca);};c.prototype.VMb=function(){return this.PTb++;};Ya.Object.defineProperties(c.prototype,{fC:{configurable:!0,enumerable:!0,get:function(){return (0,f.Vc)(this.baa);}}});d=c;d=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(g.Wi)),q.__param(1,(0,k.u)(a.kA))],d);b.LDa=d;},function(q,b,a){var k,g,f,d;function c(h,m){this.is=h;this.Qe=m;}Object.defineProperty(b,"__esModule",{value:!0});b.MFa=void 0;q=a(2);g=a(0);f=a(31);a=a(35);c.prototype.encode=function(h){var m,l;m=this;l="";this.Qe.nF(h,function(n,p){n=m.x0a(n) + "=" + m.x0a(p);l=l?l + ("," + n):n;});return l;};c.prototype.x0a=function(h){return this.is.FJ(h)?this.is.Fo(h)?"" + h:this.is.uv(h)?(h=h.replace(k.Kza,this.Jwa.bind(this)),!k.m0b.test(h) && k.lWb.test(h) && (h='"' + h + '"'),h):this.is.o8(h)?"" + h:this.is.ina(h)?"NaN":"":"";};c.prototype.Jwa=function(h){return k.map[h];};d=k=c;d.map={'"':'""',"\r":"","\n":" "};d.Kza=/(?!^.+)["\r\n](?=.+$)/g;d.m0b=/["].*["]/g;d.lWb=/[", ]/;d=k=q.__decorate([(0,g.X)(),q.__param(0,(0,g.u)(f.Wg)),q.__param(1,(0,g.u)(a.si))],d);b.MFa=d;},function(q,b,a){var k,g,f,d;function c(h,m,l){this.config=h;this.Mb=m;this.Ha=l.Bb("General");}Object.defineProperty(b,"__esModule",{value:!0});b.fGa=void 0;q=a(2);k=a(0);g=a(31);f=a(117);a=a(7);c.prototype.assert=function(){};c.prototype.Hyb=function(h,m){this.assert(this.Mb.FJ(h),m);};c.prototype.Iyb=function(h,m){this.assert(this.Mb.jh(h),m);};c.prototype.S8=function(h,m){this.assert(this.Mb.uv(h),m);};c.prototype.Oyb=function(h,m){this.assert(this.Mb.Go(h),m);};c.prototype.Myb=function(h,m){this.assert(this.Mb.uv(h) || null === h || void 0 === h,m);};c.prototype.aoa=function(h,m){this.assert(this.Mb.Fo(h),m);};c.prototype.Kyb=function(h,m){this.assert(this.Mb.Pna(h),m);};c.prototype.Nyb=function(h,m){this.assert(this.Mb.zW(h),m);};c.prototype.Lyb=function(h,m){this.assert(this.Mb.mW(h),m);};c.prototype.Gyb=function(h,m){this.assert(this.Mb.o8(h),m);};c.prototype.Jyb=function(h,m){this.assert(this.Mb.q8(h),m);};c.prototype.cRb=function(){this.assert(!1,"invalid operation, this method should not be called");};d=c;d=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(f.dGa)),q.__param(1,(0,k.u)(g.Wg)),q.__param(2,(0,k.u)(a.Ib))],d);b.fGa=d;},function(q,b,a){var k,g,f,d;function c(h){h=g.nT.call(this,h,"DebugConfigImpl") || this;h.Cfc=function(){debugger;};return h;}Object.defineProperty(b,"__esModule",{value:!0});b.cGa=void 0;q=a(2);k=a(51);g=a(52);f=a(0);a=a(37);na(c,g.nT);Ya.Object.defineProperties(c.prototype,{Uzb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;q.__decorate([k.config(k.Td,"breakOnError")],d.prototype,"Uzb",null);d=q.__decorate([(0,f.X)(),q.__param(0,(0,f.u)(a.Eha))],d);b.cGa=d;},function(q,b,a){var k,g,f,d;function c(h){return g.nT.call(this,h,"ClockConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.wFa=void 0;q=a(2);k=a(51);g=a(52);f=a(0);a=a(37);na(c,g.nT);Ya.Object.defineProperties(c.prototype,{rib:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;q.__decorate([k.config(k.Td,"usePerformanceApi")],d.prototype,"rib",null);d=q.__decorate([(0,f.X)(),q.__param(0,(0,f.u)(a.Eha))],d);b.wFa=d;},function(q,b,a){var k,g,f,d;function c(h,m){this.Ma=h;this.entries=new Set();this.Ha=m.Bb("TimingApi");}Object.defineProperty(b,"__esModule",{value:!0});b.Hka=void 0;q=a(2);k=a(0);g=a(20);f=a(6);a=a(7);c.prototype.mark=function(h,m,l){h={name:h,Du:this.Ma.ec()};m && (h.ja=m);l && (h.jg=l);this.entries.add(h);return h;};c.prototype.cta=function(){var h;h=[];this.entries.forEach(function(m){return h.push(m);});return h;};c.prototype.s3a=function(h){return this.cta().filter(function(m){return m.ja === h;});};c.prototype.YMb=function(){var h;h={};try{h=this.cta().filter(function(m){return !m.ja;}).reduce(function(m,l){m[l.name]=l.Du.ia(f.sa);return m;},{});}catch(m){this.Ha.error(" getMapOfCommonMarks exception",m);}return h;};c.prototype.Ocb=function(h){var m;m=this;this.cta().forEach(function(l){l.ja === h && m.entries.delete(l);});};d=c;d=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(g.Jd)),q.__param(1,(0,k.u)(a.Ib))],d);b.Hka=d;},function(q,b,a){var k,g,f,d,h,m,l,n,p;function c(r,t){this.Ma=r;this.config=t;}Object.defineProperty(b,"__esModule",{value:!0});b.gGa=void 0;q=a(2);g=a(0);f=a(20);d=a(41);h=a(3);m=a(18);l=a(6);n=a(11);a=a(381);c.prototype.v_a=function(r){var t,w,v,u,x,y,z,A,B,D;t=this;u=r.mediaTime.value;x=r.zt.value;y=r.Ob.value;z=r.state.value;A={segmentId:r.qta(),mediaTime:u,segmentTime:r.wF(),bufferingState:k.$zb[x],presentingState:k.z_b[y],playbackState:k.wZb[z],mseBuffersBusy:this.fOb(r),intBuffersBusy:this.EMb(r),tabVisible:this.k6b(),decodedFrameCount:this.gGb(r),videoElementInDom:this.f9b(r),lastVideoSync:this.Ma.ec().Ia((0,l.Vc)(r.S2)).ia(l.sa)};B=y === m.zb.tg?r.ob.ei?this.config.jab:this.config.iab:this.config.M9a;if(x !== m.eg.Re){if((x=h.S.llb,this.QWa(A.mseBuffersBusy,A.intBuffersBusy)))D=k.vEa;}else (y !== m.zb.$c?x=h.S.nlb:(x=h.S.mlb,(y=r.ng) && 0 === y.paa() && (D=k.frb)),(y=r.ng) && y.ic.sourceBuffers.forEach(function(C){var F,G;F=k.Qd[C.mediaType];A[F + "Ranges"]=C.iaa();try{G=C.buffered();}catch(E){G=void 0;}G && 0 !== G.length?(C=1E3 * G.end(0) - u,A[F + "Undecoded"]=C,1 < G.length && (D=k.ckb),u < 1E3 * G.start(0) || u > 1E3 * G.end(0)?D=k.dkb:C < B.ia(l.sa)?D=k.ekb:t.QWa(A.mseBuffersBusy,A.intBuffersBusy) && (D=k.vEa)):(A[F + "Undecoded"]=0,D=k.bkb);}));y=r.Zcb.l4a();z=u === (null === (w=y.repositionTrace) || void 0 === w?void 0:w[0].newMediaTime);A.lastRepositionCausedTimeout=z;A.trackChangeInProgress=null === (v=r.Ra) || void 0 === v?void 0:v.hM;Object.assign(A,y);r="";try{r=JSON.stringify(A);}catch(C){r="Cannot stringify details: " + C;}return new d.Ad(h.W.lMa,x,D,void 0,void 0,void 0,r,void 0);};c.prototype.fOb=function(r){var t;if(r.ic){t={};r.ic.sourceBuffers.forEach(function(w){t[0 === w.type?"audio":"video"]={updating:w.updating()};});return t;}};c.prototype.EMb=function(r){var t;if(r.ic){t={};r.ic.sourceBuffers.forEach(function(w){t[0 === w.type?"audio":"video"]={updating:w.Hi()};});return t;}};c.prototype.k6b=function(){return !n.Qh.hidden;};c.prototype.gGb=function(r){return (r=r.ng) && (r=r.ic.ca) && void 0 !== r.webkitDecodedFrameCount?r.webkitDecodedFrameCount:NaN;};c.prototype.f9b=function(r){if(r=r.ng)if(r=r.ic.ca)return n.Qh.body.contains(r);return !1;};c.prototype.QWa=function(r,t){var w,v,u,x;return !((null === (w=r.audio) || void 0 === w?void 0:w.updating) === (null === (v=t.audio) || void 0 === v?void 0:v.updating) && (null === (u=r.video) || void 0 === u?void 0:u.updating) === (null === (x=t.video) || void 0 === x?void 0:x.updating));};p=k=c;p.bkb="1";p.ckb="2";p.dkb="3";p.vEa="4";p.ekb="5";p.frb="6";p.Qd=["Audio","Video"];p.$zb=["","NORMAL","BUFFERING","STALLED"];p.z_b=["","WAITING","PLAYING ","PAUSED","ENDED"];p.wZb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];p=k=q.__decorate([(0,g.X)(),q.__param(0,(0,g.u)(f.Jd)),q.__param(1,(0,g.u)(a.kja))],p);b.gGa=p;},function(q,b,a){var k,g,f,d;function c(h,m,l){var n;n=this;this.Jg=h;this.bd=m;this.B9=l;this.fR=function(p){n.Dk=void 0;n.u7b(p || n.B9);};this.o7a=(0,f.Vc)(-this.B9.ia(f.sa));}Object.defineProperty(b,"__esModule",{value:!0});b.DQa=void 0;q=a(2);k=a(0);g=a(20);f=a(6);a=a(53);c.prototype.Vm=function(h){this.wAa=h;this.Dk=this.Dk || this.wg(this.fR);};c.prototype.Ei=function(){this.Dk && this.Dk.cancel();this.Dk=void 0;};c.prototype.u7b=function(h){var m,l;m=this.Jg.ec();if(this.wAa){l=h.Ia(m.Ia(this.o7a));0 >= l.zm(f.ib)?(h=this.wAa,this.wAa=void 0,this.o7a=m,h()):this.Dk=this.Dk || this.bd.Al(l,this.fR.bind(this,h));}};c.prototype.wg=function(h){return this.bd.Al(f.ib,h);};d=c;d=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(g.Jd)),q.__param(1,(0,k.u)(a.Rk))],d);b.DQa=d;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.fka="PrioritizedSetOfListsSymbol";b.Wpb="PrioritizedSetOfListsFactorySymbol";b.Xpb="PrioritizedSetOfSetsFactorySymbol";},function(q,b){function a(){this.searchParams={};}function c(k){this.zj=k;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.fRa=void 0;c.prototype.toString=function(){return this.href;};Ya.Object.defineProperties(c.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return "" + this.zj + this.searchParams.toString();}}});b.fRa=c;a.prototype.get=function(k){return this.searchParams[k];};a.prototype.set=function(k,g){this.searchParams[k]=g;};a.prototype.toString=function(){return Object.entries(this.searchParams).reduce(function(k,g,f){var d;d=ra(g);g=d.next().value;d=d.next().value;return "" + k + (0 == f?"?":"&") + g + "=" + d;},"");};},function(q,b,a){var k,g,f,d,h,m;function c(l,n,p){this.userAgentData=p;this.we=this.lJb(l,n.data.browserInfo);}Object.defineProperty(b,"__esModule",{value:!0});b.nRa=b.MEa=void 0;q=a(2);k=a(0);g=a(12);f=a(37);d=a(42);a=a(231);c.prototype.Naa=function(l,n){var p;if(n=this.FOb(n))switch(l){case m.lC:p=0 < n.length?Number(n[0]):0;break;case m.SQ:p=1 < n.length?Number(n[1]):0;break;case m.kR:p=2 < n.length?Number(n[2]):0;break;case m.Wea:p=3 < n.length?Number(n[3]):0;}return void 0 === p || isNaN(p)?0:p;};c.prototype.FOb=function(l){return null === l || void 0 === l?void 0:l.split(".");};c.prototype.tK=function(l){return this.we.name === l;};c.prototype.vK=function(l){return this.we.Nda.name === l;};c.prototype.ARb=function(l){return this.we.iPb === l;};c.prototype.lJb=function(l,n){return Object.assign(Object.assign({iPb:this.nJb(l,n)},this.kJb(l,n)),{Nda:this.oJb(l,n)});};c.prototype.nJb=function(l,n){return n && n.hardware?n.hardware:(/Mobile|iPhone/).test(l)?g.C5.phone:(/Android/).test(l)?g.C5.l6b:g.C5.uCb;};c.prototype.kJb=function(l,n){return n && n.name && n.version?{name:n.name,version:n.version}:(/OPR/).test(l)?{name:g.qo.opera,version:""}:(/Tesla/).test(l)?{name:g.qo.ugb,version:""}:(n=l.match(/Edge\/(\d*)\./))?{name:g.qo.cs,version:n[1]}:(n=l.match(/Edg\/(\d*)\./))?{name:g.qo.Z_a,version:n[1]}:(n=l.match(/Chrome\/(\d*)\./))?{name:g.qo.qpa,version:n[1]}:(n=l.match(/Firefox\/(\d*)\./))?{name:g.qo.v1a,version:n[1]}:(l=l.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:g.qo.Edb,version:l[1]}:{name:g.qo.qpa,version:""};};c.prototype.oJb=function(l,n){return n && n.os && n.os.name && n.os.version?{name:n.os.name,version:n.os.version}:(/CrOS/).test(l)?{name:g.Ip.RXa,version:""}:(n=l.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:g.Ip.o8a,version:n[1] + "." + n[2] + "." + n[3]}:(/Windows NT/).test(l)?{name:g.Ip.Ega,version:""}:(/Android.*Chrome\/[.0-9]* Mobile/).test(l) || (/Android.*Chrome\/[.0-9]* /).test(l)?{name:g.Ip.F8,version:""}:(/Linux/).test(l)?{name:g.Ip.L7a,version:""}:(/iPhone/).test(l)?{name:g.Ip.c6a,version:""}:{name:g.Ip.Ega,version:""};};Ya.Object.defineProperties(c.prototype,{k6a:{configurable:!0,enumerable:!0,get:function(){return this.tK(g.qo.qpa);}},c_:{configurable:!0,enumerable:!0,get:function(){return this.tK(g.qo.cs);}},bC:{configurable:!0,enumerable:!0,get:function(){return this.tK(g.qo.Z_a);}},Lba:{configurable:!0,enumerable:!0,get:function(){return this.tK(g.qo.v1a);}},lva:{configurable:!0,enumerable:!0,get:function(){return this.tK(g.qo.opera);}},i_:{configurable:!0,enumerable:!0,get:function(){return this.tK(g.qo.Edb);}},O6a:{configurable:!0,enumerable:!0,get:function(){return this.tK(g.qo.ugb);}},Cba:{configurable:!0,enumerable:!0,get:function(){return this.vK(g.Ip.F8);}},vQ:{configurable:!0,enumerable:!0,get:function(){return this.vK(g.Ip.c6a);}},Dba:{configurable:!0,enumerable:!0,get:function(){return this.vK(g.Ip.F8) && this.ARb(g.C5.phone);}},tQ:{configurable:!0,enumerable:!0,get:function(){return this.vK(g.Ip.RXa);}},FRb:{configurable:!0,enumerable:!0,get:function(){return this.vK(g.Ip.L7a);}},wQ:{configurable:!0,enumerable:!0,get:function(){return this.vK(g.Ip.o8a);}},RF:{configurable:!0,enumerable:!0,get:function(){return this.vK(g.Ip.Ega);}},Ur:{configurable:!0,enumerable:!0,get:function(){return this.Naa(m.lC,this.we.version);}},lYb:{configurable:!0,enumerable:!0,get:function(){return this.Naa(m.lC,this.we.Nda.version);}},mYb:{configurable:!0,enumerable:!0,get:function(){return this.Naa(m.SQ,this.we.Nda.version);}},nYb:{configurable:!0,enumerable:!0,get:function(){return this.Naa(m.kR,this.we.Nda.version);}}});h=c;h=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(d.hRa)),q.__param(1,(0,k.u)(f.aU)),q.__param(2,(0,k.u)(a.Lka))],h);b.MEa=h;(function(l){l[l.lC=0]="major";l[l.SQ=1]="minor";l[l.kR=2]="patch";l[l.Wea=3]="revision";})(m=b.nRa || (b.nRa={}));},function(q,b,a){var k,g,f;function c(d,h,m){this.bd=d;this.M6b=h;this.iK=m;}Object.defineProperty(b,"__esModule",{value:!0});b.OQa=void 0;q=a(2);k=a(53);g=a(0);f=a(6);c.prototype.OJ=function(){this.Dk || (this.Dk=this.bd.Al((0,f.Vc)(this.M6b),this.iK));};c.prototype.Bu=function(){this.Dk && this.Dk.cancel();this.Dk=void 0;};a=c;a=q.__decorate([(0,g.X)(),q.__param(0,(0,g.u)(k.Rk))],a);b.OQa=a;},function(q,b,a){var k,g;function c(f,d){this.bd=f;this.B9=d;}Object.defineProperty(b,"__esModule",{value:!0});b.bGa=void 0;q=a(2);k=a(0);a=a(53);c.prototype.Vm=function(f){this.Ei();this.Dk=this.bd.Al(this.B9,f);};c.prototype.Ei=function(){this.Dk && this.Dk.cancel();this.Dk=void 0;};g=c;g=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(a.Rk))],g);b.bGa=g;},function(q,b,a){var k,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.oHa=void 0;q=a(2);k=a(0);g=a(233);c.prototype.yP=function(f,d){var h;h=this;f && Object.entries(d).forEach(function(m){var l,n,p;l=ra(m);m=l.next().value;l=l.next().value;if(h.qRb(l)){n=ra(l);l=n.next().value;p=n.next().value;n=f[l];Array.isArray(n)?(h.zqa(f,m,l),n.forEach(function(r){h.yP(r,p);})):l === g.Tk?Object.values(f).forEach(function(r){h.yP(r,p);}):(h.zqa(f,m,l),"object" === typeof n && h.yP(n,p));}else h.zqa(f,m,l);});};c.prototype.qRb=function(f){return Array.isArray(f);};c.prototype.zqa=function(f,d,h){f.hasOwnProperty(d) || d === h || Object.defineProperty(f,d,{get:function(){return f[h];},set:function(m){return f[h]=m;},enumerable:!0});};a=c;a=q.__decorate([(0,k.X)()],a);b.oHa=a;},function(q,b,a){var k,g,f;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.XKa=void 0;q=a(2);k=a(12);g=a(16);a=a(0);c.prototype.gw=function(){return this.pRb()?g.JGa:(/widevine/i).test(this.config().Sn)?g.Vha:(/fps/i).test(this.config().Sn)?"fairplay":g.J4;};c.prototype.pRb=function(){return (/clearkey/i).test(this.config().Sn);};f=c;f=q.__decorate([(0,a.X)(),q.__param(0,(0,a.u)(k.jd))],f);b.XKa=f;},function(q,b,a){var k,g,f,d;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.gRa=void 0;q=a(2);f=a(0);a=a(11);null === (g=null === (k=null === a.$e || void 0 === a.$e?void 0:a.$e.userAgentData) || void 0 === k?void 0:k.getHighEntropyValues) || void 0 === g?void 0:g.call(k,["platformVersion"]).then(function(h){d=(h=h.platformVersion)?h:"undefined";}).catch(function(){d="exception";});Ya.Object.defineProperties(c.prototype,{platformVersion:{configurable:!0,enumerable:!0,get:function(){return d;}}});k=c;k=q.__decorate([(0,f.X)()],k);b.gRa=k;},function(q,b,a){var c,k,g,f,d;Object.defineProperty(b,"__esModule",{value:!0});b.d8a=void 0;c=a(771);k=a(772);q=a(0);g=a(120);f=a(7);d=a(777);b.d8a=new q.Nd(function(h){h(f.Ib).to(k.lKa).ha();h(g.MM).to(c.mKa).ha();h(f.Qia).to(d.aKa).ha();});},function(q,b,a){var k;function c(){this.ffb={};this.wp=[];}Object.defineProperty(b,"__esModule",{value:!0});b.mKa=void 0;q=a(2);a=a(0);c.prototype.Gea=function(g,f){f && (this.ffb[g]=f,this.wp=Object.values(this.ffb));};k=c;k=q.__decorate([(0,a.X)()],k);b.mKa=k;},function(q,b,a){var k,g,f,d,h,m,l;function c(n,p,r){this.Ma=n;this.wp=p;this.lwa=r;}Object.defineProperty(b,"__esModule",{value:!0});b.lKa=void 0;q=a(2);k=a(234);g=a(0);f=a(774);d=a(20);h=a(120);m=a(7);l=a(775);c.prototype.Bb=function(n,p,r,t,w){r=void 0 === r?this.wp:r;return p?new f.RNa(this.Ma,this.lwa,r,p,n):w?new l.XDa(this.Ma,this.lwa,r,n,t || "",w):new k.LM(this.Ma,this.lwa,r,n);};a=c;a=q.__decorate([(0,g.X)(),q.__param(0,(0,g.u)(d.Jd)),q.__param(1,(0,g.u)(h.MM)),q.__param(2,(0,g.u)(m.Qia))],a);b.lKa=a;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.fXa=void 0;b.fXa=function(a,c){var g;a=a.TMb();for(var k=0;k < c.length;++k){g=c[k];void 0 != g && null != g && (g.Lh && (g=g.Lh),g.constructor === Uint8Array?a.Qxb(g):"MediaRequest" === g.constructor.name?a.Bxb(g):"string" === typeof g?a.Nxb(g):"function" === typeof g?a.vxb(g):g instanceof Error?a.sxb(g):g instanceof Object?a.Cxb(g):a.Rxb(g));}return a.ak();};},function(q,b,a){var k,g,f;function c(d,h,m,l,n){d=f.LM.call(this,d,h,m,n) || this;d.j=l;(0,k.Iq)(d,"playback");return d;}Object.defineProperty(b,"__esModule",{value:!0});b.RNa=void 0;k=a(58);g=a(389);f=a(234);na(c,f.LM);c.prototype.G9=function(d){return new c(this.Ma,this.k9,this.wp,this.j,d);};c.prototype.wE=function(d,h,m){d=new g.Pia(d,this.gq,this.Ma.ec(),h,m,this.j.index);h=ra(this.wp.wp);for(m=h.next();!m.done;m=h.next()){m=m.value;m(d,this.j);}};b.RNa=c;},function(q,b,a){var k,g;function c(f,d,h,m,l,n){f=k.LM.call(this,f,d,h,m) || this;f.groups=l;Array.isArray(n)?f.prefix=n:n && "string" === typeof n && (f.prefix=[],f.prefix.push(n));return f;}Object.defineProperty(b,"__esModule",{value:!0});b.XDa=void 0;k=a(234);g=a(776);na(c,k.LM);c.prototype.wE=function(f,d,h){f=new g.WDa(f,this.gq,this.Ma.ec(),d,h,this.prefix);d=ra(this.wp.wp);for(h=d.next();!h.done;h=d.next()){h=h.value;h(f);}};c.prototype.G9=function(f){return new c(this.Ma,this.k9,this.wp,f,this.groups,this.prefix);};b.XDa=c;},function(q,b,a){var k,g;function c(f,d,h,m,l,n,p){this.level=f;this.gq=d;this.timestamp=h;this.message=m;this.cb=l;this.prefix=n;this.index=void 0 === p?0:p;}Object.defineProperty(b,"__esModule",{value:!0});b.WDa=void 0;k=a(6);g={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};c.prototype.Ufa=function(f,d){f=(this.prefix.length?"" + this.prefix.join(" ") + " ":"") + this.message + (d?"":" " + this.H5b(! !f));return (this.timestamp.ia(k.sa) / 1E3).toFixed(3) + "|" + this.index + "|" + (g[this.level] || this.level) + "|" + this.gq + "| " + f;};c.prototype.H5b=function(f){var l;for(var d=this.cb.length,h="",m=0;m < d;++m){l=this.cb[m].ax;m && h.length && (h+=" ");if("object" === typeof l){if(null === l)h+="null";else if(l instanceof Error)h+=this.G5b(l,f);else try{h+=JSON.stringify(l);}catch(n){h+=this.F5b(l);}}else h+=l;}return h;};c.prototype.G5b=function(f,d){return f.toString() + (f.stack && !d?"\n" + f.stack:"") + "\n";};c.prototype.F5b=function(f){var d;d=[];return JSON.stringify(f,function(h,m){if("object" === typeof m && null !== m){if(-1 !== d.indexOf(m))return "<cycle>";d.push(m);}return m;});};b.WDa=c;},function(q,b,a){var k,g,f,d;function c(h,m){this.Dc=h;this.Qe=m;}Object.defineProperty(b,"__esModule",{value:!0});b.aKa=void 0;q=a(2);k=a(0);g=a(778);f=a(36);a=a(35);c.prototype.TMb=function(){return new g.bKa(this.Dc,this.Qe);};d=c;d=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(f.Vi)),q.__param(1,(0,k.u)(a.si))],d);b.aKa=d;},function(q,b,a){var p,r,t;function c(w,v){this.Dc=w;this.Qe=v;this.cb=[];}function k(w){return n.call(this,w,function(v){return {Details:v};}) || this;}function g(w){return n.call(this,w,function(v){return JSON.parse(v.toJSON());}) || this;}function f(w,v){v=n.call(this,v,function(u){return {Base64:w.encode(u)};}) || this;v.Dc=w;return v;}function d(w,v){v=n.call(this,v,function(u){return u();}) || this;v.Qe=w;return v;}function h(w){return n.call(this,w,function(v){return {Exception:v.message || "" + v,StackTrace:v.stack || "nostack"};}) || this;}function m(w,v,u){v=n.call(this,v,u) || this;v.Qe=w;return v;}function l(w){return n.call(this,w,function(v){return {Details:v};}) || this;}function n(w,v){this.ax=w;this.value=v?v(w):w;}Object.defineProperty(b,"__esModule",{value:!0});b.bKa=void 0;q=a(2);p=a(0);r=a(35);a=a(36);n.prototype.xY=function(w){return this.ax === w;};na(l,n);l.prototype.dM=function(w,v){return v?"":"\r\n" + this.ax;};na(m,n);m.prototype.dM=function(){var w;w="";this.Qe.nF(this.value,function(v,u){try{w+=", " + v + ": " + u;}catch(x){try{w+=", " + v + ": " + JSON.stringify(u);}catch(y){w+=", error stringifying " + v;}}});return w.replace(/[\r\n]+ */g," ");};na(h,n);h.prototype.dM=function(w){var v;v="\r\n" + this.ax.message;w || (v+="\r\n" + this.ax.stack);return v;};na(d,n);d.prototype.dM=function(){var w;w="";this.Qe.nF(this.value,function(v,u){w+=", " + v + ": " + u;});return w.replace(/[\r\n]+ */g," ");};na(f,n);f.prototype.dM=function(w,v){return this.ax && !v?"\r\n" + this.Dc.encode(this.ax):"";};na(g,n);g.prototype.dM=function(){return this.ax?this.ax.toJSON():"";};na(k,n);k.prototype.dM=function(){return ", " + (this.ax.toString?"" + this.ax.toString():"");};c.prototype.Nxb=function(w){this.cb.push(new l(w));};c.prototype.Cxb=function(w){this.cb.push(new m(this.Qe,w));};c.prototype.sxb=function(w){this.cb.push(new h(w));};c.prototype.vxb=function(w){this.cb.push(new d(this.Qe,w));};c.prototype.Qxb=function(w){this.cb.push(new f(this.Dc,w));};c.prototype.Bxb=function(w){this.cb.push(new g(w));};c.prototype.Rxb=function(w){this.cb.push(new k(w));};c.prototype.ak=function(){return this.cb;};t=c;t=q.__decorate([(0,p.X)(),q.__param(0,(0,p.u)(a.Vi)),q.__param(1,(0,p.u)(r.si))],t);b.bKa=t;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.P9a=void 0;q=a(0);c=a(390);k=a(780);b.P9a=new q.Nd(function(g){g(c.xLa).to(k.wLa).ha();});},function(q,b,a){var k,g,f;function c(d){this.bd=d;}Object.defineProperty(b,"__esModule",{value:!0});b.wLa=void 0;q=a(2);k=a(0);g=a(781);a=a(53);c.prototype.iZa=function(d,h){return new g.yLa(this.bd,d,h);};f=c;f=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(a.Rk))],f);b.wLa=f;},function(q,b){function a(c,k,g){this.bd=c;this.config=k;this.getTime=g;}Object.defineProperty(b,"__esModule",{value:!0});b.yLa=void 0;a.prototype.observe=function(c,k){var g;g=this;this.cancel();this.Dk=this.bd.bfa(this.config.S3a(),function(){g.getTime() >= c && (g.cancel(),k());});};a.prototype.cancel=function(){this.Dk && (this.Dk.cancel(),this.Dk=void 0);};b.yLa=a;},function(q,b,a){var c,k,g,f,d,h;Object.defineProperty(b,"__esModule",{value:!0});b.P=void 0;q=a(0);c=a(235);k=a(391);g=a(783);f=a(1163);d=a(488);h=a(1164);b.P=new q.Nd(function(m){m(c.vka).to(g.JPa).ha();m(k.HPa).to(f.GPa).ha();m(d.RQa).to(h.QQa).ha();});},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t,w,v;function c(u,x,y,z,A,B,D,C,F,G){this.Ma=u;this.mg=x;this.TQ=y;this.fDa=z;this.Y0=A;this.bd=B;this.vO=D;this.Oi=C;this.wra=F;this.Ui=G;}Object.defineProperty(b,"__esModule",{value:!0});b.JPa=void 0;q=a(2);k=a(0);g=a(20);f=a(7);d=a(390);h=a(149);m=a(392);l=a(393);n=a(784);p=a(785);r=a(108);t=a(53);w=a(387);a=a(35);c.prototype.YEb=function(u,x,y){return new n.KPa(this.Ma,this.mg,this.TQ,this.fDa,x,u,this.Oi,this.Y0,this.Ui,this.wra,y);};c.prototype.xEb=function(u,x){return new p.LEa(this.mg,u,x,this.TQ,this.bd,this.vO);};v=c;v=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(g.Jd)),q.__param(1,(0,k.u)(f.Ib)),q.__param(2,(0,k.u)(d.xLa)),q.__param(3,(0,k.u)(l.rRa)),q.__param(4,(0,k.u)(m.NNa)),q.__param(5,(0,k.u)(t.Rk)),q.__param(6,(0,k.u)(r.hT)),q.__param(7,(0,k.u)(h.AU)),q.__param(8,(0,k.u)(w.IT)),q.__param(9,(0,k.u)(a.si))],v);b.JPa=v;},function(q,b,a){var d,h,m;function c(l,n,p,r,t,w,v,u,x,y,z){var A;A=this;this.Ma=l;this.TQ=p;this.Oya=r;this.config=t;this.Eb=w;this.Oi=v;this.Y0=u;this.Ui=x;this.Dl=z;this.XIb=Object.values(d.Qa).map(function(B){return {event:B,iK:function(D){return A.dc.rd(B,D);}};});this.dc=y.create();this.AG=[];this.log=n.Bb("SegmentManager");this.$ra=!0;this.qp=this.Ui.createElement("div",m.kka);}function k(l,n,p,r,t,w,v,u,x,y,z){var A;A=this;this.log=l;this.config=n;this.fXb=p;this.Oya=r;this.Oi=t;this.Y0=w;this.jx=v;this.G=u;this.qp=x;this.Eb=y;this.Dl=z;this.NO=function(){A.lG && (A.lG.cancel(),A.lG=void 0);};this.Zta=function(B){A.log.trace("Received the transition event",{movieId:B.L});A.t0b();};this.fwa=function(){};this.log.debug("Constructing session data",g(u));this.O6b=new Promise(function(B){A.t0b=B;});}function g(l){return {movieId:l.L};}function f(l){return JSON.stringify({movieId:l.L,startPts:l.da,logicalEnd:l.ik,params:l.Nb?{trackingId:l.Nb.Lk,authParams:l.Nb.Z8,sessionParams:l.Nb.ho,disableTrackStickiness:l.Nb.Kqa,uiPlayStartTime:l.Nb.GS,loadImmediately:l.Nb.oca,playbackState:l.Nb.playbackState?{currentTime:l.Nb.playbackState.currentTime,volume:l.Nb.playbackState.volume,muted:l.Nb.playbackState.muted,playbackRate:l.Nb.playbackState.playbackRate}:void 0,pin:l.Nb.Vab,heartbeatCooldown:l.Nb.iua,uiLabel:l.Nb.ze,uxLabels:l.Nb.sga}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.KPa=void 0;d=a(18);h=a(6);m=a(16);k.prototype.load=function(l){var n,p;n=this;this.log.trace("Loading new segment",g(this.G));this.U=this.Oya.YO(this.config,this.Y0,this.Oi,this.G,this.Eb,this.Dl);this.U.addEventListener(d.Qa.lQ,function(r){n.log.trace("Segment is inactive",g(n.G));n.jx.close(n.Oi(r.errorCode));});this.U.addEventListener(d.Qa.closed,this.NO);if(l)(this.log.debug("Pausing background segment",g(this.G)),this.U.addEventListener(d.Qa.tva,this.Zta),this.U.pause());else {this.qp.appendChild(this.U.Xo());p=function(r){n.Zta(r);n.U.removeEventListener(d.Qa.loaded,p);};this.U.addEventListener(d.Qa.loaded,p);}};k.prototype.observe=function(){var l,n,p;l=this;this.log.trace("Observing segment",f(this.G));if(this.lG)this.log.trace("Segment is currently observing",g(this.G));else if(this.G.Nb && this.G.Nb.oca)this.fwa(this);else {n=this.fXb.iZa(this.config,function(){var r;if(l.U){r=l.U.lw();if(r)return r;}return 0;});p=this.uAb(this.G);this.log.trace("Adding a moment to watch",{time:p});n.observe(p,function(){l.log.trace("Segment has reached its loading point",g(l.G));l.fwa(l);l.NO();});}};k.prototype.close=function(l){this.log.info("Closing segment",{segment:f(this.G),error:l});return this.U?(this.U.removeEventListener(d.Qa.tva,this.Zta),this.U.close(l)):Promise.resolve();};k.prototype.VXb=function(l){this.fwa=l;};k.prototype.uAb=function(l){var n,p;n=l.ik;l=l.Nb?l.Nb.oca:!1;p=0;n && !l && (p=n - this.config.p3a(),p < this.config.r3a() && (l=n - this.config.r3a(),p=n - l / 2));return p;};c.prototype.NNb=function(){return this.Wh && this.Wh.U?this.Wh.U.isReady():!1;};c.prototype.Xo=function(){return this.qp;};c.prototype.cK=function(){if(!this.Wh || !this.Wh.U)throw Error("Player not ready");return this.Wh.U;};c.prototype.e8b=function(l){var n,p;p=this.Nra(l);p?this.Xhb(p,l):this.Eb.kf(l.id) || this.log.error("Tried to update a non-existent segment",{segment:f(l),currentMovieId:this.Wh.G.L,queuedMovieIds:this.AG.map(function(r){return r.G.L;}),xid:null === (n=this.Wh.U) || void 0 === n?void 0:n.OB()});};c.prototype.Dh=function(l){var n;this.log.info("Adding segment",f(l));if(this.$ra){this.log.trace("First segment, loading",g(l));n=this.R7a(l);this.$ra=!1;}else (this.log.trace("Subsequent segment, caching",g(l)),(n=this.Nra(l))?this.Xhb(n,l):(n=this.createSession(l),this.AG.push(n),this.Wh.observe()));return n?n.O6b:null;};c.prototype.transition=function(l,n){var p,r,t;r=this.WK;t=null === r || void 0 === r?void 0:r.U;if(r && t)return (this.WK=void 0,this.log.info("Transitioning segment",f(r.G)),t.hBa(this.Ma.ec().ia(h.sa)),this.khb(r,n));n=null === r || void 0 === r?void 0:r.G;this.log.error("Transitioning to next segment failed. Session or player not available.",{mid:this.Wh.G.L,xid:null === (p=this.Wh.U) || void 0 === p?void 0:p.OB(),nextSegmentId:l,currentSegment:f(this.Wh.G),nextSegment:n?f(n):void 0,queuedMovieIds:this.AG.map(function(w){return w.G.L;})});return Promise.reject();};c.prototype.close=function(l){var n;n=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(g(this.Wh.G)),nextSession:this.WK?JSON.stringify(g(this.WK.G)):void 0});l=[this.Wh.close(l)];this.WK && l.push(this.WK.close());return Promise.all(l).then(function(){n.WK=void 0;n.AG=[];n.$ra=!0;});};c.prototype.addListener=function(l,n,p){this.dc.addListener(l,n,p);};c.prototype.removeListener=function(l,n){this.dc.removeListener(l,n);};c.prototype.Xhb=function(l,n){this.vYb(l.G,n);this.log.trace("Overwrote existing segment data",f(l.G));};c.prototype.R7a=function(l){var n,p;n=this;this.log.info("Loading the next episode",g(l));if(this.Wh){this.config.Bsa()[l.L]=l.da;p=this.Nra(l);}else p=this.createSession(l);if(p)return (this.log.trace("Found the next session",g(l)),p.VXb(function(r){n.Ggb(r);}),this.Wh?(this.log.trace("Subsequent playback, caching player and pausing",g(l)),this.WK=p,p.load(!0)):(this.log.trace("First playback transitioning immediately",g(l)),p.load(!1),this.khb(p)),p);this.log.warn("Unable to find the session, make sure to add it before loading",g(l));};c.prototype.khb=function(l,n){var p,r,t,w,v;n=void 0 === n?{}:n;w=l.U?null === (p=l.U) || void 0 === p?void 0:p.getError():"missing player";if(w)return (null === (r=l.U) || void 0 === r?void 0:r.close(),this.log.error("Transitioning to next segment failed. Session is in the error state.",{srcmid:this.Wh.G.L,mid:l.G.L,error:w,xid:null === (t=l.U) || void 0 === t?void 0:t.OB()}),Promise.reject());this.log.trace("Playing episode",g(l.G));p=this.Wh;this.Wh=l;l=this.Wh.U;l.SAa(!1);this.rM(l,p?p.U:void 0);if(p && p.U){v=p.U.Xo();r=l.Xo();v.style.display="none";p=p.close();this.qp.appendChild(r);p.then(function(){v.parentElement && v.parentElement.removeChild(v);});r.style.display="block";l.jga(n);l.kS();l.play();}return Promise.resolve();};c.prototype.Ggb=function(l){var n,p,r,t,w;if(this.AG.length && l.U){n=l.U.lw();p=this.AG[0];r=this.Wh.G.ik;t=this.Wh.G.Nb?this.Wh.G.Nb.oca:!1;if(r || t){t?w=0:r && (w=r - this.config.p3a());null !== n && n >= w && (this.log.info("Got a time change, loading the next player",g(p.G)),this.R7a(p.G),this.AG.splice(0,1),this.Ggb(l));}}};c.prototype.Nra=function(l){return this.Wh.G.L === l.L?this.Wh:this.AG.find(function(n){return n.G.L === l.L;});};c.prototype.vYb=function(l,n){l.da=n.da || l.da;l.ik=n.ik || l.ik;l.Nb=n.Nb || l.Nb;l.pa=n.pa || l.pa;};c.prototype.createSession=function(l){return new k(this.log,this.config,this.TQ,this.Oya,this.Oi,this.Y0,this,l,this.qp,this.Eb,this.Dl);};c.prototype.rM=function(l,n){this.XIb.forEach(function(p){n && n.removeEventListener(p.event,p.iK);l.addEventListener(p.event,p.iK);});this.dc.rd(d.eI.h2);};b.KPa=c;},function(q,b,a){var f,d,h,m,l;function c(n,p,r,t,w,v){var u;u=this;this.U=p;this.j=r;this.TQ=t;this.bd=w;this.vO=v;this.NO=function(){u.lG && (u.lG.cancel(),u.lG=void 0);};this.log=n.Bb("SegmentManager",this.j);this.P=new Map();this.j.ob.ei && (this.j.addEventListener(h.ka.BL,function(x){return u.mG(x);}),this.j.addEventListener(h.ka.closed,this.NO));}function k(n,p){this.id=n;this.ppa=p;}function g(n,p,r,t){return d.Ad.call(this,n,r,void 0,void 0,void 0,p,void 0,t) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.LEa=void 0;f=a(3);d=a(41);h=a(18);m=a(6);l=a(19);na(g,d.Ad);g.prototype.toString=function(){return this.code + "-" + this.Sc + " : " + this.message + "\n" + JSON.stringify(this.data);};k.prototype.toJSON=function(){return {id:this.id,contentStartPts:this.ya,contentEndPts:this.za};};Ya.Object.defineProperties(k.prototype,{ya:{configurable:!0,enumerable:!0,get:function(){return this.ppa.startTimeMs;}},za:{configurable:!0,enumerable:!0,get:function(){return this.ppa.endTimeMs;}},yC:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.ppa.next);}}});c.prototype.mG=function(n){var p;p=this;!1;n=n.position.segmentId;0 === this.P.size && Object.entries(this.j.WY()).forEach(function(r){var t;t=ra(r);r=t.next().value;t=t.next().value;p.P.set(r,new k(r,t));});this.oa=this.P.get(n);};c.prototype.play=function(n){this.zR && (this.zR=void 0);this.NO();this.log.trace("Playing segment",n);return this.y6a(n)?this.sZb(n):this.W0(n);};c.prototype.lu=function(n){this.log.trace("Queueing segment",n);return this.y6a(n)?this.j0b(n):this.k0b(n);};c.prototype.Oj=function(n,p){var r,t;r=this;t=this.j.Ra;if(null === t || void 0 === t || !t.bj)return Promise.reject(this.getError(f.W.uEa,"ASE session manager is not yet initialized",f.S.mha,{segmentId:n,updates:p}));this.log.trace("Updating next segment weights",n,p);return new Promise(function(w,v){try{t.HS(n,p);r.j.fireEvent(h.ka.MCa,{ea:n,q8b:p});w();}catch(u){v(r.getError(f.W.uEa,"updateNextSegmentWeights threw an exception",f.S.$jb,{segmentId:n,updates:p,error:u}));}});};c.prototype.y6a=function(n){return this.oa?void 0 !== this.j.WY()[this.oa.id].next[n]:!1;};c.prototype.tta=function(){var n;n=this.j.Ra;if(null === n || void 0 === n?0:n.bj)return n.Qn().lf;};c.prototype.FNb=function(){var n;n=this.j.Ra;if(null === n || void 0 === n?0:n.bj)return n.Qn().id;};c.prototype.KLb=function(n){var p;p=this.j.Ra;if(null === p || void 0 === p?0:p.bj)return (n=p.laa(n)) && n.df;};c.prototype.sZb=function(n){var p,r;p=this;r=this.j.Ra;return null !== r && void 0 !== r && r.bj?this.oa && 1 === this.oa.yC.length?this.W0(n):this.j.ng?void 0 === this.KLb(n)?(this.log.error("playNextSegment: branchOffset missing",{segment:n}),this.W0(n)):new Promise(function(t,w){var z,A,B,D,C,F;function v(){!B && A && z && (F.cancel(),B=!0,p.log.trace("Telling ASE to choose the next segment",{id:n,stopped:A,repositioned:z,completed:B}),r.Ct(n,!1,!0)?(t(),B=!0):(B=!0,p.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:n}),p.W0(n).then(t).catch(w)));}function u(){z=!0;p.log.trace("Player is repositioned",{id:n,stopped:A,repositioned:z,completed:B});p.j.removeEventListener(h.ka.xl,u);v();}function x(){p.j.removeEventListener(h.ka.sL,x);r.stop();}function y(){A=!0;p.log.trace("ASE is stopped",{id:n,stopped:A,repositioned:z,completed:B});r.removeEventListener("stop",y);v();}z=!1;A=!1;B=!1;D=p.P.get(n);C=p.tta();if(void 0 === C)return (p.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.",{segment:n}),p.W0(n));p.log.trace("Seeking to next segment",JSON.stringify({segmentId:n,seekTo:C,currentSegment:p.oa,nextSegment:D},null,"  "));p.j.fireEvent(h.ka.sda,{Yh:p.oa && p.oa.id,ZQ:n});r.addEventListener("stop",y);p.j.addEventListener(h.ka.sL,x);p.j.addEventListener(h.ka.xl,u);F=p.bd.Al((0,m.Nh)(10),function(){B=!0;F.cancel();w(p.getError(f.W.lT,"Timed out waiting for the player to be repositioned and ASE to be stopped",f.S.Wjb,{id:n,stopped:A,repositioned:z,completed:B}));});p.U.seek(C,h.uf.eN);}):(this.log.warn("MediaPresenter is not initialized",n),Promise.reject(this.getError(f.W.lT,"MediaPresenter is not initialized",f.S.Xjb,{id:n}))):Promise.reject(this.getError(f.W.lT,"ASE session manager is not yet initialized",f.S.mha,{id:n}));};c.prototype.W0=function(n){var p;p=this.P.get(n);return p?this.e2(p,f.W.lT):Promise.reject(this.getError(f.W.lT,"Unable to find the separated segment",f.S.tEa,{id:n}));};c.prototype.j0b=function(n){var p;p=this.j.Ra;if(null === p || void 0 === p || !p.bj)return Promise.reject(this.getError(f.W.mT,"ASE session manager is not yet initialized",f.S.mha,{id:n}));this.j.fireEvent(h.ka.sda,{Yh:this.oa && this.oa.id,ZQ:n});if(p.Ct(n,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed - falling back to a delayed seek at the end of current segment",{segment:n});return this.m_a(n);};c.prototype.k0b=function(n){this.log.error("calls to queueSeparatedSegment are deprecated",{segment:n,mid:this.j.L,srcsegment:this.FNb()});return this.m_a(n);};c.prototype.m_a=function(n){var p,r;p=this;if(this.zR)return Promise.reject(this.getError(f.W.mT,"Unable to queue segment for delayed seek because there is currently already a segment queued for delayed seek",f.S.Zjb,{currentSegment:this.oa?this.oa.id:void 0,queuedSegment:this.zR.id,failedSegment:n}));if(!this.oa)return Promise.reject(this.getError(f.W.mT,"Unable to queue segment for delayed seek because there is no currently playing segment",f.S.Vjb,{nextSegmentid:n}));r=this.P.get(n);if(!r)return Promise.reject(this.getError(f.W.mT,"Unable to find the separated segment",f.S.tEa,{nextSegmentid:n,currentSegmentId:this.oa.id}));this.zR={id:n,promise:new Promise(function(t,w){var v;p.lG=p.TQ.iZa({S3a:function(){return (0,m.Vc)(100);}},function(){return p.U.lw() || 0;});v=p.tta() - l.config.N9a;p.log.trace("Adding moment for queued segment for delayed seek",{segment:n,pts:v});p.lG.observe(v,function(){p.log.trace("Moment has arrived, seek to segment",{segment:n,currentSegment:p.oa.id,playerEndPts:p.tta(),pts:v});p.zR=void 0;p.NO();p.e2(r,f.W.mT).then(t).catch(w);});})};this.zR.promise.catch(function(t){p.j.de(t.code,t);});return Promise.resolve();};c.prototype.e2=function(n,p){var r;r=this;return new Promise(function(t,w){var v;try{v=n.ya;!1;r.U.seek(v,h.uf.hI);t();}catch(u){w(r.getError(p,"Seek threw an exception",f.S.Yjb,{id:n.id,error:u}));}});};c.prototype.getError=function(n,p,r,t){this.log.warn(p,t);return new g(n,p,r,t);};b.LEa=c;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.Zc=b.Fq=void 0;(function(c){c[c.Tj=0]="STOPPED";c[c.Md=1]="BUFFERING";c[c.sg=2]="REBUFFERING";c[c.Uj=3]="STREAMING";c[c.KU=4]="TRACK_SWITCH";})(a || (a={}));b.Zc=a;b.Fq=function(c){return c === a.Md || c === a.sg || c === a.KU;};},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b,a){Object.defineProperties(b,{__esModule:{value:!0}});q=a(1);q.__exportStar(a(798),b);q.__exportStar(a(799),b);q.__exportStar(a(800),b);},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.KD=void 0;q=b.KD || (b.KD={});q[q.HAVE_NOTHING=0]="HAVE_NOTHING";q[q.zD=1]="HAVE_SOMETHING";q[q.yD=2]="HAVE_MINIMUM";q[q.OT=3]="HAVE_ENOUGH";},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Da=b.gea=void 0;c=a(34);(function(g){g[g.Sh=0]="STARTING";g[g.Md=1]="BUFFERING";g[g.sg=2]="REBUFFERING";g[g.$c=3]="PLAYING";g[g.et=4]="STOPPING";g[g.Tj=5]="STOPPED";g[g.Rh=6]="PAUSED";})(k || (k={}));b.Da=k;b.gea=function(g){return g === c.Zc.Md?k.Md:g === c.Zc.sg?k.sg:g === c.Zc.KU?k.Md:g === c.Zc.Uj?k.$c:k.Sh;};},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b,a){Object.defineProperties(b,{__esModule:{value:!0}});q=a(1);q.__exportStar(a(822),b);q.__exportStar(a(823),b);q.__exportStar(a(824),b);q.__exportStar(a(825),b);q.__exportStar(a(826),b);q.__exportStar(a(827),b);q.__exportStar(a(828),b);q.__exportStar(a(829),b);},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b,a){Object.defineProperties(b,{__esModule:{value:!0}});q=a(1);q.__exportStar(a(831),b);q.__exportStar(a(832),b);},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Wx=void 0;q=b.Wx || (b.Wx={});q[q.upb=0]="PLAYGRAPH_CHANGED";q[q.vpb=1]="PLAYGRAPH_UNCHANGED";q[q.Job=2]="NO_MATCHING_SEGMENT_FOUND";q[q.lqb=3]="SEGMENT_ALREADY_APPENDED_REMOVAL_NOT_SUPPORTED";q[q.Hmb=4]="EXISTING_SEGMENT_VIEWABLE_ID_MISMATCHED";q[q.Gmb=5]="EXISTING_SEGMENT_START_TIME_MISMATCHED";q[q.mqb=6]="SEGMENT_EXTENSION_NOT_SUPPORTED";q[q.sjb=7]="APPENDED_PAST_TRUNCATION_POINT";},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.gEa=void 0;c=a(17);q=(function(){function k(g){this.config=g;}k.prototype.Mn=function(g,f){return this.config.K2 || f !== c.Zc.Uj?g.filter(function(d){return d.cw;}):g;};return k;})();b.gEa=q;},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.oI=void 0;q=a(1);c=a(15);k=q.__importDefault(a(5));g=a(395);a=(function(){function f(d){this.console=d;this.ZZa=[];this.IWa={};this.w_a=!1;}f.prototype.Ms=function(d,h){this.ZZa=d;void 0 !== h?this.IWa[h]=d:this.w_a || (this.console.warn("StreamFilters: Bitrate filters received with undefined viewable id"),this.w_a=!0);};f.prototype.Mn=function(d){var h,m,l,n,p;h=this;if(0 === d.length)return d;n=d[0].M;if(void 0 === n)return (this.console.error("StreamFilters: Stream has undefined viewable id"),d);try{null === (m=k.default.Mv) || void 0 === m?void 0:m.call(k.default,n);}catch(r){return (this.console.error("StreamFilters: createFilteredVideoStreamList: " + r),d);}p=null !== (l=this.IWa[n]) && void 0 !== l?l:this.ZZa;c.aa && this.console.trace("VideoBitrateRangesFilter: filtering " + d.length + " streams with " + JSON.stringify(p));d=d.filter(function(r){return g.Vna(r.profile,r.bitrate,p,h.console).inRange;});c.aa && this.console.trace("VideoBitrateRangesFilter: ... " + d.length + " streams in range");return d;};return f;})();b.oI=a;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hEa=void 0;q=(function(){function a(c){var k;k=this;c.oS && c.oS.enabled && c.oS.profiles && c.oS.profiles.length && "keepLowest" === c.oS.action && (this.i7a={},c.oS.profiles.forEach(function(g){return k.i7a[g]=!0;}));}a.prototype.Mn=function(c){var k,g;k={};g=this.i7a;return void 0 === g?c:c.filter(function(f){return !g[f.profile] || (k[f.profile]?!1:k[f.profile]=!0);});};return a;})();b.hEa=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.eEa=void 0;q=(function(){function a(c){this.config=c;}a.prototype.Mn=function(c){var k;k=this.config;return c.filter(function(g){return !(void 0 !== g.nb && (g.nb < k.PK || g.nb > k.L8a) || (void 0 === g.nb || 0 >= k.PK) && g.bitrate < k.lxa || (void 0 === g.nb || Infinity === k.L8a) && g.bitrate > k.AUb);});};return a;})();b.eEa=q;},function(q,b,a){var k;function c(g,f){f=Math.max(g,f);return isNaN(f)?g || -Infinity:f;}Object.defineProperties(b,{__esModule:{value:!0}});b.SDa=void 0;k=a(17);q=(function(){function g(f){this.config=f;this.Bea=0;this.state=k.Zc.Tj;this.O9a=c(f.lxa,f.Uca);this.rxa=c(f.PK,f.W_);}g.prototype.Mn=function(f,d){var h;h=this;if(d !== this.state){this.state=d;if(d === k.Zc.Md || d === k.Zc.KU)return f;d === k.Zc.sg && this.tcb();}return f.filter(function(m){return !(void 0 !== m.nb && m.nb < h.rxa || (void 0 === m.nb || 0 > h.rxa) && m.bitrate < h.O9a);});};g.prototype.tcb=function(){++this.Bea;this.rxa=c(this.config.PK,this.config.W_ - this.config.DVb * this.Bea);this.O9a=this.config.lxa || -Infinity;};return g;})();b.SDa=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.dEa=void 0;c=a(25);q=(function(){function k(g){this.config=g;}k.prototype.q4b=function(g){return g % 100 + 1 <= this.config.Bya;};k.prototype.Mn=function(g){var f,d,h,m,l,n,p,r,t,w,v;p=Number(null === (f=g[0]) || void 0 === f?void 0:f.L);if(!(this.config.r$ && this.q4b(p) && 0 < this.config.Uea.length))return g;f=g.length;r=null !== (d=g[f - 1].Tea) && void 0 !== d?d:0;if(d=c.oe(this.config.Uea,function(u){return u.Qic >= r && u.udb <= r;})){for(p=0;p < f;p++){t=g[Math.max(p - 1,0)];w=g[p];if(!((null !== (h=w.Tea) && void 0 !== h?h:0) < d.udb || (null !== (m=t.Tea) && void 0 !== m?m:0) < d.udb)){v=null !== (l=w.nb) && void 0 !== l?l:Infinity;t=null !== (n=t.nb) && void 0 !== n?n:Infinity;if(!(t < d.Xhc || t < d.Whc && w.bitrate < d.maxBitrate || !v && w.bitrate < d.xhc))break;}}return g.slice(0,p);}return g;};return k;})();b.dEa=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Tia=b.iha=void 0;c=a(25);b.iha={Mn:function(k){return k.filter(function(g){return g.zw && !g.SB;});}};b.Tia={Mn:function(k){return (k=c.oe(k,function(g){return ! !g.zw && !g.SB;}))?[k]:[];}};},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Uia=void 0;b.Uia={Mn:function(a){return a.length?[a[0]]:[];}};},function(q,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.TE=b.SE=void 0;c=a(397);k=a(104);b.SE=function(g,f){f && (null === g || void 0 === g?0:g.r5a) && (f=new k.ev(f).or(k.YH));return new k.ev(k.iha).and(null !== f && void 0 !== f?f:k.YH).or(k.Tia,c.fN.RJ).or(k.Uia,c.fN.RJ);};b.TE=function(g,f){f && g.r5a && (f=new k.ev(f).or(k.YH));return new k.ev(k.iha).and(new k.gEa(g)).and(new k.eEa(g)).and(new k.SDa(g)).and(new k.hEa(g)).and(g.r$?new k.dEa(g):k.YH).and(null !== f && void 0 !== f?f:k.YH).or(k.Tia,c.fN.RJ).or(k.Uia,c.fN.RJ);};},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b,a){Object.defineProperties(b,{__esModule:{value:!0}});q=a(1);q.__exportStar(a(854),b);q.__exportStar(a(403),b);},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b,a){var k;function c(g,f){var d;void 0 === f && (f=c);d="";g.CP && (d=null === g || void 0 === g?void 0:g.CP.map(f).reduce(function(h,m){return h + "," + m;}));return (null === g || void 0 === g?void 0:g.name) + "::" + (null === g || void 0 === g?void 0:g.message) + "::{" + (null === g || void 0 === g?void 0:g.stack) + "}[" + d + "]";}Object.defineProperties(b,{__esModule:{value:!0}});b.Wga=void 0;k=a(1);q=(function(g){function f(d,h){d=g.call(this,f.WKb(d,h)) || this;d.Fsb=h;d.name="AggregateError";return d;}k.__extends(f,g);f.WKb=function(d,h){return h.reduce(function(m,l){return m + "\n" + l;},d);};f.stringify=function(d){return c(d);};Object.defineProperties(f.prototype,{CP:{get:function(){return this.Fsb;},enumerable:!1,configurable:!0}});return f;})(Error);b.Wga=q;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.lOa=void 0;b.lOa=(function(){function a(){}a.decode=function(c){return Object.assign({initialSegment:c.xe,segments:a.eGb(c.P)},void 0 !== c.ye?{transitionType:c.ye}:{});};a.encode=function(c){return Object.assign({xe:c.initialSegment,P:a.IIb(c.segments)},void 0 !== c.transitionType?{ye:c.transitionType}:{});};a.IIb=function(c){return Object.keys(c).reduce(function(k,g){k[g]=a.HIb(c[g]);return k;},{});};a.HIb=function(c){return Object.assign({M:c.viewableId,ya:c.startTimeMs},c.endTimeMs?{za:c.endTimeMs}:{},c.defaultNext?{vc:c.defaultNext}:{},c.weight?{weight:c.weight}:{},c.transitionType?{ye:c.transitionType}:{},c.next?{next:a.FIb(c.next)}:{},c.exitZones?{tq:c.exitZones}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.uxSegment?{Lc:c.uxSegment}:{},c.type?{type:c.type}:{});};a.FIb=function(c){return Object.keys(c).reduce(function(k,g){k[g]=a.GIb(c[g]);return k;},{});};a.GIb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.transitionType?{ye:c.transitionType}:{});};a.eGb=function(c){return Object.keys(c).reduce(function(k,g){k[g]=a.dGb(c[g]);return k;},{});};a.dGb=function(c){return Object.assign({viewableId:c.M,startTimeMs:c.ya},c.za?{endTimeMs:c.za}:{},c.vc?{defaultNext:c.vc}:{},c.weight?{weight:c.weight}:{},c.ye?{transitionType:c.ye}:{},c.next?{next:a.bGb(c.next)}:{},c.tq?{exitZones:c.tq}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.Lc?{uxSegment:c.Lc}:{},c.type?{type:c.type}:{});};a.bGb=function(c){return Object.keys(c).reduce(function(k,g){k[g]=a.cGb(c[g]);return k;},{});};a.cGb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.ye?{transitionType:c.ye}:{});};return a;})();},function(q,b,a){var h;function c(m){return Object.keys(m.segments).some(function(l){return void 0 !== d(m.segments[l]);});}function k(m){return "delayedSeamless" === m?"lazy":m;}function g(m){return Object.keys(m).reduce(function(l,n){var p,r;p=m[n];r=p.weight;p=p.transitionType || p.transitionHint;n=l[n]={};void 0 !== r && (n.weight=r);p && (n.ye=k(p));return l;},{});}function f(m){var l,n;l=Object.keys(m);n=l.length;return n?l.reduce(function(p,r){return p + (m[r].weight || 0);},0) / n:void 0;}function d(m){var l;if(m.ui){l=m.ui.interactionZones;if((null === l || void 0 === l?0:l.length) && l[0].length)return l[0][0] - m.startTimeMs;m=m.ui.interactionZonesV2;if((null === m || void 0 === m?0:m.length) && m[0].length)return m[0][0];}else if(void 0 !== m.earliestSkipRequestOffset)return m.earliestSkipRequestOffset;}Object.defineProperty(b,"__esModule",{value:!0});b.mB=void 0;h=a(150);b.mB=function(m,l){var n,p,r,t,w,v;n=void 0 === l?{}:l;l=n.Qd;p=n.xe;r=n.P;n=n.config;t=!(!n || -1 === n.gsa.indexOf(m.viewableId));w=c(m)?0:(null === n || void 0 === n?void 0:n.fsa) || 0;n=new h.Rx();v=r || m.segments;n.IL(null !== p && void 0 !== p?p:m.initialSegment).zeb(null !== l && void 0 !== l?l:m.mediaTypes).iBa(t?"immediate":k(m.transitionType)).cBa(Object.keys(v).reduce(function(u,x){var y,z,A,B,D,C;y=v[x];if(null === (z=y.weight) || void 0 === z){z=y.next && (t || (null === (B=y.exitZones) || void 0 === B?0:B.length))?f(y.next):void 0;}B=z;if(z=y.exitZones)D=void 0;else a:{if(t && y.endTimeMs){D=y.endTimeMs - y.startTimeMs;C=d(y);if(C && C < D){D=[[C,D]];break a;}if(w && D > w){D=[[D - w,D]];break a;}}D=void 0;}C=t?D?void 0:y.transitionHint || "lazy":y.transitionHint;B={M:m.viewableId,ya:y.startTimeMs,za:null !== (A=y.endTimeMs) && void 0 !== A?A:Infinity,ye:k(C),tq:z || D,weight:B};y.defaultNext && (B.vc=y.defaultNext);y.next && (B.next=g(y.next));u[x]=B;return u;},{}));return n.ak();};},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.UG=void 0;c=a(150);b.UG=function(k,g,f){var d;d=new c.Rx();d.IL(g).iBa("lazy").zeb(f).Dh(g,{M:k,ya:0,za:Infinity});return d.ak();};},function(q,b,a){var h,m,l,n;function c(p){for(var r=p.xe,t=[];r;){t.push(r);r=p.P[r].next;if(!r)break;r=Object.keys(r);if(r.length)(l.assert(1 === r.length,"Expected linear playgraph"),r=r[0]);else break;}return t;}function k(p){return n.EW(Object.keys(p.P).map(function(r){return p.P[r].M;}));}function g(p,r){return Object.keys(r.P).some(function(t){t=r.P[t];return p.M === t.M && p.ya > t.ya && (!t.za || ! !p.za && (Infinity === p.za || p.za < t.za));});}function f(p){return null === p || void 0 === p?Infinity:p;}function d(p,r){return null === p || void 0 === p?Infinity === f(r.za):p >= r.ya && p <= f(r.za);}Object.defineProperty(b,"__esModule",{value:!0});b.dxa=void 0;h=a(2);m=a(150);l=a(404);n=a(243);b.dxa=function(p,r){var t,w,v,u,x;t=c(r);w=k(p);v=k(r);w=n.ZVa(w,v);l.assert(1 === w.length,"Source and content playgraphs should share one viewable");u=w[0];v=Object.keys(p.P).filter(function(y){return p.P[y].M === u;}).map(function(y){var E,I,K,L,H,P;for(var z,A=p.P[y],B=A.ya,D=f(A.za),C=0 === B,F=[],G=0;G < t.length;++G){E=t[G];I=r.P[E];K=g(p.P[y],r);if(I.M !== u)C && F.push({id:y + ":" + E,G:h.__assign(h.__assign({},I),{Lc:y})});else if(C){H=Math.max(A.ya,I.ya);L=(P=!Number.isFinite(D) && G == t.length - 1)?D:Math.min(D,f(I.za));L > H && (K=Infinity !== D || !K && !P?Infinity === L?null:L:A.za,F.push({id:y + ":" + E,G:h.__assign(h.__assign({},I),{ya:H,za:K,Lc:y})}));if(d(D,I)){if(D === f(I.za))for(G+=1;G < t.length;++G){B=t[G];D=r.P[B];if(D.M === u)break;F.push({id:y + ":" + B,G:h.__assign(h.__assign({},D),{Lc:y})});}break;}}else if(d(B,I))if((C=!0,D <= f(I.za)))F.push({id:y,G:A});else {H=A.ya;P=!Number.isFinite(D) && G == t.length - 1;K=P && K?A.za:Math.min(D,f(I.za));F.push({id:y + ":" + E,G:h.__assign(h.__assign({},I),{ya:H,za:K,Lc:y})});}}F.length || F.push({id:y,G:h.__assign(h.__assign({},A),{Lc:y})});for(G=0;G < F.length - 1;++G){B=F[G + 1].id;F[G].G=h.__assign(h.__assign({},F[G].G),{vc:B,next:(z={},z[B]={},z)});}z=F[F.length - 1];z.G=h.__assign(h.__assign({},z.G),{vc:A.vc,next:A.next});return {id:y,G:A,Zfb:F};});x=v.reduce(function(y,z){return (y[z.id]=z.Zfb[0].id,y);},{});w=new m.Rx();v=v.reduce(function(y,z){z.Zfb.forEach(function(A){return y[A.id]=A.G;});return y;},{});return w.cBa(v,function(){return !0;},x).qVa(p.P,function(y,z){return !x[z];},x,function(y,z){return h.__assign(h.__assign({},y),{Lc:z});}).IL(x[p.xe] || p.xe).ak();};},function(q,b,a){var r,t,w,v,u;function c(x,y,z,A,B){var D,C,F;D=x.P[y];C=z.P[D.Lc];A=A.Lc;F=h(D.za) - D.ya;F=void 0 === B?B=0:B + F;return D.M === (null === C || void 0 === C?void 0:C.M)?{y3:h(D.za),rX:B}:D.Lc === A && (y=r.__read(k(x,y),1)[0]) && x.P[y].Lc === D.Lc?c(x,y,z,D,F):{y3:C.ya,rX:F};}function k(x,y){return Object.keys(x.P).filter(function(z){return x.P[z].vc === y;});}function g(x,y,z,A,B){var D,C,F;void 0 === B && (B=0);y=x.P[y];D=z.P[y.Lc];A=A.Lc;C=z.P[A];F=h(y.za) - y.ya;return y.M === (null === D || void 0 === D?void 0:D.M)?{y3:y.ya,rX:B}:y.Lc === A && y.vc?g(x,y.vc,z,y,B + F):{y3:h(C.za),rX:B};}function f(x,y,z){var A,B,D,C,F,G,E,I,K,L,H,P,N;A=n(x,y,z);if(A)return A;A=x.P[z.G];B=z.offset;D=Object.keys(y.P).filter(function(J){return y.P[J].Lc === z.G;});C=[];D.forEach(function(J){var O,Q,T;function M(V){V=t.L$(y,V);null === V || void 0 === V?void 0:V.forEach(function(da){var pa,xa;if(y.P[da].Lc !== z.G){pa=y.P[da];xa=pa.za;T={G:da,offset:xa - pa.ya};(pa=xa?p(x,y,T):void 0) && C.push({oB:T,qr:pa});pa || (T={G:da,offset:0},(pa=p(x,y,{G:da,offset:0})) && C.push({oB:T,qr:pa}));M(da);}});}O=y.P[J];Q=O.za;T={G:J,offset:Q - O.ya};(O=Q?p(x,y,T):void 0) && C.push({oB:T,qr:O});T={G:J,offset:0};(Q=p(x,y,T)) && C.push({oB:T,qr:Q});Q || O || M(J);});v.assert(0 < C.length,"No point before the content position that can be directly mapped from combined to ux playgraph founc");F=A.ya + B;E=Infinity;C.forEach(function(J){var M;M=J.qr;M=F - (x.P[M.G].ya + M.offset);0 <= M && M < E && (E=M,G=J);});I=[];D.forEach(function(J){var O,Q,T,V;function M(da){Object.keys(y.P[da].next || ({})).forEach(function(pa){var xa,ya,sa;if(y.P[pa].Lc !== z.G){xa=y.P[pa];ya=xa.ya;xa=xa.za;V={G:pa,offset:0};sa=p(x,y,V);sa && I.push({oB:V,qr:sa});sa || (V={G:pa,offset:xa - ya},(ya=xa?p(x,y,V):void 0) && I.push({oB:V,qr:ya}));}M(pa);});}O=y.P[J];Q=O.ya;T=O.za;V={G:J,offset:0};(O=p(x,y,V)) && I.push({oB:V,qr:O});V={G:J,offset:T - Q};(Q=T?p(x,y,V):void 0) && I.push({oB:V,qr:Q});O || Q || M(J);});v.assert(0 < I.length,"No point after the content position that can be directly mapped from combined to ux playgraph found");L=Infinity;I.forEach(function(J){var M;M=J.qr;M=x.P[M.G].ya + M.offset - F;if(0 <= M && M < L || M > L && 0 > L || Infinity === L)(L=M,K=J);});v.assert(G);v.assert(K);B=G.oB;v.assert(B,"Segment not found in the combined playgraph");H=y.P[B.G];B.offset === h(H.za) - H.ya && y.P[H.vc].Lc === H.Lc && (B={G:H.vc,offset:0},H=y.P[B.G]);A=K.oB;v.assert(A,"Segment not found in the combined playgraph");D=y.P[A.G];P=x.P[G.qr.G].ya + G.qr.offset;N=x.P[K.qr.G].ya + K.qr.offset - P;P=0 === N?0:(F - P) / N;if(B.G === A.G)return (H=H.ya + B.offset,B=B.G,{G:B,offset:H + P * (D.ya + A.offset - H) - y.P[B].ya});N=d(y,B,A);H=N.path;N=N.HJ;D=0 === A.offset?0:h(D.za) - D.ya;return l(y,H,B.offset + P * (N - B.offset - (D - A.offset)));}function d(x,y,z){var A,B;if(y.G !== z.G){for(y=[y.G];y[y.length - 1] !== z.G;){A=x.P[y[y.length - 1]];v.assert(A.next,"Cannot find path between points in combined playgraph");if(A.next[z.G])break;B=Object.keys(A.next);1 === B.length?y.push(B[0]):(v.assert(A.vc,"Multiple paths but no default finding paths between points in combined playgrahp"),y.push(A.vc));}0 !== z.offset && y.push(z.G);return {path:y,HJ:m(x,y)};}return {path:[],HJ:z.offset - y.offset};}function h(x){return null === x || void 0 === x?Infinity:x;}function m(x,y){return y.reduce(function(z,A){var B;A=x.P[A];B=A.ya;return z + h(A.za) - B;},0);}function l(x,y,z){var B,D,C;for(var A=0;A < y.length;++A){B=y[A];D=x.P[B];C=D.ya;D=h(D.za) - C;if(D > z)return {G:B,offset:z};z-=D;}v.assert(!1,"Invalid offset given for path");}function n(x,y,z){var A,B,D,C,F,G,E,I,K;B=x.P[z.G];v.assert(B,"Graph position " + z.G + " does not exist in UX playgraph");D=z.offset;v.assert(0 <= D,"Graph position offset " + D + " cannot be negative");v.assert(!B.za || D <= B.za - B.ya,"Graph position " + D + " offset outside segment");if(y.P[z.G])return z;C=Object.keys(y.P).filter(function(L){return y.P[L].Lc === z.G;}).sort(function(L,H){if(L === H)return 0;for(L=y.P[L];L;){if(L.vc === H)return -1;if(!L.vc)break;L=y.P[L.vc];if(L.Lc !== z.G)break;}return 1;});v.assert(0 < C.length,"No segments found in combined playgraph that point back to the ux segment");F=B.ya + D;G=C.filter(function(L){return y.P[L].M === B.M;});E=r.__read(C,1)[0];G=G.map(function(L){return [L,y.P[L]];}).filter(function(L){var H;L=r.__read(L,2);H=L[0];return F >= L[1].ya || H === E;});if(G=w.oe(G,function(L){var H;L=r.__read(L,2)[1];H=L.vc?y.P[L.vc]:void 0;return !L.za || ! !L.za && F <= L.za || (null === H || void 0 === H?void 0:H.Lc) !== z.G && F >= L.ya;})){I=r.__read(G,2);G=I[0];I=I[1];K=(isFinite(F)?F:null !== (A=I.za) && void 0 !== A?A:Infinity) - I.ya;v.assert(0 <= K,"Content playgrah graph position offset cannot be negative");A=!0;0 === K && (A=u.Mra(y,G),A=!A || A.Lc !== I.Lc);if(A)return {G:G,offset:K};}C=C.filter(function(L){return y.P[L].M !== B.M;});if(0 === D && (D=u.Mra(x,z.G),!D || D.Lc !== z.G) && (D=w.oe(C,function(L){return 0 === t.L$(y,L).length;}),void 0 !== D))return {G:D,offset:0};if(B.za && Infinity !== B.za && !(B.za - B.ya !== z.offset || B.vc && x.P[B.vc]) && (D=w.oe(C,function(L){return !y.P[L].next || 0 === Object.keys(y.P[L].next).length;}),void 0 !== D))return (C=y.P[D],x=C.ya,C=C.za,v.assert(C,"Content playgraph segments from other viewables must have end time"),{G:D,offset:C - x});}function p(x,y,z){var A,B;A=y.P[z.G];v.assert(A,"Graph position does not exist in combined playgraph");B=z.offset;v.assert(0 <= B,"Graph position offset cannot be negative");v.assert(!A.za || B <= A.za - A.ya,"Graph position offset outside segment");if(void 0 === A.Lc)return z;x=x.P[A.Lc];v.assert(x,"Referenced ux playgraph segment must exist");if(A.M === x.M)return (B=A.ya + B - x.ya,x=h(x.za) - x.ya,B=Math.max(Math.min(B,x),0),{G:A.Lc,offset:B});if(0 === B && (z=t.L$(y,z.G).filter(function(D){return y.P[D].Lc === A.Lc;}),0 === B && 0 === z.length))return {G:A.Lc,offset:0};B=A.vc?y.P[A.vc]:void 0;if((null === B || void 0 === B?void 0:B.Lc) !== A.Lc)return {G:A.Lc,offset:x.za?x.za - x.ya:Infinity};}Object.defineProperty(b,"__esModule",{value:!0});b.w2a=b.Aib=b.nYa=void 0;r=a(2);t=a(47);w=a(243);v=a(404);u=a(405);b.nYa=function(x,y,z){var A,B,D,C;A=y.P[z.G];B=p(x,y,z);if(B)return B;v.assert(A.Lc,"Combined playgraph must reference a ux playgraph segment since no direct mapping was possible");D=x.P[A.Lc];v.assert(D,"Referenced ux playgraph segment must exist");v.assert(A.za,"Content playgraph segments from other viewables must have end time");if(!A.vc || !y.P[A.vc])return (v.assert(D.za,"Must have definite end time to add terminal content playgraph segment"),{G:A.Lc,offset:D.za - D.ya});C=c(y,z.G,x,A);B=C.y3;C=C.rX;if(null === B || void 0 === B)return (v.assert(D.za,"Experience playgraph segment must have end time"),{G:A.Lc,offset:D.za - D.ya});y=g(y,z.G,x,A);x=y.y3;y=y.rX;null !== x && void 0 !== x && isFinite(x) || v.assert(x,"Experience playgraph segment must have end time");return {G:A.Lc,offset:B + (C + z.offset) / (C + y) * (x - B)};};b.Aib=f;b.w2a=function(x,y,z){var A,B,D;return r.__generator(this,function(C){switch(C.label){case 0:(A=f(x,y,z),B=y.P[A.G],D=A.G,C.label=1);case 1:return [4,D];case 2:(C.pc(),D=B.vc,B=y.P[D],C.label=3);case 3:if((null === B || void 0 === B?void 0:B.Lc) === z.G && D !== A.G)return [3,1];C.label=4;case 4:return [2];}});};},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.XYa=b.$H=void 0;c=a(150);b.$H=-1;b.XYa=function(k,g,f,d,h){function m(r){var t,w,v,u,x,y,z,A,B,D,C;v=g.tW[r];u=v.HTb;if(u > n){x="padstart-" + r;y="ad-" + r + "-0";z=d?x:y;l.Dh(k + "-" + r,{M:k,ya:n,za:u,vc:z,next:(t={},t[z]={},t),type:"content"});d && l.Dh(x,{M:b.$H,ya:0,za:h,vc:y,next:(w={},w[y]={},w),type:"padding"});}n=u;if(v.sO){A=v.sO.length;B="padend-" + r;D=k + "-" + (r + 1);C=d?B:D;v.sO.forEach(function(F,G){var E,I,K;K=G === A - 1?C:"ad-" + r + "-" + (G + 1);l.Dh("ad-" + r + "-" + G,{M:F.id,ya:F.ya,za:F.za,vc:K,next:(E={},E[K]={},E),type:"ad"});d && l.Dh(B,{M:b.$H,ya:0,za:h,vc:D,next:(I={},I[D]={},I),type:"padding"});});}}void 0 === d && (d=!1);void 0 === h && (h=2E3);for(var l=new c.Rx(),n=0,p=0;p < g.tW.length;++p){m(p);}l.Dh(k + "-" + g.tW.length,{M:k,ya:n,za:f || null,type:"content"});l.IL(0 === g.tW[0].HTb?"ad-0-0":k + "-0");return l.ak();};},function(q,b,a){var c,k,g,f,d,h;Object.defineProperties(b,{__esModule:{value:!0}});b.AKa=void 0;c=a(1);k=a(13);g=a(244);f=a(401);q=c.__importDefault(a(5));d=a(937);q=new q.default.Console("ASEJS","media|asejs");q.trace.bind(q);h=["prebuffstats","discardedBytes","flushedBytes","cacheEvict","mediacache"];q=(function(m){function l(n,p){var r;r=m.call(this) || this;r.K=n;r.Ii=new d.IJa(n,p);n.vP && r.KYa(p);r.Kh=new k.Fg();h.forEach(function(t){r.Kh.on(r.Ii,t,function(w){return r.emit(t,w);});r.Wm && r.Kh.on(r.Wm,t,function(w){return r.emit(t,w);});});return r;}c.__extends(l,m);Object.defineProperties(l.prototype,{jc:{get:function(){return this.Ii.jc;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{fp:{get:function(){return this.Ii.fp;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{kx:{get:function(){return this.Ii.kx;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{VC:{get:function(){return this.Ii.VC;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{zva:{get:function(){return this.Ii.zva;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{VG:{get:function(){return this.Ii.VG;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{kg:{get:function(){return this.Ii.kg;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Ji:{get:function(){return this.Ii.Ji;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{xua:{get:function(){return this.Ii.xua;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{E_:{get:function(){return this.Ii.E_.bind(this.Ii);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{eaa:{get:function(){return this.Ii.eaa.bind(this.Ii);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Qoa:{get:function(){var n;n=this;return function(){n.sdb();n.Ii.Qoa();};},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{KE:{get:function(){var n;n=this;return function(){n.sdb();n.Ii.KE();};},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Rr:{get:function(){var n;n=this;return function(p,r,t){var w;null === (w=n.kg) || void 0 === w?void 0:w.Rr(p,r,t);};},enumerable:!1,configurable:!0}});l.prototype.KYa=function(n){return this.Wm=new (a(1071).OPa)(this.K,this.KE,this.Rr,n);};l.prototype.xa=function(n,p,r,t,w,v,u,x){void 0 === u && (u=262144);void 0 === x && (x=1048576);this.Ii.xa(n,p,r,t,w,v);this.Wm?this.Wm.xa(n,p,r,t,w,v,u,x):this.r7a={Zyb:n,b9b:p,Dy:r,VC:t,VG:w,gVb:v,hoa:u,eDa:x};};l.prototype.s2=function(n,p,r){this.Ii.s2(n,p,r);this.Wm?this.Wm.s2(n,p,r):this.x7a={C5b:n,VC:p,VG:r};};l.prototype.createSession=function(n,p,r,t,w,v,u,x,y,z){var A,B,D,C,F;A=this;x || (x=this.Ii.config);if(x.vP && !this.Wm){B=this.KYa(this.Ii.eH);h.forEach(function(G){A.Kh.on(A.Wm,G,function(E){return A.emit(G,E);});});if(this.r7a){D=this.r7a;C=D.VC;F=D.VG;B.xa(D.Zyb,D.b9b,D.Dy,C,F,D.gVb,D.hoa,D.eDa);}this.x7a && (F=this.x7a,D=F.C5b,C=F.VC,F=F.VG,B.s2(D,C,F));}return this.Wm && x && x.w3?(x.xt || x.VK || this.Ii.KE(),this.Wm.createSession(n,p,r,t,w,v,u,x,y,z)):this.Ii.createSession(n,p,r,t,w,v,u,x,y,z);};l.prototype.Pz=function(n,p,r){if(this.Wm)return this.Wm.Pz(n,p,r);throw Error("Update viewable not supported in legacy.");};l.prototype.addEventListener=function(n,p){this.addListener(n,p);return !0;};l.prototype.removeEventListener=function(n,p){this.removeListener(n,p);return !0;};l.prototype.Rb=function(){var n;this.Kh.clear();this.Ii.Rb();null === (n=this.Wm) || void 0 === n?void 0:n.Rb();g.yM.reset();};l.prototype.sdb=function(){var n,p;this.K.xt || this.K.VK || (null === (n=this.Wm) || void 0 === n?void 0:n.Ra.state) !== f.Bp.OPEN || (null === (p=this.Wm) || void 0 === p?void 0:p.Ra.Uw.reset());};return l;})(k.EventEmitter);b.AKa=q;},function(q){function b(c,k,g,f){c.trace(":",g,":",f);k(f);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addListener=function(c,k,g,f){g=f?g.bind(f):g;if(c){this.console && (g=b.bind(null,this.console,g,k));if("function" === typeof c.addListener)c.addListener(k,g);else if("function" === typeof c.addEventListener)c.addEventListener(k,g);else throw Error("Emitter does not have a function to add listeners for '" + k + "'");this.listeners.push([c,k,g]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(k){var g,f;g=k[0];f=k[1];k=k[2];"function" === typeof g.removeEventListener?g.removeEventListener(f,k):"function" === typeof g.removeListener && g.removeListener(f,k);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};q.exports=a;},function(q,b,a){q.exports={bqb:a(867),R$b:a(868)};},function(q,b,a){function c(h){this.data=h;this.right=this.left=null;this.red=!0;}function k(h){this.If=null;this.zo=h;this.size=0;}function g(h){return null !== h && h.red;}function f(h,m){var l;l=h.ci(!m);h.Ns(!m,l.ci(m));l.Ns(m,h);h.red=!0;l.red=!1;return l;}function d(h,m){h.Ns(!m,f(h.ci(!m),!m));return f(h,m);}b=a(406);c.prototype.ci=function(h){return h?this.right:this.left;};c.prototype.Ns=function(h,m){h?this.right=m:this.left=m;};k.prototype=new b();k.prototype.qs=function(h){var m,l,n,p,r,t,w,v,u;m=!1;if(null === this.If)(this.If=new c(h),m=!0,this.size++);else {l=new c(void 0);n=0;p=0;r=null;t=l;w=null;v=this.If;for(t.right=this.If;;){null === v?(v=new c(h),w.Ns(n,v),m=!0,this.size++):g(v.left) && g(v.right) && (v.red=!0,v.left.red=!1,v.right.red=!1);if(g(v) && g(w)){u=t.right === r;v === w.ci(p)?t.Ns(u,f(r,!p)):t.Ns(u,d(r,!p));}u=this.zo(v.data,h);if(0 === u)break;p=n;n=0 > u;null !== r && (t=r);r=w;w=v;v=v.ci(n);}this.If=l.right;}this.If.red=!1;return m;};k.prototype.remove=function(h){var m,l,w,v,u;if(null === this.If)return !1;m=new c(void 0);l=m;l.right=this.If;for(var n=null,p,r=null,t=1;null !== l.ci(t);){w=t;p=n;n=l;l=l.ci(t);v=this.zo(h,l.data);t=0 < v;0 === v && (r=l);if(!g(l) && !g(l.ci(t)))if(g(l.ci(!t)))(p=f(l,t),n.Ns(w,p),n=p);else if(!g(l.ci(!t)) && (v=n.ci(!w),null !== v))if(g(v.ci(!w)) || g(v.ci(w))){u=p.right === n;g(v.ci(w))?p.Ns(u,d(n,w)):g(v.ci(!w)) && p.Ns(u,f(n,w));w=p.ci(u);w.red=!0;l.red=!0;w.left.red=!1;w.right.red=!1;}else (n.red=!1,v.red=!0,l.red=!0);}null !== r && (r.data=l.data,n.Ns(n.right === l,l.ci(null === l.left)),this.size--);this.If=m.right;null !== this.If && (this.If.red=!1);return null !== r;};q.exports=k;},function(q,b,a){function c(g){this.data=g;this.right=this.left=null;}function k(g){this.If=null;this.zo=g;this.size=0;}b=a(406);c.prototype.ci=function(g){return g?this.right:this.left;};c.prototype.Ns=function(g,f){g?this.right=f:this.left=f;};k.prototype=new b();k.prototype.qs=function(g){if(null === this.If)return (this.If=new c(g),this.size++,!0);for(var f=0,d=null,h=this.If;;){if(null === h)return (h=new c(g),d.Ns(f,h),ret=!0,this.size++,!0);if(0 === this.zo(h.data,g))return !1;f=0 > this.zo(h.data,g);d=h;h=h.ci(f);}};k.prototype.remove=function(g){var f,d,n;if(null === this.If)return !1;f=new c(void 0);d=f;d.right=this.If;for(var h=null,m=null,l=1;null !== d.ci(l);){h=d;d=d.ci(l);n=this.zo(g,d.data);l=0 < n;0 === n && (m=d);}return null !== m?(m.data=d.data,h.Ns(h.right === d,d.ci(null === d.left)),this.If=f.right,this.size--,!0):!1;};q.exports=k;},function(q,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.DLa=void 0;c=a(25);k=a(4);q=(function(){function g(){this.data={};}Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{size:{get:function(){var f;f=this;return Object.keys(this.data).reduce(function(d,h){return d + f.data[h].length;},0);},enumerable:!1,configurable:!0}});g.prototype.get=function(f){var d;return null !== (d=this.data[f]) && void 0 !== d?d:[];};g.prototype.has=function(f,d){return (f=this.data[f])?void 0 === d?!0:-1 !== f.indexOf(d):!1;};g.prototype.count=function(f){return (f=this.data[f])?f.length:0;};g.prototype.keys=function(){return Object.keys(this.data);};g.prototype.values=function(){var f;f=this;return c.flatten(this.keys().map(function(d){return f.data[d];}));};g.prototype.set=function(f,d){(this.data[f] || (this.data[f]=[])).push(d);return this;};g.prototype.clear=function(){this.data={};};g.prototype.delete=function(f,d){var h,m;h=this.data[f];if(void 0 === h)return !1;if(void 0 === d)return (k.assert(1 === arguments.length),delete this.data[f],!0);m=h.indexOf(d);if(-1 === m)return !1;1 === h.length?delete this.data[f]:h.splice(m,1);return !0;};g.prototype.forEach=function(f,d){var h;h=this;f=void 0 !== d?f.bind(d):f;this.keys().forEach(function(m){return h.data[m].forEach(function(l){return f(l,m,h);});});};g.prototype.reduce=function(f,d,h){var m,l;m=this;f=void 0 !== h?f.bind(h):f;l=d;this.forEach(function(n,p){l=f(l,n,p,m);});return l;};g.prototype.map=function(f,d){var h;h=this;f=void 0 !== d?f.bind(d):f;return c.flatten(this.keys().map(function(m){return h.data[m].map(function(l){return f(l,m,h);});}));};g.prototype.filter=function(f,d){var h;h=this;f=void 0 !== d?f.bind(d):f;return c.flatten(this.keys().map(function(m){return h.data[m].filter(function(l){return f(l,m,h);});}));};return g;})();b.DLa=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.q1a=void 0;b.q1a=function(a,c){return a.filter(function(k){var g,f;k=null !== (f=null !== (g=k.he) && void 0 !== g?g:k.ps) && void 0 !== f?f:k.Yd;return ! !k && k.DK(c);}).pop();};},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.SPa=b.RPa=void 0;c=a(25);q=(function(){function k(g){this.Va=g;this.listeners=[];this.I0=[];}Object.defineProperties(k.prototype,{value:{get:function(){return this.Va;},enumerable:!1,configurable:!0}});k.prototype.set=function(g){var f;this.Va=g;f=this.I0;this.I0=[];this.listeners.forEach(function(d){return d(g);});f.forEach(function(d){return d(g);});};k.prototype.tdb=function(){this.Va=void 0;};k.prototype.on=function(g){this.listeners=this.listeners.concat([g]);void 0 !== this.Va && g(this.Va);};k.prototype.once=function(g){void 0 !== this.Va?g(this.Va):this.I0.push(g);};k.prototype.zC=function(g){this.listeners=this.listeners.filter(function(f){return f !== g;});this.I0=this.I0.filter(function(f){return f !== g;});};return k;})();b.RPa=q;q=(function(){function k(){this.listeners=[];}k.prototype.on=function(g,f){this.listeners.push({signal:g,listener:f});g.on(f);};k.prototype.once=function(g,f){var d,h;d=this;if(void 0 === g.value){h=function(m){d.remove(g,f);f(m);};this.listeners.push({signal:g,listener:f,bjb:h});g.once(h);}else g.once(f);};k.prototype.zC=function(g,f){var d,h;h=c.oe(this.listeners,function(m){return m.signal === g && m.listener === f;});void 0 !== h && g.zC(null !== (d=h.bjb) && void 0 !== d?d:h.listener);this.remove(g,f);};k.prototype.removeAllListeners=function(){this.listeners.forEach(function(g){var f,d;f=g.listener;d=g.bjb;return g.signal.zC(null !== d && void 0 !== d?d:f);});this.listeners=[];};k.prototype.remove=function(g,f){this.listeners=this.listeners.filter(function(d){return d.signal !== g || d.listener !== f;});};return k;})();b.SPa=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.EH=b.sva=void 0;b.sva=function(a){return "function" === typeof (null === a || void 0 === a?void 0:a.then);};q=(function(){function a(){var c;c=this;this.oUa=!1;this.promise=new Promise(function(k){c.Xvb=k;});}Object.defineProperties(a.prototype,{then:{get:function(){return this.promise.then.bind(this.promise);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{jAa:{get:function(){return this.oUa;},enumerable:!1,configurable:!0}});a.prototype.resolve=function(c){this.oUa=!0;this.Xvb(c);};return a;})();b.EH=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.XZa=void 0;b.XZa=function(a){return JSON.parse(JSON.stringify(a));};},function(q,b,a){var k;function c(g,f,d){var h,l,n;if(g === f || !d.jo && g == f)return !0;if(typeof g !== typeof f)return !1;if(g && "object" === typeof g){for(var m in g){if(!c(g[m],f[m],d))return !1;}if(!d.nBb){l=Object.keys(g);n=Object.keys(f).filter(function(w){return 0 > l.indexOf(w);});try{for(var p=k.__values(n),r=p.next();!r.done;r=p.next()){if((m=r.value,!c(g[m],f[m],d)))return !1;}}catch(w){var t;t={error:w};}finally{try{r && !r.done && (h=p.return) && h.call(p);}finally{if(t)throw t.error;}}}return !0;}return !1;}Object.defineProperties(b,{__esModule:{value:!0}});b.R9=void 0;k=a(1);b.R9=function(g,f,d){void 0 === d && (d={});d=k.__assign({jo:!1,nBb:!1},d);return c(g,f,d);};},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.IU=void 0;q=(function(){function a(){this.count=0;this.max=this.min=this.Ca=NaN;}Object.defineProperties(a.prototype,{ou:{get:function(){return this.max - this.min;},enumerable:!1,configurable:!0}});a.prototype.push=function(c){this.count++;1 === this.count?this.Ca=this.min=this.max=c:(this.min=Math.min(c,this.min),this.max=Math.max(c,this.max),this.Ca+=(c - this.Ca) / this.count);};a.prototype.toJSON=function(){return {min:this.min,max:this.max,average:this.Ca};};return a;})();b.IU=q;},function(q,b,a){var k;function c(g){this.RR=new Uint16Array(g.length);for(var f=0;f < g.length;++f){this.RR[f]=g.charCodeAt(f);}}k=new (a(5).default.Console)("ASEJS_XORCiper","media|asejs");c.prototype.constructor=c;c.prototype.encrypt=function(g){var f;f=this.RR.length;if(void 0 === this.RR)k.warn("XORCiper.encrypt is called with undefined secret!");else {for(var d="",h=0;h < g.length;++h){d+=String.fromCharCode(this.RR[h % f] ^ g.charCodeAt(h));}return encodeURIComponent(d);}};c.prototype.decrypt=function(g){var f,d;f="";d=this.RR.length;g=decodeURIComponent(g);for(var h=0;h < g.length;h++){f+=String.fromCharCode(this.RR[h % d] ^ g.charCodeAt(h));}return f;};q.exports=c;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(407);q=(function(){function k(g,f){this.Ca=g;this.Ye=f;}k.prototype.zXa=function(g){return .5 * c.AP(-(g - this.Ca) / Math.sqrt(2 * this.Ye));};k.prototype.nea=function(g){return this.Ca - Math.sqrt(2 * this.Ye) * c.q5a(2 * g);};return k;})();b.default=q;},function(q,b,a){q.exports={egc:a(409),qjc:a(247),U$b:a(879),jGa:a(410),T$b:a(412),V$b:a(413),Omb:a(414)};},function(q,b,a){var g,f,d,h;function c(m,l,n){g.call(this,m,l,n);}function k(m,l){f.call(this,new c(m,l,!1));}g=a(880);f=a(881);d=a(105).rLb;h=a(105).EOb;c.prototype=Object.create(g.prototype);c.prototype.Ca=function(){return Math.floor(8 * d(this.me) / this.ae);};c.prototype.Ye=function(){return Math.floor(64 * h(this.me) / (this.ae * this.ae));};c.prototype.get=function(){return {Ca:this.Ca(),Ye:this.Ye(),efc:this.me.length};};c.prototype.toString=function(){return "bsw(" + this.mO + "," + this.ae + "," + this.el + ")";};k.prototype=Object.create(f.prototype);k.prototype.setInterval=function(m){this.BN.setInterval(m);};q.exports=k;},function(q){function b(a,c,k){this.mO=a;this.el=Math.floor((a + c - 1) / c);this.ae=c;this.Dvb=k;this.reset();}b.prototype.shift=function(){this.me.shift();this.dj.shift();};b.prototype.update=function(a,c){this.me[a]+=c;};b.prototype.push=function(a){this.me.push(0);this.dj.push(a?a:0);this.Qb+=this.ae;};b.prototype.add=function(a,c,k,g){var f,d;if(null === this.Qb){f=Math.max(Math.floor((k - c + this.ae - 1) / this.ae),1);for(this.Qb=c;this.me.length < f;){this.push(g);}}for(;this.Qb < k;){if((this.push(g),this.Dvb))for(;1 < this.me.length && k + g - (this.Qb - this.ae * this.me.length + this.dj[0]) > this.mO;){this.shift();}else this.me.length > this.el && this.shift();}if(c > this.Qb - this.ae)this.update(this.me.length - 1,a);else if(c == k)(g=this.me.length - Math.max(Math.ceil((this.Qb - k) / this.ae),1),0 <= g && this.update(g,a));else for(g=1;g <= this.me.length;++g){f=this.Qb - g * this.ae;d=f + this.ae;if(!(f > k)){if(d < c)break;this.update(this.me.length - g,Math.round(a * (Math.min(d,k) - Math.max(f,c)) / (k - c)));}}for(;this.me.length > this.el;){this.shift();}};b.prototype.reset=function(){this.me=[];this.dj=[];this.Qb=null;};b.prototype.setInterval=function(a){this.el=Math.floor((a + this.ae - 1) / this.ae);};q.exports=b;},function(q){function b(a){this.BN=a;this.xf=0;this.gO=null;}b.prototype.add=function(a,c,k){null !== this.gO && c > this.gO && (this.xf+=c - this.gO,this.gO=null);this.BN.add(a,c - this.xf,k - this.xf,this.xf);};b.prototype.stop=function(a){null === this.gO && (this.gO=a);};b.prototype.Zya=function(a,c){return this.BN.Zya(a,c);};b.prototype.get=function(){return this.BN.get();};b.prototype.reset=function(){this.BN.reset();};b.prototype.toString=function(){return this.BN.toString();};q.exports=b;},function(q,b,a){var k;function c(){this.Zk=void 0;this.pE=0;}k=a(10);c.prototype.start=function(){};c.prototype.stop=function(){};c.prototype.add=function(){};c.prototype.getState=function(){return 0 !== this.pE && this.Zk?{p25:this.Zk.am,p50:this.Zk.qk,p75:this.Zk.bm,c:this.pE}:null;};c.prototype.re=function(g){if(!(!k.Gb(g) && k.has(g,"p25") && k.has(g,"p50") && k.has(g,"p75") && k.has(g,"c") && k.isFinite(g.p25) && k.isFinite(g.p50) && k.isFinite(g.p75) && k.isFinite(g.c)))return (this.Zk=void 0,this.pE=0,!1);this.Zk={am:g.p25,qk:g.p50,bm:g.p75};this.pE=g.c;};c.prototype.get=function(){return {Wda:this.Zk,ad:this.pE};};c.prototype.set=function(g,f){this.Zk=g;this.pE=f;};c.prototype.reset=function(){this.Zk=void 0;this.pE=0;};c.prototype.toString=function(){return "IQRHist(" + this.Zk + "," + this.pE + ")";};q.exports=c;},function(q,b,a){var k;function c(g){var f,d;f=g.sw;d=g.mw;this.lO=f;this.cla={uhd:g.uhdl,hd:g.hdl};this.el=Math.max(Math.ceil(1 * f / d),1);this.$tb=g.mins || 1;k.call(this,f,d);this.reset();}k=a(152);new (a(5).default.Console)("ASEJS_NETWORK_ENTROPY","media|asejs");c.prototype=Object.create(k.prototype);c.prototype.flush=function(){this.me.map(function(g,f){this.sVa(g,this.qsa(f));},this);};c.prototype.nAb=function(){var g,f,d,h,m,l,n,w;g=this.cla;for(f in g){if(g.hasOwnProperty(f)){d=g[f];h=this.cna[f];m=this.bna[f];if(h.first){l=h.first;n=h.nL;void 0 !== n && (m[l][n]+=1);h.first=void 0;}h=[];l=0;d=n=d.length + 1;for(var p=0;p < n;p++){for(var r=0,t=0;t < d;t++){r+=m[t][p];}l+=r;h.push(r);}r=-1;if(l > this.$tb){for(p=r=0;p < n;p++){if(0 < h[p])for(t=0;t < d;t++){w=m[t][p];0 < w && (r-=w * Math.log(1 * w / h[p]));}}r/=l * Math.log(2);}this.Ela[f]=r;}}return this.Ela;};c.prototype.sVa=function(g,f){var l,n;for(var d=this.el,h=this.cla;this.m7.length >= d;){this.m7.shift();}for(;this.n7.length >= d;){this.n7.shift();}this.m7.push(g);this.n7.push(f);g=this.m7.reduce(function(p,r){return p + r;},0);f=this.n7.reduce(function(p,r){return p + r;},0);if(0 < f){g=8 * g / f;for(var m in h){if(h.hasOwnProperty(m)){f=this.cna[m];d=this.bna[m];l=this.g0b(g,h[m]);n=f.nL;void 0 !== n?d[l][n]+=1:f.first=l;f.nL=l;}}}};c.prototype.g0b=function(g,f){for(var d=0;d < f.length && g > f[d];){d+=1;}return d;};c.prototype.shift=function(){this.sVa(this.me[0],this.qsa(0));k.prototype.shift.call(this);};c.prototype.reset=function(){var g,f,d,h,m,l,n;this.cna={};this.m7=[];this.n7=[];this.bna={};this.Ela={};g=this.cla;for(f in g){if(g.hasOwnProperty(f)){d=this.bna;h=f;l=void 0;n=Array(l);l=m=g[f].length + 1;for(var p=0;p < l;p++){n[p]=Array(m);for(var r=0;r < m;r++){n[p][r]=0;}}d[h]=n;this.cna[f]={first:void 0,nL:void 0};this.Ela[f]=0;}}k.prototype.reset.call(this);};q.exports=c;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.fOa=void 0;q=(function(){function a(c,k){this.filter=c;this.iea=k;}a.prototype.Mwa=function(c){return 0 < this.iea.filter(function(k){var g;return k === (null === (g=c.OG) || void 0 === g?void 0:g.mf);}).length;};a.prototype.add=function(c,k,g,f){this.Mwa(f) && this.filter.add(c,k,g,f);};a.prototype.start=function(c,k){this.filter.start && this.Mwa(k) && this.filter.start(c);};a.prototype.stop=function(c,k){this.filter.stop && this.Mwa(k) && this.filter.stop(c);};a.prototype.get=function(c){if(this.filter.get)return this.filter.get(c);};a.prototype.flush=function(){this.filter.flush && this.filter.flush();};a.prototype.reset=function(){this.filter.reset && this.filter.reset();};return a;})();b.fOa=q;},function(q,b,a){var k,g;function c(f){this.K=f;this.EV();}k=a(10);g=a(5).default;new g.Console("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.save=function(){var f;f=this.getState();g.storage.set("nh",f);};c.prototype.i5b=function(){this.YI || (this.YI=!0,this.OA=g.time.ma());};c.prototype.q5b=function(){var f;if(this.YI){f=g.time.ma();this.TA+=f - this.OA;this.OA=f;this.YI=!1;this.DV=null;}};c.prototype.a6a=function(f,d){this.YI && (d > this.OA && (this.TA+=d - this.OA,this.OA=d),null === this.DV || f > this.DV) && (f=d - f,this.PN.push([this.TA - f,f]),this.Ewb(),this.DV=d);};c.prototype.Ewb=function(){var f;f=this.TA - this.K.oWb;this.PN=this.PN.filter(function(d){return d[0] > f;});};c.prototype.EV=function(){var f;f=g.storage.get("nh");this.Uma(f) || (this.OA=g.time.ma(),this.TA=0,this.YI=!1,this.DV=null,this.PN=[]);};c.prototype.Uma=function(f){if(!(f && k.has(f,"t") && k.has(f,"s") && k.has(f,"i") && k.Oa(f.t) && k.Oa(f.s) && k.isArray(f.i)))return !1;this.OA=g.time.Oxa(1E3 * f.t);this.TA=1E3 * f.s;this.YI=!1;this.PN=f.i.map(function(d){return [1E3 * d[0],d[1]];});this.DV=null;return !0;};c.prototype.getState=function(){return this.YI?{t:g.time.now() / 1E3 | 0,s:(this.TA + (g.time.ma() - this.OA)) / 1E3 | 0,i:this.PN.map(function(f){return [f[0] / 1E3 | 0,f[1]];})}:{t:g.time.txa(this.OA) / 1E3 | 0,s:this.TA / 1E3 | 0,i:this.PN.map(function(f){return [f[0] / 1E3 | 0,f[1]];})};};q.exports=c;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ILa=void 0;q=a(1).__importDefault(a(5));c=a(17);new q.default.Console("ASEJS_NETWORK_CONFIDENCE","media|asejs");a=(function(){function k(g,f){this.config=g;this.Xxa=f;this.reset();}k.prototype.reset=function(){this.confidence=c.KD.HAVE_NOTHING;this.startTime=this.ga=0;};k.prototype.add=function(g,f,d){0 === this.startTime && (this.startTime=f,this.ga=0);this.ga+=g;g=d - this.startTime;this.confidence=Math.max(this.confidence,c.KD.zD);this.confidence < c.KD.yD && (g > this.config.Ztb || this.ga > this.config.Ytb) && (this.confidence=c.KD.yD);this.confidence < c.KD.OT && (g > this.config.svb || this.ga > this.config.rvb) && (this.confidence=c.KD.OT,this.Xxa());};k.prototype.get=function(){return this.confidence;};k.prototype.start=function(){};k.prototype.stop=function(){};k.prototype.flush=function(){};return k;})();b.ILa=a;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.$ha=void 0;q=a(1);c=a(888);new (q.__importDefault(a(5)).default.Console)("ASEJS_ENDPOINT_ACTIVITY","media|asejs");a=(function(){var u10;u10=2;for(;u10 !== 7;){switch(u10){case 2:k.prototype.reset=function(){var w10;w10=2;for(;w10 !== 1;){switch(w10){case 2:this.dH=new c.mFa();w10=1;break;case 4:this.dH=new c.mFa();w10=3;break;w10=1;break;}}};k.prototype.KR=function(g,f){var x10;x10=2;for(;x10 !== 1;){switch(x10){case 2:f.ll && (this.Fua?this.dH.start(g,f.ll):1 === f.type && (this.CB[f.ll]?this.CB[f.ll].G3+=1:this.CB[f.ll]={ll:f.ll,G3:1,K$:!1},this.Ihb(g)));x10=1;break;}}};k.prototype.Q1=function(g,f){var y10,d;y10=2;for(;y10 !== 9;){switch(y10){case 1:y10=this.Fua?5:4;break;case 6:y10=this.Fua?8:7;break;y10=this.Fua?5:4;break;case 2:y10=f.ll?1:9;break;case 4:d=this.CB[f.ll];1 === f.type && d && (--d.G3,0 === d.G3 && (d.K$ && this.dH.stop(g,f.ll),d.K$=!1,delete this.CB[f.ll]),this.Ihb(g));y10=9;break;case 5:this.dH.stop(g,f.ll);y10=9;break;}}};k.prototype.zE=function(g,f,d,h){var z10;z10=2;for(;z10 !== 1;){switch(z10){case 2:h.ll && (this.Fua?this.dH.add(g,f,d,h.ll):this.sW === h.ll && this.dH.add(g,f,d,h.ll));z10=1;break;}}};u10=3;break;case 3:k.prototype.Yo=function(){var A10;A10=2;for(;A10 !== 1;){switch(A10){case 2:return this.dH.get();break;}}};k.prototype.Ihb=function(g){var B10,f,d;B10=2;for(;B10 !== 5;){switch(B10){case 2:(f=Object.keys(this.CB),d=this.CB[f[0]]);1 === f.length && !1 === d.K$?(this.dH.start(g,d.ll),this.sW=d.ll):1 < f.length && this.sW && (f=this.CB[this.sW],this.dH.stop(g,this.sW),f.K$=!1,this.sW=void 0);B10=5;break;}}};return k;break;}}function k(g){var v10;v10=2;for(;v10 !== 4;){switch(v10){case 2:var c69="1SI";c69+="Y";c69+="bZr";c69+="NJ";c69+="Cp9";this.Fua=g;this.CB={};c69;v10=4;break;}}}})();b.$ha=a;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.mFa=void 0;c=a(1).__importDefault(a(248));q=(function(){var C10;C10=2;for(;C10 !== 9;){switch(C10){case 2:k.prototype.add=function(g,f,d,h){var E10,m;E10=2;for(;E10 !== 4;){switch(E10){case 2:m=this.N7;void 0 === m[h] && (m[h]=new c.default());m[h].add(g,f,d);E10=4;break;}}};k.prototype.start=function(g,f){var F10,d;F10=2;for(;F10 !== 4;){switch(F10){case 2:d=this.N7;void 0 === d[f] && (d[f]=new c.default());d[f].start(g);F10=4;break;}}};k.prototype.stop=function(g,f){var G10,d;G10=2;for(;G10 !== 5;){switch(G10){case 2:d=this.N7;void 0 !== d[f] && d[f].stop(g);G10=5;break;}}};k.prototype.get=function(){var H10,m,l,g,f,d,h;H10=2;for(;H10 !== 8;){switch(H10){case 3:h++;H10=1;break;case 1:H10=h < f.length?5:9;break;case 5:(m=f[h],l=g[m].get());l && d.push({cdnid:m,avtp:l.Ca,tm:l.g$});H10=3;break;case 2:(g=this.N7,f=Object.keys(g),d=[],h=0);H10=1;break;case 9:return d;break;}}};C10=3;break;case 3:return k;break;}}function k(){var D10;D10=2;for(;D10 !== 5;){switch(D10){case 2:var a69="1";a69+="S";a69+="I";a69+="YbZrNJCp";a69+="9";this.N7={};a69;D10=5;break;}}}})();b.mFa=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.uMa=void 0;c=a(1).__importDefault(a(248));q=(function(){var I10;I10=2;function k(g){var J10;J10=2;for(;J10 !== 7;){switch(J10){case 2:var G69="1SIYbZ";G69+="rN";G69+="JCp9";this.T1=[0,0];this.rf=[0,0];this.N0=[0,0];G69;J10=3;break;case 3:this.Qda=g.Qda;this.nya=[new c.default(),new c.default()];this.yab=new c.default();J10=7;break;}}}for(;I10 !== 3;){switch(I10){case 4:return k;break;case 14:return k;break;I10=3;break;case 2:k.prototype.reset=function(){var K10;K10=2;for(;K10 !== 4;){switch(K10){case 2:this.T1=[0,0];this.rf=[0,0];this.N0=[0,0];K10=4;break;}}};k.prototype.zE=function(g,f,d,h){var L10,m,l;L10=2;for(;L10 !== 8;){switch(L10){case 5:L10=(null === (m=h.U1) || void 0 === m?0:m.Qba())?4:3;break;case 2:this.rf[h.type]+=g;L10=5;break;case 4:(this.T1[h.type]+=g,this.yab.add(g,f,d),this.nya[h.type].add(g,f,d));L10=3;break;case 3:L10=(null === (l=h.U1) || void 0 === l?0:l.K8a(g,f,d,this.Qda))?9:8;break;case 9:this.N0[h.type]+=g;L10=8;break;}}};k.prototype.Eaa=function(){var M10;M10=2;for(;M10 !== 1;){switch(M10){case 2:return {bytesRequestedPacingVideo:this.T1[1],bytesRequestedPacingAudio:this.T1[0],estimatedBytesPacedVideo:this.N0[1],estimatedBytesPacedAudio:this.N0[0],bytestotalVideo:this.rf[1],bytestotalAudio:this.rf[0],pacedAvtpVideo:this.nya[1].get().Ca,pacedAvtpAudio:this.nya[0].get().Ca,pacedAvtp:this.yab.get().Ca};break;}}};I10=4;break;}}})();b.uMa=q;},function(q,b,a){Object.defineProperty(b,"__esModule",{value:!0});q=a(22);q.__exportStar(a(891),b);q.__exportStar(a(427),b);},function(q,b,a){var c,k,g,f,d,h,m,l,n;Object.defineProperty(b,"__esModule",{value:!0});b.gQa=void 0;c=a(22);k=a(892);g=a(186);f=a(918);d=a(427);h=a(428);m=a(934);l=a(935);n=a(936);q=(function(){function p(r,t){this.atob=r;this.console=t;this.cDa={};this.eoa={};}p.prototype.jOb=function(r,t,w,v,u){var x,y;void 0 === v && (v={w:16,Qt:9});void 0 === u && (u=1);x=m.oe(d.Kib,function(z){return d.R1a(t,d.Q1a[z]);});h.assert(x);h.assert(16 === v.w && 9 === v.Qt || 4 === v.w && 3 === v.Qt);v=16 === v.w?"16:9":"4:3";void 0 === this.cDa[r] && (this.cDa[r]={});y=this.cDa[r];void 0 === y[v] && (y[v]={});y=y[v];void 0 === y.h264 && (y.h264={});y=y.h264;void 0 === y[x] && (y[x]={});y=y[x];void 0 === y[u] && (y[u]=this.fGb(f.video[r][v].h264[x],u));return c.__assign({},this.$_a(1,y[u],new g.O(w)));};p.prototype.iOb=function(r,t,w){var v;void 0 === w && (w=1);t=32;void 0 === this.eoa.silence && (this.eoa.silence={});v=this.eoa.silence;void 0 === v.heaac && (v.heaac={});v=v.heaac;void 0 === v[t] && (v[t]={});v=v[t];void 0 === v[w] && (v[w]=this.decode(f.audio.silence.heaac[t],w));return this.$_a(0,v[w],new g.O(r));};p.prototype.decode=function(r,t){var w,v,u,x;w=r.He?this.VZa(r.xa,r.Ygc,r.zg):this.atob(r.xa);v=r.Ge?this.VZa(r.T,r.ogc,r.$h):this.atob(r.T);if(1 !== t){u=new DataView(w);x=new DataView(v);r.Fd.forEach(function(y){return u.setUint32(y,t);});r.Ed.forEach(function(y){return x.setUint32(y,t);});}return c.__assign(c.__assign({},r),{xa:w,T:v});};p.prototype.fGb=function(r,t){return c.__assign(c.__assign({},this.decode(r,t)),{width:r.width,height:r.height,CYb:1,DYb:1});};p.prototype.$_a=function(r,t,w){var v,u;v=new g.O(t.$);u=new g.O(t.duration).Dj(v);w=Math.ceil(w.Dj(v));if(u <= w)return t;r=new k.kn(this.console,{mediaType:r},t.T).H1(w,v.I);return c.__assign(c.__assign({},t),{T:l.Jv(r.T),duration:v.wC(w)});};p.prototype.VZa=function(r,t,w){r=n.n8a((t?t.substring(0,t.length - 4):"") + r);return r.buffer.slice(r.byteOffset + (w || 0),r.byteOffset + r.byteLength);};return p;})();b.gQa=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});q=a(249);c=a(155);b.YFa=c;c=a(418);b.mI=c;c=a(422);b.lWa=c;b.HU=q.mk.Ba.sidx;q=a(910);b.uo=q.uo;q=a(256);b.mm=q.mm;q=a(915);b.kn=q.kn;b.bu=q.bu;q=a(916);b.lA=q.lA;q=a(85);b.Uk=q.Uk;a=a(917);b.oi=a.oi;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(){this.tb();this.cb=1 === this.version?this.Cf([{creationTime:"int64"},{modificationTime:"int64"},{I:"int32"},{duration:"int64"}]):this.Cf([{creationTime:"int32"},{modificationTime:"int32"},{I:"int32"},{duration:"int32"}]);return !0;};g.Xa="mvhd";g.wa=!1;return g;})(a(27).yb);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.Xa="trak";g.wa=!0;return g;})(a(27).yb);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(f){var d;this.tb();d=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];d=d.concat({offset:64,type:"offset"},{D7a:"int16"},{HVa:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.cb=this.Cf(d);this.cb.$gb=! !(this.flags & 1);this.cb.ahb=! !(this.flags & 2);this.cb.bhb=! !(this.flags & 4);this.cb.dhb=! !(this.flags & 8);this.l.console.trace("Finished parsing track box");if(null === f || void 0 === f?0:f.Ya)(f.Ya.width=this.cb.width,f.Ya.height=this.cb.height);return !0;};g.Xa="tkhd";g.wa=!1;return g;})(a(27).yb);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(){this.tb();this.cb=this.Cf(1 === this.version?[{LP:"int64"}]:[{LP:"int32"}]);return !0;};g.Xa="mehd";g.wa=!1;return g;})(a(27).yb);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(f){this.cb=this.Cf([{NZ:"int32"},{A3:"int32"}]);if(null === f || void 0 === f?0:f.Ya)(f.Ya.D4a=this.cb.NZ,f.Ya.Bib=this.cb.A3);return !0;};g.Xa="pasp";g.wa=!1;return g;})(a(27).yb);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(){this.cb=this.Cf([{VWa:"int32"},{maxBitrate:"int32"},{bq:"int32"}]);return !0;};g.Xa="btrt";g.wa=!1;return g;})(a(27).yb);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(){this.l.rh();this.l.rh();for(this.Iv=[];this.l.offset <= this.byteOffset + this.byteLength - 4;){this.Iv.push(this.l.rh());}return !0;};g.Xa="ftyp";g.wa=!1;return g;})(a(27).yb);b.default=q;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);k=a(85);q=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}c.__extends(f,g);f.prototype.parse=function(){this.tb();this.cb=this.Cf([{xbb:"int32"},{DF:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.cb.DF=k.Uk(this.cb.DF);return !0;};f.Xa="hdlr";f.wa=!1;return f;})(a(27).yb);b.default=q;},function(q,b,a){var c,k,g,f,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);k=a(106);g=a(186);f=a(187);q=a(27);d=a(86);a=(function(h){function m(){return null !== h && h.apply(this,arguments) || this;}c.__extends(m,h);m.prototype.parse=function(){this.tb();this.Kt=this.l.ba();return !0;};m.prototype.Nn=function(l){var n,p,r;p=Object.keys(this.Ba);if(p.length && (p=p[0],this.Ba[p].length)){p=this.Ba[p][0];if(p instanceof f.default){r=null !== (n=p.Ck) && void 0 !== n?n:p.samplerate;this.$=new g.O(p.Gi,r);}else p instanceof d.default && (n=p.Ba[k.$u]) && n.length && (n=n[0].cb,1E3 !== n.Vl && 1001 !== n.Vl || 0 !== n.jp % 1E3?this.l.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + n.jp + "/" + n.Vl):this.$=new g.O(n.Vl,n.jp));l && this.$ && (l.$=this.$);}return !0;};m.prototype.IG=function(l){void 0 !== this.Ba[l] && 0 !== this.Ba[l].length && (this.Y.ie(this.Kt - 1,this.byteOffset + 12),l=this.Ba[l][0],this.Rc(l.byteLength,l.byteOffset));};m.Xa="stsd";m.wa=!0;return m;})(q.yb);b.default=a;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(){this.QY=this.l.sb(2);this.ZW=this.l.sb(5);this.$W=this.l.sb(3);this.pW=this.l.sb(3);this.l.sb(1);this.l.sb(5);this.l.sb(5);return !0;};g.Xa="dac3";return g;})(a(27).yb);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(){var d;this.r0=this.l.lb() & 7;this.L2=[];for(var f=0;f < this.r0;f++){d={QY:this.l.sb(2),ZW:this.l.sb(5),$W:this.l.sb(5),pW:this.l.sb(3),E7a:this.l.sb(1),q0:this.l.sb(4)};0 < d.q0?d.FXa=this.l.sb(9):this.l.sb(1);this.L2.push(d);}return !0;};g.Xa="dec3";return g;})(a(27).yb);b.default=q;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);k=a(27);q=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}c.__extends(f,g);f.prototype.parse=function(d){this.tb();this.ix=this.l.rh();k.aa && this.l.console.trace("SchemeTypeBoxTranslator: " + this.ix);if("cenc" === this.ix){if((this.l.offset-=4,k.aa && this.l.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.l.offset),this.Y.tH("piff"),null === d || void 0 === d?0:d.Ya))d.Ya.encryptionScheme="piff";}else if(null === d || void 0 === d?0:d.Ya)d.Ya.encryptionScheme=this.ix;this.l.ba();return !0;};f.Xa="schm";f.wa=!1;return f;})(k.yb);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(f){var d;this.l.Aa();this.fT=this.l.Aa();this.l.Aa();this.l.Aa();this.l.Aa();this.er=this.qv(this.l.Aa() & 31);this.wG=this.qv(this.l.Aa());this.yk=this.er.length?this.er[0][0]:this.fT;this.kE=this.l.offset;this.startOffset + this.length < this.l.offset && (100 === this.yk || 110 === this.yk || 122 === this.yk || 144 === this.yk) && (this.l.Aa(),this.l.Aa(),this.qv(this.l.Aa()));d=this.startOffset + this.length - this.kE;0 < d && this.Rc(d,this.kE);if(null === f || void 0 === f?0:f.config)(f.config.er=this.er,f.config.wG=this.wG,f.config.yk=this.yk);return !0;};g.prototype.qv=function(f){var m;for(var d=[],h=0;h < f;++h){m=this.l.lb();d.push(this.l.Vq(m));}return d;};g.Xa="avcC";g.wa=!1;return g;})(a(27).yb);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.Nn=function(){var f;f=this.oh("esds");if(f=f && f.wD.oh(5))(this.Gi=f.Gi,this.Ck=f.Ck);return !0;};g.Xa="mp4a";g.wa=!0;return g;})(a(187).default);b.default=q;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);k=a(251);q=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}c.__extends(f,g);f.prototype.parse=function(d){this.tb();this.wD=k.xD.EG(this.l,d);this.l.console.trace("-------------- ESDBox start ---------------");this.l.console.trace(this.wD);this.l.console.trace("-------------- ESDBox end ---------------");return !0;};f.Xa="esds";f.wa=!1;return f;})(a(27).yb);b.default=q;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);q=a(106);a=a(27);k=q.$u;a=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}c.__extends(f,g);f.prototype.parse=function(){this.tb();this.cb=this.Cf([{jp:"int32"},{Vl:"int16"}]);return !0;};f.Xa=k;f.wa=!1;return f;})(a.yb);b.default=a;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(){var f,d,h,m,l;this.tb();f=this.Cf([{cn:"int32"},{ZE:"int32"},{Bi:"int32"},{Di:"int32"},{Ci:"int32"}]);d=f.cn;h=f.ZE;m=f.Bi;l=f.Ci;f=f.Di;this.cb={trackId:d,f_a:h,lq:m,g_a:l,h_a:f};this.cn=d;this.ZE=h;this.Bi=m;this.Di=f;this.Ci=l;return !0;};g.Xa="trex";g.wa=!1;return g;})(a(27).yb);b.default=q;},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r,t,w;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);k=a(911);g=a(255);f=a(154);d=a(186);h=a(27);q=a(420);m=a(421);l=a(423);n=a(155);p=a(249);r=a(106);t=a(424);w=a(914);a=(function(){function v(u,x,y,z,A,B){this.console=u;this.stream=x;this.Me=z;this.xW=A;this.view=y instanceof ArrayBuffer?new DataView(y):new DataView(y.data,y.offset,y.length);this.config=B || ({});this.dua=n.dZ();}v.path=function(u,x){return x.reduce(function(y,z){return y && y.Ba[z] && y.Ba[z][0];},u);};v.mZ=function(u){return u && u.Iv && -1 !== u.Iv.indexOf("mcl0")?"mcl0":void 0;};v.GY=function(u,x){var y,z;f.assert("mcl0" === u,"Unsupported McClearen brand");y=x.Z;u=y.ed;x=new d.O(120,1).Yc(y.I).qa;z=0;for(y=y.Fk;z < u.length && y < x;){y+=u[z++];}return z;};v.prototype.parse=function(u){var x;x=this.d2();if(!x.done){if(x.iG)return {Mi:!1,Hna:x.iG};this.console.error("Scan error: " + x.error);return {Mi:!1,parseError:x.error || "unknown mp4 scan error"};}this.view=new DataView(this.view.buffer,this.view.byteOffset,x.offset);u=this.O0(u);return u.done?this.yX():(this.console.error("Parse error: " + u.error),{Mi:!1,parseError:u.error || "unknown mp4 parse error"});};v.prototype.Fi=function(u){return h.yb.Fi(this,u);};v.prototype.oh=function(u){return h.yb.oh(this,u);};v.prototype.d2=function(){var u,x;u=new t.ZT(this.Me,this.xW?[r.Hp,r.Gp]:[],this.config && this.config.tgb || ["moof",r.GD],this.config && this.config.pG);x=c.__assign(c.__assign({},this.config),{Mw:!1});return new l.Ru(v.hx,u,this.view,this.console,x).parse();};v.prototype.O0=function(u){var x,y,z;x=new t.vD(this.view.byteLength);y=Object.create(p.mk.Ba);this.config && ((this.config.iR || this.config.ES || this.config.zu) && k(p.mk.dx,y),this.config.h3 && k(p.mk.i3,y),this.config.ES && k(p.mk.kH,y));z=c.__assign(c.__assign({},this.config),{Mw:!0});this.ub=new l.Ru(y,x,this.view,this.console,z);u=this.ub.parse(u);u.done && (this.Ba=this.ub.Ba);return u;};v.prototype.yX=function(){var u,x,y,z,A,B,D,C;u={Mi:!0};x=v.path(this,["moov"]);y=v.path(x,["trak","mdia","minf","stbl","stsd"]);if(this.config.iR)if(y)(u.$=y.$,u.Hdb=y.Ba);else return {Mi:!1,parseError:"Missing sample descriptions"};z=v.path(y,["encv","sinf","schi"]);z && (z=v.path(z,["tenc"]) || v.path(z,[r.OD])) && (u.fra={MYa:z.gi,Cw:z.Cw,j7a:!1});if(z=v.path(x,["trak","mdia","mdhd"]))u.I=z.I;if(z=v.path(x,["mvex","trex"]))u.lq=z && z.cb.lq;u.lq && u.I && (u.$=new d.O(u.lq,u.I));if(z=v.path(this,["sidx"])){A=v.path(this,[r.Hp]);A=A && A.P_;B=v.path(this,[r.Gp]);B=B && B.Eh;u.Z=z.Z;u.dG=A;u.Eh=B;}if(A=this.Ba.vmaf && this.Ba.vmaf[0])u.vh=A.vh;if(this.config.J1 && (A=v.path(x,["mvex"]),B=x.Ba.trak,A && B && B.length)){D=B.reduce(function(F,G){return G.byteOffset > F.byteOffset?G:F;});if(D.byteOffset > A.byteOffset){B=new Uint8Array(this.view.buffer,this.view.byteOffset,this.view.byteLength);C=w.n3(B,Uint8Array,A.byteOffset,A.byteOffset + A.byteLength);D=w.n3(B,Uint8Array,A.byteOffset + A.byteLength,D.byteOffset + D.byteLength);B.set(D,A.byteOffset);B.set(C,A.byteOffset + D.byteLength);}}if(this.config.pAa)if(x)(this.trim(x.byteOffset + x.byteLength),this.config.zu && y && 1 < y.Kt && z && (u.Yf=this.zu(y,z)),void 0 === u.Yf && (x=this.ub.qq?g.concat(this.ub.na()):this.view.buffer,u.Yf=[{Dd:0,data:x}]));else return {Mi:!1,parseError:"Missing movie box"};u.Mi=!0;u.jR=this.ub.offset;return u;};v.prototype.trim=function(u){var x;x=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(u,this.view.byteLength));this.ub.trim(u);this.view=new DataView(x);};v.prototype.zu=function(u,x){var y,z,A;y=Object.keys(u.Ba);z=y.filter(function(B){return "encv" !== B;});if(!(2 > y.length || z.length === y.length || 0 === z.length)){y=v.path(this,["ftyp"]);A=v.mZ(y);if(A)return (y=[],this.ub.t1(),u.IG("encv"),y.push({Dd:0,Ej:!1,data:g.concat(this.ub.na())}),this.ub.c1(),u.IG(z[0]),u=v.GY(A,x),y.push({Dd:u,Ej:!0,data:g.concat(this.ub.na())}),y);}};v.hx={};return v;})();b.uo=a;a.hx[r.av]=q.default;a.hx[r.bv]=m.default;},function(q){q.exports=function k(a,c){var g;a.__proto__ && a.__proto__ !== Object.prototype && k(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(f){g=Object.getOwnPropertyDescriptor(a,f);void 0 !== g && Object.defineProperty(c,f,g);});};},function(q,b,a){var c,k,g,f,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);k=a(154);g=a(255);f=a(85);q=a(913);d=(function(){function h(m){m?(this.vd=m.vd.slice(),this.je=m.je.slice(),this.Pc=m.Pc.slice(),this.trim=m.trim):(this.vd=[],this.je=[],this.Pc=[]);}Object.defineProperties(h.prototype,{empty:{get:function(){return 0 === this.vd.length && 0 === this.je.length && 0 === this.Pc.length;},enumerable:!0,configurable:!0}});return h;})();q=(function(h){function m(l,n,p){l=h.call(this,l,n,p) || this;l.kF=[];l.Ja=new d();return l;}c.__extends(m,h);m.DW=function(l,n){if(n.offset + n.size <= l.byteLength)switch(n.size){case 1:l.setUint8(n.offset,n.value);break;case 2:n.Xm?l.setInt16(n.offset,n.value):l.setUint16(n.offset,n.value);break;case 4:n.Xm?l.setInt32(n.offset,n.value):l.setUint32(n.offset,n.value);break;case 8:k.assert(!n.Xm);l.setUint32(n.offset,Math.floor(n.value / 4294967296));l.setUint32(n.offset + 4,n.value & 4294967295);break;default:k.assert(!1);}};Object.defineProperties(m.prototype,{qq:{get:function(){return !this.Ja.empty;},enumerable:!0,configurable:!0}});m.prototype.ur=function(l,n){this.Ja.je.push({offset:void 0 !== n?n:this.offset,value:l,size:1});void 0 === n && (this.offset+=1);};m.prototype.N3=function(l,n){this.Ja.je.push({offset:void 0 !== n?n:this.offset,value:l,size:2,Xm:!1});void 0 === n && (this.offset+=2);};m.prototype.ie=function(l,n){this.Ja.je.push({offset:void 0 !== n?n:this.offset,value:l,size:4,Xm:!1});void 0 === n && (this.offset+=4);};m.prototype.O3=function(l,n){this.Ja.je.push({offset:void 0 !== n?n:this.offset,value:l,size:8,Xm:!1});void 0 === n && (this.offset+=8);};m.prototype.tH=function(l){this.ie(f.YD(l));};m.prototype.wx=function(l,n){this.Ja.Pc.push({offset:this.offset,zj:l,value:n});this.offset+=4;};m.prototype.Rc=function(l,n,p){this.Ja.vd.push({offset:n,remove:l,hb:p});};m.prototype.Pm=function(l,n,p,r){this.Ja.vd.push({offset:p,remove:l,replace:n,hb:r});};m.prototype.trim=function(l){this.Ja.trim=l;};m.prototype.t1=function(){this.kF.push(new d(this.Ja));};m.prototype.c1=function(){this.Ja=this.kF.pop() || new d();};m.prototype.na=function(){var l,n,p,r,t,w,v;l=this;if(0 === this.Ja.vd.length && 0 === this.Ja.je.length && 0 === this.Ja.Pc.length)return [void 0 === this.Ja.trim?this.view.buffer:this.view.buffer.slice(0,this.Ja.trim)];this.Ja.vd.sort(function(u,x){return u.offset - x.offset;});this.Ja.je.sort(function(u,x){return u.offset - x.offset;});this.X1();n=this.EY();p=this.view.buffer.slice(0,n);r=new DataView(p);this.Ja.je.forEach(m.DW.bind(void 0,r));this.s3(r);this.r3(r);t=[];w=void 0 !== this.Ja.trim?Math.min(this.Ja.trim,this.view.byteLength):this.view.byteLength;v=0;this.Ja.vd.filter(function(u){return u.offset <= w;}).forEach(function(u){u.offset > v && (t.push(r.buffer.slice(v,u.offset)),u.offset > r.byteLength && r !== l.view && (r=l.view,t.push(r.buffer.slice(n,u.offset))));u.replace && t.push(u.replace);v=u.offset + u.remove;});v < n && t.push(p.slice(v));v < w && t.push(this.view.buffer.slice(Math.max(p.byteLength,v),w));return t;};m.prototype.EY=function(){var l,n,p;l=[];n=this.Ja.je[this.Ja.je.length - 1];p=this.Ja.Pc[this.Ja.Pc.length - 1];n && l.push(n.offset + n.size);p && l.push(p.offset + 4);this.Ja.vd.filter(function(r){return r.hb;}).forEach(function(r){return l.push(r.hb.byteOffset + 4);});n=Math.max.apply(void 0,l);return void 0 !== this.Ja.trim?Math.min(n,this.Ja.trim):n;};m.prototype.X1=function(){this.Ja.vd=this.Ja.vd.reduce(function(l,n){var p,r;if(0 === l.length)return (l.push(n),l);p=l[l.length - 1];r=p.offset + p.remove;n.offset >= r?l.push(n):n.offset + n.remove > r && (k.assert(p.hb === n.hb),p.remove+=n.offset + n.remove - r,n.replace && (p.replace=p.replace?g.concat(p.replace,n.replace):n.replace));return l;},[]);};m.prototype.s3=function(l){var n;n=this;this.Ja.Pc.forEach(function(p){var r,t,w,v;r=l;t=p.offset;n.Ja.vd.some(function(u){return u.offset <= p.offset && u.replace && u.offset + u.replace.byteLength >= p.offset + 4?(r=new DataView(u.replace),t=p.offset - u.offset,!0):!1;});w=p.zj + (void 0 !== p.value?p.value:r.getInt32(t));v=n.Ja.vd.reduce(function(u,x){return x.offset > p.zj && x.offset < w?u + (x.remove - (x.replace?x.replace.byteLength:0)):u;},0);r.setInt32(t,w - p.zj - v);});};m.prototype.r3=function(l){this.Ja.vd.forEach(function(n){var p;p=(n.remove || 0) - (n.replace?n.replace.byteLength:0);if(0 !== p)for(n=n.hb;n;){l.setUint32(n.byteOffset,l.getUint32(n.byteOffset) - p);n=n.parent;}});};return m;})(q.TU);b.SU=q;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(155);a(155);k=a(85);q=(function(){function g(f,d,h){this.view=f;this.console=d;this.config=h;this.view=f;this.console=d;this.Ki=this.Tr=this.offset=0;}g.prototype.bZ=function(f){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,f);};g.prototype.sb=function(f){for(;this.Ki < f;){this.Tr=(this.Tr << 8) + this.Aa();this.Ki+=8;}this.Ki-=f;return this.Tr >>> this.Ki & (1 << f) - 1;};g.prototype.Aa=function(){var f;f=this.view.getUint8(this.offset);this.offset+=1;return f;};g.prototype.lb=function(f){f=this.view.getUint16(this.offset,f);this.offset+=2;return f;};g.prototype.ba=function(f){f=this.view.getUint32(this.offset,f);this.offset+=4;return f;};g.prototype.Xq=function(){var f;f=this.view.getInt32(this.offset,void 0);this.offset+=4;return f;};g.prototype.Q0=function(f,d){var h;h=this.view.getUint32(this.offset + (f?4:0),f);f=this.view.getUint32(this.offset + (f?0:4),f);d || 0 === (h & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * h + f;};g.prototype.xc=function(f,d){f=this.Q0(f,d);this.offset+=8;return f;};g.prototype.R0=function(f,d){var h;h=this.view.getInt32(this.offset + (f?4:0),f);f=this.view.getUint32(this.offset + (f?0:4),f);d || 0 === ((0 < h?h:-h) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * h + f;};g.prototype.A1=function(){var f;f=this.R0(void 0,void 0);this.offset+=8;return f;};g.prototype.rh=function(){return k.Uk(this.ba());};g.prototype.Yq=function(){var d,h,m,l,n,p;function f(r,t){return ("000000" + r.toString(16)).slice(2 * -t);}d=this.ba(!0);h=this.lb(!0);m=this.lb(!0);l=this.lb();n=this.lb();p=this.ba();return [f(d,4),f(h,2),f(m,2),f(l,2),f(n,2) + f(p,4)].join("-");};g.prototype.Wq=function(f){var d;d=this.view.byteOffset + this.offset;d=this.view.buffer.slice(d,d + f);this.offset+=f;return d;};g.prototype.y1=function(f){var d;d=[];if(0 === f)return "";f=f || Number.MAX_SAFE_INTEGER;for(var h=this.Aa();0 !== h && 0 <= --f;){d.push(h);h=this.Aa();}return String.fromCharCode.apply(null,d);};g.prototype.Vq=function(f){var d,h;void 0 === d && (d=1);void 0 === h && (h=!0);return this.Sg(this.config.Hu && c.CZ || c.ek,1,f,d,h);};g.prototype.x1=function(f,d,h){var m;void 0 === d && (d=2);void 0 === h && (h=!0);void 0 === m && (m=!1);return this.Sg(this.config.Hu && c.AZ || c.Bq,2,f,d,h,m);};g.prototype.Uq=function(f,d,h){var m;void 0 === d && (d=4);void 0 === h && (h=!0);void 0 === m && (m=!1);return this.Sg(this.config.Hu && c.BZ || c.Hm,4,f,d,h,m);};g.prototype.z1=function(){for(var f=this.Aa(),d=f & 127;f & 128;){f=this.Aa();d=d << 7 | f & 127;}return d;};g.prototype.Sg=function(f,d,h,m,l,n){void 0 === l && (l=!0);void 0 === n && (n=!1);f=f(this.view,this.offset,h,m,n);this.offset=l || !m || m === d?this.offset + h * (m || d):this.offset + d;return f;};return g;})();b.TU=q;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.n3=function(a,c,k,g){var f,d;if(null !== a && void 0 !== a && a.slice)return a.slice(k,g);f=Math.min(a.length,g);d=Math.min(a.length,k);for(c=new c(Math.max(g - k,0));d < f;d++){c[d - k]=a[d];}return c;};},function(q,b,a){var g,f,d,h;function c(m,l,n,p){f.call(this,m,l,n,p);}function k(m,l,n){f.call(this,m,l,n,void 0);}g=a(106);f=a(256).mm;d=a(422);h=a(85).YD;c.prototype=Object.create(f.prototype);k.prototype=Object.create(c.prototype);k.prototype.tV=function(m,l){return "string" === typeof l?d[l]:l?d.reset[m] || d.B2[m]:d.B2[m];};k.prototype.Kea=function(m,l,n){return this.na(m,l,!1,n,void 0);};k.prototype.H1=function(m,l,n){return this.na(m,l,!0,n,void 0);};k.prototype.na=function(m,l,n,p,r){var w,v,u,x,y,z,A,B,D,C,F,G,E,I;function t(K){v=w[K];u=v.Ae("traf");if(void 0 === u || void 0 === u.Ee)return !1;A=u.Ae("tfdt");if(void 0 === A)return !1;x=u.Ae("trun");return void 0 === x?!1:!0;}if(!this.parse().done)return !1;w=this.Ba.moof;if(!w || 0 === w.length)return !1;if(void 0 !== m){y=m;for(m=0;m < w.length;++m){if(!t(m,this.ub.console.trace))return !1;if(x.Ka > y || n && x.Ka === y)break;y-=x.Ka;}}else if((m=n?w.length - 1:0,!t(m,this.ub.console.trace)))return !1;if(n && m < w.length - 1){z=w[m + 1];this.ub.Rc(this.KZa - z.startOffset,z.startOffset);}else !n && 0 < m && this.ub.Rc(v.startOffset,0);z=u.Ae("tfhd");if(void 0 === z)return !1;A=u.Ae("tfdt");B=x.Ka;D=u.Ae("saiz");C=u.Ae("saio");F=u.Ae(g.ND);G=u.Ae("sbgp");if(!(!D && !C || D && C))return !1;E=u.Ae("sdtp");if(this.Ba.mdat && m < this.Ba.mdat.length)I=this.Ba.mdat[m];else if(m !== w.length - 1)return !1;void 0 === y && (y=n?x.Ka:0);if(x.na(u,z,I || this.ub,l,y,u.Ee,n))x.qq && (!n && A && A.na(x.w2),D && C && (D.na(x.Ek,n),C.na(F?0:D.cx,u.Ee,n)),F && F.na(x.Ek,n),E && E.na(x.Ek,B,n),G && G.na(x.Ek,n));else if(!n){if(m === w.length - 1)return !1;this.ub.Rc(w[m + 1].startOffset - v.startOffset,v.startOffset);}else if(0 === x.Ek)return !1;p && (l=this.tV(this.stream.profile,r)) && x.K1(u,z,I,n,p,l);n=this.ub.na();p=n.reduce(function(K,L){return K + L.byteLength;},0);n={T:n,length:p,Li:this.ub.view.byteLength};x.qq && !I && (n.zk=u.Ee + x.zk,n.Rf=x.Rf);return n;};q.exports={kn:k,bu:function(m){var l,n;l=new ArrayBuffer(8);n=new DataView(l);n.setUint32(0,m + 8);n.setUint32(4,h("mdat"));return l;}};},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);q=a(256);k=a(255);a=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}c.__extends(f,g);f.prototype.na=function(d){var h,m,l,n;h=this;if(!this.parse().done)return !1;m=this.Ba.moov;if(!m || 0 === m.length)return !1;l=m[0].oh("tenc");if(!l)return !1;n=new Uint8Array(l.gi);d.forEach(function(p){for(var r=p.from,t=!0,w=0;w < r.length;w++){if(n[w] !== r[w]){t=!1;break;}}t && h.ub.Pm(p.from.length,p.to,l.Cw);});return k.concat(this.ub.na());};return f;})(q.mm);b.lA=a;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});q=b.oi || (b.oi={});q[q.mc=0]="AUDIO";q[q.Vb=1]="VIDEO";},function(q,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.audio=b.video=void 0;b.video={padding:{"16:9":{h264:{23976:a(157),24:a(919),25:a(920),2997:a(921),30:a(922)}},"4:3":{h264:{23976:a(158),24:a(923),25:a(924),2997:a(925),30:a(926)}}},padding_purple:{"16:9":{h264:{23976:a(257),24:a(927),25:a(928),2997:a(425),30:a(929)}},"4:3":{h264:{23976:a(258),24:a(930),25:a(931),2997:a(426),30:a(932)}}}};b.audio={silence:{heaac:{32:a(933)}}};},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Ed=b.Fd=b.height=b.width=b.bitrate=b.profile=b.duration=b.$=b.$h=b.Ge=b.T=b.zg=b.He=b.xa=void 0;c=a(157);Object.defineProperty(b,"initDict",{enumerable:!0,get:function(){return c.xa;}});Object.defineProperty(b,"fragmentDict",{enumerable:!0,get:function(){return c.T;}});b.xa="QAEwhmAhAShmARB5gAYChmBZAEhmAVgOYBhmBHCghmAVgMYBgiwChmA0BLhmA9ALhmAFC/hmANCvhmBTA1hmAJAYhmAMguIAgAgBAGhmIegVQBgAYChmJnDQhmIUhGQBhmJn";b.He=!0;b.zg=817;b.T="AFBNjww0gBgAjw3/jwzhg1YAjw3/jw3/jwxl";b.Ge=!0;b.$h=1927;b.$={qa:1E3,I:24E3};b.duration={qa:48E3,I:24E3};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=384;b.height=216;b.Fd=[176,700];b.Ed=[44];},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Ed=b.Fd=b.height=b.width=b.bitrate=b.profile=b.duration=b.$=b.$h=b.Ge=b.T=b.zg=b.He=b.xa=void 0;c=a(157);Object.defineProperty(b,"initDict",{enumerable:!0,get:function(){return c.xa;}});Object.defineProperty(b,"fragmentDict",{enumerable:!0,get:function(){return c.T;}});b.xa="QAEwhmAhAShmARB6gAYChmBZAEhmAVgsoChmBGCghmAVgMYBAygBYDhmAyBLhmA9ALhmAFC/hmANCvhmBTA1hmAJAYhmAMguIAgAgBAGBBhmIcAaAMgAYEhmJnDQhmIUhGQBhmJn";b.He=!0;b.zg=817;b.T="AFBNjlQCjwwVAUjwwYgBgAjwwVDgjwwJAygEgBA0jwzEjxwHCLjx3yA1jx3/jx3/gn5ej0QLgn4FgCYMgT4Ej2wFBM";b.Ge=!0;b.$h=1927;b.$={qa:1E3,I:25E3};b.duration={qa:5E4,I:25E3};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=384;b.height=216;b.Fd=[176,700];b.Ed=[44];},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Ed=b.Fd=b.height=b.width=b.bitrate=b.profile=b.duration=b.$=b.$h=b.Ge=b.T=b.zg=b.He=b.xa=void 0;c=a(157);Object.defineProperty(b,"initDict",{enumerable:!0,get:function(){return c.xa;}});Object.defineProperty(b,"fragmentDict",{enumerable:!0,get:function(){return c.T;}});b.xa="QAEwhmA1B+gAYChmBxgOYBhmBfgMYBB1gi4ChmD/AdBMhmAdAdAkgAYEhmDq";b.He=!0;b.zg=817;b.T="AFBNjlQBBUjwwVA8jwwwABAIjwwJA8gB4BBcjwzEgAYuAHBTj23yA1j2yJALj2wBeu/MsrB0B+CVAuAdBZB7CzBRDyDoBJByD9CIAwB9Boj2wCef+IEuDcBPDpDKBoiAQADBgGIAfRlJtvDmB1DuCoDUDxCABnCBj2wGC/iGYHj2wGgKQBiIwIimwFiLQLimwFgCYMiSwEgCYMiSwRimwFiVQMimwEgCYMimwEgCYMimwEgCYMgT4RimwFgCYMgT4RimwagWYLgT4RjOwFgCYMgT4Rgn//gn8RkSQHgn4IeE//3xgBwAAMD4";b.Ge=!0;b.$h=1927;b.$={qa:1001,I:3E4};b.duration={qa:60060,I:3E4};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=384;b.height=216;b.Fd=[176,699];b.Ed=[44];},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Ed=b.Fd=b.height=b.width=b.bitrate=b.profile=b.duration=b.$=b.$h=b.Ge=b.T=b.zg=b.He=b.xa=void 0;c=a(157);Object.defineProperty(b,"initDict",{enumerable:!0,get:function(){return c.xa;}});Object.defineProperty(b,"fragmentDict",{enumerable:!0,get:function(){return c.T;}});b.xa="QAEwhmAhAShmARB7gAYChmBZAEhmAVgOYBhmBHCghmAVgMYBA8gBYDhmAyBLhmA9ALhmAFC/hmANCvhmBTA1hmAJAYhmAMguIAgAgBAHCBhmIcAdAsgAYEhmJnDQhmIUhGQBhmJn";b.He=!0;b.zg=817;b.T="AFBNjlQBBUjwwVA8jwwYgBgAjwwUABAIjwwJA8gB4BBcjwzEgAYuAHBTj23yA1j2yJALj2wBeu/MsrB0B+CVAuAdBZB7CzBRDyDoBJByD9CIAwB9Boj2wCef+IEuDcBPDpDKBoiAQADBgGIAfRlJtvDmB1DuCoDUDxCABnCBj2wGC/iGYHj2wGgKQBiIwIimwFiLQLimwFgCYMiSwEgCYMiSwRimwFiVQMimwEgCYMimwEgCYMimwEgCYMgT4RimwFgCYMgT4RimwagWYLgT4RjOwFgCYMgT4Rgn//gn8RkSQHgn4IeE//3xgBwAAMD4";b.Ge=!0;b.$h=1927;b.$={qa:1E3,I:3E4};b.duration={qa:6E4,I:3E4};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=384;b.height=216;b.Fd=[176,700];b.Ed=[44];},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Ed=b.Fd=b.height=b.width=b.bitrate=b.profile=b.duration=b.$=b.$h=b.Ge=b.T=b.zg=b.He=b.xa=void 0;c=a(158);Object.defineProperty(b,"initDict",{enumerable:!0,get:function(){return c.xa;}});Object.defineProperty(b,"fragmentDict",{enumerable:!0,get:function(){return c.T;}});b.xa="QAEwhmAhAShmARB6gAYChmBZAEhmAVgsoChmBGCghmAVgMYBgiwChmA0BLhmA9ALhmAFC/hmANCvhmBTA1hmAJAYhmAMguIAgAgBAGhmIeBYgAYEhmJnDQhmIUhGQBhmJn";b.He=!0;b.zg=817;b.T="AtChjwI0gBgAjwP/jwLhg1YAjwP/jwP/jwJg";b.Ge=!0;b.$h=1922;b.$={qa:1E3,I:24E3};b.duration={qa:48E3,I:24E3};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=288;b.height=216;b.Fd=[176,700];b.Ed=[44];},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Ed=b.Fd=b.height=b.width=b.bitrate=b.profile=b.duration=b.$=b.$h=b.Ge=b.T=b.zg=b.He=b.xa=void 0;c=a(158);Object.defineProperty(b,"initDict",{enumerable:!0,get:function(){return c.xa;}});Object.defineProperty(b,"fragmentDict",{enumerable:!0,get:function(){return c.T;}});b.xa="QAEwhmAhAShmARB6gAYChmBZAEhmAVgsoChmBGCghmAVgMYBAygBYDhmAyBLhmA9ALhmAFC/hmANCvhmBTA1hmAJAYhmAMguIAgAgBAGBBhmIdgCABgAYChmJnDQhmIUhGQBhmJn";b.He=!0;b.zg=817;b.T="AtChjkoCjwIVAUjwIYgBgAjwIVDgjwIJAygEgBA0jwLEjxIHCGjxPyA1jxP/jxP/hP5ZjzoLgn4FgCYFDIgn4Kj2IFCg";b.Ge=!0;b.$h=1922;b.$={qa:1E3,I:25E3};b.duration={qa:5E4,I:25E3};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=288;b.height=216;b.Fd=[176,700];b.Ed=[44];},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Ed=b.Fd=b.height=b.width=b.bitrate=b.profile=b.duration=b.$=b.$h=b.Ge=b.T=b.zg=b.He=b.xa=void 0;c=a(158);Object.defineProperty(b,"initDict",{enumerable:!0,get:function(){return c.xa;}});Object.defineProperty(b,"fragmentDict",{enumerable:!0,get:function(){return c.T;}});b.xa="QAEwhmA1B/gAYChmBxgOYBhmBfgMYBB1gi4ChmD/AdBMhmAdAdAQgAYEhmDq";b.He=!0;b.zg=817;b.T="AtChjkoBBUjwIVA8jwIwABAIjwIJA8gB4BBcjwLEgAYuAHBOj2PyA1j2KJALj2IBeu/MsrB0B+CVAuAdBZB7CzBRDyDoBJByD9CIAwB9BoAHDVAHD9BbBrDGDCCsDxDDDUgFYAchQLN7DBDRDbAHAKClCsDBj2IGC/iFwDDIj2IJgJoBiIIIimIFiKoFgEwCimIHiNILimIFgCYMiSIRimIFiUoMimIEgMYLimIFgCYMimIEgHYMgT4RimIFgCYMgT4RimIagWYLgT4RjOIFgCYMgT4Rgn4ggCYFgn4fgE4Fgn4fgCYFgn5HgE4Fgn4fgHYFgT4LgWYFgT4Rgn5IhP+wkRoHgn4IeE//3xgBwABvBA";b.Ge=!0;b.$h=1922;b.$={qa:1001,I:3E4};b.duration={qa:60060,I:3E4};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=288;b.height=216;b.Fd=[176,699];b.Ed=[44];},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Ed=b.Fd=b.height=b.width=b.bitrate=b.profile=b.duration=b.$=b.$h=b.Ge=b.T=b.zg=b.He=b.xa=void 0;c=a(158);Object.defineProperty(b,"initDict",{enumerable:!0,get:function(){return c.xa;}});Object.defineProperty(b,"fragmentDict",{enumerable:!0,get:function(){return c.T;}});b.xa="QAEwhmAhAShmARB7gAYChmBZAEhmAVgOYBhmBHCghmAVgMYBA8gBYDhmAyBLhmA9ALhmAFC/hmANCvhmBTA1hmAJAYhmAMguIAgAgBAHCBhmIcAdAYgAYEhmJnDQhmIUhGQBhmJn";b.He=!0;b.zg=817;b.T="AtChjkoBBUjwIVA8jwIYgBgAjwIUABAIjwIJA8gB4BBcjwLEgAYuAHBOj2PyA1j2KJALj2IBeu/MsrB0B+CVAuAdBZB7CzBRDyDoBJByD9CIAwB9BoAHDVAHD9BbBrDGDCCsDxDDDUgFYAchQLN7DBDRDbAHAKClCsDBj2IGC/iFwDDIj2IJgJoBiIIIimIFiKoFgEwCimIHiNILimIFgCYMiSIRimIFiUoMimIEgMYLimIFgCYMimIEgHYMgT4RimIFgCYMgT4RimIagWYLgT4RjOIFgCYMgT4Rgn4ggCYFgn4fgE4Fgn4fgCYFgn5HgE4Fgn4fgHYFgT4LgWYFgT4Rgn5IhP+wkRoHgn4IeE//3xgBwABvBA";b.Ge=!0;b.$h=1922;b.$={qa:1E3,I:3E4};b.duration={qa:6E4,I:3E4};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=288;b.height=216;b.Fd=[176,700];b.Ed=[44];},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Ed=b.Fd=b.height=b.width=b.bitrate=b.profile=b.duration=b.$=b.$h=b.Ge=b.T=b.zg=b.He=b.xa=void 0;c=a(257);Object.defineProperty(b,"initDict",{enumerable:!0,get:function(){return c.xa;}});Object.defineProperty(b,"fragmentDict",{enumerable:!0,get:function(){return c.T;}});b.xa="QAEwhmAhAShmARB5gAYChmBZAEhmAVgOYBhmBHCghmAVgMYBgiwChmA0BLhmA9ALhmAFC/hmANCvhmBTA1hmAJAYhmAMguIAgAgBAGhmIdB3AEgAYEhmJnDQhmIUhGQBhmJn";b.He=!0;b.zg=817;b.T="C+u7gBvdgygBgAvdn/vdjhg1YAvdn/vdn/vdn/vdn/vdn/vdn/vdn/vdn/vdn/vdn/vdn/vdn/vdn/vdnA";b.Ge=!0;b.$h=7917;b.$={qa:1E3,I:24E3};b.duration={qa:48E3,I:24E3};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=384;b.height=216;b.Fd=[176,700];b.Ed=[44];},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Ed=b.Fd=b.height=b.width=b.bitrate=b.profile=b.duration=b.$=b.Ge=b.T=b.zg=b.He=b.xa=void 0;c=a(257);Object.defineProperty(b,"initDict",{enumerable:!0,get:function(){return c.xa;}});b.xa="QAEwhmAhAShmARB6gAYChmBZAEhmAVgsoChmBGCghmAVgMYBAygBYDhmAyBLhmA9ALhmAFC/hmANCvhmBTA1hmAJAYhmAMguIAgAgBAGBBhmIcB6BUgAYEhmJnDQhmIUhGQBhmJn";b.He=!0;b.zg=817;b.T="AAABLG1vb2YAAAAQbWZoZAAAAAAAAAABAAABFHRyYWYAAAAcdGZoZAACACoAAAABAAAAAQAAAgAAAQAAAAAAEHRmZHQAAAAAAAAAAAAAAOB0cnVuAAACBQAAADIAAAE0AAAAAAAAB/gAAAB8AAAAZAAAAFIAAAB3AAAAZgAAAGUAAABuAAAAewAAAGYAAACzAAAAegAAAGgAAABZAAAAdAAAAFoAAABbAAAAZQAAAG0AAABwAAAA2AAAAIoAAAB7AAAATAAAAHUAAAGFAAAAgAAAAGQAAABOAAAAdQAAAGAAAABbAAAAbAAAAHUAAABiAAAApQAAAHIAAABmAAAAVAAAAHAAAABhAAAAWwAAAGIAAABnAAAAagAAAM4AAACGAAAAeAAAAE0AAABwAAAenW1kYXQAAAJxBgX//23cRem95tlIt5Ys2CDZI+7veDI2NCAtIGNvcmUgMTYzIHIzMDYwIDVkYjZhYTYgLSBILjI2NC9NUEVHLTQgQVZDIGNvZGVjIC0gQ29weWxlZnQgMjAwMy0yMDIxIC0gaHR0cDovL3d3dy52aWRlb2xhbi5vcmcveDI2NC5odG1sIC0gb3B0aW9uczogY2FiYWM9MSByZWY9MyBkZWJsb2NrPTE6MDowIGFuYWx5c2U9MHgzOjB4MTEzIG1lPWhleCBzdWJtZT03IHBzeT0xIHBzeV9yZD0xLjAwOjAuMDAgbWl4ZWRfcmVmPTEgbWVfcmFuZ2U9MTYgY2hyb21hX21lPTEgdHJlbGxpcz0xIDh4OGRjdD0xIGNxbT0wIGRlYWR6b25lPTIxLDExIGZhc3RfcHNraXA9MSBjaHJvbWFfcXBfb2Zmc2V0PS0yIHRocmVhZHM9NyBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yNSBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAABX9liIQ/lAI3lFm25SF6IJeSmMfmIPmb3O1I1N6KXqEw1B65q7rxsvruFNsIQVFWmP6ipTywxZlr/rofPYyPG9Mk9f9gEBsRcHOwWpdjJodKnwTDLXGB/vxWlf1y5LuhFsxToYGHZuNPk0Al/sN8yz3+QbHDwHYD1PgPH4jX8JXbWVWt//vTf915b3f543XpURVqWqr9osUfQUvDXngLlpWCauQ0FAub32j/NvAThv0Zmulpi0EM8t1trL9d/wpa40y8HpG7ygWDu09n3bGyhdmLnmC7UCW1hDd3dv0eYcQvxwURtVobZy8MbQYoNEbykzkOzo1nGEZh/xkXwMKFLWz0w5hbbAqAYFy8sHb4FT1QQ2kSCKVtzkScn/QUPNPUQOPBL0eWHlHi7e+f97BTNx4sQ7L+LOlYDJlJnGdMDoAhHmeaMh8NLvxgJ/2ZCrGtwa/cCg+7RjHDM+L8A6fNQUIb9+XWjnEk4H3ZivI2D9MMLF+W84jjzTZTpV+CTw1HzYzeQEUJgWjMnZcc5iBV14rZ8o+Dhn9G+rr9/05M/SUzv+p3zffH0f5N5JYDc7gRMXJskLwWcwMqbFuUILRjvgHjUWCL6Ga93dmkEUWQtaI1XG0dKBq4vkVY9rhbEwry9Fl9+UDH76sGFFw4ozSnjX+7PElZxTNkpUTbn377E8F0lEWuee3jfnhmqSE27ksQU0YylGxdMIEr3pCcLrnsZWw1zFtMvHnXJVI+t4G1K6AJ/+NfNBXTZCO5no4e+GWs4TokwRrAg/OXGknK7dJthILFMgzzHCLSRU7WXN+ze2hHuhiZFuydrGbZ1nq57XBL1D/tFv4J18Scm/ZJ9CakmKDpSVU7LHvu/ipqEyPd0erG/3mZPJeCf/sIROp/rYciKhp52NoShD0/jcaaRJnRYzXbBmrK9XLPo316ynhduttl3POh7cZ6pMct2dZqrisCvPayvQd2OXH0081KfYnGy3bcbJ8WFIQyMfcNmDnNv1DFdh1YPOzodYE9Z5YT4581kaV0A83AqT9hsevwOqIJb03fTxJYUBfiVqOhDEHcS4WRQum+cZyT1oRpGMUH4BDb4qiapYZJwdQw8JQliGe9d/1YnGRNwyIKxniwbmvrpDxEDHb8u47Yy7bfJeUnmM4Ds4HRW44TQp+W8CWel/zJ6hKELqPCNBVhCgAdiFAjzucyT//WzSvbU03f5xuSVEE2Mv29vYYlJcXzkBBhR7ODN+ElFHGHg5Q/sxTSKPQdF1Wh4NKz4jv0/J/FpiylVg9pr/+QroTszoibIoihTbNc/YXmtXL+3rbQ+Jvi8OfrY72MY4JAY/QyK5RCF8wsd/sqU/yrPQxOtorPwRwPAffty5VmwHOUPyaCrRW0vJF8yhgUBo9xY6fJoBGmuD+yDrGcyqcfwEn9yM8j3aX2f3I/PwupPbLgzax9crT9GTZgQ+hIgpB7yYcmpGQP26uehuO50f6FIKRSorX8JYgwaoDnFF2T7Z/GTsazjgq2/uIlxLVUY3YXtTGIrcHhm3QUt5f30cBO79lsyQYhwGsbri+Q1YbwetTIKg1pueglt0cGPYi17eH177tMZvkdFNVjWmzYPY1IRYC04ZepYwL3N7AXG9paLfD2JdtjAtOXiVJU9IfYh2NeC6QBr5oIAIJ6jkQssuoo3kfRDQ94Bsfx07DNPBmO44ZsY/8gv5mdS29gpvUUbhhl0lqnUZRa9+NfR5zVgiprPudQMaUYk/klQ2dZcCFoDkPQ3sWanHsZOp6xcyZq821+KEuh6OvnIll0UnsOp16C8saYtsqPW/qf9QECkMcq1TBWnVtIBDVlYAAbkIIYeVxZXfu2QCGoQBXP8stgwWAbIAAAAwAAAwAAAwAAVkEAAAB4QZo7E//k9okWCg+xYhAfOrpcb68G4xXSTGFghYs/VpGMjrie9F/KO1RPvCC5a9l0OtIVGLQyvYLFktwJYTrLGmD7IWubcdeVtNUCS6NDWGOKTGPmOms/9izpcrY7VBwSvMjpeqd+onCKnlaf+gLCKUyocTwZEGfAAAAAYEGaTwhkymE/5OvSwMJiIFoePP02imbuZfVZME+wfPAVx4sokyHHA5hBRAFEml3VRR7eFsBs63cHvg3zy/hOErfQSihMRwGiAK1FoxQEqVTy5aCLU4UGRanHJtk/7FuEbQAAAE5BmnJ4Q8mUwJ//5OjMfpy6wUBYAAADACP8qzozAL415gyAVtfEfBlFwCEna657vMUm111+d21OzTee39XWm4X4O7u1R2S04umcpxgyCGAAAABzQZqSeEPJlMCf/+Ttw6+4+AFHxZRJvGOTrhzFEb0327UVvZ6NkD7+gAAAAwDSns+pgv0S8JWKcAx027k4zl+A9I/haSWDqm/sK8Kcjqq/QNAC7TZdY/r2FdNlq9M6YZoqopRKLIOLvdahwQYU3T9WevDygQAAAGJBmrJ4Q8mUwJ//5PaJFiGEbvUAHde1RoIamqGDxHDhWFo8QvXzhVH5oY6/zg4oa40mJXcrXdGqGhqEaQcD//PPuyGV0/x/JQYFIfd+BMETkKtlT8y8jUc3t51zgaZGaeBxwQAAAGFBmtJ4Q8mUwJ//5O0OQvthgKDiVP98A+w/gj3+B6LI++iYKTXyzK3+A7KtDQAAAwAAWzAQkPgU1Vtw44ztuZ6WUB0jmKge2I+8xM92uMJhvYsG91qGU5rmBKBlOivOon9VAAAAakGa8nhDyZTAn//k7bqyEYYCaGpd8FNYEmV+iHMqWdxubd9ZrGXMGEj5zGeFjbvrQ0AAAAMAKK6/tFd0w9OjghCwZNKVR8WGLporpZK5Y2ChZaMtn1D8nQolvTDzAd7rUOtsa5umTum0q4EAAAB3QZsSeEPJlMCf/+TthNnw62IgX3sx+NIboVcXKHmz/1yZ6tiuQvOG6i+05LY7hnZ85gl05DZf53M0ZQAAAwAAPeFHNLIBfrBeyPaClv6O+8Hmr6W2annxORekqs8dxGhZhOWePeU3yld7rUMp+k59Y/w+IyJ/37AAAABiQZsyeEPJlMCf/+TqKsnAD4NuQ5HIZcVdvXkE+sTzDgAAAwABZZRQNpa9CZfRV6F3s4CK1uk+re2B+7bodx8G89GrPynbOoVU4/+pbPmhX9V+MPm/B3utQ4ILGkgU1h1/ZYAAAACvQZtSeEPJlMCf/+Vl0xxhtj1BbuRyX3wXcZlq9tcH+cRYFTDgWLOpkqPv8QjwgOgDMIitK28AXf/0ivi139/xz5myG3HpZanz+lXifOBPVIyq5Csz555TTjL7xUSKbeLB8FiQ0SnTL2A+2cgF+EKfTTgVLalPEPuLot08PeaMPjqwjvcFjlkwg0BWFmBPN6bddkEH5xmvtgn4cI90mnBLsX8mKbBAuxBh0dTsfujGgQAAAHZBm3J4Q8mUwJf/h/j1uP0eB1dkA+E8J9+NcsA/4qd7zQSNqy7YjM1kygkaKnVmWfrNCwAAAwAA65rbSQP7dYKRRLo1YPFsjR5X+MeL6Sf7pNbxNnLFMuGUPGCecHPGplxct7Mqmn5Iqh/b21R3VNzWzDE5Ee1AAAAAZEGbknhDyZTAl/+H+g5ARNHioI65Zt90GWleYAAAAwAEHvpvz4CPWiiyfdYVtcwfwfVnhImWCBT2KA1URi8IV3FwX4GdQg7uSeU35R/5TuS8aXNwdrgKf7u2qO6pVAu/iJ5Z8SAAAABVQZuyeEPJlMCX/4gsZxoGM2ZA3MYkw53gAAADABP+QVpDJY5qkDE0fP4KWKD9cvtaa3OXmGVjBdGT3x8dCQnRLlpntH+JU2S7u7VHdUv4f6dfFwwQgQAAAHBBm9J4Q8mUwJf/iFNyqmNaqUEAXc/ocwZ+0YQjGYWp/kHTGkUO6lpQkPAAAAMAAZ//fJ8VQadJlGYOyLGENWL+xzkOpD2zaGD6ZcWVxWi/tuy5YVAwCpHS5MclI70zIesIrZ90bu1R4z3AphgxXzptAAAAVkGb8nhDyZTAl/+IaXu1hMCGoFCBGsbFfDjb6kQXH0ntwLG7Smbz+AmRu3BYhx2KssyxgGFMrncFPA3weqcNcMThA59zMDB9+hJNK5rv2khsqkVNkNqBAAAAV0GaEnhDyZTAl/+IV1503/BosAquu6jsk9+PVO1GZre+sTpZgatXgAAAAwAE5KVpjyUsd1bqr7uOYgudNms3a9AeLaTrXEG5P2fWe7tUd1TXuJmpO0TUOAAAAGFBmjJ4Q8mUwJf/iEZxN0gDFKS4KsYyRUazQiRa6HHBUVlCHudD5TQG63CNQ5AAAAMABEu4kqeDcSj2s3by6rY2gxwGHmMS6wWPmNRU5ZHswYKmE5AT7u1R3VODWyYawymdAAAAaUGaUnhDyZTAl/+IWBS2CkjQWC9Y8VjUVayhZI0+xLMYWrfh93w7hcCPnncglAAAAwAAKMXHO/JxzGFVKpBq+dLIImyUI7bom7zF+5LrFfueXjcbCgRI64c12tITu7VHdUzC+Qrle5RRgQAAAGxBmnJ4Q8mUwJf/iCnyWAqKIOzxMqfT/yCPjN9oAAADAATSk9HOftxcKGZgzcmT8NnWMFc+4itS/xSC1G+QnQNLb1JA4hyawAFBaAivVslwbkaFJ752ZJgnOTGsZMaqB3d2qO6pzxXQitOMBuAAAADUQZqSeEPJlMCX/4kxpjthlXptiJoE7fqHQVhvywLF9ezLzPmaShKsTpdwTTbA61FNVE476XVmfRhxe6LBhbqH0ftJucwpLiO7eGE596dKjOJm8itiZyEx9E4GL/vhS2colmBavx5g2alPAiQ0bObejs2e+j5+1e5DxyLpwy0cwkq3VFnTHHWzN/6jN5cW6TZNVcj2ZSKyfhYv6SDwAS17bZ3ysoxDbaGqQIpjLy+C/KTBJd/iWCx6L0fwu5cMsdl6uigEEAdxgV+gBrba0b4FGYkXBZwAAACGQZqyeEPJlMCX/4hpfCwUH2S2oFQvdKw6oOC9GSOszS/rdC+SUoWZdKNvy7YTo0EeHRosycoaXtgtlMysAAADAADqzvrQAG/j1BIZOzSnKTNsDHQLIUJq7SBkbJbeAZqdMJMnfagixjnE2XEJ6kPEu/dKYU3qQgiCLz7u7VHkYHJU4w/K8HEAAAB3QZrSeEPJlMCX/4hTan4AqCB5Lj3r9mc8R92ERnM9owpsuzkHPqMAAAMAAAwGCi/KNnfVZF0kuZ0/jEIJIVKg0+4VpL2JFfWn9Yd7zBEQcx8lgP3DAf1qs50k2WcPNwq7V6B5yytRGtYm3/d3ao7qmYXuIdcI110AAABIQZryeEPJlMC/AdeHuavPKAAAAwAASet//TtAV7N+I/f4UGEmiOog/Erk9efaPSc/ffB6PaT9dTQ5UCHd2qPZxfiXErBsLoVxAAAAcUGbEnhDyZTAvwHlJeoPWApftziCcv0jnMlDeOzK6hYpPnbAAAADAD6HHadZ9M5FSKBf1mnTuauFrMiCI3d3t2eHDcBuF3pYD2hpz5/161eSqENZCHOBluXChx8uV8BZerw2sggdvbVH9PXVFdx8+arhAAABgUGbMnhDyZTAvwaIjAfTOcessWmeMiKf/OY3qh1T12fc4bAVSRvdX9g/IE3NwVPgkVVtCcI7vV6Z1hL25sSl1CfEbmUC2gZ41VyOctwpb4/rIwwzD//paGUcfMjQmxv8AVFgdkeyL7j1UYsuWTqt5qEVqV7PEGJXrLu3+c21o0WEHEvxSYJLYOjEoj+HCQ8XRRQ0FadzJKBwj4OcGnIeTE0nR40iEilWC57gX7hMx0lqal9AAVopstL3JIdu5/hGqvs3/3eS/WBw6lrcS/tkwA9IfGy9/zztMZ9LRlHsGWV6I0/OA99ujTEVzvYHMuVNHFBW6eh/Hcarlh741O5LEl5Z+6ovDcOVvvuFg6riY2UkNLRjtQLelhQesCQOPaEoYBmeAuaRXeeuQUpFoCwfFO8dypHBuH9o49ru0WiV0y6Pp9Cfzaj9vnC4GWp707/fXsT51juw1Hy6SCuGPR+JIi6RaHTynkzzzeGaI+sFZmbn57byRMO83gw1rfVkfZzEAxoAAAB8QZtSeEPJlMC/AeMoyaPFtgjm8hOW3HnR6EcZkRGC9v3QVplZFwkXfuphOcJYCZEoAAADAAAELFpfF0FKlrcEyWbOwJV5nQFPhNk3W8v5eI/xwBjryWimQRdDw9Xb1Fj/HOS5MeXgUxiVwp7SPLnn3d2qP6nQNs0nXvrxgQAAAGBBm3J4Q8mUwL8ByhG18EpjYutREazV5oXcL/tMZ7rDiC2jQaYEIfCCDwFJCmghODJc9Ca/071Dn/3q4hqMrsJqcTSO8LI6Am5mZ4IEW2KGf4Sw5xpl1fdReRD7gfj+AxYAAABKQZuSeEPJlMC/AdeHuCwc3gAAAwAAFG6a4nfXBV2PwFezfiP3+FBhJojG1in300tKEOJscwDffh8IsVmq721RocIbUdCdJEn64tEAAABxQZuyeEPJlMC/AeUvitftgVJLqCfaLLPF4hQSloKJSbpkmZgAAAMAABaWF6BSNgyw+yb4V4JefEeEAqoFVXrNT0BeptaflBelLUxYLgajUcxv0wh7XV9DRilJKW2zhGE3Zu1SUbPd2qP56Jmo9vgGSnEAAABcQZvSeEPJlMC/Af5EpCMIID4AnWz7Vk08OY5K8m2ufkMzYvX/ZntFUmgxj7Fp2UeHoGn3ozgHF6tI8z8A0VMGwfPlxh8f5RAATLl+CbsLzZ2NvnUHUWlyLLI/EXAAAABXQZvyeEPJlMC/AeOcCFn4FSSlusTbe9yDUR4I5KcRQPX4AAADAAE9hI0XYuN8SDz+ovKsq3ucrXWb+enrvl84nnAPLX886j0RTuL3dqjQmKx2lkvQTVRAAAAAaEGaEnhDyZTA/wNXFUkVdBEhbPSqFdNLVmYDX0m+zd74POGtvgSAEYSvdguWS/2AAAADAADZJUm7IpFb7SKvsK9USD6ZsGTiUK8mKI81BIAW7cYMSgGU/A7Zbj7utRV+v2VP3U9e4rGHAAAAcUGaMnhDyZTA/wNVZUUlTGoeoYILkTmzY2Gn5s8jte+TVXfWhd2nDWGjuKUUyfbDKbjv0Kx+e9Yw+zgAAAMAzgw6n2DGjhW5Z4A5lLTUeN9K0c2RaR08hxnaettkXC3/n+05cZzd3WonT4IpXI7ItfBAAAAAXkGaUnhDyZTA/wLIHsBNw4sFK3kysPZeAFiAAAADACqsDTfwQtEDWIHoJ0qXoG4VNV4HdewigL0lDNmsVhSBlYoPjgu30yAsL72yIy3xPAxWHm7tqj7s0DMBeOAQpEEAAAChQZpyeEPJlMD/BLXVGUKka+mQs/6ed1Mu7MOWgYaE2xJv+Qw6m5MI4H92HAPeq+U70bGfkFx6fvDz53qClbMQ6jNbBEv/qeqk/Q9SFXpzkIzKrkEvFiGLsAgXfecRp17WOIy9AbkLkk+rKZEcAX7cY0GnAqV/avEu1mQbt0A7Yi2ZVpMGMhsqS+EWVIDpELbs/iDhOr9hDrv4T/LSiBA/Ib0AAABuQZqSeEPJlMD/A16IMnSzUAU6n35AKFkTIEz3R2Zgll5hK5378kS7H1a9ulLhwCfkGRVAAAADABXS0EIVqXlty6hB6c9uct7fZmdgOQc6nPQZBezHYv6ayCRKNoSkQ2boh3/3d1qJVrPbPjqjXbUAAABiQZqyeEPJlMCvBJigBsiNuE/RsrvTLYAAAAMAAAi3s4ohhoNdzfXr7QlO7wybgI1ntbt0VV8O9NBayjohEF7Z3bp+L3XDKRAKh1rqBnzsFsbdXGBKXfd21R92VgBoUgqfTXEAAABQQZrSeEPJlMCvBCF5mvaZnuNeAAADAAADANmYJtgV3kLih5hCAsg7OLk+A6gzUpjrHMwHb6tTUTYboMisP3e3hNlJ3S3dqj7snlv+UgaanLEAAABsQZryeEPJlMCvBJifec6UmFgIpKAPSaYKhWQ8gRPiEngrRa1PoAAAAwAACjiN1J26iYcRVyYUdeTI3eAKaBM7M/cfaFpj1yECjMUO/v8F7/aTv6SKeVT3avr/jbjCkzxijd1qJ0NKRSEUhgPpAAAAXUGbEnhDyZTArwVxxHyk4l8BGGO3GLJKZzBcjpPb7VtF7iRxLvtTbyyx8AfGGNckQ8pDnwKQEVT6nElvGFh0J7WQqww63vm6SOAqC5Wko+vNeu/kuweAII3vVv3xIwAAAFdBmzJ4Q8mUwJP/BsT3vWoCqmRQCFyaduwRgUWJMRscywI3wXyF4AAAAwAUFzce5M0zbvGNe/XtNt7LxKgH7LwN6cZSjvQ192vLRMLN21SGohq4b4TocP0AAABeQZtSeEPJlMCT/wXTOq1UnZEuOUCkydAL0uVa4Gus82MqwPeblTHYGQAAAwAAs8BlXgJiCiEUUtBCNHJJoY7cW3jjqwY5e+zdMEokqRRpbPQQ5G7rUT2pbTpynABh0QAAAGNBm3J4Q8mUwJP/BscxUImYYu56jjOy6158OCkLYvNFwGz/VC+CpLgAAAMAAARAVzB8r6vl4ydzcd8yHwrvuX8wWy0y1qOxGoMCIy4hkoEdj5EuM4WKLHX3dtUjvFwGyfVVA2sAAABmQZuSeEPJlMCb/wc/tyXQNva6s1FJOFh5ASsAAAMABeRjsul5HbodzZlYs53+FHFctG5mbC9w9J7NnJ/fTXi9fptLL2Ytv785NLnSdjbelSuOZosQfQCL20yO7apFHQ4j1lcPmdCAAAAAykGbsnhDyZTAm/8MSNxfDB7k7oOXM/2ipkdweFZ1g45MZcENXHGnvbLGl8kp6tk0oEUjF6Kaei73DFLg0Upqs1hsQKvKEyhAryNGl2DZAb1tjsYrX59IFKtARI0aI2P7hG78obQgrB9Gu5bSz4GgmWjU4Fyy7bi1lXMZZigx/lFb0rILatQypc/yp0OlTUZ+emo+CP6PBJeyGLfZKXXKwNNsrmkGZnVFfvBSq+fud2ebTntWZ6dI5hLJ4hKZYXb6cFDGAwruqbgFD2kAAACCQZvSeEPJlMCI/wu7LGbXFzD8kCowrRFqn1u57euLlUOV1Fsc/UchonJsCDsQSi5SHSnYHvTSfmGGoAAAAwAUK4Q3xWOi/LSg4N1EauzThjfdDNxXBpA/VIYhLPgFcNrkb0E9NAqM+KpGVBOVcjOp3mkPSYnowGvbtai7g0nwSnGiJQAAAHRBm/J4Q8mUwIr/ER6LbrWSN4JjzH6RQn30BBueXjihTNaAAAADAAhblV+mqBglKBFOdssGyg3fKKk8n0YqpbsLpvCnNbtV/lpzIF/H+AK1XMLRc6Bj1AqCGYcG1qUuQ5aQrdat/en8e+3a0SuG9BPX61RVGQAAAElBmhJ4Q8mUwIz/E39hVvoW4bYdAAADAAA0kQO6Xg6woFaJOIAXIVocaOGFT3vVqYs2gmOtfxFHTZIQxcmlm7WiVwsreFoj3jm4AAAAbEGaMnhDyZTAhD8clou9OkE3iTBsCOUHjrd38Y4owF2vamAAAAMBqacMvNN5wuUv/qR3TIUAX6BmbfpvZU1v4X2/tIdiXZcQicq2BqtZrkSmQLdnyo25DDEuce1aKj8NZk12u1TaEwC4F0faFw==";b.Ge=!1;b.$={qa:1E3,I:25E3};b.duration={qa:5E4,I:25E3};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=384;b.height=216;b.Fd=[176,700];b.Ed=[44];},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Ed=b.Fd=b.height=b.width=b.bitrate=b.profile=b.duration=b.$=b.$h=b.Ge=b.T=b.zg=b.He=b.xa=void 0;c=a(425);Object.defineProperty(b,"initDict",{enumerable:!0,get:function(){return c.xa;}});Object.defineProperty(b,"fragmentDict",{enumerable:!0,get:function(){return c.T;}});b.xa="QAEwhmAhAShmARB7gAYChmBZAEhmAVgOYBhmBHCghmAVgMYBA8gBYDhmAyBLhmA9ALhmAFC/hmANCvhmBTA1hmAJAYhmAMguIAgAgBAHCBhmIdC0gAYEhmJnDQhmIUhGQBhmJn";b.He=!0;b.zg=817;b.T="A/FMxZA0gBgAxZH/xZH/xZH/xZH/xZH/xZH/xZH/xZH/xZH/xZH/xZH/xZH/xZH/xZH/xZH/xZH/xZH/xZB+";b.Ge=!0;b.$h=8905;b.$={qa:1E3,I:3E4};b.duration={qa:6E4,I:3E4};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=384;b.height=216;b.Fd=[176,700];b.Ed=[44];},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Ed=b.Fd=b.height=b.width=b.bitrate=b.profile=b.duration=b.$=b.$h=b.Ge=b.T=b.zg=b.He=b.xa=void 0;c=a(258);Object.defineProperty(b,"initDict",{enumerable:!0,get:function(){return c.xa;}});Object.defineProperty(b,"fragmentDict",{enumerable:!0,get:function(){return c.T;}});b.xa="QAEwhmAhAShmARB6gAYChmBZAEhmAVgsoChmBGCghmAVgMYBgiwChmA0BLhmA9ALhmAFC/hmANCvhmBTA1hmAJAYhmAMguIAgAgBAGhmIeCIgAYEhmJnDQhmIUhGQBhmJn";b.He=!0;b.zg=817;b.T="BMghYBvJoyhtwBvJv/vJrgg1YAvJv/vJv/vJv/vJv/vJv/vJv/vJv/vJv/vJv/vJv/vJv/vJv/vJv/vJsh";b.Ge=!0;b.$h=7758;b.$={qa:1E3,I:24E3};b.duration={qa:48E3,I:24E3};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=288;b.height=216;b.Fd=[176,700];b.Ed=[44];},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Ed=b.Fd=b.height=b.width=b.bitrate=b.profile=b.duration=b.$=b.Ge=b.T=b.zg=b.He=b.xa=void 0;c=a(258);Object.defineProperty(b,"initDict",{enumerable:!0,get:function(){return c.xa;}});b.xa="QAEwhmAhAShmARB7gAYChmBZAEhmAVgOYBhmBHCghmAVgMYBAygBYDhmAyBLhmA9ALhmAFC/hmANCvhmBTA1hmAJAYhmAMguIAgAgBAGBBhmIcB3DUgAYEhmJnDQhmIUhGQBhmJn";b.He=!0;b.zg=817;b.T="AAABLG1vb2YAAAAQbWZoZAAAAAAAAAABAAABFHRyYWYAAAAcdGZoZAACACoAAAABAAAAAQAAAgAAAQAAAAAAEHRmZHQAAAAAAAAAAAAAAOB0cnVuAAACBQAAADIAAAE0AAAAAAAAB/MAAAB7AAAAZAAAAE0AAAByAAAAZQAAAGEAAABpAAAAdwAAAGEAAACyAAAAdgAAAGQAAABUAAAAcAAAAFkAAABXAAAAYQAAAGkAAABsAAAA2AAAAIYAAAB3AAAASAAAAHEAAAGFAAAAfAAAAGQAAABKAAAAcQAAAGAAAABXAAAAaQAAAHAAAABeAAAApQAAAG4AAABiAAAAUAAAAG0AAABhAAAAVwAAAF4AAABjAAAAZgAAAM4AAACCAAAAdAAAAEkAAABtAAAd/W1kYXQAAAJxBgX//23cRem95tlIt5Ys2CDZI+7veDI2NCAtIGNvcmUgMTYzIHIzMDYwIDVkYjZhYTYgLSBILjI2NC9NUEVHLTQgQVZDIGNvZGVjIC0gQ29weWxlZnQgMjAwMy0yMDIxIC0gaHR0cDovL3d3dy52aWRlb2xhbi5vcmcveDI2NC5odG1sIC0gb3B0aW9uczogY2FiYWM9MSByZWY9MyBkZWJsb2NrPTE6MDowIGFuYWx5c2U9MHgzOjB4MTEzIG1lPWhleCBzdWJtZT03IHBzeT0xIHBzeV9yZD0xLjAwOjAuMDAgbWl4ZWRfcmVmPTEgbWVfcmFuZ2U9MTYgY2hyb21hX21lPTEgdHJlbGxpcz0xIDh4OGRjdD0xIGNxbT0wIGRlYWR6b25lPTIxLDExIGZhc3RfcHNraXA9MSBjaHJvbWFfcXBfb2Zmc2V0PS0yIHRocmVhZHM9NyBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yNSBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAABXpliIQ/lAI3lFm25SF6IJeSmMfmIPmb3O1I1N6KXqEw1B65q7rxsvruFNsIQVFWmP6ipTywxZlr/rofPYyPG9Mk9f9gEBsRcHOwWpdjJodKnwTDLXGB/vxWlf1y5LuhFsxToYGHZuNPk0Al/sN8yz3+QbHDwHYD1PgPH4jX8JXbWVWt//vTf915b3f543XpURVqWqr9osUfQUvDXngLlpWCauQ0FAub32j/NvAThv0Zmulpi0EM8t1trL9d/wpa40y8HpG7ygWDu09n3bGyhdmLnmC7UCW1hDd3dv0eYcQvxwURtVobZy8MbQYoNEbykzkOzo1nGEZh/xkXwMKFLWz0w5hbbAqAYFy8sHb4FT1QQ2kSCKVtzkScn/QUPNPUQOPBL0eWHlHi7e+f97BTNx4sQ7L+LOlYDJlJnGdMDoAhHmeaMh8NLvxgJ/2ZCrGtwa/cCg+7RjHDM+L8A6fNQUIb9+XWjnEk4H3ZivI2D9MMLF+W84jjzTZTpV+CTw1HzYzeQEUJgWjMnZcc5iBV14rZ8o+Dhn9G+rr9/05M/SUzv+p3zffH0f5N5JYDc7gRMXJskLwWcwMqbFuUILRjvgHjUWCL6Ga93dmkEUWQtaI1XG0dKBq4vkVY9rhbEwry9Fl9+UDH76sGFFw4ozSnjX+7PElZxTNkpUTbn377E8F0lEWuee3jfnhmqSE27ksQU0YylGxdMIEr3pCcLrnsZWw1zFtMvHnXJVI+t4G1K6AJ/+NfNBXTZCO5no4e+GWs4TokwRrAg/OXGknK7dJthILFMgzzHCLSRU7WXN+ze2hHuhiZFuydrGbZ7zjucx/4kEidIBXgRsl/dWTJQvJ0pKqdlj33fxU1CZHu6PVjf7zMnkvBP/2EInU/1sORFE0q7G0JQh6fxuNNIkzosZrtgzVlerln0b69ZTwu3W2y7nnQ9uM9UmOW7Os1VxWBXntZXoO7HLj6aealPsTjZbtuNk+LCkIZGPuGzBzm36hiuw6sHnZ0OsCes8sJ8c+ayNK6AebgVJ+w2PX4HVEEt6bvp4ksKAvxK1HQhiDuJcLIoXTfOM5J60I0jGKD8Aht8VRNUsMk4OoYeEoSxDPeu/6sTjIm4ZEFYzxYNzX10h4iBjt+XcdsZdtvkvKTzGcB2cDorccJoU/LeBLPS/5k9QlCF1HhGgqwhQAOxCgR53OZJ//rZpXtqabv843JKiCbGX7e3sMSkuL5yAgwo9nBm/CSijjDwcof2YpBui5wDArQ8GlZ8R36fk/i0xZSqwe01//IV0J2Z0RNkURQptmufsLzWrl/b1tofE3xeHP1sd7GMcEgMfoZFcohC+YWO/2VKf5VnoYnW0Vn4I4HgPv25cqzYDnKH5NBVoraXki+ZQwKA0e4sdPk0AjTXB/ZB1jOZVOP4CT+5GeR7tL7P7kfn4XUntlwZtY+uVp+jJswIfQkQUg95MOTUjIH7dXPQ3Hc6P9CkFIpUVr+EsQYNUBzii7J9s/jJ2NZxwVbf3ES4lqqMbsL2pjEVuDwzboKW8v76OAnd+y2ZIMQ4DWN1xfIasN4PWpkFQa03PQS26ODHsRa9vD6992mM3yOimqxrTZsHsakIsBacMvUsYF7m9gLje0tFvh7Eu2xgWnLxKkqekPsQ7GvBdIA180EAEE9RyIWWXUUbyPohoe8A2P46dhmngzHccM2Mf+QX8zOpbewU3qKNwwy6S1TqMote/Gvo85qwRU1n3OoGNKMSfySobOsuBC0ByEr64PfnHsZOp6xcyZq821+KEuh6OvnIll0UnsOp16C8saYtsqPW/qf9QCKZNf1qmCtOraQCF1e3CAIvW37lIqY4JuPAR3P4BZRJJtnoAMrpAAAAwAAAwAAAwLzAAAAd0GaOxP/5PaJFgoPsWIQHzq6XG+vBuMV0kxhYIWLP1aRjI64nvRfyjtUT7wguWvZdDrSFRi0Mr2CxZLcHOD7sWvj7IWubcdeVtNUCS6NDWGOKTGPmOms/9izpcrY7VBwSvMjpeqd+onCKnlaf+gLCKUyocTwJgS8AAAAYEGaTwhkymE/5OvSwMJiIFoePP02imbuZfVZME+wfPAVx4sokyHHA5hBRALFJKgDQYGpruszrdwe+DfPL+E4St9BKKExHAaIArUWjFASpVPLloItThQZFqccm2T/rsIvYQAAAElBmnJ4Q8mUwJ//5OjMfpy6wUBYAZ/1TsTAL415gyAVtfEfBlFwCEna657vMUm111+d20j0G8yH6WtNwvwd3aOxStWMgv6krr9SAAAAbkGaknhDyZTAn//k7cOvuPgBR8WUSbxjk64cxRG9N9u1Fb2ejZA+/oAPhVP1fR+iM8rFOAY6bdycZy/AekfwtJLB1Tf2FeFOR1VfoGgBdpsusf17Cumy1emca0H93oolFkHF3dIm3NoW9WWUGqbJAAAAYUGasnhDyZTAn//k9okWIYRu9QAd17VGghqaoYPEcOFYWjxC9fOFUfmhjr/ODihrjSYldytd0apN0fJRtd//nn3ZDK6f4/koMCkPu/AmCJyFWyp+ZeRqOb2865wC/VBB7PkAAABdQZrSeEPJlMCf/+TtDkL7YYCg4lT/fAPsP4I9/geiyPvomCk18syt/gOyrQ0ACFaAiHvMd6+4ccZ23M9LKA6RzFQPbEfeYme7XGEwu9q7d0dAsJz9fC02ESIXBY45AAAAZUGa8nhDyZTAn//k7bqyEYYCaGpd8FNYEmV+iHMqWdxubd9ZrGXMGEj5zGeFjbvrQ0AE6HGePGFMOfEeQRwALMVR8WGLporpZK5Y2ChZaMtn1D8nQolj96pf93L+wrT+UXNsVFtvAAAAc0GbEnhDyZTAn//k7YTZ8OtiIF97MfjSG6FXFyh5s/9cmerYrkLzhuovtOS2O4Z2fOYJdOQ2X+dzNGUABizjMdXyv6N7Y5AbpLxjvvB5q+ltmp58TkXpKrPHP1i7Djlnj3lN8pXd0dAc/eNv76trYzK5lWAAAABdQZsyeEPJlMCf/+TqKsnAD4NuQ5HIZcVdvXkE+sTzDgAd1FI9zqShp9FXoXezgIrW6T6t7YH7tuh3Hwbz0as/Kds6hBL6Pt5s+aFf1X4w+b8Hd0iba2XRI5tYIkaOAAAArkGbUnhDyZTAn//lZdMcYbY9QW7kcl98F3GZavbXB/nEWBUw4FizqZKj7/EI8IDoAzCIrStvAF3/9Ir4td/f8c+Zshtx6WWp8/pV4nzg8khyq5Csz555TTjL7xUSKbeLB8FiQ0SnTL2A+2cgF+EKfTTgVLalPEPuLot08PeaMPjqwjvcFjlkwg0BWFmBPN6bddkEH5xmvtgn4cI90mnBLsX8mKbBAuxBh0aIaK7nTQAAAHJBm3J4Q8mUwJf/h/j1uP0eB1dkA+E8J9+NcsA/4qd7zQSNqy7YjM1kygkaKnVmWfrNCwAHFNbaSB/UQafKd0asHi2Ro8r/GPF9JP90mt4mzlimXDKHjBPODnjUy4xG9mVTT8kVQ/t2st8E9vY2twdAwfAAAABgQZuSeEPJlMCX/4f6DkBE0eKgjrlm33QZaV5gACxnxZKevs8dLJ91hW1zB/B9WeEiZYIFPYoDVRGLwhXcXBfgZ1CDu5J5TflH/lIJBDec3B2uAp/u7Mt8KzKSlBikLNOgAAAAUEGbsnhDyZTAl/+ILGcaBjNmQNzGJMOd4ADVcDLQCSKL5AxNHz+Clig/XL7Wmtzl5hlYwXRk98e/KgTolU0z2j/EqbJd3aUerrAk7MJiUlV9AAAAbEGb0nhDyZTAl/+IU3KqY1qpQQBdz+hzBn7RhCMZhan+QdMaRQ7qWlCQ8AAWH2/J8VQaaOUZg7IsYQ1Yv7HOQ6kPbNoYPplxZXFaL+27LlhUDAKkObyY5KR3pmQ9YRWz7o3aRSJ0oh1k7lMpNQAAAFVBm/J4Q8mUwJf/iGl7tYTAhqBQgRrGxXw42+pEFx9J7cCxu0pm8/gJkbtwWIcdirLMsYDKy62NGPgb4PVOGuGJwgc+5mBg+/Qkmlc137SQ19yKlmYtAAAAU0GaEnhDyZTAl/+IV1503/BosAquu6jsk9+PVO1GZre+sTpZgatXgAA64j9o8lLHZgur7uOYgudNms3a9AeLaTrXEGsk42wN2st6pmI51Cbn58QIAAAAXUGaMnhDyZTAl/+IRnE3SAMUpLgqxjJFRrNCJFroccFRWUIe50PlNAbrcI1DkAA8S4kqeDavBFHdvLqtjaDHAYeYxLrBY+Y1FTlkezBgqXVhZB3ZlvgnetP1wY8V+QAAAGVBmlJ4Q8mUwJf/iFgUtgpI0FgvWPFY1FWsoWSNPsSzGFq34fd8O4XAj553IJQAAaW1LMUl86QmTVINXzpZBE2ShHbdE3eYv3JdYr9zy8a0l3UpHXDmu1pCd2lHqE1rqg3XyYnPQQAAAGhBmnJ4Q8mUwJf/iCnyWAqKIOzxMqfT/yCPjN9oABo0RQhn6oN9oZgzcmT8NnWMFc+4itS/xSC1G+QnQNLb1JA4hyawAFBaAivVslwbkaFHfEjPcwTnJjWMmNVA7u0o9fJHA3MwFpUSoAAAANRBmpJ4Q8mUwJf/iTGmO2GVem2ImgTt+odBWG/LAsX17MvM+ZpKEqxOl3BNNsDrUU1UTjvpdWZ9GHF7osGFuofR+0m5zCkuI7t4YTn3p0qM4mbyK2JnITH0TgYv++FLZyiWYQWeJsrZvSsQSGjZzb0dmz30fP2r3IeORdOGWjmElW6os6Y462Zv/UZvLi3SbJqrkezKRWT8LF/SQeACWvbbO+VlGIbbQ1SBFMZeXwX5SYJLv8SwWPRej+F3LhljsvV0UAggDuMCv0ANbbWje7ezEgsuIAAAAIJBmrJ4Q8mUwJf/iGl8LBQfZLagVC90rDqg4L0ZI6zNL+t0L5JShZl0o2/LthOjQR4dGizJyhpe2C2UzKwAC7dA8AAG/CygTydmlOUmbYGOgWQoTV2kDI2S28AzU6YSZO+1BFjHOJsuIT1IeJdHZKYU3qQgiCLz7u0isUFFzOmfevy5AAAAc0Ga0nhDyZTAl/+IU2p+AKggeS496/ZnPEfdhEZzPaMKbLs5Bz6jAAEJG5ZFIr/5ZRdJLmdP4xCCSFSoNPuFaS9iRX1p/WHe8wREHMfJYD9wwH9arOdJNlnDzcKu1cX9ZN7URrWJt/3dpR62uLIkQlMpdqUAAABEQZryeEPJlMC/AdeHuavPKAAA6xsZ2XAGt61qzj+FBhJojqIPxK5PXn2j0nP33wej2k/KoiqzrHdpVIOv/r2RtklcLkEAAABtQZsSeEPJlMC/AeUl6g9YCl+3OIJy/SOcyUN47MrqFik+dsABlfQocs+mciPcC/rNOnc1cLWZEERu7vbs8OG4DcLvSwHtDTnz/r1q8lUIayEOcDLcuFDhisL4Cy9XhtZBA7ezHwD3qw+065EvMQAAAYFBmzJ4Q8mUwL8GiIwH0znHrLFpnjIin/zmN6odU9dn3OGwFUkb3V/YPyBNzcFT4JFVbQnCO71emdYS9ubEpdQnxG5lAtoGeNVcjnLcKW+P6yMMMw//6WhlHHzI0Jsb/AFRYHZHsi+49VGLLlk6reahFalezxBiV6y7t/nNtaNFhBxL8UmCS2DoxKI/hwkPF0UUNBWncySgcI+DnGBIeTE0nR40iEilWC57gX7hMx0lqal9AAVopstL3JIdu5/hGqvs3/3eS/WBw6lrcS/tkwA9IfGy9/zztMZ9LRlHsGWV6I0/OA99ujTEVzvYHMuVNHFBW6eh/Hcarlh741O5LEl5Z+6ovDcOVvvuFg6riY2UkNLRjtQLelhQesCQOPaEoYBmeAuaRXeeuQUpFoCwfFO8dypHBuH9o49ru0WiV0y6Pp9Cfzaj9vnC4GWp707/fXsT51juw1Hy6SCuGPR+JIi6RaHTynkzzzeGaI+sFZmbn57byRMO83gw1rfVkfZjEB/gAAAAeEGbUnhDyZTAvwHjKMmjxbYI5vITltx50ehHGZERgvb90FaZWRcJF37qYTnCWAmRKAAAK434y7f+Xu/QmSzZ2BKvM6Ap8Jsm63l/LxH+OAMdeS0UyCLoeHq7eosf45yXJjyE4s2JXCntI8uefd2kk71yMA8K5ZchgQAAAGBBm3J4Q8mUwL8ByhG18EpjYutREazV5oXcL/tMZ7rDiC2jRGFkQ+EEHgKSFNBCcGS56E1/p3qHP/vVxDUZXYTU4mkd4WR0BNzMzwQItsUM/wlhzjTLq+6i8iH3A/Fz0XAAAABGQZuSeEPJlMC/AdeHuCwc3gAAQhDO8xXj77doCvZvxH7/Cgwk0RjaxT76aWlCHE2M+j0agLXWKzVd7LXCqHUua4BpsQtikQAAAG1Bm7J4Q8mUwL8B5S+K1+2BUkuoJ9oss8XiFBKWgolJumSZmAAArzC9ApGwZTEgRsKp68BZUU4qoFVXrNT0BeptaflBelLUxYLgajUcxv0wh7XV9DRcXUlLbZwjCbs3apKNnu0klOJv3yQp7l85AAAAXEGb0nhDyZTAvwH+RKQjCCA+AJ1s+1ZNPDmOSvJtrn5DM2L1/2Z7RVJoMY+xadlHh6Bp96M4EE9WkeZ+AaKmDYPny4w+P8ogAJly/BN2F5s7G3zqDqLS5FlhUGLAAAAAU0Gb8nhDyZTAvwHjnAhZ+BUkpbrE23vcg1EeCOSnEUD1+AAH+crIZ4LmxWIWcXlWVb3OVrrN/PT13y+cTzgHlr+edR6IQCo92i2bWYV0O9Osw3qAAAAAZUGaEnhDyZTA/wNXFUkVdBEhbPSqFdNLVmYDX0m+zd74POGtvgSAEYSvdguWS/2AAAOjWwhwikVvW59x8APUQfTNgycShXkxRHmoJAC3bjBiUAyn2vbLX3dkUPLS4C9y+3A6GNKBAAAAbEGaMnhDyZTA/wNVZUUlTGoeoYILkTmzY2Gn5s8jte+TVXfWhd2nDWGjuKUUyfbDKbjv0Kx+e9Yw+zgF3AtkrBZt5XZZ4A5lLTUeN9K0c2RaR08hxnabAn5zVS/n+05cZzd2Qf1c1RK1oSwCJQAAAFpBmlJ4Q8mUwP8CyB7ATcOLBSt5MrD2XgBYgABTUB39qxViixA9BOlS9A3CpqvA7r2EUBekoZs1isKQMrFB8cF2+mQEmqS46ELfE8DFYebtpOWduYCCBMMGbqEAAAChQZpyeEPJlMD/BLXVGUKka+mQs/6ed1Mu7MOWgYaE2xJv+Qw6m5MI4H92HAPeq+U70bGfkFx6fvDz53qClbMQ6jNbBEv/qeqk/Q9SFXp4j0OVXIJeLEMXYBAu+84jTr2scRl6A3IXJJ9WUyI4Av24xoNOBUr+1eJdrMg3boB2xFsyrSYMZDZUl8IsqQHSIW3Z/EHCdX7CHXfwn+WlEB9yTjgAAABqQZqSeEPJlMD/A16IMnSzUAU6n35AKFkTIEz3R2Zgll5hK5378kS7H1a9ulLhwCfkGRVAAEYPxDglKzIP7cIPTntzlvb7MzsByDnU56DIL2Y7F/TWPD5RtCUiGzdEO/+7sgTQKPZTY4e3hwAAAF5BmrJ4Q8mUwK8EmKAGyI24T9Gyu9MtgAAADw+aY4AmgsnX16+0JTu8Mm4CNZ7W7dFVfDvTQWso6IRBe2d26fi91wykQCoda6gZu6lYW3VxgSl33bScr7Qn60iV17uVAAAATEGa0nhDyZTArwQheZr2mZ7jXgAAAwDO5wCf43kLih5hCAsg7OLk+A6gzUpjrHMwHb6tTUTTeM/Z93G9vCbKTuluzxNb98MOeYpQTkkAAABpQZryeEPJlMCvBJifec6UmFgIpKAPSaYKhWQ8gRPiEngrRa1PoAAADVZd1J26iYZ4jDnJ15Mjd4ApoEzsz9x9oWmPXIQKMxQ7+/wXv9pO/oIPMz2xkcqy35rArrkMm3IO7ol6IAkKcQGBAAAAXUGbEnhDyZTArwVxxHyk4l8BGGO3GLJKZzBcjpPb7VtF7iRxLvtTbyyx8AfGGNckQ8pDnwXgIqn1OJLeMLDoT2shVhh1vfN0kcBUFytJR9ea9d/Jdg8AQRverc3IOAAAAFNBmzJ4Q8mUwJP/BsT3vWoCqmRQCFyaduwRgUWJMRscywI3wXyF4AAfMhS6rGzJMbWVhh2m29l4lQD9l4G9OMpG990nvKS0TCzbS5pL0vTmn4sL2QAAAFpBm1J4Q8mUwJP/BdM6rVSdkS45QKTJ0AvS5Vrga6zzYyrA95uVMdgZAAFPgMq8BMB1WQW2ghGjkk0MduLbxx1YMcvfZumCUSVIo0tmN5dpuybLG7TouF4UsKsAAABfQZtyeEPJlMCT/wbHMVCJmGLueo4zsutefDgpC2LzRcBs/1QvgqS4AAAG4kqP33V8vGTubjvmQ+Fd9y/mC2WmWtR2I1BgRGXEMlAjse1+UrfRxY6+7sjsCKSabAnUBEcAAABiQZuSeEPJlMCb/wc/tyXQNva6s1FJOFh5ASsAA0gdi2l3l7v2GdViznf4UcVy0bmZsL3D0ns2cn99NeL1+m0svZi2/vzk0udJ2Nt5PpxzjFiD6ARe2mR20HF/36A2Wxs7ooAAAADKQZuyeEPJlMCb/wxI3F8MHuTug5cz/aKmR3B4VnWDjkxlwQ1ccae9ssaXySnq2TSgRSMXopp6LvcMUuDRSmqzWGxAq8oTKECvI0aXYNkBvW2Oxitfn0gUq0BFMTRGx/cI3flDaEFYPo13LaWfA0Ey0anAuWXbcWsq5jLMUGP8orelZBbVqGVLn+VOh0qajPz01HwR/R4JL2Qxb7JS65WBptlc0gzM6or94KVXz9zuzzac9qzPTpHMJZPEJTLC7fTgoYwGFd1TbM90wQAAAH5Bm9J4Q8mUwIj/C7ssZtcXMPyQKjCtEWqfW7nt64uVQ5XUWxz9RyGicmwIOxBKLlIdKdge9NJ+YYagAAv11Y66u6L4PxhmWMQOLm3WY8wzcVwaQP1SGISz4BXDa5G9BPTQKjPiqRlQTlWvnnhLavnJJ6MBr22GQ/bSwuU9DgUAAABwQZvyeEPJlMCK/xEei261kjeCY8x+kUJ99AQbnl44oUzWgAAEKcqv01QMEZUinO2WDZQbvlFSeT6MVUt2F03hTmt2q/y05kC/j/AFarmFoudAx6gVBDMODa1KXIcogaLhzL74dG+2xa3OBvoKupVIIwAAAEVBmhJ4Q8mUwIz/E39hVvoW4bYdAAALhgA6VVoFwFaJOIAXIVocaOGFT3vVqYs2gmOtfxFHTYhVBOBIrYtbow7s34Ed7WIAAABpQZoyeEPJlMCEPxyWi706QTeJMGwI5QeOt3fxjijAXa9qYABiKcMvNN5wuJf+0jE5ONQB6IyW/Teyprfwvt/aQ7Euy4hE5VsDVazXIlMgW7PlRtyGFfa49q0VH4azJrtbBlf6B0iFLhq4";b.Ge=!1;b.$={qa:1E3,I:25E3};b.duration={qa:5E4,I:25E3};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=288;b.height=216;b.Fd=[176,700];b.Ed=[44];},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Ed=b.Fd=b.height=b.width=b.bitrate=b.profile=b.duration=b.$=b.$h=b.Ge=b.T=b.zg=b.He=b.xa=void 0;c=a(426);Object.defineProperty(b,"initDict",{enumerable:!0,get:function(){return c.xa;}});Object.defineProperty(b,"fragmentDict",{enumerable:!0,get:function(){return c.T;}});b.xa="QAEwhmAhAShmARB8gAYChmBZAEhmAVgOYBhmBHCghmAVgMYBA8gBYDhmAyBLhmA9ALhmAFC/hmANCvhmBTA1hmAJAYhmAMguIAgAgBAHCBhmIdgCABgAYChmJnDQhmIUhGQBhmJn";b.He=!0;b.zg=817;b.T="PcqDwBxDIygBgAxDP/xDP/xDP/xDP/xDP/xDP/xDP/xDP/xDP/xDP/xDP/xDP/xDP/xDP/xDP/xDP/xDPQ";b.Ge=!0;b.$h=8730;b.$={qa:1E3,I:3E4};b.duration={qa:6E4,I:3E4};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=288;b.height=216;b.Fd=[176,700];b.Ed=[44];},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ed=b.Fd=b.profile=b.bitrate=b.duration=b.$=void 0;b.xa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDrBtFvB2gDYBdsbXZoBkgA4BcA3x8jCBgAYCgBIAADDogB4CgGoAgAQDgAAIgBgLgB4QBAgDwNgAANACgGABfddHJhBrgBYBBcB0BrgOYDADgO4GgLoRgMIDgCgDgO4sckZWR0BzgA4BccZWxzB0gGIMAEgBIFcBVW1kBpBhgkYCgA4AgfYEgQ4IBdDAgBYCBVDEgCQDAtgDoABsBygD4GgoQAB1BugNAKBTgB4BBkBIBhgAYABsBlgEYCgLIAdtaW5mgBABAQgsoAgKgIgSACgNYAgC4DccZHJlgA4CgSAGcMdXJsAggBYFDEgVQABiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgewMgpQAAQgAwCgVQEAAAqBlgGQAgeACgpoAAcgcYCAUBAAVgCwDB9gBgCCQEFcTEFblAAAGABgvwBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gtgNgEYBBjBvgB4Jcac2dwBkgRQCByBvFsg6wEgTIAH/gAoBA4hJAABlB4gGICBtBlgf4GAQguIBgsgAg+gAgC4DgYYGgAYBgCwCgHQEgAABBiB1g2AAgcYCBagG4AgA4DgAACAhgvAKg1gBhGwAFwgNoCgAAHAtBpg7oEAlCpB0hYwAgA4BAdhaoAgHgDgkgDdMYXZmA1A5AuAxA2gAQAEw";b.He=!0;b.T="EAABA4BtFvBmgA4AcAEG1mBoBkgA4BgAACABgAQBcgdHJhgC4CAcB0gC4CACAAAqgC4EgAYCAEgBwBgAADAQgDYABkB0gGYFgAACccc2JnBwgBACByBvFsgF4FAvgA4FDQgJ4AB1BugAwAACgCYFABBAgA4BAXgAYBAGgAa0cBM21kBhB0DeghAAdMYXZjA1A5AuAxA4gAQAEwcAQiAIDBAYA4AhAQAEBgCMAcgAsM";b.Ge=!0;b.$={qa:1024,I:24E3};b.duration={qa:48128,I:24E3};b.bitrate=32;b.profile="heaac-2-dash";b.Fd=[176,661];b.Ed=[44];},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.oe=void 0;b.oe=function(a,c){for(var k=0;k < a.length;k++){if(c(a[k],k,a))return a[k];}};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.wCb=b.Jv=void 0;b.Jv=function(){var k;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(g,f){return g + f.byteLength;},0);k=new Uint8Array(c);a.reduce(function(g,f){k.set(new Uint8Array(f),g);return g + f.byteLength;},0);return k.buffer;};b.wCb=function(){var k;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(g,f){return g + f.byteLength;},0);k=new Uint8Array(c);a.reduce(function(g,f){k.set(f,g);return g + f.byteLength;},0);return k;};},function(q,b,a){var d;function c(h){return ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")[h >> 6] + ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")[h & 63];}function k(h,m){d.assert(0 < m && 8 > m);return c((m - 1 << 8) + h);}function g(h){return c(1792 + h[0]) + c((h[1] << 4) + (h[2] >>> 4)) + c((h[2] << 8 & 3840) + h[3]);}function f(h){return 43 === h?62:47 === h?63:58 > h?h - 48 + 52:91 > h?h - 65:h - 71;}Object.defineProperty(b,"__esModule",{value:!0});b.n8a=b.ZTb=void 0;d=a(428);b.ZTb=function(h){var v,u;function m(x,y){var z;z=n;x=p - y - x;d.assert(1 <= x && 16384 > x - 1);d.assert(2 <= y && 512 > y - 2);y=c(2048 + (x - 1 >>> 3)) + c(((x - 1 & 7) << 9) + (y - 2));n=z + y;r=p;t=0;}function l(x,y,z){return h.subarray(x,x + z).every(function(A,B){return A === h[y + B];});}for(var n="",p=0,r=0,t=0,w=0;p < h.byteLength;){v=r;u=t;if(0 !== t && 513 > t && h[p] === h[r + t])(++t,++p);else if(513 === t)(m(v,u),w=0);else {for(--r;0 <= r && r >= p - t - 16384 && (h[v] !== h[r] || 0 < t && !l(p - t,r,t + 1));){--r;}if(0 <= r && r >= p - t - 16384)(++t,++p);else if(v === p || 1 === u){p-=u;for(v=1;5 > v && h[p + v] === h[p];){++v;}n+=k(h[p],v);p+=v;w=1 < v?0:w + 1;4 === w && (n=n.slice(0,n.length - 8),n+=g(h.subarray(p - 4,p)));r=p;t=0;}else (m(v,u),w=0);}}1 === t?n+=k(h[r],1):1 < t && m(r,t);return n;};b.n8a=function(h){var t,w;function m(u,x){var y;if(r + x > n.byteLength){y=new Uint8Array(2 * n.byteLength);y.set(n,0);n=y;}if(u + x <= r)n.set(n.subarray(u,u + x),r);else for(y=0;y < x;++y){n[r + y]=n[u + y];}r+=x;}function l(){var u;u=h.slice(p,p+=2);return (f(u.charCodeAt(0)) << 6) + f(u.charCodeAt(1));}for(var n=new Uint8Array(4096),p=0,r=0;p < h.length;){t=l();if(t & 2048){w=l();m(r - (((t & 2047) << 3) + (w >>> 9) + 1),(w & 511) + 2);}else if(1792 === (t & 3840))(n[r++]=t & 255,w=l(),t=l(),n[r++]=w >>> 4,n[r++]=(w << 4 & 240) + (t >>> 8),n[r++]=t & 255);else {w=t & 255;t=(t >>> 8) + 1;for(var v=0;v < t;++v){n[r++]=w;}}}return n.subarray(0,r);};},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r,t,w,v;Object.defineProperties(b,{__esModule:{value:!0}});b.IJa=void 0;c=a(1);k=c.__importStar(a(10));q=a(13);g=c.__importDefault(a(32));f=c.__importDefault(a(938));d=c.__importDefault(a(5));h=a(184);m=a(244);c.__importDefault(a(246));l=c.__importDefault(a(939));a(429);n=a(4);p=a(942);r=a(1056);t=new d.default.Console("ASEJS","media|asejs");w=t.trace.bind(t);v=t.warn.bind(t);q=(function(u){var N10;N10=2;function x(y,z){var O10,A;O10=2;for(;O10 !== 13;){switch(O10){case 3:var l69="D";l69+="E";l69+="BU";l69+="G";l69+=":";var C69="nf-ase";C69+=" v";C69+="ersion:";w(C69,y,l69,!1);A.ama=!1;A.jvb=!1;O10=7;break;case 7:var H69="1";H69+="SIYb";H69+="Z";H69+="rNJCp9";A.TI=[];H69;return A;break;case 2:A=u.call(this) || this;A.config=y;A.eH=z;y=a(470);O10=3;break;}}}for(;N10 !== 27;){switch(N10){case 10:x.prototype.E_=function(y,z){var d20;d20=2;for(;d20 !== 1;){switch(d20){case 2:return this.HA && (y=this.HA.E_(y,z))?y:!1;break;}}};x.prototype.Hvb=function(y){var e20,z;e20=2;for(;e20 !== 4;){switch(e20){case 2:var j69="can";j69+="'t ";j69+="find session in ";j69+="ar";j69+="ray, movieId:";this.jc.$R(null);z=this.TI.indexOf(y);k.ta(z)?v(j69,y.ff.R.L):(this.TI.splice(z,1),0 === this.TI.length && this.fp.q5b(),this.fp.save(),this.Ji.save());e20=4;break;}}};x.prototype.eaa=function(y,z,A){var f20;f20=2;for(;f20 !== 1;){switch(f20){case 2:return h.gta(y,z,A);break;}}};x.prototype.Qoa=function(){var g20,y;g20=2;for(;g20 !== 5;){switch(g20){case 2:null === (y=this.HA) || void 0 === y?void 0:y.z1a();g20=5;break;}}};x.prototype.KE=function(){var h20,y;h20=2;for(;h20 !== 5;){switch(h20){case 2:null === (y=this.HA) || void 0 === y?void 0:y.MGb();h20=5;break;}}};N10=16;break;case 2:c.__extends(x,u);Object.defineProperties(x.prototype,{jc:{get:function(){var P10;P10=2;for(;P10 !== 1;){switch(P10){case 2:return this.W6.jc;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{fp:{get:function(){var Q10;Q10=2;for(;Q10 !== 1;){switch(Q10){case 2:return this.W6.fp;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{kx:{get:function(){var R10;R10=2;for(;R10 !== 1;){switch(R10){case 2:return this.Rma;break;case 4:return this.Rma;break;R10=1;break;}}},enumerable:!1,configurable:!0}});N10=3;break;case 3:Object.defineProperties(x.prototype,{VC:{get:function(){var S10;S10=2;for(;S10 !== 1;){switch(S10){case 2:return this.X7;break;case 4:return this.X7;break;S10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{zva:{get:function(){var T10;T10=2;for(;T10 !== 1;){switch(T10){case 2:return !k.ta(this.AUa);break;case 4:return -k.ta(this.AUa);break;T10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{VG:{get:function(){var U10;U10=2;for(;U10 !== 1;){switch(U10){case 2:return this.xUa;break;case 4:return this.xUa;break;U10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{kg:{get:function(){var V10;V10=2;for(;V10 !== 1;){switch(V10){case 2:return this.HA;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Ji:{get:function(){var W10;W10=2;for(;W10 !== 1;){switch(W10){case 2:return this.W6.Ji;break;}}},enumerable:!1,configurable:!0}});N10=14;break;case 16:x.prototype.Rb=function(){var i20;i20=2;for(;i20 !== 6;){switch(i20){case 3:delete this.eH;this.KE();delete this.HA;m.yM.reset();i20=6;break;case 2:var R69="Attempted to destruct Man";R69+="ager bef";R69+="ore all Sessions removed";n.assert(0 === this.TI.length,R69);this.ama=!1;delete this.W6;delete this.Rma;i20=3;break;}}};return x;break;case 14:Object.defineProperties(x.prototype,{xua:{get:function(){var X10;X10=2;for(;X10 !== 1;){switch(X10){case 2:return this.jvb;break;}}},enumerable:!1,configurable:!0}});x.prototype.xa=function(y,z,A,B,D,C){var Y10,F,G;Y10=2;for(;Y10 !== 11;){switch(Y10){case 3:this.X7=B;this.xUa=D;f.default(G);this.W6=m.yM.I3a(G,t,this.eH);Y10=6;break;case 2:(F=this,G=this.config);m.yM.reset();0 < G.Fw && (!k.ta(y) && y > G.Fw && (y=G.Fw),z > G.Fw && (z=G.Fw));k.ta(y) && (this.AUa=z);Y10=3;break;case 6:this.Rma=new l.default(G);Y10=14;break;case 13:var g69="me";g69+="d";g69+="iac";g69+="ache";var Z69="cach";Z69+="eEvi";Z69+="ct";var M69="flu";M69+="sh";M69+="edB";M69+="ytes";var S69="di";S69+="scard";S69+="edBytes";var x69="prebu";x69+="f";x69+="fstat";x69+="s";(z=new r.mIa(this,G,A,C),y=function(E){var Z10;Z10=2;for(;Z10 !== 1;){switch(Z10){case 4:F.emit(E.type,E);Z10=6;break;Z10=1;break;case 2:F.emit(E.type,E);Z10=1;break;}}},z.addListener(x69,y),z.addListener(S69,y),z.addListener(M69,y),z.addListener(Z69,y),(G.YCa || G.XCa) && z.addListener(g69,function(E){var a20;a20=2;for(;a20 !== 1;){switch(a20){case 4:F.emit("",E);a20=9;break;a20=1;break;case 2:var O69="me";O69+="d";O69+="iacach";O69+="e";F.emit(O69,E);a20=1;break;}}}),this.HA=z);Y10=12;break;case 14:Y10=G.mib || G.UCa?13:12;break;case 12:this.ama=!0;Y10=11;break;}}};x.prototype.s2=function(y,z,A){var b20;b20=2;for(;b20 !== 4;){switch(b20){case 2:this.AUa=y;this.X7=z || 0;this.xUa=A || 0;b20=4;break;}}};x.prototype.createSession=function(y,z,A,B,D,C,F,G,E,I){var c20;c20=2;for(;c20 !== 4;){switch(c20){case 2:c20=this.ama?1:5;break;case 5:var N69="open: stre";N69+="am";N69+="ingManager not in";N69+="itted";v(N69);c20=4;break;case 7:v("");c20=8;break;c20=4;break;case 1:return (G=G || this.config,this.jc.reset(),this.fp.i5b(),this.Rma.reset(),void 0 === C && (C=this.eaa(y,z)),k.ta(this.X7) && (this.X7=d.default.yq()[g.default.kb.Vb] <= G.MVb?0:G.V1),y=new p.NPa(this,y,I,z,A,B,D,C,F,G,E),this.TI.push(y),y);break;}}};N10=10;break;}}})(q.EventEmitter);b.IJa=q;},function(q,b,a){var k,g,f,d;function c(h){var m;m=nrdp.jl.tjc.match(/android-(\d*)/);m?23 < m[1]?h.aCa=!1:(m=nrdp.jl.idc.Dt.platform.platformVersion.match(/(\d*)\.(\d*).(\d*)/),h.aCa=m?6 < m[1] || 6 == m[1] && 1 < m[2] || 6 == m[1] && 1 == m[2] && 1 <= m[3]?!0:!1:!1):h.aCa=!1;h.W5b=!1;}k=a(4).assert;a(159);g=a(5).default;f=g.Zs;d=g.wob;q.exports=function(){var h,m,l,n;h=new g.Console("ASEJSMONKEY","media|asejs");if(!g.Zs.dd){m=function(p){this.Ttb=p;};l=d.prototype.appendBuffer;g.MediaSource.dd || (g.MediaSource.dd={});"undefined" !== typeof nrdp && nrdp.F8 && (c(g.MediaSource.dd,h),g.MediaSource.dd.fYa=!1,g.MediaSource.dd.Y9a=!1);g.Zs.dd={Y1:{ujb:!0,GU:!0,Hob:!0}};Object.defineProperty(f.prototype,"_response",{get:function(){return this.vwb || this.osb;},set:function(p){this.osb=p;}});n=f.prototype.open;f.prototype.open=function(p,r,t,w,v,u,x){1 === t && (this.vwb=new m(this));return n.call(this,p,r,t,w,v,u,x);};f.prototype.Hea=function(){this.bO=void 0;};d.prototype.appendBuffer=function(p){if(p instanceof ArrayBuffer)return l.call(this,p);if(p instanceof m)return this.I8(p.Ttb);k(!1);};}};},function(q,b,a){var g,f;function c(){this.LA=this.lV=this.s7=this.F7=this.p7=null;}function k(d){this.K=d;this.rE=[];this.jt=new c();this.EV();}g=a(10);a(32);a(8);f=a(5).default;new f.Console("ASEJS_SESSION_HISTORY","media|asejs");c.prototype.re=function(d){var h;h=!1;d && g.has(d,"ens") && g.has(d,"lns") && g.has(d,"fns") && g.has(d,"d") && g.has(d,"t") && (this.p7=d.ens,this.F7=d.lns,this.s7=d.fns,this.lV=d.d,this.LA=d.t,h=!0);return h;};c.prototype.getState=function(){var d;if(g.Gb(this.p7) || g.Gb(this.F7) || g.Gb(this.s7) || g.Gb(this.lV) || g.Gb(this.LA))return null;d={d:this.lV,t:this.LA};d.ens=this.p7;d.lns=this.F7;d.fns=this.s7;return d;};c.prototype.get=function(){var d,h;d=this.getState();if(d){h=new Date(this.LA);d.dateint=1E4 * h.getFullYear() + 100 * (h.getMonth() + 1) + h.getDate();d.hour=h.getHours();}return d;};k.prototype.EV=function(){var d;d=f.storage.get("sth");d && this.re(d);};k.prototype.re=function(d){var h,m;h=null;m=this.K;d.forEach(function(l){var n;n=new c();n.re(l)?(h=!0,this.rE.push(n)):g.Gb(h) && (h=!1);},this);this.rE=this.rE.filter(function(l){return l.lV >= m.bda;});this.rE.sort(function(l,n){return l.LA - n.LA;});return g.Gb(h)?!0:h;};k.prototype.Tla=function(){var d;d=[];this.rE.forEach(function(h){d.push(h.getState());},this);return d;};k.prototype.save=function(){var d,h,m;d=this.Tla();h=this.K;m=this.jt.getState();m && m.d >= h.bda && (d.push(m),this.rE.push(this.jt));d.length > h.Dca && (d=d.slice(d.length - h.Dca,d.length));this.jt=new c();d && f.storage.set("sth",d);};k.prototype.reset=function(){this.jt=new c();};k.prototype.SLb=function(){return this.jt.get();};k.prototype.aOb=function(){return this.rE.length + 1;};k.prototype.qxb=function(d){this.jt.p7=d;this.jt.LA=f.time.ma();};k.prototype.Axb=function(d){this.jt.F7=d;this.jt.LA=f.time.ma();};k.prototype.uxb=function(d,h){this.jt.s7=d;this.jt.LA=f.time.ma();this.jt.lV=h;};q.exports=k;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.nKa=void 0;q=(function(){function a(c,k,g){this.zwb=k;this.Irb=g;this.J=c;}a.prototype.Zya=function(c){c=this.TQb(c,this.zwb) + this.Irb;return this.Ima=isNaN(c)?NaN:this.oBa(c);};a.prototype.MBb=function(c){return isNaN(this.Ima)?0:this.Ima > c?1:0;};a.prototype.TQb=function(c,k){var g;g=0;if(c.length !== k.length)g=NaN;else for(var f=0;f < c.length;f++){g+=c[f] * k[f];}return g;};a.prototype.oBa=function(c){return 1 / (1 + Math.exp(-c));};return a;})();b.nKa=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.zU=void 0;q=(function(){function a(c){this.Zk={};this.pma=c;this.Ig=[];this.tt=!1;this.UI=void 0;}a.prototype.v8=function(c){this.Ig.length === this.pma && this.Ig.shift();Array.isArray(c)?this.Ig=this.Ig.concat(c):this.Ig.push(c);this.tt=!0;};a.prototype.YP=function(){return this.Ig.length;};a.prototype.Soa=function(){var c;c=this.Ig;return 0 < c.length?c.reduce(function(k,g){return k + g;},0) / this.Ig.length:void 0;};a.prototype.p9=function(){var c,k;c=this.Ig;k=this.Soa();if(0 < c.length && "undefined" !== typeof k)return (c=c.reduce(function(g,f){return g + f * f;},0) / c.length,Math.sqrt(c - k * k));};a.prototype.Ev=function(c){var k,g,f;if(this.tt || void 0 === this.UI)(this.UI=this.Ig.slice(0).sort(function(d,h){return d - h;}),this.tt=!1);if(void 0 === this.Zk[c]){k=this.UI;g=Math.floor(c / 100 * (k.length - 1) + 1) - 1;f=(c / 100 * (k.length - 1) + 1) % 1;this.Zk[c]=g === k.length - 1?k[g]:k[g] + f * (k[g + 1] - k[g]);}return this.Zk[c];};return a;})();b.zU=q;},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r,t,w,v,u,x,y,z,A,B,D,C,F,G,E,I,K,L,H,P,N;Object.defineProperties(b,{__esModule:{value:!0}});b.NPa=void 0;q=a(1);c=a(13);k=q.__importStar(a(10));g=a(151);f=a(943);d=a(184);h=a(17);m=a(237);l=a(271);n=a(272);p=a(992);r=a(993);t=q.__importDefault(a(5));w=t.default.MediaSource;v=a(8);u=a(4);x=a(185);y=a(450);z=a(995);A=a(996);B=a(190);q=a(39);D=a(997);C=a(998);F=a(451);G=a(1037);E=a(462);I=a(1046);K=a(466);L=a(1052);H=a(1053);P=a(1054);N=a(1055);a=(function(){var j20;j20=2;for(;j20 !== 91;){switch(j20){case 72:J.prototype.Z7=function(M,O){var g40,Q,T,V,da,pa;g40=2;for(;g40 !== 19;){switch(g40){case 2:(Q=this,T=this.K,V=this.Pb.qg[0] || ({}),da=this.Pb.qg[1] || ({}),pa=this.Pb.ZC[1] || ({}));(this.Pb.ZC[0] || ({})).eX=void 0;pa.eX=void 0;this.U.re(2 === M?h.Da.sg:h.Da.Md);g40=3;break;case 3:var T69="startBuf";T69+="fer";T69+="in";T69+="g";this.Ub.qub(O);this.BA.reset();this.ff.R.Uxa();this.emit(T69);m.fg.forEach(function(xa){var h40;h40=2;for(;h40 !== 5;){switch(h40){case 2:h40=(xa=Q.$a.qd.pe(xa))?1:5;break;case 1:(xa.Hoa=0,xa.seeking=0 === M || 1 === M,xa.upa());h40=5;break;}}});this.ela=t.default.time.ma();V.ym=da.ym=this.ela;g40=12;break;case 12:0 === M && (!this.no || 0 < da.Sw) && (!this.yt || 0 < V.Sw) && this.Pb.DA();T.vY && (this.Cla=setTimeout(function(){var i40;i40=2;for(;i40 !== 1;){switch(i40){case 2:Q.Lvb();i40=1;break;}}},T.Wqa));this.U.Og() && (this.vN=setTimeout(function(){var j40;j40=2;for(;j40 !== 1;){switch(j40){case 2:Q.Pb.DA();j40=1;break;}}},T.GC));this.Mg.$k();g40=19;break;}}};J.prototype.iW=function(M){var k40,O;k40=2;for(;k40 !== 3;){switch(k40){case 2:var q69="A";q69+="doptingD";q69+="ata still has lock:";var B69="wipeHeader";B69+="Cac";B69+="he";B69+=":";a000.s59(4);M=a000.Y59(B69,M);this.zA.ty && this.Jl(q69 + M);O=this.K;k40=4;break;case 4:O.VK || (O.fj && this.Ub.Vn(M),this.Gc.KE(),this.ti && (this.ti=void 0));k40=3;break;}}};J.prototype.bSa=function(M){var l40,Q,T,V,da;l40=2;function O(pa,xa){var m40,S,R,W,ia,ya,sa,X;m40=2;for(;m40 !== 10;){switch(m40){case 8:m40=!pa.X8b(S)?7:6;break;case 3:ia.ZB=xa.ZB;ia.Jy=xa.Jy;m40=8;break;case 6:m40=!sa.header?14:13;break;case 7:return X;break;case 5:(S=sa.Za,R=sa.header.stream,W=Q.Pb.qg[ya],ia=Q.Pb.ZC[ya]);k.ta(xa.GF) || Q.wh.veb(xa.GF,xa.Dq,xa.Eq);m40=3;break;case 13:xa=Q.ff.R;m40=12;break;case 11:return X;break;case 14:var h69="adoptPipeline no h";h69+="eader for ";h69+="strea";h69+="mId:";return (pa.Jl(h69,S),X);break;case 1:m40=sa?5:11;break;case 12:xa.u8(sa.header,!xa.Pf.jf && !xa.Cj && 1 === ya,!0) && (void 0 !== pa.eL && pa.JL(pa.eL),X=xa.xq(ya,S).stream.Z.Pn(pa.yc,void 0,!0),xa=R.Hh(X),R=xa.da,(xa=xa.Pra(pa.yc)) && 0 < xa.Xd && (R=xa.Xd),pa.yc !== R && (pa.aS(R,X),Q.Sma(ya,R)),X=Q.rrb(pa,sa.data).then(function(){var n40;n40=2;for(;n40 !== 1;){switch(n40){case 4:return S;break;n40=1;break;case 2:return S;break;}}}),W.mKb=!0,pa=Q.wh,sa=sa.header.bitrate,0 === ya?pa.Dz(sa):pa.KL(sa));m40=11;break;case 2:(ya=pa.mediaType,sa=xa[ya],X=Promise.resolve(void 0));m40=1;break;}}}for(;l40 !== 13;){switch(l40){case 2:var t69="Previously adopt";t69+="ed re";t69+="que";t69+="st list still retaine";t69+="d was unexpected";Q=this;(null === (T=this.ti) || void 0 === T?0:T.EF()) && this.Jl(t69);this.ti=void 0;V=this.K;l40=3;break;case 3:l40=!this.Mwb || !this.Gc.kg?9:8;break;case 9:return (this.Gc.Qoa(),Promise.resolve());break;case 8:var K69="ch";K69+="eckFo";K69+="rHcdStart";this.Ub.vn(K69);this.ce.forEach(function(pa){var o40;o40=2;for(;o40 !== 1;){switch(o40){case 2:pa.R.L === M && (da=pa);o40=1;break;}}});return this.Gc.kg.WTb(M,da?da.R:void 0).then(function(pa){var p40,xa,ya;p40=2;for(;p40 !== 8;){switch(p40){case 1:p40=k.ta(pa)?5:4;break;case 2:var d69="c";d69+="heckFo";d69+="rH";d69+="cdEnd";Q.Ub.vn(d69);p40=1;break;case 4:var p69="adop";p69+="tH";p69+="cdS";p69+="ta";p69+="rt";(xa=Q.$a.qd.pe(0),ya=Q.$a.qd.pe(1));Q.Ub.vn(p69);return Q.zA.Fga(function(){var q40,sa,X;q40=2;for(;q40 !== 7;){switch(q40){case 9:var Q69="adop";Q69+="t";Q69+="Hc";Q69+="dEnd";Q.Ub.vn(Q69);return Promise.all([sa,X]);break;case 2:sa=Promise.resolve();Q.no && (sa=O(ya,pa));X=Promise.resolve();!Q.yt || V.Z4a && !sa || (X=V.Z4a?sa.then(function(S){var r40;r40=2;for(;r40 !== 1;){switch(r40){case 2:return S?O(xa,pa):Promise.resolve();break;}}}):O(xa,pa));Q.VSa=pa;q40=9;break;}}});break;case 5:var y69="header";y69+="CacheDat";y69+="aNotFo";y69+="und";return (V.xt || Q.zA.ty || Q.iW(y69),Promise.resolve());break;}}}).then(function(){var s40,pa;s40=2;for(;s40 !== 5;){switch(s40){case 2:var L69="a";L69+="dopte";L69+="dCompl";L69+="etedRequests";V.xt || (null === (pa=Q.ti) || void 0 === pa?0:pa.EF()) || Q.zA.ty || !Q.U.ap(Q.ff.R) || Q.iW(L69);s40=5;break;}}}).catch(function(pa){var t40;t40=2;for(;t40 !== 1;){switch(t40){case 2:var D69="heade";D69+="rCache:lookupDataPromis";D69+="e";D69+=" caught error:";Q.cc(D69,pa);t40=1;break;case 4:Q.cc("",pa);t40=8;break;t40=1;break;}}});break;}}};J.prototype.rrb=function(M,O){var u40,Q,T,V,da,pa,xa,ya;u40=2;for(;u40 !== 9;){switch(u40){case 2:Q=this;u40=1;break;case 1:u40=0 === O.length?5:4;break;case 5:return Promise.resolve();break;case 4:(T=M.lca,V=T.G,da=Math.min(this.ce[0].Ta || Infinity,T.Uc || Infinity),pa=M.mediaType,xa=this.Pb.qg[pa]);return this.zA.Fga(function(){var v40,X;v40=2;for(;v40 !== 3;){switch(v40){case 5:sa();v40=1;break;case 1:v40=0 < O.length?5:4;break;case 8:X=[];v40=4;break;v40=1;break;case 4:return Promise.all(X);break;case 7:v40=1 >= O.length?9:5;break;v40=0 < O.length?5:4;break;case 2:X=[];v40=1;break;case 6:sa();v40=4;break;v40=1;break;case 14:return Promise.all(X);break;v40=3;break;}}function sa(){var w40,S;w40=2;for(;w40 !== 5;){switch(w40){case 2:var J69="adoptData,";J69+=" not adopting failed";J69+=" me";J69+="diaRequest:";var E69="adoptData, not adopt";E69+="ing aborte";E69+="d mediaRequest:";S=O.shift();7 === S.readyState?M.cc(E69,S.toString()):6 === S.readyState?(M.cc(J69,S.toString()),Q.bJ(S,!1)):M.yc >= S.ud && M.yc < S.Uc && (M.yc < da || !k.Oa(da))?(X.push(Q.srb(M,S).then(function(){var x40;x40=2;for(;x40 !== 1;){switch(x40){case 2:S.complete && Q.E4a(S);x40=1;break;}}})),M.K3b(S.Uc),k.Oa(da) && M.yc >= da && Q.Ub.vma(V,S.Uc),0 === pa && Q.wh.Dz(S.bitrate),S.complete?(xa.Sw+=S.duration,S.DTb && (xa.d1+=S.duration),ya=S):(Q.ti || (Q.ti=new C.FDa(Q.J)),Q.ti.push(S))):Q.bJ(S,!1);w40=5;break;}}}}).then(function(){var y40,X,sa;y40=2;for(;y40 !== 8;){switch(y40){case 4:sa=Q.ce[T.R.bc];X=M.Jra(M.yc);void 0 !== X?(M.gp=X,M.Fe=sa.R.di[pa].stream.Hh(M.gp)):M.gp=M.ag?M.ag.index + 1:M.gp + 1;y40=8;break;case 2:ya && M.F4a(ya);y40=5;break;case 5:y40=ya || (null === (sa=Q.ti) || void 0 === sa?0:sa.EF())?4:8;break;}}});break;case 14:return Promise.resolve();break;u40=4;break;}}};J.prototype.srb=function(M,O){var z40,Q,T;z40=2;for(;z40 !== 3;){switch(z40){case 2:var i69=",";i69+=" pts:";i69+=" ";var r69=", sta";r69+="t";r69+="e";r69+=":";r69+=" ";var w69="a";w69+="doptMediaRequest";w69+=": typ";w69+="e: ";(Q=this,T=M.mediaType);this.K.fj && this.Ub.Vn(w69 + T + r69 + O.readyState + i69 + O.ud);this.Sma(T,O.ud);return M.eb.byb(O).catch(function(V){var A40;A40=2;for(;A40 !== 1;){switch(A40){case 2:var u69="Error ";u69+="adopting request";u69+="s";Q.Jl(u69,V);A40=1;break;}}});break;}}};J.prototype.Oma=function(M,O,Q){var B40,T;B40=2;for(;B40 !== 9;){switch(B40){case 4:this.BA.reset();(void 0 === M?m.fg:[M]).forEach(function(V){var C40;C40=2;for(;C40 !== 1;){switch(C40){case 2:T.Fc(V) && (T.my[V].reset(),T.Uvb(V),T.wh.CXb(V));C40=1;break;}}});B40=9;break;case 2:T=this;void 0 === O && (O=F.EU.roa);(Q || this.$a.qd).hAa(M,O);B40=4;break;}}};J.prototype.NBa=function(){var D40,M;D40=2;for(;D40 !== 5;){switch(D40){case 2:M=this;m.fg.forEach(function(O){var E40,Q;E40=2;for(;E40 !== 5;){switch(E40){case 2:null === (Q=M.my[O]) || void 0 === Q?void 0:Q.stop();E40=5;break;}}});D40=5;break;}}};J.prototype.PL=function(M){var F40,O;F40=2;for(;F40 !== 4;){switch(F40){case 2:O=this;(void 0 === M?m.fg:[M]).forEach(function(Q){var G40,T;G40=2;for(;G40 !== 5;){switch(G40){case 2:null === (T=O.my[Q]) || void 0 === T?void 0:T.resume();G40=5;break;}}});return Promise.resolve();break;}}};J.prototype.ZV=function(M){var H40,O,Q;H40=2;for(;H40 !== 3;){switch(H40){case 4:M.forEach(function(T){var I40,V;I40=2;for(;I40 !== 5;){switch(I40){case 2:null === (V=O.my[T]) || void 0 === V?void 0:V.resume();I40=5;break;}}});H40=3;break;case 2:O=this;M=void 0 === M?m.fg:[M];null === (Q=this.BA) || void 0 === Q?void 0:Q.reset();H40=4;break;}}};J.prototype.Uvb=function(M){var J40,O;J40=2;for(;J40 !== 3;){switch(J40){case 2:O=this.Pb.qg[M];this.Pb.hz[M].Uva=void 0;O.Sw=0;O.d1=0;J40=3;break;}}};j20=87;break;case 27:J.prototype.VP=function(){var N20;N20=2;for(;N20 !== 1;){switch(N20){case 2:return this.ce.length;break;}}};J.prototype.bva=function(M,O){var O20;O20=2;for(;O20 !== 9;){switch(O20){case 1:return !0;break;case 6:return +1;break;O20=5;break;case 2:O20=M === O?1:5;break;case 5:M=this.ce[M];O=this.ce[O];return M.R.Pf.jf && O.R.Pf.O_ || O.R.Pf.jf && M.R.Pf.O_;break;}}};J.prototype.laa=function(M){var P20;P20=2;for(;P20 !== 5;){switch(P20){case 1:return {id:M.G.id,df:M.df,Rd:M.Qya,lf:M.lf,ud:M.ffa,Uc:M.Uc};break;case 2:P20=(M=this.$a.Qi.children[M])?1:5;break;}}};J.prototype.Qn=function(){var Q20,M;Q20=2;for(;Q20 !== 5;){switch(Q20){case 2:M=this.$a.Qi;return {id:M.G.id,df:M.df,Rd:M.Qya,lf:M.lf,ud:M.ffa,Uc:M.Uc};break;}}};J.prototype.HS=function(M,O){var R20;R20=2;for(;R20 !== 1;){switch(R20){case 2:return this.$a.HS(M,O);break;}}};J.prototype.open=function(){var S20,O,Q,T,V,da,pa,xa,sa,ya,M;S20=2;for(;S20 !== 33;){switch(S20){case 5:var X69="NFErr";X69+="_MC_";X69+="StreamingInitF";X69+="ailur";X69+="e";var A69="startPts";A69+=" must be a positive";A69+=" numb";A69+="er, not ";this.Lr(A69 + this.sE,void 0,X69);S20=33;break;case 10:S20=1 === ya.readyState?20:34;break;case 4:var W69="he";W69+="ad";W69+="e";W69+="r";W69+="s";(O=this.K,Q=this.ff.R,T=Q.L,V=[],da=[W69]);this.no && (V.push(1),da.push(1));this.yt && (V.push(0),da.push(0));this.lY.rtb();pa=O.xt;S20=6;break;case 20:var v69="createMed";v69+="ia";v69+="Sou";v69+="rce";v69+="End";this.Ub.vn(v69);ya.dd || (ya.dd=w.dd);this.Hg=ya;S20=17;break;case 6:var m79="c";m79+="reate";m79+="M";m79+="ediaSource";m79+="Start";this.Gc.kg && this.Gc.kg.Rr(pa,this.sn.sessionId);xa=this.lY.gsb(da,Q);da.forEach(function(X,S){var T20;T20=2;for(;T20 !== 1;){switch(T20){case 2:var P69="he";P69+="ad";P69+="e";P69+="r";P69+="s";P69 === X?M.wV=xa[S]:M.Pb.qg[X].og=xa[S];T20=1;break;}}});this.Ub.vn(m79);S20=11;break;case 15:ya.sourceBuffers.forEach(function(X){var U20,S,R;U20=2;for(;U20 !== 13;){switch(U20){case 9:var U79="ma";U79+="nagerdeb";U79+="ugevent";var I79="l";I79+="ogd";I79+="ata";var o79="e";o79+="rr";o79+="o";o79+="r";X.addListener(o79,function(W){var V20;V20=2;for(;V20 !== 1;){switch(V20){case 2:var k79="NFErr_MC_";k79+="Stream";k79+="ingF";k79+="ailur";k79+="e";M.Lr(W.errorstr,void 0,k79);V20=1;break;}}});X.addListener(I79,function(W){var W20;W20=2;for(;W20 !== 1;){switch(W20){case 2:v.mb(M,W.type,W);W20=1;break;case 4:v.mb(M,W.type,W);W20=8;break;W20=1;break;}}});O.fj && X.addListener(U79,function(W){var X20;X20=2;for(;X20 !== 1;){switch(X20){case 2:v.mb(M,W.type,W);X20=1;break;}}});M.xh[S]=X;U20=14;break;case 14:M.my[S]=R;U20=13;break;case 2:var Y79="requestA";Y79+="pp";Y79+="end";Y79+="e";Y79+="d";var e79="head";e79+="erAppende";e79+="d";(S=X.mediaType,R=M.Pb.qg[S]);X=new n.tha(R.J,S,ya,X,O,!1,M.U,void 0,M.bi.bind(M));R=new G.DJa(X,S,M.$a,M.K,R.J);X.addListener(e79,M.dtb.bind(M));X.addListener(Y79,M.gtb.bind(M));U20=9;break;}}});this.BA=new D.$Na(this.my,this.dO.bind(this),this.U.Ue.bind(this.U));this.qu && this.Ub.lub();Q=this.t3a();this.Ub.JTa(Q);sa=function(){var Y20;Y20=2;for(;Y20 !== 5;){switch(Y20){case 2:var z79="shutdo";z79+="wn detected be";z79+="fore s";z79+="tartRequests";M.Ub.Eub();M.Bo()?M.cc(z79):M.swb();Y20=5;break;}}};O.tGb?setTimeout(function(){var Z20;Z20=2;for(;Z20 !== 1;){switch(Z20){case 2:M.bSa(T).then(sa);Z20=1;break;case 4:M.bSa(T).then(sa);Z20=0;break;Z20=1;break;}}},0):this.bSa(T).then(function(){var a30;a30=2;for(;a30 !== 1;){switch(a30){case 2:setTimeout(sa,0);a30=1;break;}}});S20=21;break;case 11:ya=new w(this.U.uJ);S20=10;break;case 34:var b79="NFErr_MC_Streaming";b79+="In";b79+="itFail";b79+="ure";var V79="exc";V79+="eption";V79+=" in";V79+=" ";V79+="init";var s79="Erro";s79+="r";s79+=":";(this.Eo(s79,ya.error),this.Lr(V79,void 0,b79));S20=33;break;case 16:var f79="E";f79+="r";f79+="ro";f79+="r:";throw (this.Eo(f79,ya.error),ya.error);S20=15;break;case 17:S20=!ya.w8(V)?16:15;break;case 21:var n79="s";n79+="ta";n79+="rtp";n79+="lay";var F79="l";F79+="og";F79+="d";F79+="a";F79+="ta";Q={type:F79,target:n79,fields:{audiogapconfig:O.QQ,audiogapdpi:this.Hg.dd && this.Hg.dd.QQ,aseApiVersion:this.gJ}};this.emit(Q.type,Q);S20=33;break;case 1:S20=!k.Oa(this.sE) || 0 > this.sE?5:4;break;case 2:M=this;S20=1;break;}}};Object.defineProperties(J.prototype,{gJ:{get:function(){var b30;b30=2;for(;b30 !== 1;){switch(b30){case 2:var c79="1";c79+=".";c79+="0";return c79;break;case 4:return "";break;b30=1;break;}}},enumerable:!1,configurable:!0}});J.prototype.uta=function(){};J.prototype.flush=function(){var c30;c30=2;for(;c30 !== 1;){switch(c30){case 2:this.kj.flush();c30=1;break;case 4:this.kj.flush();c30=0;break;c30=1;break;}}};J.prototype.paused=function(){var d30;d30=2;for(;d30 !== 1;){switch(d30){case 2:this.U.paused();d30=1;break;case 4:this.U.paused();d30=6;break;d30=1;break;}}};j20=32;break;case 94:J.prototype.htb=function(M,O){var j50;j50=2;for(;j50 !== 5;){switch(j50){case 2:O=d.w3a(O);this.Zka[M.mediaType]=O;j50=5;break;}}};Object.defineProperties(J.prototype,{dB:{set:function(M){var k50;k50=2;for(;k50 !== 1;){switch(k50){case 2:this.Pb.dB=M;k50=1;break;}}},enumerable:!1,configurable:!0}});return J;break;case 59:J.prototype.z$=function(M,O){var T30,Q,T,U30;T30=2;for(;T30 !== 6;){switch(T30){case 9:Q.gAa();T30=6;break;case 3:T30=O?9:8;break;case 2:Q=this.Pb;M=Q.Hra(M,O);T=this.wh.wza;M && !M.uO && T.rra(M);T30=3;break;case 8:O=T.DLb();try{U30=2;for(;U30 !== 1;){switch(U30){case 2:this.Ub.wub(O);U30=1;break;case 4:this.Ub.wub(O);U30=8;break;U30=1;break;}}}catch(V){var G79="]";G79+=" ";G79+="[";var a79="exc";a79+="eption:";a79+=" [";this.J.error(a79 + V.message + G79 + V.wjc + "]");}T30=6;break;}}};J.prototype.Woa=function(M,O){var V30;V30=2;for(;V30 !== 5;){switch(V30){case 2:a000.V59(7);u.assert(a000.Y59(0,O));return this.ce[O].FAb(M);break;}}};J.prototype.Kv=function(M,O){var W30,Q,T;W30=2;for(;W30 !== 7;){switch(W30){case 2:void 0 === M && (M=this.k1);Q=this.$a.RJb(O,M);W30=5;break;case 5:W30=Q?4:8;break;case 3:k.Oa(T) || (T=this.ce[M].bz);a000.V59(2);return a000.Y59(O,T);break;case 4:T=Q.df;W30=3;break;case 8:(Q=this.$a.Ira(M),0 < Q.length && (Q=Q[0],T=Q.df));W30=3;break;}}};J.prototype.WO=function(M,O){var X30,Q,T;X30=2;for(;X30 !== 7;){switch(X30){case 2:void 0 === M && (M=this.k1);Q=this.$a.QJb(O,M);X30=5;break;case 3:k.Oa(T) || (T=this.ce[M].bz);a000.V59(4);return a000.Y59(O,T);break;case 8:(Q=this.$a.Ira(M),0 < Q.length && (Q=Q[0],T=Q.df));X30=3;break;case 5:X30=Q?4:8;break;case 4:T=Q.df;X30=3;break;}}};J.prototype.dO=function(){var Y30,M;Y30=2;for(;Y30 !== 4;){switch(Y30){case 1:Y30=M || this.Pb.dB?5:4;break;case 9:M=this.U.Og();Y30=9;break;Y30=1;break;case 2:M=this.U.Og();Y30=1;break;case 8:Y30=M && this.Pb.dB?7:6;break;Y30=M || this.Pb.dB?5:4;break;case 5:(M && this.Ub.uma(),this.kW(),this.U.re(h.Da.$c),this.Mg.$k());Y30=4;break;}}};J.prototype.Vma=function(){var Z30,M,O;Z30=2;for(;Z30 !== 3;){switch(Z30){case 2:(M=this,O=this.U.Og());this.$a.qd.mfa(O,function(Q){var a40;a40=2;for(;a40 !== 1;){switch(a40){case 2:return M.xh[Q]?M.xh[Q].kfa():"";break;}}});this.vN && (clearTimeout(this.vN),this.vN=void 0);this.BA.xUb();Z30=3;break;}}};J.prototype.sUa=function(M){var b40,c40,O;b40=2;for(;b40 !== 7;){switch(b40){case 8:try{c40=2;for(;c40 !== 1;){switch(c40){case 2:this.z$(h.Da.et,{Ta:M.Uc});c40=1;break;}}}catch(Q){var C79="Hind";C79+="sight: Error evaluating Qo";C79+="E at endOfStream: ";a000.s59(4);this.Ub.hp(a000.Y59(C79,Q));}b40=7;break;case 2:M.Yi=!0;M.Ws=!1;O=this.U.Ue() || 0;M.PO(O);this.Pb.DA();b40=9;break;case 9:b40=this.Jt && 1 === M.mediaType?8:7;break;}}};J.prototype.Lvb=function(){var d40,M;d40=2;for(;d40 !== 5;){switch(d40){case 2:M=this.Gc.jc;M && (M=M.get()) && M.avtp && this.kx.qxb({avtp:M.avtp.Ca});d40=5;break;}}};J.prototype.swb=function(){var e40,M,O,Q;e40=2;for(;e40 !== 4;){switch(e40){case 2:var j79="startup,";j79+=" player";j79+="Sta";j79+="te no longer STARTIN";j79+="G:";var H79="fai";H79+="l";H79+="ed to start audio ";H79+="pipeli";H79+="ne";var l79="failed to";l79+=" start video pipe";l79+="line";this.U.re(h.Da.Sh);(M=this.$a.qd,O=M.pe(0),Q=M.pe(1));this.no && !this.yUa(Q)?this.cc(l79):this.yt && !this.yUa(O)?this.cc(H79):(this.TTa=!0,this.ce[0].R.LZ=!0,O=this.Pb.qg[1],Q=this.Pb.qg[0],(O && 0 < O.Sw || Q && 0 < Q.Sw) && this.Ub.uub(String(M.R.L),Q?Q.Sw:0,O?O.Sw:0,Q?Q.d1:0,O?O.d1:0),this.U.L6a()?(this.Z7(0),this.yt && (M=this.ff.oaa(0),O=this.ff.js(0).trackId,this.Ub.xub(M,O))):this.cc(j79,this.U.getState()));e40=4;break;}}};J.prototype.yUa=function(M){var f40,O,Q;f40=2;for(;f40 !== 14;){switch(f40){case 2:(O=M.mediaType,Q=this.Pb.$Nb(M));f40=1;break;case 3:f40=M.xq()?9:8;break;case 5:var x79="NFErr_MC_Streamin";x79+="gIn";x79+="i";x79+="tFailure";var R79="st";R79+="artP";R79+="ipel";R79+="ine fa";R79+="iled";return (this.Bo() || this.Lr(R79,M.Ab.R.bc,x79),!1);break;case 1:f40=k.ta(Q)?5:4;break;case 9:return !0;break;case 8:Q=this.ff.R;M.R.gZa(M,{offset:0,hF:!Q.Pf.jf && !Q.Cj && 1 === O,Iy:!this.Pb.qg[O].mKb});return !0;break;case 4:M=M.track.zd[Q];f40=3;break;}}};j20=72;break;case 48:J.prototype.bba=function(){var I30;I30=2;for(;I30 !== 1;){switch(I30){case 2:return this.U.ap(this.ff.R);break;case 4:return this.U.ap(this.ff.R);break;I30=1;break;}}};J.prototype.cSa=function(M){var J30,T,O,Q;J30=2;for(;J30 !== 11;){switch(J30){case 1:return !1;break;case 3:T=!Q || Q.Yi;Q=this.ce[M].R;J30=8;break;case 7:return !1;break;case 5:(O=this.$a.qd.pe(0),Q=this.$a.qd.pe(1));O=!O || O.Yi;J30=3;break;case 6:M=Q.di[0];O=Q.di[1];O=!this.no || O && O.stream.Ie;return (!this.yt || M && M.stream.Ie) && O?!0:!1;break;case 8:J30=!(M === this.UN + 1 && Q.Pf.replace || O && T) || !this.U.ap(Q)?7:6;break;case 2:J30=M >= this.ce.length?1:5;break;}}};J.prototype.l8=function(){var K30;K30=2;for(;K30 !== 1;){switch(K30){case 2:this.k8(this.UN + 1);K30=1;break;}}};J.prototype.k8=function(M){var L30,O;L30=2;for(;L30 !== 6;){switch(L30){case 1:return !1;break;case 3:return !1;break;case 2:L30=!this.cSa(M)?1:5;break;case 4:L30=O.sJb || !O.R.Pf.replace?3:9;break;case 5:O=this.ce[M];L30=4;break;case 9:this.ywb(M);this.Mg.$k();return !0;break;}}};J.prototype.ywb=function(M){var M30,pa,O,Q,T,V,da;M30=2;for(;M30 !== 20;){switch(M30){case 7:pa=[];[1,0].forEach(function(xa){var N30;N30=2;for(;N30 !== 1;){switch(N30){case 2:O.R.Fc(xa) && (pa[xa]=O.js(xa));N30=1;break;}}});V?this.$a.A1b(Q.R,O.R,pa):T.Meb(O.R,pa);M30=13;break;case 3:var Z79=",";Z79+=" ";var M79=", str";M79+="eam";M79+="in";M79+="gP";M79+="ts: ";var S79="switchMa";S79+="nifest manif";S79+="estIn";S79+="d";S79+="ex: ";Q.fj && this.Ub.Vn(S79 + M + M79 + V + Z79 + da);Q=this.ff;V=Q.R.Pf.jf;M30=7;break;case 2:(O=this.ce[M],Q=this.K,T=this.$a.qd,V=T.rb(0));V=V?V.yc:void 0;da=T.rb(1);da=da?da.yc:void 0;M30=3;break;case 13:this.rTa(M);O.Hxa();this.rp.Kla();this.Mg.$k();M30=20;break;}}};J.prototype.R$a=function(){var O30,Q,T,M,O;O30=2;for(;O30 !== 6;){switch(O30){case 1:O30=O?5:7;break;case 7:var g79="onAu";g79+="dioTrack";g79+="SwitchStarted ignored, no";g79+=" audio pipel";g79+="ine";this.cc(g79);O30=6;break;case 5:var O79="onAudioTrackSwitchStar";O79+="ted";O79+=" but current playing request not found";(Q=this.U.Ue(),T=this.Pb.qg[O.mediaType]);(M=this.$a.$v(Q,M,0))?O=M.eb:(this.cc(O79),O=O.eb);this.tvb(O);T.RS=!1;this.Mg.$k();O30=6;break;case 2:(M=this.$a.qd,O=M.rb(0));O30=1;break;}}};J.prototype.Nfa=function(M){var P30,V,Q,T,da,O;P30=2;for(;P30 !== 35;){switch(P30){case 16:var N79="switchTra";N79+="cks ca";N79+="n't fin";N79+="d ";N79+="trackId:";return (this.cc(N79,M),!1);break;case 19:M=M.Lo;V=this.ff.R.getTrackById(M);P30=17;break;case 12:P30=this.U.getState() === h.Da.$c?11:19;break;case 20:var T79="swi";T79+="tchT";T79+="racks re";T79+="jected, bufferL";T79+="evelMs";return (this.cc(T79,V,"<",O.Xca),!1);break;case 9:P30=this.U.Og()?8:7;break;case 8:var B79="s";B79+="witchTracks r";B79+="eje";B79+="cted, buffering";return (this.cc(B79),!1);break;case 14:var q79="switchTracks rejected, previous";q79+=" switch sti";q79+="ll waiti";q79+="ng to start";return (this.cc(q79),!1);break;case 11:V=this.$a.yy(T,1);P30=10;break;case 21:return !0;break;case 7:Q=this.Pb.qg[0];P30=6;break;case 6:P30=Q.RS?14:13;break;case 13:T=this.$a.qd;P30=12;break;case 10:P30=V < O.Xca?20:19;break;case 25:var t79=" ";t79+="t";t79+="o:";t79+=" ";var h79="switchTrack";h79+="s";h79+=" current: ";O.fj && this.Ub.Vn(h79 + da + t79 + V.trackId);Q.qda={trackId:M};O=T.rb(0);this.pwb(O);P30=21;break;case 17:P30=!V?16:15;break;case 4:P30=this.Pb.dB?3:9;break;case 1:P30=!this.yt?5:4;break;case 5:var K79="switchTracks rejec";K79+="ted";K79+=", ";K79+="aud";K79+="io disabled";return (this.cc(K79),!1);break;case 15:da=this.ff.js(0).trackId;P30=27;break;case 3:var d79="swi";d79+="tchTra";d79+="cks rejected, previous switch ";d79+="still i";d79+="n progress: ";return (this.cc(d79 + JSON.stringify(this.Pb.dB)),!1);break;case 27:P30=da === V.trackId?26:25;break;case 2:O=this.K;P30=1;break;case 26:return !1;break;}}};J.prototype.Ms=function(M,O){var Q30;Q30=2;for(;Q30 !== 1;){switch(Q30){case 2:this.Pb.Ms(M,O);Q30=1;break;case 4:this.Pb.Ms(M,O);Q30=8;break;Q30=1;break;}}};J.prototype.$v=function(M,O,Q){var R30;R30=2;for(;R30 !== 1;){switch(R30){case 2:return this.$a.$v(M,this.$a.Qi,O,Q);break;}}};J.prototype.Aj=function(M){var S30;S30=2;for(;S30 !== 1;){switch(S30){case 2:return this.rp.Aj(M);break;}}};j20=59;break;case 39:J.prototype.stop=function(){var q30;q30=2;for(;q30 !== 1;){switch(q30){case 2:this.kj.stop();q30=1;break;}}};J.prototype.uu=function(M,O){var r30;r30=2;for(;r30 !== 1;){switch(r30){case 2:return this.rp.uu(M,O);break;case 4:return this.rp.uu(M,O);break;r30=1;break;}}};J.prototype.seek=function(M,O){var s30;s30=2;for(;s30 !== 1;){switch(s30){case 2:return this.rp.seek(M,O);break;}}};J.prototype.yp=function(M){var t30,w30,V,O,Q,T,da;t30=2;for(;t30 !== 18;){switch(t30){case 11:try{w30=2;for(;w30 !== 1;){switch(w30){case 4:this.z$(h.Da.Md);w30=6;break;w30=1;break;case 2:this.z$(h.Da.Md);w30=1;break;}}}catch(pa){var p79="Hindsight: Err";p79+="or wh";p79+="en e";p79+="valuating QoE at Bu";p79+="ffering: ";a000.s59(4);this.Ub.hp(a000.Y59(p79,pa));}t30=10;break;case 1:var D79="branch";D79+="Offs";D79+="et:";var L79="entry";L79+=".m";L79+="an";L79+="ifestOffse";L79+="t:";var y79="contentP";y79+="t";y79+="s:";var Q79="underf";Q79+="low: go";Q79+="ing to BUFFE";Q79+="RING at playe";Q79+="r pts:";this.cc(Q79,M,y79,T,L79,this.ff.bz,D79,this.$a.df);V=Q.eu;this.xh.forEach(function(pa){var u30;u30=2;for(;u30 !== 1;){switch(u30){case 2:V=Math.max(0,Math.min(V,pa.bta - M));u30=1;break;}}});this.Kma+=1;t30=9;break;case 2:(O=this,Q=this.K,T=this.Kv(this.k1,M));t30=1;break;case 9:var v79="u";v79+="nde";v79+="rflow";da=this.$a.qd;m.fg.forEach(function(pa){var v30,xa,ya,sa,X;v30=2;for(;v30 !== 6;){switch(v30){case 1:v30=ya?5:6;break;case 2:ya=da.pe(pa);v30=1;break;case 3:var W79=",";W79+=" t";W79+="o";W79+="Append:";W79+=" ";var X79=", f";X79+="ra";X79+="gment";X79+="s";X79+=": ";var A79=",";A79+=" completeStr";A79+="eamingPts: ";var u79=", ";u79+="st";u79+="r";u79+="eamingPt";u79+="s: ";var i79=",";i79+=" ";i79+="partials: ";var r79=",";r79+=" ";r79+="c";r79+="om";r79+="pletedBytes: ";var w79=", co";w79+="mp";w79+="letedMs:";w79+=" ";var J79=", m";J79+="ediaTy";J79+="pe: ";var E79="un";E79+="de";E79+="r";E79+="flow";E79+=": ";sa=E79 + M + J79 + pa + w79 + ya.UO + r79 + X + i79 + ya.eb.qG + u79 + ya.yc + A79 + ya.Wr + X79 + JSON.stringify(ya.eb.Z) + W79 + (sa && sa.kfa());v30=9;break;case 5:v30=Q.fj?4:9;break;case 4:(sa=O.xh[pa],X=O.$a.qJ(da,pa));v30=3;break;case 9:Q.fj && O.Ub.Vn(sa);ya.upa();null === (xa=ya.Oh) || void 0 === xa?void 0:xa.J1b();v30=6;break;}}});this.ff.R.pk();this.emit(v79);this.Z7(2);this.Mg.$k();t30=12;break;case 10:T=this.Gc.jc.get();T=T.confidence?T.fb.Ca:0;V > Q.vJb && T > Q.uJb && this.Vma();t30=18;break;case 12:t30=this.Jt?11:10;break;}}};J.prototype.xp=function(M){var x30;x30=2;for(;x30 !== 1;){switch(x30){case 2:return this.rp.xp(M);break;}}};J.prototype.Ct=function(M,O,Q){var y30;y30=2;for(;y30 !== 1;){switch(y30){case 2:return this.rp.Ct(M,O,Q);break;}}};J.prototype.rTa=function(M){var z30,O;z30=2;for(;z30 !== 3;){switch(z30){case 2:this.UN=M;O=this.ce[M];this.Ub.Bub(M,O);this.Ub.JTa(O.R.du);z30=3;break;}}};J.prototype.rO=function(M,O){var A30,Q,T,pa,xa,ya,sa,V,da;A30=2;for(;A30 !== 35;){switch(A30){case 2:(Q=this,T=this.K);A30=1;break;case 13:var m19="video_";m19+="trac";m19+="ks";var P79="au";P79+="dio_tra";P79+="cks";da=O.da || 0;pa=O.Ta;M=f.cja.create({bc:V,pa:M,Sq:void 0,Ydb:O.BS || [this.ff.oaa(0),this.ff.oaa(1)],jf:!1,w6a:! !O.replace,Cj:! !O.Cj,Qd:m.Qca(! !O.KW,! !O.pH),da:da,Ta:pa,Ub:this.Ub,Rt:this.SSa.bind(this),tc:this,config:this.K,J:this.J,Mg:this.Mg,rp:this.rp,kg:this.OUa?this.Gc.kg:void 0,FF:this.FF});xa=M.R;(O.Jzb || this.XRa) && this.Pb.Ms(O.Jzb || this.XRa,xa.M);(ya=[P79,m19],sa=this.t3a());A30=18;break;case 25:var Y19=",";Y19+=" ";var e19=") last";e19+="Stre";e19+="amAppende";e19+="d:";e19+=" (";var U19=",";U19+=" ";var I19=" streamCount:";I19+=" ";I19+="(";var k19=" player";k19+="Sta";k19+="te: ";var o19="ad";o19+="dMani";o19+="fes";o19+="t, curre";o19+="ntPts: ";O.replace || this.$a.Kxb(xa,da,pa);O=this.Pb.hz[0].CK;V=this.Pb.hz[1].CK;T.fj && this.Ub.Vn(o19 + this.U.Ue() + k19 + this.U.getState() + I19 + M.js(0).zd.length + U19 + M.js(1).zd.length + e19 + O + Y19 + V + ")");this.yt && k.ta(O) || this.no && k.ta(V) || (M.R.tL([M.js(0),M.js(1)]),this.l8());A30=35;break;case 4:O || (O={});A30=3;break;case 3:(V=this.$a.qd.pe(0),da=this.$a.qd.pe(1));A30=9;break;case 9:A30=!O.Ugc && (this.yt && V.Ws || this.no && da.Ws)?8:7;break;case 5:var z19="addManifest: pipeli";z19+="nes already s";z19+="hutdown";this.cc(z19);A30=35;break;case 1:A30=this.Bo()?5:4;break;case 18:var s19="b";s19+="ool";s19+="e";s19+="a";s19+="n";O.replace && ya.forEach(function(X,S){var B30,R,W;B30=2;for(;B30 !== 3;){switch(B30){case 7:B30=R?0:1;break;B30=R?5:3;break;case 8:R=xa.xF(S);B30=2;break;B30=1;break;case 1:B30=R?5:3;break;case 2:R=xa.xF(S);B30=1;break;case 5:W=Q.ce[0].R;Object.keys(R).forEach(function(ia){var C30,za;C30=2;for(;C30 !== 5;){switch(C30){case 2:za=W.Qy(S,ia);za && za.Ie && (R[ia].C9(za),ia=xa.du,ia[S] > sa[S] && (sa[S]=ia[S]));C30=5;break;}}});B30=3;break;}}});ya.forEach(function(X,S){var D30,R;D30=2;for(;D30 !== 5;){switch(D30){case 2:R=xa.xF(S);R && Object.keys(R).forEach(function(W){var E30;E30=2;for(;E30 !== 1;){switch(E30){case 2:R[W].Khb(t.default.yq()[S],xa.Xy()?T.S8a:0);E30=1;break;}}});D30=5;break;}}});M.BW=s19 === typeof O.nzb?O.nzb:!0;A30=15;break;case 8:var V19="addManifest ignored, p";V19+="ipelines already set EOS";V19+=":";this.cc(V19,V.Ws,da.Ws);A30=35;break;case 15:this.ce[V] && this.ce[V].sd();this.ce[V]=M;M.oXa();A30=25;break;case 7:var b19="addMa";b19+="nifes";b19+="t in fastplay but not d";b19+="rm manifest, leaving space for it";O.b1 && (this.L7=!0);V=this.ce.length;O.replace && 1 !== V?V=1:this.ff.R.Pf.jf && !O.replace && 1 === V && (this.cc(b19),V=this.ce[0].clone(),this.ce.push(V),V=this.ce.length);A30=13;break;}}};J.prototype.qW=function(M){var F30;F30=2;for(;F30 !== 1;){switch(F30){case 2:return this.rp.qW(M);break;case 4:return this.rp.qW(M);break;F30=1;break;}}};J.prototype.zB=function(M){var G30,O,Q,T,V,da;G30=2;for(;G30 !== 7;){switch(G30){case 1:G30=!this.Bo()?5:7;break;case 8:var f19="drm";f19+="R";f19+="ea";f19+="d";f19+="y";O && (this.xh.forEach(function(pa){var H30;H30=2;for(;H30 !== 5;){switch(H30){case 2:T.R$ && pa.C1a();pa.zB();H30=5;break;}}}),T.Aga && this.ZV(),this.ff.R.Pf.jf && this.k8(this.rp.hE?this.rp.hE.bc:this.UN + 1),T.xt || (null === (Q=this.ti) || void 0 === Q?0:Q.EF()) || this.zA.ty || this.iW(f19),this.rp.Kla());G30=7;break;case 2:T=this.K;G30=1;break;case 5:var a19=" re";a19+="a";a19+="dy";a19+="State";a19+=": ";var c19=" for ";c19+="m";c19+="ovie";c19+="Id";c19+=": ";var n19=",";n19+=" ";var F19="drmReady";F19+=" a";F19+="t streaming ";F19+="pts: ";k.ta(O) && (O=!0);(V=this.$a.qd.pe(0),da=this.$a.qd.pe(1));T.fj && this.Ub.Vn(F19 + (V?V.yc:null) + n19 + (da?da.yc:null) + c19 + M + a19 + O);a000.s59(4);this.U.q2(a000.z59(M,""),O);G30=8;break;}}};j20=48;break;case 13:Object.defineProperties(J.prototype,{kx:{get:function(){var z20;z20=2;for(;z20 !== 1;){switch(z20){case 2:return this.Gc.kx;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{qu:{get:function(){var A20;A20=2;for(;A20 !== 1;){switch(A20){case 2:return this.Pvb;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{uca:{get:function(){var B20;B20=2;for(;B20 !== 1;){switch(B20){case 2:return this.TN;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{b1:{get:function(){var C20;C20=2;for(;C20 !== 1;){switch(C20){case 4:return this.L7;break;C20=1;break;case 2:return this.L7;break;}}},enumerable:!1,configurable:!0}});J.prototype.Fc=function(M){var D20;D20=2;for(;D20 !== 1;){switch(D20){case 2:return this.xwb[M];break;}}};J.prototype.VY=function(){var E20;E20=2;for(;E20 !== 1;){switch(E20){case 2:return t.default.time.ma() - this.ela;break;}}};J.prototype.t3a=function(){var F20;F20=2;for(;F20 !== 1;){switch(F20){case 2:return (this.ce || []).reduce(function(M,O){var G20,Q;G20=2;for(;G20 !== 4;){switch(G20){case 2:Q=O.R;m.fg.forEach(function(T){var H20;H20=2;for(;H20 !== 1;){switch(H20){case 2:Q.du[T] > M[T] && (M[T]=Q.du[T]);H20=1;break;}}});return M;break;}}},[0,0]);break;}}};J.prototype.JQ=function(){var I20,M;I20=2;for(;I20 !== 4;){switch(I20){case 2:M=0;k.forEach(this.ff.R.pa.audio_tracks,function(O){var J20;J20=2;for(;J20 !== 1;){switch(J20){case 2:k.forEach(O.streams,function(Q){var K20;K20=2;for(;K20 !== 1;){switch(K20){case 2:M=Math.max(M,Q.bitrate);K20=1;break;}}});J20=1;break;}}});return M;break;}}};J.prototype.bi=function(M){var L20;L20=2;for(;L20 !== 1;){switch(L20){case 2:return this.ce[M];break;}}};J.prototype.DMb=function(){var M20,M;M20=2;for(;M20 !== 5;){switch(M20){case 2:M=this.ce[0];return M.R.Pf.jf?this.ce[1]:M;break;}}};j20=27;break;case 32:J.prototype.Mya=function(){};J.prototype.close=function(){var e30;e30=2;for(;e30 !== 4;){switch(e30){case 2:this.ieb.Rb();this.ce.forEach(function(M){var f30;f30=2;for(;f30 !== 1;){switch(f30){case 2:M.close();f30=1;break;case 4:M.close();f30=8;break;f30=1;break;}}});this.kj.close();e30=4;break;}}};J.prototype.Rcb=function(){var g30;g30=2;for(;g30 !== 1;){switch(g30){case 2:this.Gc.Hvb(this);g30=1;break;}}};J.prototype.sd=function(){var h30,M;h30=2;for(;h30 !== 20;){switch(h30){case 2:this.wh.rXb();this.T6();this.$a.Rb();h30=3;break;case 3:this.lY.ssb();null === (M=this.BA) || void 0 === M?void 0:M.reset();this.my.forEach(function(O){var i30;i30=2;for(;i30 !== 1;){switch(i30){case 2:O.reset();i30=1;break;case 4:O.reset();i30=7;break;i30=1;break;}}});this.U.re(h.Da.Tj);h30=6;break;case 6:this.ce.forEach(function(O){var j30;j30=2;for(;j30 !== 1;){switch(j30){case 2:O.sd();j30=1;break;}}});this.ce=[];h30=13;break;case 13:var G19="Error o";G19+="n MediaSourc";G19+="e ";G19+="dest";G19+="roy: ";this.vj.clear();M=this.Hg;this.Hg=void 0;k.ta(M) || M.$r() || this.cc(G19,M.error);h30=20;break;}}};J.prototype.suspend=function(){var k30;k30=2;for(;k30 !== 1;){switch(k30){case 2:this.kj.suspend();k30=1;break;}}};J.prototype.resume=function(){var l30;l30=2;for(;l30 !== 1;){switch(l30){case 2:this.kj.resume();l30=1;break;}}};J.prototype.Bo=function(){var m30;m30=2;for(;m30 !== 1;){switch(m30){case 2:return this.kj.Bo();break;}}};J.prototype.lwb=function(){var n30,M;n30=2;for(;n30 !== 8;){switch(n30){case 2:M=this.K;this.uE && clearTimeout(this.uE);this.uE=setTimeout(this.kW.bind(this),M.lga);n30=4;break;case 4:this.AA || (this.AA=setInterval(this.Ub.HTa.bind(this.Ub),M.FO));this.f8 || (this.f8=setInterval(this.Ub.Nub.bind(this.Ub),M.VBa));this.qu && !this.P6 && (this.P6=setInterval(this.Ub.GTa.bind(this.Ub),M.O8));n30=8;break;}}};J.prototype.T6=function(){var o30;o30=2;for(;o30 !== 7;){switch(o30){case 2:this.uE && (clearTimeout(this.uE),this.uE=void 0);this.AA && (clearInterval(this.AA),this.AA=void 0);this.f8 && (clearInterval(this.f8),this.f8=void 0);this.P6 && (clearInterval(this.P6),this.P6=void 0);o30=3;break;case 3:this.vN && (clearTimeout(this.vN),this.vN=void 0);this.Cla && (clearTimeout(this.Cla),this.Cla=void 0);this.Mg.T6();o30=7;break;}}};J.prototype.play=function(){var p30;p30=2;for(;p30 !== 1;){switch(p30){case 2:this.kj.play();p30=1;break;}}};j20=39;break;case 104:J.prototype.L_b=function(M,O,Q){var W40,T;W40=2;for(;W40 !== 6;){switch(W40){case 2:g.po.ks(0);M=this.ce[M];M.ICa(O);W40=4;break;case 4:W40=M.R.LZ?3:7;break;case 7:this.ZV(0);W40=6;break;case 8:T?(M.R.di[0]=T,M.w1=!1,T.stream.Ie && M.m9()):(M.R.di[0]=void 0,M.w1=!1,M.R.tL([M.js(0)],!0,0));W40=7;break;case 3:M.js(0).zd.some(function(V){var X40;X40=2;for(;X40 !== 4;){switch(X40){case 7:return + ~T;break;X40=4;break;case 9:T=V.xq();X40=5;break;X40=1;break;case 2:T=V.xq();X40=1;break;case 1:X40=!(T && T.stream && T.stream.Z && Q < T.stream.Z.Gk(0))?5:4;break;case 5:return ! !T;break;}}});W40=8;break;}}};J.prototype.zvb=function(M,O){var Y40,Q;Y40=2;for(;Y40 !== 4;){switch(Y40){case 2:Q=this.xh[M.mediaType];M=this.$a.s1(M.Ab,M.mediaType,O,this.Gc.VC || 0,function(T){var Z40;Z40=2;for(;Z40 !== 1;){switch(Z40){case 4:Q.P1(T);Z40=2;break;Z40=1;break;case 2:Q.P1(T);Z40=1;break;}}});k.ta(M) || this.Mg.$k();Y40=4;break;}}};J.prototype.dtb=function(M){var a50,O,Q,T;a50=2;for(;a50 !== 8;){switch(a50){case 2:(O=M.mediaType,Q=M.manifestIndex,T=M.streamId);M=this.$a.qd.rb(O);O=this.ce[Q].R.Qy(O,T);a50=4;break;case 4:this.jwb(M,O);this.K=this.QYa.zrb(O.ef,this.K);this.ce.forEach(function(V,da){var b50,pa;b50=2;for(;b50 !== 5;){switch(b50){case 2:pa=V.R;pa.LZ || 0 === da || pa.tL([V.js(0),V.js(1)]);b50=5;break;}}});a50=8;break;}}};J.prototype.gtb=function(M){var c50,O,Q;c50=2;for(;c50 !== 8;){switch(c50){case 4:Q.sUb(M);O.sF && this.Ub.tub(O);O.Hq && this.Ub.Hub(M,O.R.bc,Q.G);c50=8;break;case 2:O=M.request;M=M.mediaType;Q=O.eb.Ab;c50=4;break;}}};J.prototype.jwb=function(M,O){var d50;d50=2;for(;d50 !== 1;){switch(d50){case 2:this.Pb.hz[M.mediaType].CK={id:O.Za,index:O.dg,bitrate:O.bitrate,fb:O.Jb && O.Jb.confidence && O.Jb.fb?O.Jb.fb.Ca:0,location:O.location};d50=1;break;}}};J.prototype.Aba=function(M){var e50,ya,sa,X,O,Q,T,V,da,pa,xa;e50=2;for(;e50 !== 11;){switch(e50){case 5:(ya=xa.qd,sa=ya.pe(0),X=ya.pe(1));da.vspts=null !== (O=null === X || void 0 === X?void 0:X.yc) && void 0 !== O?O:0;da.aspts=null !== (Q=null === sa || void 0 === sa?void 0:sa.yc) && void 0 !== Q?Q:0;e50=9;break;case 2:(da={},pa=this.xh,xa=this.$a);e50=1;break;case 14:M && (da.a=null === sa || void 0 === sa?void 0:sa.eb.Z.toJSON(),da.v=null === X || void 0 === X?void 0:X.eb.Z.toJSON());e50=13;break;case 9:da.vbuflbytes=null !== (T=null === X || void 0 === X?void 0:X.Po.ga) && void 0 !== T?T:0;da.abuflbytes=null !== (V=null === sa || void 0 === sa?void 0:sa.Po.ga) && void 0 !== V?V:0;da.vbuflmsec=xa.yy(ya,1);da.abuflmsec=xa.yy(ya,0);e50=14;break;case 13:M && pa && (M=pa[1],pa=pa[0],da.atoappend=null === M || void 0 === M?void 0:M.kfa(),da.vtoappend=null === pa || void 0 === pa?void 0:pa.kfa());e50=12;break;case 1:e50=!xa.qd.Vh?5:12;break;case 12:return da;break;}}};J.prototype.i4a=function(M){var f50,T,V,da,pa,O,Q;f50=2;for(;f50 !== 8;){switch(f50){case 5:(T=this.Pb.hz[M],V=this.$a.qJ(O,M));T=T.CK?T.CK.bitrate:0;(da=Q.eb.rya,pa=this.$a.df);f50=9;break;case 2:(O=this.$a.qd,Q=O.rb(M));f50=1;break;case 1:f50=Q?5:8;break;case 9:return {type:M,availableMediaBuffer:t.default.yq()[M] - V,completeBuffer:O.ai(M),incompleteBuffer:da,playbackBitrate:Q.ebb,streamingBitrate:T,streamingTime:Q.yc + pa,usedMediaBuffer:V,toappend:Q.u9b};break;}}};J.prototype.P1b=function(){var g50,M;g50=2;for(;g50 !== 5;){switch(g50){case 2:var C19="re";C19+="quest";C19+="GarbageCollection";M={type:C19,time:t.default.time.ma()};v.mb(this,M.type,M);g50=5;break;}}};J.prototype.Lr=function(M,O,Q,T,V,da,pa){var h50;h50=2;for(;h50 !== 5;){switch(h50){case 2:var l19="NFErr";l19+="_MC_Streami";l19+="ngFai";l19+="lure";void 0 === pa && (pa=!1);this.e8 || (k.ta(Q) && (Q=l19),this.e8=!0,this.Ub.Lub(Q,M,T,V,da,void 0 !== O?O:this.k1,pa));h50=5;break;}}};J.prototype.SSa=function(){var i50;i50=2;for(;i50 !== 5;){switch(i50){case 2:var H19="Network failures ";H19+="re";H19+="set!";this.cc(H19);this.Mg.$k();i50=5;break;}}};j20=94;break;case 87:J.prototype.Sma=function(M,O){var K40,Q,T,V;K40=2;for(;K40 !== 9;){switch(K40){case 7:Q=this.$a.qd;K40=0;break;K40=1;break;case 2:Q=this.$a.qd;K40=1;break;case 5:var j19="p";j19+="ts";j19+="chang";j19+="e";j19+="d";(T=this.Pb.qg[M],V=this.Pb.ZC[M]);k.ta(T.aq) && (T.aq=O,1 === M && this.yt && (M=this.Pb.qg[0],k.ta(M.aq) && (Q=Q.rb(0),Q.JL(O)),this.emit(j19,O)));k.ta(V.eX) && (V.eX=O);K40=9;break;case 1:K40=Q.rb(M)?5:9;break;case 6:K40=Q.rb(M)?4:8;break;K40=Q.rb(M)?5:9;break;}}};J.prototype.E4a=function(M){var L40;L40=2;for(;L40 !== 1;){switch(L40){case 2:this.ti && (this.ti.vUb(M),this.IXa());L40=1;break;}}};J.prototype.Waa=function(M){var M40;M40=2;for(;M40 !== 1;){switch(M40){case 2:this.ti && (this.ti.uUb(M),this.IXa());M40=1;break;}}};J.prototype.IXa=function(){var N40,M;N40=2;for(;N40 !== 4;){switch(N40){case 2:N40=this.ti?1:4;break;case 1:var R19="a";R19+="ll";R19+="C";R19+="ompleted";M=this.K;this.ti.EF() || (this.ti=void 0,M.xt || this.zA.ty || this.iW(R19));N40=4;break;}}};J.prototype.kW=function(){var O40,M,O,Q,T,V,da,pa,xa;O40=2;for(;O40 !== 7;){switch(O40){case 2:(M=this,O=this.K,Q=this.k1,T=this.ce[Q],V=this.$a.qd,da=this.U.Ue() || 0,pa=this.Kv(Q,da),xa=O.lga);this.Gc.kg && void 0 !== T.XK && T.XK - da <= O.C9a && this.Gc.kg.Rr(!0,this.sn.sessionId);this.U.getState() === h.Da.$c && ([1,0].forEach(function(ya){var P40,sa,R,W,ia,za,X,S;P40=2;for(;P40 !== 35;){switch(P40){case 10:P40=(M.$a.NWb(S,S.$w),ia > M.D7)?20:16;break;case 15:R.OSb=S.$w;W=S.Za;W != R.Uva && (R.Uva=W,ya=M.ce[ia].R.Qy(ya,W),ia=M.Kv(ia,S.Rd),M.Ub.Jub(ya,S.Rd,ia,ya.R.bc));P40=25;break;case 23:M.zvb(X,da);M.$a.b0b();P40=35;break;case 5:P40=sa?4:35;break;case 8:(S=M.$a.$v(da,V,ya)) && !S.cf && (S=M.xh[ya].DSb);P40=7;break;case 11:P40=!M.no || 1 === ya?10:15;break;case 1:sa=V.rb(ya);P40=5;break;case 16:M.TN && S.$w != R.OSb && M.Ub.Oub(S.$w);P40=15;break;case 17:pa=M.Kv(ia,da);P40=15;break;case 21:var x19="Unable to find r";x19+="equest pre";x19+="senting at pl";x19+="ayerPts:";sa.cc(x19,da);P40=23;break;case 6:X=S.lf - da;X < xa && (xa=X);(R=M.Pb.hz[ya],W=S.R,ia=W.bc);X=S.eb;P40=11;break;case 20:M.D7=ia;za=0 < ia?ia - 1:null;M.Ub.zub(W,da,S.$w,null !== za?M.ce[za].R.L:null,za);P40=17;break;case 25:S=S.bitrate;P40=24;break;case 24:k.ta(S) || S == sa.ebb || (sa.ebb=S);P40=23;break;case 7:P40=S?6:21;break;case 2:P40=M.Fc(ya)?1:35;break;case 4:X=sa.eb;sa.PO(da);P40=8;break;}}}),this.$a.vx(da,pa));this.Mg.$k();O40=3;break;case 3:xa=Math.max(xa,1);this.uE && clearTimeout(this.uE);this.uE=setTimeout(this.kW.bind(this),xa);O40=7;break;}}};J.prototype.X6=function(M){var Q40;Q40=2;for(;Q40 !== 1;){switch(Q40){case 2:return this.Mg.X6(M);break;case 4:return this.Mg.X6(M);break;Q40=1;break;}}};J.prototype.$k=function(){var R40;R40=2;for(;R40 !== 1;){switch(R40){case 2:return this.Mg.$k();break;case 4:return this.Mg.$k();break;R40=1;break;}}};J.prototype.bJ=function(M,O){var S40,Q,T;S40=2;for(;S40 !== 13;){switch(S40){case 2:Q=M.eb;S40=1;break;case 8:Q.P1(M);this.xh[T].P1(M);!0 === O && this.Mg.$k();S40=13;break;case 1:S40=Q?5:14;break;case 5:T=M.mediaType;M.abort();M.sd();M.vj && M.vj.clear();S40=8;break;case 14:var S19="a";S19+="bort";S19+="Request ";S19+="with no requ";S19+="estManagaer:";this.cc(S19,M);S40=13;break;}}};J.prototype.pwb=function(M){var T40,O,Q;T40=2;for(;T40 !== 5;){switch(T40){case 2:var M19="n";M19+="o";M19+=" newAudioT";M19+="rack ";M19+="set";(O=M.mediaType,Q=this.Pb.qg[O]);k.ta(Q.qda)?M.cc(M19):(this.xh[O].pause(),Q.RS=!0,M=this.ff.js(0),Q=this.ff.R.getTrackById(Q.qda.trackId),this.Ub.nub(M,Q));T40=5;break;}}};J.prototype.tvb=function(M){var U40,da,pa,xa,ya,O,Q,T,V;U40=2;for(;U40 !== 27;){switch(U40){case 18:this.L_b(Q,xa,ya);U40=17;break;case 13:V.qda=void 0;this.wh.Dz(null);this.Oma(0,F.EU.H1a,M);this.$a.qeb(M,!0);U40=20;break;case 8:var Z19="audioS";Z19+="wi";Z19+="tch";(this.ti.w1b(function(sa){var V40;V40=2;for(;V40 !== 5;){switch(V40){case 2:V40=0 === sa.mediaType?1:5;break;case 1:return (O.bJ(sa,!1),!0);break;case 3:V40=6 != sa.mediaType?7:1;break;V40=0 === sa.mediaType?1:5;break;}}}),this.ti.EF() || (this.ti=void 0,T.xt || this.zA.ty || this.iW(Z19)));U40=7;break;case 4:this.Pb.dB=V.qda;(da=this.ff,pa=da.R.getTrackById(this.Pb.dB.trackId),xa=pa.iH,ya=this.U.Ue() - M.df);U40=9;break;case 19:U40=Q < this.ce.length?18:16;break;case 2:(O=this,T=this.K);M=M.Ab;V=this.Pb.qg[0];U40=4;break;case 7:Q=this.Gc.eaa(da.R.pa,[xa],0);this.Zka[0]=Q[0];this.lY.fUa(0,M.R);U40=13;break;case 20:Q=this.UN;U40=19;break;case 9:U40=(null === (Q=this.ti) || void 0 === Q?0:Q.EF())?8:7;break;case 17:++Q;U40=19;break;case 16:M.Fcb(pa,ya);this.PL(0);U40=27;break;}}};j20=104;break;case 2:Object.defineProperties(J.prototype,{addEventListener:{get:function(){var p20;p20=2;for(;p20 !== 1;){switch(p20){case 2:return this.addListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{removeEventListener:{get:function(){var q20;q20=2;for(;q20 !== 1;){switch(q20){case 4:return this.removeListener.bind(this);break;q20=1;break;case 2:return this.removeListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{kVb:{get:function(){var r20;r20=2;for(;r20 !== 1;){switch(r20){case 2:return this.Hg.dd;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{mediaSourceId:{get:function(){var s20;s20=2;for(;s20 !== 1;){switch(s20){case 2:return this.Hg?this.Hg.ujc:void 0;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{yt:{get:function(){var t20;t20=2;for(;t20 !== 1;){switch(t20){case 2:return this.Fc(0);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{no:{get:function(){var u20;u20=2;for(;u20 !== 1;){switch(u20){case 2:return this.Fc(1);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{attributes:{get:function(){var v20;v20=2;for(;v20 !== 1;){switch(v20){case 2:return this.Zka;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{Kh:{get:function(){var w20;w20=2;for(;w20 !== 1;){switch(w20){case 4:return this.vj;break;w20=1;break;case 2:return this.vj;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{k1:{get:function(){var x20;x20=2;for(;x20 !== 1;){switch(x20){case 2:return 0 <= this.D7?this.D7:0;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{ff:{get:function(){var y20;y20=2;for(;y20 !== 1;){switch(y20){case 2:return this.ce[this.UN];break;}}},enumerable:!1,configurable:!0}});j20=13;break;}}function J(M,O,Q,T,V,da,pa,xa,ya,sa,X){var k20,S,Ra,R,W,ia;k20=2;for(;k20 !== 74;){switch(k20){case 38:k20=(sa.YCa || sa.XCa) && this.Gc.kg?37:36;break;case 9:var O19="med";O19+="ia";O19+="|a";O19+="se";O19+="js";var g19="A";g19+="S";g19+="EJS";this.J=new t.default.Console(g19,O19,"(" + pa.sessionId + ")");k20=8;break;case 60:this.wh.JCa(this.K);k20=59;break;case 59:za=O.R;this.$a=new E.sha(this,this.Ub,this.J,this.Vma.bind(this),za,this.sE,this.K,this.Mg,this.U,this.VY.bind(this));sa={uca:this.uca,qu:this.qu,no:this.no,b1:this.b1};k20=56;break;case 10:this.sY=ia.sY;this.Jt=ia.Jt;this.Az=sa.Az;this.kj=new P.RJa(this,this.J,this.Fc.bind(this),ia);k20=17;break;case 51:this.ieb=new l.Nia(O,this.Gc.jc,this.Gc.Ji,this.K,void 0);M=this.ieb.kOb();k20=49;break;case 30:this.wV=void 0;this.D7=-1;this.Kma=0;this.vj=new c.Fg();this.rp=new L.EPa(this,this.J,this.Fc.bind(this),R);k20=42;break;case 37:var N19="me";N19+="diac";N19+="ach";N19+="e";this.vj.on(this.Gc.kg,N19,function(Fa){var m20;m20=2;for(;m20 !== 1;){switch(m20){case 2:var T19="m";T19+="edi";T19+="a";T19+="cac";T19+="he";v.mb(S,T19,Fa);m20=1;break;case 4:v.mb(S,"",Fa);m20=3;break;m20=1;break;}}});k20=36;break;case 39:var B19="ma";B19+="nagerd";B19+="ebugevent";this.vj.on(this.Gc.kg,B19,function(Fa){var l20;l20=2;for(;l20 !== 1;){switch(l20){case 2:v.mb(S,Fa.type,Fa);l20=1;break;}}});k20=38;break;case 36:W && sa.sP && !sa.YHb && (sa.set?sa.set({enableAdaptiveParallelStreaming:!1}):sa.sP=!1);0 === Math.floor(1E6 * Math.random()) % sa.xO && (this.Pvb=new p.fPa(sa));this.my=[];this.xh=[];k20=51;break;case 2:S=this;this.zA=new B.p6();this.XRa=[];k20=4;break;case 49:V=null;sa.vY && (V=this.Gc.kx.rE);x.$z.instance().reset();O=f.cja.create({bc:0,pa:O,Sq:Q,Ydb:T,jf:! !da.jf,w6a:!1,Cj:! !da.Cj,Qd:m.Qca(! !da.KW,! !da.pH),da:0,Ta:da.Ta,Ub:this.Ub,Rt:this.SSa.bind(this),tc:this,config:this.K,J:this.J,Mg:this.Mg,rp:this.rp,kg:this.OUa?this.Gc.kg:void 0,FF:this.FF});O.BW=!0;this.ce=[O];this.wh=new I.GDa(this,this.J,M,this.Gc.jc,sa,this.JQ(),V,this.Fc.bind(this),ia);k20=63;break;case 77:Ra=this;k20=76;break;case 76:this.U.addListener(function(Fa){var n20,o20;n20=2;for(;n20 !== 1;){switch(n20){case 2:try{o20=2;for(;o20 !== 1;){switch(o20){case 2:Ra.Pb.b8b.bind(Ra.Pb)(Fa);o20=1;break;}}}catch($a){var q19="Hinds";q19+="igh";q19+="t: Error";q19+=" when adding updatePlaySegmen";q19+="t Listener: ";a000.V59(4);Ra.Ub.hp(a000.z59(q19,$a));}n20=1;break;}}});k20=75;break;case 63:k20=sa.bra && this.wh.Nba?62:59;break;case 42:this.Mg=new H.BGa(this,this.J,this.Fc.bind(this));this.lY=new z.AGa(this,this.J,R);k20=40;break;case 62:sa=sa.HPb;for(var za in sa){Q=sa[za];sa.hasOwnProperty(za) && Q && (this.K[za]=Q);}k20=60;break;case 75:X && this.Pb.Ms(X,za.M);k20=74;break;case 8:var h19="b";h19+="ranc";h19+="h";h19+="ing";this.Jl=this.J.error.bind(this.J);this.cc=this.J.warn.bind(this.J);this.Eo=this.J.trace.bind(this.J);R=new N.SLa(this,this.J);this.Ub=R;this.QYa=new y.JFa(this.J);(W=!(!O || !O.choiceMap || h19 !== O.choiceMap.type),ia=W?{sY:!1,Jt:!1}:r.a3a(sa));k20=10;break;case 17:this.xwb=[!da.pH,!da.KW];this.Fc(0) && this.Fc(1);this.Gc=M;this.sn=pa;k20=26;break;case 26:this.K=sa=this.QYa.yrb(O,sa);k20=25;break;case 55:k20=this.Jt?77:75;break;case 22:this.TN=da.uca;this.R7=void 0;this.U=new A.VDa(ya);this.sE=V || 0;this.UN=0;this.Zka=xa;this.e8=!1;k20=30;break;case 25:this.L7=da.b1;this.OUa=! !da.mib;this.Mwb=! !da.UCa;k20=22;break;case 40:k20=sa.fj && this.Gc.kg?39:38;break;case 56:this.Pb=new K.eQa(this.J,this.wh,this.K,this.Fc.bind(this),this.U,sa,this.Gc.jc,this.Ub,this.Mg,this.$a,ia);k20=55;break;case 4:var t19="1SIY";t19+="bZr";t19+="NJCp9";this.FF={iy:[Object.create(null),Object.create(null)]};t19;k20=9;break;}}}})();b.NPa=a;q.Xe(c.EventEmitter,a);},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.cja=void 0;c=a(13);k=a(8);g=a(259);q=(function(){function f(d,h,m,l,n,p,r,t,w,v,u,x){void 0 === m && (m=0);this.Ce=d;this.V7=h;this.da=m;this.Ta=l;this.gaa=n;this.bi=p;this.VP=r;this.config=t;this.J=w;this.Ub=v;this.sJb=u;this.Kh=x;this.bz=0;}f.create=function(d){var m,l,n,p,r,t,w,v,u,x,y,z,A,B,D;function h(C){k.mb(v,C.type,C);}m=d.bc;l=d.pa;n=d.Ydb;p=d.da;r=d.Ta;t=d.Rt;w=d.Ub;v=d.tc;u=d.config;x=d.J;y=d.Mg;z=d.rp;A=d.kg;B=d.FF;D=new g.hha(Number(l.movieId),{bc:m,pa:l,Sq:d.Sq,j9a:{cva:d.jf,I6a:! !d.w6a},Cj:d.Cj,Qd:d.Qd,config:u,$4a:{Vm:y.$k.bind(y),kg:A,FF:B,ip:h,Hba:function(C){return C === v.$a.qd.R;},vZ:function(C,F,G,E,I){C=v.Pb.qg[C];return !F || G || E || I?v.wV:C.og;},vF:function(C){return v.Pb.hz[C];},bi:v.bi.bind(v)},p0:function(C){v.emit("requestComplete",{type:"requestComplete",timestamp:C.$f,mediaRequest:C});},daa:function(){return v.wh;},jc:v.Gc.jc,Ji:v.Gc.Ji,K0a:{Rt:t,sh:function(C,F,G,E,I,K){void 0 === K && (K=!1);return !K || v.U.Og()?(v.Lr(C,m,F,G,E,I,K),!0):!1;},ep:function(){return v.e8;},ip:h},MR:void 0,NL:{V:v.Gc.VC,ga:v.Gc.VG}});u.BB && D.QG({mp:v.sn.mp,ja:v.sn.ja,eF:v.sn.eF,hp:w.hp.bind(w)});d=new c.Fg();d.addListener(D.vw,"onHeaderFragments",function(C){var F,G,E,I,K;F=C.mediaType;G=C.Za;E=C.stream.Z;I=v.bi(m);if(I){if(D.di[F] && C !== D.di[F])C.Iy && (I=D.di[F],C=C.stream,K=I && I.stream,x.warn("first header received for non-current track (trackId " + C.trackId + "streamId " + C.Za + "), expected track " + (K && K.trackId) + ", stream " + (K && K.Za) + ", " + I));else {D.di[F]=C;C=v.$a.qd;if(0 === m){K=D.Fc(1)?C.rb(1).yc:C.rb(0).yc;C.o9(K,D);}I.w1=!1;I.m9();v.l8();}z.Kla();w.Fub(m,F,G,D.L,E);y.$k();}else x.warn("addFragments for stale manifestIndex:",m);});d.addListener(D.vw,"onHeaderRequestComplete",function(C){var F,G;C.Ej?v.l8():C.hF && (x.warn("drm header header:",C.toString(),"but no headers seen, marking pipeline drmReady"),v.zB(C.L));F=C.mediaType;G=Object.getOwnPropertyNames(B.iy[F]);v.xh[F].y$a(C.stream,1 === G.length && G[0] === C.Za);y.sSa();v.P1b();});d.addListener(D.vw,"onHeaderFromCache",function(C){var F;F=C.header;C=C.nKb;F.Ej && v.l8();C && w.vub(F.L,F.Za);});return new f(D,n,p,r,function(){return v.$a;},v.bi.bind(v),v.VP.bind(v),u,x,w,!1,d);};Object.defineProperties(f.prototype,{R:{get:function(){return this.Ce;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{bc:{get:function(){return this.R.bc;},enumerable:!1,configurable:!0}});f.prototype.js=function(d){return this.Ce.yOb(d,this.oaa(d));};f.prototype.oaa=function(d){return this.V7[d];};f.prototype.close=function(){this.Kh.clear();this.R.close();};f.prototype.sd=function(){this.Ce.sd();delete this.Ce;};f.prototype.clone=function(){return new f(this.R,this.V7,this.da,this.Ta,this.gaa,this.bi,this.VP,this.config,this.J,this.Ub,!0,this.Kh);};f.prototype.ICa=function(d){this.J.trace("updateAudioTrack:",this.V7[0],"->",d);this.V7[0]=d;};f.prototype.j3a=function(){return void 0 !== this.XK?this.XK:this.Ta?this.Ta:this.Ce.duration;};f.prototype.FAb=function(d){var h,m;h=this.Ce.di[1];if(h && h.stream.Ie){if(this.GB && this.GB[1] && this.GB[1].da <= d && this.GB[1].Ta > d)return this.GB[1].Rd;h=h.stream.Z;d=h.Pn(d,void 0,!0);m=void 0;void 0 === m && (m=h.Gk(d));return m;}};f.prototype.m9=function(){var d,h;if(!this.w1 && this.P4a()){this.Hxa();d=[0,0];if(0 !== this.bc && !this.Ce.Pf.O_ && !this.Ce.Pf.replace){h=this.bi(this.bc - 1);h=this.Ce.L === h.Ce.L;d=this.gaa().qd;h=d.o9(this.da,this.R,d,h);d=h.yR;}this.da=d[1];this.yR=d;this.GB=h && h.GB;this.oXa();h=this.Ce.Fc(1)?this.Ce.di[1].stream.Z.Ta:this.Ce.di[0].stream.Z.Ta;this.Ub.Aub(this.bc,this.bz,this.da,this.XK,h);this.w1=!0;for(h=this.bc + 1;h < this.VP();++h){d=this.bi(h);d.w1=!1;d.m9();}}};f.prototype.oXa=function(){var d;if(0 === this.bc || this.Ce.Pf.replace)this.bz=0;else {d=this.bi(this.bc - 1);this.bz=d.bz + d.j3a() - this.da;}};f.prototype.Hxa=function(){var d,h,m,l,n,p,r,t;if(this.P4a()){n=this.gaa().qd;p=this.Ta || Infinity;r=this.Ce.Fc(1);t=n.FY(p,this.R);this.XK=r?t[1].Ta:t[0].Ta;n=r?this.Ce.di[1].stream.Z.Ta:this.Ce.di[0].stream.Z.Ta;r=Math.min(null !== (h=null === (d=t[1]) || void 0 === d?void 0:d.Ta) && void 0 !== h?h:Infinity,null !== (l=null === (m=t[0]) || void 0 === m?void 0:m.Ta) && void 0 !== l?l:Infinity);this.Ub.Cub(this.bc,this.XK,n,r);d=this.gaa().Ira(this.bc);0 < d.length && d.forEach(function(w){w.W7b(t,p);});}};f.prototype.P4a=function(){var d,h,m,l;d=this.Ce.Fc(0);h=this.Ce.Fc(1);m=this.Ce.di[0];l=this.Ce.di[1];m=m && m.stream.Ie;l=l && l.stream.Ie;return (!d || m) && (!h || l);};return f;})();b.cja=q;},function(q,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.QPa=void 0;q=a(1);c=a(8);a=q.__importDefault(a(5));k=a.default.Zs;new a.default.Console("ASEJS_SIDECHANNEL","media|asejs");a=(function(){function g(f,d,h){this.hp=h;this.Vwb=new c.HRa(f);this.ja=d.ja;this.Lrb=1E3 * d.aVb / d.Vzb;this.jHb=d.eF;this.YVa=!1;}g.prototype.Nv=function(f){var d,h;d={s_xid:this.ja,dl:this.jHb?1:0};f.lJ && (d.bs=c.r9(Math.floor(f.lJ / this.Lrb) + 1,1,5));f.uda && (d.limit_rate=f.uda);f.JWa && (d.bb_reason=f.JWa);f.Qgb && (d.tm=f.Qgb);if(f.BX){h=f.BX.Qba();if(h || !h && this.YVa)(d.cpr_ss=f.BX.WC,d.cpr_ca=f.BX.rB,d.cpr_rec=f.BX.LC,this.YVa=h);}f.zoa && (d.br="" + f.zoa.start + "+" + f.zoa.size);return this.Qub(d);};g.prototype.JAa=function(f,d){var h,m;try{h=new k(void 0,"notification");m=this.Nv({JWa:f});d && m && h.open(d,void 0,2,void 0,void 0,void 0,m);}catch(l){this.hp("SideChannel: Error when sending sendBlackBoxNotification. Error: " + l);}};g.prototype.Qub=function(f){var d;try{d=this.gwb(f);return this.Vwb.encrypt(d);}catch(h){this.hp("SideChannel: Error when obfuscating msg. Error: " + h);}};g.prototype.gwb=function(f){return Object.keys(f).map(function(d){return encodeURIComponent(d) + "=" + encodeURIComponent(JSON.stringify(f[d]));}).join("&");};return g;})();b.QPa=a;},function(q,b,a){var c,k,g,f,d,h;Object.defineProperties(b,{__esModule:{value:!0}});b.nQa=b.Gqb=void 0;c=a(1);a(122);k=a(4);q=c.__importDefault(a(5));g=a(443);a=a(431);f=new q.default.Console("FRAGMENTS","media|asejs");try{new Float64Array(8);d=!0;}catch(m){d=!1;}h=(function(m){function l(n,p){p=m.call(this,n.mr,p) || this;p.XI=n;return p;}c.__extends(l,m);Object.defineProperties(l.prototype,{ga:{get:function(){return this.XI.wBa(this.Te);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{offset:{get:function(){return this.XI.Pc(this.Te);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{uxa:{get:function(){return this.XI.dG && this.XI.dG[this.Te];},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Eh:{get:function(){return this.XI.hLb(this.Te);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{nb:{get:function(){return this.XI.vh && this.XI.vh[this.Te];},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{yoa:{get:function(){return 8 * this.ga / (1E3 * this.Tv / this.I);},enumerable:!1,configurable:!0}});l.prototype.toJSON=function(){return {index:this.index,contentStartTicks:this.bb,contentEndTicks:this.wb,durationTicks:this.Tv,timescale:this.I,startPts:this.da,endPts:this.Ta,duration:this.duration,additionalSAPs:this.Eh};};return l;})(a.PQa);b.Gqb=h;q=(function(){function m(l,n,p,r,t,w,v){this.YN=128;this.od=n;this.xf=p.offset;this.al=p.sizes;this.iO=l;this.xN=this.dV=this.dj=this.Or=this.Wma=void 0;this.bub=r;this.Yka=t && t.Pc;this.tv=w;this.Uf=Math.min(this.od.length,this.al.length);l=this.vAb();this.Otb=l.maxBitrate;this.Ptb=l.zs;this.mr.kt.length !== this.al.length && f.trace("Mis-matched stream duration (" + this.mr.kt.length + "," + this.al.length + ") for movie id " + v);this.mr.x8 && !this.Yka && f.error("Mis-matched additional SAPs information for movie id " + v);}Object.defineProperties(m.prototype,{mediaType:{get:function(){return this.od.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{length:{get:function(){return this.Uf;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Fk:{get:function(){return this.od.Fk;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ira:{get:function(){return this.od.ira;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{da:{get:function(){return this.od.da;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ta:{get:function(){return this.od.Ta;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Rwa:{get:function(){return this.od.Rwa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ez:{get:function(){return this.Otb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{zs:{get:function(){return this.Ptb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{$:{get:function(){return this.od.$;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{I:{get:function(){return this.od.I;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{rf:{get:function(){return this.Or || this.gla();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{dG:{get:function(){return this.bub;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Jna:{get:function(){return this.Yka;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{vh:{get:function(){return this.tv;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{mr:{get:function(){return this.od;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Gz:{get:function(){return this.Wma || this.hsb();},enumerable:!1,configurable:!0}});m.prototype.wBa=function(l){if(this.al)return this.al[l];f.error("sizesByIndex _sizes is undefined");return -1;};m.prototype.Gk=function(l){return this.od.Gk(l);};m.prototype.wY=function(l){return this.od.Gk(l) + this.od.ed(l);};m.prototype.Pc=function(l){var n,p,r;if(this.dV !== l || void 0 === this.xN){if(0 === l)return this.xf;if(this.dV === l - 1 && void 0 !== this.xN)(this.xN+=this.al[this.dV],++this.dV);else {n=this.dj || this.Qrb();p=Math.floor(l / this.YN);r=p * this.YN;for(n=n[p];r < l;++r){n+=this.al[r];}this.dV=l;this.xN=n;}}return this.xN;};m.prototype.ed=function(l){return this.od.ed(l);};m.prototype.get=function(l){return new h(this,l);};m.prototype.hLb=function(l){var n,p,r,t,w;k.assert(0 <= l);n=this.mr.x8;p=this.mr.vVa;r=this.Yka;if(!r || !n || !p || l >= n.length)return [];t=[];w=l === n.length - 1?p.length:n[l + 1];for(n=n[l];n < w;++n){t.push({hm:p[n],Xd:this.Gk(l) + this.$.wC(p[n]).V,offset:r[n]});}return t;};m.prototype.Pn=function(l,n,p){return this.od.Pn(l,n,p);};m.prototype.M$=function(l,n,p){return this.od.M$(l,n,p);};m.prototype.Xpa=function(l,n){return this.od.Xpa(l,n);};m.prototype.sAb=function(l,n,p,r,t){var w,v,u,x,y,z,A,B,D;w=!0;v=0;u=this.od.kt;x=this.al;l=Math.floor(l * this.I / 1E3);y=Math.floor(p * this.I / 1E3);z=0;A=0;B=0;if(this.od.FCa && this.od.ECa)for(v=this.od.FCa;v <= this.od.ECa;++v){z+=u[v];A+=x[v];}if(A > n)w=!1;else for(;v < this.length && (!t || v < t);){D=x[v];p=u[v];if(A + D > n){for(;1 < v - B && A + D > n && (z - u[B] >= y || A - x[B] > r);){z-=u[B];A-=x[B];++B;}if(z < l || A + D > n){w=!1;this.od.FCa=B;this.od.ECa=v;break;}}z+=p;A+=D;++v;}return w;};m.prototype.subarray=function(l,n){k.assert(void 0 === l || 0 <= l && l < this.length);k.assert(void 0 === n || n > l && n <= this.length);return new m(this.iO,this.od.subarray(l,n),{offset:this.Pc(l),sizes:this.al.subarray(l,n)},this.dG && this.dG.subarray(l,n),this.Jna && ({Pc:this.Jna}),this.tv && this.tv.subarray(l,n));};m.prototype.forEach=function(l){for(var n=0;n < this.length;++n){l(this.get(n),n,this);}};m.prototype.map=function(l){for(var n=[],p=0;p < this.length;++p){n.push(l(this.get(p),p,this));}return n;};m.prototype.reduce=function(l,n){for(var p=0;p < this.length;++p){n=l(n,this.get(p),p,this);}return n;};m.prototype.toJSON=function(){return {length:this.length};};m.prototype.dump=function(){var n;f.trace("StreamFragments: " + this.length);for(var l=0;l < this.length;++l){n=this.get(l);f.trace("StreamFragments: " + l + ": [" + n.da + "-" + n.Ta + "] @ " + n.offset + ", " + n.ga + " bytes");}};m.prototype.vAb=function(){var l,n,p,r,t,w,x;l=0;n=0;p=this.od.Q8a;r=this.od.R8a;t=this.od.kt;w=this.al;if(void 0 === p || p >= this.length || void 0 === r || r >= this.length){for(var v=0,u=this.length;v < u;++v){x=w[v];x > n && (n=x,r=v);x/=t[v];x > l && (l=x,p=v);}void 0 === this.od.Q8a && (this.od.Q8a=p);void 0 === this.od.R8a && (this.od.R8a=r);}else (l=w[p] / t[p],n=w[r]);return {maxBitrate:Math.floor(l * this.I / 125),zs:n};};m.prototype.gla=function(){for(var l=0,n=0;n < this.length;++n){l+=this.al[n];}return this.Or=l;};m.prototype.hsb=function(){var l;l=new Uint8Array(this.al.length);k.assert(void 0 !== l,"invalid streamIndices");if(l){k.assert(void 0 !== this.iO,"invalid _streamIndex");for(var n=0;n < l.length;n++){l[n]=this.iO;}}n=this.tv || new Uint8Array(this.al.length);return this.Wma=new g.wka(this.od.kt,this.al,l,n,this.od.I);};m.prototype.Qrb=function(){if(!this.dj){for(var l=d?new Float64Array(Math.ceil(this.length / this.YN)):Array(Math.ceil(this.length / this.YN)),n=this.xf,p=0;p < l.length;++p){l[p]=n;for(var r=0;r < this.YN;++r){n+=this.al[p * this.YN + r];}}this.dj=l;}return this.dj;};return m;})();b.nQa=q;q.prototype.Afb=a.$y(q.prototype.Gk);a.$y(q.prototype.wY);a.$y(q.prototype.ed);a.$y(q.prototype.Pc);a.$y(q.prototype.wBa);a.$y(q.prototype.get);},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(){this.tb();this.cb=1 === this.version?this.Cf([{creationTime:"int64"},{modificationTime:"int64"},{I:"int32"},{duration:"int64"}]):this.Cf([{creationTime:"int32"},{modificationTime:"int32"},{I:"int32"},{duration:"int32"}]);return !0;};g.Xa="mvhd";g.wa=!1;return g;})(a(28).yb);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.Xa="trak";g.wa=!0;return g;})(a(28).yb);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(f){var d;this.tb();d=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];d=d.concat({offset:64,type:"offset"},{D7a:"int16"},{HVa:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.cb=this.Cf(d);this.cb.$gb=! !(this.flags & 1);this.cb.ahb=! !(this.flags & 2);this.cb.bhb=! !(this.flags & 4);this.cb.dhb=! !(this.flags & 8);this.l.console.trace("Finished parsing track box");if(null === f || void 0 === f?0:f.Ya)(f.Ya.width=this.cb.width,f.Ya.height=this.cb.height);return !0;};g.Xa="tkhd";g.wa=!1;return g;})(a(28).yb);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(){this.tb();this.cb=this.Cf(1 === this.version?[{LP:"int64"}]:[{LP:"int32"}]);return !0;};g.Xa="mehd";g.wa=!1;return g;})(a(28).yb);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(f){this.cb=this.Cf([{NZ:"int32"},{A3:"int32"}]);if(null === f || void 0 === f?0:f.Ya)(f.Ya.D4a=this.cb.NZ,f.Ya.Bib=this.cb.A3);return !0;};g.Xa="pasp";g.wa=!1;return g;})(a(28).yb);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(){this.cb=this.Cf([{VWa:"int32"},{maxBitrate:"int32"},{bq:"int32"}]);return !0;};g.Xa="btrt";g.wa=!1;return g;})(a(28).yb);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(){this.l.rh();this.l.rh();for(this.Iv=[];this.l.offset <= this.byteOffset + this.byteLength - 4;){this.Iv.push(this.l.rh());}return !0;};g.Xa="ftyp";g.wa=!1;return g;})(a(28).yb);b.default=q;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);k=a(88);q=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}c.__extends(f,g);f.prototype.parse=function(){this.tb();this.cb=this.Cf([{xbb:"int32"},{DF:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.cb.DF=k.Uk(this.cb.DF);return !0;};f.Xa="hdlr";f.wa=!1;return f;})(a(28).yb);b.default=q;},function(q,b,a){var c,k,g,f,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);k=a(107);g=a(261);f=a(188);q=a(28);d=a(89);a=(function(h){function m(){return null !== h && h.apply(this,arguments) || this;}c.__extends(m,h);m.prototype.parse=function(){this.tb();this.Kt=this.l.ba();return !0;};m.prototype.Nn=function(l){var n,p,r;p=Object.keys(this.Ba);if(p.length && (p=p[0],this.Ba[p].length)){p=this.Ba[p][0];if(p instanceof f.default){r=null !== (n=p.Ck) && void 0 !== n?n:p.samplerate;this.$=new g.O(p.Gi,r);}else p instanceof d.default && (n=p.Ba[k.$u]) && n.length && (n=n[0].cb,1E3 !== n.Vl && 1001 !== n.Vl || 0 !== n.jp % 1E3?this.l.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + n.jp + "/" + n.Vl):this.$=new g.O(n.Vl,n.jp));l && this.$ && (l.$=this.$);}return !0;};m.prototype.IG=function(l){void 0 !== this.Ba[l] && 0 !== this.Ba[l].length && (this.Y.ie(this.Kt - 1,this.byteOffset + 12),l=this.Ba[l][0],this.Rc(l.byteLength,l.byteOffset));};m.Xa="stsd";m.wa=!0;return m;})(q.yb);b.default=a;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(){this.QY=this.l.sb(2);this.ZW=this.l.sb(5);this.$W=this.l.sb(3);this.pW=this.l.sb(3);this.l.sb(1);this.l.sb(5);this.l.sb(5);return !0;};g.Xa="dac3";return g;})(a(28).yb);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(){var d;this.r0=this.l.lb() & 7;this.L2=[];for(var f=0;f < this.r0;f++){d={QY:this.l.sb(2),ZW:this.l.sb(5),$W:this.l.sb(5),pW:this.l.sb(3),E7a:this.l.sb(1),q0:this.l.sb(4)};0 < d.q0?d.FXa=this.l.sb(9):this.l.sb(1);this.L2.push(d);}return !0;};g.Xa="dec3";return g;})(a(28).yb);b.default=q;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);k=a(28);q=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}c.__extends(f,g);f.prototype.parse=function(d){this.tb();this.ix=this.l.rh();k.aa && this.l.console.trace("SchemeTypeBoxTranslator: " + this.ix);if("cenc" === this.ix){if((this.l.offset-=4,k.aa && this.l.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.l.offset),this.Y.tH("piff"),null === d || void 0 === d?0:d.Ya))d.Ya.encryptionScheme="piff";}else if(null === d || void 0 === d?0:d.Ya)d.Ya.encryptionScheme=this.ix;this.l.ba();return !0;};f.Xa="schm";f.wa=!1;return f;})(k.yb);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(f){var d;this.l.Aa();this.fT=this.l.Aa();this.l.Aa();this.l.Aa();this.l.Aa();this.er=this.qv(this.l.Aa() & 31);this.wG=this.qv(this.l.Aa());this.yk=this.er.length?this.er[0][0]:this.fT;this.kE=this.l.offset;this.startOffset + this.length < this.l.offset && (100 === this.yk || 110 === this.yk || 122 === this.yk || 144 === this.yk) && (this.l.Aa(),this.l.Aa(),this.qv(this.l.Aa()));d=this.startOffset + this.length - this.kE;0 < d && this.Rc(d,this.kE);if(null === f || void 0 === f?0:f.config)(f.config.er=this.er,f.config.wG=this.wG,f.config.yk=this.yk);return !0;};g.prototype.qv=function(f){var m;for(var d=[],h=0;h < f;++h){m=this.l.lb();d.push(this.l.Vq(m));}return d;};g.Xa="avcC";g.wa=!1;return g;})(a(28).yb);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.Nn=function(){var f;f=this.oh("esds");if(f=f && f.wD.oh(5))(this.Gi=f.Gi,this.Ck=f.Ck);return !0;};g.Xa="mp4a";g.wa=!0;return g;})(a(188).default);b.default=q;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);k=a(263);q=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}c.__extends(f,g);f.prototype.parse=function(d){this.tb();this.wD=k.xD.EG(this.l,d);this.l.console.trace("-------------- ESDBox start ---------------");this.l.console.trace(this.wD);this.l.console.trace("-------------- ESDBox end ---------------");return !0;};f.Xa="esds";f.wa=!1;return f;})(a(28).yb);b.default=q;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);q=a(107);a=a(28);k=q.$u;a=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}c.__extends(f,g);f.prototype.parse=function(){this.tb();this.cb=this.Cf([{jp:"int32"},{Vl:"int16"}]);return !0;};f.Xa=k;f.wa=!1;return f;})(a.yb);b.default=a;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(){var f,d,h,m,l;this.tb();f=this.Cf([{cn:"int32"},{ZE:"int32"},{Bi:"int32"},{Di:"int32"},{Ci:"int32"}]);d=f.cn;h=f.ZE;m=f.Bi;l=f.Ci;f=f.Di;this.cb={trackId:d,f_a:h,lq:m,g_a:l,h_a:f};this.cn=d;this.ZE=h;this.Bi=m;this.Di=f;this.Ci=l;return !0;};g.Xa="trex";g.wa=!1;return g;})(a(28).yb);b.default=q;},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r,t,w;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);k=a(964);g=a(267);f=a(160);d=a(261);h=a(28);q=a(438);m=a(439);l=a(441);n=a(161);p=a(260);r=a(107);t=a(442);w=a(967);a=(function(){function v(u,x,y,z,A,B){this.console=u;this.stream=x;this.Me=z;this.xW=A;this.view=y instanceof ArrayBuffer?new DataView(y):new DataView(y.data,y.offset,y.length);this.config=B || ({});this.dua=n.dZ();}v.path=function(u,x){return x.reduce(function(y,z){return y && y.Ba[z] && y.Ba[z][0];},u);};v.mZ=function(u){return u && u.Iv && -1 !== u.Iv.indexOf("mcl0")?"mcl0":void 0;};v.GY=function(u,x){var y,z;f.assert("mcl0" === u,"Unsupported McClearen brand");y=x.Z;u=y.ed;x=new d.O(120,1).Yc(y.I).qa;z=0;for(y=y.Fk;z < u.length && y < x;){y+=u[z++];}return z;};v.prototype.parse=function(u){var x;x=this.d2();if(!x.done){if(x.iG)return {Mi:!1,Hna:x.iG};this.console.error("Scan error: " + x.error);return {Mi:!1,parseError:x.error || "unknown mp4 scan error"};}this.view=new DataView(this.view.buffer,this.view.byteOffset,x.offset);u=this.O0(u);return u.done?this.yX():(this.console.error("Parse error: " + u.error),{Mi:!1,parseError:u.error || "unknown mp4 parse error"});};v.prototype.Fi=function(u){return h.yb.Fi(this,u);};v.prototype.oh=function(u){return h.yb.oh(this,u);};v.prototype.d2=function(){var u,x;u=new t.ZT(this.Me,this.xW?[r.Hp,r.Gp]:[],this.config && this.config.tgb || ["moof",r.GD],this.config && this.config.pG);x=c.__assign(c.__assign({},this.config),{Mw:!1});return new l.Ru(v.hx,u,this.view,this.console,x).parse();};v.prototype.O0=function(u){var x,y,z;x=new t.vD(this.view.byteLength);y=Object.create(p.mk.Ba);this.config && ((this.config.iR || this.config.ES || this.config.zu) && k(p.mk.dx,y),this.config.h3 && k(p.mk.i3,y),this.config.ES && k(p.mk.kH,y));z=c.__assign(c.__assign({},this.config),{Mw:!0});this.ub=new l.Ru(y,x,this.view,this.console,z);u=this.ub.parse(u);u.done && (this.Ba=this.ub.Ba);return u;};v.prototype.yX=function(){var u,x,y,z,A,B,D,C;x={Mi:!0};y=v.path(this,["moov"]);z=y && y.Ba.trak;if(z && 1 === z.length){A=z[0].Ae("tkhd");A && (x.trackId=null === (u=A.cb) || void 0 === u?void 0:u.trackId);}u=v.path(y,["trak","mdia","minf","stbl","stsd"]);if(this.config.iR)if(u)(x.$=u.$,x.Hdb=u.Ba);else return {Mi:!1,parseError:"Missing sample descriptions"};if(A=v.path(u,["encv","sinf","schi"]))if(A=v.path(A,["tenc"]) || v.path(A,[r.OD]))x.fra={MYa:A.gi,Cw:A.Cw,j7a:!1};if(A=v.path(y,["trak","mdia","mdhd"]))x.I=A.I;if(A=v.path(y,["mvex","trex"]))x.lq=A && A.cb.lq;x.lq && x.I && (x.$=new d.O(x.lq,x.I));if(A=v.path(this,["sidx"])){B=v.path(this,[r.Hp]);B=B && B.P_;D=v.path(this,[r.Gp]);D=D && D.Eh;x.Z=A.Z;x.dG=B;x.Eh=D;}if(B=this.Ba.vmaf && this.Ba.vmaf[0])x.vh=B.vh;if(this.config.J1 && (B=v.path(y,["mvex"])) && z && z.length){C=z.reduce(function(F,G){return G.byteOffset > F.byteOffset?G:F;});C.byteOffset > B.byteOffset && (z=new Uint8Array(this.view.buffer,this.view.byteOffset,this.view.byteLength),D=w.n3(z,Uint8Array,B.byteOffset,B.byteOffset + B.byteLength),C=w.n3(z,Uint8Array,B.byteOffset + B.byteLength,C.byteOffset + C.byteLength),z.set(C,B.byteOffset),z.set(D,B.byteOffset + C.byteLength));}if(this.config.pAa)if(y)(this.trim(y.byteOffset + y.byteLength),this.config.zu && u && 1 < u.Kt && A && (x.Yf=this.zu(u,A)),void 0 === x.Yf && (y=this.ub.qq?g.concat(this.ub.na()):this.view.buffer,x.Yf=[{Dd:0,data:y}]));else return {Mi:!1,parseError:"Missing movie box"};x.Mi=!0;x.jR=this.ub.offset;return x;};v.prototype.trim=function(u){var x;x=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(u,this.view.byteLength));this.ub.trim(u);this.view=new DataView(x);};v.prototype.zu=function(u,x){var y,z,A;y=Object.keys(u.Ba);z=y.filter(function(B){return "encv" !== B;});if(!(2 > y.length || z.length === y.length || 0 === z.length)){y=v.path(this,["ftyp"]);A=v.mZ(y);if(A)return (y=[],this.ub.t1(),u.IG("encv"),y.push({Dd:0,Ej:!1,data:g.concat(this.ub.na())}),this.ub.c1(),u.IG(z[0]),u=v.GY(A,x),y.push({Dd:u,Ej:!0,data:g.concat(this.ub.na())}),y);}};v.hx={};return v;})();b.uo=a;a.hx[r.av]=q.default;a.hx[r.bv]=m.default;},function(q){q.exports=function k(a,c){var g;a.__proto__ && a.__proto__ !== Object.prototype && k(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(f){g=Object.getOwnPropertyDescriptor(a,f);void 0 !== g && Object.defineProperty(c,f,g);});};},function(q,b,a){var c,k,g,f,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);k=a(160);g=a(267);f=a(88);q=a(966);d=(function(){function h(m){m?(this.vd=m.vd.slice(),this.je=m.je.slice(),this.Pc=m.Pc.slice(),this.trim=m.trim):(this.vd=[],this.je=[],this.Pc=[]);}Object.defineProperties(h.prototype,{empty:{get:function(){return 0 === this.vd.length && 0 === this.je.length && 0 === this.Pc.length;},enumerable:!0,configurable:!0}});return h;})();q=(function(h){function m(l,n,p){l=h.call(this,l,n,p) || this;l.kF=[];l.Ja=new d();return l;}c.__extends(m,h);m.DW=function(l,n){if(n.offset + n.size <= l.byteLength)switch(n.size){case 1:l.setUint8(n.offset,n.value);break;case 2:n.Xm?l.setInt16(n.offset,n.value):l.setUint16(n.offset,n.value);break;case 4:n.Xm?l.setInt32(n.offset,n.value):l.setUint32(n.offset,n.value);break;case 8:k.assert(!n.Xm);l.setUint32(n.offset,Math.floor(n.value / 4294967296));l.setUint32(n.offset + 4,n.value & 4294967295);break;default:k.assert(!1);}};Object.defineProperties(m.prototype,{qq:{get:function(){return !this.Ja.empty;},enumerable:!0,configurable:!0}});m.prototype.ur=function(l,n){this.Ja.je.push({offset:void 0 !== n?n:this.offset,value:l,size:1});void 0 === n && (this.offset+=1);};m.prototype.N3=function(l,n){this.Ja.je.push({offset:void 0 !== n?n:this.offset,value:l,size:2,Xm:!1});void 0 === n && (this.offset+=2);};m.prototype.ie=function(l,n){this.Ja.je.push({offset:void 0 !== n?n:this.offset,value:l,size:4,Xm:!1});void 0 === n && (this.offset+=4);};m.prototype.O3=function(l,n){this.Ja.je.push({offset:void 0 !== n?n:this.offset,value:l,size:8,Xm:!1});void 0 === n && (this.offset+=8);};m.prototype.tH=function(l){this.ie(f.YD(l));};m.prototype.wx=function(l,n){this.Ja.Pc.push({offset:this.offset,zj:l,value:n});this.offset+=4;};m.prototype.Rc=function(l,n,p){this.Ja.vd.push({offset:n,remove:l,hb:p});};m.prototype.Pm=function(l,n,p,r){this.Ja.vd.push({offset:p,remove:l,replace:n,hb:r});};m.prototype.trim=function(l){this.Ja.trim=l;};m.prototype.t1=function(){this.kF.push(new d(this.Ja));};m.prototype.c1=function(){this.Ja=this.kF.pop() || new d();};m.prototype.na=function(){var l,n,p,r,t,w,v;l=this;if(0 === this.Ja.vd.length && 0 === this.Ja.je.length && 0 === this.Ja.Pc.length)return [void 0 === this.Ja.trim?this.view.buffer:this.view.buffer.slice(0,this.Ja.trim)];this.Ja.vd.sort(function(u,x){return u.offset - x.offset;});this.Ja.je.sort(function(u,x){return u.offset - x.offset;});this.X1();n=this.EY();p=this.view.buffer.slice(0,n);r=new DataView(p);this.Ja.je.forEach(m.DW.bind(void 0,r));this.s3(r);this.r3(r);t=[];w=void 0 !== this.Ja.trim?Math.min(this.Ja.trim,this.view.byteLength):this.view.byteLength;v=0;this.Ja.vd.filter(function(u){return u.offset <= w;}).forEach(function(u){u.offset > v && (t.push(r.buffer.slice(v,u.offset)),u.offset > r.byteLength && r !== l.view && (r=l.view,t.push(r.buffer.slice(n,u.offset))));u.replace && t.push(u.replace);v=u.offset + u.remove;});v < n && t.push(p.slice(v));v < w && t.push(this.view.buffer.slice(Math.max(p.byteLength,v),w));return t;};m.prototype.EY=function(){var l,n,p;l=[];n=this.Ja.je[this.Ja.je.length - 1];p=this.Ja.Pc[this.Ja.Pc.length - 1];n && l.push(n.offset + n.size);p && l.push(p.offset + 4);this.Ja.vd.filter(function(r){return r.hb;}).forEach(function(r){return l.push(r.hb.byteOffset + 4);});n=Math.max.apply(void 0,l);return void 0 !== this.Ja.trim?Math.min(n,this.Ja.trim):n;};m.prototype.X1=function(){this.Ja.vd=this.Ja.vd.reduce(function(l,n){var p,r;if(0 === l.length)return (l.push(n),l);p=l[l.length - 1];r=p.offset + p.remove;n.offset >= r?l.push(n):n.offset + n.remove > r && (k.assert(p.hb === n.hb),p.remove+=n.offset + n.remove - r,n.replace && (p.replace=p.replace?g.concat(p.replace,n.replace):n.replace));return l;},[]);};m.prototype.s3=function(l){var n;n=this;this.Ja.Pc.forEach(function(p){var r,t,w,v;r=l;t=p.offset;n.Ja.vd.some(function(u){return u.offset <= p.offset && u.replace && u.offset + u.replace.byteLength >= p.offset + 4?(r=new DataView(u.replace),t=p.offset - u.offset,!0):!1;});w=p.zj + (void 0 !== p.value?p.value:r.getInt32(t));v=n.Ja.vd.reduce(function(u,x){return x.offset > p.zj && x.offset < w?u + (x.remove - (x.replace?x.replace.byteLength:0)):u;},0);r.setInt32(t,w - p.zj - v);});};m.prototype.r3=function(l){this.Ja.vd.forEach(function(n){var p;p=(n.remove || 0) - (n.replace?n.replace.byteLength:0);if(0 !== p)for(n=n.hb;n;){l.setUint32(n.byteOffset,l.getUint32(n.byteOffset) - p);n=n.parent;}});};return m;})(q.TU);b.SU=q;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(161);a(161);k=a(88);q=(function(){function g(f,d,h){this.view=f;this.console=d;this.config=h;this.view=f;this.console=d;this.Ki=this.Tr=this.offset=0;}g.prototype.bZ=function(f){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,f);};g.prototype.sb=function(f){for(;this.Ki < f;){this.Tr=(this.Tr << 8) + this.Aa();this.Ki+=8;}this.Ki-=f;return this.Tr >>> this.Ki & (1 << f) - 1;};g.prototype.Aa=function(){var f;f=this.view.getUint8(this.offset);this.offset+=1;return f;};g.prototype.lb=function(f){f=this.view.getUint16(this.offset,f);this.offset+=2;return f;};g.prototype.ba=function(f){f=this.view.getUint32(this.offset,f);this.offset+=4;return f;};g.prototype.Xq=function(){var f;f=this.view.getInt32(this.offset,void 0);this.offset+=4;return f;};g.prototype.Q0=function(f,d){var h;h=this.view.getUint32(this.offset + (f?4:0),f);f=this.view.getUint32(this.offset + (f?0:4),f);d || 0 === (h & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * h + f;};g.prototype.xc=function(f,d){f=this.Q0(f,d);this.offset+=8;return f;};g.prototype.R0=function(f,d){var h;h=this.view.getInt32(this.offset + (f?4:0),f);f=this.view.getUint32(this.offset + (f?0:4),f);d || 0 === ((0 < h?h:-h) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * h + f;};g.prototype.A1=function(){var f;f=this.R0(void 0,void 0);this.offset+=8;return f;};g.prototype.rh=function(){return k.Uk(this.ba());};g.prototype.Yq=function(){var d,h,m,l,n,p;function f(r,t){return ("000000" + r.toString(16)).slice(2 * -t);}d=this.ba(!0);h=this.lb(!0);m=this.lb(!0);l=this.lb();n=this.lb();p=this.ba();return [f(d,4),f(h,2),f(m,2),f(l,2),f(n,2) + f(p,4)].join("-");};g.prototype.Wq=function(f){var d;d=this.view.byteOffset + this.offset;d=this.view.buffer.slice(d,d + f);this.offset+=f;return d;};g.prototype.y1=function(f){var d;d=[];if(0 === f)return "";f=f || Number.MAX_SAFE_INTEGER;for(var h=this.Aa();0 !== h && 0 <= --f;){d.push(h);h=this.Aa();}return String.fromCharCode.apply(null,d);};g.prototype.Vq=function(f){var d,h;void 0 === d && (d=1);void 0 === h && (h=!0);return this.Sg(this.config.Hu && c.CZ || c.ek,1,f,d,h);};g.prototype.x1=function(f,d,h){var m;void 0 === d && (d=2);void 0 === h && (h=!0);void 0 === m && (m=!1);return this.Sg(this.config.Hu && c.AZ || c.Bq,2,f,d,h,m);};g.prototype.Uq=function(f,d,h){var m;void 0 === d && (d=4);void 0 === h && (h=!0);void 0 === m && (m=!1);return this.Sg(this.config.Hu && c.BZ || c.Hm,4,f,d,h,m);};g.prototype.z1=function(){for(var f=this.Aa(),d=f & 127;f & 128;){f=this.Aa();d=d << 7 | f & 127;}return d;};g.prototype.Sg=function(f,d,h,m,l,n){void 0 === l && (l=!0);void 0 === n && (n=!1);f=f(this.view,this.offset,h,m,n);this.offset=l || !m || m === d?this.offset + h * (m || d):this.offset + d;return f;};return g;})();b.TU=q;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.n3=function(a,c,k,g){var f,d;if(null !== a && void 0 !== a && a.slice)return a.slice(k,g);f=Math.min(a.length,g);d=Math.min(a.length,k);for(c=new c(Math.max(g - k,0));d < f;d++){c[d - k]=a[d];}return c;};},function(q,b,a){var g,f,d,h;function c(m,l,n,p){f.call(this,m,l,n,p);}function k(m,l,n){f.call(this,m,l,n,void 0);}g=a(107);f=a(268).mm;d=a(440);h=a(88).YD;c.prototype=Object.create(f.prototype);k.prototype=Object.create(c.prototype);k.prototype.tV=function(m,l){return "string" === typeof l?d[l]:l?d.reset[m] || d.B2[m]:d.B2[m];};k.prototype.Kea=function(m,l,n){return this.na(m,l,!1,n,void 0);};k.prototype.H1=function(m,l,n){return this.na(m,l,!0,n,void 0);};k.prototype.na=function(m,l,n,p,r){var w,v,u,x,y,z,A,B,D,C,F,G,E,I;function t(K){v=w[K];u=v.Ae("traf");if(void 0 === u || void 0 === u.Ee)return !1;A=u.Ae("tfdt");if(void 0 === A)return !1;x=u.Ae("trun");return void 0 === x?!1:!0;}if(!this.parse().done)return !1;w=this.Ba.moof;if(!w || 0 === w.length)return !1;if(void 0 !== m){y=m;for(m=0;m < w.length;++m){if(!t(m,this.ub.console.trace))return !1;if(x.Ka > y || n && x.Ka === y)break;y-=x.Ka;}}else if((m=n?w.length - 1:0,!t(m,this.ub.console.trace)))return !1;if(n && m < w.length - 1){z=w[m + 1];this.ub.Rc(this.KZa - z.startOffset,z.startOffset);}else !n && 0 < m && this.ub.Rc(v.startOffset,0);z=u.Ae("tfhd");if(void 0 === z)return !1;A=u.Ae("tfdt");B=x.Ka;D=u.Ae("saiz");C=u.Ae("saio");F=u.Ae(g.ND);G=u.Ae("sbgp");if(!(!D && !C || D && C))return !1;E=u.Ae("sdtp");if(this.Ba.mdat && m < this.Ba.mdat.length)I=this.Ba.mdat[m];else if(m !== w.length - 1)return !1;void 0 === y && (y=n?x.Ka:0);if(x.na(u,z,I || this.ub,l,y,u.Ee,n))x.qq && (!n && A && A.na(x.w2),D && C && (D.na(x.Ek,n),C.na(F?0:D.cx,u.Ee,n)),F && F.na(x.Ek,n),E && E.na(x.Ek,B,n),G && G.na(x.Ek,n));else if(!n){if(m === w.length - 1)return !1;this.ub.Rc(w[m + 1].startOffset - v.startOffset,v.startOffset);}else if(0 === x.Ek)return !1;p && (l=this.tV(this.stream.profile,r)) && x.K1(u,z,I,n,p,l);n=this.ub.na();p=n.reduce(function(K,L){return K + L.byteLength;},0);n={T:n,length:p,Li:this.ub.view.byteLength};x.qq && !I && (n.zk=u.Ee + x.zk,n.Rf=x.Rf);return n;};q.exports={kn:k,bu:function(m){var l,n;l=new ArrayBuffer(8);n=new DataView(l);n.setUint32(0,m + 8);n.setUint32(4,h("mdat"));return l;}};},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);q=a(268);k=a(267);a=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}c.__extends(f,g);f.prototype.na=function(d){var h,m,l,n;h=this;if(!this.parse().done)return !1;m=this.Ba.moov;if(!m || 0 === m.length)return !1;l=m[0].oh("tenc");if(!l)return !1;n=new Uint8Array(l.gi);d.forEach(function(p){for(var r=p.from,t=!0,w=0;w < r.length;w++){if(n[w] !== r[w]){t=!1;break;}}t && h.ub.Pm(p.from.length,p.to,l.Cw);});return k.concat(this.ub.na());};return f;})(q.mm);b.lA=a;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});q=b.oi || (b.oi={});q[q.mc=0]="AUDIO";q[q.Vb=1]="VIDEO";},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r,t,w,v,u,x;Object.defineProperties(b,{__esModule:{value:!0}});b.qHa=void 0;q=a(1);c=a(13);k=q.__importStar(a(10));g=q.__importDefault(a(5));f=new g.default.Console("ASEJS_ERROR_DIRECTOR","asejs");d=q.__importDefault(a(32));h=q.__importDefault(a(972));m=a(190);l=g.default.Zs;n=l.L4;p={};r={};a=[d.default.mi.pA,!1];q=[d.default.mi.pA,!0];t=[d.default.mi.iI,!1];w=[d.default.mi.iI,!0];v=[d.default.mi.URL,!0];u=[-1,!1];x=[d.default.mi.iI,!1];p[n.m$b]=t;p[n.UNKNOWN_ERROR]=t;p[n.occ]=t;p[n.Olb]=t;p[n.UFa]=t;p[n.$lb]=t;p[n.Slb]=w;p[n.Rkb]=w;p[n.dFa]=x;p[n.bFa]=x;p[n.Skb]=u;p[n.Tkb]=x;p[n.Ukb]=x;p[n.Okb]=t;p[n.Qkb]=t;p[n.cFa]=a;p[n.Pkb]=t;p[n.Nkb]=x;p[n.cac]=w;p[n.Xmb]=x;p[n.iIa]=x;p[n.hIa]=x;p[n.eIa]=x;p[n.fIa]=x;p[n.Wmb]=v;p[n.sia]=w;p[n.uia]=v;p[n.tia]=q;p[n.lIa]=w;p[n.Zmb]=v;p[n.B5]=x;p[n.jIa]=w;p[n.Ymb]=w;p[n.Vlb]=w;p[n.Plb]=t;p[n.tqb]=t;p[n.Flb]=t;p[n.Glb]=t;p[n.Hlb]=t;p[n.Ilb]=t;p[n.Jlb]=t;p[n.Klb]=t;p[n.Llb]=t;p[n.Mlb]=t;p[n.Nlb]=t;p[n.Qlb]=t;p[n.Rlb]=t;p[n.Tlb]=t;p[n.Ulb]=t;p[n.Wlb]=t;p[n.Xlb]=t;p[n.Ylb]=t;p[n.Zlb]=t;p[n.amb]=t;p[n.bmb]=t;p[n.sqb]=x;p[n.TIMEOUT]=a;r[n.dFa]=!0;r[n.iIa]=!0;r[n.hIa]=!0;r[n.fIa]=!0;r[n.UFa]=!0;a=(function(){var l50;l50=2;for(;l50 !== 12;){switch(l50){case 14:y.prototype.$Xa=function(){var E50;E50=2;for(;E50 !== 1;){switch(E50){case 2:var K19="Cle";K19+="ared underfl";K19+="ow time";K19+="out";this.p3 && (clearTimeout(this.p3),this.p3=void 0,f.info(K19));E50=1;break;}}};l50=13;break;case 2:y.prototype.Rb=function(){var n50;n50=2;for(;n50 !== 1;){switch(n50){case 4:this.Kh.clear();n50=2;break;n50=1;break;case 2:this.Kh.clear();n50=1;break;}}};y.prototype.QG=function(z){var o50;o50=2;for(;o50 !== 1;){switch(o50){case 4:this.vfa=z;o50=9;break;o50=1;break;case 2:this.vfa=z;o50=1;break;}}};l50=5;break;case 9:y.prototype.Rea=function(){var y50,z;y50=2;for(;y50 !== 5;){switch(y50){case 2:z=this;this.SXa.ty || this.SXa.Fga(function(){var z50;z50=2;for(;z50 !== 1;){switch(z50){case 2:z.NR || (z.Tn.Rea(),z.kCa={},z.Rt());z50=1;break;}}});y50=5;break;}}};y.prototype.hga=function(z){var A50,A;A50=2;for(;A50 !== 9;){switch(A50){case 2:A=this.config;this.DQ=Math.max(z.timestamp || g.default.time.ma(),this.DQ);this.$Xa();A.Xw && this.hza.hga(z);A50=3;break;case 3:var p19="u";p19+="pdatingLas";p19+="t";p19+="SuccessEvent";var d19="up";d19+="dati";d19+="ngLast";d19+="SuccessEvent";this.events.emit(d19,{type:p19});A50=9;break;}}};y.prototype.Uxa=function(){var B50;B50=2;for(;B50 !== 1;){switch(B50){case 4:this.Pv=6;B50=9;break;B50=1;break;case 2:this.Pv=0;B50=1;break;}}};y.prototype.pk=function(){var C50,z,A,B;C50=2;for(;C50 !== 4;){switch(C50){case 2:var y19="m";y19+="s";var Q19="Settin";Q19+="g underflow";Q19+=" timeout in ";(z=this,A=this.config,B=A.zca);this.DQ=Math.max(g.default.time.ma(),this.DQ);!A.iib || this.p3 || A.w3 && A.vP && A.wWb || (f.info(Q19 + B + y19),this.p3=setTimeout(function(){var D50;D50=2;for(;D50 !== 4;){switch(D50){case 2:var D19="Forcin";D19+="g";D19+=" permanent network failure after ";var L19="m";L19+="s, since underflow wi";L19+="th no success";a000.s59(8);f.info(a000.Y59(L19,D19,B));z.p3=void 0;z.Tn.pu(d.default.mi.pA,!0);D50=4;break;}}},B));C50=4;break;}}};l50=14;break;case 5:y.prototype.pu=function(z,A,B,D){var q50,C,F,G,E,I,H,P,K,L;q50=2;for(;q50 !== 15;){switch(q50){case 2:var w19=" :";w19+=" c";w19+="ri";w19+="tical error co";w19+="unt = ";var J19=" ";J19+="o";J19+="n";J19+=" ";var E19="F";E19+="a";E19+="i";E19+="l";E19+="ure ";(C=this,F=l.L4.name,G=B?F[B]:void 0);F={};(E=this.config,I=this.Tn);f.warn(E19 + G + J19 + JSON.stringify(z) + w19 + this.Pv);q50=3;break;case 20:q50=void 0 !== z.host && void 0 !== z.port?19:18;break;case 19:F=I.m3b(z.host,z.port);q50=11;break;case 14:q50=void 0 !== z.url?13:20;break;case 18:var r19="In";r19+="valid affected fo";r19+="r net";r19+="work ";r19+="failure";f.error(r19);q50=17;break;case 11:(H=K[0],P=K[1]);E.Xw?k.forEach(F,function(N,J){var r50;r50=2;for(;r50 !== 5;){switch(r50){case 2:var i19="e";i19+="r";i19+="r";i19+="or";K === x || K === t?C.hza.G_b({url:void 0 !== z.url?z.url:N[0],Pe:J},{zVa:J,m3:K,lK:A,Zh:B,Y0a:G,nk:D}):N.some(function(M){var s50;s50=2;for(;s50 !== 5;){switch(s50){case 2:I.pu(H,P,M);return H === d.default.mi.iI;break;}}});!C.vfa || 0 !== A && void 0 !== A || (N=void 0 !== z.url?z.url:N[0]) && C.vfa.JAa(i19,N);r50=5;break;}}}):k.forEach(F,function(N,J){var t50;t50=2;for(;t50 !== 5;){switch(t50){case 1:var u19="e";u19+="rr";u19+="or";(N.some(function(M){var u50;u50=2;for(;u50 !== 5;){switch(u50){case 2:I.pu(H,P,M);return H === d.default.mi.iI;break;}}}),!C.vfa || 0 !== A && void 0 !== A || (N=void 0 !== z.url?z.url:N[0]) && C.vfa.JAa(u19,N));t50=5;break;case 2:t50=K !== x || C.G1b(J)?1:5;break;}}});q50=15;break;case 16:var A19="Unmappe";A19+="d failure code i";A19+="n JSASE error director : ";a000.V59(4);f.error(a000.z59(A19,B));q50=15;break;case 9:var W19="criticalN";W19+="etworkErro";W19+="r";var X19="criticalNet";X19+="workEr";X19+="r";X19+="or";K=p[B];this.eC={lK:A,Zh:B,Y0a:G,nk:D};r[B] && (++this.Pv,this.events.emit(X19,{type:W19,Zh:B}));q50=6;break;case 6:q50=K !== u?14:15;break;case 3:q50=B && k.isArray(p[B])?9:16;break;case 13:L=I.deb(z.url);q50=12;break;case 17:return;break;case 12:L && (F[L]=[z.url]);q50=11;break;}}};y.prototype.G1b=function(z){var v50,A,B,D;v50=2;for(;v50 !== 7;){switch(v50){case 5:v50=D.Gj < this.DQ?4:3;break;case 2:(A=g.default.time.ma(),B=this.config,D=this.kCa[z]);v50=1;break;case 4:(D.Gj=A,D.count=1);v50=7;break;case 3:v50=!(D.Gj >= A - B.Pfa || D.OC || (D.Gj=A,++D.count,D.count < B.Fca))?9:7;break;case 9:return D.OC=!0;break;case 1:v50=D?5:8;break;case 8:this.kCa[z]={Gj:A,count:1};v50=7;break;}}};y.prototype.ZOb=function(z){var w50,F,G,E,A,B,D,C;w50=2;for(;w50 !== 7;){switch(w50){case 3:(F=this.eC.Zh,G=this.eC.lK,E=this.eC.nk);w50=9;break;case 4:w50=this.eC?3:9;break;case 2:var k49=" las";k49+="t s";k49+="u";k49+="ccess was";k49+=" ";var o49=" m";o49+="s";o49+=" ag";o49+="o";var m49="te";m49+="m";m49+="porarily";var P19="perm";P19+="an";P19+="entl";P19+="y";var v19="Net";v19+="wor";v19+="k h";v19+="as f";v19+="ailed ";(A=this,B=g.default.time.ma() - this.DQ,D=z,C=this.config);a000.s59(9);f.warn(a000.Y59(B,v19,z?P19:m49,o49,k49));!z && B > C.xxa && (D=!0);w50=4;break;case 9:var U49="temporar";U49+="yNetw";U49+="o";U49+="rkErro";U49+="r";var I49="temporary";I49+="Netw";I49+="o";I49+="rkError";z || this.events.emit(I49,{type:U49,errorCode:F,httpCode:G,nativeCode:E});D?(this.NR && (clearTimeout(this.NR),this.NR=void 0),this.$Xa(),this.hza.reset(),this.gPb({ORb:z,hYb:F,iYb:G,jYb:E})):this.NR || (this.NR=setTimeout(function(){var x50;x50=2;for(;x50 !== 5;){switch(x50){case 2:A.NR=void 0;A.Rea();x50=5;break;}}},C.yxa));w50=7;break;}}};l50=9;break;case 13:return y;break;}}function y(z,A,B,D){var m50;m50=2;for(;m50 !== 20;){switch(m50){case 3:var e49="1";e49+="SI";e49+="YbZrN";e49+="JCp9";this.events=new c.EventEmitter();this.Kh=new c.Fg();e49;this.SXa=new m.p6();m50=6;break;case 6:var Y49="ne";Y49+="twor";Y49+="kFa";Y49+="i";Y49+="led";p[n.eIa]=A.XPb?w:x;this.Kh.addListener(this.Tn,Y49,this.ZOb.bind(this));this.DQ=g.default.time.ma();this.Pv=0;this.kCa={};this.hza=new h.default(z,D,A);m50=20;break;case 2:this.Tn=z;this.config=A;this.gPb=B;this.Rt=D;m50=3;break;}}}})();b.qHa=a;},function(q,b,a){var k,g,f;function c(d,h,m){this.FV=d;this.EI=0 === Math.floor(1E6 * Math.random()) % m.oL;this.groupId=1;this.config=m;this.EB={};this.xG={};this.Rt=h;}k=a(10);g=a(5).default;new g.Console("ASEJS_PROBE_MANAGER","asejs");f=a(973).bEa;c.prototype.constructor=c;c.prototype.G_b=function(d,h){var m,l,n,p,r,t,w,v,u,x,y;m=this.FV;l=d.Pe;n=m.Nfb(d.url);p=m.pca(d.url);r=this.config;t=g.time.ma();w=h;v=[];u=n.hk[0];x=!1;y=this.EB[l];if(!y)y=this.EB[l]={count:0,Gj:t,OC:!1,error:h,RAa:[],jza:{}};else if(y.Gj >= t - r.Pfa)return;y.OC || (u && p.id === u.id && (d.isPrimary=!0),y.Gj=t,y.OC=!1,y.error=h,++y.count,n && n.urls && 0 !== n.urls.length && (k.forEach(n.urls,function(z){var A,B,D;A=z.Xc.id;B=A + "-" + l;D=this.xG[B];if(void 0 === D || void 0 === D.tea)(D && D.jr && clearTimeout(D.jr),z=this.mZa(z.url,d,A),this.xG[B]={fa:!1,count:0,tea:z.ij()},v.push(z.ij()),x=!0);-1 === y.RAa.indexOf(A) && y.RAa.push(A);},this),this.EI && 0 < v.length && (n={type:"logdata",target:"endplay",fields:{}},h=w,w={ts:g.time.ma(),es:h.zVa,fc:h.Zh,fn:h.Y0a,nc:h.nk,pb:v,gid:this.groupId},h.lK && (w.hc=h.lK),n.fields.errpb={type:"array",value:w,adjust:["ts"]},m.ip(n)),x && this.groupId++));};c.prototype.mZa=function(d,h,m){var l,n,p;l=this.FV.pca(h.url);l && l.Jb && l.Jb.Uy && l.Jb.Uy.Ca || Math.random(0,1);l=new f(this);n=d.split("?");p="random=" + parseInt(1E7 * Math.random(),10);l.bYb(1 < n.length?d + "&" + p:d + "?" + p,h,m);return l;};c.prototype.H_b=function(d,h){var m,l,n,p,r,t,w,v;m=this.FV;l=this.config;n=h.Pe;p=this.EB[n];r=d.url;t=this.xG[d.Pe + "-" + n];if(p){w=p.error;if(t){t && t.jr && clearTimeout(t.jr);t.fa=!0;t.count=0;t.tea=void 0;p.jza[d.Pe]=!0;(t=this.EB[d.Pe]) && !0 === t.OC && l.aB && (m.rdb(d.Pe,t.error.m3[1]),this.EI && (t={type:"logdata",target:"endplay",fields:{}},t.fields.errst={type:"array",value:{ts:g.time.ma(),id:d.requestId,servid:h.Pe,gid:d.groupId?d.groupId:-1},adjust:["ts"]},m.ip(t)),this.EB[d.Pe]=void 0,this.Rt());if(r !== h.url){v=this.xG[n + "-" + n];v && v.fa || (n=(n=m.pca(r)) && n.Jb && n.Jb.Uy && n.Jb.Uy.Ca || Math.random(0,1) * l.Aca,n=Math.min(n,l.Aca),setTimeout((function(){var u;if(!(!1 !== p.OC || v && v.fa) && (p.OC=!0,m.pu(w.m3[0],w.m3[1],h.url,w),this.EI)){u={type:"logdata",target:"endplay",fields:{}};u.fields.erep={type:"array",value:{ts:g.time.ma(),id:d.requestId,servid:h.Pe,gid:d.groupId?d.groupId:-1},adjust:["ts"]};m.ip(u);}}).bind(this),n));}this.EI && (t={type:"logdata",target:"endplay",fields:{}},t.fields.pbres={type:"array",value:{ts:g.time.ma(),id:d.requestId,result:1,servid:d.Pe,gid:d.groupId?d.groupId:-1},adjust:["ts"]},m.ip(t));}}};c.prototype.E_b=function(d,h){var m,l,n,p,r,t,w,v,u,x;m=this.FV;l=parseInt(h.Pe,10);n=this.EB[l];p=parseInt(d.Pe,10);r=this.xG[p + "-" + l];t=0;w=this.config;if(r && n){r.fa=!1;r.tea=void 0;n.jza[p]=!1;v=n.RAa;if(w.aB && p === l && h.isPrimary){u=m.pca(h.url);u=u && u.Jb && u.Jb.Uy && u.Jb.Uy.Ca || 300 * Math.random(0,1);u*=Math.pow(2,r.count);u=Math.min(u,12E4);u+=Math.random(0,1) * (1E4 > u?100:1E4);r.jr=setTimeout((function(){var y;r.jr=void 0;y=this.mZa(d.url,h,p);y.E3b(d.groupId);r.tea=y.ij();}).bind(this),u);}++r.count;if(p === l && (t=0,v.forEach(function(y){!1 === n.jza[y] && t++;}),v.length === t && n.count >= w.Fca)){x=n.error;n.OC=!0;k.forEach(m.Nfb(h.url).urls,function(y){var z;m.pu(x.m3[0],x.m3[1],y.url,x);if(this.EI){z={type:"logdata",target:"endplay",fields:{}};z.fields.erep={type:"array",value:{ts:g.time.ma(),id:-1,servid:y.Xc.id},adjust:["ts"]};m.ip(z);}},this);}this.EI && (l={type:"logdata",target:"endplay",fields:{}},l.fields.pbres={type:"array",value:{ts:g.time.ma(),id:d.requestId,result:0,servid:d.Pe,gid:d.groupId?d.groupId:-1},adjust:["ts"]},m.ip(l));}};c.prototype.hga=function(d){var h,m,l;h=d.url || d.mediaRequest.url;if(h){d=this.FV;h=d.deb(h);m=this.EB[h];l=this.xG[h + "-" + h];m && m.OC && this.config.aB && (d.rdb(m.error.zVa,!1),this.EI && (m={type:"logdata",target:"endplay",fields:{}},m.fields.errst={type:"array",value:{ts:g.time.ma(),id:-1,servid:h},adjust:["ts"]},d.ip(m)),this.EB[h]=void 0,l && l.jr && clearTimeout(l.jr));}};c.prototype.reset=function(){var d,h,m;d=this.xG;for(m in d){d.hasOwnProperty(m) && (h=d[m + "-" + m]) && h.jr && clearTimeout(h.jr);}this.xG={};this.EB={};};q.exports=c;},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.bEa=void 0;c=a(1);k=a(13);g=c.__importDefault(a(5)).default.Sx;q=(function(f){function d(h){var m;m=f.call(this) || this;m.ZTa=h;m.u7=h.groupId;m.vj=new k.Fg();m.vj.on(m,g.tf.uU,m.yma);m.vj.on(m,g.tf.ZH,m.JV);return m;}c.__extends(d,f);d.prototype.bYb=function(h,m,l){g.prototype.open.call(this,h,m,l);};d.prototype.E3b=function(h){this.u7=h;};Object.defineProperties(d.prototype,{groupId:{get:function(){return this.u7;},enumerable:!1,configurable:!0}});d.prototype.sd=function(){this.vj && this.vj.clear();g.prototype.sd.call(this);};d.prototype.yma=function(h){this.ZTa.H_b(h.probed,h.affected);this.sd();};d.prototype.JV=function(h){this.ZTa.E_b(h.probed,h.affected);this.sd();};return d;})(g);b.bEa=q;},function(q,b,a){var c,k,g,f,d,h,m,l;Object.defineProperties(b,{__esModule:{value:!0}});b.pIa=void 0;c=a(1);k=a(151);g=a(444);f=a(17);d=c.__importDefault(a(5));q=a(87);h=a(447);m=a(4);l=a(132);a=(function(n){function p(r,t,w,v,u,x,y,z,A,B,D){var C;C=n.call(this,r) || this;C.Ce=r;C.J=t;C.K=w;C.ip=v;C.vF=x;C.Hba=y;C.HA=z;C.qUa=A;C.bi=B;C.gTa=[void 0,void 0];C.vV=null !== D && void 0 !== D?D:{iy:[Object.create(null),Object.create(null)]};u?C.vZ=u:(C.bf=l.wr.instance.Ov("headers","" + C.Ce.M,!0,!1,{},C.K),C.bf.xa());return C;}c.__extends(p,n);Object.defineProperties(p.prototype,{iy:{get:function(){return this.vV.iy;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{ZD:{get:function(){return this.vV.ZD;},set:function(r){this.vV.ZD=r;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{DN:{get:function(){return this.vV.DN;},set:function(r){this.vV.DN=r;},enumerable:!1,configurable:!0}});p.prototype.sd=function(){var r;r=this;this.iy.forEach(function(t,w){for(var v in t){t[v].sd();r.Bqa(w,v);}});this.bf && l.wr.instance.hP(this.bf);this.bf=void 0;};p.prototype.xq=function(r,t){return this.iy[r][t];};p.prototype.Zaa=function(){return !(!this.ZD || !this.ZD.length);};p.prototype.wpa=function(){this.ZD=void 0;};p.prototype.ZR=function(r){this.ZD=r;};p.prototype.zCa=function(){var r,t;if(!this.Zaa() || this.DN)return !1;for(k.po.ks(1);0 < this.ZD.length;){r=this.ZD.shift();t=this.Ce.Qy(1,r);if(t && !this.qPb(r) && t.Bw)return (this.DN=r,this.cga(t,{offset:0,hS:!0}));}return !1;};p.prototype.PCa=function(r,t){var w;w=this;t.forEach(function(v){var u;u=w.xq(r,v.Za);u && !v.Ie && (u.stream.Ie?v.C9(u.stream):(u.L0 || (u.L0=[]),u.L0.push(w.Ce)));});};p.prototype.tL=function(r,t,w){var v,u,x;v=this;x=this.Ce;f.fg.forEach(function(y){var z,A,B,D,C;if(x.Fc(y) && (void 0 === w || y === w)){D=r[y];m.assert(D && x.getTrackById(D.trackId) === D);D=D.zd;if(x.pl)v.J.warn("requestHeadersFromManifest, shutdown detected");else if(x.Tn.t3(x.M,D)){C=null !== (B=null === (A=null === (z=v.vF(y)) || void 0 === z?void 0:z.CK) || void 0 === A?void 0:A.bitrate) && void 0 !== B?B:0;z=h.Lra(D,C);void 0 === z && v.J.warn("Unable to find stream for bitrate " + C);z=D[z];(A=x.xq(y,z.Za)) && A.stream.Z?x.S7b(y,A):(y={offset:0,hS:!1,hF:1 === y,Iy:!0,WQ:!v.Hba(x)},x.gZa(z,y,t));}else v.J.warn("requestHeadersFromManifest, unable to update urls");}});x.LZ=!0;null === (u=this.bi) || void 0 === u?void 0:u.call(this,x.bc).m9();};p.prototype.lH=function(r,t){var w,v,u,x;w=this.K;v=this.xq(r.mediaType,r.Za);if(v)return (v.stream.Z || v.hS && this.XXa(v),!1);v=this.Ctb;u=this.Dtb;if(void 0 !== w.oxa && void 0 !== v && void 0 !== u){x=d.default.time.ma();if(x - v < w.oxa || x - u < w.oxa)return !1;}r=this.cga(r,{offset:0},void 0,void 0,t);this.Dtb=d.default.time.ma();return r;};p.prototype.cga=function(r,t,w,v,u){var x,y,z,A,B;A=r.mediaType;k.po.ks(A);B=r.Za;if(this.Urb(B,! !t.Iy))return (null === (x=this.qUa) || void 0 === x?void 0:x.call(this),!1);if(x=this.xq(A,B))r=!1;else {x=c.__assign(c.__assign({},t),{ga:null !== (y=t.ga) && void 0 !== y?y:this.Gsb(r)});y=! !x.hF;B=! !x.WQ;this.vZ?u=this.vZ(A,! !x.Iy,y,B,! !w):u || (u=this.bf);m.assert(u);r.url && (this.vF(A).Zva=r.url);x=r=this.eSa(r,u,x);if(!r.gR())return (this.Ce.sh("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1);r=!0;}t.Iy && v && (this.Ce.di[A]=x);null === (z=this.qUa) || void 0 === z?void 0:z.call(this);return r;};p.prototype.en=function(){var r,t;r=this;t=[];this.iy.forEach(function(w,v){var x;k.po.ks(v);for(var u in w){v=w[u];x=v.QCa();1 === x?t.push(v):2 === x && r.Ce.sh("swapUrl failure");}});return t;};p.prototype.Nm=function(r){var t,w;t=r.mediaType;w=k.po.ks(t);this.Ce.pl?w.warn("header onrequestcomplete ignored, session shutdown:",r.toString()):(this.ip({type:"logdata",target:"startplay",cb:{usedNativeDataView:r.K8b}}),r.jR > r.fYb && (this.gTa[t]=r.jR),r.hS && this.XXa(r),this.ftb(r),this.Ctb=d.default.time.ma(),this.Ce.vw.emit("onHeaderRequestComplete",r));this.ew(r);};p.prototype.u8=function(r,t,w){var v;v=r.mediaType;k.po.ks(v);v=this.Ce.Qy(v,r.Za);if(t !== ! !r.Ej)return !1;this.eVa(r);r.ayb(v);this.NRa(r);this.Ce.vw.emit("onHeaderFromCache",{header:r,nKb:w});return !0;};p.prototype.oO=function(r,t){var w,v,u,x;w=[];v=this.iy[r];for(u in v){x=v[u];x && !x.stream.Z && x.lu === t && (this.Bqa(r,u),w.push({stream:x.stream,offset:x.offset,ga:x.ga,hF:x.hF,Iy:x.Iy,WQ:x.WQ,sya:x.sya}),x.sd());}return w;};p.prototype.mAa=function(r){var t;t=this;r.forEach(function(w){t.cga(w.stream,w);});};p.prototype.eVa=function(r){this.iy[r.mediaType][r.Za]=r;};p.prototype.qPb=function(r){return ! !this.xq(1,r);};p.prototype.ftb=function(r){var t,w,v,x;t=this.K;w=k.po.ks(r.mediaType);v=r.stream.Z;if(t.oqa){t=v.length;w.trace("fragment count:",t);for(var u=0;u < t;++u){x=v.get(u);w.trace("fragment: " + u + ", startPts: " + x.da + ", duration: " + x.duration + ", offset: " + x.offset);}}this.NRa(r);};p.prototype.NRa=function(r){var t,w;t=r.mediaType;w=r.Za;k.po.ks(t);r.L0 && (r.L0.forEach(function(v){(v=v.Qy(t,w)) && v !== r.stream && !v.Ie && v.C9(r.stream);}),r.L0=void 0);this.Ce.WOb(r);};p.prototype.eSa=function(r,t,w){var v,u;v=this;u=k.po.ks(r.mediaType);r=new g.aha(r,this.K,t,w,this,!1,u);r.addListener("headerRequestCancelled",function(x){v.etb(x.request);});r.xa(void 0);this.eVa(r);return r;};p.prototype.Urb=function(r,t){return this.HA && (r=this.HA.E_(this.Ce.L,r)) && this.u8(r,!1,t)?!0:!1;};p.prototype.Gsb=function(r){var t,w,v,u;t=r.dr;w=r.R;v=w.duration;u=this.K;return w.Pf.jf?u.$0a?u.$0a:u.fba:u.H8b && t?t.offset + t.size:(r=this.gTa[r.mediaType])?r + 128:u.qra?2292 + 12 * Math.ceil(v / 2E3):u.fba;};p.prototype.etb=function(r){this.Bqa(r.mediaType,r.Za);};p.prototype.Bqa=function(r,t){delete this.iy[r][t];};p.prototype.XXa=function(r){this.DN === r.Za && (this.DN=void 0);};return p;})(q.yx);b.pIa=a;},function(q,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.mPa=void 0;c=a(1);k=a(13);q=(function(g){function f(d,h,m,l){var n;n=g.call(this) || this;n.J=d;n.track=h;n.iq=!1;n.$la=!1;n.Kh=new k.Fg();n.Kh.on(h,"networkfailing",function(){n.emit("networkfailing");});n.Kh.on(h,"error",function(){n.J.warn("requestQueue got error");n.emit("error");});if(m)(n.iq=!0,Promise.resolve().then(function(){return n.emit("created");}));else n.Kh.on(h,"created",function(){n.iq=!0;n.emit("created");});n.$la=l;return n;}c.__extends(f,g);Object.defineProperties(f.prototype,{H$:{get:function(){return this.track.H$;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Zh:{get:function(){return this.track.Zh;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{nk:{get:function(){return this.track.nk;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{BY:{get:function(){return this.track.BY;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});f.prototype.xa=function(){var d,h;this.$la || (null === (h=(d=this.track).xa) || void 0 === h?void 0:h.call(d),this.$la=!0);};f.prototype.Aw=function(){return this.track.Aw();};f.prototype.toString=function(){return this.track.toString();};f.prototype.toJSON=function(){return this.track;};f.prototype.$r=function(){this.Kh.clear();};return f;})(k.EventEmitter);b.mPa=q;},function(q,b,a){var h,m,l,n,p,r,t;function c(w){var v,u,x;w=w.parent;v=!1;if(w && w.children){u={};u[r.ln]=[];u[r.om]=[];u[r.TEMPORARY]=[];x=w.children;x.forEach(function(y){y && u[y.Of].push(y);});0 < u[r.ln].length || (u[r.om].length === x.length?w.Of !== r.om && (w.Of=r.om,p.error("PERM failing :",l.default.mi.name[w.Uo] + " " + w.id),v=!0):(w.Of === r.ln && (w.Of=r.TEMPORARY,p.error("TEMP failing :",l.default.mi.name[w.Uo] + " " + w.id),v=!0),u[r.TEMPORARY].forEach(function(y){y.Of=r.ln;})),v && c(w));}}function k(w){var v;if((w=w.parent) && 0 < w.children.length && w.Of !== r.ln){v={};v[r.ln]=[];v[r.om]=[];v[r.TEMPORARY]=[];w.children.forEach(function(u){u && v[u.Of].push(u);});0 < v[r.ln].length && (w.Of=r.ln,k(w));}}function g(w){return w.Of !== r.ln;}function f(w){switch(w.Of){case r.ln:return "OK";case r.om:return "FAILED PERMANENTLY";case r.TEMPORARY:return "FAILED TEMPORARILY";default:return "INVALID";}}function d(w,v){if(w.Of === r.TEMPORARY || w.Of === r.om && v)w.Of=r.ln;w.children && w.children.forEach(function(u){u && d(u,v);});}Object.defineProperties(b,{__esModule:{value:!0}});b.Nia=void 0;h=a(1);m=h.__importStar(a(10));q=a(13);l=h.__importDefault(a(32));n=h.__importDefault(a(5));p=new n.default.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(w){w[w.ln=0]="OK";w[w.TEMPORARY=1]="TEMPORARY";w[w.om=2]="PERMANENT";})(r || (r={}));(function(w){w[w.Ux=0]="STARTUP";w[w.dqb=1]="REBUFFER";})(t || (t={}));a=(function(w){var F50;F50=2;function v(u,x,y,z,A){var G50,B;G50=2;for(;G50 !== 15;){switch(G50){case 4:B.config=z;B.yub=A;B.K_b=t.Ux;B.hk={};B.jm={};B.urls={};B.streams={};G50=13;break;case 5:B.Ji=y;G50=4;break;case 2:B=w.call(this) || this;B.jc=x;G50=5;break;case 13:var z49="n";z49+="et";z49+="w";z49+="o";z49+="rk";B.xC=[];B.nda=!1;B.Mq={id:z49,Uo:l.default.mi.pA,Of:r.ln,rz:void 0,parent:void 0,children:B.xC};B.G7=null;B.FL=null;B.VR=l.default.uA.Ux;G50=18;break;case 18:var s49="1";s49+="SIYbZ";s49+="r";s49+="N";s49+="JCp9";B.rO(u,l.default.uA.Ux);s49;return B;break;}}}for(;F50 !== 26;){switch(F50){case 27:return v;break;case 2:h.__extends(v,w);v.prototype.kOb=function(){var H50;H50=2;for(;H50 !== 1;){switch(H50){case 2:return this.xC[0].Jb;break;}}};v.prototype.Zv=function(){var I50;I50=2;for(;I50 !== 1;){switch(I50){case 2:return g(this.Mq);break;}}};v.prototype.deb=function(u){var J50;J50=2;for(;J50 !== 5;){switch(J50){case 1:return u.parent.id;break;case 2:J50=(u=this.urls[u]) && u.parent?1:5;break;}}};v.prototype.pca=function(u){var K50;K50=2;for(;K50 !== 5;){switch(K50){case 2:K50=(u=this.urls[u]) && u.Xc?1:5;break;case 1:return u.Xc.location;break;}}};F50=9;break;case 9:v.prototype.Nfb=function(u){var L50;L50=2;for(;L50 !== 5;){switch(L50){case 2:L50=(u=this.urls[u])?1:5;break;case 1:return u.stream;break;}}};v.prototype.rO=function(u,x){var M50,y;M50=2;for(;M50 !== 19;){switch(M50){case 8:u.audio_tracks.forEach(function(z){var Q50;Q50=2;for(;Q50 !== 1;){switch(Q50){case 4:y.Pbb(z);Q50=9;break;Q50=1;break;case 2:y.Pbb(z);Q50=1;break;}}});u.video_tracks.forEach(function(z){var R50;R50=2;for(;R50 !== 1;){switch(R50){case 4:y.Pbb(z);R50=2;break;R50=1;break;case 2:y.Pbb(z);R50=1;break;}}});u=this.xC.filter(function(z){var S50,A;S50=2;for(;S50 !== 4;){switch(S50){case 2:A=z.jm.every(function(B){var T50;T50=2;for(;T50 !== 1;){switch(T50){case 2:return 0 === B.urls.length;break;}}});A && (z.jm.forEach(function(B){var U50;U50=2;for(;U50 !== 1;){switch(U50){case 2:y.jm[B.id]=void 0;U50=1;break;}}}),y.hk[z.id]=void 0,z.parent=void 0,z.children.length=0,z.streams={});return !A;break;}}});u.forEach(function(z){var V50;V50=2;for(;V50 !== 1;){switch(V50){case 2:z.jm.sort(function(A,B){var W50;W50=2;for(;W50 !== 1;){switch(W50){case 4:return A.oc * B.oc;break;W50=1;break;case 2:return A.oc - B.oc;break;}}});V50=1;break;}}});M50=13;break;case 2:y=this;void 0 === x && (x=l.default.uA.Ynb);u.locations.forEach(function(z){var N50,B,D,C,A;N50=2;for(;N50 !== 7;){switch(N50){case 4:(B=[],D=y.Ji.get(A),C=y.Mq);z={id:A,Uo:l.default.mi.LOCATION,Of:r.ln,oc:z.rank,level:z.level,weight:z.weight,rz:void 0,parent:C,children:B,jm:B,streams:{},Jb:D};y.hk[z.id]=z;C.children.push(z);N50=7;break;case 1:N50=y.hk[A]?5:4;break;case 2:A=z.key;N50=1;break;case 5:(y.hk[A].oc=z.rank,y.hk[A].level=z.level,y.hk[A].weight=z.weight);N50=7;break;}}});this.G7=n.default.time.ma();this.xC.sort(function(z,A){var O50;O50=2;for(;O50 !== 1;){switch(O50){case 2:return z.level - A.level || z.oc - A.oc;break;}}});u.servers.forEach(function(z){var P50,A,B,D;P50=2;for(;P50 !== 14;){switch(P50){case 2:A=z.id;P50=1;break;case 5:y.jm[A].oc=z.rank;P50=14;break;case 4:B=y.hk[z.key];P50=3;break;case 9:D=[];z={id:A,Uo:l.default.mi.iI,Of:r.ln,rz:void 0,parent:B,children:D,urls:D,name:z.name,type:z.type,oc:z.rank,location:B};y.jm[z.id]=z;P50=6;break;case 1:P50=y.jm[A]?5:4;break;case 6:B.children.push(z);P50=14;break;case 3:P50=B?9:14;break;}}});M50=8;break;case 10:this.VR=x;this.dump();M50=19;break;case 13:this.xC=u;this.Mq.children=u;this.FL=null;M50=10;break;}}};v.prototype.t3=function(u,x){var X50,D,y,z,A,B,C;X50=2;for(;X50 !== 19;){switch(X50){case 3:D=l.default.Rj.zD;z.g0 && (D=l.default.Rj.yD);this.jc.location && A.confidence >= D && (u=this.hk[this.jc.location]) && (u.Jb=A);m.Gb(this.FL) && (this.FL=this.X7b());X50=6;break;case 12:X50=!C.length?11:10;break;case 4:return !1;break;case 5:X50=g(this.Mq)?4:3;break;case 2:(y=this,z=this.config,A=this.jc.get(),B=0);n.default.Mv && n.default.Mv(u);X50=5;break;case 6:X50=!this.FL?14:13;break;case 13:C=this.FL;X50=12;break;case 10:var j49="(empty stream";j49+=" list";j49+=")";var H49="Did not";H49+=" find a URL fo";H49+="r";H49+=" ANY";H49+=" stream...";var l49="n";l49+="et";l49+="wor";l49+="kFaile";l49+="d";var C49="Network ";C49+="ha";C49+="s fai";C49+="led, not updating stream selection";x.forEach(function(F,G){var Y50,E;Y50=2;for(;Y50 !== 5;){switch(Y50){case 2:var G49=" Kbp";G49+="s";G49+=")";var a49=" ";a49+="(";var c49="]";c49+=" ";var n49="Failing";n49+=" strea";n49+="m [";E=F.id;C.some(function(I){var Z50,K,L;Z50=2;for(;Z50 !== 8;){switch(Z50){case 2:K=I.streams[E];Z50=1;break;case 1:Z50=!K?5:4;break;case 5:return !1;break;case 4:L=K.hk[0];void 0 === F.sea && (F.sea=L.id,F.gza=K.v3[L.id][0].Xc.id);return K.v3[I.id].some(function(H){var a60,P;a60=2;for(;a60 !== 11;){switch(a60){case 2:a60=g(H.Xc)?1:5;break;case 1:return (H.Xc.Of === r.TEMPORARY && (F.Of=r.TEMPORARY),z.Xw && F.Xc === H.Xc.id && H.Xc.rz && (F.rz=H.Xc.rz),!1);break;case 13:F.Jb=z.xoa?I.Jb.confidence >= l.default.Rj.yD || A.confidence < D?I.Jb:A:A.confidence === l.default.Rj.HAVE_NOTHING || I.Jb.confidence >= l.default.Rj.yD?I.Jb:A;return !0;break;case 3:var F49="l";F49+="o";F49+="cat";F49+="i";F49+="onfailover";var f49="s";f49+="er";f49+="verf";f49+="ailover";var b49="perform";b49+="an";b49+="ce";var V49="unk";V49+="no";V49+="wn";P=V49;F.location !== I.id && (z.Xw?F.Bva=I.id === L.id:P=I !== C[0]?"" + l.default.uA.lha:void 0 === F.location?"" + l.default.uA.Ux:m.ta(F.t7a) || F.t7a === I.id?m.ta(F.w7a) || F.w7a === H.Xc.id?b49:f49:F49,F.location=I.id,F.iwa=I.level,F.wu=P);F.url=H.url;F.Xc=H.Xc.id;F.GL=H.Xc.name;F.xu=H.Xc.type;a60=13;break;case 4:return !1;break;case 5:a60=g(H)?4:3;break;}}});break;}}})?(F.SB=!1,F.Of=void 0,F.zw && ++B):F.Of && F.Of === r.TEMPORARY?y.Mq.Of=r.TEMPORARY:F.SB || (p.warn(n49 + G + c49 + E + a49 + F.bitrate + G49),F.VBb(),F.SB=!0);Y50=5;break;}}});return g(this.Mq)?(p.warn(C49),this.nda=!0,this.emit(l49,this.Mq.Of === r.om),!1):B?!0:(p.warn(H49 + (x.length?"":j49)),this.pu(l.default.mi.pA,!0),!1);break;case 11:return (this.pu(l.default.mi.pA,!1),!1);break;case 14:return (this.pu(l.default.mi.pA,!1),!1);break;}}};v.prototype.m3b=function(u,x){var b60,y,z;b60=2;for(;b60 !== 4;){switch(b60){case 2:(y={},z=/^http(s?):\/\/([^\/:]+):?([0-9]*)/);m.forEach(this.urls,function(A,B){var c60,F,G,D,C;c60=2;for(;c60 !== 7;){switch(c60){case 5:c60=C && 4 === C.length?4:7;break;case 4:var x49="8";x49+="0";var R49="4";R49+="4";R49+="3";(F="s" === C[1],G=C[2]);C=C[3];C.length || (C=F?R49:x49);m.Ag(G) && m.Ag(C) && G === u && C == x && (D?D.push(B):y[A]=[B]);c60=7;break;case 2:A=A.parent?A.parent.id:"";(D=y[A],C=B.match(z));c60=5;break;}}});return y;break;}}};F50=14;break;case 14:v.prototype.pu=function(u,x,y,z){var d60,F,C,e60,A,B,D,f60,G;d60=2;for(;d60 !== 42;){switch(d60){case 34:this.FL=null;this.VR=l.default.uA.rg;z && (this.VR=l.default.uA.Opb,A.rz=z);this.dump();d60=42;break;case 15:var S49="<u";S49+="r";S49+="l for ";x.unshift(S49 + F.stream.bitrate + ">");d60=19;break;case 18:d60=e60 === l.default.mi.LOCATION?17:16;break;case 6:x=[];d60=13;break;case 30:d60=f60 === r.TEMPORARY?24:29;break;case 5:A=A.parent;d60=1;break;case 16:d60=e60 === l.default.mi.URL?15:19;break;case 7:var O49=" ";O49+="a";O49+="t";O49+=" ";var g49=" failure report";g49+="ed";g49+=" for ";var Z49="TE";Z49+="M";Z49+="P";var M49="P";M49+="E";M49+="R";M49+="M";u=(x?M49:Z49) + g49 + l.default.mi.name[u] + O49;d60=6;break;case 9:y=p;C=y.warn;d60=7;break;case 11:e60=F.Uo;d60=e60 === l.default.mi.iI?10:18;break;case 24:var T49="netw";T49+="orkFail";T49+="ed";var N49="Emitting ";N49+="networkFa";N49+="iled,";N49+=" permanent =";A.Of=D;c(A);this.nda=this.nda || g(this.Mq);D=this.Mq.Of;D > B && (p.warn(N49,D === r.om),this.emit(T49,D === r.om));d60=34;break;case 3:d60=D !== A.Of?9:42;break;case 28:d60=44;break;case 13:F=A;d60=12;break;case 1:d60=A && A.parent && A.Uo !== u?5:4;break;case 43:var B49="Unable to find failure e";B49+="ntity ";B49+="f";B49+="or URL ";a000.s59(4);p.warn(a000.z59(B49,y));d60=42;break;case 29:d60=f60 === r.ln?24:28;break;case 44:var q49="In";q49+="valid ";q49+="f";q49+="ailur";q49+="e state";throw Error(q49);d60=24;break;case 19:F=F.parent;d60=12;break;case 4:d60=A?3:43;break;case 2:(A=u !== l.default.mi.pA && y?this.urls[y]:this.Mq,B=this.Mq.Of,D=x?r.om:r.TEMPORARY);d60=1;break;case 20:x.unshift(G.id + "(" + G.name + ")");d60=19;break;case 17:x.unshift(F.id);d60=19;break;case 25:return;break;case 12:d60=F?11:27;break;case 26:f60=A.Of;d60=f60 === r.om?25:30;break;case 10:G=F;d60=20;break;case 27:var h49=" ";h49+=":";h49+=" ";h49+="wa";h49+="s ";C.call(y,u + (x.length?"/" + x.join("/"):"") + h49 + f(A));d60=26;break;}}};v.prototype.rdb=function(u,x){var g60;g60=2;for(;g60 !== 3;){switch(g60){case 1:(d(u,x),k(u));g60=5;break;case 7:(d(u,x),k(u));g60=6;break;g60=5;break;case 8:g60=(u=this.jm[u])?7:6;break;g60=(u=this.jm[u])?1:5;break;case 2:g60=(u=this.jm[u])?1:5;break;case 4:this.VR=l.default.uA.zja;g60=3;break;case 5:this.FL=null;g60=4;break;}}};v.prototype.Rea=function(){var h60;h60=2;for(;h60 !== 1;){switch(h60){case 4:d(this.Mq,+3);h60=2;break;h60=1;break;case 2:d(this.Mq,!1);h60=1;break;}}};v.prototype.ip=function(u){var i60,x;i60=2;for(;i60 !== 5;){switch(i60){case 2:null === (x=this.yub) || void 0 === x?void 0:x.call(this,u);i60=5;break;}}};v.prototype.pk=function(){var j60;j60=2;for(;j60 !== 1;){switch(j60){case 2:this.L1b(t.dqb);j60=1;break;}}};v.prototype.Rb=function(){var k60;k60=2;for(;k60 !== 1;){switch(k60){case 2:this.config.ITb && this.gZb();k60=1;break;}}};v.prototype.Pbb=function(u){var l60,x;l60=2;for(;l60 !== 5;){switch(l60){case 2:x=this;u.streams.forEach(function(y){var m60,z,A,B;m60=2;for(;m60 !== 6;){switch(m60){case 2:(z=y.downloadable_id,A=x.streams[z]);m60=1;break;case 1:m60=m.ta(A)?5:9;break;case 3:x.streams[A.id]=A;m60=9;break;case 9:y.urls.forEach(function(D){var n60,C,F,G;n60=2;for(;n60 !== 6;){switch(n60){case 2:(C=D.url,F=x.urls[C]);n60=1;break;case 1:n60=(D=x.jm[D.cdn_id])?5:6;break;case 5:m.ta(F) && (F={id:C,Uo:l.default.mi.URL,Of:r.ln,rz:void 0,parent:D,children:[],url:C,Xc:D,stream:A},x.urls[C]=F,D.children.push(F));G=D.location;A.urls.push(F);0 === A.hk.filter(function(E){var o60;o60=2;for(;o60 !== 1;){switch(o60){case 2:return E.id === G.id;break;}}}).length && A.hk.push(G);G.streams[A.id]=A;(C=A.v3[G.id])?C.push(F):A.v3[G.id]=[F];n60=6;break;}}});m.Wf(A.v3,function(D){var p60;p60=2;for(;p60 !== 1;){switch(p60){case 2:D.sort(function(C,F){var q60;q60=2;for(;q60 !== 1;){switch(q60){case 4:return C.Xc.oc + F.Xc.oc;break;q60=1;break;case 2:return C.Xc.oc - F.Xc.oc;break;}}});p60=1;break;}}});A.hk=A.hk.sort(function(D,C){var r60;r60=2;for(;r60 !== 1;){switch(r60){case 2:return D.level - C.level || D.oc - C.oc;break;}}});m60=6;break;case 5:var t49="n";t49+="o";t49+="n";t49+="e";t49+="-";B=y.content_profile;A={id:z,bitrate:y.bitrate,nb:y.vmaf,type:y.type,profile:B,clear:0 === B.indexOf(t49),zw:!0,urls:[],v3:{},hk:[]};m60=3;break;}}});l60=5;break;}}};F50=18;break;case 18:v.prototype.X7b=function(){var s60,u,x,y,z;s60=2;for(;s60 !== 6;){switch(s60){case 1:s60=0 === y.length?5:4;break;case 2:(u=this,x=this.config,y=this.xC.filter(function(A){var t60;t60=2;for(;t60 !== 1;){switch(t60){case 2:return !g(A) && 0 !== A.level;break;}}}));s60=1;break;case 5:return null;break;case 4:z=n.default.time.ma();s60=3;break;case 3:s60=null === this.G7 || this.G7 + x.hwa < z?9:8;break;case 9:(y.forEach(function(A){var u60;u60=2;for(;u60 !== 1;){switch(u60){case 2:A.id !== u.jc.location && (A.Jb=u.Ji.get(A.id));u60=1;break;}}}),this.G7=z);s60=8;break;case 8:y.sort(function(A,B){var v60;v60=2;for(;v60 !== 1;){switch(v60){case 2:return A.level - B.level || A.oc - B.oc;break;}}});return y;break;}}};v.prototype.L1b=function(u){var w60,x;w60=2;for(;w60 !== 4;){switch(w60){case 2:x=this.jc.location;w60=1;break;case 1:this.K_b=u;this.xC.forEach(function(y){var x60;x60=2;for(;x60 !== 1;){switch(x60){case 2:y.id !== x && y.Jb && y.Jb.confidence > l.default.Rj.zD && (y.Jb.confidence=l.default.Rj.zD);x60=1;break;}}});w60=4;break;}}};v.prototype.gZb=function(){var y60,u;y60=2;for(;y60 !== 5;){switch(y60){case 2:u=this;this.nda || this.xC.forEach(function(x){var z60;z60=2;for(;z60 !== 1;){switch(z60){case 2:x.Of === r.TEMPORARY && u.Ji.fail(x.id,n.default.time.ma());z60=1;break;}}});y60=5;break;}}};v.prototype.dump=function(){};F50=27;break;}}})(q.EventEmitter);b.Nia=a;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.iEa=void 0;c=a(25);q=(function(){function k(g){this.config=g;}k.prototype.S_b=function(g){var f,d,h;f=this.config;d=[];h=[];g.forEach(function(r,t){void 0 === r.nb?h.push(t):d.push(t);});if(0 !== h.length)for(var m=-1,l=-1,n=function(r){var t,w,v,u,x,y;t=h[r];w=g[t];if(0 === r || t !== h[r - 1] + 1)(m=d[c.L8(d,function(z){return z < t;})] || -1,l=d[c.Ko(d,function(z){return z > t;})] || -1);v=0;u=f.VUb;r=0;x=f.WUb;-1 < l && (u=g[l].bitrate,x=g[l].nb);-1 < m && (r=g[m].nb,v=g[m].bitrate);u=Math.log(u);v=0 === v?0:Math.log(v);y=Math.log(w.bitrate);w.y$=Math.max(0,Math.min(110,Math.round((r * (u - y) + x * (y - v)) / (u - v) * 100) / 100));},p=0;p < h.length;p++){n(p);}};return k;})();b.iEa=q;},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r;Object.defineProperties(b,{__esModule:{value:!0}});b.mLa=void 0;c=a(21);k=a(4);g=a(979);f=a(980);d=a(981);h=a(982);m=a(983);l=a(984);n=a(985);p=a(986);r=a(987);q=(function(){function t(w,v,u,x){this.config=w;this.mediaType=v;this.dd=u;this.console=x;this.o9a=new r.ZKa(x);}t.prototype.append=function(w,v){var u,x,y,z,A;x=v.endOfStream;y=v.$F;z=v.j0;void 0 === this.track?this.qQ(w.stream):this.track !== w.stream.track && (k.assert(this.track.$),k.assert(w.stream.track.$),this.track=w.stream.track);k.assert(void 0 !== this.Dt);v={T:w,offset:null !== (u=w.sza) && void 0 !== u?u:c.O.ib,Oe:this.config.cfa,ck:!1};A=this.Dt.reduce(function(B,D){return D.append(B,{endOfStream:x,$F:y,j0:z});},v);v=A.T;u=A.offset;A=A.ck;v.na && w.Lj(v.na);if(A || !this.o9a)return {offset:u,ck:A};w=this.o9a.na(w);return {offset:u,ck:!w.fa,twa:w.twa,response:w.response};};t.prototype.reset=function(){this.Dt=this.track=void 0;};t.prototype.qQ=function(w){var v,u;this.track=w.track;this.Dt=[];if(0 === this.mediaType){this.config.cfa && this.Dt.push(new d.zPa(this.config,w.track,this.console));u=this.Uoa(w);u.equal(c.O.ib)?this.config.Io && w.Qf && this.Vua(w.R.M) && this.Dt.push(new l.oJa(this.config)):this.Dt.push(new g.gka(u));this.config.S_ || (this.console.log("MediaSplicer: NegativePtsGuard: " + u.Bc() + ", " + (null === (v=w.Qf) || void 0 === v?void 0:v.Bc())),this.Dt.push(new h.HLa(this.config,w,this.console)));this.MRb()?(this.config.Oh || this.Dt.push(new n.mEa(w,this.config,this.dd,this.console)),this.Dt.push(new f.TLa(this.config,w,this.console)),this.B4b(w) && (k.assert(w.$),this.Dt.push(this.GCb(w.Qf || c.O.ib,w.$,u)))):this.Dt.push(new p.nEa(this.console));}};t.prototype.Vua=function(w){return this.config.Vua || this.config.X5a && -1 !== this.config.X5a.indexOf(w);};t.prototype.Uoa=function(w){return g.gka.Uoa(this.config,w.Qf,this.dd,this.console);};t.prototype.MRb=function(){return !this.config.vL;};t.prototype.B4b=function(w){return this.config.r7b && this.config.Io && ! !w.Qf;};t.prototype.GCb=function(w,v,u){return new m.bRa(w.Ia(u),v,this.console);};return t;})();b.mLa=q;},function(q,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.gka=void 0;c=a(21);k=a(15);q=(function(){function g(f){this.Qf=f;}g.Uoa=function(f,d,h,m){var l;l=c.O.ib;d && (h=null === h || void 0 === h?void 0:h.Gfc,f.A8b && void 0 !== h && 0 <= h?(f=new c.O(h,48E3),l=d.add(f),k.aa && m.trace("Adjusting profile timestamp offset of " + d + (" by DPI assumed delay of " + f) + (" for ASE applied offset of " + l + "."))):f.iJ && (l=d));return l;};g.prototype.append=function(f){var d,h;d=f.Oe;h=f.ck;return {T:f.T,offset:f.offset.add(this.Qf),Oe:d,ck:h};};return g;})();b.gka=q;},function(q,b,a){var k,g,f,d;function c(h){return h.toString() + " (nrdp: " + h.zL + "ms)";}Object.defineProperties(b,{__esModule:{value:!0}});b.TLa=void 0;k=a(21);g=a(272);f=a(15);d=a(4);q=(function(){function h(m,l,n){this.console=n;this.offset=k.O.ib;this.Qf=m.Io?l.Qf:void 0;d.assert(l.$);this.$=l.$;}h.prototype.append=function(m){var l,n,p;if(m.ck)return m;l=m.T;n=m.offset;p=m.Oe;void 0 !== this.p7a && (d.assert(void 0 !== this.Lva),l.Ic.add(m.offset).equal(this.p7a)?(m=this.zAb(l,n.add(this.offset)).V - this.Lva,0 > m?this.offset=this.offset.add(k.O.Lw):0 === m?this.offset.lessThan(k.O.ib) && (this.offset=this.offset.add(k.O.Lw)):1 === m?this.offset.greaterThan(k.O.ib) && (this.offset=this.offset.Ia(k.O.Lw)):this.offset=this.offset.Ia(k.O.Lw)):this.offset=k.O.ib);this.Lva=this.yAb(l,n.add(this.offset)).V;this.p7a=l.Ud.add(n);return {T:l,offset:n.add(this.offset),Oe:p,ck:!1};};h.prototype.zAb=function(m,l){var n,p;m=this.xVa(m.Ic);n=g.Kw(m).add(g.Kw(l));p=m.add(l).Ia(n);f.aa && this.console.trace("NrdpRounding: content start " + c(m) + ", timestamp offset: " + c(l) + ", start rounding error: " + g.Kw(m).toString() + ", offset rounding error: " + g.Kw(l).toString() + ", total error: " + n.toString() + ", expected nrdp value:" + p.Bc() + ", (" + m.zL + l.zL + "ms), last fragment end nrdp: " + this.Lva);return p;};h.prototype.yAb=function(m,l){var n,p,r;n=this.$;m=this.xVa(m.Ud);p=g.Kw(m.Ia(n)).add(g.Kw(n)).add(g.Kw(l));r=m.add(l).Ia(p);f.aa && this.console.trace("NrdpRounding: content end: start of last frame:" + c(m.Ia(n)) + ", frame duration: " + c(n) + ", offset: " + c(l) + ", timestamp rounding error: " + g.Kw(m.Ia(n)).toString() + ", frame duration rouding error: " + g.Kw(n).toString() + ", offset rounding error: " + g.Kw(l).toString() + ", total rounding error: " + p.toString() + ", expected nrdp value: " + r.Bc() + ", (" + m.Ia(n).zL + n.zL + l.zL + "ms)");return r;};h.prototype.xVa=function(m){return this.Qf?m.Ia(this.Qf):m;};return h;})();b.TLa=q;},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.zPa=void 0;c=a(21);k=a(4);g=a(15);q=(function(){function f(d,h,m){this.config=d;this.console=m;this.vy=c.O.ib;k.assert(h.$);this.$=h.$;d=h.zd[0].profile;this.dda=this.bNb(d,this.$);this.Gca=this.$Mb(d,this.$);}f.prototype.append=function(d,h){var m,l,n,p;if(d.ck)return d;m=d.T;l=d.offset;d=d.Oe;n=h.$F;h=h.j0;if(this.Aya){p=this.ZVb(m,this.Aya);m.na && this.poa(p)?(g.aa && this.console.trace("SeamlessAudio: dropping first frame"),m.Sqa(1),this.vy=p):(this.vy=p.add(this.$),this.yWa(this.vy) || (g.aa && this.console.trace("SeamlessAudio: cannot maintain seamlessness at " + m.he.Bc() + " error would be " + this.vy.Bc() + " (editing " + (m.na?"":"not ") + "allowed)"),this.vy=c.O.ib,d=!1));this.Aya=void 0;}if(m.Hq || m.Zy)(k.assert(n,"SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"),!m.na || !h && m.Zy || (p=this.$Vb(m,n,h),p.ms(c.O.ib) && (g.aa && this.console.trace("SeamlessAudio: dropping last frame"),m.Tqa(1))),this.Aya=n);k.assert(this.yWa(this.vy));this.Pva=m.fd;return {T:m,offset:l.add(this.vy),Oe:d,ck:!1};};f.prototype.$Vb=function(d,h,m){var l;if(m)l=this.vy.add(d.fd.Ia(m)).Ia(this.$);else (l=d.fd.Ia(h),l=this.vy.add(l).Ia(this.$));g.aa && this.console.trace("SeamlessAudio: fragment end: " + d.fd.Bc() + ", splice " + h.Bc() + ", next start " + (null === m || void 0 === m?void 0:m.Bc()) + ", error " + l.add(this.$).Bc() + ", error with frame drop " + l.Bc() + ", is" + (this.poa(l)?"":" not") + " within bounds of [" + this.dda.Bc() + " and " + this.Gca.Bc() + ")");return l;};f.prototype.ZVb=function(d,h){var m;k.assert(this.Pva);m=this.vy.add(this.Pva.Ia(d.he)).Ia(this.$);g.aa && this.console.trace("SeamlessAudio: fragment start: " + d.he.Bc() + ", splice " + h.Bc() + ", last fragment end: " + this.Pva.Bc() + ", error " + m.add(this.$).Bc() + ", error with frame drop " + m.Bc() + ", is" + (this.poa(m)?"":" not") + " within bounds of [" + this.dda.Bc() + " and " + this.Gca.Bc() + ")");return m;};f.prototype.poa=function(d){return d.lessThan(this.Gca) && d.ms(this.dda);};f.prototype.yWa=function(d){return d.lessThan(this.Gca.add(c.O.Lw)) && d.ms(this.dda.Ia(c.O.Lw));};f.prototype.$Mb=function(d,h){return "object" === typeof this.config.yAa && void 0 !== this.config.yAa[d]?(d=new c.O(this.config.yAa[d],1E3).Yc(h.I).add(new c.O(1,h.I)),c.O.min(h,d)):h;};f.prototype.bNb=function(d,h){var m;if("object" === typeof this.config.zAa && void 0 !== this.config.zAa[d]){m=h.Dj(-2);d=new c.O(this.config.zAa[d],1E3).Yc(h.I).Ia(new c.O(1,h.I));return c.O.max(m,d);}return new c.O(-12,1E3);};return f;})();b.zPa=q;},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.HLa=void 0;c=a(21);k=a(4);g=a(15);q=(function(){function f(d,h,m){var l;this.console=m;this.S1=!1;k.assert(h.$,"NegativePtsGuard: stream.frameDuration must exist.");this.$=h.$;this.Io=d.Io;this.Qf=null !== (l=h.Qf) && void 0 !== l?l:c.O.ib;}f.prototype.append=function(d){var h,m,l,n;if(this.S1 || d.ck)return d;h=d.T;m=d.offset;d=d.Oe;if(h.na){l=h.Ic.Ia(this.Io?this.Qf:c.O.ib).add(m);if(l.lessThan(c.O.ib)){n=Math.ceil(l.wC(-1).Dj(this.$));g.aa && this.console.trace("NegativePtsGuard: dropping " + n + " frames on first fragment to avoid nagative pts, profile offset " + (this.Qf.Bc() + ", request content start ") + (h.Ic.Bc() + ", current timestamp offset ") + (m.Bc() + " => firstPlatformTimestamp ") + (l.Bc() + "."));h.Sqa(n);}}this.S1=!0;return {T:h,offset:m,Oe:d,ck:!1};};return f;})();b.HLa=q;},function(q,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.bRa=void 0;c=a(21);k=a(15);q=(function(){function g(f,d,h){this.Qf=f;this.$=d;this.console=h;}g.prototype.append=function(f,d){var h,m,l,n,p;h=f.T;m=f.offset;l=f.Oe;f=f.ck;if(!f){n=d.endOfStream;d=d.$F;if(n && d){n=h.Ic.Ia(this.Qf).add(m);p=h.Ud.Ia(this.Qf).add(m);d=d.Ia(c.O.Lw);k.aa && this.console.trace("TruncateEndOfStreamAudio: last fragment has adjusted times " + n.Bc() + "-" + p.Bc() + " vs media splice point at " + d.Bc());n.add(this.$).ms(d)?(k.aa && this.console.trace("TruncateEndOfStreamAudio: dropping whole fragment"),f=!0):p.ms(d) && (d=Math.ceil(p.Ia(d).Dj(this.$)),h.na?(k.aa && this.console.trace("TruncateEndOfStreamAudio: drop " + d + " frames"),h.Tqa(d)):(k.aa && this.console.trace("TruncateEndOfStreamAudio: fragment.edit is false, dropping whole fragment"),f=!0));}else n && k.aa && this.console.trace("TruncateEndOfStreamAudio: last fragment has no media splice point");}return {T:h,offset:m,Oe:l,ck:f};};return g;})();b.bRa=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.oJa=void 0;q=(function(){function a(c){this.S1=!1;this.J4b=c.UQb;}a.prototype.append=function(c){c.T.na && (c.T.U3b(this.S1?0:this.J4b),this.S1=!0);return c;};return a;})();b.oJa=q;},function(q,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.mEa=void 0;c=a(448);k=a(8);q=(function(){function g(f,d,h,m){this.config=d;this.dd=h;this.console=m;this.$=f.$;}g.prototype.append=function(f,d){var h,m,l,n,p,r,t,w,v,u,x,y;if(f.ck)return f;m=!1;l=c.jta(this.config,this.dd);n=f.T;p=f.offset;r=f.Oe;t=n.fd;w=n.he;v=n.Zy;v=n.Hq || v;if(!f.T.na || !v || r)return f;u=n.Ud.Ia(n.Ic);v=Math.floor(u.Dj(this.$));x=null !== (h=d.j0) && void 0 !== h?h:t.Ia(this.$.wC(2));t=x.Ia(w);h=v;y=!1;d.j0 && (d=this.rXa(u,t,t),h=d.ad,y=d.n$a);l=x.Ia(k.O.Sa(l));w=k.O.max(l.Ia(w),k.O.ib);y || (w=this.rXa(u,w,t),h=w.ad,w.n$a && (--h,this.$.wC(h)));h < (this.config.TVb || 1)?m=!0:0 < v - h && f.T.Tqa(v - h);return {T:n,offset:p,Oe:r,ck:m};};g.prototype.rXa=function(f,d,h){var m;f=k.O.min(f,d);f=Math.floor(f.Dj(this.$));d=this.$.wC(f);h=h.Ia(d);m=0 < f && h.lessThan(k.O.Lw);return {ad:f,Yic:d,rgc:h,n$a:m};};return g;})();b.mEa=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.nEa=void 0;c=a(15);q=(function(){function k(g){this.console=g;}k.prototype.append=function(g,f){var d,h,m,l,n,p;if(g.ck)return g;d=!1;h=g.T;m=g.offset;g=g.Oe;f=f.$F;l=h.fd;if(this.Tq && l.lessThan(this.Tq.fd)){n=this.Tq.$F.Ia(h.he);p=h.fd.Ia(this.Tq.$F);p.lessThan(n) && (c.aa && this.console.trace("AudioOverlapGuard: skipping append of " + h + (", current error: " + n.Bc()) + (", discard error: " + p.Bc())),d=!0);}this.Tq=(h.Hq || h.Zy) && f?{$F:f,fd:l}:void 0;return {T:h,offset:m,Oe:g,ck:d};};return k;})();b.nEa=q;},function(q,b,a){var c,k,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.ZKa=void 0;q=a(1);c=a(122);k=a(8);g=a(4);f=q.__importDefault(a(5));a=(function(){function d(h){var B60;B60=2;for(;B60 !== 4;){switch(B60){case 2:var p49="media|";p49+="a";p49+="s";p49+="ej";p49+="s";var d49="M";d49+="P";d49+="4";var K49="1SIY";K49+="bZrN";K49+="JCp9";this.console=h;K49;this.V9a=new f.default.Console(d49,p49);B60=4;break;}}}var A60;A60=2;for(;A60 !== 3;){switch(A60){case 2:d.prototype.na=function(h){var C60,l,n,p,m;C60=2;for(;C60 !== 21;){switch(C60){case 24:p && m.push(p);C60=23;break;case 10:p && m.push(p);n=l;C60=19;break;case 4:return {fa:!0};break;case 25:return {fa:n};break;case 7:return {fa:!0};break;case 23:n=l;C60=22;break;case 8:C60=!(h.response instanceof ArrayBuffer)?7:6;break;case 12:C60=!n?11:10;break;case 14:(l=this.n1b(h,h.response),n=l.fa,p=l.sl);l=l.data;C60=12;break;case 15:p=h.sl;C60=27;break;case 18:C60=h.na.end !== h.Ky || h.na.qBa?17:22;break;case 19:p=h.na.start;C60=18;break;case 2:var Q49="MediaFragmentEditor [${fragment.med";Q49+="iaType}]";Q49+=": Attempt to ";Q49+="edit appended f";Q49+="ragment";m=[];g.assert(!h.cf,Q49);C60=5;break;case 9:return {fa:!1};break;case 11:return {fa:n};break;case 5:C60=!h.na?4:3;break;case 17:h=this.v1b(h,n || h.response,p);n=h.fa;C60=15;break;case 27:l=h.data;C60=26;break;case 26:C60=!n?25:24;break;case 6:C60=0 < h.na.start || h.na.wfa?14:18;break;case 3:C60=0 >= h.duration?9:8;break;case 22:return {fa:!0,twa:m,response:n};break;}}};d.prototype.n1b=function(h,m){var D60,l;D60=2;for(;D60 !== 4;){switch(D60){case 2:var D49=" edit f";D49+="ai";D49+="led";var L49="]";L49+=":";L49+=" ";var y49="MediaFragment";y49+="Editor";y49+=" [";g.assert(h.na);l=h.na.wfa;return h.na.start || l?(m=new c.kn(this.V9a,h.stream,m).Kea(h.na.start,h.UQ,l))?{fa:!0,sl:h.Xza(l),data:k.Jv(m.T)}:(this.console.error(y49 + h.mediaType + L49 + h.toString() + D49),{fa:!1}):{fa:!0};break;}}};A60=5;break;case 5:d.prototype.v1b=function(h,m,l){var E60,n;E60=2;for(;E60 !== 3;){switch(E60){case 2:void 0 === l && (l=0);g.assert(h.na);E60=5;break;case 5:var w49=" ed";w49+="i";w49+="t fa";w49+="i";w49+="led";var J49="]";J49+=":";J49+=" ";var E49="M";E49+="edia";E49+="Fr";E49+="agmentEdito";E49+="r [";n=h.na.qBa;return h.na.end !== h.Ky || n?(m=new c.kn(this.V9a,h.stream,m).H1(h.na.end - l,h.I,n))?{fa:!0,sl:h.Xza(n),data:k.Jv(m.T)}:(this.console.error(E49 + h.mediaType + J49 + h.toString() + w49),{fa:!1}):{fa:!0};break;}}};return d;break;}}})();b.ZKa=a;},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t,w,v,u;function c(x,y,z,A){var B,D;h.assert(x.ql,"Current time: " + n.default.time.ma() + " cr: " + x.currentTime);h.assert(x.currentTime.isFinite());B=z.Ia(x.currentTime);B=Math.max(Math.ceil(B.jL / x.speed),0);D=null !== A && void 0 !== A?A:{id:void 0,o_a:B,I$a:0,gYb:B};D.id=setTimeout(function(){z.Ia(x.currentTime).DK(f.O.ib)?y():(D.I$a++,c(x,y,z,D));},B);D.o_a=B;return D;}Object.defineProperties(b,{__esModule:{value:!0}});b.Cga=b.LU=void 0;k=a(1);g=a(13);f=a(21);d=a(273);h=a(4);m=a(15);l=a(989);n=k.__importDefault(a(5));p=a(192);r=a(990);t=a(991);w=a(163);v=(function(){function x(){this.complete();}Object.defineProperties(x.prototype,{cM:{get:function(){return this.ana;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{j$a:{get:function(){return this.iub;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{DFb:{get:function(){return this.lsb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{uAa:{get:function(){return this.$vb;},enumerable:!1,configurable:!0}});x.prototype.set=function(y,z,A){this.lsb=z === u.aR?0:n.default.time.ma();this.iub=y;this.$vb=z;m.aa && h.assert(!this.ana,"Invalid replacement of timeout value");this.ana=A;};x.prototype.complete=function(){this.ana=void 0;this.set(f.O.JF,u.aR);};return x;})();(function(x){x[x.aR=0]="none";x[x.w9a=1]="microTask";x[x.setTimeout=2]="setTimeout";})(u || (u={}));q=(function(x){function y(z,A,B){var D;void 0 === B && (B="unknown");D=x.call(this) || this;D.La=z;D.console=A;D.name=B;D.gub=0;D.bma=!1;D.Nl=new v();D.B$=new g.Fg();D.rm=new d.N5([],l.xYa(function(C,F){return C.xL.zm(F.xL);},function(C,F){return F.ko.priority - C.ko.priority;},function(C,F){return C.ko.id > F.ko.id?1:C.ko.id < F.ko.id?-1:0;}));D.eWa(z);return D;}k.__extends(y,x);Object.defineProperties(y.prototype,{s4b:{get:function(){return this.La.ql;},enumerable:!1,configurable:!0}});y.prototype.wZa=function(z,A){z=new (z.bind.apply(z,k.__spread([void 0],A)))();z.id=this.gub++;z.Pyb(this);this.Ena(z);return z;};y.prototype.BJ=function(){for(var z=[],A=0;A < arguments.length;A++){z[A]=arguments[A];}return this.wZa(r.vJa,z);};y.prototype.pLb=function(){var z;z={hasSchedule:! !this.Nl.cM,schedule:this.Nl.cM && ({sleepTime:this.Nl.cM.o_a,originalSleepTime:this.Nl.cM.gYb,clockSkewAdjustments:this.Nl.cM.I$a}),nextWakeup:this.Nl.j$a.V,timeScheduled:this.Nl.DFb,scheduleType:u[this.Nl.uAa],numTasks:this.rm.length,clock:{ir:this.La.ql,ct:this.La.currentTime.V,sp:this.La.speed}};m.aa && this.trace("audit",z);return z;};y.prototype.FX=function(){for(var z=[],A=0;A < arguments.length;A++){z[A]=arguments[A];}return this.wZa(t.UPa,z);};y.prototype.hZa=function(z,A,B){return this.BJ(function(){return k.__generator(this,function(D){switch(D.label){case 0:return [4,w.Hl.qM(A)];case 1:return (D.pc(),z(),[3,0]);case 2:return [2];}});},B);};y.prototype.eWa=function(z){var A;A=this;this.OE();this.B$.clear();this.La=z;this.B$.on(z,"stopStart",function(){return A.CR();});this.B$.on(z,"clockAdjusted",function(){return A.A0();});this.B$.on(z,"speedChanged",function(){return A.UXb();});this.A0();this.emit("clockChanged");};y.prototype.UXb=function(){this.OE();this.CR();};y.prototype.Rb=function(){this.reset();};y.prototype.reset=function(){this.OE();this.rm.clear();};y.prototype.A0=function(){var z,A;z=this;A=this.rm.map(function(B){return B.ko;});this.OE();this.rm.clear();A.forEach(function(B){return z.Ena(B,!1);});this.CR();};y.prototype.Ena=function(z,A){var B,D;void 0 === A && (A=!0);B=z.tda();D=this.Rgb(B);B={ko:z,xL:D,Nea:B};m.aa && this.trace("Adding task " + z.name + " for " + D.V);h.assert(!this.rm.contains(B));this.rm.push(B);A && this.CR();};y.prototype.CR=function(){var z,A,B,D,C;z=this;m.aa && this.trace("recheck schedule task count:" + this.rm.length);if(this.s4b){if(this.bma)m.aa && this.trace("already executing, bailing");else {B=this.Nl.j$a;D=this.rm.nz();C=null !== (A=null === D || void 0 === D?void 0:D.xL) && void 0 !== A?A:f.O.JF;C.isFinite() && C.n0(B)?(this.OE(!1),this.La.currentTime.ms(C)?(this.Nl.set(C,u.w9a),Promise.resolve().then(function(){z.Nl.uAa === u.w9a && (z.Nl.complete(),z.Ddb());})):(m.aa && this.trace("scheduling next wake up for",{ekc:C.V,ko:null === D || void 0 === D?void 0:D.ko.name}),A=c(this.La,function(){z.Nl.complete();z.Ddb();},C),this.Nl.set(C,u.setTimeout,A))):C.isFinite() || this.Nl.uAa !== u.setTimeout || this.OE(!1);}}else (m.aa && this.trace("should check schedule is false, stopping"),this.OE());};y.prototype.Ddb=function(){var z,A,B;A=0;B=null === (z=this.rm.nz()) || void 0 === z?void 0:z.Nea;try{for(this.bma=!0;1E4 > A++ && this.v7b();){;}}finally{this.bma=!1;this.OE();1E4 < A && !this.xPb(B)?this.error("Task scheduler executed more than 10000 iterations in same tick"):(this.trace("Next tasks",this.rm.map(function(D){return {name:D.ko.name,fkc:D.xL.V};})),this.CR());}};y.prototype.xPb=function(z){var A,B;B=null === (A=this.rm.nz()) || void 0 === A?void 0:A.Nea;return z && B && z.timestamp.equal(B.timestamp) && z.type === B.type?!1:!0;};y.prototype.v7b=function(){var z,A,B;B=null !== (A=null === (z=this.rm.nz()) || void 0 === z?void 0:z.xL) && void 0 !== A?A:f.O.JF;m.aa && this.trace("tryExecuteNextTask @" + this.La.currentTime.V + ", next wakeup at " + B);if(this.La.currentTime.ms(B) && (z=this.rm.pop())){A=z.ko;m.aa && this.trace("Running a task @" + this.La.currentTime.V + ", scheduled for time:" + B.V + ("Name:" + A.name));try{A.Bz();z.Nea=A.tda();z.xL=this.Rgb(z.Nea);}catch(D){throw (this.error("Unhandled error from a task " + A.name + " occurred. Removing the task from future executions:" + D,{stack:D.stack}),A.Rb(),D);}finally{z.xL !== f.O.JF && A.state === p.vo.Zea && (h.assert(!this.rm.contains(z)),this.rm.push(z));}return !0;}};y.prototype.m2b=function(z){h.assert(z.qf === this);this.Rza(z,!1);this.Ena(z);};y.prototype.Rza=function(z,A){var B;void 0 === A && (A=!0);B=this.rm.find(function(D){return D.ko === z;});B && this.u1b(B,A);};y.prototype.u1b=function(z,A){this.rm.remove(z);A && this.CR();};y.prototype.OE=function(z){void 0 === z && (z=!0);this.Nl.cM && (z && this.emit("stopping"),clearTimeout(this.Nl.cM.id),this.Nl.complete());};y.prototype.Rgb=function(z){return z.type === w.uka.absolute?z.timestamp:z.timestamp.add(this.La.currentTime);};y.prototype.trace=function(){for(var z,A=[],B=0;B < arguments.length;B++){A[B]=arguments[B];}null === (z=this.console) || void 0 === z?void 0:z.trace.apply(z,k.__spread(["TaskScheduler(" + this.name + "):"],A));};y.prototype.error=function(){for(var z,A=[],B=0;B < arguments.length;B++){A[B]=arguments[B];}null === (z=this.console) || void 0 === z?void 0:z.error.apply(z,k.__spread(["TaskScheduler(" + this.name + "):"],A));};return y;})(g.EventEmitter);b.LU=q;b.Cga=function(x,y,z){var A;A=void 0;return (z || x.La.ql) && x.La.currentTime.ms(y)?{promise:Promise.resolve()}:{promise:new Promise(function(B){A=x.FX(w.Hl.QS(y),B);}),ko:A};};},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.xYa=void 0;c=a(1);k=a(15);g=a(4);b.xYa=function(){for(var f=[],d=0;d < arguments.length;d++){f[d]=arguments[d];}k.aa && g.assert(f.length);return function(h,m){var l,r,t;try{for(var n=c.__values(f),p=n.next();!p.done;p=n.next()){r=p.value;t=r(h,m);if(0 !== t)return t;}}catch(v){var w;w={error:v};}finally{try{p && !p.done && (l=n.return) && l.call(n);}finally{if(w)throw w.error;}}return 0;};};},function(q,b,a){var c,k,g,f,d;Object.defineProperties(b,{__esModule:{value:!0}});b.vJa=void 0;c=a(1);k=a(21);g=a(4);f=a(192);d=a(163);q=(function(h){function m(l,n,p){n=h.call(this,n,p) || this;n.I2b=l;n.reset();return n;}c.__extends(m,h);m.prototype.reset=function(){var l,n;if(this.cd === f.vo.Zea || this.cd === f.vo.pending)null === (n=null === (l=this.g7) || void 0 === l?void 0:l.return) || void 0 === n?void 0:n.call(l);this.cd=f.vo.pending;this.g7=this.I2b();this.tma=d.Hl.qM(k.O.ib);};m.prototype.fm=function(){this.reset();g.assert(this.py);this.py.m2b(this);};m.prototype.tda=function(){return this.tma;};m.prototype.mh=function(){var l,n,p;p=this.g7.next();p.done?(this.tma=d.Hl.lDa,null === (n=(l=this.g7).return) || void 0 === n?void 0:n.call(l)):this.tma=p.value;};m.prototype.Rb=function(){var l,n;null === (n=(l=this.g7).return) || void 0 === n?void 0:n.call(l);h.prototype.Rb.call(this);};return m;})(f.Gka);b.vJa=q;},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.UPa=void 0;c=a(1);k=a(192);g=a(163);q=(function(f){function d(h,m,l){l=f.call(this,l) || this;l.xAa=h;l.iX=m;return l;}c.__extends(d,f);d.prototype.tda=function(){return this.cd === k.vo.pending?this.xAa:g.Hl.lDa;};d.prototype.mh=function(){this.iX();};return d;})(k.Gka);b.UPa=q;},function(q,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.fPa=void 0;q=a(1);c=q.__importDefault(a(32));k=q.__importDefault(a(449));a=(function(){function g(f){this.g8=[];this.g8[c.default.kb.Vb]=new k.default(f,c.default.kb.Vb);this.g8[c.default.kb.mc]=new k.default(f,c.default.kb.mc);}g.prototype.Mxb=function(f,d,h){this.g8[f].add(d,h);};g.prototype.Kta=function(){var f;f=[];this.g8.forEach(function(d){var h;if(d){h=d.get();h && 0 < h.length && h.forEach(function(m){f.push(m);});d.reset(!0);}});return f;};g.prototype.EJb=function(f){var d;d=this.Kta();f.strmsel=d;return 0 < d.length;};return g;})();b.fPa=a;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.a3a=void 0;b.a3a=function(a){var c,k,g;c=Math.floor(1E6 * Math.random());k=a.nua;g=a.iba;a=0 === c % a.oua && 0 < g.length;return {Jt:a,sY:a && 0 === c % k};};},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.PYa=void 0;b.PYa=function(a,c){var k;if(!Array.isArray(a.NYa))return a;k=a.Xr?a.Xr():Object.create(a);a.NYa.forEach(function(g){if(void 0 !== g.RVb && c.duration >= g.RVb && g.config)for(var f in g.config){k[f]=g.config[f];}});return k;};},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.AGa=void 0;c=a(1).__importStar(a(10));k=a(132);g=a(4);q=(function(){var F60;F60=2;for(;F60 !== 7;){switch(F60){case 2:f.prototype.gsb=function(d,h){var H60,m,l;H60=2;for(;H60 !== 8;){switch(H60){case 2:var r49="cr";r49+="e";r49+="ateDlTr";r49+="acksSt";r49+="art";(m=this,l=this.Ln.K);0 === this.QI && this.Ln.Ub.vn(r49);this.QI+=d.length;d=d.map(function(n){var I60;I60=2;for(;I60 !== 1;){switch(I60){case 2:return m.fSa(n,h.L,h.Xy(),m.Ln.sn,l);break;}}});H60=3;break;case 3:k.wr.instance.mh();return d;break;}}};f.prototype.ssb=function(){var J60,d,h;J60=2;for(;J60 !== 3;){switch(J60){case 2:(d=this,h=[]);this.Ln.Pb.qg.forEach(function(m){var K60;K60=2;for(;K60 !== 5;){switch(K60){case 1:m.og=void 0;K60=5;break;case 2:c.ta(m.og) || h.push(m.og);K60=1;break;case 9:m.og=+1;K60=6;break;K60=5;break;}}});this.Ln.wV && (h.push(this.Ln.wV),this.Ln.wV=void 0);h.forEach(function(m){var L60;L60=2;for(;L60 !== 5;){switch(L60){case 2:m.iq || --d.QI;k.wr.instance.hP(m);L60=5;break;}}});J60=3;break;}}};f.prototype.rtb=function(){var M60;M60=2;for(;M60 !== 1;){switch(M60){case 4:this.QI=3;M60=2;break;M60=1;break;case 2:this.QI=0;M60=1;break;}}};f.prototype.fUa=function(d,h){var N60,m,l;N60=2;for(;N60 !== 5;){switch(N60){case 2:(m=this.Ln.Pb.qg[d],l=m.og);N60=1;break;case 1:l && (l=h.oO(d,l),this.rsb(d),m.og=this.fSa(d,h.L,h.Xy(),this.Ln.sn,this.Ln.K),h.mAa(l));N60=5;break;}}};f.prototype.fSa=function(d,h,m,l,n){var O60,p,r;O60=2;for(;O60 !== 6;){switch(O60){case 4:var P49="mediaReques";P49+="tCom";P49+="plete";var W49="tr";W49+="a";W49+="nspo";W49+="r";W49+="treport";var i49="e";i49+="r";i49+="r";i49+="o";i49+="r";r.Kh.on(r,i49,function(){var R60;R60=2;for(;R60 !== 5;){switch(R60){case 2:var X49="N";X49+="FErr_M";X49+="C_S";X49+="treamingFail";X49+="ure";var A49="DownloadT";A49+="rack fat";A49+="al error";var u49="Do";u49+="w";u49+="n";u49+="loadTrack fatal erro";u49+="r";n.fj && p.cj.Vn(u49);p.Ln.Lr(A49,void 0,X49,r.Zh,0,r.nk);R60=5;break;}}});r.on(W49,function(t){var S60;S60=2;for(;S60 !== 1;){switch(S60){case 2:var v49="tr";v49+="ans";v49+="port";v49+="rep";v49+="ort";p.Ln.emit(v49,t);S60=1;break;}}});r.on(P49,function(t){var T60;T60=2;for(;T60 !== 1;){switch(T60){case 2:var m29="med";m29+="iaRequest";m29+="Compl";m29+="ete";p.Ln.emit(m29,t);T60=1;break;}}});r.xa();return r;break;case 2:var I29="ne";I29+="twor";I29+="kfa";I29+="iling";var o29="cr";o29+="eate";o29+="d";(p=this,r=k.wr.instance.Ov(d,h,!0,m,l,n));r.Kh.on(r,o29,function(){var P60;P60=2;for(;P60 !== 5;){switch(P60){case 2:var k29="cr";k29+="eat";k29+="eDl";k29+="Track";k29+="sEnd";--p.QI;0 === p.QI && p.Ln.Ub.vn(k29);P60=5;break;}}});r.Kh.on(r,I29,function(){var Q60,t;Q60=2;for(;Q60 !== 8;){switch(Q60){case 5:g.assert(r.BY);t=p.Ln.ff.R;t.ds.pu(r.BY,void 0,r.Zh,r.nk);t.en();Q60=8;break;case 1:Q60=r.H$?5:8;break;case 2:var U29="re";U29+="portNetwor";U29+="kFa";U29+="iling: ";n.fj && p.cj.Vn(U29 + r);Q60=1;break;}}});O60=4;break;}}};f.prototype.rsb=function(d){var U60,h;U60=2;for(;U60 !== 9;){switch(U60){case 4:k.wr.instance.hP(h);d.og=void 0;U60=9;break;case 2:d=this.Ln.Pb.qg[d];h=d.og;h.iq || --this.QI;U60=4;break;}}};F60=8;break;case 8:return f;break;}}function f(d,h,m){var G60;G60=2;for(;G60 !== 3;){switch(G60){case 2:var e29="1SIY";e29+="bZrNJC";e29+="p9";this.Ln=d;this.J=h;this.cj=m;e29;G60=3;break;}}}})();b.AGa=q;},function(q,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.VDa=void 0;c=a(17);k=a(8);q=(function(){function g(f){this.uJ=f;this.state=new k.$s(c.Da.Sh);this.gk={};}g.prototype.getState=function(){return this.state.value;};g.prototype.re=function(f){this.state.set(f);};g.prototype.addListener=function(f){this.state.addListener(f);};g.prototype.paused=function(){this.state.value === c.Da.$c && this.state.set(c.Da.Rh);};g.prototype.L6a=function(){return this.state.value === c.Da.Sh;};g.prototype.ss=function(){return "function" === typeof this.uJ.ss?this.uJ.ss():this.state.value === c.Da.$c;};g.prototype.Og=function(){return this.state.value === c.Da.Md || this.state.value === c.Da.sg;};g.prototype.M6a=function(){return this.state.value === c.Da.Tj;};g.prototype.N6a=function(){return this.state.value === c.Da.et;};g.prototype.Ue=function(){return this.uJ.Ue();};g.prototype.Aq=function(){return "function" === typeof this.uJ.Aq?this.uJ.Aq():1;};g.prototype.nZ=function(){return this.uJ.nZ();};g.prototype.q2=function(f,d){this.gk[f]=d;};g.prototype.ap=function(f){return ! !this.gk[f.L] || f.Cj;};return g;})();b.VDa=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.$Na=void 0;q=(function(){function a(c,k,g){var f;this.Dyb=c;this.uma=k;this.msb=g;this.Ila=(f={},f[0]=!1,f[1]=!1,f);this.reset();}a.prototype.lB=function(){var c,k;c=this;k=this.Dyb.filter(function(g){return !g.j6a(c.msb());});0 === k.length && this.fma?this.pub():k.forEach(function(g){c.Ila[g.mediaType] || (g.once("requestAppended",function(){c.Ila[g.mediaType]=!1;c.lB();}),c.Ila[g.mediaType]=!0);});};a.prototype.reset=function(){var c;c=this;this.fma=!1;new Promise(function(k){c.pub=k;}).then(function(){return c.uma();});};a.prototype.xUb=function(){this.fma || (this.fma=!0,this.lB());};return a;})();b.$Na=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.FDa=void 0;c=a(15);q=(function(){function k(g){this.console=g;this.KI=[];this.fE=[];c.aa && this.console.trace("Received pending adoption " + this.Qm.length);}Object.defineProperties(k.prototype,{length:{get:function(){return this.KI.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Qm:{get:function(){return this.fE;},enumerable:!1,configurable:!0}});k.prototype.uUb=function(g){g=this.fE.indexOf(g);-1 !== g && (c.aa && this.console.trace("Marking request attached"),this.KI[g].e6a=!0,this.shb(g));};k.prototype.vUb=function(g){g=this.fE.indexOf(g);-1 !== g && (c.aa && this.console.trace("Marking request completed"),this.KI[g].aC=!0,this.shb(g));};k.prototype.w1b=function(g){var f,d;f=this;d=[];this.fE.forEach(function(h,m){g(h) && d.unshift(m);});d.forEach(function(h){f.fE.splice(h,1);f.KI.splice(h,1);});};k.prototype.push=function(g){this.fE.push(g);this.KI.push({e6a:!1,aC:!1});c.aa && this.console.trace("Pushing pending request, " + this.length + " total");};k.prototype.EF=function(){return 0 < this.length;};k.prototype.shb=function(g){var f;f=this.KI[g];f.e6a && f.aC && (f=this.fE[g],this.fE.splice(g,1),this.KI.splice(g,1),c.aa && this.console.trace("Removing request, " + this.length + " left"),0 === this.length && c.aa && this.console.trace("Removing last request, contentEndPts: " + f.Uc));};return k;})();b.FDa=q;},function(q,b,a){var k,g,f,d,h,m,l,n,p,r;function c(t,w){return (1 === t.mediaType?0:1) - (1 === w.mediaType?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.JJa=b.Mja=b.Spb=void 0;k=a(1);g=a(87);f=a(164);d=a(17);h=a(8);m=a(4);l=a(21);n=k.__importDefault(a(5));q=a(74);p=a(39);r=(function(t){function w(){return null !== t && t.apply(this,arguments) || this;}k.__extends(w,t);return w;})(a(275).TM);b.Spb=r;b.Mja={oH:c};a=(function(t){function w(v,u,x,y,z,A,B,D,C,F,G,E,I,K,L,H){var P;z=t.call(this) || this;z.Bjc=v;z.K=u;z.R=y;z.Ol=A;z.waa=B;z.xo=F;z.sV=G;z.Il=I;z.CA=K;z.events=L;z.ny=H;z.Be=new r([]);z.rn=!1;z.BV=0;z.bV=z.Vxa.bind(z);z.J=h.jk(n.default,x,A.id && A.id.length?"{" + A.id + "}":"");z.Jl=z.J.error.bind(z.J);z.cc=z.J.warn.bind(z.J);z.Eo=z.J.trace.bind(z.J);z.Ut=null !== C && void 0 !== C?C:l.O.Sa(z.G.da);z.Dma=null === E || void 0 === E?void 0:E.fd;null === (P=z.CA) || void 0 === P?void 0:P.addListener(z.bV);y && D && z.JQb(y,D);return z;}k.__extends(w,t);Object.defineProperties(w.prototype,{Vh:{get:function(){return this.rn;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{G:{get:function(){return this.Ol;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Dw:{get:function(){return this.Be.every(function(v){return v.Dw;});},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Pl:{get:function(){return this.Be.every(function(v){return v.Pl;});},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{vt:{get:function(){return this.zq().reduce(function(v,u){return v + u.vt;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Ih:{get:function(){return this.zq().every(function(v){return v.Ih();});},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{sf:{get:function(){return this.zq().map(function(v){return v.track;});},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{I:{get:function(){return this.pv.I;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{bb:{get:function(){return this.pv.bb;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{wb:{get:function(){return this.pv.wb;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Kj:{get:function(){return this.Cd.Yc(this.I).qa;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{ps:{get:function(){return this.Ut.add(this.Cd);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Qq:{get:function(){return this.G.Yd.add(this.Cd);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{EC:{get:function(){return this.G.Ng.add(this.Cd);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{SJ:{get:function(){var v,u;u=null === (v=this.G.G.tq) || void 0 === v?void 0:v[0];return u && this.Ic?l.O.Sa(Math.max(0,u[0] - this.Ic.V - this.G.Yd.V)):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{s_:{get:function(){return this.Be.reduce(function(v,u){return v && u.fd?l.O.max(v,u.fd):u.fd?u.fd:v;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Rua:{get:function(){return this.ps.V;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{df:{get:function(){return this.Cd.V;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{nr:{get:function(){return this.pv.nr;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Cd:{get:function(){return this.xo;},enumerable:!1,configurable:!0}});w.prototype.pr=function(v){this.Cd.equal(v) || (this.xo=v);};w.prototype.Py=function(v){return (v=this.rb(v))?Promise.resolve(v.Py()):Promise.resolve(f.AsyncIterator.M2a());};w.prototype.mF=function(){this.zq().forEach(function(v){return v.mF();});};w.prototype.reset=function(){this.Be.forEach(function(v){v.reset();});};w.prototype.Mf=function(){var v,u;this.rn || (this.rn=!0,null === (v=this.iE) || void 0 === v?void 0:v.sd(),this.iE=void 0,this.Be.forEach(function(x){x.Mf();}),null === (u=this.CA) || void 0 === u?void 0:u.removeListener(this.bV),this.events.removeAllListeners());};w.prototype.rQ=function(){return !0;};w.prototype.rb=function(v){return this.Be.get(v);};w.prototype.zq=function(v){void 0 === v && (v=c);return this.Be.items.slice().sort(v);};w.prototype.pZ=function(){return this.Be.items;};w.prototype.$J=function(v){return this.rb(v);};w.prototype.ai=function(v,u){v=this.rb(v);if(!v)return 0;if(u)return v.co;u=v.Wr;if(void 0 === u)return 0;v=this.sV();return u - v;};w.prototype.HB=function(){var v,u,x,y,z,A,B;B=null === (v=this.rb(0)) || void 0 === v?void 0:v.Po;v=null === (u=this.rb(1)) || void 0 === u?void 0:u.Po;return {Ap:null !== (x=null === v || void 0 === v?void 0:v.V) && void 0 !== x?x:0,ut:null !== (y=null === B || void 0 === B?void 0:B.V) && void 0 !== y?y:0,Ku:null !== (z=null === v || void 0 === v?void 0:v.ga) && void 0 !== z?z:0,yE:null !== (A=null === B || void 0 === B?void 0:B.ga) && void 0 !== A?A:0};};w.prototype.bQ=function(v){var u;return (v=this.rb(v))?null !== (u=v.Wr) && void 0 !== u?u:0:0;};w.prototype.en=function(v){v=this.rb(v);m.assert(v);return v.en();};w.prototype.Vxa=function(v){d.Fq(v.newValue) && this.qt();};w.prototype.RE=function(v){return this.Be.every(function(u){return u.RE(v);});};w.prototype.$Y=function(v){var u,x;return null !== (x=null === (u=this.Be.get(v)) || void 0 === u?void 0:u.EZa) && void 0 !== x?x:l.O.ib;};w.prototype.Nm=function(v){this.rn || (v.z8 || m.assert(!v.Qc),this.qt(),this.Pl && this.Ama());this.ew(v);};w.prototype.$K=function(v){this.K.q$ && this.qt(!0);this.TJ(v);};w.prototype.ZK=function(v){this.K.q$ && this.qt(!0);this.tF(v);};w.prototype.kBa=function(v){var u;return d.Fq((null === (u=this.CA) || void 0 === u?void 0:u.value) || d.Zc.Uj) && (!v || this.BV + this.K.Yca < n.default.time.ma());};w.prototype.qt=function(v){void 0 === v && (v=!1);this.kBa(v) && (this.BV=n.default.time.ma(),v={type:"checkBufferingProgress"},this.events.emit(v.type,v));};w.prototype.Ama=function(){var v;v={type:"branchStreamingComplete"};this.events.emit(v.type,v);};w.prototype.JQb=function(v,u){var x;this.aBa(v);m.assert(v.M === this.G.M || isNaN(v.M) && isNaN(this.G.M));v=null !== u && void 0 !== u?u:null === (x=this.waa) || void 0 === x?void 0:x.call(this,v);m.assert(v,"tracks need to exist upon initialization");};w.prototype.toJSON=function(){var v,u;return {segment:this.G.id,branchOffset:this.df,viewableId:this.Ol.M,contentStartPts:null === (v=this.Ic) || void 0 === v?void 0:v.V,contentEndPts:null === (u=this.Ud) || void 0 === u?void 0:u.V};};return w;})(g.yx);b.JJa=a;p.Xe(q.Pu,a);p.Xe(q.Yz,a);},function(q,b,a){var c,k,g,f,d,h,m;Object.defineProperties(b,{__esModule:{value:!0}});b.tNa=void 0;q=a(1);c=q.__importDefault(a(32));k=c.default.kb;g=c.default.uA;f=a(8);d=a(21);h=q.__importDefault(a(153));m=q.__importDefault(a(5));a=(function(){function l(n,p,r,t,w){this.fu=n;this.It=p;this.K=r;this.J=t;this.Bh=w;}l.prototype.MWb=function(n){n={type:"requestCreated",request:n};f.mb(this.It,n.type,n);};l.prototype.LWb=function(n){var p;p=n.eb.Ab.G;n={type:"updateStreamingPts",mediaType:n.mediaType,position:{ea:p.id,offset:d.O.Sa(this.fu.Kpa - p.da)},completePlayerStreamingTimestamp:d.O.Sa(this.fu.Wr),trackIndex:n.stream.track.xE};f.mb(this.It,n.type,n);};l.prototype.D$a=function(n,p,r){var t,w;t=this.Bh;w=this.fu.Jk.Sf;w.Heb(n);1 === t && this.K.afa && (void 0 === w.Tva?w.Jeb(m.default.time.ma()):m.default.time.ma() - w.Tva > this.K.afa && (n.bitrate !== w.y7a && (m.default.storage.set("vb",n.bitrate),w.W3b(n.bitrate)),w.Jeb(m.default.time.ma())));w.p_ && w.p_ === n || (this.fu.Jk.x5b(p,w.p_,n),w.L3b(n),p=0,n.Jb && n.Jb.confidence && n.Jb.fb && (p=n.Jb.fb.Ca),w={ea:this.fu.Ab.G.id,offset:d.O.Sa(r - this.fu.Ab.G.da)},n={type:"streamSelected",nativetime:m.default.time.ma(),mediaType:t,streamId:n.id,manifestIndex:n.R.bc,trackIndex:n.track.xE,streamIndex:n.dg,movieTime:r,bandwidth:p,longtermBw:p,rebuffer:0,position:w,stream:n},f.mb(this.It,n.type,n));};l.prototype.HWb=function(n,p,r){var t,w,v,u,x;t=p.R;w=t.Tn;v=this.fu.Jk.Sf;u=t.eSb(p);x=u.Bva;u=u.fSb;r && p.Xc && !v.q_?(u=g.Ux,p.wu=g.name[u],this.C$a(n,p.Xc,p.wu,p.location,p.bitrate),v.q_=p.Xc):!r && p.Xc && p.Xc !== v.q_ && (u=u?void 0 === v.q_?g.Ux:w.VR === g.zja?g.oqb:g.lha:g.nqb,p.wu=g.name[u],this.C$a(n,p.Xc,p.wu,p.location,p.bitrate),v.q_=p.Xc);v.CQ || (u={type:"logdata",target:"startplay",fields:{}},this.Bh === k.mc?u.fields.alocid=p.location:this.Bh === k.Vb && (u.fields.locid=p.location),f.mb(this.It,u.type,u));r && p.location && !v.CQ?(u=g.Ux,p.wu=g.name[u],this.A$a(t.bc,n,p.location,p.iwa,p.Xc,p.GL,p.wu,p.rz),v.CQ=p.location):!r && p.location && p.location !== v.CQ && (u=x?void 0 === v.CQ?g.Ux:w.VR === g.zja?g.Vnb:g.lha:g.Unb,p.wu=g.name[u],this.A$a(t.bc,n,p.location,p.iwa,p.Xc,p.GL,p.wu,p.rz),p.rz=void 0,v.CQ=p.location);this.K.Xw || (p.t7a=p.location,p.w7a=p.Xc);};l.prototype.Bda=function(n){n={type:"requestsPruned",requests:n};f.mb(this.It,n.type,n);};l.prototype.C$a=function(n,p,r,t,w){var v,u;v=this.Bh === k.Vb?"video":"audio";u=h.default.instance().get();n={type:"serverSwitch",segmentId:n,mediatype:v,server:p,reason:r,location:t,bitrate:w,confidence:u.confidence};u.confidence && (n.throughput=u.fb.Ca);this.fu.Jk.Sf.q_ && (n.oldserver=p);f.mb(this.It,n.type,n);};l.prototype.A$a=function(n,p,r,t,w,v,u,x){f.mb(this.It,"locationSelected",{type:"locationSelected",manifestIndex:n,segmentId:p,mediatype:this.Bh === k.Vb?"video":"audio",location:r,locationlv:t,serverid:w,servername:v,selreason:u,seldetail:x});};l.prototype.vma=function(n,p){p={type:"lastSegmentPts",segmentId:n.id,pts:Math.floor(p)};n.vG || f.mb(this.It,p.type,p);};l.prototype.Vn=function(n){n={type:"managerdebugevent",message:"@" + m.default.time.ma() + ", " + n};f.mb(this.It,n.type,n);};l.prototype.DKb=function(n){f.mb(this.It,"transportReport",n);};l.prototype.CKb=function(n){f.mb(this.It,"mediaRequestComplete",n);};return l;})();b.tNa=a;},function(q,b,a){var c,k,g,f,d;Object.defineProperties(b,{__esModule:{value:!0}});b.QLa=b.Qmb=void 0;c=a(1);k=c.__importDefault(a(5));g=a(15);f=a(1002);d=a(8);q=(function(){return function(h,m,l,n){this.K=m;this.fu=n;l=d.jk(k.default,l,"[" + h + "]");this.I9a=1 === h?m.cda:m.Vca;n=k.default.yq()[h];this.L_=1 === h?m.YUb:m.CUb;this.L_=Math.min(m.LUb * n,this.L_);g.aa && l.trace("This pipeline's buffer size ",n,this.L_);this.b0=(1 === h?m.tC:m.iz) || m.b0;this.Cca=(1 === h?m.XUb:m.BUb) || m.Cca;this.Mna=m.Mna;};})();b.Qmb=q;q=(function(h){function m(l,n,p,r){return h.call(this,l,n,p,r) || this;}c.__extends(m,h);m.prototype.U2a=function(l,n){var p,r,t,w,v,u,x;t=this.fu;w=l.R.Xy();v=n === t.Fe.index;u=n === t.ag.index;if(!u || v && t.Fe.na){if(v){x=l.P2a(t.Fe);x.bS(t.Fe.aD);u && (t.Fe.na || t.ag.na) && x.Lj({start:null === (p=x.na) || void 0 === p?void 0:p.start,end:null === (r=t.ag.na) || void 0 === r?void 0:r.end});}else x=l.Hh(n);}else (x=l.P2a(t.ag),x.bS(t.ag.aD));x.XQ=n + 1;if(p=f.V3a(t,t.yc))(g.aa && t.Eo("getFragmentForRequest pts:",t.yc,"in region:",p,"previous region:",t.Mva),f.a0a(t.J,x,p,{xRb:v,DRb:u,LRb:void 0 === t.Mva || t.Mva !== p.region}));u && (x.H8a(),x.T3b(t.Ab.G));v=l.Z.Gz;if(!(x.XQ === n || null !== v && void 0 !== v && v.p6a(n) || w || !this.Mna && x.na))for(++n;n < l.Z.length && n < t.ag.index && (x.ga < this.I9a || x.duration < this.b0) && (1 === x.stream.Yf.length || this.KAb(l,n));++n){w=l.Hh(n);if(null === v || void 0 === v?0:v.p6a(n))break;if(f.o6a(t,w))break;if(x.duration + w.duration > this.Cca)break;if(x.ga + w.ga > this.L_)break;x.A8(w);x.XQ=n + 1;g.aa && t.Eo("getFragmentForRequest: extended fragment startPts:",x.da,"to duration:",x.duration,"size:",x.ga,"min request size:",this.I9a,"max request size:",this.L_,"min request duration:",this.b0,"max request duration:",this.Cca,"edit:",x.na);}g.aa && t.Eo("getFragmentForRequest(" + n + ") returning:",x,"stream:",x.stream,"firstRequestInRegion:",x.Zra,"lastRequestInRegion:",x.Zy,"nextIndex:",x.XQ);return x;};m.prototype.KAb=function(l,n){return !l.Yf.some(function(p){return n === p.Dd;});};return m;})(q);b.QLa=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.a0a=b.zRb=b.o6a=b.V3a=void 0;c=a(25);b.V3a=function(k,g){if((k=k.Ab.G.zz) && 0 !== k.length)return c.oe(k,function(f){return f.Ic.V <= g && g < f.Ud.V;});};b.o6a=function(k,g){return g.index === k.Fe.index?!0:(k=k.Ab.G.zz) && 0 !== k.length?k.some(function(f){f=f.Ic;return g.Ic.DK(f) && f.lessThan(g.Ud);}):!1;};b.zRb=function(k,g){return g.index === k.ag.index?!0:(k=k.Ab.G.zz) && 0 !== k.length?k.some(function(f){f=f.Ud;return g.Ic.lessThan(f) && f.DK(g.Ud);}):!1;};b.a0a=function(k,g,f,d){var h,m,l,n,p,r,t,w;k=null === (h=g.na) || void 0 === h?void 0:h.start;h=null === (m=g.na) || void 0 === m?void 0:m.end;w=m=!1;if((null === d || void 0 === d?0:d.LRb) || (null === d || void 0 === d || !d.xRb) && g.Ic.lessThan(f.Ic)){if(t=g.Ora(f.Ic.V))(t=(null !== (n=null === (l=g.na) || void 0 === l?void 0:l.start) && void 0 !== n?n:0) + t.hm,k=Math.max(null !== k && void 0 !== k?k:0,t));t=f.Ic.V;m=!0;}if((null === d || void 0 === d || !d.DRb) && g.Ud.greaterThan(f.Ud)){if(t=g.Ora(f.Ud.V))(t=(null !== (r=null === (p=g.na) || void 0 === p?void 0:p.start) && void 0 !== r?r:0) + t.hm,h=Math.min(null !== h && void 0 !== h?h:Infinity,t),g.XQ=g.index);t=f.Ud.V;w=!0;}if(void 0 !== k || void 0 !== h)(g.Lj({start:k,end:h}),void 0 !== t && (!g.aD || t > g.aD) && g.bS(t));g.Q3b(f.region,m,w);};},function(q,b,a){var c,k,g,f,d,h,m,l,n;Object.defineProperties(b,{__esModule:{value:!0}});b.kPa=void 0;c=a(1);k=c.__importStar(a(10));g=a(276);f=a(1005);d=a(1008);q=a(87);h=a(4);m=a(193);l=a(8);n=a(70);a=(function(p){function r(t,w,v,u,x,y,z,A){var B;B=p.call(this,t) || this;B.K=w;B.J=v;B.sm=u;B.ve=x;B.Bh=y;B.nta=A;B.hib=!0;B.bf=new m.vM(B.J);B.Jl=B.J.error.bind(B.J);B.cc=B.J.warn.bind(B.J);B.Eo=B.J.trace.bind(B.J);B.mUa();B.Jr=null === z || void 0 === z?void 0:z.BJ(function(){return B.Q1b();},"pruner");return B;}c.__extends(r,p);Object.defineProperties(r.prototype,{console:{get:function(){return this.J;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{mediaType:{get:function(){return this.Bh;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Ab:{get:function(){return this.ve;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Iz:{get:function(){return 0 < this.PC;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{FBa:{get:function(){return !this.GN;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{PC:{get:function(){return this.Pa.length;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Gu:{get:function(){return this.Pa.Gu;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{i0b:{get:function(){return this.bf.count;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{tX:{get:function(){return this.Pa.complete.fd;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Wr:{get:function(){return this.Pa.tYa;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Kpa:{get:function(){return this.Pa.sYa;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{aH:{get:function(){return this.Pa.fd;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{co:{get:function(){return void 0 === this.Pa.Rd?0:this.Pa.lf - this.Pa.Rd;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Po:{get:function(){return {ga:this.Pa.QE,V:Math.max(this.Pa.tYa - this.Pa.Rd,0) || 0};},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{UO:{get:function(){return this.Pa.mCb;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{QE:{get:function(){return this.Pa.QE;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{vt:{get:function(){return this.Pa.ga;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{qG:{get:function(){return this.Zsb();},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{rya:{get:function(){return this.Pa.yQb;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{$aa:{get:function(){return this.Pa.length > this.Pa.Gu;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Pr:{get:function(){return this.Pa.Pr;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{NSb:{get:function(){return this.Pa.RYb;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{FSb:{get:function(){return this.eTa;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Qab:{get:function(){return this.Pa.length - this.un;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Z:{get:function(){return this.Pa;},enumerable:!1,configurable:!0}});r.prototype.Mf=function(){var t,w;w=this.Pa;setTimeout(function(){w.forEach(function(v){v.abort();v.sd();});},1);this.mUa();this.bf.u$();null === (t=this.Jr) || void 0 === t?void 0:t.Rb();};r.prototype.reset=function(){this.Mf();this.bf.pdb();};r.prototype.close=function(){this.bf.u$();};r.prototype.leb=function(){this.RRa=!0;};r.prototype.uta=function(){return {endMarked:void 0 !== this.bf.count,queueCount:this.bf.count,isComplete:this.bf.aC,itemCount:this.bf.uYa,continuousEndPts:this.bf.kr().reduce(function(t,w){return w && !w.done && (w=w.value,100 > Math.abs(w.ksa - t) || -1 === t)?w.EKb:t;},-1),sentinelItemCount:this.bf.kr().filter(function(t){return t && t.done;}).length,processedCount:this.bf.CGb,rc:this.PC};};r.prototype.oFb=function(t,w,v){var u;u=this.K;h.assert(!t.header);t=t.$jc?new d.YDa(v,u,w.track,t,this.Pa,this.J):g.f4.create(v,u,w.track,t,this.Pa,!1,this.J,this.nta);t.xa(this);this.wv(t);return t;};r.prototype.byb=function(t){var w;t.xa(this);t.z8=!0;this.wv(t);w=Promise.resolve();t.complete?(this.kla(t),this.sm.D$a(t.stream,t.Rd,t.ud),w=this.dga(),this.ew(t)):(t.active && this.KP(t),t.Gza && this.tF(t));return w;};r.prototype.wv=function(t){var w,v;this.Pa.qs(t);(null === (w=this.Jr) || void 0 === w?void 0:w.state) === n.vo.complete && (null === (v=this.Jr) || void 0 === v?void 0:v.fm());this.kla(t);t.Hq && (this.GN=!1);};r.prototype.Py=function(){return this.bf.ysa();};r.prototype.epa=function(){this.un === this.Pa.length && this.RRa && this.bf.u$();};r.prototype.dga=function(){var t,w,v,u,A;t=this;v=Promise.resolve();u=this.ve;if(!u.rQ(this.Bh) || this.un === this.Pa.length)return v;for(var x=this.K.PUb,y=0,z=[];this.un < this.Pa.length;){if(w=this.Pa.get(this.un)){if(this.Pa.x1a && this.Pa.x1a.bb < w.bb)break;if(!w.Vt())break;z.push(w);++y;k.Oa(this.Rd) || (this.Rd=w.Rd);}++this.un;if(!k.ta(x) && y >= x)break;}if(z.length){void 0 !== this.bf.count && (this.Jl("tryToAtach() but requestQueue has sentinel:",this.bf.count),this.bf.pdb());if(this.hib)v=Promise.all(z.map(function(B){return t.bf.enqueue(B).then(function(){return t.Waa(B);});}));else for(w=0;w < z.length;w++){try{A=z[w];u.CNb(this.mediaType).XGb(A);this.Waa(A);}catch(B){return (this.un-=z.length - w,Promise.reject(B));}}this.epa();}return v;};r.prototype.Waa=function(t){this.eTa=t;this.G1a(t);};r.prototype.nW=function(t,w){var v,u,x;v=this;u=[];if(0 !== this.Pa.Gu){x=this.Pa.Jab;this.Pa.I7b.ABa(function(y){if(!k.ta(t) && y.R.bc !== t || y.Hq || x > y.Rd)return !0;y.sF && (v.GN=!1);if(!v.M6(y))return (v.cc("request abort failed:",y.toString()),!0);u.unshift(y);});this.Jma();u.length && "function" === typeof w && w(u);}};r.prototype.P1=function(){this.Jma();};r.prototype.Q1b=function(){var t,w,v,u,x,y;return c.__generator(this,function(z){switch(z.label){case 0:z.label=1;case 1:if(!this.Pa.length)return [3,3];t=this.Pa.get(0);w=l.O.Sa(null !== (y=null === (x=this.K.eS) || void 0 === x?void 0:x.V) && void 0 !== y?y:0);v=w.add(t.fd);return [4,n.Hl.QS(v)];case 2:z.pc();if(1 >= this.Pa.complete.length && !t.Hq)return [3,3];h.assert(t === this.Pa.get(0));t.cf || this.M6(t);u=this.Pa.splice(0,1);0 < this.un && this.un--;this.sm.Bda(u);return [3,1];case 3:return [2];}});};r.prototype.s1=function(t,w){var v,u,x,y,z,A;v=this;u=this.K;x=!1;y=0;z=this.Pa.some(function(B){if(t < B.lf)return (x && v.kla(B),!0);++y;B.cf || (v.cc("pruning unappended request:",B && B.toString()),u.fj && v.sm.Vn("prune pts:" + t + " unappended request:" + (B && B.toString())),B.sF && (v.GN=!1,x=!0),v.M6(B,w) || v.Jl("MediaRequest.abort error:",B.Zh));});if(0 < y){A=this.Pa.splice(0,y);this.un-=Math.min(y,this.un);this.sm.Bda(A);}return z;};r.prototype.Jaa=function(t){var w,v,u;void 0 === t && (t={uX:null,tR:null,Rd:null,uk:0,bo:0,rf:0,Z:[]});w=this.K;v=this.Pa;k.Oa(v.Rd) && (null === t.Rd || v.Rd < t.Rd) && (t.Rd=v.Rd);u=this.Wr;void 0 !== u && null === t.uX && (t.uX=u);u=v.lf;void 0 !== u && (null === t.tR || u > t.tR) && (t.tR=u);t.uk+=v.uk;t.bo+=v.bo;t.rf=w.tBa?t.rf + v.xcb:t.rf + v.QE;Array.prototype.unshift.apply(t.Z,v.pc.Z);return t;};r.prototype.$v=function(t){if(this.Pa.length && (t=this.Pa.k1a(t)))return t;};r.prototype.Zwb=function(t){var w,v,u;v=t.Ud;t=t.ud;h.assert(v,"expected contentEndTimestamp to be defined");h.assert(void 0 !== t,"expected contentStartPts to be defined");t=this.Pa.Kra(t);u=this.Pa.get(t);h.assert(u && void 0 !== u.ud && void 0 !== u.Uc && void 0 !== u.index,"expected existing request to be defined with properties");if(null === (w=u.Ud) || void 0 === w?0:w.equal(v))return (this.VUa(t),[u.Uc,u.index + 1]);this.VUa(t - 1);return [u.ud,u.index];};r.prototype.en=function(){var t,w;t=this;w=[];this.Pa.forEach(function(v){var u;u=v.QCa();1 === u?w.push(v):2 === u && t.Ab.R.sh("swapUrl failure");});return w;};r.prototype.ZK=function(t){t.NF && t.Vt() && this.dga();this.tF(t);};r.prototype.Nm=function(t){var w,v;t.NF && !t.cf && this.dga();(null === (w=this.Jr) || void 0 === w?void 0:w.state) === n.vo.complete && (null === (v=this.Jr) || void 0 === v?void 0:v.fm());this.ew(t);};r.prototype.Qna=function(t){var w,v,u;w=1 === this.Bh?"v_":"a_";v=this.Pa;u=v.HP(t);t=0 <= u?v.get(u):void 0;return (v=0 <= u && u + 1 < v.length?v.get(u + 1):void 0) && t?t.lf !== v.Rd?w + "rg":t.complete && v.complete?w + "uk":w + "fd":w + "rm";};r.prototype.Zsb=function(){return this.Pa.Pr + this.Pa.Gu;};r.prototype.mUa=function(){var t,w,v;w=void 0 !== this.Pa && 0 < this.Pa.length;v=this.Pa;this.Pa=new f.TDa(this.J,this);this.un=0;this.bf.clear();this.eTa=void 0;this.Rd=null;null === (t=this.Jr) || void 0 === t?void 0:t.fm();this.RRa=this.GN=!1;w && (t=v.map(function(u){return u;}),this.sm.Bda(t));};r.prototype.kla=function(t){this.GN?t.sF=!1:this.GN=t.sF=!0;};r.prototype.VUa=function(t){var w;for(t+=1;t < this.PC;t++){w=this.Pa.get(t);h.assert(w,"expected request to exist");this.bf.remove(w);w.aborted || (this.M6(w),w.sd());}this.Jma();};r.prototype.M6=function(t,w){if(!t.abort())return !1;"function" === typeof w && w(t);return !0;};r.prototype.Jma=function(){var t,w,v,u;t=this;if(0 !== this.Pa.length){v=[];u=0;this.Pa.a0b(function(x,y){y < t.un && ++u;v.push(x);});this.un-=u;null === (w=this.Jr) || void 0 === w?void 0:w.fm();this.sm.Bda(v);}};return r;})(q.yx);b.kPa=a;},function(q,b,a){var c,k,g,f,d,h,m,l,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.QDa=void 0;c=a(1);k=a(122);g=c.__importDefault(a(32));q=c.__importDefault(a(5));f=a(8);d=a(4);h=a(277);m=a(90);l=a(270);n=a(123);p=q.default.Zs;a=(function(r){function t(w,v,u,x,y,z,A,B){var D;x=r.call(this,w,u,x,z,A,B) || this;y=m.gn.prototype.toString.call(x) + (y?"(cache)":"");B={offset:u.offset,ga:u.uxa + 8,responseType:0};x.push(new l.jT(w,v,y + "(moof)",B,x,z,A));B={offset:u.offset + B.ga,ga:u.ga - B.ga,responseType:p.dd && !p.dd.Y1.GU?0:1};if(x.mediaType === g.default.kb.Vb && x.na){if(0 < x.na.start){D=x.o1a(x.na.start);D && (B.offset=u.offset + D,B.ga=u.ga - D);}x.na.end < x.Ky && (D=x.o1a(x.na.end)) && (B.ga-=u.ga - D);}x.push(new l.jT(w,v,y + "(mdat)",B,x,z,A));return x;}c.__extends(t,r);t.prototype.Vt=function(){return !this.cf && ! !this.Pa.length && this.Pa.every(function(w){return w.Vt();});};t.prototype.hJ=function(w){var v,u,x,y,z,A,B,D;if(this.cf)return {status:n.Qj.Dx};if(!this.Vt())return {status:n.Qj.rg};v=!1;u=this.Pa[0].response;x=u.slice(0,u.byteLength - 8);y=new DataView(u);u=y.getUint32(x.byteLength);d.assert("mdat" === k.Uk(y.getUint32(x.byteLength + 4)));z=this.na && 0 < this.na.start;y=this.na && this.na.end < this.Ky;if(this.na && (z || y)){if(z)(A=new k.kn(this.J,this.stream,x),B=A.Kea(this.na.start,this.I));if(y && !1 !== B){A=new k.kn(this.J,this.stream,B?f.Jv(B.T):x);D=A.H1(this.na.end - this.na.start,this.I);}if(x=y?D:B)(v=w.appendBuffer(f.Jv(x.T),f.az(this)),B && (u-=B.Rf),D && (u-=D.Rf));A=this.Xza();}else v=w.appendBuffer(x,f.az(this));v && (v=w.appendBuffer(k.bu(u - 8),f.az(this))) && (v=w.appendBuffer(this.Pa[1].response,f.az(this)));this.cf=v;this.e1b();return {status:v?n.Qj.Dx:n.Qj.rg,sl:A};};t.prototype.toString=function(){return "ID: " + this.ij() + ":" + r.prototype.toString.call(this);};return t;})(h.iT);b.QDa=a;},function(q,b,a){var c,k,g,f,d,h;Object.defineProperties(b,{__esModule:{value:!0}});b.TDa=void 0;c=a(1);a(4);k=a(1006);q=a(39);g=a(1007);f=a(74);d=a(87);h=a(269);a=(function(m){function l(n,p){var r,t;r=this;t=[new g.e4(n),new g.e4(n),new g.e4(n)];r=m.call(this,t,function(w){return w.complete?r.empty || w.bb <= r.nCb?0:1:w.active?1:2;}) || this;t=c.__read(t,3);r.aj=t[0];r.wf=t[1];r.sv=t[2];r.Kr=0;r.Xka=0;r.J=n;r.Gf=p;return r;}c.__extends(l,m);Object.defineProperties(l.prototype,{ga:{get:function(){return this.aj.ga + this.wf.ga + this.sv.ga;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{I7b:{get:function(){return this.sv;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{active:{get:function(){return this.wf;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{complete:{get:function(){return this.aj;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{xcb:{get:function(){return this.Kr;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{QE:{get:function(){return this.aj.ga;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{uk:{get:function(){return this.aj.ga + this.wf.ga - this.Kr;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{J7b:{get:function(){return this.sv.ga;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{bo:{get:function(){return this.ga - this.Kr;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{first:{get:function(){return this.QKb();},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Gj:{get:function(){return this.tzb();},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Vqa:{get:function(){return !this.aj.empty || this.sv.empty || this.wf.empty?this.first:this.wf.bb < this.sv.bb?this.wf.first:this.sv.first;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{B7a:{get:function(){return this.sv.empty || this.wf.empty?this.Gj:this.wf.wb < this.sv.wb?this.sv.Gj:this.wf.Gj;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{x1a:{get:function(){return this.sv.first;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{I:{get:function(){return this.first && this.first.I;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{bb:{get:function(){return this.Vqa && this.Vqa.bb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{wb:{get:function(){return this.B7a && this.B7a.wb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Kj:{get:function(){return this.first && this.first.Kj;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{mCb:{get:function(){return this.aj.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{yQb:{get:function(){return this.Uc - this.sYa || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{nCb:{get:function(){return this.aj.empty?this.bb:this.aj.wb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{sYa:{get:function(){return this.aj.empty?this.ud:this.aj.Uc;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{tYa:{get:function(){return this.aj.empty?this.Rd:this.aj.lf;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{RYb:{get:function(){return this.wf.Gj || this.aj.Gj;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Jab:{get:function(){return this.wf.lf || this.aj.lf;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Gu:{get:function(){return this.sv.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Pr:{get:function(){return this.wf.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{vYa:{get:function(){return this.aj.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{pc:{get:function(){return this.aj.concat(this.wf);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Et:{get:function(){return this.ah;},enumerable:!1,configurable:!0}});l.prototype.nN=function(n){var p;n.aborted?++this.Xka:this.Kr+=n.bytesReceived || 0;if(this.empty)this.ah=new h.qD(this,{});else if(n.bb !== this.wb)if(n.bb > this.ah.wb)this.ah.p2(this.ah.wb);else if(n.bb < this.bb || n.bb === this.ah.wb){p=n.wb;this.sKb(function(r,t){return r.bb - t.bb;},function(r){p=r.bb === p?r.wb:p;});p === Math.max(this.wb,n.wb)?this.ah.vpa():this.ah.p2(p);}n.aBa(this);};l.prototype.PA=function(n){n.aborted?--this.Xka:this.Kr-=n.bytesReceived;this.empty?this.ah=void 0:n.bb !== this.wb && n.wb <= this.ah.wb && n.bb > this.ah.bb && this.ah.p2(n.bb);n.WXa();};l.prototype.push=function(n){this.nN(n);return m.prototype.push.call(this,n);};l.prototype.shift=function(){var n;n=m.prototype.shift.call(this);n && this.PA(n);return n;};l.prototype.pop=function(){var n;n=m.prototype.pop.call(this);n && this.PA(n);return n;};l.prototype.unshift=function(n){this.nN(n);return m.prototype.unshift.call(this,n);};l.prototype.qs=function(n){this.nN(n);m.prototype.qs.call(this,n);};l.prototype.remove=function(n){if(!m.prototype.remove.call(this,n))return !1;this.PA(n);return !0;};l.prototype.splice=function(n,p){for(var r=[],t=2;t < arguments.length;t++){r[t - 2]=arguments[t];}t=m.prototype.splice.apply(this,c.__spread([n,p],r));r.forEach(this.nN.bind(this));t.forEach(this.PA.bind(this));return t;};l.prototype.a0b=function(n){var p;p=this;this.reduce(function(r,t,w){t.aborted && (n && n(t,w,p),0 === r.length || r[0].end !== w?r.unshift({start:w,end:w + 1}):r[0].end+=1);return r;},[]).forEach(function(r){return p.splice(r.start,r.end - r.start);});};l.prototype.Kra=function(n){return this.l1a(function(p){return p.Kra(n);});};l.prototype.HP=function(n){return this.l1a(function(p){return p.HP(n);});};l.prototype.k1a=function(n){n=this.HP(n);return -1 !== n?this.get(n):void 0;};l.prototype.Y2b=function(n){var r;for(var p=[];n < this.length;){r=this.get(n);r && p.push(r);n++;}return p;};l.prototype.AC=function(n){this.move(n);this.KP(n);};l.prototype.$K=function(n){this.Kr+=n.bytesReceived - n.iu;this.TJ(n);};l.prototype.Nm=function(n){for(this.Kr+=n.bytesReceived - n.iu;this.wf.first && this.wf.first.complete && (this.aj.empty?this.wf.first === this.Vqa:this.wf.first.bb === this.aj.wb);){this.n4b();}this.ew(n);};l.prototype.J0=function(n,p,r){this.Kr-=n.bytesReceived;++this.Xka;this.JP(n,p,r);};return l;})(k.zFa);b.TDa=a;q.Xe(d.yx,a,!1);q.Xe(f.Pu,a);q.Xe(f.Yz,a);},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.zFa=void 0;c=a(1);a(4);q=(function(){function k(g,f){this.Kd=g;this.zN=f;this.KA();}Object.defineProperties(k.prototype,{length:{get:function(){return this.Uf;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{empty:{get:function(){return 0 === this.Uf;},enumerable:!1,configurable:!0}});k.prototype.QKb=function(){return this.zh && this.zh.get(0);};k.prototype.tzb=function(){return this.tN && this.tN.get(this.tN.length - 1);};k.prototype.get=function(g){0 > g && (g+=this.length);for(var f=0;f < this.Kd.length;++f){if(this.dj[f + 1] > g)return this.Kd[f].get(g - this.dj[f]);}};k.prototype.push=function(g){this.Kd[this.zN(g)].push(g);this.KA();return this.Uf;};k.prototype.shift=function(){var g;if(this.zh){g=this.zh.shift();this.KA();return g;}};k.prototype.pop=function(){var g;if(this.tN){g=this.tN.pop();this.KA();return g;}};k.prototype.unshift=function(g){this.Kd[this.zN(g)].unshift(g);this.KA();return this.Uf;};k.prototype.qs=function(g){var f;f=this.zN(g);this.Kd[f].qs(g);this.KA();};k.prototype.remove=function(g){var f;f=this.Kd.some(function(d){return d.remove(g);});f && this.KA();return f;};k.prototype.splice=function(g,f){var r,t,w,v;for(var d,h=[],m=2;m < arguments.length;m++){h[m - 2]=arguments[m];}m=[];for(var l,n=g + Math.max(0,f),p=0;p < this.Kd.length;++p){r=this.Kd[p];t=this.dj[p];w=this.dj[p + 1];if(g < w){v=g - t;t=Math.min(n - t,r.length);void 0 === l && 0 < v && t < r.length?Array.prototype.push.apply(m,r.splice.apply(r,c.__spread([v,t - v],h))):(Array.prototype.push.apply(m,r.splice(v,t - v)),void 0 === l && (l=0 < p && 0 === v?p - 1:p));g=w;if(g >= n)break;}}if(h.length && void 0 !== l){for(n=this.zN(h[0]);0 < l && n < l && this.Kd[l].empty;){--l;}for(;h.length && n === l;){this.Kd[l].push(h.shift());if(!h.length)break;n=this.zN(h[0]);}for(;h.length && ++l < this.Kd.length && this.Kd[l].empty;){for(;h.length && n === l;){this.Kd[l].push(h.shift());if(!h.length)break;n=this.zN(h[0]);}}h.length && (d=this.Kd[l]).splice.apply(d,c.__spread([0,0],h));}this.KA();return m;};k.prototype.find=function(g){var f,d;f=this;return this.Kd.some(function(h,m){d=h.find(f.vE(g,m));return void 0 !== d;})?d:void 0;};k.prototype.findIndex=function(g){var d;for(var f=0;f < this.Kd.length;++f){d=this.Kd[f].findIndex(this.vE(g,f));if(-1 !== d)return d + this.dj[f];}return -1;};k.prototype.indexOf=function(g){var d;for(var f=0;f < this.Kd.length;++f){d=this.Kd[f].indexOf(g);if(-1 !== d)return d + this.dj[f];}return -1;};k.prototype.map=function(g){var f,d;f=this;d=this.Kd.map(function(h,m){return h.map(f.vE(g,m));});return Array.prototype.concat.apply([],d);};k.prototype.reduce=function(g,f){var d;d=this;return this.Kd.reduce(function(h,m,l){return m.reduce(d.Uwb(g,l),h);},f);};k.prototype.forEach=function(g){var f;f=this;this.Kd.forEach(function(d,h){d.forEach(f.vE(g,h));});};k.prototype.Q$=function(g){for(var f=this.Kd.length - 1;0 <= f;--f){this.Kd[f].Q$(this.vE(g,f));}};k.prototype.some=function(g){var f;f=this;return this.Kd.some(function(d,h){return d.some(f.vE(g,h));});};k.prototype.ABa=function(g){for(var f=this.Kd.length - 1;0 <= f;--f){if(this.Kd[f].ABa(this.vE(g,f)))return !0;}return !1;};k.prototype.every=function(g){var f;f=this;return this.Kd.every(function(d,h){return d.every(f.vE(g,h));});};k.prototype.sKb=function(g,f){var n,p;function d(r){return r.reduce(function(t,w,v,u){return void 0 === w?t:void 0 === t?v:0 > g(w,u[t])?v:t;},void 0);}for(var h=this,m=this.Kd.map(function(){return 0;}),l=this.Kd.filter(function(r){return r.empty;}).length;l < this.Kd.length;){n=m.map(function(r,t){return r < h.Kd[t].length?h.Kd[t].get(r):void 0;});p=d(n);f(n[p],this.dj[p] + m[p],this);++m[p];m[p] === this.Kd[p].length && ++l;}};k.prototype.move=function(g){return this.remove(g)?(this.qs(g),!0):!1;};k.prototype.n4b=function(){var g;if(this.Kd[1].length){g=this.Kd[1].shift();this.Kd[0].push(g);this.KA();}};k.prototype.l1a=function(g){for(var f=-1,d=0;d < this.Kd.length;++d){if((f=g(this.Kd[d]),-1 !== f)){f+=this.dj[d];break;}}return f;};k.prototype.toJSON=function(){return this.map(function(g){return g.toJSON();});};k.prototype.KA=function(){var f;this.Uf=0;this.dj=[0];this.tN=this.zh=void 0;for(var g=0;g < this.Kd.length;++g){f=this.Kd[g];this.Uf+=f.length;this.dj.push(this.dj[this.dj.length - 1] + f.length);!this.zh && f.length && (this.zh=f);f.length && (this.tN=f);}};k.prototype.vE=function(g,f){var d,h;d=this;h=this.dj[f];return function(m,l){return g(m,h + l,d);};};k.prototype.Uwb=function(g,f){var d,h;d=this;h=this.dj[f];return function(m,l,n){return g(m,l,h + n,d);};};return k;})();b.zFa=q;},function(q,b,a){var c,k,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.e4=void 0;c=a(1);k=a(4);q=a(39);g=a(269);a=a(74);f=(function(){function d(h,m){this.ab=[];this.ah=void 0;this.Od=0;this.J=h;m && m.length && (Array.isArray(m)?(this.ab=m.slice(),this.XU(0,this.ab.length)):m instanceof d && (this.ab=m.ab.slice(),this.XU(0,this.ab.length)));}Object.defineProperties(d.prototype,{length:{get:function(){return this.ab.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return 0 === this.ab.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{first:{get:function(){return this.ab[0];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Gj:{get:function(){return this.ab[this.ab.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bb:{get:function(){return this.first && this.first.bb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{wb:{get:function(){return this.Gj && this.Gj.wb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Et:{get:function(){return this.ah;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ga:{get:function(){return this.Od;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{I:{get:function(){return this.first && this.first.I;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Kj:{get:function(){return this.first && this.first.Kj;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Z:{get:function(){return this.ab;},enumerable:!1,configurable:!0}});d.prototype.jzb=function(){var h;if(0 === this.ab.length)(k.assert(void 0 === this.ah),k.assert(0 === this.Od));else {k.assert(this.ah instanceof g.qD);k.assert("number" === typeof this.Od);k.assert(void 0 !== this.Et && this.Et.bb === this.bb);h=this.ab.reduce(function(m,l,n){return 0 === n || l.bb === m?l.wb:m;},0);k.assert(this.Et.wb === h);k.assert(this.ab.reduce(function(m,l,n){return 0 === n || l.bb === m?l.wb:m;},0) === this.Et.wb);k.assert(this.ab.reduce(function(m,l){return m + l.ga;},0) === this.Od);}};d.prototype.get=function(h){0 > h && (h+=this.ab.length);return this.ab[h];};d.prototype.push=function(h){this.ab.push(h);this.XU(this.ab.length - 1);return this.length;};d.prototype.unshift=function(h){this.ab.unshift(h);this.XU(0,1);return this.length;};d.prototype.pop=function(){if(0 !== this.ab.length)return (this.Lma(this.ab.length - 1),this.ab.pop());};d.prototype.shift=function(){if(0 !== this.ab.length)return (this.Lma(0),this.ab.shift());};d.prototype.splice=function(h,m){for(var l,n=[],p=2;p < arguments.length;p++){n[p - 2]=arguments[p];}0 > h && (h+=this.ab.length);0 > h && (h=0);h > this.ab.length && (h=this.ab.length);if(void 0 === m || 0 > m)m=0;m=Math.min(m,this.ab.length - h);0 < m && this.Lma(h,h + m);p=(l=this.ab).splice.apply(l,c.__spread([h,m],n));0 < n.length && this.XU(h,h + arguments.length - 2);return p;};d.prototype.slice=function(h,m){void 0 === h && (h=0);void 0 === m && (m=this.ab.length);0 > h && (h+=this.ab.length);if(h >= this.ab.length)return new d(this.J);m > this.ab.length && (m=this.ab.length);0 > m && (m+=this.ab.length);return new d(this.J,this.ab.slice(h,m));};d.prototype.qs=function(h){if(0 === this.ab.length || h.bb >= this.wb)this.push(h);else if(h.wb <= this.bb)this.unshift(h);else {for(var m=0,l=this.ab.length - 1,n;m < l - 1;){n=Math.floor((l + m) / 2);k.assert(n !== l && n !== m);h.bb >= this.ab[n].wb?m=n:l=n;}k.assert(m !== l);k.assert(this.ab[m].wb <= h.bb && this.ab[l].bb >= h.wb);this.splice(l,0,h);}};d.prototype.remove=function(h){h=this.ab.indexOf(h);if(0 > h)return !1;this.splice(h,1);return !0;};d.prototype.concat=function(){for(var h=[],m=0;m < arguments.length;m++){h[m]=arguments[m];}h=h.map(function(l){return l.ab;});return new d(this.J,Array.prototype.concat.apply(this.ab,h));};d.prototype.forEach=function(h){var m;m=this;this.ab.forEach(function(l,n){return h(l,n,m);});};d.prototype.some=function(h){var m;m=this;return this.ab.some(function(l,n){return h(l,n,m);});};d.prototype.every=function(h){var m;m=this;return this.ab.every(function(l,n){return h(l,n,m);});};d.prototype.map=function(h){var m;m=this;return this.ab.map(function(l,n){return h(l,n,m);});};d.prototype.reduce=function(h,m){var l;l=this;return this.ab.reduce(function(n,p,r){return h(n,p,r,l);},m);};d.prototype.indexOf=function(h){return this.ab.indexOf(h);};d.prototype.find=function(h){var m,l;m=this;return this.ab.some(function(n,p){l=p;return h(n,p,m);})?this.ab[l]:void 0;};d.prototype.findIndex=function(h){var m,l;m=this;return this.ab.some(function(n,p){l=p;return h(n,p,m);})?l:-1;};d.prototype.filter=function(h){var m;m=this;return new d(this.J,this.ab.filter(function(l,n){return h(l,n,m);}));};d.prototype.Q$=function(h){for(var m=this.ab.length - 1;0 <= m;--m){h(this.ab[m],m,this);}};d.prototype.ABa=function(h){for(var m=this.ab.length - 1;0 <= m;--m){if(h(this.ab[m],m,this))return !0;}return !1;};d.prototype.Kra=function(h){if(this.empty || h < this.ud || h >= this.Uc)return -1;for(var m=0,l=this.ab.length - 1,n;l > m;){n=Math.floor((l + m) / 2);if(h >= this.ab[n].ud && h < this.ab[n].Uc){l=n;break;}h < this.ab[n].Uc?l=n - 1:m=n + 1;}return l;};d.prototype.HP=function(h){if(this.empty || h < this.Rd || h >= this.lf)return -1;for(var m=0,l=this.ab.length - 1,n;l > m;){n=Math.floor((l + m) / 2);if(h >= this.ab[n].Rd && h < this.ab[n].lf){l=n;break;}h < this.ab[n].lf?l=n - 1:m=n + 1;}return l;};d.prototype.k1a=function(h){h=this.HP(h);return 0 <= h?this.ab[h]:void 0;};d.prototype.m8=function(h){var m;m=this.ab[h].wb;for(h+=1;h < this.ab.length && m === this.ab[h].bb;++h){m=this.ab[h].wb;}h < this.ab.length?void 0 === this.ah?this.ah=new g.qD(this,{wb:m}):this.ah.p2(m):void 0 === this.ah?this.ah=new g.qD(this,{}):this.ah.vpa();};d.prototype.nN=function(h,m){for(var l=h;l < m;++l){this.Od+=this.ab[l].ga;}void 0 === this.ah || 0 === h?this.m8(0):this.ah.wb === this.wb?this.m8(h - 1):this.ab[h].bb === this.ah.wb && this.m8(h);};d.prototype.PA=function(h,m){var l;if(0 === h)(this.ah=void 0,m < this.length && this.m8(m));else {l=this.ah;l.wb > this.ab[h - 1].wb && (m < this.length?l.p2(this.ab[h - 1].wb):l.vpa());}for(;h < m;++h){this.Od-=this.ab[h].ga;}};d.prototype.XU=function(h,m){void 0 === m && (m=h + 1);this.nN(h,m);};d.prototype.Lma=function(h,m){void 0 === m && (m=h + 1);this.PA(h,m);};return d;})();b.e4=f;q.Xe(a.Pu,f);q.Xe(a.Yz,f);},function(q,b,a){var c,k,g,f,d,h,m,l,n;Object.defineProperties(b,{__esModule:{value:!0}});b.YDa=void 0;c=a(1);k=a(122);a(4);c.__importDefault(a(5));g=a(8);f=a(277);d=a(90);h=a(270);m=a(123);l=[0,0];(function(p){p[p.INIT=0]="INIT";p[p.Znb=1]="MDAT";})(n || (n={}));q=(function(p){function r(t,w,v,u,x,y){t=p.call(this,t,u,x,w,y) || this;t.xsb=v;t.ySa=n.INIT;t.rec=u.offset;t.hma=d.gn.prototype.toString.call(t) + " multiple";t.ptb="AseMultiFragmentMediaRequest(" + t.ud + "-" + t.Uc + ")";t.avb=u.ga;t.FK=u.FK;t.jSa=0;t.f7=0;t.fO(u.offset,Math.max(l[t.mediaType],1024),0);return t;}c.__extends(r,p);Object.defineProperties(r.prototype,{data:{get:function(){return this.Ao;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{ga:{get:function(){return this.avb;},enumerable:!1,configurable:!0}});r.prototype.Nm=function(t){var w,v,u,x;switch(this.ySa){case n.INIT:this.Ao=void 0 === this.Ao?t.response:g.Jv(this.Ao,t.response);t.Hea();(w=new DataView(this.Ao),v=this.Osb(w,this.jSa,this.f7),u=v.size);w=v.offset;x=v.iAb;v.I1a?(v=w + u - this.f7,l[this.mediaType]=Math.max(w + 8,l[this.mediaType]),this.fO(t.offset + t.ga,v,1),this.ySa=n.Znb):(this.jSa=w,this.fO(t.offset + t.ga,Math.max(x,256),0));}f.iT.prototype.Nm.call(this,t);};r.prototype.hJ=function(t){var w;if(this.cf)return {status:m.Qj.Dx};if(!this.Vt())return {status:m.Qj.rg};if(!t.appendBuffer(this.Ao,g.az(this)))return (this.J.error(this.ptb,"appendTo failed to append array"),{status:m.Qj.rg});w=this.Pa[this.Pa.length - 1];this.cf=t.appendBuffer(w.response,g.az(w));return {status:this.cf?m.Qj.Dx:m.Qj.rg};};r.prototype.fO=function(t,w,v){t=new h.jT(this.stream,this.xsb,this.hma + " (" + this.Pa.length + ")",{L:this.L,mediaType:this.mediaType,Za:this.Za,bitrate:this.bitrate,offset:t,ga:w,location:this.location,Pe:this.Pe,responseType:v,FK:this.FK},this,this.Kf,this.J);this.push(t);this.f7+=w;};r.prototype.Osb=function(t,w,v){var u,x;for(;;){u=t.getUint32(w);x=t.getUint32(w + 4);if("mdat" === k.Uk(x))return {I1a:!0,size:u,offset:w};if(w + u >= v)return {I1a:!1,size:-1,offset:w,iAb:w + u - v + 8};w+=u;}};return r;})(f.iT);b.YDa=q;},function(q,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.aQa=void 0;c=a(448);k=a(21);q=(function(){function g(f,d){this.Oh=f;this.console=d;this.HI=Infinity;this.gV=this.Q7=0;this.JUa=!1;}g.prototype.J1b=function(){this.JUa=!0;};g.prototype.UJb=function(f,d,h,m,l){var n;if(this.Oh){n=f.Z;if(n){if(1 === h)(h=n.Pn(Math.ceil(this.Oh * f.$.jL),void 0,!0),n=f.Hh(h),f=n.LJ.Dj(f.$),n.Lj({start:0,end:this.Oh - h * f}),this.HI=this.Oh);else {void 0 !== m.rfb?(d=m.rfb,h=d * f.$.V):(h=c.jta(m,l) + Math.ceil(m.dzb * f.$.jL),k.O.Sa(h).Dj(f.$),h=d + h,d=Math.ceil(h / f.$.jL));h=n.Pn(h,void 0,!0);for(l=m=0;l < h;++l){n=f.Hh(l);m+=n.LJ.Dj(f.$);}m=d - m;n=f.Hh(h);n.Lj({end:m});this.HI=d;}n.H8a();return n;}}};g.prototype.zQb=function(f){this.gV+=f.hdb;this.console.warn("StallAtFrameCount, adding frames: " + f.hdb,"total frames: " + this.gV,"needed frames: " + this.HI);};g.prototype.pPb=function(){this.console.trace("stallAtFrameCount.hasEnoughRequestedFrames:","requested: " + this.Q7,"needed: " + this.HI);return this.Q7 >= this.HI;};g.prototype.oPb=function(){return this.gV >= this.HI;};g.prototype.BQb=function(f,d){this.Q7+=this.JB(f,d);};g.prototype.MIb=function(f,d,h){f.hdb=this.JB(d,h);};g.prototype.JB=function(f,d){return f.LJ.Dj(d.$);};g.prototype.lB=function(){if(!this.oPb())return !1;if(this.JUa)return (this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1);this.console.warn("StallAtFrameCount bufferingComplete = true:",this.gV + " >= " + this.HI);return !0;};return g;})();b.aQa=q;},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r;Object.defineProperties(b,{__esModule:{value:!0}});b.Bka=void 0;q=a(1);c=q.__importStar(a(10));k=q.__importDefault(a(32));g=q.__importDefault(a(5));f=a(25);d=a(17);h=a(274);m=a(1011);l=new g.default.Console("ASEJS_STREAM_SELECTOR","media|asejs");n=[d.Da[d.Da.Sh],d.Da[d.Da.Md],d.Da[d.Da.sg],d.Da[d.Da.$c],d.Da[d.Da.Rh],"checkBuffering"];p={first:a(1013),random:a(1014),optimized:a(195).default,generic:a(1016).default,roundrobin:a(1024),selectaudio:a(458),selectaudioadaptive:a(1025),"default":a(195).default,lowest:a(1026),highest:a(1027),throughputthreshold:a(1028),replay:a(1029).default,checkdefault:a(1031),testscript:a(1032)};r={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};a=(function(){var V60;function t(w,v,u,x){var W60,y;W60=2;for(;W60 !== 6;){switch(W60){case 3:var Y29="1SIYb";Y29+="Z";Y29+="rN";Y29+="J";Y29+="Cp9";Y29;w=w || this.K.RBa;this.wh=n.reduce(function(z,A){var X60;X60=2;for(;X60 !== 5;){switch(X60){case 2:z[A]=((p[w] || p[r[A]])[A] || p[r[A]][A]).bind(y);return z;break;}}},{});x && (this.xab=new m.vMa(v));W60=6;break;case 2:y=this;this.WR=w;this.K=v;this.Sf=u;W60=3;break;}}}V60=2;for(;V60 !== 6;){switch(V60){case 5:t.prototype.x5b=function(w,v,u){var g70;g70=2;for(;g70 !== 1;){switch(g70){case 2:c.ta(v)?this.ima=this.mma=void 0:v.bitrate < u.bitrate && (this.mma=w);g70=1;break;}}};t.prototype.$ya=function(w,v,u,x,y){var h70,z,A;h70=2;for(;h70 !== 5;){switch(h70){case 2:this.Q$(w,function(B){var i70;i70=2;for(;i70 !== 1;){switch(i70){case 2:B.Bw && B.Jb && B.Jb.confidence?(z !== B.Jb && (z=B.Jb,v && B.Jb && (B.Jb.Yt=!0),A=Math.floor(y(B.Jb,x,u,B.track.R.du[0])),A=0 === A?1:A),B.fb=A):B.fb=void 0;i70=1;break;}}});h70=5;break;}}};V60=3;break;case 2:t.prototype.IAa=function(w,v,u,x,y,z,A){var N5q=a000;var Y60,L,M,Q,B,D,C,F,G,E,I,K,H,P,J,O,Z60,N;Y60=2;for(;Y60 !== 67;){switch(Y60){case 64:M.a_b=Q;Y60=63;break;case 26:this.mma=this.ima=void 0;Y60=25;break;case 3:L=this.Sf.ws.bitrate;I=f.Ko(v,function(T){var a70;a70=2;for(;a70 !== 1;){switch(a70){case 4:return T.bitrate <= L;break;a70=1;break;case 2:return T.bitrate > L;break;}}});I=0 < I?I - 1:0 === I?0:v.length - 1;Y60=7;break;case 25:this.Sf.ueb(k.default.j5.Sh);Y60=24;break;case 49:Y60=w.qP?48:75;break;case 30:y=v[x];Y60=29;break;case 11:Y60=!(0 <= I)?10:18;break;case 50:var z29="p";z29+="layi";z29+="ng";w.state !== d.Da.$c && w.state !== d.Da.Rh?(v=h.hea(w.state),z=this.lB(w.buffer,v,w.playbackRate,u,z),(M.yf=z.complete)?M.g9=z.reason:(M.yf=!1,M.wL=z.wL,M.WF=z.WF,M.progress=z.progress)):(M.yf=!0,M.g9=z29);Y60=49;break;case 42:y=v[x];Y60=41;break;case 28:Y60=!u?44:40;break;case 37:void 0 === M.F9a?this.Sf.r2(M.nf):this.Sf.r2(M.F9a);u=v[M.nf];Y60=54;break;case 24:M=this.wh[d.Da[w.state]].call(this,E,w,v,I,x,! !y,K,u);M.mf=w.state;Y60=22;break;case 54:var s29="min_f";s29+="ragment_v";s29+="maf";M.h1=u.fb || 0;M.reason && (u.wu=M.reason,s29 !== M.reason && (u.GAa=M.ww,u.YB=M.YB,u.Dq=M.Dq,u.Eq=M.Eq));this.xab && (M.mz=this.xab.sNb({lJ:F.gl - F.Ac,Ac:F.Ac,YTb:v[0],cg:u,v8b:v[M.nf + 1] || u,X6b:v[v.length - 1],mf:w.state,playbackRate:w.playbackRate,Dd:w.Dd,X$:A}));c.Oa(I) && u.bitrate < v[I].bitrate && (this.ima=F.yc);Y60=50;break;case 45:Q=[];z.forEach(function(T){var e70,V;e70=2;for(;e70 !== 4;){switch(e70){case 2:V=T.stat;V=(T=O[T.filter]) && T[V];Q.push(isNaN(V)?-1:V);e70=4;break;}}});Y60=64;break;case 73:this.Sf.ueb(k.default.j5.Sh);Y60=24;break;case 41:y.Z && y.Z.length || (u=!0,M.xB.push(y.Za));Y60=40;break;case 40:u || (M.xB=void 0);Y60=39;break;case 38:return null;break;case 2:(F=null === w || void 0 === w?void 0:w.buffer,G=g.default.time.ma(),E=this.K,I=this.Sf.v7a,K=!1);c.Oa(I) && w.state === d.Da.Sh && (this.Sf.r2(void 0),I=void 0);c.Oa(I) && I >= v.length && (this.Sf.r2(void 0),I=void 0);Y60=4;break;case 6:(H=F.Z,P=H.length);Y60=14;break;case 10:J=H[P - 1].bitrate;I=f.Ko(v,function(T){var c70;c70=2;for(;c70 !== 1;){switch(c70){case 2:return T.bitrate > J;break;case 4:return T.bitrate >= J;break;c70=1;break;}}});Y60=19;break;case 22:Y60=M.cg && (M.xB=[],v.forEach(function(T,V){var d70;d70=2;for(;d70 !== 4;){switch(d70){case 2:T === M.cg && (M.nf=V);(!E.aIb || T.Z && T.Z.length) && !T.J2 || M.xB.push(T.Za);T.J2=!1;d70=4;break;}}}),!M.xB.length)?21:39;break;case 71:Y60=Z60 === d.Da.$c?24:70;break;case 32:N5q.s59(2);var P31=N5q.z59(15,14);x=M.nf + P31;Y60=31;break;case 76:M.sS=g.default.time.ma();Y60=75;break;case 48:O=u.Jb;z=E.kUa;Y60=46;break;case 75:return M;break;case 39:Y60=!M || null === M.nf?38:37;break;case 43:Y60=0 <= x?42:40;break;case 46:Y60=O && z && 0 < z.length?45:63;break;case 4:Y60=c.ta(I) && w.state === d.Da.$c && (K=!0,void 0 !== this.Sf.ws)?3:6;break;case 33:Y60=E.hfb && x > E.X_?32:40;break;case 55:M.Pr=w && w.Pr;M.Lz=G;Y60=76;break;case 14:Y60=0 < P?13:18;break;case 19:I=0 < I?I - 1:0 === I?0:v.length - 1;Y60=18;break;case 27:Z60=w.state;Y60=Z60 === d.Da.Sh?26:74;break;case 69:Y60=68;break;case 13:N=H[P - 1].Za;I=f.Ko(v,function(T){var b70;b70=2;for(;b70 !== 1;){switch(b70){case 2:return T.Za === N;break;case 4:return T.Za != N;break;b70=1;break;}}});Y60=11;break;case 70:Y60=Z60 === d.Da.Rh?24:69;break;case 44:N5q.s59(10);var Q31=N5q.z59(4,16,3,15);x=M.nf - Q31;Y60=43;break;case 68:var V29="Stream";V29+=" sel";V29+="ector called with invalid play";V29+="er state ";return (l.error(V29 + d.Da[w.state]),null);break;case 63:M.yc=F.yc;z=w && w.Dd;v=u.Z;M.il=v && void 0 !== z && !isNaN(z) && 0 <= z && z < v.length?v.Gk(z):F.yc;M.dXb=O && O.fb && O.fb.Ca || 0;M.Koa=F.gl - F.Ac;M.dXa=F.rf;Y60=56;break;case 18:c.ta(I) && (I=this.Sf.v7a);void 0 !== x && this.$ya(v,! !w.Yt,w.state,w.buffer,x);w.state === d.Da.Sh && c.Oa(I) && (w.state=d.Da.Md);Y60=15;break;case 56:M.FZb=null !== (C=null === (D=null === (B=g.default.xgc) || void 0 === B?void 0:B.call(g.default)) || void 0 === D?void 0:D[1 === w.mediaType?1:0]) && void 0 !== C?C:-1;Y60=55;break;case 15:w.state !== d.Da.Sh && void 0 === I && (w.state=d.Da.Sh);Y60=27;break;case 7:this.Sf.r2(I);Y60=6;break;case 21:x=F.gl - F.Ac;y=void 0;u=!1;Y60=33;break;case 74:Y60=Z60 === d.Da.Md?73:72;break;case 72:Y60=Z60 === d.Da.sg?73:71;break;case 31:Y60=x < v.length?30:28;break;case 29:y.Z && y.Z.length || (u=!0,M.xB.push(y.Za));Y60=28;break;}}};t.prototype.lB=function(w,v,u,x,y){var f70;f70=2;for(;f70 !== 1;){switch(f70){case 2:return this.wh.checkBuffering.call(this,w,v,u,x,y,this.K);break;}}};V60=5;break;case 3:t.prototype.Q$=function(w,v){var j70,u;j70=2;for(;j70 !== 3;){switch(j70){case 1:j70=0 <= u?5:3;break;case 2:a000.V59(11);var R31=a000.z59(20,3,35,12);u=w.length - R31;j70=1;break;case 7:j70=1 < u?6:5;break;j70=0 <= u?5:3;break;case 5:v(w[u],u,w);j70=4;break;case 4:--u;j70=1;break;}}};Object.defineProperties(t.prototype,{gca:{get:function(){var k70;k70=2;for(;k70 !== 1;){switch(k70){case 4:return this.ima;break;k70=1;break;case 2:return this.ima;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Yva:{get:function(){var l70;l70=2;for(;l70 !== 1;){switch(l70){case 2:return this.mma;break;}}},enumerable:!1,configurable:!0}});return t;break;}}})();b.Bka=a;},function(q,b,a){var t,w;function c(v){return m(v.cg);}function k(v,u){var x,y;x=v.n6b;x=p(u) + x * r(u);u=u.fb || 0;y=0;0 < u && (y=x / u - 1);return v.LVb + v.m6b * Math.max(0,y);}function g(v,u){var x,y,z,A;if(!u || "object" !== typeof u)return 0;x=v.cg;y=v.v8b;z=v.X6b;A={selectedFragmentBitrate:h(v.X$,x,v.Dd) * v.playbackRate,selectedPeakBitrate:(x.ez || l(x) || 0) * v.playbackRate,upswitchPeakBitrate:(y.ez || l(y) || 0) * v.playbackRate,maxPeakBitrate:(z.ez || l(z) || 0) * v.playbackRate,selectedAverageBitrate:l(x) * v.playbackRate,upswitchAverageBitrate:l(y) * v.playbackRate,maxAverageBitrate:m(x) * v.playbackRate,bufferLevelMs:v.lJ,observedThroughput:n(v.cg) || 0,averagetp:p(v.cg) || 0,stddevtp:r(v.cg) || 0};v=u.offset || 0;return Object.keys(A).reduce(function(B,D){return B + (u[D] || 0) * A[D];},v);}function f(v,u,x){var z;function y(A,B){return void 0 !== A && 0 < A.filter(function(D){return D === B;}).length;}z=v.filter(function(A){return y(A.iea,u);});0 === z.length && (z=v.filter(function(A){return !A.iea || 0 === A.iea.length;}));v=z.filter(function(A){return y(A.c$a,x);});0 === v.length && (v=z.filter(function(A){return !A.c$a || 0 === A.c$a.length;}));return v.sort(function(A,B){return A.h9 - B.h9;});}function d(v,u){var x,A,B;x=f(u.a1b,v.mf,v.cg.Jb.confidence);if(0 === x.length)return 0;u=k(u,v.cg);u=v.lJ / u;for(var y=-1,z=0;z < x.length;z++){if(x[z].h9 >= u){y=z;break;}}if(-1 === y)return g(v,x[x.length - 1].Fpa);if(0 === y)return g(v,x[0].Fpa);A=x[y - 1].h9;z=g(v,x[y - 1].Fpa);B=x[y].h9;v=g(v,x[y].Fpa);x=Math.min((u - A) / (B - A),1);return (1 - x) * z + x * v;}function h(v,u,x){var y;return void 0 !== x && u.Z?(void 0 === v?null === (y=u.Z) || void 0 === y?void 0:y.get(x).yoa:v.U2a(u,x).yoa) || u.ez || 0:u.ez || 0;}function m(v){var u,x;x=null === (u=null === v || void 0 === v?void 0:v.R) || void 0 === u?void 0:u.du;return x?x[v.mediaType] || 0:0;}function l(v){return (null === v || void 0 === v?void 0:v.bitrate) || 0;}function n(v){var u;v=v.Jb;return (null === (u=null === v || void 0 === v?void 0:v.fb) || void 0 === u?void 0:u.Ca) || 0;}function p(v){var u;v=v.Jb;return (null === (u=null === v || void 0 === v?void 0:v.mq) || void 0 === u?void 0:u.CO) || 0;}function r(v){var u;v=v.Jb;return Math.sqrt(null === (u=null === v || void 0 === v?void 0:v.mq) || void 0 === u?void 0:u.LS) || 0;}Object.defineProperties(b,{__esModule:{value:!0}});b.oNb=b.MLb=b.qOb=b.vMa=void 0;q=a(1).__importDefault(a(5));t=a(1012);new q.default.Console("ASEJS_PACERATE_SELECTOR","media|asejs");w={maxStreamBitrate:c,"static":function(v,u){return u.l5b;},none:function(){return 0;},regression:d,epsGreedy:function(v,u){return Math.min(d(v,u) || 0,n(v.cg));},"default":c};a=(function(){var m70;m70=2;for(;m70 !== 4;){switch(m70){case 2:v.prototype.Osa=function(u,x,y){var o70,z;o70=2;for(;o70 !== 8;){switch(o70){case 2:o70=1;break;case 5:return 0;break;case 1:o70=!y?5:4;break;case 4:a000.V59(12);x=Math.ceil(a000.Y59(x,y));u=(this.K.aYa.ohc || 0) * ((null === (z=u.YTb) || void 0 === z?void 0:z.ez) || 0);o70=9;break;case 9:return x < u?0:x;break;}}};v.prototype.sNb=function(u){var p70,x,y,z;p70=2;for(;p70 !== 6;){switch(p70){case 2:(x=new t.Cja({WC:0,rB:0,LC:0}),y=this.K.aYa);p70=1;break;case 5:return x;break;case 1:p70=!y?5:4;break;case 3:p70=z && u.Dd && 0 === u.Dd % z || u.lJ < y.QK?9:8;break;case 9:return x;break;case 4:z=this.K.H7b;p70=3;break;case 8:x=this.algorithm(u,this.K);return new t.Cja({WC:this.Osa(u,x,y.hcb[0]),LC:this.Osa(u,x,y.hcb[2]),rB:this.Osa(u,x,y.hcb[1])});break;}}};return v;break;}}function v(u){var n70;n70=2;for(;n70 !== 4;){switch(n70){case 2:var f29="d";f29+="efau";f29+="l";f29+="t";var b29="1";b29+="SIYbZr";b29+="NJC";b29+="p";b29+="9";this.K=u;b29;this.algorithm=(w[this.K.wYb] || w[f29]).bind(this);n70=4;break;}}}})();b.vMa=a;b.qOb=k;b.MLb=f;b.oNb=n;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Cja=void 0;c=a(1);q=(function(){function k(g){this.WC=g.WC;this.rB=g.rB;this.LC=g.LC;}Object.defineProperties(k.prototype,{icb:{get:function(){return [this.WC,this.rB,this.LC];},enumerable:!1,configurable:!0}});k.prototype.J9a=function(){return Math.min(this.WC,this.rB,this.LC);};k.prototype.Qba=function(){return this.icb.some(function(g){return 0 < g;});};k.prototype.Ndb=function(g){return new k({WC:g * this.WC,rB:g * this.rB,LC:g * this.LC});};k.prototype.K8a=function(g,f,d,h){var m;m=8 * g / Math.max(d - f,1);if(!this.Qba())return !1;g=this.icb.map(function(l){return Math.abs(m - l) / l;});return Math.min.apply(Math,c.__spread(g)) < h;};return k;})();b.Cja=q;},function(q,b,a){var k,g,f,d;function c(h,m,l,n){if(k.ta(n))h=g(l);else if(f(l[n]))h=n;else if((h=g(l,n),0 > h))return null;return new d(h);}k=a(10);b=a(33);g=b.Sra;f=b.wK;d=b.Np;q.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(q,b,a){var k;function c(g,f,d){g=d.map(function(h,m){return h.Bw?m:null;}).filter(function(h){return null !== h;});return g.length?new k(g[Math.floor(Math.random() * g.length)]):null;}k=a(33).Np;q.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(q,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});c=a(1);c.__importStar(a(10));k=a(33);b.default=function(g){var x5q=a000;var q70,f,d,h,m,l,n,p,r,t,w,v,u,x,y,z,K,A,B,D,C,F,G,E,I;q70=2;for(;q70 !== 54;){switch(q70){case 28:q70=l < h && E < r?44:43;break;case 31:x5q.s59(13);h+=x5q.z59(I,0,u,F);p+=K;q70=29;break;case 32:x5q.s59(2);f=x5q.Y59(p,h);q70=31;break;case 29:v-=F;q70=28;break;case 39:m=Math.min(f,m);q70=26;break;case 34:q70=!z && (f=p - h,f < y)?33:32;break;case 23:q70=v < F?22:38;break;case 35:(h=l,v+=D[E],++E,f=B[E],l+=f);q70=21;break;case 41:g && n.push(f / (A / 1E3));G=f;q70=39;break;case 42:q70=r >= t && f > C?36:41;break;case 21:q70=v < G?35:34;break;case 26:q70=r < d?25:36;break;case 19:0 === p && (h=0);x5q.V59(0);h*=x5q.Y59(A,1E3);x5q.V59(0);p*=x5q.z59(A,1E3);x5q.V59(0);y*=x5q.z59(A,1E3);q70=15;break;case 2:(f=g.Z,d=g.blocks,h=g.Ac,m=g.gl,l=g.Q4b,n=g.uk,p=g.yc,r=g.Dd,t=g.kKb,w=g.mY,v=g.U1a,u=g.fb,x=g.Wca,y=g.QK,z=g.gSb);g=g.bIb;q70=5;break;case 37:return (g && n.push(f / (A / 1E3)),c.__assign({result:!1,F_:Math.min(f,m) / (A / 1E3),cw:!0},g && ({i9:n})));break;case 43:++r;q70=42;break;case 27:x5q.s59(0);C*=x5q.Y59(A,1E3);q70=26;break;case 25:F=D[r];K=B[r];q70=23;break;case 5:var F29="1SIYb";F29+="ZrNJC";F29+="p";F29+="9";F29;A=f.I;d=Math.min(f.length,d);(B=f.ed,D=f.sizes,C=m - h,F=8 * n / u | 0);q70=8;break;case 38:q70=(f=Math.max(p - h,0),f < x && f < G)?37:31;break;case 15:x5q.s59(0);x*=x5q.z59(A,1E3);q70=27;break;case 10:var c29=" >";c29+="= fragme";c29+="ntsL";c29+="ength: ";var n29="Str";n29+="eami";n29+="ng";n29+="Index:";n29+=" ";r >= d && k.console.error(n29 + r + c29 + d);h+=F;q70=19;break;case 33:return (g && n.push(f / (A / 1E3)),c.__assign({result:!1,F_:f / (A / 1E3),cw:!1},g && ({i9:n})));break;case 44:(v+=D[E],++E,l+=B[E]);q70=28;break;case 22:G=Math.max(F,w);q70=21;break;case 36:return c.__assign({result:!0,F_:m / (A / 1E3),cw:!0},g && ({i9:n}));break;case 8:n=[];m=Infinity;(G=0,E=0);f=f.ed[0];x5q.V59(14);l=x5q.Y59(1E3,l,f,A);x5q.s59(15);u=x5q.z59(8,u,0);x5q.V59(0);I=x5q.Y59(A,1E3);q70=10;break;}}};},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});q=a(457);c=a(454);a=a(1017);b.default={STARTING:q.HAa,BUFFERING:c.SR,REBUFFERING:c.SR,PLAYING:a.up,PAUSED:a.up};},function(q,b,a){var g,f,d,h,m,l,n,p;function c(r,t,w){var v,u;v=t.length - 1;r=Math.min(v,r);u=t[r].nb;r=Math.min(r + 1,v);if(u)for((w=u + w,u=r);u <= v;u++){t[u].nb <= w && (r=u);}return r;}function k(r){var w;for(var t=r.length - 1;0 <= t;t--){w=r[t];if(w.Z)return w;}return null;}Object.defineProperties(b,{__esModule:{value:!0}});b.up=void 0;g=a(1);g.__importDefault(a(33));f=a(33);d=a(1018);h=a(1019);m=a(1020);l=a(1021);n=a(1022);p=a(1023);b.up=function(r,t,w,v,u,x,y,z){var B,D,C,F,G,E,N,J,M,O,Q,T,V,da,pa;function A(xa,ya){var sa,X,S,R,W,ia,za,Ra,Fa,$a,Ta,Xa,eb,fa;sa=xa.opa;if(!sa[ya]){X=w[ya];S=xa.aXa;R=xa.TWa;W=Q[xa.ifa.length];ia=0;za=0;Ra=0;Fa=0;$a=X && X.Z;Ta=1;!$a && C && ($a=C && C.Z,Ta=X.bitrate / C.bitrate);if($a){Xa=$a.Pn(xa.yc);eb=$a.length - 1;for(S=S.Xr();Xa <= eb && Fa < W;){for(var rb=0,U=0;Xa <= eb && U <= F;){rb+=Math.round(Ta * $a.wBa(Xa));U+=$a.ed(Xa);Xa++;}fa=d.Esa(G,S,rb,U);R=n.uBa(R,fa[1],H,T,V,N,rb,U,E);za+=R[1];R=R[0];Ra+=R.length;ia++;Fa+=U;(fa=fa[0]) && S.YIb(fa);S.qyb(rb,U);}}ia=g.__read([S,R,ia,Ra,za,Fa],6);S=ia[0];W=ia[1];ia=ia[5];X=xa.dgb + X.nb * ia;za=xa.cgb + ia;Ra=m.BYa(W,M,O || Infinity);Fa=m.AYa(X / za,Ra,J);sa[ya]={aXa:S,TWa:W,yc:xa.yc + ia,dgb:X,cgb:za,ar:Fa,vcb:Ra,low:Math.max(0,ya - 1),Gj:ya,high:Math.min(da,ya + 1),ifa:xa.ifa.concat(ya),opa:[]};pa++;}return sa[ya].ar;}u=new f.Np();D=w[v || 0];C=k(w);if(null === C)return (u.cg=D,u);F=r.b0;x=r.Z2b;y=t.buffer;G={Wzb:y.Fv,eu:r.eu,JK:r.JK,UUb:8388608};E=Math.max(1,t.playbackRate);r=x.ffc;t=r.min;for(var I=r.max,K=r.step,L=r.scale,H=[0],P=r=0;P < I - t;(P=P * L + K,r++)){H.push(P + t);}N=x.accuracy;J=x.Lic;M=x.Mic;O=x.dic;Q=x.Ega;r=x.search;z=l.G2a(D || C,x.bkc,x.Ffc,z);T=z[0];V=z[1];D=new p.NEa(y.Z,[]);t=y.yc;I=[[t - y.Ac,1]];z="bitonic" === r;if(y=y.bo)(r=d.Esa(G,D,y,0)[1],I=n.uBa(I,r,H,T,V,N,y,0,E)[0]);da=c(v || 0,w,x.Fhc);pa=0;v=[{aXa:D,TWa:I,yc:t,dgb:0,cgb:0,ar:0,vcb:0,Gj:v,low:0,high:da,ifa:[],opa:[]}];for(y=0;y < Q.length;y++){D=[];for(r=0;r < v.length;r++){t=v[r];if(z)h.U8a(A,t,t.low,t.Gj,t.high);else for(I=t.low;I <= t.high;I++){A(t,I);}D=D.concat(t.opa.filter(function(xa){return null !== xa;}));}D.sort(function(xa,ya){var sa;sa=ya.ar - xa.ar;if(sa)return sa;ya=ya.Gj - xa.Gj;return 0 === xa.ar?-ya:ya;});v=D.slice(0,x.aic);}x=v[0];D=w[x.ifa[0]];null !== (B=D.Z) && void 0 !== B && B.length || (D.J2=!0);u.cg=D;u.$Wb=x.vcb;return u;};},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Esa=void 0;b.Esa=function(a,c,k,g){var f,d,h,m,l,n,p;g=a.eu - g;f=a.Wzb;d=c.VQ;h=0;if(k < f && 0 < g){m=c.rf;l=c.fM;n=0;if(m + k > f){for(;h < d && m + k > f;){p=c.Hh(h);m-=p[0];l-=p[1];h++;}k=a.JK;if(0 < k)for((a=a.UUb,f=Math.min(h,d - 1),n=c.Hh(f)[1],m=0,f++,p=c.Hh(f));f < d && n < k && m + p[0] < a;){m+=p[0];n+=p[1];p=c.Hh(++f);}}g=Math.min(g,l - n);}else (h=d,g=-1);return [h,g];};},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.U8a=void 0;b.U8a=function(a,c,k,g,f){var d;for(g=Math.min(Math.max(k,g),f);k < f;){if(f === k + 1)return a(c,k) >= a(c,f)?k:f;if(f === k + 2)if((g=a(c,k + 1),a(c,k) > g))break;else return a(c,f) >= g?f:k + 1;g === f?g--:g === k && g++;d=a(c,g);if(d >= a(c,g + 1)){if(d > a(c,g - 1))return g;f=g - 1;}else k=g + 1;g=Math.round(k + (f - k) / 2);}return k;};},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.AYa=b.BYa=void 0;b.BYa=function(a,c,k){var h;for(var g=0,f=0,d=a.length;f < d;f++){h=a[f][0] - c;g+=a[f][1] * (0 >= h?1:Math.exp(-k * h));}return g;};b.AYa=function(a,c,k){return Math.pow(1 - c,k) * a;};},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.G2a=void 0;c=a(411);b.G2a=function(k,g,f,d){var h,m,l,n;h=k.Jb;if((h=h && h.mq) && 0 < h.Ca){m=f * h.Ca + 8 * (1 - f) / Math.max(1,h.CO);k=h.Ye;}else (m=8 / (k.fb || 1),k=1E-6);l=d / 8;n=new c.Eia(m,k / g);return [function(p,r){p+=l * r;return m * p;},function(p,r,t){p+=l * r;return 0 < p?(r=n.AXa(t / p),r[1]*=p,r):[1,0];}];};},function(q,b){function a(c,k,g,f){var d;for(;g < f;){d=g + f >> 1;c[d] > k?f=d - 1:g=d + 1;}return c[g] > k?g - 1:g;}Object.defineProperties(b,{__esModule:{value:!0}});b.uBa=void 0;b.uBa=function(c,k,g,f,d,h,m,l,n){var x,y,E,I;for(var p=[],r=0,t=0,w=0,v=0,u=c.length;v < u;v++){x=c[v];y=Math.min(x[0],k);x=x[1];r+=x;for(var z=1 - h,A=0,B=0,D=0,C,F=a(g,y + l,0,g.length - 1),G=F;0 <= F && B < z;){B=g[F];B <= l && (B=l,F=0);E=d(m,l,y + l - B);w++;B=E[0];C=B - A;if(C > h){A=E[1];D=(A - D) / C;I=y + l - n * D;E=a(g,I,F,G) + 1;D=p[E] || [0,0];C*=x;I*=C;t+=I;D[0]+=I;D[1]+=C;p[E]=D;D=A;A=B;}F--;}C=1 - A;0 < C && (D=(f(m,l) - D) / C,I=y - n * D,0 <= I && (I+=l),E=a(g,I,0,G) + 1,D=p[E] || [0,0],C*=x,I*=C,t+=I,D[0]+=I,D[1]+=C,p[E]=D);}k=c=0;h*=r;g=[];f=p.length;for(v=0;v < f;v++){if(D=p[v])(d=D[1],d >= h?g.push(D):(c+=d,k+=D[0]));}if(f=g.length)for(v=0;v < f;v++){D=g[v];c && (D[0]+=k / f,D[1]+=c / f);D[0]/=D[1];D[1]/=r;}else g=[[t / r,1]];return [g,w];};},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.NEa=void 0;q=(function(){function a(c,k){var g,f,d;g=0;f=0;this.zY=0;this.Yna=c;this.xfa=k;if(c=c.length + k.length)for(k=0;k < c;k++){d=this.Hh(k);g+=d[0];f+=d[1];}this.VQ=c;this.rf=g;this.fM=f;}a.prototype.Hh=function(c){var k,g;c+=this.zY;k=this.Yna;g=k.length;return c < g?(c=k[c],[c.ga,1E3 * (c.wb - c.bb) / c.I]):this.xfa[c - g];};a.prototype.YIb=function(c){var d;for(var k=this.rf,g=this.fM,f=0;f < c;f++){d=this.Hh(f);k-=d[0];g-=d[1];}this.zY+=c;this.VQ-=c;this.rf=k;this.fM=g;};a.prototype.Xr=function(){var c;c=new a([],[]);c.Yna=this.Yna;c.xfa=this.xfa.slice(0);c.zY=this.zY;c.rf=this.rf;c.fM=this.fM;c.VQ=this.VQ;return c;};a.prototype.qyb=function(c,k){this.xfa.push([c,k]);this.rf+=c;this.fM+=k;this.VQ++;};return a;})();b.NEa=q;},function(q,b,a){var k,g,f,d;function c(h,m,l){var n,p;n=this.kma;m=m.buffer.yc;p="forward" === h.t2b;if(k.ta(n))return (n=p?g(l):g(l,l.length),this.lma=m,this.kma=n,new d(n));f(l[n]) || (n=g(l,n),this.lma=m,this.kma=n);if(0 > n)return null;if(m > this.lma + h.G6b){h=l.map(function(r,t){return r.Bw?t:null;}).filter(function(r){return null !== r;});if(!h.length)return null;p?n=(h.indexOf(n) + 1) % h.length:(n=h.indexOf(n) - 1,0 > n && (n=h.length - 1));this.kma=h[n];this.lma=m;return new d(h[n]);}return new d(n);}k=a(10);b=a(33);g=b.Sra;f=b.wK;d=b.Np;q.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(q,b,a){(function(){var r70,g,f,d,h,m,l,n,p,r,t;r70=2;function k(w,v,u,x){var u70,E,y,B,D,C,F,G,I,K,z,A;u70=2;for(;u70 !== 32;){switch(u70){case 8:u70=A && 1 < A.length?7:21;break;case 4:return new p(x);break;case 20:E=u[D];u70=19;break;case 25:u70=++C < A.length?24:21;break;case 22:var l29="m";l29+="s";var C29=", ";C29+="b";C29+="uffer level = ";var G29=", lastUpswitch";G29+="Pts";G29+=" ";G29+="= ";var a29="  Upswitch not allowed. las";a29+="tDo";a29+="wnswitchPts = ";h && d.log(a29 + K + G29 + I + C29 + E + l29);u70=21;break;case 27:u70=v.ss && E > G.iC && (void 0 === K || Number(I) > K || D.yc - K > G.qca)?26:22;break;case 26:var R29=", stream";R29+="i";R29+="ngPts = ";var j29=", lastUp";j29+="switc";j29+="hP";j29+="ts =";j29+=" ";var H29="  ";H29+="Upswitch allowed. l";H29+="astDownswitchPts = ";h && d.log(H29 + K + j29 + I + R29 + D.yc);u70=25;break;case 17:C--;u70=11;break;case 10:D=A[C];u70=20;break;case 11:u70=0 <= C?10:21;break;case 2:var x29="Must have at least one selected";x29+=" st";x29+="ream";m(!g.ta(x),x29);y=u[x].ef;u70=5;break;case 6:u70=0 > C?14:13;break;case 21:var q29="kbps";q29+=",";q29+=" s";q29+="treamingPts";q29+=" :";var B29=", au";B29+="dio";B29+=" throughpu";B29+="t:";var T29=" kbps";T29+=", profil";T29+="e :";var N29="selectAudioStream: selec";N29+="ted str";N29+="eam :";var O29=" ";O29+="k";O29+="b";O29+="ps";var g29=" kbp";g29+="s, to";g29+=" ";var Z29="switc";Z29+="h";Z29+="ing audio f";Z29+="ro";Z29+="m ";var M29="d";M29+="o";M29+="wn";var S29="u";S29+="p";F=u[z];z !== x && h && d.log((z > x?S29:M29) + Z29 + B.bitrate + g29 + F.bitrate + O29);h && d.log(N29 + F.bitrate + T29 + y + B29 + F.fb + q29 + v.buffer.yc);return new p(z);break;case 16:var K29=" ";K29+="k";K29+="bp";K29+="s";var t29=" ";t29+="k";t29+="b";t29+="p";t29+="s > ";var h29="thro";h29+="ugh";h29+="put";h29+=" for audio ";u70=C < A.length - 1 && F > G.Ghb * D * v.playbackRate && (h && d.log(h29 + F + t29 + G.Ghb + "*" + D + K29),D=v.buffer,E=D.gl - D.Ac,B.Z && B.Z.length)?15:21;break;case 24:u70=(D=A[C],E=u[D],n(E) && F > G.Ghb * E.bitrate * v.playbackRate)?23:25;break;case 14:z=0;u70=21;break;case 19:u70=n(E) && (0 == C || E.bitrate * v.playbackRate * G.K_a < F)?18:17;break;case 7:(B=u[x],D=B.bitrate,C=A.indexOf(x),F=B.fb,G=w.hzb);u70=6;break;case 13:u70=C && F < G.K_a * D * v.playbackRate?12:16;break;case 15:(I=this.Yva,K=this.gca);u70=27;break;case 12:var Q29=" kb";Q29+="p";Q29+="s, try t";Q29+="o ";Q29+="downswitch";var p29=" k";p29+="b";p29+="ps ";p29+="< ";var d29="throughpu";d29+="t for au";d29+="dio ";(h && d.log(d29 + F + p29 + G.K_a + "*" + D + Q29),--C);u70=11;break;case 3:z=x;w.ogb.some(function(L){var v70,N,J,M,O,H,P;v70=2;for(;v70 !== 9;){switch(v70){case 6:v70=P?6:9;break;v70=P?5:3;break;case 1:v70=P?5:3;break;case 5:(N=(L=L.M0) && L.ada || w.ada,J=L && L.Qhc || -Infinity,M=L && L.JQ || Infinity,O=v.buffer.Fv);v70=4;break;case 4:A=u.filter(function(Q){var w70,T;w70=2;for(;w70 !== 5;){switch(w70){case 2:T=Q.bitrate;return T >= J && T <= M && 0 <= H.indexOf(Q.ef) && T * N / 8 < O;break;}}}).map(function(Q){var x70;x70=2;for(;x70 !== 1;){switch(x70){case 2:return Q.dg;break;case 4:return Q.dg;break;x70=1;break;}}});v70=3;break;case 3:return P;break;case 2:(H=L.profiles,P=H && 0 <= H.indexOf(y));v70=1;break;}}});u70=8;break;case 5:u70=!(w && w.rS && 0 <= w.rS.indexOf(y))?4:3;break;case 18:z=D;u70=21;break;case 23:z=D;u70=21;break;}}}for(;r70 !== 4;){switch(r70){case 2:var E29="1";E29+="SIYbZrNJC";E29+="p9";(g=a(10),f=a(33),d=f.console,h=f.debug,m=f.assert,l=a(91),n=f.wK,p=f.Np,r=a(458),t=a(17).Da);q.exports={STARTING:function(w,v,u,x){var y70,y,z;y70=2;for(;y70 !== 7;){switch(y70){case 1:y70=(z=w && w.rS && 0 <= w.rS.indexOf(z)?c(z,w.ogb):c(z,w.gzb))?5:4;break;case 5:var y29="se";y29+="lectAudioStreamStarting: overriding conf";y29+="i";y29+="g ";y29+="with ";(y={minInitAudioBitrate:w.a0,minHCInitAudioBitrate:w.Z_,maxInitAudioBitrate:w.K_,minRequiredAudioBuffer:w.ada},h && d.log(y29 + JSON.stringify(z)),l(z,y));y70=4;break;case 2:(y=w,z=u[x || 0].ef);y70=1;break;case 4:var D29=" kbp";D29+="s, pro";D29+="file";D29+=" :";var L29="s";L29+="electAudioStreamStarting: sele";L29+="cted stream :";w=r[t[t.Sh]](y,v,u,x);u=u[w.nf];h && d.log(L29 + u.bitrate + D29 + u.ef);return w;break;}}},BUFFERING:k,REBUFFERING:k,PLAYING:k,PAUSED:k};E29;r70=4;break;}}function c(w,v){var s70,u;s70=2;for(;s70 !== 4;){switch(s70){case 2:u=void 0;v.some(function(x){var t70,y;t70=2;for(;t70 !== 4;){switch(t70){case 2:y=x.profiles;(y=y && 0 <= y.indexOf(w)) && (u=x.override);return y;break;}}});s70=5;break;case 7:return u;break;s70=4;break;case 5:return u;break;}}}})();},function(q,b,a){var k;function c(){return new k(0);}a(10);k=a(33).Np;q.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(q,b,a){var k;function c(g,f,d){return new k(d.length - 1);}a(10);k=a(33).Np;q.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(q,b,a){(function(){var z70,f,d,k,g;function c(h,m,l,n){var A70,p;A70=2;for(;A70 !== 12;){switch(A70){case 8:A70=p.Jb && p.Jb.fb && p.bitrate < p.Jb.fb.Ca - h.C6b?7:6;break;case 2:var w29="player ";w29+="missin";w29+="g fragmentIndex";var J29="Must ha";J29+="ve ";J29+="at least one selected stream";f(!k.ta(n),J29);f(k.Oa(m.Dd),w29);m=d(n);A70=4;break;case 4:a000.s59(16);var S31=a000.z59(16,20,320);n=l.length - S31;A70=3;break;case 3:A70=-1 < n?9:14;break;case 9:p=l[n];A70=8;break;case 14:m.nf=0;return m;break;case 7:return (m.nf=n,m);break;case 6:--n;A70=3;break;}}}z70=2;for(;z70 !== 6;){switch(z70){case 4:a(5);(f=g.assert,d=g.Np);g=a(195).default;z70=8;break;case 8:var r29="1SIY";r29+="b";r29+="Z";r29+="rNJCp9";q.exports={STARTING:g.STARTING,BUFFERING:g.BUFFERING,REBUFFERING:g.REBUFFERING,PLAYING:c,PAUSED:c};r29;z70=6;break;case 2:k=a(10);a(32);g=a(33);z70=4;break;}}})();},function(q,b,a){Object.defineProperties(b,{__esModule:{value:!0}});q=a(1030);b.default={PLAYING:q.up,PAUSED:q.up};},function(q,b,a){var c,k,g,f,d,h,m,l;Object.defineProperties(b,{__esModule:{value:!0}});b.up=void 0;q=a(1);c=q.__importStar(a(10));k=q.__importDefault(a(33));g=q.__importDefault(a(195));f=a(90);d=q.__importDefault(a(5));h=k.default.assert;m=k.default.Np;b.up=l;(function(){var B70;B70=2;for(;B70 !== 5;){switch(B70){case 2:var A29="1";A29+="SI";A29+="YbZrN";A29+="JCp9";b.up=l=function(n,p,r,t,w,v,u){var C70,E,I,L,H,P,C,F,G,x,D,K,J,N,y,z,A,B;C70=2;for(;C70 !== 66;){switch(C70){case 73:A=x;C70=20;break;case 67:B--;C70=71;break;case 65:H=void 0;p.cX && (H=d.default.time.ma() - p.cX);w.push({Dd:p.Dd,Mjc:H,Ehc:P,Vec:E,Jjc:I,Ljc:K,Koa:v,U1a:u,qfc:L,jhc:y.bitrate,khc:null !== (C=y.nb) && void 0 !== C?C:0,xfc:D.bitrate,yfc:null !== (F=D.nb) && void 0 !== F?F:0,gjc:A.bitrate,hjc:null !== (G=A.nb) && void 0 !== G?G:0,Xt:x});C70=62;break;case 54:C70=void 0 !== H?53:65;break;case 62:B++;C70=35;break;case 76:x=B;C70=73;break;case 55:C70=B < y.length?77:73;break;case 34:D=r[B];x=B <= t?!0:!1;(E=void 0,I=[]);D.Jb && D.Jb.throughput && (E=D.Jb.throughput.Ca);C70=30;break;case 8:C70=A < x || A > B?7:6;break;case 56:B+=1;C70=55;break;case 39:I.push(K.max);C70=38;break;case 17:C70=n.xIb?16:60;break;case 18:z.cg=r[z.nf];C70=17;break;case 75:C70=y[B].f > A?73:74;break;case 19:z.nf=y[A].z2b;C70=18;break;case 25:u=f.gn.rZa(p.buffer.Z);u=p.buffer.Fv - u.ga;y=r[t];A=r[t];C70=21;break;case 61:z.pWa=w;C70=60;break;case 28:I.push(K.min);I.push(K.Oda);I.push(K.am);C70=42;break;case 72:--B;C70=71;break;case 38:K=void 0;D.Jb && D.Jb.tputTrace && (K=D.Jb.tputTrace);(L=[],H=D.Z,P=0);C70=54;break;case 57:C70=D < A?56:72;break;case 50:L.push({d:J.duration,b:J.ga});C70=49;break;case 48:N=p.Dd;C70=47;break;case 21:B=0;C70=35;break;case 16:w=[];v=p.buffer;v=v.gl - v.Ac;C70=25;break;case 2:var u29="player mis";u29+="sing f";u29+="r";u29+="agm";u29+="entIndex";var i29="Must have ";i29+="at least one s";i29+="elected ";i29+="stream";h(!c.ta(t),i29);h(c.Oa(p.Dd),u29);C70=4;break;case 20:C70=void 0 !== A?19:59;break;case 68:C70=y[B].f < A?73:67;break;case 46:P+=H.get(N).duration;C70=45;break;case 10:A=B;C70=20;break;case 7:return g.default.PLAYING.call(this,n,p,r,t,w,v,u);break;case 59:return g.default.PLAYING.call(this,n,p,r,t,w,v,u);break;case 11:C70=D === A?10:58;break;case 70:C70=y[B].f === A?69:68;break;case 60:return z;break;case 58:x=void 0;C70=57;break;case 49:N++;C70=52;break;case 71:C70=0 <= B?70:73;break;case 45:N++;C70=47;break;case 47:C70=N < H.length?46:65;break;case 77:C70=y[B].f === A?76:75;break;case 6:a000.s59(2);B=a000.z59(A,x);0 > B && (B=0);B >= y.length && (B=y.length - 1);D=y[B].f;C70=11;break;case 69:x=B;C70=73;break;case 35:C70=B < r.length?34:61;break;case 52:C70=N < Math.min(N + n.kzb,H.length)?51:48;break;case 29:K=D.Jb.tdigest;C70=28;break;case 51:J=H.get(N);C70=50;break;case 53:N=p.Dd;C70=52;break;case 42:I.push(K.qk);I.push(K.bm);I.push(K.Pda);C70=39;break;case 74:B++;C70=55;break;case 4:(y=n.y5b,z=new m(t),A=null !== (x=p.Dd) && void 0 !== x?x:-1);x=y[0].f;B=y[y.length - 1].f;C70=8;break;case 30:C70=D.Jb && D.Jb.tdigest?29:38;break;}}};A29;B70=5;break;}}})();},function(q,b,a){(function(){var D70,c;D70=2;for(;D70 !== 8;){switch(D70){case 5:var m8q="1SIYbZrN";m8q+="JC";m8q+="p9";a(33);c=a(17).Zc;q.exports={checkBuffering:function(k,g,f,d,h,m){var p5q=a000;var E70,w,n,p,r,t,v,u;E70=2;function l(x){var F70;F70=2;for(;F70 !== 5;){switch(F70){case 2:x=d.Z.M$(k.Ac + x,void 0,!0);return (w - k.uk) / (w + (x.offset + x.ga) - v);break;}}}for(;E70 !== 37;){switch(E70){case 26:E70=-1 === h?25:24;break;case 22:E70=g > p * m.I$?21:35;break;case 31:--m;E70=30;break;case 7:return {complete:!1,WF:!0};break;case 27:h=d.Z.Pn(k.yc);E70=26;break;case 29:p=d.Z.get(m);p5q.V59(17);var T31=p5q.Y59(18,3,49,1);u=T31 * u * f / g - p.da - r;E70=44;break;case 40:var X29="no";X29+="reb";X29+="uff";return {complete:!0,reason:X29};break;case 20:w=0;k.Z.forEach(function(x){var G70;G70=2;for(;G70 !== 1;){switch(G70){case 2:w+=x.da + x.duration > k.Ac?x.ga:0;G70=1;break;}}});f=Math.max(f,1);E70=17;break;case 17:p=f * d.bitrate;E70=16;break;case 8:E70=g <= m.zwa && (0 < g || !m.xra)?7:6;break;case 42:u=p.offset;E70=41;break;case 2:(n=k.gl - k.Ac,p=g === c.sg);g=d.fb || 0;(r=0,t=m.WCa && !p?m.qC:m.Vwa);t=Math.min(m.eu,t);E70=3;break;case 39:0 < g && g < p && (r=Math.min(t,Math.max(m.B1 * (p / g - 1),r)));return {complete:!1,wL:r,progress:l(r)};break;case 15:return (g < p && (r=Math.min(t,Math.max(m.B1 * (p / g - 1),r))),{complete:!1,wL:r,progress:0});break;case 24:v=d.Z.Pc(h);E70=23;break;case 9:var W29="m";W29+="axsi";W29+="z";W29+="e";return {complete:!0,reason:W29};break;case 41:--m;E70=30;break;case 35:r=d.Z.ed(h);m=Math.min(h + Math.floor(m.B1 / r),d.Z.length - 1);u=d.Z.Pc(m);p5q.s59(1);var U31=p5q.Y59(10,5,4);r=U31 * v * f / g - k.Ac;E70=31;break;case 10:return {complete:!1,wL:r};break;case 43:return (r=Math.min(t,n + u),{complete:!1,wL:r,progress:l(r)});break;case 30:E70=m > h?29:40;break;case 21:var v29="hig";v29+="h";v29+="t";v29+="p";return {complete:!0,reason:v29};break;case 11:E70=!g?10:20;break;case 25:var P29="out";P29+="ofrang";P29+="e";return {complete:!0,reason:P29};break;case 16:E70=!d.Z || !d.Z.length?15:27;break;case 3:E70=n >= t?9:8;break;case 44:E70=0 < u?43:42;break;case 23:E70=n >= r?22:39;break;case 6:p5q.V59(18);var V31=p5q.Y59(10,4,17,10);r=m.Hj * (p?m.Fza:V31);m.sIb && d.Jb && d.Jb.yl && d.Jb.yl.Ca > m.uwa && (r+=m.Fna + d.Jb.yl.Ca * m.yya);h && (r+=h.Pv * m.Gna);r=t?Math.min(t,r):r;E70=11;break;}}}};m8q;D70=8;break;case 2:a(10);a(32);D70=5;break;}}})();},function(q,b,a){var k,g,f,d,h,m;function c(l,n,p){h=p;m=p.map(function(r,t){return t;});if(null === d)return (l=g(p),d=p[l].bitrate,new f(l));if(!p.length)return null;l=m.filter(function(r){return p[r].bitrate == d;})[0];return void 0 === l?(k.log("Defaulting to first stream due to unvalid bitrate requested: " + d),new f(m[0])):new f(l);}b=a(33);a=a(5).default;k=b.console;g=b.Sra;f=b.Np;d=null;h=null;m=null;a.bBb && (a.bBb.Jk={xa:function(){m=h=d=null;},IAa:function(l){d=l;},Agc:function(){return {all:h,gib:m};}});q.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(q,b,a){var c,k,g,f,d,h,m;Object.defineProperties(b,{__esModule:{value:!0}});b.MKa=void 0;c=a(1);q=c.__importDefault(a(105));k=c.__importDefault(a(5));a=a(197);g=q.default.r9;f=q.default.KBb;d=q.default.sra;h=q.default.WIb;m=q.default.H2b;new k.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(l){var H70;H70=2;function n(p,r){var I70,t;I70=2;for(;I70 !== 13;){switch(I70){case 7:var o8q="1S";o8q+="IYb";o8q+="ZrNJ";o8q+="Cp9";p.Av.niqrfilter && p.Av.niqrcurve && (t.l$a=p.Av.niqrfilter,t.vWb=f(p.Av.niqrcurve,1,0,4));o8q;return t;break;case 2:t=l.call(this,p,r) || this;t.g1=function(w,v,u,x){var J70,y,z,A;J70=2;for(;J70 !== 13;){switch(J70){case 2:x=null !== x && void 0 !== x?x:t.JQ;A=t.Yo(w,u);u=t.$eb(u)?A:(null === (y=w[t.filter]) || void 0 === y?void 0:y.Ca) || A;y=Math.pow(Math.max(1 - u / t.yzb,0),t.vzb);u=v.gl - v.Ac;J70=8;break;case 8:t.L4b?(v=d(t.HZa,u,1),u=d(t.GZa,u,1),v=v * y + u * (1 - y)):v=d(m(t.HZa,t.GZa,y),u,1);w=t.l$a && (null === (z=w[t.l$a]) || void 0 === z?void 0:z.Cxa);void 0 !== w && (z=h(t.vWb,w),v=Math.min(v * z,1));a000.V59(19);return t.z_a(a000.z59(1,v,A),x);break;}}};Array.isArray(p.Av.curves) && (t.HZa=f(p.Av.curves[0],0,0,1),t.GZa=f(p.Av.curves[1],0,0,1));t.yzb=g(p.Av.threshold || 6E3,1,1E5);t.vzb=g(p.Av.gamma || 1,.1,10);t.filter=p.Av.filter;t.L4b=! !p.Av.simpleScaling;I70=7;break;}}}for(;H70 !== 5;){switch(H70){case 2:c.__extends(n,l);return n;break;}}})(a.xH);b.MKa=a;},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.TPa=void 0;c=a(1);q=c.__importDefault(a(5));k=a(197);g=a(460);new q.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(f){var K70;K70=2;function d(h,m){var L70,l;L70=2;for(;L70 !== 3;){switch(L70){case 2:var k8q="1";k8q+="SIYb";k8q+="ZrN";k8q+="JCp";k8q+="9";l=f.call(this,h,m) || this;l.g1=function(n,p,r,t){var M70,w;M70=2;for(;M70 !== 9;){switch(M70){case 2:t=null !== t && void 0 !== t?t:l.JQ;w=l.Yo(n,r);n=l.C4b(n,r);M70=4;break;case 4:p=w?w * (100 - l.sLb(p,n)) / 100 | 0:0;return l.z_a(p,t);break;}}};k8q;return l;break;}}}for(;K70 !== 3;){switch(K70){case 2:c.__extends(d,f);d.prototype.sLb=function(h,m){var N70,l,n;N70=2;for(;N70 !== 3;){switch(N70){case 2:(l=this.config,n=m?l.Qpa:l.soa);m=m?l.Rpa:l.uoa;Array.isArray(m) && (n=g.N0a(m,h.gl - h.Ac,l.toa));N70=4;break;case 14:return n;break;N70=3;break;case 4:return n;break;}}};d.prototype.C4b=function(h,m){var O70;O70=2;for(;O70 !== 3;){switch(O70){case 2:m=this.Yo(h,m);h=! !h.Yt;this.config.dCa && m < this.config.wX && (h=!0);O70=4;break;case 4:return h;break;}}};return d;break;}}})(k.xH);b.TPa=a;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.iQa=void 0;c=a(1);q=a(197);q=(function(k){var P70;P70=2;for(;P70 !== 5;){switch(P70){case 2:c.__extends(g,k);return g;break;}}function g(f,d){var Q70,h;Q70=2;for(;Q70 !== 3;){switch(Q70){case 2:var Y8q="1S";Y8q+="I";Y8q+="YbZrNJCp9";h=k.call(this,f,d) || this;h.g1=function(m){var R70,l,S70;R70=2;for(;R70 !== 13;){switch(R70){case 5:return m.fb.Ca;break;case 8:l=Math.sqrt(m.mq.LS || 0);R70=7;break;case 4:l=Math.sqrt(m.mq.Ye || 0);R70=3;break;case 9:R70=!m.mq || !m.mq.CO?5:8;break;case 1:R70=!m.mq || !m.mq.Ca?5:4;break;case 11:var I8q="e";I8q+="w";I8q+="m";I8q+="a";R70=S70 === I8q?6:5;break;case 7:return m.mq.CO + h.config.MBa * l;break;case 14:return (l=Math.sqrt(m.mq.LS || 0),m.fb.Ca + h.config.MBa * l);break;case 3:a000.V59(20);var W31=a000.z59(6,21,4,5,17);return W31 / (m.mq.Ca + h.config.MBa * l);break;case 6:R70=m.mq && m.mq.LS?14:5;break;case 12:var U8q="ave";U8q+="rag";U8q+="etp";R70=S70 === U8q?9:11;break;case 2:var e8q="deliver";e8q+="ytim";e8q+="e";S70=h.config.n5b;R70=S70 === e8q?1:12;break;}}};Y8q;return h;break;}}}})(q.xH);b.iQa=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.FJa=void 0;q=(function(){function a(c,k,g,f,d,h,m,l){this.Ab=c;this.UWa=k;this.config=g;this.console=f;this.mediaType=d;this.Ub=h;this.eb=m;this.tc=l;this.Ws=this.Yi=!1;}a.prototype.PO=function(c,k){!this.Ab.G.px || this.tc.TN || this.tc.L7 || (c-=this.Ab.df,this.Yi && !this.Ws && c + this.config.Fgb >= k && 0 === this.eb.qG && 0 === this.eb.Gu && 0 === this.eb.i0b && (k=this.tc.ff.R.bc,c=this.tc.VP(),k + 1 < c || (this.UWa[this.mediaType].ggb || this.Ub.rub(this.mediaType),this.Ws=!0,this.UWa[this.mediaType].o0())));};return a;})();b.FJa=q;},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.DJa=void 0;c=a(1);k=a(15);q=a(461);g=a(452);a=(function(f){function d(){return null !== f && f.apply(this,arguments) || this;}c.__extends(d,f);d.prototype.XGb=function(h){f.prototype.Zba.call(this,{value:h});};d.prototype.j6a=function(){return !0;};d.prototype.CBa=function(){};d.prototype.Zba=function(h){f.prototype.Zba.call(this,h);h.done && (h=this.rv.HX,k.aa && this.J.trace("Requests drained",{Wec:h && h.G.id}),(h=h && h.rb(this.Bh)) && h instanceof g.H5 && h.PO(this.Zg.bta() || 0));};return d;})(q.fha);b.DJa=a;},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.JEa=void 0;c=a(1);k=a(164);g=a(15);q=(function(){function f(d,h,m){this.J=d;this.Krb=h;this.Bh=m;this.e7=0;this.C7=!1;this.YU=[];this.xI=void 0;g.aa && d.trace("BranchRequestIterator [" + this.Bh + "]: created");}Object.defineProperties(f.prototype,{IFb:{get:function(){return this.e7;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{HX:{get:function(){return this.hSa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ql:{get:function(){return this.C7;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{FZa:{get:function(){return this.qm?this.qm.aC?"Complete":this.qm.oza?"WaitingForBranch":void 0 !== this.xI && 0 !== this.xI?"In Policy " + this.YU[this.xI].name:"WaitingForRequest":"Uninitialized;Prior:" + this.jTa;},enumerable:!1,configurable:!0}});f.prototype.next=function(){return c.__awaiter(this,void 0,void 0,function(){var d,h,m,l;return c.__generator(this,function(n){switch(n.label){case 0:d=this.qm;if(!d)return [3,6];this.xI=void 0;return [4,d.next()];case 1:(h=n.pc(),m=0,n.label=2);case 2:if(!(m < this.YU.length))return [3,5];this.xI=m;l=this.YU[m];return [4,l.process(h)];case 3:(h=n.pc(),n.label=4);case 4:return (m++,[3,2]);case 5:this.xI=void 0;if(h.done || this.qm !== d)return [2,{done:!0}];this.e7++;h.value.WUa();return [2,{done:!1,value:h.value.value}];case 6:return [2,k.AsyncIterator.Nta()];}});});};f.prototype.k2b=function(){this.Ffb();this.B0b();};f.prototype.Ffb=function(){var d;if(this.qm){this.jTa=this.FZa;d=this.qm;d && d.Ei();this.YU.forEach(function(h){return h.reset();});d && g.aa && this.J.trace("BranchRequestIterator [" + this.Bh + "]: Disposing iterator that was on branch ",this.HX && this.HX.G.id);this.C7=!1;this.xI=this.qm=void 0;}};f.prototype.Cna=function(d){this.YU.push(d);};f.prototype.B0b=function(){var d,h,m,l;d=this;if(!this.C7){h=this.J;m=this.Krb;l=this.Bh;this.e7=0;this.jTa=this.hSa=void 0;this.qm=k.flatten(k.map(m.e4a(),function(n){return c.__awaiter(d,void 0,void 0,function(){var p;return c.__generator(this,function(r){switch(r.label){case 0:return (this.hSa=n,this.e7=0,g.aa && h.trace("BranchRequestIterator [" + this.Bh + "]: new branch " + n.G.id),[4,n.Py(l)]);case 1:if(p=r.pc())return [2,{value:p}];g.aa && h.error("BranchRequestIterator [" + this.Bh + "]: skipping branch " + n.G.id);return [2,{value:[]}];}});});},h),h);this.C7=!0;}};return f;})();b.JEa=q;},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.NOa=void 0;c=a(1);k=a(1040);g=a(1041);q=(function(){function f(d,h,m,l,n,p,r,t){this.mediaType=d;this.Na=m;this.events=n;this.DS=[];1 === this.mediaType && this.DS.push(new g.LPa(d,h,m,l,n,p,r,t,2));this.DS.push(new k.oQa(d,h,m,l,n,p,r,"stream",1));}f.prototype.Pxb=function(d){this.DS.push(d);};f.prototype.reset=function(){this.DS.forEach(function(d){return d.reset();});};f.prototype.close=function(){this.DS.forEach(function(d){return d.close();});};f.prototype.Aj=function(d){return c.__read(this.DS,1)[0].Aj(d);};return f;})();b.NOa=q;},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.oQa=void 0;c=a(1);k=a(4);g=a(15);q=(function(f){function d(){return null !== f && f.apply(this,arguments) || this;}c.__extends(d,f);d.prototype.gz=function(h){var m,l;m=h.stream;l=h.he;h=h.fd;k.assert(void 0 !== l);this.wna(m,l,h) && g.aa && this.trace("stream " + m.id + ", " + m.bitrate + "kbit/s @ " + l.V + "ms");};d.prototype.Yqa=function(h,m){var l,n,p;n=h.jH;p=this.Na.Rq(m);k.assert(void 0 !== p);g.aa && this.trace("emitStreamPresentingEvent @ " + h.timestamp.V + "ms for " + (null === n || void 0 === n?void 0:n.id) + ", " + ((null === n || void 0 === n?void 0:n.bitrate) + "kbit/s"));this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:n.mediaType,playerTimestamp:m,position:p,trackIndex:null === (l=null === n || void 0 === n?void 0:n.track) || void 0 === l?void 0:l.xE,streamIndex:null === n || void 0 === n?void 0:n.dg,stream:n});};return d;})(a(279).e6);b.oQa=q;},function(q,b,a){var c,k,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.LPa=void 0;c=a(1);k=a(15);g=a(4);f=a(8);q=(function(d){function h(m,l,n,p,r,t,w,v,u){m=d.call(this,m,l,n,p,r,t,w,"segment",u) || this;m.Jz=v;return m;}c.__extends(h,d);h.prototype.gz=function(m){var l,n,p,r;n=m.he;p=m.fd;m=m.Ic;g.assert(void 0 !== n);r=null === (l=this.Na.Rq(n)) || void 0 === l?void 0:l.ea;g.assert(void 0 !== r);this.wna({ea:r,Ic:m},n,p) && k.aa && this.trace("segment " + r + " @ " + n.V + "ms");};h.prototype.Z6a=function(m,l){return m.Ic.lessThan(l.Ic) && m.ea === l.ea;};h.prototype.Yqa=function(m,l){var n,p;n=m.jH.ea;p=this.Na.Rq(l);g.assert(void 0 !== p);k.aa && this.trace("emitSegmentPresentingEvent @ " + m.timestamp.V + "ms for segment " + n);p.ea !== n && (k.aa && this.console.warn("player position:",p,"not equal to trackedElement:",n),p={ea:n,offset:f.O.ib});m={type:"segmentPresenting",playerTimestamp:l,position:p};this.Jz && (m.metrics=this.Jz.ita(n));k.aa && this.trace("segmentPresenting: " + JSON.stringify(m));this.events.emit(m.type,m);};return h;})(a(279).e6);b.LPa=q;},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.yHa=void 0;c=a(1);k=a(15);g=a(70);q=(function(){function f(d,h,m){this.qf=d;this.EVb=h;this.J=m;}Object.defineProperties(f.prototype,{name:{get:function(){return "ExitZone";},enumerable:!1,configurable:!0}});f.prototype.waitUntil=function(d){var h;d=g.Cga(this.qf,d,!0);h=d.promise;this.Twb=d.ko;return h;};f.prototype.process=function(d){return c.__awaiter(this,void 0,void 0,function(){var h,m;return c.__generator(this,function(l){switch(l.label){case 0:if(d.done)return [3,2];h=d.value.value;if(!h.Zra)return [3,2];m=h.he.Ia(this.EVb);k.aa && this.J.trace("[" + h.mediaType + "] JIT: waiting until playertime >= " + m.V,"to append next request " + h.toString());return [4,this.waitUntil(m)];case 1:(l.pc(),k.aa && this.J.trace("[" + h.mediaType + "] JIT: now appending request " + h.toString()),l.label=2);case 2:return [2,d];}});});};f.prototype.reset=function(){var d;null === (d=this.Twb) || void 0 === d?void 0:d.Rb();};return f;})();b.yHa=q;},function(q,b,a){var c,k,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.wMa=void 0;c=a(1);k=a(15);g=a(4);f=a(70);q=(function(){function d(h,m,l,n){var p;p=this;this.qf=h;this.xYb=m;this.oya=l;this.J=n;h.La.on("stopStart",function(){return p.bCb();});k.aa && this.J.trace("PacingThrottler: pacingFactory=" + m + ", pacingThreshold=" + l.Bc());}Object.defineProperties(d.prototype,{name:{get:function(){return "Pacing";},enumerable:!1,configurable:!0}});d.prototype.bCb=function(){var h,m;m=this.qf.La;this.SO=m.ql?m.currentTime:void 0;this.AW=this.KY=void 0;k.aa && this.J.trace("PacingThrottler: clock reset " + (null === (h=this.SO) || void 0 === h?void 0:h.V));};d.prototype.waitUntil=function(h){var m;h=f.Cga(this.qf,h,!0);m=h.promise;this.r9b=h.ko;return m;};d.prototype.process=function(h){return c.__awaiter(this,void 0,void 0,function(){var m,l,n,p;return c.__generator(this,function(r){switch(r.label){case 0:if(h.done)return [3,11];m=h.value.value;g.assert(m.he);l=this.qf.La;if(!this.KY || !this.AW)return [3,10];if(!this.AW.greaterThan(this.oya))return [3,8];if(!this.SO)return [3,5];n=m.he.Ia(this.SO).Ia(this.oya);p=this.SO.add(n.Dj(this.xYb));if(!p.lessThan(m.he))return [3,3];if(!p.greaterThan(l.currentTime))return [3,2];k.aa && this.J.trace("PacingThrottler: waiting until " + p.Bc() + " for mediaRequest @" + (m.he.Bc() + ", current time ") + (l.currentTime.Bc() + ", clock start time ") + (this.SO.Bc() + ", distance ") + n.Bc());return [4,this.waitUntil(p)];case 1:(r.pc(),r.label=2);case 2:return [3,4];case 3:(k.aa && this.J.warn("PacingThrottler: invalid schedule time " + (p.Bc() + " for mediaRequest @") + (m.he.Bc() + ", current time ") + (l.currentTime.Bc() + ", clock start time ") + (this.SO.Bc() + ", distance ") + n.Bc()),r.label=4);case 4:return [3,7];case 5:n=m.he.Ia(this.KY);if(!n.greaterThan(this.oya))return [3,7];k.aa && this.J.trace("PacingThrottler: (buffering) waiting until " + this.KY.V + "ms for mediaRequest @" + (m.he.V + "ms, current time ") + l.currentTime.V);return [4,this.waitUntil(this.KY)];case 6:(r.pc(),r.label=7);case 7:return [3,9];case 8:(this.AW=this.AW.add(m.LJ),r.label=9);case 9:return [3,11];case 10:(this.KY=m.he,this.AW=m.LJ,r.label=11);case 11:return [2,h];}});});};d.prototype.reset=function(){var h;null === (h=this.r9b) || void 0 === h?void 0:h.Rb();};return d;})();b.wMa=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.BPa=void 0;c=a(1);q=(function(){function k(g){this.AL=g;}Object.defineProperties(k.prototype,{name:{get:function(){return "Transition";},enumerable:!1,configurable:!0}});k.prototype.process=function(g){return c.__awaiter(this,void 0,void 0,function(){var f;return c.__generator(this,function(d){switch(d.label){case 0:if(g.done)return [3,3];f=g.value.value;return this.M7 && f.sF?[4,this.AL.s9b({mediaType:f.mediaType,to:f.stream,from:this.M7,timestamp:f.he})]:[3,2];case 1:(d.pc(),d.label=2);case 2:return (this.M7=f.stream,[3,4]);case 3:(this.M7=void 0,d.label=4);case 4:return [2,g];}});});};k.prototype.reset=function(){this.M7=void 0;};return k;})();b.BPa=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.FPa=void 0;q=(function(){function a(c,k,g,f,d,h,m,l,n,p){var r;r=this;this.id=c;this.R=k;this.da=g;this.RX=d;this.Am=h;this.px=m;this.tq=l;this.Sq=n;this.ye=p;this.dQ=function(t){var w,v;return (null === (v=null === (w=r.Am) || void 0 === w?void 0:w[t]) || void 0 === v?void 0:v.h7b) || r.ye;};this.Ta=f || Infinity;}Object.defineProperties(a.prototype,{M:{get:function(){return this.R.M;},enumerable:!1,configurable:!0}});a.prototype.B2a=function(){var c,k,g;c=this;g=Object.keys(this.Am || ({})).filter(function(f){var d,h;return !(null === (h=null === (d=c.Am) || void 0 === d?void 0:d[f]) || void 0 === h || !h.weight);});return g.length?null !== (k=g.map(this.dQ).reduce(function(f,d){return f === d?d:void 0;})) && void 0 !== k?k:this.ye:this.ye;};a.prototype.toString=function(){return "segmentId: " + this.id + " playlistSegmentId: " + this.Sq + " viewableId: " + this.R.M + " pts: " + this.da + "-" + this.Ta + " defaultKey: " + this.RX + " dests: " + JSON.stringify(this.Am) + " terminal: " + ! !this.px;};a.prototype.toJSON=function(){return {id:this.id,viewable:this.R.M,"startPts:":this.da,endPts:this.Ta,defaultKey:this.RX,"dests:":this.Am,terminal:! !this.px,playlistSegmentId:this.Sq};};return a;})();b.FPa=q;},function(q,b,a){var c,k,g,f,d,h;Object.defineProperties(b,{__esModule:{value:!0}});b.GDa=void 0;q=a(1);c=q.__importStar(a(10));k=a(196);g=q.__importDefault(a(1047));f=a(429);d=q.__importDefault(a(32));h=q.__importDefault(a(5));a=(function(){var T70;T70=2;for(;T70 !== 24;){switch(T70){case 2:Object.defineProperties(m.prototype,{Nba:{get:function(){var X70;X70=2;for(;X70 !== 1;){switch(X70){case 2:return this.cma;break;case 4:return this.cma;break;X70=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{wza:{get:function(){var Y70;Y70=2;for(;Y70 !== 1;){switch(Y70){case 2:return this.bUa;break;}}},enumerable:!1,configurable:!0}});T70=5;break;case 5:m.prototype.veb=function(l,n,p){var Z70;Z70=2;for(;Z70 !== 4;){switch(Z70){case 2:this.GF=l;c.ta(n) || (this.g5a=n);c.ta(p) || (this.f5a=p);Z70=4;break;}}};m.prototype.JCa=function(l){var a80;a80=2;for(;a80 !== 5;){switch(a80){case 2:this.K=l;a80=1;break;case 9:this.QV.JCa(l);a80=4;break;a80=5;break;case 1:this.QV.JCa(l);a80=5;break;}}};m.prototype.dma=function(l,n,p,r){var b80,t;b80=2;for(;b80 !== 7;){switch(b80){case 5:b80=void 0 !== r?4:3;break;case 2:t=this.K;b80=1;break;case 1:var z8q="i";z8q+="q";z8q+="r";b80=l === z8q?5:9;break;case 4:return ! !(n.fb && p && c.Oa(r) && n.fb.Ca < t.wX && r > t.Bia);break;case 9:var s8q="a";s8q+="v";s8q+="g";b80=l === s8q?8:3;break;case 8:return n.fb?n.fb.Ca < t.wX:!0;break;case 3:return !1;break;}}};m.prototype.XP=function(l){var c80;c80=2;for(;c80 !== 1;){switch(c80){case 2:return 1 === l?this.QV.g1:this.QV.f1;break;}}};m.prototype.Dz=function(l){var d80;d80=2;for(;d80 !== 5;){switch(d80){case 2:this.QV.Dz(l);this.TRa=l;d80=5;break;}}};m.prototype.UY=function(){var e80;e80=2;for(;e80 !== 1;){switch(e80){case 2:return this.TRa;break;case 4:return this.TRa;break;e80=1;break;}}};T70=6;break;case 6:m.prototype.KL=function(l){var f80;f80=2;for(;f80 !== 5;){switch(f80){case 2:this.QV.KL(l);this.QUa=l;f80=5;break;}}};m.prototype.DZ=function(){var g80;g80=2;for(;g80 !== 1;){switch(g80){case 4:return this.QUa;break;g80=1;break;case 2:return this.QUa;break;}}};m.prototype.kxb=function(l,n,p,r,t,w){var h80,v;h80=2;for(;h80 !== 5;){switch(h80){case 2:v=this.K;v.Bga && this.ivb(n) || !p || !r || !(p=w?Math.min(p,r,w):Math.min(p,r)) || (this.Tp.get(),r=this.Fb.$a,l=r.yy(r.qd,l),n.track.Aw() && l > v.Coa && p === t?(v.set?(v.set({pipelineEnabled:!0}),v.set({maxParallelConnections:1}),v.set({maxActiveRequestsPerSession:2}),v.set({maxPendingBufferLen:500})):(v.Bs=!0,v.KQ=1,v.dz=2,v.Eca=500),n.track.Dea({type:n.track.config.type,connections:1,openRange:!1,pipeline:!0,socketBufferSize:v.NS,minRequestSize:v.RQ}),this.eCa++,v.Bga && (this.T7=!0)):v.Bs && !n.Aw() && (l < v.Boa || p !== t) && (v.set?(v.set({pipelineEnabled:!0}),v.set({maxParallelConnections:3}),v.set({maxActiveRequestsPerSession:3}),v.set({maxPendingBufferLen:12E3})):(v.Bs=!0,v.KQ=3,v.dz=3,v.Eca=12E3),n.track.Dea({type:n.config.type,connections:3,openRange:!1,pipeline:!0,socketBufferSize:v.NS,minRequestSize:v.RQ}),this.fCa++,v.Bga && (this.U7=!0)));h80=5;break;}}};T70=12;break;case 12:m.prototype.nxb=function(l,n){var i80,r,t,p;i80=2;for(;i80 !== 6;){switch(i80){case 1:i80=this.pTa?5:6;break;case 5:void 0 === this.yo && (this.yo={startTime:h.default.time.ma(),JW:[],E3:[],Vva:void 0,Ova:void 0});p=Math.floor((h.default.time.ma() - this.yo.startTime) / p.FO);(r=this.yo.Ova,t=this.yo.Vva?p - this.yo.Vva - 1:p);i80=9;break;case 9:i80=void 0 === r || p > r?8:7;break;case 2:p=this.K;i80=1;break;case 7:this.yo.Ova=p;i80=6;break;case 8:(this.yo.JW[t]=l,this.yo.E3[t]=n);i80=7;break;}}};m.prototype.rXb=function(){var j80,k80,l;j80=2;for(;j80 !== 4;){switch(j80){case 1:j80=this.NI.Jt?5:4;break;case 8:j80=this.NI.Jt?2:9;break;j80=this.NI.Jt?5:4;break;case 5:try{k80=2;for(;k80 !== 1;){switch(k80){case 2:(this.Tp.m1b(),this.bUa.sd());k80=1;break;}}}catch(n){var V8q="Hinds";V8q+="ight: Error during";V8q+=" clean u";V8q+="p: ";a000.s59(4);l.Ub.hp(a000.Y59(V8q,n));}j80=4;break;case 2:l=this.Fb;j80=1;break;}}};m.prototype.CXb=function(l){var l80;l80=2;for(;l80 !== 1;){switch(l80){case 2:this.K.sP && l === d.default.kb.Vb && (this.fCa=this.eCa=this.dfb=this.efb=this.Cab=this.Dab=0);l80=1;break;}}};m.prototype.AXb=function(l,n){var m80;m80=2;for(;m80 !== 1;){switch(m80){case 2:l === d.default.kb.Vb && (this.g9b=n);m80=1;break;}}};m.prototype.pBb=function(l){var n80,r,n,p,t,w;n80=2;for(;n80 !== 6;){switch(n80){case 5:r=this.Tp.get();n80=4;break;case 2:n=this.K;n80=1;break;case 1:var b8q="n";b8q+="o";b8q+="n";b8q+="e";n80=b8q !== n.bH && !0 !== this.Yt && l.state <= n.Uwa?5:6;break;case 3:t=this.MSa(r);n80=9;break;case 4:var f8q="i";f8q+="q";f8q+="r";n80=f8q === n.bH?3:8;break;case 9:void 0 !== t && void 0 !== t.am && void 0 !== t.qk && void 0 !== t.bm && (p=(t.bm - t.am) / t.qk);n80=8;break;case 8:w=n.g0?d.default.Rj.yD:d.default.Rj.zD;r && r.confidence >= w && this.dma(n.bH,r,t,p) && (this.Yt=!0,this.y9=l.state);n80=6;break;}}};m.prototype.Jxb=function(l){var o80;o80=2;for(;o80 !== 1;){switch(o80){case 4:l.Yt=this.Yt;o80=4;break;o80=1;break;case 2:l.Yt=this.Yt;o80=1;break;}}};T70=17;break;case 17:m.prototype.FJb=function(l){var p80,w,n,p,r,t,v,u,x;p80=2;for(;p80 !== 25;){switch(p80){case 1:t.fields=n;Object.keys(l).forEach(function(y){var q80;q80=2;for(;q80 !== 1;){switch(q80){case 2:n[y]=l[y];q80=1;break;case 4:n[y]=l[y];q80=4;break;q80=1;break;}}});w=this.Tp.get();w && w.fb && (w=w.fb.Ca);p80=9;break;case 2:var n8q="sta";n8q+="rtp";n8q+="la";n8q+="y";var F8q="log";F8q+="da";F8q+="ta";(n={},p=this.K,r=this.Fb,t={type:F8q,target:n8q,fields:{}});p80=1;break;case 7:n.ccs=this.y9;n.isLowEnd=this.GRb;n.histdiscbw=this.GF;v=this.f5a;p80=12;break;case 12:p80=v?11:16;break;case 11:u=function(y){var r80;r80=2;for(;r80 !== 1;){switch(r80){case 2:return c.Oa(y)?Number(y).toFixed(2):-1;break;}}};w=[u(v.min || void 0),u(v.Oda || void 0),u(v.am || void 0),u(v.qk || void 0),u(v.bm || void 0),u(v.Pda || void 0),u(v.max || void 0)];p80=20;break;case 9:n.actualbw=w;n.isConserv=this.Yt;p80=7;break;case 20:x=[];v=c.isArray(v.Bj) && v.Bj.reduce(function(y,z){var s80,A;s80=2;for(;s80 !== 3;){switch(s80){case 2:A=u(z.Pg || void 0);z=u(z.n || void 0);-1 < A && -1 < z && y.push({mean:A,n:z});return y;break;}}},x);p80=18;break;case 18:n.histtdc=v;p80=17;break;case 17:n.histtd=w;p80=16;break;case 16:n.histage=this.g5a;p.bra && this.MN && (n.ishighstable=this.cma,n.avg_avtp=this.MN.pzb,n.avg_ne=Number(this.MN.rzb).toFixed(4));r.Gc && (p=h.default.yq(),n.maxAudioBufferAllowedBytes=p[d.default.kb.mc],n.maxVideoBufferAllowedBytes=p[d.default.kb.Vb]);r.emit(t.type,t);p80=25;break;}}};m.prototype.GJb=function(l){var t80,n,p,r,t,w,v,u;t80=2;for(;t80 !== 6;){switch(t80){case 2:(n=this,p=this.K,r=this.Tp.get(),t=[]);[d.default.kb.Vb,d.default.kb.mc].forEach(function(x){var u80,y;u80=2;for(;u80 !== 4;){switch(u80){case 2:u80=n.Fc(x)?1:4;break;case 9:u80=n.Fc(x)?3:3;break;u80=n.Fc(x)?1:4;break;case 1:y=n.Fb.i4a(x);void 0 !== y && (x === d.default.kb.Vb && (p.sP && (y.parallelDownloadMs=n.Dab,y.parallelDownloadBytes=n.Cab,y.singleDownloadMs=n.efb,y.singleDownloadBytes=n.dfb,y.switchFromParallelToSingle=n.eCa,y.switchFromSingleToParallel=n.fCa),r && r.confidence && r.fb && (y.asetput=r.fb,y.aseiqr=r.yw,y.tdigest=r.Cl && r.Cl.MB() || void 0),r && r.avtp && (y.avtp=r.avtp.Ca)),t.push(y));u80=4;break;}}});l.stat=t;t80=4;break;case 8:var c8q="n";c8q+="o";c8q+="n";c8q+="e";this.pTa && (l.bt={startTime:this.yo.startTime,audioMs:this.yo.JW,videoMs:this.yo.E3},this.yo.JW=[],this.yo.E3=[],this.yo.Vva=this.yo.Ova);c8q !== p.bH && (l.isConserv=this.Yt,l.ccs=this.y9);t80=6;break;case 4:(w=0,v=0,u=0);r.confidence && (w=r.fb?r.fb.Ca:0,v=r.yl?r.yl.Ca:0,u=r.Uy?r.Uy.Ca:0);l.location={responseTime:v,httpResponseTime:u,bandwidth:w,confidence:r.confidence,name:this.g9b};t80=8;break;}}};m.prototype.ivb=function(l){var v80,n;v80=2;for(;v80 !== 6;){switch(v80){case 1:v80=this.T7 && l.Aw()?5:4;break;case 2:n=this.K;v80=1;break;case 5:return !0;break;case 4:this.T7 && (this.T7=!1);v80=3;break;case 3:v80=this.U7 && n.Bs && !l.Aw()?9:8;break;case 9:return !0;break;case 8:this.U7 && (this.U7=!1);v80=7;break;case 7:return !1;break;}}};m.prototype.MSa=function(l){var w80,x80;w80=2;for(;w80 !== 4;){switch(w80){case 1:l=l.Cl;w80=5;break;case 2:var a8q="t";a8q+="d";a8q+="ige";a8q+="s";a8q+="t";x80=this.K.pua;w80=x80 === a8q?1:3;break;case 5:return l;break;case 9:l=l.yw && l.yw.Wda;w80=5;break;case 3:w80=9;break;}}};T70=26;break;case 26:m.prototype.stb=function(l,n,p){var y80,r;y80=2;for(;y80 !== 3;){switch(y80){case 5:this.y9=0;this.dma(r.wwa,l,n,p) && (this.GRb=!0);y80=3;break;case 2:r=this.K;this.dma(r.bH,l,n,p)?this.Yt=!0:this.Yt=!1;y80=5;break;}}};return m;break;}}function m(l,n,p,r,t,w,v,u,x){var U70,W70,z,y,V70;U70=2;for(;U70 !== 31;){switch(U70){case 22:this.cma=this.MN.Nba();U70=32;break;case 35:this.MN=new f.tIa(v,t,this.J);U70=22;break;case 25:U70=v && 1 < v.length && t.bra?24:32;break;case 8:this.cc=this.J.warn.bind(this.J);this.Eo=this.J.trace.bind(this.J);this.K=t;U70=14;break;case 34:U70=33;break;case 26:this.cma=!1;U70=25;break;case 27:try{W70=2;for(;W70 !== 4;){switch(W70){case 2:z=new g.default(l,this.J,{bufferSize:h.default.yq()},t);this.Tp.txb(z);this.bUa=z;W70=4;break;}}}catch(A){var G8q="Hind";G8q+="sight: Error when creating QoEEva";G8q+="luator: ";a000.s59(4);l.Ub.hp(a000.z59(G8q,A));}U70=26;break;case 2:var C8q="1SIYb";C8q+="Zr";C8q+="NJC";C8q+="p9";this.J=n;this.Tp=r;this.Fc=u;this.NI=x;C8q;this.Fb=l;U70=8;break;case 15:U70=this.NI.Jt?27:26;break;case 23:this.MN=new f.xia(v,t,this.J);U70=22;break;case 21:var l8q="L";l8q+="R";U70=V70 === l8q?35:34;break;case 19:void 0 !== n && void 0 !== n.am && void 0 !== n.qk && void 0 !== n.bm && (y=(n.bm - n.am) / n.qk);U70=17;break;case 24:var H8q="ba";H8q+="s";H8q+="eline";V70=t.GPb;U70=V70 === H8q?23:21;break;case 17:r=t.g0?d.default.Rj.yD:d.default.Rj.zD;p && p.confidence >= r && p.fb && y && this.stb(p,n,y);U70=15;break;case 14:this.QUa=this.TRa=null;a000.s59(21);var X31=a000.Y59(5,3999965,999993);this.pTa=0 === Math.floor(X31 * Math.random()) % t.Doa;this.GF=this.f5a=this.g5a=this.y9=this.Yt=void 0;this.fCa=this.dfb=this.efb=this.eCa=this.Cab=this.Dab=0;this.QV=k.XP(t,w);n=this.MSa(p);U70=19;break;case 33:this.MN=new f.xia(v,t,this.J);U70=22;break;case 32:t.Bga && (this.U7=this.T7=!1);U70=31;break;}}}})();b.GDa=a;},function(q,b,a){var k,g,f;function c(d,h,m,l){this.Fb=d;this.J=h;this.Jl=this.J.error.bind(this.J);this.cc=this.J.warn.bind(this.J);this.Eo=this.J.trace.bind(this.J);this.ug=this.J.log.bind(this.J);this.urb=new g();this.K=l;this.K7=[];this.b8=void 0;d=l.jba;k.call(this,d.numB * d.bSizeMs,d.bSizeMs);this.Yla=!0;}a(32);b=a(5).default;k=a(152);a(463);g=a(1048);new b.Console("ASEJS_QOE_EVAL","media|asejs");f=a(133).POa || a(133);c.prototype=Object.create(k.prototype);c.prototype.add=function(d,h,m){this.b8 || (this.b8=h);k.prototype.add.call(this,d,h,m);};c.prototype.DLb=function(){var d;if(0 !== this.K7.length){d=[];this.K7.forEach(function(h){h && h.uO && d.push(h.MB());});return d;}};c.prototype.sd=function(){this.K7=[];};c.prototype.vOb=function(){var d,h,m;d=this.get(this.K.jba.fillS);if(0 === d[0] || null === d[0]){d.some(function(n,p){if(n)return (h=n,m=p,!0);});if(h)for(var l=0;l < m;l++){d[l]=h;}}d={trace:d,timestamp:this.b8,fB:this.ae};this.Yla=!1;k.prototype.reset.call(this);this.Yla=!0;this.b8=void 0;return d;};c.prototype.rra=function(d){var h,m,l,n,p,r;if(d && !d.uO){m=d.Uv.G6a;m && (d.Eza=this.Qna(d),d.Aea=!1);if((h=this.vOb()) && h.trace && h.trace.length){l=d.Hk.uG;n=h.timestamp;if(n > l){p=h.fB;r=h.trace[0];l=Math.ceil((n - l) / p);h.timestamp=n - l * p;for(n=0;n < l;n++){h.trace.splice(0,0,r);}}h.trace.length && h.trace.pop();}d.cD=h;h.trace && 0 === h.trace.length || void 0 === h.timestamp || (h=this.oAb(d),d.hab=h,m && h && (d.Aea=h.Xt),d.uO=!0,this.K7.push(d));}};c.prototype.oAb=function(d){var p,r,t,w;function h(v){var y;for(var u,x=0;x < v.length;x++){y=v[x].reduce(function(z,A){return A.nb?z + 1:z;},0);if(void 0 === u)u=y;else if(y !== u)throw Error("length of per-fragment vmafs mismatch across streams [ceil(log2(delta))=" + Math.ceil(Math.log(y > u?y - u:u - y) * Math.LOG2E) + "]");}}for(var m=this.K.iba,l={Xt:!1,Bba:!1,RHb:0},n=0;n < m.length;n++){p=m[n];r=this.urb.create(p);if(r){t=f.now();w={};try{h(d.Rz);w=r(d);}catch(v){w.DP=v;}w.eyb=f.now() - t;l[p]=w;l.Xt=l.Xt || w.Xt;l.Bba=l.Bba || w.Bba;l.DP=l.DP || w.DP;}}return l;};c.prototype.Qna=function(d){var h;d=d.Uv;h="";1E3 > d.Ap && (h+=d.Sib);1E3 > d.ut && (h=h + ("" !== h?",":"") + d.XVa);1E3 <= d.Ap && 1E3 <= d.ut && (h="media");return h;};q.exports=c;},function(q,b,a){var g;function c(){}function k(f,d,h){return function(m){m.Ks=d;m.compare=h;return f(m);};}g=a(1049);c.prototype.constructor=c;c.prototype.create=function(f){var d;switch(f){case "htwbr":break;case "htwbr-dlvmaf":d=k(g.HZ,!1,g.pYa);break;case "htwbr-segvmaf":d=k(g.HZ,!0,g.pYa);break;case "hvmafgr":d=k(g.HZ,!1,g.Ipa);break;case "hvmafgr-dlvmaf":d=k(g.HZ,!1,g.Ipa);break;case "hvmafgr-segvmaf":d=k(g.HZ,!0,g.Ipa);break;case "hvmafdp":d=k(g.dp,!1);break;case "hvmafdp-dlvmaf":d=k(g.dp,!1);break;case "hvmafdp-segvmaf":d=k(g.dp,!0);break;default:throw Error("Unrecognized hindsight algorithm");}return d;};q.exports=c;},function(q,b,a){var r,t,w,v,u,x,y,z,A,B,D;function c(C){var F,G,E;F=C.cD;G=C.Hk;E=C.Uv.Ta - G.da;F.timestamp > G.uG && B.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has " + F.timestamp + " and " + G.uG);C=[];for(var I,K=F.timestamp,L=0;L < F.trace.length;L++){K >= G.uG && (C.push(F.trace[L]),I=F.trace[L]);K+=F.fB;E-=F.fB;}for(;0 < E;){C.push(I);E-=F.fB;}G=F.fB;F=C.length;if(0 === F)F=[];else {for(G=[G / 1E3];2 * G.length <= F;){G=G.concat(G);}G.length < F && (G=G.concat(G.slice(0,F - G.length)));F=G;}return new x(C,F,!1);}function k(C,F,G){F=C.Rz[F][G];return F.ga + C.Hk.RW * F.duration / 8;}function g(C){var F,G,E,I,K,L,H,P,N;F=C.Hk;G=F.io;E=C.Uv;I=E.Fy;L=[];for(E=I=Math.min(E.IK,I);E >= G;E--){D.update("backward step loop");H=K=C.Rz[0][E].da - C.Hk.da;E < I && (r(void 0 !== L[E + 1],"expect solution[(fragIndex + 1)] !== undefined"),H=Math.min(L[E + 1].startTime,H));P=k(C,0,E);N=p(P,H,C.cD,F.uG);if(0 > N)throw Error("Infeasible: reason throughput at min bitrate");P={startTime:N,endTime:H,M9:H,qHb:K,UR:P,nf:0};P.K1a=E;L[E]=P;}F=0;for(E=G;E <= I;E++){F+=L[E].UR;L[E].Lqa=F;}if(!f(C,L,G,I))throw Error("Infeasible: reason buffer capacity at min bitrate");return {Xt:!0,Dxa:0 == L.length,Os:L};}function f(C,F,G,E){var I,K,L,H,P,N,J,M,O,Q;for(;G <= E;G++){D.update("checkBuffer");I=C;K=F;L=G;D.update("check buffer vacancy");H=I.Hk;P=I.Rz[H.VZ];N=I.SWa;J=!0;I=I.$Jb(Math.floor(K[L].startTime) + H.da);M=H.Ku + K[L].Lqa;O=0;Q=0;if(I.index < H.io){for(var T=0,V=H.YC;V < I.index;V++){T+=P[V].ga;}O+=T;T=0;for(V=H.YC;V < I.index;V++){T+=P[V].duration;}Q+=T;}else (O+=H.Ku,Q+=H.Ap);T=0;for(V=H.io;V < I.index;V++){T+=K[V].UR;}O+=T;T=0;for(V=H.io;V < I.index;V++){T+=P[K[V].K1a].duration;}Q+=T;I=M - O;H=P[L].da + P[L].duration - H.da - Q;if(H >= N.eu || I >= N.Eib)J=!1;K[L].dXa=I;K[L].Koa=H;if(!J)return !1;}return !0;}function d(C){C=C.Hk.Z;for(var F=[],G,E=0;E < C.length;E++){D.update("get prebuffered chunks loop");G=C[E];r(void 0 !== G.nb,"expect frag.vmaf !== undefined");G=new w(G.ga,G.duration / 1E3,G.nb);F.push(G);}return F;}function h(C){var F,G,E,I,K,L,N;F=C.Rz;G=C.Hk;E=C.Uv;I=E.Fy;K=C.zd;L=[];I=Math.min(E.IK,I);for(var H=0;H < F.length;H++){E=[];for(var P=G.io;P <= I;P++){D.update("get chunk map from play segment");N=F[H][P];N=new w(N.ga,N.duration / 1E3,C.Ks && void 0 !== N.nb?N.nb:K[H].nb);E.push(N);}L.push(E);}return new v(L,!1);}function m(C,F,G){r(C.gQ() >= F.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var E=0,I=0,K,L,H=0;H < F.length;H++){D.update("calculate twvmaf");r(F[H].p5a === H,"expect stream_choices[idx].i_epoch === idx");L=C.En[F[H].mba][H];K=void 0 !== G?G(L.quality):L.quality;L=L.fo;E+=K * L;I+=L;}return {G_a:E / I,F_a:1E3 * I};}function l(C,F,G){r(C.gQ() >= F.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var E=0,I=0,K=G.Hk.RW,L,H=0,P=0,N=0;N < F.length;N++){D.update("calculate Bytes");r(F[N].p5a === N,"expect stream_choices[idx].i_epoch === idx");L=C.En[F[N].mba][N];E+=L.ga;I+=K * L.fo * 1E3 / 8;H+=L.fo * G.zd[F[N].mba].bitrate;P+=L.fo;}return {E_a:E,B_a:I,D_a:0 < P?1 * H / P:0};}function n(C,F,G){F=Math.min(C.length - 1,F);F=Math.max(0,F);return C[F] * G / 8;}function p(C,F,G,E){var I,K,L,H,P;I=G.trace;K=1 * G.fB;L=F + E - G.timestamp;H=Math.floor(1 * L / K);F=(L - H * K) / K * n(I,H,K);if(F >= C)P=L - 1 * C / F * (L - H * K);else for(L=H;F < C;){D.update("find download start time");--L;if(0 > L)return -1;H=n(I,L,K);if(F + H >= C){C=(C - F) / H * K;P=(L + 1) * K - C;break;}F+=H;}return P + G.timestamp - E;}r=a(4).assert;t=a(1050);w=a(464).blb;v=a(464).clb;u=a(1051).rmb;x=a(465).Qqb;y=a(280).OEa;z=a(273).N5;A=a(91).default;B=new (a(5).default.Console)("ASEJS_QOE_EVAL","media|asejs");D=a(133).POa || a(133);q.exports={HZ:function(C){var F,G,E,I,K,L,H,P,N,J,M,O,Q,T,V,da,pa,xa,ya,sa,X,W,ia,za,Ra,Fa,$a,Ta;B.debug("greedy DEBUG false");D.UAa("greedy-" + (C.Ks?"segvmaf":"dlvmaf") + ": ");try{C.HK=[];F=C.Rz;G=C.Hk;E=C.Uv;I=E.Fy;K=C.zd;I=Math.min(E.IK,I);for(H=G.io;H <= I;H++){P=new t();C.HK[H]=P;F[0][H].Poa=F[0][H].ga;for(L=1;L < F.length;L++){F[L][H].Poa=F[L][H].ga;}L=0;N=F[L][H];N.XF=Infinity;N.dg=L;for(L=1;L < F.length;L++){N=F[L][H];N.dg=L;J=P.Jba()?F[0][H]:P.ZYb();M=8 * N.Poa / N.duration;O=8 * J.Poa / J.duration;if(C.Ks && void 0 !== N.nb)(Q=N.nb,T=J.nb);else (Q=K[L].nb,T=K[J.dg].nb);N.Ew=M - O;N.XF=(Q - T) / N.Ew;isFinite(N.XF) && (0 < N.XF || L == F.length - 1) && 0 < N.Ew && P.enqueue(N);}}for(H=G.io;H <= I;H++){G=[];V=[];da=[];pa=C.HK[H].kr();for(F=0;F < pa.length;F++){N=pa[F];G.push(N.Ew.toFixed(2));C.Ks && void 0 !== N.nb?V.push(N.nb):V.push(K[N.dg].nb);da.push(N.XF.toFixed(4));}}xa=g(C);if(xa.Dxa)return xa;ya=C.Hk;sa=C.Uv;X=sa.Fy;X=Math.min(sa.IK,X);da=[];for(var S=ya.io;S <= X;S++){C.HK[S].Jba() || da.push(C.HK[S].gP());}r(void 0 !== C.compare,"playSegment.compare required for greedy");for(var R=new z(da,C.compare);0 < R.length;){D.update("upgrade frags");W=R.pop();a:{X=ya=void 0;S=C;da=xa;V=W;ia=S.Hk;za=S.Uv;Ra=Math.min(za.IK,za.Fy);Fa=JSON.parse(JSON.stringify(da.Os));r(V && Fa[V.index].nf < V.dg,"expect solution[targetFrag.index].selectedStreamIndex < targetFrag.streamIndex");X=V.index;ya=Fa[X];ya.nf=V.dg;ya.UR=k(S,ya.nf,X);ya.startTime=p(ya.UR,ya.M9,S.cD,ia.uG);Fa[X]=ya;if(0 > ya.startTime)$a=!1;else {for(X=V.index - 1;X >= ia.io;X--){ya=Fa[X];Ta=Fa[X + 1].startTime;if(ya.M9 <= Ta)break;ya.M9=Ta;ya.startTime=p(ya.UR,ya.M9,S.cD,ia.uG);Fa[X]=ya;if(0 > ya.startTime){$a=!1;break a;}}for(var Xa=V.index + 1;Xa <= Ra;Xa++){Fa[Xa].Lqa=Fa[Xa].UR + (Xa > S.Hk.io?Fa[Xa - 1].Lqa:0);}for(var eb=V.index + 1;eb <= Ra;eb++){if(Fa[eb].startTime > Fa[V.index].qHb){Ra=eb - 1;break;}}f(S,Fa,V,Math.min(X + 1,V.index),Ra)?(da.Os=Fa,$a=!0):$a=!1;}}$a && (C.HK[W.index].Jba() || R.push(C.HK[W.index].gP()));}}finally{delete C.HK;}for(Ra=za=ia=$a=W=R=0;Ra < xa.Os.length;Ra++){if(Fa=xa.Os[Ra])(Ta=C.Rz[Fa.nf][Fa.K1a],R+=(Ta.nb?Ta.nb:C.zd[Fa.nf].nb) * Ta.duration,W+=Ta.duration,$a+=Ta.ga,ia+=C.Hk.RW * Ta.duration / 8,za+=Ta.duration * C.zd[Fa.nf].bitrate);}xa.G_a=0 < W?1 * R / W:0;xa.F_a=W;xa.E_a=$a;xa.B_a=ia;xa.D_a=0 < W?1 * za / W:0;xa.nC=D.u3a();B.debug("Max heap used: " + Math.round(xa.nC / 1024 / 1024) + " MB");return xa;},Ipa:function(C,F){if(C.XF < F.XF)return 1;if(C.XF > F.XF)return -1;if(C.Ew > F.Ew)return 1;if(C.Ew < F.Ew)return -1;if(C.index > F.index)return 1;if(C.index < F.index)return -1;throw Error("Invalid frag comparison");},pYa:function(C,F){if(C.Ew > F.Ew)return 1;if(C.Ew < F.Ew)return -1;if(C.index > F.index)return 1;if(C.index < F.index)return -1;throw Error("Invalid frag comparison");},dp:function(C){var F,G,E,I,K,L;D.UAa("dp-" + (C.Ks?"segvmaf":"dlvmaf") + ": ");F=g(C);if(!1 === F.Xt || !0 === F.Dxa)return F;G=h(C);E=new u(G);I=d(C);I={Lgb:c(C),nWa:C.Hk.RW,L9a:0,i9a:240,h9a:8 * C.SWa.Eib / 1E3,$Wa:.5,EWa:new y(I),B0a:0,Dgc:void 0,C4a:void 0,acb:void 0,FVa:!0};E=E.Bz(I);I=m(G,E,void 0);G=l(G,E,C);K=[];L=C.Hk.io;E.forEach(function(H){K[L]={nf:H.mba};L++;});A(I,F);A(G,F);F.Os=K;F.nC=D.u3a();B.debug("Max heap used: " + Math.round(F.nC / 1024 / 1024) + " MB");return F;}};},function(q){var c;function b(k){this.$g=a(k);this.zh=this.Uf=0;if(c(k)){for(var g=k.length,f=0;f < g;++f){this[f]=k[f];}this.Uf=g;}}function a(k){if("number" !== typeof k)if(c(k))k=k.length;else return 16;k=Math.min(Math.max(16,k),1073741824);k=(k >>> 0) - 1;k|=k >> 1;k|=k >> 2;k|=k >> 4;k|=k >> 8;return (k | k >> 16) + 1;}b.prototype.kr=function(){for(var k=this.Uf,g=Array(k),f=this.zh,d=this.$g,h=0;h < k;++h){g[h]=this[f + h & d - 1];}return g;};b.prototype.push=function(k){var g,f,d,m;g=arguments.length;f=this.Uf;if(1 < g){d=this.$g;if(f + g > d){for(var h=0;h < g;++h){this.S6(f + 1);m=this.zh + f & this.$g - 1;this[m]=arguments[h];f++;this.Uf=f;}return f;}m=this.zh;for(h=0;h < g;++h){this[m + f & d - 1]=arguments[h];m++;}this.Uf=f + g;return f + g;}if(0 === g)return f;this.S6(f + 1);h=this.zh + f & this.$g - 1;this[h]=k;this.Uf=f + 1;return f + 1;};b.prototype.pop=function(){var k,g,f;k=this.Uf;if(0 !== k){g=this.zh + k - 1 & this.$g - 1;f=this[g];this[g]=void 0;this.Uf=k - 1;return f;}};b.prototype.shift=function(){var k,g,f;k=this.Uf;if(0 !== k){g=this.zh;f=this[g];this[g]=void 0;this.zh=g + 1 & this.$g - 1;this.Uf=k - 1;return f;}};b.prototype.unshift=function(k){var g,f,d,m;g=this.Uf;f=arguments.length;if(1 < f){d=this.$g;if(g + f > d){for(var h=f - 1;0 <= h;h--){this.S6(g + 1);d=this.$g;m=(this.zh - 1 & d - 1 ^ d) - d;this[m]=arguments[h];g++;this.Uf=g;this.zh=m;}return g;}m=this.zh;for(h=f - 1;0 <= h;h--){m=(m - 1 & d - 1 ^ d) - d;this[m]=arguments[h];}this.zh=m;this.Uf=g + f;return g + f;}if(0 === f)return g;this.S6(g + 1);d=this.$g;h=(this.zh - 1 & d - 1 ^ d) - d;this[h]=k;this.Uf=g + 1;this.zh=h;return g + 1;};b.prototype.ZYb=function(){var k;k=this.Uf;if(0 !== k)return this[this.zh + k - 1 & this.$g - 1];};b.prototype.get=function(k){var g;if(k === (k | 0)){g=this.Uf;0 > k && (k+=g);if(!(0 > k || k >= g))return this[this.zh + k & this.$g - 1];}};b.prototype.Jba=function(){return 0 === this.Uf;};b.prototype.clear=function(){for(var k=this.Uf,g=this.zh,f=this.$g,d=0;d < k;++d){this[g + d & f - 1]=void 0;}this.zh=this.Uf=0;};b.prototype.toString=function(){return this.kr().toString();};b.prototype.valueOf=b.prototype.toString;b.prototype.enqueue=b.prototype.push;b.prototype.gP=b.prototype.shift;b.prototype.toJSON=b.prototype.kr;Object.defineProperty(b.prototype,"length",{get:function(){return this.Uf;},set:function(){throw new RangeError("");}});b.prototype.S6=function(k){this.$g < k && this.Vvb(a(1.5 * this.$g + 16));};b.prototype.Vvb=function(k){var g,f;g=this.$g;this.$g=k;k=this.zh;f=this.Uf;if(k + f > g)for((k=k + f & g - 1,f=0);f < k;++f){this[f + g]=this[f + 0];this[f + 0]=void 0;}};c=Array.isArray;q.exports=b;},function(q,b,a){var r,t,w,v,u;function c(x,y,z){this.HWa=this.bsb(x,y,z);}function k(){}function g(){}function f(){}function d(x){this.DBb=x;}function h(){}function m(){}function l(){}function n(){this.Hqa={};}function p(x,y){return Array.apply(0,Array(y)).map(function(z,A){return A + x;});}r=a(1);t=a(4).assert;b=a(280).OEa;w=a(465).Rqb;v=a(280).Fkb;new (a(5).default.Console)("ASEJS_QOE_EVAL","media|asejs");u=a(133).POa || a(133);c.prototype.constructor=c;c.prototype.bsb=function(x,y,z){t(x < y,"expect min_buffer_sec < max_buffer_sec but got " + x + " and " + y);t(0 < z,"expect buffer_step_sec > 0. but got " + z);for(var A=[];x < y;x+=z){A.push(x);}A[A.length - 1] < y && A.push(y);return A;};c.prototype.AF=function(x){return this.ctb(x,this.HWa);};c.prototype.ctb=function(x,y){x=this.UGb(x,y);if(0 === x)throw new k();if(x === y.length)throw new g();return x;};c.prototype.UGb=function(x,y){t(0 < y.length,"expect bins.length > 0 but got " + y.length);if(x < y[0])return 0;if(x >= y[y.length - 1])return y.length;for(var z=1;z < y.length;z++){if(y[z - 1] <= x && x < y[z])return z;}t(!1,"expect not coming here in digitize()");};c.prototype.Qaa=function(){return p(1,this.HWa.length - 1);};k.prototype=Error();g.prototype=Error();f.prototype=Error();d.prototype.constructor=d;d.prototype.VERSION="0.5";d.prototype.xlb=-20;d.prototype.wlb=20;d.prototype.vlb=void 0;d.prototype.qlb=new b(void 0);d.prototype.slb=0;d.prototype.rlb=1;d.prototype.Alb=!1;d.prototype.ulb=!0;d.prototype.tlb=!0;d.prototype.ylb=void 0;d.prototype.olb=!0;d.prototype.plb=0;d.prototype.Bz=function(x){t(void 0 !== x.Lgb,"expect recipe.time_varying_bandwidth !== undefined");return this.Yvb(this.DBb,x.Lgb,void 0 !== x.L9a?x.L9a:this.xlb,void 0 !== x.i9a?x.i9a:this.wlb,void 0 !== x.h9a?x.h9a:this.vlb,void 0 !== x.EWa?x.EWa:this.qlb,void 0 !== x.B0a?x.B0a:this.slb,void 0 !== x.$Wa?x.$Wa:this.rlb,void 0 !== x.R4b?x.R4b:this.Alb,void 0 !== x.ROb?x.ROb:this.ulb,void 0 !== x.C4a?x.C4a:this.tlb,void 0 !== x.acb?x.acb:this.ylb,void 0 !== x.FVa?x.FVa:this.olb,void 0 !== x.nWa?x.nWa:this.plb);};d.prototype.Yvb=function(x,y,z,A,B,D,C,F,G,E,I,K,L,H){var N,J,M,O,Q,ya,ia,za,Ra,Fa,$a,Ta,Xa,eb,rb,U,fa,la,wa,Ka,ob;function P(mb){return mb[Q];}u.UAa("dp: ");t(z <= D.ki,"expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec");t(D.ki <= A,"expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec");t(z <= C,"expect min_buffer_sec <= end_buffer_sec");t(C <= A,"expect end_buffer_sec <= max_buffer_sec");void 0 !== B && t(D.bn <= B,"Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got " + D.bn + " and " + B);J=new c(z,A,F);F=new n();M=0;O=D;F.put([0,J.AF(D.ki)],[M,O,void 0,void 0,y,void 0,void 0,void 0]);y=O=0;D=x.MOb();t(x.gQ() == D.length,"expect chunk_map.get_n_epoch() == durations_sec.length");Q=-1;try{for(var T=r.__values(D),V=T.next();!V.done;V=T.next()){Q+=1;D=!0;for(var da=x.En.map(P),pa=J.Qaa(),xa=0;xa < pa.length;xa++){ya=pa[xa];if(F.Fva([Q,ya]))for(var sa=F.get([Q,ya]),X=sa[0],S=sa[1],R=sa[4],W=0;W < da.length;W++){ia=da[W];u.update("epoch-ibuf-chunk loop");za=void 0 !== K?K(ia.quality):ia.quality;Ra=R.Xr();try{sa=this.Isb(S,ia,Ra,H);Fa=sa[0];$a=sa[1];Ta=sa[2];Xa=sa[3];eb=sa[4];rb=sa[5];}catch(mb){if(mb instanceof w)continue;else if(mb instanceof k){O+=1;continue;}else throw mb;}U=!1;fa=!1;try{la=J.AF(Xa.ki);E && J.AF(Fa);I && J.AF($a);if(void 0 !== B)if(I){if(Ta.bn > B)throw new f();}else if(Xa.bn > B)throw new f();}catch(mb){if(mb instanceof k)(la=void 0,O+=1);else if(mb instanceof g)(L?U=!0:y+=1,la=void 0);else if(mb instanceof f)(L?fa=U=!0:y+=1,la=void 0);else throw mb;}try{if(U && fa){t(void 0 !== B,"expect max_buffer_kb !== undefined");wa=I?Ta.bn - B:Xa.bn - B;t(0 <= wa,"pause dlnd kb cannot be -ve but is " + wa);try{Ka=Xa.tZb(wa);}catch(mb){if(mb instanceof v)throw new k();throw mb;}Ra.Kab(Ka);eb+=Ka;t(Xa.ki < A,"expect cur_buffer_queue.total_remain_sec < max_buffer_sec");la=J.AF(Xa.ki);}else if(U && !fa){Ka=I?Ta.ki - A + 1E-8:Xa.ki - A + 1E-8;t(0 <= Ka,"pause dlnd kb cannot be -ve but is " + Ka);try{Xa.dbb(Ka);}catch(mb){if(mb instanceof v)throw new k();throw mb;}Ra.Kab(Ka);eb+=Ka;t(z <= Xa.ki,"expect min_buffer_sec <= cur_buffer_queue.total_remain_sec");t(Xa.ki < A,"cur_buffer_queue.total_remain_sec < max_buffer_sec");la=J.AF(Xa.ki);}else Ka=0;}catch(mb){if(mb instanceof k)(la=void 0,O+=1,Ka=void 0);else if(mb instanceof w)continue;else throw mb;}M=F.Fva([Q + 1,la])?F.get([Q + 1,la])[0]:-Infinity;this.Lwb(Xa,la,ia,za,ya,Q + 1,M,F,X,W,Ra,eb,rb,Ka) && (D=!1);}}if(D){--Q;break;}}}catch(mb){var ab;ab={error:mb};}finally{try{V && !V.done && (N=T.return) && N.call(T);}finally{if(ab)throw ab.error;}}try{ob=this.DSa(Q + 1,J.AF(C),F,G,J);}catch(mb){if(mb instanceof h)try{ob=this.DSa(Q + 1,J.AF(C),F,!G,J);}catch(Gb){if(Gb instanceof h){if(O > y)throw new m();throw new l();}throw Gb;}else throw mb;}ya=ob;for(z=[];-1 < Q;Q--){sa=F.get([Q + 1,ya]);M=sa[0];O=sa[1];ya=sa[3];A=sa[5];B=sa[6];C=sa[7];sa=sa[2];ia=x.En[sa][Q];G=ia.PB();za=ia.quality;z.unshift({p5a:Q,mba:sa,info:{afc:G,quality:za,Foa:O.ki,Eoa:O.bn,c0a:A,fb:B,uya:C}});}return z;};d.prototype.DSa=function(x,y,z,A,B){var D,C;D=!1;C=B.Qaa()[0];for(B=B.Qaa()[B.Qaa().length - 1];;){if(y < C || y > B){D=!0;break;}if(z.Fva([x,y]))break;else y=A?y - 1:y + 1;}if(D)throw new h("backtrack fails to find a solution");return y;};d.prototype.Lwb=function(x,y,z,A,B,D,C,F,G,E,I,K,L,H){z=G + A * z.fo;return void 0 !== y && z > C?(F.put([D,y],[z,x,E,B,I,K,L,H]),!0):!1;};d.prototype.Isb=function(x,y,z,A){var B,D,C;A=(y.PB() + A) * y.fo;z=z.yHb(A);A/=z;B=x.ki - z;D=x.ki + y.fo;C=x.Xr();C.add(y,void 0);x=x.Xr();x.add(y,void 0);try{x.dbb(z);}catch(F){if(F instanceof v)throw new k();throw F;}return [B,D,C,x,z,A];};h.prototype=Error();m.prototype=new h();l.prototype=new h();n.prototype={BCa:function(x){return x.join(",");},put:function(x,y){this.Hqa[this.BCa(x)]=y;},get:function(x){return this.Hqa[this.BCa(x)];},Fva:function(x){return (this.BCa(x) in this.Hqa);}};q.exports={rmb:d,W$b:c,v$b:k,w$b:g};},function(q,b,a){var c,k,g,f,d,h;Object.defineProperties(b,{__esModule:{value:!0}});b.EPa=void 0;q=a(1);c=q.__importStar(a(10));k=a(17);g=a(17);f=q.__importDefault(a(5));d=a(241);h=a(462);a=(function(){function m(l,n,p,r){var A80;A80=2;for(;A80 !== 9;){switch(A80){case 2:var j8q="1SI";j8q+="YbZr";j8q+="NJ";j8q+="Cp";j8q+="9";this.qb=l;this.J=n;this.Fc=p;this.cj=r;j8q;A80=9;break;}}}var z80;z80=2;for(;z80 !== 13;){switch(z80){case 2:m.prototype.uu=function(l,n){var B80,v,p,r,t,w,u,x;B80=2;for(;B80 !== 50;){switch(B80){case 44:g.fg.forEach(function(y){var D80;D80=2;for(;D80 !== 1;){switch(D80){case 2:p.qb.my[y].fm(!0);D80=1;break;}}});B80=43;break;case 6:!t.R.Pf.O_ && 0 < n && (r=this.qb.WO(n,l));this.qb.U.re(k.Da.Tj);w=this.qb.ff;B80=12;break;case 51:var x8q="seek";x8q+="Fa";x8q+="ile";x8q+="d";var R8q="seek, no manifes";R8q+="t";R8q+=" at mani";R8q+="f";R8q+="estIndex:";(this.J.warn(R8q,n),this.qb.emit(x8q));B80=50;break;case 11:n < w.R.bc && t.R.Pf.replace && (t.R.Pf.replace=!1);v=this.qb.$a.qd;g.fg.forEach(function(y){var C80;C80=2;for(;C80 !== 1;){switch(C80){case 2:(y=v.pe(y)) && p.qb.sUa(y);C80=1;break;}}});B80=19;break;case 18:var S8q="see";S8q+="kDel";S8q+="aye";S8q+="d";this.hE={bc:n,il:l};this.qb.emit(S8q);B80=16;break;case 19:B80=!this.qb.cSa(n)?18:15;break;case 16:return;break;case 35:var M8q="s";M8q+="e";M8q+="ek";M8q+="D";M8q+="elayed";this.hE={bc:t.R.bc + 1,il:l};this.qb.emit(M8q);B80=33;break;case 28:B80=(w=this.qb.ff.R.bc === n && !this.xtb(n) && l === t.da)?44:39;break;case 23:B80=l > w?22:31;break;case 2:var T8q=" ";T8q+="pl";T8q+="aye";T8q+="rStat";T8q+="e: ";var N8q=" media.curr";N8q+="entP";N8q+="ts: ";var O8q=" ";O8q+="current ";O8q+="manifest: ";var g8q=" ma";g8q+="nifestInd";g8q+="ex: ";var Z8q="see";Z8q+="k:";Z8q+=" ";p=this;null === (r=this.kTa) || void 0 === r?void 0:r.cancel();(t=this.qb.K,w=this.qb.U.Ue());r=l;t.fj && this.cj.Vn(Z8q + l + g8q + n + O8q + this.qb.ff.R.bc + N8q + w + T8q + this.qb.U.getState());c.ta(n) && (n=this.qb.ff.R.bc);this.qb.$a.qdb();B80=7;break;case 53:this.qb.ZV();B80=43;break;case 31:this.qb.U.re(k.Da.Sh);this.qb.NBa();this.qb.$a.e6b(l,n);B80=28;break;case 15:B80=this.Ct(h.sha.psa(n),!1,!0)?27:26;break;case 26:w=this.qb.$a.qd.FY(t.Ta || Infinity,t.R);B80=25;break;case 32:(l=w,r=l + this.qb.$a.df);B80=31;break;case 25:B80=w.length?24:52;break;case 42:var q8q="s";q8q+="e";q8q+="e";q8q+="k";var B8q="pts";B8q+="ch";B8q+="ang";B8q+="ed";return (this.qb.emit(B8q,r),this.qb.emit(q8q),this.qW(n),l=w && this.qb.Pb.DA()?100:0,this.qb.Z7(1,l),this.qb.$k(),r);break;case 39:this.qb.Oma();u=this.qb.$a.qd.o9(l).yR;t.Hxa();x=this.qb.$a.qd;B80=54;break;case 52:var h8q="s";h8q+="e";h8q+="ekDe";h8q+="la";h8q+="yed";(this.hE={bc:n,il:l},this.qb.emit(h8q));B80=50;break;case 41:var K8q="se";K8q+="ek";K8q+="Failed";var t8q="after see";t8q+="kin";t8q+="g, playerState no longer ";t8q+="STARTING";t8q+=": ";this.J.warn(t8q + this.qb.U.getState());this.qb.emit(K8q);B80=50;break;case 33:return;break;case 12:B80=n != w.R.bc?11:26;break;case 43:B80=this.qb.U.L6a()?42:41;break;case 27:return;break;case 7:B80=(t=this.qb.bi(n))?6:51;break;case 22:B80=t.R.Pf.jf?21:32;break;case 24:w=this.qb.yt?this.qb.no?Math.min(w[0].da,w[1].da):w[0].da:w[1].da;B80=23;break;case 21:B80=!this.qb.k8(t.R.bc + 1)?35:31;break;case 54:g.fg.forEach(function(y){var E80,z;E80=2;for(;E80 !== 5;){switch(E80){case 2:z=x.pe(y);p.Fc(y) && p.wvb(z,u[y]);E80=5;break;}}});B80=53;break;}}};m.prototype.seek=function(l,n){var F80,p;F80=2;for(;F80 !== 9;){switch(F80){case 2:p=l;F80=1;break;case 1:c.ta(n) && (n=this.qb.ff.R.bc);this.qb.$a.qdb();this.qb.bi(n).R.Pf.O_ || this.qb.TN || (p=this.qb.Kv(n,l));return this.uu(p,n);break;}}};m.prototype.Ct=function(l,n,p){var G80,r,t;G80=2;for(;G80 !== 9;){switch(G80){case 5:return t;break;case 2:t=this.qb.$a.Ct(l,n);G80=1;break;case 14:return t;break;G80=4;break;case 1:G80=n?5:4;break;case 6:G80=n?6:5;break;G80=n?5:4;break;case 4:var p8q="s";p8q+="e";p8q+="e";p8q+="k";var d8q="pts";d8q+="cha";d8q+="nged";t?(this.qb.U.re(k.Da.Tj),(l=this.qb.$a.Qi.children[l]) && this.qb.emit(d8q,null !== (r=l.Rd) && void 0 !== r?r:l.Rua),this.qb.U.re(k.Da.Sh),this.qb.emit(p8q),l && this.qW(l.R.bc),this.qb.Z7(1),this.qb.$k(),this.qb.Pb.DA()):p || (r=this.qb.$a.YNb(l),this.uu(r));G80=3;break;case 3:return t;break;}}};m.prototype.xtb=function(l){var H80;H80=2;for(;H80 !== 1;){switch(H80){case 2:return ! !this.qb.bi(l).BW;break;}}};z80=3;break;case 14:return m;break;case 3:m.prototype.qW=function(l){var I80,n;I80=2;for(;I80 !== 4;){switch(I80){case 2:n=this;l=this.qb.bi(l);l.BW || (l.BW=!0,g.fg.forEach(function(p){var J80;J80=2;for(;J80 !== 1;){switch(J80){case 2:n.qb.xh[p].resume();J80=1;break;}}}),this.qb.ZV());I80=4;break;}}};m.prototype.wvb=function(l,n){var K80,p,r,t;K80=2;for(;K80 !== 8;){switch(K80){case 2:(p=this,t=l.mediaType);l.JL(n);l.b2b();K80=4;break;case 3:(this.qb.ti.Qm.forEach(function(w){var L80;L80=2;for(;L80 !== 1;){switch(L80){case 2:p.qb.bJ(w,!1);L80=1;break;}}}),this.qb.ti=void 0);K80=9;break;case 4:K80=(null === (r=this.qb.ti) || void 0 === r?0:r.EF())?3:9;break;case 9:this.qb.lY.fUa(t,l.Ab.R);K80=8;break;}}};z80=8;break;case 8:m.prototype.Kla=function(){var M80,l,n;M80=2;for(;M80 !== 4;){switch(M80){case 2:M80=this.hE?1:4;break;case 1:(l=this.hE.il,n=this.hE.bc);M80=5;break;case 5:this.qb.bi(n) && (this.hE=void 0,this.uu(l,n));M80=4;break;}}};m.prototype.xp=function(l){var N80,p,r;N80=2;function n(t,w){var O80;O80=2;for(;O80 !== 5;){switch(O80){case 2:var Q8q="skip: unexpected behavio";Q8q+="ur - a non-prese";Q8q+="nting branch doesn't have a previous branch";t !== p.qb.$a.Qi && (t.Rg?n(t.Rg,w):p.J.error(Q8q));(t=t.pe(w)) && t.xp();O80=5;break;}}}for(;N80 !== 7;){switch(N80){case 2:p=this;null === (r=this.kTa) || void 0 === r?void 0:r.cancel();this.qb.NBa();this.qb.$a.Qi.xp(l);N80=3;break;case 3:g.fg.forEach(function(t){var P80,w;P80=2;for(;P80 !== 9;){switch(P80){case 1:var y8q="skip: not ";y8q+="re";y8q+="suming bufferManager";y8q+=", audio track swit";y8q+="ch in progress";w=p.qb.Pb.qg[t];p.qb.Jt && (w.zBa=f.default.time.ma());w.RS?w.cc(y8q):p.qb.xh[t].resume();n(p.qb.$a.qd,t);P80=9;break;case 2:P80=p.Fc(t)?1:9;break;case 7:P80=p.Fc(t)?5:2;break;P80=p.Fc(t)?1:9;break;}}});this.kTa=l=new d.lI(this.qb.PL());return l.Wxa(function(){var Q80;Q80=2;for(;Q80 !== 5;){switch(Q80){case 2:p.qb.U.re(k.Da.$c);p.qb.kW();Q80=5;break;}}}).nAa;break;}}};m.prototype.Aj=function(l){var R80,n,p,r;R80=2;for(;R80 !== 8;){switch(R80){case 5:return !1;break;case 2:(p=this.qb.$a.Qi,r=0 < Object.keys(p.G && p.G.Am || ({})).length && !p.Tl?p.lf - this.qb.K.cG:p.lf);R80=1;break;case 4:n=this.qb.$v(l,0,!0);l=this.qb.$v(l,1,!0);return void 0 !== n && void 0 !== l && n.complete && l.complete;break;case 1:R80=l < (null !== (n=p.Rd) && void 0 !== n?n:p.Rua) || l >= r?5:4;break;}}};z80=14;break;}}})();b.EPa=a;},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.BGa=void 0;q=a(1);c=q.__importStar(a(10));k=a(17);g=q.__importDefault(a(5));a=(function(){var S80;S80=2;function f(d,h,m){var T80;T80=2;for(;T80 !== 9;){switch(T80){case 4:var L8q="1SIYbZr";L8q+="NJ";L8q+="C";L8q+="p9";L8q;this.ZRa=this.rI=void 0;T80=9;break;case 2:this.jb=d;this.J=h;this.Fc=m;T80=4;break;}}}for(;S80 !== 18;){switch(S80){case 14:f.prototype.i8b=function(d,h,m){var l90;l90=2;for(;l90 !== 4;){switch(l90){case 2:h.Sva=d.Xc;c.Oa(m.Jy) || (m.f8b(d.wu,d.YB || -1,d.bitrate),c.ta(d.GAa) || this.jb.wh.veb(d.GAa,d.Dq,d.Eq));d.url && (h.Zva=d.url);l90=4;break;}}};f.prototype.Vrb=function(d,h){var m90,m;m90=2;for(;m90 !== 5;){switch(m90){case 2:m=this.jb.Pb.hz[d.mediaType];return this.jb.TTa && h.Xc && m.Sva && h.Xc !== m.Sva && (0 < d.eb.qG || 0 < d.eb.Gu)?!0:!1;break;}}};f.prototype.Wrb=function(d,h){var n90,x,m,l,n,p,r,t,w,v,u;n90=2;for(;n90 !== 32;){switch(n90){case 17:v=void 0;h && (v=h.mediaType,u=g.default.yq()[v],v=l.y8b?this.jb.$a.s8a(p,v).rf / u:x / u);n90=15;break;case 20:n90=h && (x=this.jb.$a.qJ(p,h.mediaType),u=d.yc - u,this.Fc(h.mediaType) && !h.Yi && u >= l.Wwa && v > l.Hj)?19:26;break;case 6:m=this.jb.ff.R;x=this.jb.U.ap(m);n90=13;break;case 18:return !1;break;case 23:n90=!c.ta(l.dz) && v >= l.dz || d.UO + r >= Math.max(l.eu,this.jb.Gc.VC + l.Pxa * p.R.IUb[n])?22:21;break;case 12:return !1;break;case 35:n90=(r=1,d.Hoa < l.pC && (r=l.pC),d.eb.qG >= r)?34:33;break;case 7:return !1;break;case 25:return !1;break;case 24:v=this.jb.$a.Z6b();n90=23;break;case 9:r=d.eb.rya;n90=8;break;case 26:n90=this.atb(n) >= l.b9a?25:24;break;case 27:return !1;break;case 15:n90=void 0 === v || v < l.EUb?27:26;break;case 33:return 0 < l.Fw && !p && t + (h?x:0) > l.Fw || void 0 !== this.ZRa && w > this.ZRa || 1 === n && m.Pf.jf && w > l.Bca && (h=this.jb.Gc.jc.get(),h.confidence && h.fb && h.fb.Ca * d.UO > l.Qwa)?!1:!0;break;case 11:t=this.jb.$a.qJ(p,n);x=0;n90=20;break;case 19:n90=this.jb.Gc.zva?18:17;break;case 13:n90=t === k.Da.$c && w > l.Owa && !m.Pf.jf && !x && !m.N_ || w && r > Math.max(w * l.Swa / 100,l.KVb)?12:11;break;case 4:n90=(null === (m=d.Oh) || void 0 === m?0:m.pPb())?3:9;break;case 34:return !1;break;case 22:return !1;break;case 2:var E8q="fl";E8q+="oored ";E8q+="to";E8q+=" 0";var D8q="n";D8q+="egat";D8q+="iv";D8q+="e schedule";D8q+="dBufferLevel:";(l=this.jb.K,n=d.mediaType,p=d.lca,r=this.jb.U.Ue(),t=this.jb.U.getState(),w=this.jb.$a.yy(p,n),v=d.yc + p.df - r);0 > v && (d.cc(D8q,v,E8q),v=0);u=h?h.yc:0;n90=4;break;case 21:n90=(p=this.jb.U.Og())?35:33;break;case 8:n90=r >= l.Eca?7:6;break;case 3:return !1;break;}}};f.prototype.atb=function(d){var o90;o90=2;for(;o90 !== 1;){switch(o90){case 2:return this.jb.$a.Cb.reduce(function(h,m){var q90;q90=2;for(;q90 !== 1;){switch(q90){case 2:return h + m.RNb(d);break;}}},0);break;}}};f.prototype.kBb=function(d){var r90,h,m,l;r90=2;for(;r90 !== 4;){switch(r90){case 2:(h=this,m=this.jb.$a,l=!0);c.Wf(d.G.Am,function(n,p){var s90,r;s90=2;for(;s90 !== 7;){switch(s90){case 9:h.jb.U.ap(p) || (l=!1);s90=7;break;case 2:s90=(n=m.kf(p))?1:8;break;case 1:p=n.R;n=p.di[0];r=p.di[1];n && r && n.stream.Ie && r.stream.Ie || (l=!1);s90=9;break;case 8:var w8q="in";w8q+=" des";w8q+="t";w8q+="s:";var J8q="in";J8q+="v";J8q+="alid seg";J8q+="men";J8q+="t:";d.cc(J8q,p,w8q,d.G.Am);s90=7;break;}}});return l;break;}}};f.prototype.Fwb=function(){var t90,d,h,m;t90=2;for(;t90 !== 5;){switch(t90){case 2:(d=this.jb.K,h=this.jb.$a,m=h.qd);this.jb.U.Og() || h.yy(m,1) < d.X_ || m.R.zCa();t90=5;break;}}};return f;break;case 2:f.prototype.T6=function(){var U80;U80=2;for(;U80 !== 1;){switch(U80){case 2:this.rI && (clearTimeout(this.rI),this.rI=void 0);U80=1;break;}}};f.prototype.sSa=function(){var V80,d,h,m,l;V80=2;for(;V80 !== 6;){switch(V80){case 1:var r8q="f";r8q+="ir";r8q+="stDriv";r8q+="eStrea";r8q+="ming";void 0 === this.jb.tsb && (this.jb.tsb=!0,this.jb.Ub.vn(r8q));(d=this.jb.$a,h=d.qd.pe(0),m=d.qd.pe(1),l=!m || m.Yi);V80=4;break;case 2:V80=!this.jb.kj.$ma && !this.jb.Bo()?1:6;break;case 4:(!h || h.Yi) && l && this.jb.TN && d.cCb(m?m.Uc:h.Uc);m=!m || m.Ws;h && !h.Ws || !m || this.jb.TN || (this.jb.Gc.kg && this.jb.Gc.kg.Rr(!0,this.jb.sn.sessionId),this.jb.Ub.E$a());this.pSa(d.qd);this.Fwb();V80=6;break;}}};f.prototype.BUa=function(){var W80;W80=2;for(;W80 !== 1;){switch(W80){case 2:return this.jb.Bo() || this.jb.U.N6a() || this.jb.U.M6a()?!0:!1;break;}}};f.prototype.X6=function(d){var X80;X80=2;for(;X80 !== 1;){switch(X80){case 2:return this.BUa() || this.jb.Pb.qg[d.mediaType].RS || this.jb.zA.ty?!1:!0;break;}}};f.prototype.$k=function(){var Y80,d,h;Y80=2;for(;Y80 !== 5;){switch(Y80){case 2:(d=this,h=this.jb.K);Y80=1;break;case 1:!this.jb.TTa || this.jb.R7 || this.jb.e8 || (this.jb.R7=setTimeout(function(){var Z80;Z80=2;for(;Z80 !== 4;){switch(Z80){case 2:clearTimeout(d.jb.R7);d.jb.R7=void 0;d.sSa();Z80=4;break;}}},h.Fya),h.sP && this.jb.no && (this.rI || (this.rI=setTimeout(function(){var a90,m;a90=2;for(;a90 !== 3;){switch(a90){case 2:clearTimeout(d.rI);d.rI=void 0;m=d.jb.$a.qd.pe(1);a90=4;break;case 4:m && d.MRa(m);a90=3;break;}}},h.lxb))));Y80=5;break;}}};f.prototype.MRa=function(d,h){var b90,p,m,l,n;b90=2;for(;b90 !== 3;){switch(b90){case 5:p=this.jb.Pb.qg[m].og;b90=4;break;case 4:p && (this.jb.U.Og() || this.jb.wh.kxb(m,p,l.bitrate,n.bitrate,d.IPb.bitrate,h));b90=3;break;case 1:b90=l && n?5:3;break;case 2:(m=d.mediaType,l=this.jb.Pb.hz[m].CK,n=d.Sf.p_);b90=1;break;}}};f.prototype.pSa=function(d,h){var c90,m,l,n,p,r;c90=2;for(;c90 !== 7;){switch(c90){case 3:return;break;case 5:c90=!r || !p?4:9;break;case 9:var i8q="Sti";i8q+="ll";i8q+=" in buffering state while p";i8q+="ipeline's are done";this.jb.U.Og() && (this.J.warn(i8q),this.jb.Pb.DA());h || m.px || d.R.Pf.jf || !this.kBb(d) || ((h=this.jb.U.Og()) && this.jb.K.qqa && (this.jb.Vma(),h=!1),d.U$ || this.jb.$a.MPb(d,h),d.BO(),d.lBb() && (h=Object.keys(d.children),this.jb.K.l$ && 1 === h.length && !d.children[h[0]].active && this.jb.$a.r8a(d,h[0]),this.ysb(d,m)));c90=7;break;case 4:c90=(this.jb.no && this.qSa(d,l,n),this.jb.yt && this.qSa(d,n,l),p=!n || n.Yi,r=!l || l.Yi,!r || !p)?3:9;break;case 2:(m=d.G,l=d.pe(1),n=d.pe(0),p=!n || n.Yi,r=!l || l.Yi);m.Mm || this.jb.$a.vda(d,m,d.R.Pf.jf && 0 === d.R.bc);c90=5;break;}}};S80=7;break;case 7:f.prototype.ysb=function(d,h){var d90,w,v,n,p,l,r,t,m;d90=2;for(;d90 !== 23;){switch(d90){case 10:0 !== w && 0 !== v?(c.Wf(t,function(u){var h90;h90=2;for(;h90 !== 4;){switch(h90){case 2:u.A9b=u.weight / w;h90=1;break;case 9:u.A9b=u.weight - w;h90=2;break;h90=1;break;case 1:u.Xzb=u.Wca / v;u.usage=u.Xzb - u.A9b;h90=4;break;}}}),t.sort(function(u,x){var i90;i90=2;for(;i90 !== 1;){switch(i90){case 4:return u.usage + x.usage;break;i90=1;break;case 2:return u.usage - x.usage;break;}}})):t.sort(function(u,x){var j90;j90=2;for(;j90 !== 4;){switch(j90){case 2:u=Math.min.apply(null,u.Ab.co);x=Math.min.apply(null,x.Ab.co);a000.V59(2);return a000.Y59(u,x);break;}}});d90=20;break;case 8:d90=!n?7:26;break;case 12:n=t.reduce(function(u,x){var g90;g90=2;for(;g90 !== 4;){switch(g90){case 2:x.co=x.Ab.co;x.Wca=Math.min(x.co[0],x.co[1]);a000.s59(2);var Y31=a000.z59(15,14);return [u[0] + x.weight,u[Y31] + x.Wca];break;}}},[0,0]);(w=n[0],v=n[1]);d90=10;break;case 9:(n=d.yN,p=h.Am[n.G.id].weight);d90=8;break;case 5:l=d.yN.co;d90=4;break;case 17:n=t[0].Ab;p=t[0].weight;d.yN=n;d90=27;break;case 13:d90=1 < t.length?12:20;break;case 19:var u8q="No subbranc";u8q+="h cand";u8q+="idates t";u8q+="o ";u8q+="drive";this.J.warn(u8q);d90=18;break;case 7:(r=[],t=[]);c.Wf(d.children,function(u,x){var e90;e90=2;for(;e90 !== 5;){switch(e90){case 2:x=h.Am[x].weight;0 !== x && (x={weight:x,Ab:u},u.jpa(!0,!0) || t.push(x),r.push(x));e90=5;break;}}});0 === t.length?t=r:2 < t.length && (t.sort(function(u,x){var f90;f90=2;for(;f90 !== 1;){switch(f90){case 2:return x.weight - u.weight;break;case 4:return x.weight * u.weight;break;f90=1;break;}}}),t.length=2);d90=13;break;case 4:d90=Math.min(l[0] - d.lla[0],l[1] - d.lla[1]) >= m.CBb?3:9;break;case 20:d90=0 === t.length?19:17;break;case 2:m=this.jb.K;d90=1;break;case 26:n.Je || (n.Je={vba:g.default.time.ma(),PC:0});n.Je.weight=p;this.pSa(n,!0);d90=23;break;case 27:d.lla=n.co;d90=26;break;case 1:d90=this.jb.Gc.xua && d.yN && d.lla?5:8;break;case 18:return;break;case 3:d.yN=void 0;d90=8;break;}}};f.prototype.qSa=function(d,h,m){var k90,l,n,w,p,r,t;k90=2;for(;k90 !== 8;){switch(k90){case 2:(l=this.jb.K,n=h.mediaType);k90=1;break;case 1:k90=!h.Yi?5:8;break;case 4:k90=p.og && (void 0 === h.eL || (h.JL(h.eL,h.$Yb),void 0 === h.eL))?3:8;break;case 3:var X8q="Still in buffering sta";X8q+="te while pipeline doe";X8q+="s not have vacancy";var A8q="drivePipeline, delaying audio";A8q+=" un";A8q+="til video";A8q+=" actualStartPts determined";w=this.jb.ff;c.ta(w.XK) || (l.vL && 0 === n && c.ta(this.jb.Pb.qg[1].aq)?h.cc(A8q):(c.ta(h.gp) && (h.gp=h.Fe?h.Fe.index:h.Jra(h.yc)),h.ag && h.gp > h.ag.index?d.R.Pf.jf && c.ta(w.Ta) && c.ta(d.Uc) || (h.Yi || this.jb.sUa(h),d=this.jb.ff.R.bc,d < this.jb.VP() - 1 && this.jb.k8(d + 1)):this.X6(h) && (l.uIb && !this.jb.U.Og() && 0 >= h.LK?h.Y7b(l.jVb):this.Wrb(h,m)?(h.QSb=g.default.time.ma(),m=this.jb.Pb.Jta(h),l=m.dg,c.ta(l) || (l=h.track.zd[l],this.Vrb(h,l) || ((n=l.vaa())?(h.HSb=l.bitrate,h.iUb(l,n,this.jb.U.Og(),p.og,m.mz),this.i8b(l,t,r),d.Je && ++d.Je.PC):l.lH()))):this.jb.U.Og() && (h.Eo(X8q),this.jb.Pb.DA()))));k90=8;break;case 5:(p=this.jb.Pb.qg[n],r=this.jb.Pb.ZC[n],t=this.jb.Pb.hz[n]);k90=4;break;}}};S80=14;break;}}})();b.BGa=a;},function(q,b,a){var c,k,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.RJa=void 0;c=a(185);k=a(17);g=a(17);f=a(8);q=(function(){var u90;u90=2;function d(h,m,l,n){var v90;v90=2;for(;v90 !== 8;){switch(v90){case 2:this.tc=h;this.J=m;this.Fc=l;this.NI=n;this.QTa=this.$ma=!1;v90=9;break;case 9:var W8q="1SI";W8q+="YbZrN";W8q+="JCp";W8q+="9";W8q;v90=8;break;}}}for(;u90 !== 6;){switch(u90){case 2:d.prototype.play=function(){var w90,h;w90=2;for(;w90 !== 5;){switch(w90){case 1:var m3q="p";m3q+="l";m3q+="a";m3q+="y";var v8q="play ";v8q+="called";v8q+=" a";v8q+="fter pip";v8q+="elines already shutdown";this.Bo()?this.J.warn(v8q):(this.tc.U.re(k.Da.$c),this.tc.lwb(),this.tc.Pb.qg.forEach(function(m){var x90;x90=2;for(;x90 !== 1;){switch(x90){case 2:var P8q="play: not resuming buf";P8q+="f";P8q+="erManager, audio track switch in progress";h.Fc(m.mediaType) && (m.RS?m.cc(P8q):(h.tc.xh[m.mediaType].resume(),h.tc.my[m.mediaType].resume()));x90=1;break;}}}),this.tc.kW(),this.tc.emit(m3q));w90=5;break;case 2:h=this;w90=1;break;}}};d.prototype.stop=function(){var y90,h,m,l,n;y90=2;for(;y90 !== 6;){switch(y90){case 2:(h=this,m=this.tc.U.N6a(),l=this.tc.U.M6a());this.tc.U.re(k.Da.et);this.tc.T6();m || l || this.tc.$a.Qi.WG(!1,this.tc.U);n=this.tc.$a.qd;y90=9;break;case 9:var o3q="s";o3q+="t";o3q+="o";o3q+="p";g.fg.forEach(function(p){var z90;z90=2;for(;z90 !== 5;){switch(z90){case 1:p.Yi=!1;z90=5;break;case 9:p.Yi=~2;z90=2;break;z90=5;break;case 2:z90=(p=n.pe(p))?1:5;break;case 3:z90=(p=n.pe(p))?2:4;break;z90=(p=n.pe(p))?1:5;break;}}});g.fg.forEach(function(p){var A90;A90=2;for(;A90 !== 1;){switch(A90){case 2:(p=h.tc.xh[p]) && p.pause();A90=1;break;}}});this.tc.emit(o3q);y90=6;break;}}};u90=5;break;case 5:d.prototype.suspend=function(){var B90;B90=2;for(;B90 !== 1;){switch(B90){case 2:this.$ma=!0;B90=1;break;}}};d.prototype.resume=function(){var C90;C90=2;for(;C90 !== 5;){switch(C90){case 2:this.$ma=!1;this.tc.Mg.$k();C90=5;break;}}};d.prototype.close=function(){var D90,h;D90=2;for(;D90 !== 6;){switch(D90){case 9:this.tc.Gc.kg && this.tc.Gc.kg.Rr(!0,this.tc.sn.sessionId,!0);this.tc.Ub.E$a();this.tc.Rcb();D90=6;break;case 2:var U3q="en";U3q+="dp";U3q+="la";U3q+="y";var I3q="logd";I3q+="a";I3q+="ta";var k3q="c";k3q+="l";k3q+="o";k3q+="s";k3q+="e";h=this.tc.K;this.QTa=!0;this.stop();this.tc.emit(k3q);h.u0a && (h=c.$z.instance().Jb()) && (h={type:I3q,target:U3q,fields:{bridgestat:h}},f.mb(this.tc,h.type,h));D90=9;break;}}};u90=9;break;case 9:d.prototype.flush=function(){var E90,h,m,l,F90,n,p,r,t,w;E90=2;for(;E90 !== 16;){switch(E90){case 18:E90=this.NI.Jt?17:16;break;case 19:this.tc.Ub.GTa();E90=18;break;case 2:(m=this.tc.K,l=this.tc.Gc.jc);E90=1;break;case 10:var Y3q="e";Y3q+="ndpl";Y3q+="a";Y3q+="y";var e3q="lo";e3q+="gd";e3q+="at";e3q+="a";Object.keys(n).length && (n={type:e3q,target:Y3q,fields:n},f.mb(this.tc,n.type,n));E90=20;break;case 1:E90=l?5:19;break;case 17:try{F90=2;for(;F90 !== 1;){switch(F90){case 2:this.tc.z$(k.Da.et);F90=1;break;}}}catch(u){var z3q="Hindsight: E";z3q+="rror ev";z3q+="aluating QoE at stopping";z3q+=": ";a000.s59(4);this.tc.Ub.hp(a000.Y59(z3q,u));}E90=16;break;case 20:var n3q="endp";n3q+="l";n3q+="ay";var F3q="l";F3q+="ogd";F3q+="at";F3q+="a";var f3q="t";f3q+="hrough";f3q+="put-sw";var b3q="th";b3q+="rou";b3q+="ghput-";b3q+="sw";var V3q="throu";V3q+="gh";V3q+="p";V3q+="u";V3q+="t-sw";var s3q="t";s3q+="hro";s3q+="ughput-s";s3q+="w";m.vY && (p && p[s3q] && p[V3q].Ca && this.tc.kx.Axb({avtp:p[b3q].Ca,variance:p[f3q].Ye}),this.tc.kx.uxb(r,null === (h=p.avtp) || void 0 === h?void 0:h.g$),h=this.tc.kx.SLb(),m=this.tc.kx.aOb(),h && (h.n=m,h={type:F3q,target:n3q,fields:{ibef:h}},f.mb(this.tc,h.type,h),this.tc.kx.save()));E90=19;break;case 6:E90=t?14:13;break;case 14:for(var v in t){var G3q="n";G3q+="e";var a3q="n";a3q+="e";var c3q="n";c3q+="e";t.hasOwnProperty(v) && (n[c3q + v]=Number(t[v]).toFixed(6),r[a3q + v]=1 * n[G3q + v]);}E90=13;break;case 5:(n={},p=l.get(),r={});p && p.avtp && p.avtp.Ca && (n.avtp=p.avtp.Ca,n.dltm=p.avtp.g$,r.avtp=n.avtp);p && p.initialThroughput && p.initialThroughput.Ca && (n.initial_avtp=p.initialThroughput.Ca);p && p.cdnavtp && (n.cdnavtp=p.cdnavtp,n.activecdnavtp=p.activecdnavtp);l.flush();(t=l.O2a(),w=l.XUa);E90=6;break;case 13:w && w.length && (n.activeRequests=JSON.stringify(w));n.aseApiVersion=this.tc.gJ;m.s0a && (l=l.Eaa()) && (l.bytesRequestedPacingVideo && (n.bytesRequestedPacingVideo=l.bytesRequestedPacingVideo,n.estimatedBytesPacedVideo=l.estimatedBytesPacedVideo,n.bytestotalVideo=l.bytestotalVideo,n.pacedAvtpVideo=l.pacedAvtpVideo),l.bytesRequestedPacingAudio && (n.bytesRequestedPacingAudio=l.bytesRequestedPacingAudio,n.estimatedBytesPacedAudio=l.estimatedBytesPacedAudio,n.bytestotalAudio=l.bytestotalAudio,n.pacedAvtpAudio=l.pacedAvtpAudio),l.pacedAvtp && (n.pacedAvtp=l.pacedAvtp));E90=10;break;}}};d.prototype.Bo=function(){var G90;G90=2;for(;G90 !== 1;){switch(G90){case 4:return this.QTa && this.tc.$a.pl;break;G90=1;break;case 2:return this.QTa || this.tc.$a.pl;break;}}};return d;break;}}})();b.RJa=q;},function(q,b,a){var c,k,g,f,d,h;Object.defineProperties(b,{__esModule:{value:!0}});b.SLa=void 0;q=a(1);c=q.__importStar(a(10));k=a(151);g=q.__importDefault(a(32)).default.kb;f=q.__importDefault(a(5));d=a(8);h=a(4);a=(function(){function m(l,n){var I90;I90=2;for(;I90 !== 4;){switch(I90){case 2:var C3q="1S";C3q+="IYb";C3q+="ZrN";C3q+="J";C3q+="Cp9";this.xb=l;this.J=n;C3q;I90=4;break;}}}var H90;H90=2;for(;H90 !== 38;){switch(H90){case 32:m.prototype.Nub=function(){var p01,l;p01=2;for(;p01 !== 3;){switch(p01){case 2:var l3q="s";l3q+="trea";l3q+="mi";l3q+="ngs";l3q+="tat";this.xb.K.MTb && f.default.memory.yMb(this.Jtb.bind(this));l={type:l3q,time:f.default.time.ma(),playbackTime:this.xb.U.Ue()};p01=5;break;case 5:this.xb.wh.GJb(l);d.mb(this.xb,l.type,l);p01=3;break;}}};H90=31;break;case 14:m.prototype.btb=function(l,n){var S90,p,r;S90=2;for(;S90 !== 12;){switch(S90){case 2:(p={segment:l,srcsegment:n.yfa,srcoffset:n.iS,seamlessRequested:n.Oe,atRequest:{},discard:{}},r=n.Je[l]);r?p.atRequest={weight:r.weight,abuflmsec:r.Bt.ut,vbuflmsec:r.Bt.Ap,abuflbytes:r.Bt.yE,vbuflbytes:r.Bt.Ku}:(r=this.xb.$a.d4a(n.yfa,l),void 0 !== r && (p.atRequest.weight=r));c.Wf(n.Je,function(t,w){var T90;T90=2;for(;T90 !== 1;){switch(T90){case 2:w != l && (p.discard[w]={weight:t.weight,abuflmsec:t.Bt.ut,vbuflmsec:t.Bt.Ap,abuflbytes:t.Bt.yE,vbuflbytes:t.Bt.Ku});T90=1;break;}}});S90=4;break;case 4:var M3q="s";M3q+="ea";M3q+="mles";M3q+="s";var S3q="r";S3q+="es";S3q+="et";var x3q="s";x3q+="k";x3q+="i";x3q+="p";var R3q="l";R3q+="o";R3q+="n";R3q+="g";var j3q="lo";j3q+="n";j3q+="g";var H3q="s";H3q+="e";H3q+="am";H3q+="le";H3q+="ss";r=n.Oe?n.IZ?H3q:j3q:n.d$a?R3q:n.xp?x3q:S3q;p.transitionType=r;n.yqa || (p.delayToTransition=n.X9);r=M3q === r?0:f.default.time.ma() - n.startTime;S90=7;break;case 13:return p;break;case 7:p.durationOfTransition=r;p.atTransition=n.jhb;p.srcsegmentduration=this.xb.$a.XNb(n.yfa);S90=13;break;}}};m.prototype.Iub=function(l,n,p){var U90;U90=2;for(;U90 !== 4;){switch(U90){case 2:var Z3q="segmentPr";Z3q+="esen";Z3q+="ti";Z3q+="ng";p=p?this.btb(l.id,p):void 0;l={type:Z3q,segmentId:l.id,contentOffset:n,metrics:p,playlistSegment:l.vG,manifestIndex:l.R.bc};d.mb(this.xb,l.type,l);U90=4;break;}}};m.prototype.Gub=function(l,n){var V90;V90=2;for(;V90 !== 5;){switch(V90){case 2:var g3q="se";g3q+="gmentAp";g3q+="p";g3q+="e";g3q+="nded";n={type:g3q,segmentId:l.id,metrics:n};l.vG || d.mb(this.xb,n.type,n);V90=5;break;}}};m.prototype.Hub=function(l,n,p){var W90;W90=2;for(;W90 !== 5;){switch(W90){case 2:var O3q="s";O3q+="egmentCo";O3q+="mp";O3q+="lete";l={type:O3q,mediaType:l,manifestIndex:n,segmentId:p.id};d.mb(this.xb,l.type,l);W90=5;break;}}};m.prototype.vma=function(l,n){var X90;X90=2;for(;X90 !== 5;){switch(X90){case 2:var N3q="l";N3q+="ast";N3q+="Segm";N3q+="en";N3q+="tPts";n={type:N3q,segmentId:l.id,pts:Math.floor(n)};l.vG || d.mb(this.xb,n.type,n);X90=5;break;}}};m.prototype.Aub=function(l,n,p,r,t){var Y90;Y90=2;for(;Y90 !== 5;){switch(Y90){case 2:var T3q="m";T3q+="anifestRang";T3q+="e";l={type:T3q,index:l,manifestOffset:n,startPts:Math.floor(p),endPts:Math.floor(r),maxPts:Math.floor(t)};d.mb(this.xb,l.type,l);Y90=5;break;}}};m.prototype.JTa=function(l){var Z90;Z90=2;for(;Z90 !== 5;){switch(Z90){case 2:var B3q="m";B3q+="axBi";B3q+="trat";B3q+="es";l={type:B3q,audio:l[0],video:l[1]};d.mb(this.xb,l.type,l);Z90=5;break;}}};H90=18;break;case 2:m.prototype.vn=function(l){var J90;J90=2;for(;J90 !== 5;){switch(J90){case 2:var q3q="st";q3q+="a";q3q+="rt";q3q+="Even";q3q+="t";l={type:q3q,event:l,time:f.default.time.ma()};d.mb(this.xb,l.type,l);J90=5;break;}}};m.prototype.Eub=function(){var K90,l;K90=2;for(;K90 !== 5;){switch(K90){case 2:var h3q="o";h3q+="pe";h3q+="nComp";h3q+="lete";l={type:h3q};d.mb(this.xb,l.type,l);K90=5;break;}}};m.prototype.Fub=function(l,n,p,r,t){var L90;L90=2;for(;L90 !== 1;){switch(L90){case 2:var t3q="p";t3q+="tsSt";t3q+="art";t3q+="s";this.xb.K.ZGb || (l={type:t3q,manifestIndex:l,mediaType:n,movieId:r,streamId:p,ptsStarts:t.Afb()},d.mb(this.xb,l.type,l));L90=1;break;}}};m.prototype.vub=function(l,n){var M90;M90=2;for(;M90 !== 5;){switch(M90){case 2:var K3q="h";K3q+="ea";K3q+="derCache";K3q+="Hit";l={type:K3q,movieId:l,streamId:n};d.mb(this.xb,l.type,l);M90=5;break;}}};m.prototype.uub=function(l,n,p,r,t){var N90,w;N90=2;for(;N90 !== 3;){switch(N90){case 2:var d3q="h";d3q+="eaderCac";d3q+="heD";d3q+="ataHit";w=this.xb.VSa;this.xb.VSa=void 0;l={type:d3q,movieId:l,audio:n,audioFromMediaCache:r,video:p,videoFromMediaCache:t,actualStartPts:w && w.aq,headerCount:w && w.iQ,stats:w && w.kc};d.mb(this.xb,l.type,l);N90=3;break;}}};m.prototype.Cub=function(l,n,p,r){var O90;O90=2;for(;O90 !== 5;){switch(O90){case 2:var p3q="m";p3q+="ax";p3q+="Position";l={type:p3q,index:l,endPts:n,maxPts:p,maxSeekPts:r};d.mb(this.xb,l.type,l);O90=5;break;}}};H90=8;break;case 28:m.prototype.rub=function(l){var t01;t01=2;for(;t01 !== 5;){switch(t01){case 2:var Q3q="endOfSt";Q3q+="re";Q3q+="am";l={type:Q3q,mediaType:l};d.mb(this.xb,l.type,l);t01=5;break;}}};m.prototype.hp=function(l){var u01;u01=2;for(;u01 !== 1;){switch(u01){case 2:var L3q="ase";L3q+="excep";L3q+="tion";var y3q="ase";y3q+="exce";y3q+="pti";y3q+="o";y3q+="n";this.xb.emit(y3q,{type:L3q,msg:l});u01=1;break;}}};m.prototype.IWb=function(l,n,p,r){var v01;v01=2;for(;v01 !== 5;){switch(v01){case 2:var E3q="maxvideo";E3q+="bitratecha";E3q+="nged";var D3q="m";D3q+="axvid";D3q+="eob";D3q+="it";D3q+="ratechanged";l={type:D3q,time:f.default.time.ma(),spts:r,maxvb_old:l,maxvb:n,reason:p};this.xb.emit(E3q,l);v01=5;break;}}};m.prototype.E$a=function(){var w01,l;w01=2;for(;w01 !== 3;){switch(w01){case 2:w01=!this.wwb && this.xb.K.B$a?1:3;break;case 1:this.wwb=!0;w01=5;break;case 5:var J3q="streamer";J3q+="e";J3q+="nd";l={type:J3q,time:f.default.time.ma()};d.mb(this.xb,l.type,l);w01=3;break;}}};m.prototype.PWb=function(l){var x01;x01=2;for(;x01 !== 5;){switch(x01){case 2:var w3q="st";w3q+="reamSele";w3q+="ctionAugmentDa";w3q+="t";w3q+="a";l={type:w3q,augmentData:l,fragmentIndex:l[0].Dd};d.mb(this.xb,l.type,l);x01=5;break;}}};m.prototype.Vn=function(l){var y01;y01=2;for(;y01 !== 5;){switch(y01){case 2:var i3q=",";i3q+=" ";var r3q="m";r3q+="an";r3q+="agerdeb";r3q+="uge";r3q+="vent";l={type:r3q,message:"@" + f.default.time.ma() + i3q + l};d.mb(this.xb,l.type,l);y01=5;break;}}};H90=39;break;case 31:m.prototype.GTa=function(){var q01,l;q01=2;for(;q01 !== 4;){switch(q01){case 1:var u3q="aser";u3q+="epo";u3q+="r";u3q+="t";l={type:u3q};this.xb.qu.EJb(l) && d.mb(this.xb,l.type,l);q01=4;break;case 2:q01=this.xb.qu?1:4;break;}}};m.prototype.lub=function(){var r01,l;r01=2;for(;r01 !== 5;){switch(r01){case 2:var A3q="asere";A3q+="po";A3q+="rten";A3q+="abled";l={type:A3q};d.mb(this.xb,l.type,l);r01=5;break;}}};m.prototype.wub=function(l){var y5q=a000;var s01,r,t,w,v,u,x,y,z,A,B,D,C,F,G,E,I,K,n,p,H;s01=2;for(;s01 !== 6;){switch(s01){case 5:for(H in p){var P3q="h";P3q+="vm";P3q+="af";P3q+="dp";var v3q="hv";v3q+="ma";v3q+="fg";v3q+="r";var W3q="hv";W3q+="m";W3q+="aft";W3q+="b";var X3q="h";X3q+="t";X3q+="wb";X3q+="r";r=p[H];t=0;w=0;v=0;u=0;x=0;y=0;z=void 0;A=void 0;B=!1;D=-1;C=-1;F=-1;G=-1;E=-1;I=-1;for(K in l){A=l[K];void 0 === A.nd && (z=(z=A.sols) && z[r]) && (B=!0,v+=z.dlvdur,t+=z.dltwbr * z.dlvdur,w+=z.dlvmaf * z.dlvdur);y+=A.pbdur;u+=A.pbtwbr * A.pbdur;x+=A.pbvmaf * A.pbdur;z=A.rr;A=A.ra;}0 < y && (D=1 * u / y,G=1 * x / y);B && (0 < v && (C=1 * t / v,E=1 * w / v),0 < v + y && (F=1 * (t + u) / (v + y),I=1 * (w + x) / (v + y)));switch(r){case X3q:n.htwbr=F;n.hptwbr=C;n.pbtwbr=D;z && (n.rr=z,n.ra=A);break;case W3q:n.hvmaftb=I;n.hpvmaftb=E;n.pbvmaftb=G;z && (n.rrvmaftb=z,n.ravmaftb=A);break;case v3q:n.hvmafgr=I;n.hpvmafgr=E;n.pbvmafgr=G;z && (n.rrvmafgr=z,n.ravmafgr=A);break;case P3q:(n.hvmafdp=I,n.hpvmafdp=E,n.pbvmafdp=G,z && (n.rrvmafdp=z,n.ravmafdp=A));}}s01=4;break;case 1:var m9q="hindsig";m9q+="h";m9q+="t";m9q+="rep";m9q+="ort";(n={type:m9q},p=this.xb.K.iba);s01=5;break;case 3:n.report=l;s01=9;break;case 8:for(var L in l){if((p=l[L],void 0 !== p.lfb))for(r in p.lfb){if((z=p.lfb[r],void 0 !== z.Ifa)){var U9q=" ";U9q+="a";U9q+="n";U9q+="d ";var I9q="expect s";I9q+="ol.strmsel.length =";I9q+="==";I9q+=" sol.fragsel.l";I9q+="ength but got ";var k9q="exp";k9q+="ect re";k9q+="port.fragmentsPrebuffer";k9q+="ed !== undefined";var o9q="expect report.fragment";o9q+="sPrebuffered !== u";o9q+="ndefined";H=void 0 !== p.N1a;H || (console.error(o9q),h.assert(H,k9q));H=[];for(var P in p.N1a){t=p.N1a[P];H.push({ga:t.ga,fo:t.duration / 1E3,quality:t.nb});}H=z.Ifa.length === z.O1a.length;t=I9q + z.Ifa.length + U9q + z.O1a.length;H || (console.error(t),h.assert(H,t));H=[];t=0;for(var N in z.Ifa){v=z.Ifa[N];w=z.O1a[N];y5q.s59(4);t=v=y5q.Y59(t,v);H.push({ijc:v,Njc:z.c0a[N],Qfc:z.fb[N],Foa:z.Foa[N],Eoa:z.Eoa[N],ZWa:z.ZWa[N],rfc:{ga:w.ga,fo:w.duration / 1E3,quality:w.nb?w.nb:z.zd[v].nb,ojc:w.dg,sfc:w.Te},tcb:0,Nic:0,uya:z.uya[N]});}z=[];H=0;for(var J in p.cD.trace){t=p.cD.trace[J];y5q.s59(4);H=t=y5q.Y59(H,t);z.push(t);}}}}s01=7;break;case 2:s01=l?1:6;break;case 4:s01=this.xb.sY || this.xb.Az?3:9;break;case 7:d.mb(this.xb,n.type,n);s01=6;break;case 9:s01=this.xb.Az?8:7;break;}}};H90=28;break;case 39:return m;break;case 8:m.prototype.Lub=function(l,n,p,r,t,w,v){var P90;P90=2;for(;P90 !== 3;){switch(P90){case 4:d.mb(this.xb,l.type,l);P90=3;break;case 2:var Y9q="n";Y9q+="otifyStre";Y9q+="amingError: ";var e9q="er";e9q+="r";e9q+="o";e9q+="r";void 0 === v && (v=!1);l={type:e9q,error:l,errormsg:n,networkErrorCode:p,httpCode:r,nativeCode:t,manifestIndex:w,temporaryFailure:v};this.J.error(Y9q + JSON.stringify(l));P90=4;break;}}};m.prototype.I7=function(l,n){var Q90;Q90=2;for(;Q90 !== 5;){switch(Q90){case 2:var z9q="s";z9q+="egmentS";z9q+="t";z9q+="arting";n={type:z9q,segmentId:l.id,contentOffset:n,maxBitrates:{audio:l.R.du[0],video:l.R.du[1]}};l.vG || d.mb(this.xb,n.type,n);Q90=5;break;}}};m.prototype.wma=function(l){var R90,n;R90=2;for(;R90 !== 5;){switch(R90){case 2:var s9q="segmen";s9q+="tAbo";s9q+="rte";s9q+="d";n={type:s9q,segmentId:l.id};l.vG || d.mb(this.xb,n.type,n);R90=5;break;}}};H90=14;break;case 35:m.prototype.uma=function(){var m01,l,n,p,r,t;m01=2;for(;m01 !== 8;){switch(m01){case 3:this.xb.wh.FJb({initSelReason:r.ZB,initSelectionPredictedDelay:r.YB,buffCompleteReason:r.Cv,hashindsight:this.xb.Jt,hasasereport:! !this.xb.qu,bcVBufferLevelMs:l.vBufferLevelMs,bcABufferLevelMs:l.aBufferLevelMs});d.mb(this.xb,l.type,l);m01=8;break;case 2:var V9q="b";V9q+="uffering";V9q+="C";V9q+="ompl";V9q+="ete";(l=this.xb.$a.qd,n=l.rb(0),p=l.rb(1));this.HTa();(r=this.xb.no?this.xb.Pb.ZC[g.Vb]:this.xb.Pb.ZC[g.mc],t=r.eX);l={type:V9q,time:f.default.time.ma(),actualStartPts:t,aBufferLevelMs:l.ai(0),vBufferLevelMs:l.ai(1),selector:p?p.WR:n.WR,initBitrate:r.Jy,skipbackBufferSizeBytes:this.xb.Gc.VG};m01=3;break;}}};m.prototype.HTa=function(){var n01,l,n,p,r,t,w,v;n01=2;for(;n01 !== 12;){switch(n01){case 2:l=this.xb.K;n01=1;break;case 5:(n=this.xb.$a.qd,p=n.ai(0),r=n.ai(1));this.xb.wh.nxb(p,r);t=this.xb.Gc.jc.get();t=t.confidence?t.fb.Ca:0;(w=this.xb.$a,v=w.qJ(n,0));n01=7;break;case 1:n01=!this.xb.Bo()?5:12;break;case 7:var b9q="upda";b9q+="teBuffer";b9q+="Level";n=w.qJ(n,1);p={type:b9q,abuflbytes:v,vbuflbytes:n,totalabuflmsecs:p,totalvbuflmsecs:r,currentBandwidth:t};r > l.C9a && this.xb.Gc.kg && this.xb.Gc.kg.Rr(!0,this.xb.sn.sessionId);d.mb(this.xb,p.type,p);n01=12;break;}}};m.prototype.Jtb=function(l){var o01,n,p,r;o01=2;for(;o01 !== 7;){switch(o01){case 1:c.Oa(l.T2);o01=5;break;case 2:o01=!c.ta(l)?1:7;break;case 5:o01=!c.ta(this.VN)?4:8;break;case 4:var c9q=", os";c9q+="Alloc";c9q+="a";c9q+="tor";c9q+="Delta: ";var n9q=", jsHe";n9q+="ap";n9q+="Del";n9q+="ta";n9q+=": ";var F9q=", fas";F9q+="tMalloc";F9q+="De";F9q+="lta: ";var f9q="memory";f9q+="Usage at time:";f9q+=" ";(n=l.b1a - this.VN.b1a,p=l.c5a - this.VN.c5a,r=l.mab - this.VN.mab);(4194304 < n || 4194304 < r) && this.J.warn(f9q + f.default.time.ma() + F9q + n + n9q + p + c9q + r);o01=9;break;case 8:this.VN=l;o01=7;break;case 9:var G9q=", ";G9q+="systemDe";G9q+="l";G9q+="ta";G9q+=": ";var a9q="memoryU";a9q+="sage at ti";a9q+="me: ";c.Oa(l.T2) && c.Oa(this.VN.T2) && (n=l.T2 - this.VN.T2,4194304 < n && this.J.warn(a9q + f.default.time.ma(),G9q + n));o01=8;break;}}};H90=32;break;case 27:m.prototype.Mub=function(l,n,p,r,t){var e01;e01=2;for(;e01 !== 4;){switch(e01){case 2:var C9q="upd";C9q+="ateStreaming";C9q+="Pts";n={type:C9q,mediaType:l,manifestIndex:n,trackIndex:p,movieTime:Math.floor(r),segmentId:t};k.po.ks(l);d.mb(this.xb,n.type,n);e01=4;break;}}};m.prototype.tub=function(l){var f01;f01=2;for(;f01 !== 5;){switch(f01){case 2:var l9q="f";l9q+="i";l9q+="rstR";l9q+="equestAppend";l9q+="ed";l={type:l9q,manifestIndex:l.eb.Ab.R.bc,mediatype:l.mediaType,time:f.default.time.ma()};d.mb(this.xb,l.type,l);f01=5;break;}}};m.prototype.xub=function(l,n){var g01;g01=2;for(;g01 !== 5;){switch(g01){case 2:var H9q="i";H9q+="niti";H9q+="alAudio";H9q+="Trac";H9q+="k";l={type:H9q,trackId:n,trackIndex:l};d.mb(this.xb,l.type,l);g01=5;break;}}};m.prototype.nub=function(l,n){var h01;h01=2;for(;h01 !== 3;){switch(h01){case 2:var j9q="audioTrackS";j9q+="wi";j9q+="tchStar";j9q+="te";j9q+="d";l=l.xs;n=n.xs;n={type:j9q,oldLangCode:l.language,oldNumChannels:l.channels,newLangCode:n.language,newNumChannels:n.channels};d.mb(this.xb,n.type,n);h01=3;break;}}};H90=23;break;case 18:m.prototype.Bub=function(l,n){var a01,p;a01=2;for(;a01 !== 3;){switch(a01){case 2:var x9q="not";x9q+="ifyMan";x9q+="ifestSelecte";x9q+="d";x9q+=": ";var R9q="mani";R9q+="fe";R9q+="stSe";R9q+="lected";p=this.xb.K;l={type:R9q,index:l,replace:n.R.Pf.replace,ptsStarts:n.yR,streamingOffset:n.da + n.bz};p.fj && (n=x9q + JSON.stringify(l),p.fj && this.Vn(n));d.mb(this.xb,l.type,l);a01=3;break;}}};m.prototype.zub=function(l,n,p,r,t){var b01;b01=2;for(;b01 !== 4;){switch(b01){case 2:var S9q="man";S9q+="i";S9q+="festP";S9q+="resenting";l={type:S9q,index:l.bc,pts:Math.floor(n),movieId:l.L,replace:l.Pf.replace,contentOffset:p};null != r && null != t && (l.previousMovieId=r,l.previousIndex=t);b01=5;break;case 5:d.mb(this.xb,l.type,l);b01=4;break;}}};m.prototype.Jub=function(l,n,p,r){var c01,t;c01=2;for(;c01 !== 3;){switch(c01){case 2:var M9q="streamP";M9q+="r";M9q+="esentin";M9q+="g";t=l.mediaType;k.po.ks(t);l={type:M9q,startPts:Math.floor(n),contentStartPts:Math.floor(p),mediaType:t,manifestIndex:r,trackIndex:l.track.xE,streamIndex:l.dg};d.mb(this.xb,l.type,l);c01=3;break;}}};m.prototype.Oub=function(l){var d01;d01=2;for(;d01 !== 5;){switch(d01){case 2:var Z9q="vide";Z9q+="o";Z9q+="Lo";Z9q+="ope";Z9q+="d";l={type:Z9q,offset:l};d.mb(this.xb,l.type,l);d01=5;break;}}};H90=27;break;case 23:m.prototype.mub=function(l,n){var i01,p;i01=2;for(;i01 !== 5;){switch(i01){case 2:p=this;setTimeout(function(){var j01,r;j01=2;for(;j01 !== 5;){switch(j01){case 2:var g9q="audioTrack";g9q+="Swi";g9q+="tchComplete";r={type:g9q,trackId:l,trackIndex:n};d.mb(p.xb,r.type,r);j01=5;break;}}},0);i01=5;break;}}};m.prototype.qub=function(l){var k01,n;k01=2;for(;k01 !== 4;){switch(k01){case 2:var O9q="buf";O9q+="fer";O9q+="ingSta";O9q+="rte";O9q+="d";n={type:O9q,time:f.default.time.ma(),percentage:l || 0};d.mb(this.xb,n.type,n);this.jma=l || 0;k01=4;break;}}};m.prototype.oub=function(){var l01,l,n,p,r,t;l01=2;for(;l01 !== 3;){switch(l01){case 2:var N9q="buf";N9q+="fer";N9q+="in";N9q+="g";(l=this.xb.K,n=f.default.time.ma(),p=this.xb.$a.qd,r=this.xb.no?1:0,t=p.rb(r));p=p.ai(r);l=Math.min(Math.max(Math.round(100 * (t.WF?(n - this.xb.ela) / l.GC:t.progress?t.progress:p / l.Hj)),this.jma),99);l != this.jma && (n={type:N9q,time:n,percentage:l},d.mb(this.xb,n.type,n),this.jma=l);l01=3;break;}}};H90=35;break;}}})();b.SLa=a;},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r,t,w,v,u,x;Object.defineProperties(b,{__esModule:{value:!0}});b.mIa=void 0;c=a(1);q=a(13);k=c.__importStar(a(10));a(4);a(259);g=a(276);f=a(444);d=a(87);a(435);a(450);h=a(132);m=c.__importDefault(a(32));a(271);l=a(1057);n=c.__importDefault(a(159));a(17);p=c.__importDefault(a(5));a(196);a(278);a(194);a(104);r=new p.default.Console("HEADERCACHE","media|asejs");a=new p.default.Console("MEDIACACHE","media|asejs");t=p.default.AM;w=r.trace.bind(r);a.trace.bind(a);v=r.warn.bind(r);u=r.error.bind(r);x=r.info.bind(r);a=(function(y){var z01;z01=2;for(;z01 !== 39;){switch(z01){case 41:z.prototype.Qc=function(A){var G11;G11=2;for(;G11 !== 1;){switch(G11){case 4:return - -A.Qc;break;G11=1;break;case 2:return ! !A.Qc;break;}}};return z;break;case 27:z.prototype.esb=function(A,B){var f11,D;f11=2;for(;f11 !== 8;){switch(f11){case 9:return B;break;case 2:D=A.stream.mediaType;2 > this.oy.length && this.gSa();B=g.f4.create(A.stream,B,this.oy[D].track,A,this,!0,r);B.Ri=A.Ri;B.kg=this;f11=9;break;}}};z.prototype.U6=function(A){var g11,B;g11=2;for(;g11 !== 9;){switch(g11){case 2:this.Qc(A) && delete this.v7[A.Za];this.Qc(A) || delete A.response;g11=5;break;case 5:var T9q="savet";T9q+="odis";T9q+="k";A.sd();B=this.Gg[A.L] || A.Un;B && 0 === B.a5a && 0 === B.JX && (this.fwb(B,A.$f),B.Ri && this.Wk && (B.kc.Lhc || (this.FI?this.Wk.G2b(B):this.Wk.XR(T9q,{Mdb:B.kc.Eu}))));g11=9;break;}}};z.prototype.Stb=function(A,B,D){var h11,C,F;h11=2;for(;h11 !== 8;){switch(h11){case 5:h11=0 < C?4:3;break;case 2:C=A.S9;B.Ri && this.Wk && (A.m9a?C=A.m9a:A.W8a && 0 < A.W8a && (C=2E3 * A.W8a));h11=5;break;case 4:return function(G,E){var i11;i11=2;for(;i11 !== 1;){switch(i11){case 2:a000.V59(22);return a000.z59(C,E);break;}}};break;case 3:F=D && D.length < A.d_a?D.length:A.d_a;h11=9;break;case 9:return function(G){var j11;j11=2;for(;j11 !== 1;){switch(j11){case 2:a000.V59(22);return a000.z59(F,G);break;}}};break;}}};z.prototype.Mma=function(A,B){var k11,H,P,N,I,K,E,L,D,C,F,G;k11=2;for(;k11 !== 53;){switch(k11){case 36:++K;k11=33;break;case 13:return;break;case 16:L.Ri=A.Ri;H=L.Pra(B);H && (L.mediaType === m.default.kb.mc && !G.S_ && H.Xd < (G.Io && !G.iJ && F.Qf?Math.floor(F.Qf.V):0) && (++H.hm,H.Xd+=L.$.V),0 < H.hm && L.Lj({start:H.hm}));k11=26;break;case 44:(L.A8(I.get(P)),L.XQ=P + 1,K=P);k11=43;break;case 33:k11=K < (I && I.length || 0) && !D(H,F)?32:54;break;case 31:L.Ri=A.Ri;k11=30;break;case 35:(P=L && L.mediaType,N=P === m.default.kb.Vb?G.cda:G.Vca);k11=34;break;case 5:this.EN.push({DPb:A,Xd:B});k11=4;break;case 29:a000.V59(4);P=a000.Y59(K,1);k11=28;break;case 19:var B9q="no proper fragmen";B9q+="t found to reque";B9q+="st data at pts";u(B9q,B);k11=53;break;case 32:k11=(void 0 === L && (L=A.stream.Hh(K)),void 0 !== L)?31:36;break;case 43:++P;k11=28;break;case 28:k11=P < I.length && (L.ga < N || L.duration < G)?44:42;break;case 8:k11=E?7:53;break;case 6:k11=void 0 === E.aq?14:12;break;case 54:E.Aqa && !k.ta(E.aq) && (A=E.Aqa,delete E.Aqa,this.Mma(A,E.aq));k11=53;break;case 30:k11=!k.ta(I) && !L.na?29:42;break;case 26:var d9q="ma";d9q+="nagerde";d9q+="b";d9q+="ugevent";var K9q=",";K9q+=" start";K9q+="Pt";K9q+="s:";K9q+=" ";var t9q=",";t9q+=" p";t9q+="ts";t9q+=": ";var h9q=", strea";h9q+="m";h9q+="Id";h9q+=": ";var q9q=", headerCache";q9q+=" requestData: m";q9q+="ovieId: ";G.fj && (B="@" + p.default.time.ma() + q9q + D + h9q + C + t9q + B + K9q + L.da,this.emit(d9q,{message:B}));k11=25;break;case 25:void 0 === E.data && (E.data={});void 0 === E.data[C] && (E.data[C]=[]);B=E.data[C];D=this.Stb(G,A,I);H=F=0;k11=35;break;case 42:var p9q="u";p9q+="nd";p9q+="efin";p9q+="e";p9q+="d";k.ta(E.aq) && (E.aq=L.da);L.Ri && (L.responseType=0);A.Ri && this.Wk && A.Q_ && A.Q_[C] && p9q !== typeof L.da && A.Q_[C][L.da] || (P=this.esb(L,A.Kf),P.Ri && (P.Un=A.Un),P.gR(),++E.JX,B.push(P));k11=39;break;case 4:k11=this.EN.length > G.zPb?3:53;break;case 7:k11=A.mediaType === m.default.kb.mc?6:11;break;case 20:k11=-1 === K || void 0 === K?19:18;break;case 12:B=E.aq;k11=11;break;case 1:k11=this.h7?5:9;break;case 14:E.Aqa=A;k11=13;break;case 17:k11=!k.ta(L)?16:25;break;case 11:A.mediaType === m.default.kb.mc && G.Io && !G.iJ && F.Qf && (B=Math.max(F.Z && F.Z.Gk(0) || 0,B + F.Qf.V));(I=A.stream.Z,K=I && I.Pn(B));k11=20;break;case 34:G=P === m.default.kb.Vb?G.OVb:G.GVb;k11=33;break;case 3:this.EN.shift();k11=4;break;case 9:E=this.Gg[D] || A.Un;k11=8;break;case 39:++H;F+=L.duration;k11=37;break;case 37:L=void 0;k11=36;break;case 18:L=A.stream.Hh(K);k11=17;break;case 2:(D=A.L,C=A.Za,F=A.stream,G=A.Kf);k11=1;break;}}};z.prototype.prb=function(A){var l11;l11=2;for(;l11 !== 1;){switch(l11){case 2:this.ORa(A,A.Un);l11=1;break;}}};z.prototype.orb=function(A,B){var m11;m11=2;for(;m11 !== 1;){switch(m11){case 4:this.ORa(A,B);m11=2;break;m11=1;break;case 2:this.ORa(A,B);m11=1;break;}}};z01=21;break;case 18:z.prototype.gSa=function(){var Y01;Y01=2;for(;Y01 !== 1;){switch(Y01){case 2:0 === this.oy.length && (this.oy=[h.wr.instance.Ov(0,void 0,!1,!1,this.sn,this.Up),h.wr.instance.Ov(1,void 0,!1,!1,this.sn,this.Up)],this.oy.forEach(function(A){var Z01;Z01=2;for(;Z01 !== 1;){switch(Z01){case 4:return A.xa();break;Z01=1;break;case 2:return A.xa();break;}}}),t.mh());Y01=1;break;}}};z.prototype.mSa=function(){var a11,A;a11=2;for(;a11 !== 4;){switch(a11){case 2:A=this.oy;this.oy=[];A.forEach(function(B){var b11;b11=2;for(;b11 !== 1;){switch(b11){case 2:h.wr.instance.hP(B);b11=1;break;}}});a11=4;break;}}};z.prototype.Ltb=function(){var c11,A;c11=2;for(;c11 !== 5;){switch(c11){case 2:A=this;!this.h7 && 0 < this.EN.length && (this.EN.forEach(function(B){var d11;d11=2;for(;d11 !== 1;){switch(d11){case 2:A.Mma(B.DPb,B.Xd);d11=1;break;}}}),this.EN=[]);c11=5;break;}}};z01=15;break;case 2:c.__extends(z,y);Object.defineProperties(z.prototype,{cache:{get:function(){var D01;D01=2;for(;D01 !== 1;){switch(D01){case 4:return this.Gg;break;D01=1;break;case 2:return this.Gg;break;}}},enumerable:!1,configurable:!0}});z.prototype.MGb=function(){var E01;E01=2;for(;E01 !== 5;){switch(E01){case 1:this.mSa();E01=5;break;case 2:this.flush();E01=1;break;}}};z01=4;break;case 4:z.prototype.mga=function(A){var F01;F01=2;for(;F01 !== 5;){switch(F01){case 2:this.sn=A;this.oy.forEach(function(){});F01=5;break;}}};z.prototype.Rr=function(A,B,D){var G01,C,F;G01=2;for(;G01 !== 9;){switch(G01){case 6:G01=(C[B]=A)?0:7;break;G01=(C[B]=A)?5:4;break;case 2:(C=this.TI,F=A);G01=1;break;case 5:for(var G in C){C.hasOwnProperty(G) && !1 === C[G] && (F=!1);}G01=4;break;case 4:D && delete C[B];F?(this.h7=!1,this.Ltb()):this.h7=!0;G01=9;break;case 1:G01=(C[B]=A)?5:4;break;}}};z.prototype.flush=function(){var H01,B;H01=2;for(;H01 !== 8;){switch(H01){case 2:this.z1a();for(var A in this.v7){B=this.v7[A];B.abort();}this.Gg=Object.create(null);H01=4;break;case 4:var y9q="m";y9q+="ana";y9q+="g";y9q+="erdebu";y9q+="gevent";var Q9q=",";Q9q+=" ";Q9q+="heade";Q9q+="rCache flush: ";this.tI=0;this.Xp=[];this.Up.fj && (B="@" + p.default.time.ma() + Q9q,this.emit(y9q,{message:B}));H01=8;break;}}};z.prototype.list=function(){var I01;I01=2;for(;I01 !== 1;){switch(I01){case 2:return this.Xp;break;}}};z.prototype.E_=function(A,B){var J01;J01=2;for(;J01 !== 4;){switch(J01){case 2:J01=(A=this.Gg[A])?1:4;break;case 9:J01=(A=this.Gg[A])?0:2;break;J01=(A=this.Gg[A])?1:4;break;case 1:J01=(B=A.headers[B])?5:4;break;case 5:return B;break;case 8:J01=(B=A.headers[B])?6:5;break;J01=(B=A.headers[B])?5:4;break;}}};z.prototype.WTb=function(A,B){var K01,D,C;K01=2;for(;K01 !== 5;){switch(K01){case 2:(D=this,C=this.VTb(A));return C || !this.Wk?Promise.resolve(C):(this.FI?this.Gtb(A,B):this.Ftb(A,B)).then(function(F){var L01;L01=2;for(;L01 !== 1;){switch(L01){case 2:return D.Qbb(F);break;}}});break;}}};z.prototype.VTb=function(A){var M01;M01=2;for(;M01 !== 1;){switch(M01){case 2:return this.Qbb(this.Gg[A]);break;}}};z01=13;break;case 11:z.prototype.Nm=function(A){var S01;S01=2;for(;S01 !== 1;){switch(S01){case 2:this.Qc(A)?this.ZXb(A):this.$Xb(A);S01=1;break;}}};z.prototype.K0=function(A){var T01;T01=2;for(;T01 !== 5;){switch(T01){case 2:var L9q="_onEr";L9q+="ror";L9q+=":";L9q+=" ";v(L9q,A.toString());this.U6(A);T01=5;break;}}};z.prototype.ZXb=function(A){var U01,B;U01=2;for(;U01 !== 9;){switch(U01){case 3:this.Qvb(A,function(){var V01;V01=2;for(;V01 !== 1;){switch(V01){case 2:k.ta(A) || (k.ta(A.Un) || A.Un.a5a--,B.U6(A));V01=1;break;}}});U01=9;break;case 1:A.H6b=A.$f;this.prb(A);k.ta(A.APb) || A.APb(A.H6b);U01=3;break;case 2:B=this;U01=1;break;}}};z.prototype.$Xb=function(A){var W01,B,D,C,F;W01=2;for(;W01 !== 8;){switch(W01){case 1:W01=C?5:8;break;case 2:(B=this,D=A.L,C=this.Gg[D] || A.Un);W01=1;break;case 5:var r9q="m";r9q+="an";r9q+="agerdebuge";r9q+="vent";var w9q=", r";w9q+="emai";w9q+="ning";w9q+=": ";var J9q=",";J9q+=" p";J9q+="ts";J9q+=":";J9q+=" ";var E9q=", stre";E9q+="a";E9q+="m";E9q+="Id: ";var D9q=", heade";D9q+="rCache ";D9q+="dataComp";D9q+="lete: movieId";D9q+=": ";W01=(this.Up.fj && (D="@" + p.default.time.ma() + D9q + D + E9q + A.Za + J9q + A.da + w9q + (C.JX - 1),this.emit(r9q,{message:D})),A.Ri && 0 === A.responseType && this.Wk && !this.FI)?4:9;break;case 9:(--C.JX,B.U6(A));W01=8;break;case 4:F=p.default.time.now();this.Wk.E2b(A,C,function(G){var X01;X01=2;for(;X01 !== 4;){switch(X01){case 2:G || k.ta(C) || (G=p.default.time.ma() - F,k.ta(C.kc) && (C.kc={}),k.ta(C.kc.Eu) && (C.kc.Eu=0),C.kc.Eu+=G);--C.JX;B.U6(A);X01=4;break;}}});W01=8;break;}}};z01=18;break;case 21:z.prototype.ORa=function(A,B){var n11,D;n11=2;for(;n11 !== 4;){switch(n11){case 2:D=A.Za;n11=1;break;case 1:n11=(B=this.Gg[A.L] || B)?5:4;break;case 5:(B.Uxb || B.Ri && !this.FI || (B.Uxb=!0,++this.tI),B.headers || (B.headers={}),B.headers[D]=A,this.Up.AIb && (B.iQ || (B.iQ=0),++B.iQ),this.jla());n11=4;break;}}};z.prototype.jla=function(){function A(G){var p11;p11=2;for(;p11 !== 5;){switch(p11){case 2:G.abort();D+=G.bytesReceived;p11=5;break;}}}var o11,B,D,C;o11=2;for(;o11 !== 12;){switch(o11){case 4:o11=(B=this.Xp.shift())?3:5;break;case 2:D=0;o11=1;break;case 1:o11=!(this.tI <= this.sTa)?5:12;break;case 5:o11=this.tI > this.sTa?4:13;break;case 14:this.Jvb(C);o11=5;break;case 9:o11=B.data?8:7;break;case 3:C=B.L;o11=9;break;case 7:delete this.Gg[C];--this.tI;o11=14;break;case 8:for(var F in B.data){B.data[F].forEach(A);delete B.data[F];}o11=7;break;case 13:this.Kvb(D);o11=12;break;}}};z.prototype.Kvb=function(A){var q11;q11=2;for(;q11 !== 1;){switch(q11){case 2:var i9q="dis";i9q+="ca";i9q+="rdedBy";i9q+="te";i9q+="s";0 !== A && (A={type:i9q,bytes:A},this.emit(A.type,A));q11=1;break;}}};z.prototype.Mvb=function(A){var r11;r11=2;for(;r11 !== 1;){switch(r11){case 2:var u9q="f";u9q+="lus";u9q+="hed";u9q+="Byte";u9q+="s";0 !== A && (A={type:u9q,bytes:A},this.emit(A.type,A));r11=1;break;}}};z01=32;break;case 13:z.prototype.z1a=function(){var N01,D,C,F;N01=2;function A(E){var O01;O01=2;for(;O01 !== 1;){switch(O01){case 4:E.WXa();O01=6;break;O01=1;break;case 2:E.WXa();O01=1;break;}}}for(;N01 !== 4;){switch(N01){case 2:D=0;for(C in this.Gg){F=this.Gg[C];if(F.data){for(var G in F.data){var X9q="in";X9q+=" entr";X9q+="y";X9q+=":";var A9q="mis";A9q+="sing h";A9q+="eaderEntry";A9q+=" for streamI";A9q+="d:";F.headers[G] || u(A9q,G,X9q,F);B(F,G);F.data[G].forEach(A);delete F.data[G];}delete F.data;}}this.Mvb(D);N01=4;break;}}function B(E,I){var P01;P01=2;for(;P01 !== 1;){switch(P01){case 2:E && E.data && E.data[I].forEach(function(K){var Q01;Q01=2;for(;Q01 !== 5;){switch(Q01){case 2:K.abort();D+=K.bytesReceived;Q01=5;break;}}});P01=1;break;}}}};z.prototype.AC=function(A){var R01,B;R01=2;for(;R01 !== 5;){switch(R01){case 2:B=this.Gg[A.L];B && (this.Qc(A)?k.ta(B.kc.EPb) && !k.ta(A.loadTime) && (B.kc.EPb=A.loadTime):k.ta(B.kc.ybb) && !k.ta(A.loadTime) && (B.kc.ybb=A.loadTime));R01=5;break;}}};z01=11;break;case 30:z.prototype.fwb=function(A,B){var u11;u11=2;for(;u11 !== 4;){switch(u11){case 2:var W9q="pre";W9q+="bu";W9q+="ffsta";W9q+="ts";A.kc.XZb=B;A={type:W9q,movieId:A.L,stats:{prebuffstarted:A.kc.ybb,prebuffcomplete:A.kc.XZb}};this.emit(A.type,A);u11=4;break;}}};z.prototype.Gtb=function(A,B){var v11,D;v11=2;for(;v11 !== 5;){switch(v11){case 2:var v9q="Media c";v9q+="ache is not";v9q+=" en";v9q+="able";v9q+="d";D=this;return this.Wk?this.Wk.yTb(A,B).then(function(C){var w11;w11=2;for(;w11 !== 5;){switch(w11){case 1:return (D.Gg[A]=C.Un,++D.tI,D.jla(),D.Xp.push(C.Un),D.Xp.sort(D.Nbb),D.PRa(A,C),D.cache[A]);break;case 2:w11=C && C.Un?1:5;break;}}}):Promise.reject(v9q);break;}}};z.prototype.Ftb=function(A,B){var x11,D,C,F;x11=2;for(;x11 !== 8;){switch(x11){case 9:var P9q="Medi";P9q+="a cache i";P9q+="s not enabled";return Promise.reject(P9q);break;case 2:D=this;x11=1;break;case 5:(C=void 0,F=!1);this.Wk.x6a(this.Gg[A])?(C=Promise.resolve(this.Gg[A]),F=!0):C=this.Wk.ATb(A);x11=3;break;case 3:return C.then(function(G){var y11;y11=2;for(;y11 !== 1;){switch(y11){case 2:return !k.ta(G) && D.Wk?D.Wk.xTb(A,B,G).then(function(E){var z11;z11=2;for(;z11 !== 5;){switch(z11){case 2:E && (F || (D.Gg[A]=G,++D.tI,D.jla(),D.Xp.push(G),D.Xp.sort(D.Nbb)),D.PRa(A,E));return D.Gg[A];break;}}}):Promise.resolve(void 0);break;}}});break;case 1:x11=this.Wk?5:9;break;}}};z.prototype.PRa=function(A,B){var A11,C,F,G,D;A11=2;for(;A11 !== 7;){switch(A11){case 1:A11=B?5:7;break;case 3:A11=B.data?9:7;break;case 5:(C=this.Gg[A],F=B.headers);C && F && Object.keys(F).forEach(function(E){var B11;B11=2;for(;B11 !== 1;){switch(B11){case 2:D.orb(F[E],C);B11=1;break;}}});A11=3;break;case 9:G=B.data;Object.keys(G).forEach(function(E){var C11,I,K;C11=2;for(;C11 !== 9;){switch(C11){case 2:I=G[E];k.ta(C.data) && (C.data={});k.ta(C.data[E]) && (C.data[E]=[]);K=C.data;I.forEach(function(L){var D11;D11=2;for(;D11 !== 1;){switch(D11){case 4:K[E].push(L);D11=0;break;D11=1;break;case 2:K[E].push(L);D11=1;break;}}});C11=9;break;}}});A11=7;break;case 2:D=this;A11=1;break;}}};z.prototype.Nbb=function(A,B){var E11;E11=2;for(;E11 !== 1;){switch(E11){case 2:return B.priority - A.priority;break;case 4:return B.priority / A.priority;break;E11=1;break;}}};z.prototype.Qbb=function(A){var F11,B,D,C;F11=2;for(;F11 !== 11;){switch(F11){case 1:F11=A && A.data?5:11;break;case 2:B={};F11=1;break;case 5:for(D in A.data){C=A.data[D];0 < C.length && (B[C[0].mediaType]={Za:D,header:A.headers[D],data:C});}B.aq=A.aq;B.iQ=A.iQ;F11=9;break;case 9:B.kc=A.kc;B.Jy=A.Jy;B.ZB=A.ZB;B.GF=A.GF;B.Dq=A.Dq;B.Eq=A.Eq;return B;break;}}};z01=41;break;case 32:z.prototype.Jvb=function(A){var s11;s11=2;for(;s11 !== 5;){switch(s11){case 3:A={type:"",movieId:A};s11=9;break;s11=1;break;case 2:var m0q="c";m0q+="ach";m0q+="eEv";m0q+="i";m0q+="ct";A={type:m0q,movieId:A};s11=1;break;case 1:this.emit(A.type,A);s11=5;break;case 9:this.emit(A.type,A);s11=1;break;s11=5;break;}}};z.prototype.Qvb=function(A,B){var t11,D;t11=2;for(;t11 !== 3;){switch(t11){case 2:D=A.Kf;k.ta(A.R1b) || this.Mma(A,A.R1b);!this.Wk || !A.Ri || this.FI || k.ta(A.Q_) || A.Q_[A.Za] && A.Q_[A.Za].header?B():this.Wk.F2b(A,B);D.UCa || 0 !== Object.keys(this.v7).length || this.mSa();t11=3;break;}}};z01=30;break;case 15:z.prototype.eSa=function(A,B){var e11,D;e11=2;for(;e11 !== 8;){switch(e11){case 2:D=A.stream.mediaType;2 > this.oy.length && this.gSa();B=new f.aha(A.stream,B,this.oy[D],A,this,!0,r);B.Ri=A.Ri;e11=3;break;case 3:B.kg=this;return B;break;}}};z01=27;break;}}function z(A,B,D,C){var A01;A01=2;for(;A01 !== 25;){switch(A01){case 2:A=y.call(this) || this;A.Eo=w;A.Jl=u;A.cc=v;A.nec=x;A.v7=Object.create(null);A01=8;break;case 8:A.Up=B;A.Gg=Object.create(null);A.tI=0;A.Xp=[];A01=13;break;case 13:A.sTa=B.T9;A.oy=[];A.h7=!1;A01=10;break;case 10:A.EN=[];A.TI={};A.ena=(A.Up.XCa || A.Up.YCa) && 0 < (A.Up.gY || (p.default.options || ({})).PQ || 0);A.FI=A.Up.Xwa;A.Wk=void 0;A.ena && (A.Up.gY || (B=(p.default.options || ({})).PQ || 0,A.Up.set?A.Up.set({gY:B}):A.Up.gY=(p.default.options || ({})).PQ || 0),A.Wk=new l.WKa(A.Up,p.default,A),A.Wk.xa(A,C).then(function(){var B01;B01=2;for(;B01 !== 1;){switch(B01){case 2:var o0q="Media ";o0q+="cache ";o0q+="i";o0q+="nitia";o0q+="lized";w(o0q);B01=1;break;}}}).catch(function(F){var C01;C01=2;for(;C01 !== 1;){switch(C01){case 4:u("",F);C01=9;break;C01=1;break;case 2:var k0q="Media cache d";k0q+="id not ";k0q+="in";k0q+="itializ";k0q+="e";u(k0q,F);C01=1;break;}}}));A.sn=D;A01=27;break;case 27:var I0q="1S";I0q+="IYb";I0q+="ZrN";I0q+="JCp9";I0q;return A;break;}}}})(d.yx);b.mIa=a;n.default(q.EventEmitter.prototype,a.prototype);},function(q,b,a){var c,k,g,f,d,h,m,l;Object.defineProperties(b,{__esModule:{value:!0}});b.WKa=void 0;c=a(1);k=a(13);g=c.__importStar(a(1058));f=c.__importStar(a(10));a(4);d=a(276);h=a(8);q=a(39);m=c.__importStar(a(1069));l=m.sKa;a=(function(){var H11;H11=2;for(;H11 !== 18;){switch(H11){case 14:n.prototype.f0b=function(p,r){var v21,t,w;v21=2;for(;v21 !== 5;){switch(v21){case 2:(t=this,w=Object.keys(p).map(function(v){var w21;w21=2;for(;w21 !== 1;){switch(w21){case 2:return t.HEb(p[v]);break;case 4:return t.HEb(p[v]);break;w21=1;break;}}}));return Promise.all(w).then(function(v){var x21;x21=2;for(;x21 !== 5;){switch(x21){case 2:v.sort(function(u,x){var y21;y21=2;for(;y21 !== 1;){switch(y21){case 2:return u.Qc === x.Qc?0:u.Qc?-1:1;break;}}});return m.lta(t.K,t.J,t.Gf,v,r);break;}}});break;}}};n.prototype.HEb=function(p){var z21,r,t,w,v;z21=2;for(;z21 !== 5;){switch(z21){case 2:(r=this,v={});return new Promise(function(u,x){var A21,y;A21=2;for(;A21 !== 5;){switch(A21){case 2:r.Sp.zea(l.Xs,p,function(z,A){var B21,C21,B;B21=2;for(;B21 !== 1;){switch(B21){case 2:try{C21=2;for(;C21 !== 19;){switch(C21){case 11:C21=m.fva(y)?10:12;break;case 20:y=m.tsa(w,{response:v.response});C21=6;break;case 4:C21=m.q6a(w)?3:20;break;case 12:u(y);C21=19;break;case 9:var U0q="Header";U0q+=" fragments ";U0q+="was ";U0q+="an array buffer, is invalid type ";B=U0q + y.Za;C21=8;break;case 1:return x(z);break;case 2:C21=z || void 0 === A?1:5;break;case 8:return x(B);break;case 6:C21=y.Qc?14:11;break;case 14:C21=m.gva(y)?13:12;break;case 13:var e0q="Mi";e0q+="ssing or invali";e0q+="d header data parts for stre";e0q+="am ";return (B=e0q + y.Za,x(B));break;case 5:Object.keys(A).map(function(D){var D21,C,E21,F;D21=2;for(;D21 !== 3;){switch(D21){case 4:C === l.CHa?t=A[D]:v[C]=A[D];D21=3;break;case 2:C=D.substr(D.lastIndexOf(".") + 1);D21=1;break;case 1:D21=C === l.$ia?5:4;break;case 5:try{E21=2;for(;E21 !== 5;){switch(E21){case 2:F=new Uint8Array(A[D]);w=JSON.parse(String.fromCharCode.apply(null,F));E21=5;break;}}}catch(G){w=A[D];}D21=3;break;}}});C21=4;break;case 3:C21=t instanceof ArrayBuffer?9:7;break;case 10:var Y0q="Missing or invalid media d";Y0q+="ata parts for";Y0q+=" stream ";return (B=Y0q + y.Za,x(B));break;case 7:y=m.usa(w,v,t);C21=6;break;}}}catch(D){x(D);}B21=1;break;}}});A21=5;break;}}});break;}}};n.prototype.Bvb=function(p,r,t){var F21,w;F21=2;for(;F21 !== 5;){switch(F21){case 2:w=this;return new Promise(function(v,u){var G21,x;G21=2;for(;G21 !== 5;){switch(G21){case 2:w.Sp.read(l.Xs,p,function(y,z){var H21,F,M21,J,M,O,N21,Q,T,V,da,O21,P21,Q21,R21,S21,T21,I21,P,H,K,L,E,I,J21,K21,L21,A,B,D,C,G;H21=2;for(;H21 !== 4;){switch(H21){case 8:F=z[p];H21=7;break;case 5:u(y);H21=4;break;case 7:H21=F.movieEntry?6:15;break;case 13:H21=F.headers?12:10;break;case 18:try{M21=2;for(;M21 !== 8;){switch(M21){case 2:(J=c.__values(A),M=J.next());M21=1;break;case 9:M=J.next();M21=1;break;case 1:M21=!M.done?5:8;break;case 5:K=M.value;O=Object.keys(N[K]);try{N21=2;for(;N21 !== 7;){switch(N21){case 1:N21=!T.done?5:7;break;case 2:(Q=(D=void 0,c.__values(O)),T=Q.next());N21=1;break;case 5:(V=N[K][T.value],da=m.tsa(V,V));N21=4;break;case 4:N21=m.fva(da)?3:9;break;case 9:z.push(da);N21=8;break;case 8:T=Q.next();N21=1;break;case 3:var z0q="Missing or inv";z0q+="alid ";z0q+="med";z0q+="ia data";z0q+=" parts for stream ";return (H=z0q + da.Za,u(H));break;}}}catch(xa){D={error:xa};}finally{O21=2;for(;O21 !== 1;){switch(O21){case 2:try{P21=2;for(;P21 !== 1;){switch(P21){case 2:T && !T.done && (C=Q.return) && C.call(Q);P21=1;break;}}}finally{Q21=2;for(;Q21 !== 5;){switch(Q21){case 9:throw D.error;Q21=1;break;Q21=5;break;case 2:Q21=D?1:5;break;case 1:throw D.error;Q21=5;break;}}}O21=1;break;}}}M21=9;break;}}}catch(xa){var pa;pa={error:xa};}finally{R21=2;for(;R21 !== 1;){switch(R21){case 2:try{S21=2;for(;S21 !== 1;){switch(S21){case 2:M && !M.done && (B=J.return) && B.call(J);S21=1;break;}}}finally{T21=2;for(;T21 !== 5;){switch(T21){case 1:throw pa.error;T21=5;break;case 2:T21=pa?1:5;break;}}}R21=1;break;}}}H21=17;break;case 9:v();H21=4;break;case 6:y=m.kta(F.movieEntry);z=[];H21=13;break;case 11:try{I21=2;for(;I21 !== 12;){switch(I21){case 7:I21=m.gva(P)?6:14;break;case 6:var s0q="Missing or invalid header";s0q+=" d";s0q+="ata parts for s";s0q+="tream ";return (H=s0q + P.Za,u(H));break;case 9:return u(H);break;case 8:P=m.usa(L,L,L.fragments);I21=7;break;case 13:I=E.next();I21=1;break;case 3:var V0q="Hea";V0q+="der fragme";V0q+="nts was an a";V0q+="rray buffer, is invalid type";V0q+=" ";H=V0q + L.streamId;I21=9;break;case 5:(K=I.value,L=F.headers[K]);I21=4;break;case 4:I21=L.fragments instanceof ArrayBuffer?3:8;break;case 2:(E=c.__values(G),I=E.next());I21=1;break;case 14:z.push(P);I21=13;break;case 1:I21=!I.done?5:12;break;}}}catch(xa){var N;N={error:xa};}finally{J21=2;for(;J21 !== 1;){switch(J21){case 2:try{K21=2;for(;K21 !== 1;){switch(K21){case 2:I && !I.done && (A=E.return) && A.call(E);K21=1;break;}}}finally{L21=2;for(;L21 !== 5;){switch(L21){case 2:L21=N?1:5;break;case 9:throw N.error;L21=8;break;L21=5;break;case 1:throw N.error;L21=5;break;}}}J21=1;break;}}}H21=10;break;case 2:H21=1;break;case 10:H21=F.data?20:17;break;case 12:G=Object.keys(F.headers);H21=11;break;case 20:N=F.data;A=Object.keys(N);H21=18;break;case 16:void 0 !== x && (x.Un=y);H21=15;break;case 1:H21=y?5:3;break;case 17:x=m.lta(w.K,w.J,w.Gf,z,r);H21=16;break;case 3:H21=f.ta(z)?9:8;break;case 15:var b0q="medi";b0q+="acac";b0q+="heloo";b0q+="kup";w.XR(b0q,{tca:w.Wp.time.ma() - t,L9:!0});v(x);H21=4;break;}}});G21=5;break;}}});break;}}};n.prototype.ytb=function(p){var U21,r;U21=2;for(;U21 !== 5;){switch(U21){case 2:var f0q="M";f0q+="edia ca";f0q+="che is not enabled";r=this;return this.mv?this.mv.then(function(){var V21;V21=2;for(;V21 !== 1;){switch(V21){case 2:return new Promise(function(t){var W21;W21=2;for(;W21 !== 1;){switch(W21){case 2:r.Sp.u1(l.Xs,p.toString(),function(w){var X21;X21=2;for(;X21 !== 1;){switch(X21){case 2:w && 0 !== w.length?1 === w.length && w[0] === p.toString()?t(!0):t(!1):t(!1);X21=1;break;}}});W21=1;break;}}});break;}}}):Promise.reject(f0q);break;}}};n.prototype.awb=function(p){var Y21,w,v;Y21=2;for(;Y21 !== 4;){switch(Y21){case 2:(w=this,v=p.toString());this.Sp.u1(l.Xs,[l.wKa,p].join("."),t);this.Sp.u1(l.Xs,v,t);Y21=4;break;}}function t(u){var a31;a31=2;for(;a31 !== 1;){switch(a31){case 2:u.map(r);a31=1;break;}}}function r(u){var Z21;Z21=2;for(;Z21 !== 1;){switch(Z21){case 2:w.Sp.delete(l.Xs,u);Z21=1;break;}}}};H11=20;break;case 2:n.prototype.xa=function(p,r){var J11,t;J11=2;for(;J11 !== 4;){switch(J11){case 5:return this.mv;break;case 2:var n0q="Medi";n0q+="a cac";n0q+="he is disabled";t=this;this.ena?this.mv=new Promise(function(w,v){var K11;K11=2;for(;K11 !== 1;){switch(K11){case 2:(void 0 !== r && null !== r?r.qQ:function(u){var L11;L11=2;for(;L11 !== 1;){switch(L11){case 2:return g.qQ(t.Wp,t.K,u);break;case 4:return g.qQ(t.Wp,t.K,u);break;L11=1;break;}}})(function(u){var M11,x;M11=2;for(;M11 !== 4;){switch(M11){case 2:var F0q="Medi";F0q+="a cache did not initializ";F0q+="e";t.Sp=u;x=u.xw;(u=u.sK)?v(u):x?(t.k4b(p),w()):v(Error(F0q));M11=4;break;}}});K11=1;break;}}}):(this.mv=Promise.reject(n0q),this.mv.catch(function(){}));J11=5;break;case 7:return this.mv;break;J11=4;break;}}};n.prototype.ATb=function(p){var N11,r,t,w;N11=2;for(;N11 !== 5;){switch(N11){case 2:(r=this,t=[l.wKa,p].join("."),w=this.Wp.time.ma());return this.mv.then(function(){var O11;O11=2;for(;O11 !== 1;){switch(O11){case 2:return new Promise(function(v){var P11;P11=2;for(;P11 !== 1;){switch(P11){case 2:r.Sp.u1(l.Xs,t,function(u){var Q11,x;Q11=2;for(;Q11 !== 3;){switch(Q11){case 8:Q11=-u && 1 <= u.length?7:7;break;Q11=!u || 0 >= u.length?1:5;break;case 2:Q11=!u || 0 >= u.length?1:5;break;case 5:x=u[0];r.Sp.read(l.Xs,x,function(y,z){var R11,S11,A,B;R11=2;for(;R11 !== 14;){switch(R11){case 2:var a0q=" ";a0q+="f";a0q+="aile";a0q+="d";var c0q="Rea";c0q+="ding movie en";c0q+="try ";y && r.J.warn(c0q + x + a0q,y);R11=1;break;case 1:R11=!f.ta(z)?5:9;break;case 5:R11=z instanceof ArrayBuffer?4:3;break;case 3:A={priority:z.priority,movieId:z.movieId,saveToDisk:z.saveToDisk,firstSelectedStreamBitrate:z.firstSelectedStreamBitrate,initSelectionReason:z.initSelectionReason,histDiscountedThroughputValue:z.histDiscountedThroughput,histTdigest:z.histTdigest,histAge:z.histAge,headerCount:z.headerCount,dataRequestCount:z.dataRequestCount,headerRequestCount:z.headerRequestCount,stats:z.stats};R11=9;break;case 4:try{S11=2;for(;S11 !== 1;){switch(S11){case 2:A=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(z)));S11=1;break;}}}catch(D){}R11=9;break;case 6:r.x6a(B)?v(B):(r.awb(p),v());R11=14;break;case 9:f.ta(A) || (B=m.kta(A));f.ta(B) || f.Gb(B) || (B.kc=B.kc || ({}),B.headers=B.headers || ({}));R11=6;break;}}});Q11=3;break;case 1:var G0q="mediacac";G0q+="he";G0q+="lookup";(v(),r.XR(G0q,{tca:r.Wp.time.ma() - w,L9:!1}));Q11=3;break;}}});P11=1;break;}}});break;}}});break;}}};H11=5;break;case 5:n.prototype.xTb=function(p,r,t){var T11,v,w;T11=2;for(;T11 !== 9;){switch(T11){case 4:v=this.Wp.time.ma();return this.mv.then(function(){var U11;U11=2;for(;U11 !== 1;){switch(U11){case 2:return new Promise(function(u){var V11;V11=2;for(;V11 !== 1;){switch(V11){case 2:w.Sp.u1(l.Xs,p,function(x){var W11;W11=2;for(;W11 !== 5;){switch(W11){case 2:x=x.reduce(function(y,z){var X11,A;X11=2;for(;X11 !== 9;){switch(X11){case 2:A=z.substr(0,z.lastIndexOf("."));X11=1;break;case 1:var C0q="drm";C0q+="Hea";C0q+="der.__";C0q+="embed__";X11=-1 !== A.indexOf(C0q)?5:4;break;case 5:return y;break;case 4:y[A]?y[A].push(z):y[A]=[z];return y;break;}}},{});w.f0b(x,r).then(function(y){var Y11,z,A;Y11=2;for(;Y11 !== 8;){switch(Y11){case 2:Y11=void 0 === t || void 0 === y?1:5;break;case 9:u(y);Y11=8;break;case 5:var H0q="mediaca";H0q+="c";H0q+="heloo";H0q+="kup";var l0q="No content d";l0q+="ata ";l0q+="foun";l0q+="d for ";(z=w.Wp.time.ma() - v,A=!1);f.ta(y) || f.ta(y.data) || !f.fk(y.data)?w.J.trace(l0q + p,t):A=!0;w.XR(H0q,{tca:z,L9:A});Y11=9;break;case 1:return u();break;}}},function(){var Z11;Z11=2;for(;Z11 !== 1;){switch(Z11){case 2:u();Z11=1;break;}}});W11=5;break;}}});V11=1;break;}}});break;}}});break;case 1:T11=!this.mv?5:4;break;case 7:w=this;T11=2;break;T11=1;break;case 5:var j0q="Media cache is n";j0q+="ot enable";j0q+="d";return Promise.reject(j0q);break;case 2:w=this;T11=1;break;}}};n.prototype.yTb=function(p,r){var a21,t,w;a21=2;for(;a21 !== 5;){switch(a21){case 2:(t=this,w=this.Wp.time.ma());return this.mv.then(function(){var b21;b21=2;for(;b21 !== 1;){switch(b21){case 2:return t.ytb(p);break;case 4:return t.ytb(p);break;b21=1;break;}}}).then(function(v){var c21;c21=2;for(;c21 !== 5;){switch(c21){case 2:c21=v?1:4;break;case 4:var R0q="mediacac";R0q+="hel";R0q+="ookup";t.XR(R0q,{tca:t.Wp.time.ma() - w,L9:!1});c21=5;break;case 1:return t.Bvb(p.toString(),r,w);break;}}});break;}}};n.prototype.F2b=function(p,r){var d21,t,w,v,u,x,y;d21=2;for(;d21 !== 13;){switch(d21){case 2:(t=this,w=[p.L,p.Za,l.Tmb].join("."),v=this.Wp.time.ma(),u=m.Z2a(p),x={});x[w + "." + l.$ia]={Js:u,Oc:l.SH};x[w + "." + l.rnb]={Js:h.Jv(p.Yf.map(function(z){var e21;e21=2;for(;e21 !== 1;){switch(e21){case 2:return z.data;break;case 4:return z.data;break;e21=1;break;}}})),Oc:l.SH};d21=4;break;case 4:d21=p.stream.Ie && !f.ta(p.stream.Z)?3:14;break;case 3:u={timescale:p.stream.Z.I,startTicks:p.stream.Z.Fk,offset:p.stream.Z.Pc(0)};y=p.stream.Z.Gz;x[w + "." + l.CHa]={Js:u,Oc:l.SH};x[w + "." + l.Mmb]={Js:y.sizes.buffer,Oc:l.SH};d21=6;break;case 6:x[w + "." + l.Lmb]={Js:y.ed.buffer,Oc:l.SH};d21=14;break;case 14:this.Sp.Ldb(l.Xs,x,function(z){var f21;f21=2;for(;f21 !== 5;){switch(f21){case 2:z || (z=t.Wp.time.ma() - v,p.Un && (f.ta(p.Un.kc.Eu) && (p.Un.kc.Eu=0),p.Un.kc.Eu+=z));r();f21=5;break;}}});d21=13;break;}}};n.prototype.E2b=function(p,r,t){var g21,w,v,u,x,y;g21=2;for(;g21 !== 14;){switch(g21){case 2:(w=this,v=p.response);g21=1;break;case 7:this.Sp.Ldb(l.Xs,y,function(z){var h21;h21=2;for(;h21 !== 5;){switch(h21){case 2:var x0q="F";x0q+="ailed to save frag";x0q+="men";x0q+="t";z?w.J.warn(x0q,z):(z=w.Wp.time.ma() - u,f.ta(r.kc.Eu) && (r.kc.Eu=0),r.kc.Eu+=z);t();h21=5;break;}}});g21=14;break;case 1:g21=v instanceof ArrayBuffer?5:6;break;case 6:var S0q="Unable to sav";S0q+="e fragment because respons";S0q+="e is not an Ar";S0q+="rayB";S0q+="uffer";t(Error(S0q));g21=14;break;case 5:(u=this.Wp.time.ma(),x=[p.L,p.Za,p.ud].join("."));p=m.hta(p);y={};y[x + "." + l.$ia]={Js:p,Oc:l.SH};f.ta(v) || (y[x + "." + l.iob]={Js:v,Oc:l.SH});g21=7;break;}}};n.prototype.G2b=function(p){var i21,z,r,t,w,v,u,x,y,A,B,k21,D,C,F,G,l21,K,L,E,I,m21,n21,o21,p21,q21,r21;i21=2;for(;i21 !== 20;){switch(i21){case 5:i21=p.headers?4:8;break;case 4:z={};Object.keys(p.headers).forEach(function(P){var j21,N;j21=2;for(;j21 !== 5;){switch(j21){case 2:N=m.W2a(p.headers[P]);z[P]=N;j21=5;break;}}});i21=9;break;case 8:i21=p && p.data?7:12;break;case 9:x.headers=z;i21=8;break;case 2:(v=this,u=this.Wp.time.ma(),x={},y=m.A3a(p));x.movieEntry=y;i21=5;break;case 7:y={};(A=p.data,B=Object.keys(p.data));try{k21=2;for(;k21 !== 6;){switch(k21){case 1:k21=!C.done?5:6;break;case 2:(D=c.__values(B),C=D.next());k21=1;break;case 5:(F=C.value,G=A[F]);B={};k21=3;break;case 9:try{l21=2;for(;l21 !== 7;){switch(l21){case 5:K=I.value;l21=4;break;case 3:L=m.hta(K);l21=9;break;case 9:B[K.ud]={mediaType:L.mediaType,streamId:L.streamId,movieId:L.movieId,bitrate:L.bitrate,location:L.location,serverId:L.serverId,saveToDisk:L.saveToDisk,offset:L.offset,bytes:L.bytes,timescale:L.timescale,startTicks:L.startTicks,durationTicks:L.durationTicks,response:K.response};l21=8;break;case 2:(E=(t=void 0,c.__values(G)),I=E.next());l21=1;break;case 4:l21=K instanceof d.f4 && K.response instanceof ArrayBuffer && !f.ta(K.ud)?3:8;break;case 1:l21=!I.done?5:7;break;case 8:I=E.next();l21=1;break;}}}catch(P){t={error:P};}finally{m21=2;for(;m21 !== 1;){switch(m21){case 2:try{n21=2;for(;n21 !== 1;){switch(n21){case 2:I && !I.done && (w=E.return) && w.call(E);n21=1;break;}}}finally{o21=2;for(;o21 !== 5;){switch(o21){case 1:throw t.error;o21=5;break;case 2:o21=t?1:5;break;}}}m21=1;break;}}}k21=8;break;case 8:y[F]=B;k21=7;break;case 7:C=D.next();k21=1;break;case 3:k21=G?9:7;break;}}}catch(P){var H;H={error:P};}finally{p21=2;for(;p21 !== 1;){switch(p21){case 2:try{q21=2;for(;q21 !== 1;){switch(q21){case 2:C && !C.done && (r=D.return) && r.call(D);q21=1;break;}}}finally{r21=2;for(;r21 !== 5;){switch(r21){case 2:r21=H?1:5;break;case 3:r21=H?0:6;break;r21=H?1:5;break;case 1:throw H.error;r21=5;break;}}}p21=1;break;}}}i21=13;break;case 13:x.data=y;i21=12;break;case 12:H={lifespan:259200};this.Rtb && (H.convertToBinaryData=!0);this.Sp.save(l.Xs,p.L,x,H,function(P){var s21;s21=2;for(;s21 !== 1;){switch(s21){case 2:var M0q="save";M0q+="tod";M0q+="i";M0q+="sk";P || v.XR(M0q,{Mdb:v.Wp.time.ma() - u});s21=1;break;}}});i21=20;break;}}};n.prototype.x6a=function(p){var t21;t21=2;for(;t21 !== 1;){switch(t21){case 2:return !(f.ta(p) || f.Gb(p) || f.ta(p.kc) || f.Gb(p.kc) || f.ta(p.L) || f.Gb(p.L) || f.ta(p.priority) || f.Gb(p.priority));break;}}};n.prototype.XR=function(p,r){var u21,t;u21=2;for(;u21 !== 9;){switch(u21){case 5:var g0q="m";g0q+="e";g0q+="d";g0q+="iacach";g0q+="e";var Z0q="mediacac";Z0q+="helooku";Z0q+="p";Z0q === p && (t.lookupTime=r.tca,t.dataFound=r.L9);t.oneObject=this.FI;this.Bsb && this.emit(g0q,t);u21=9;break;case 2:var N0q="s";N0q+="avet";N0q+="o";N0q+="disk";var O0q="me";O0q+="diac";O0q+="ach";O0q+="est";O0q+="ats";t={type:O0q,operation:p};N0q === p && (t.saveTime=r.Mdb);u21=5;break;}}};H11=14;break;case 20:n.prototype.k4b=function(p){var b31,r;b31=2;for(;b31 !== 4;){switch(b31){case 2:var q0q="me";q0q+="di";q0q+="acache-error";var T0q="m";T0q+="ed";T0q+="iacache";r=new k.Fg();r.on(this.Sp,T0q,function(t){var c31;c31=2;for(;c31 !== 4;){switch(c31){case 2:c31=t.keys || t.items?1:5;break;case 7:p.emit("",t);c31=6;break;c31=4;break;case 9:c31=t.keys && t.items?4:6;break;c31=t.keys || t.items?1:5;break;case 1:t.keys || t.items.map(function(w){var d31;d31=2;for(;d31 !== 1;){switch(d31){case 2:return w.key;break;case 4:return w.key;break;d31=1;break;}}});c31=5;break;case 5:var B0q="m";B0q+="edi";B0q+="a";B0q+="cache";p.emit(B0q,t);c31=4;break;}}});r.on(this.Sp,q0q,function(t){var e31;e31=2;for(;e31 !== 5;){switch(e31){case 2:var t0q="m";t0q+="e";t0q+="diacache";var h0q="e";h0q+="r";h0q+="r";h0q+="o";h0q+="r";t.type=h0q;p.emit(t0q,t);e31=5;break;}}});b31=4;break;}}};return n;break;}}function n(p,r,t){var I11;I11=2;for(;I11 !== 12;){switch(I11){case 2:var d0q="m";d0q+="e";d0q+="dia";d0q+="|";d0q+="asejs";var K0q="MED";K0q+="IAC";K0q+="AC";K0q+="HE";this.J=new r.Console(K0q,d0q);this.ena=(p.XCa || p.YCa) && 0 < (p.gY || (r.options || ({})).PQ || 0);this.Bsb=p.nIb?p.nIb:!1;I11=4;break;case 4:this.FI=p.Xwa?p.Xwa:!1;this.Rtb=p.l9a?p.l9a:!1;this.K=p;I11=8;break;case 8:var Q0q="1S";Q0q+="I";Q0q+="YbZ";Q0q+="rNJCp9";var p0q="Media ca";p0q+="che has not b";p0q+="een initiaiz";p0q+="ed";this.Wp=r;this.Gf=t;this.mv=Promise.reject(p0q);this.mv.catch(function(){});Q0q;I11=12;break;}}}})();b.WKa=a;q.Xe(k.EventEmitter,a);},function(q,b,a){var c,k,g,f,d;c=a(10);g=[];d=!1;q.exports={qQ:function(h,m,l){var n;if(d)c.yd(l) && (k.xw || k.sK?setTimeout(function(){l(k);},0):g.push(l));else {d=!0;n=a(134);n.SZ(h);f=new n.Console("MEDIACACHE","media|asejs");k=new (a(467))(m,function(p){p && f.warn("Failed to initialize MediaCache",p);c.yd(l) && setTimeout(function(){l(k);},0);g.map(function(r){setTimeout(function(){r(k);},0);});});}return k;},ngc:function(h,m){k=new (a(467))(h,function(l,n){l && f.warn("Failed to initialize MediaCache",l);c.yd(m) && setTimeout(function(){m(n);},0);});}};},function(q,b,a){var k,g,f,d,h;function c(m){this.ht=m;this.context=m.context;this.w$a="NULLCONTEXT" === m.context?!0:!1;}k=a(10);g=a(134);f=new g.Console("DISKCACHE","media|asejs");d={context:"NULLCONTEXT",read:function(m,l,n,p,r){r("MediaCache is not supported");},remove:function(m,l,n){n("MediaCache is not supported");},create:function(m,l,n,p){p("MediaCache is not supported");},append:function(m,l,n,p){p("MediaCache is not supported");},query:function(m,l,n){n([]);}};c.prototype.ZI=function(){var m,l,n;m=Array.prototype.slice.call(arguments);l=m[0];n=m[m.length - 1];m=m.slice(1,m.length - 1);m.push(function(p){n(null,p);});try{if(this.w$a)throw Error("Media Cache not supported");l.apply(this.ht,m);}catch(p){n(p);}};c.prototype.query=function(m,l,n,p){try{if(this.w$a)throw Error("Media Cache not supported");this.ht.query(m,l,function(r){n(null,r);},p);}catch(r){n(r);}};c.prototype.read=function(m,l,n,p,r){this.ZI(this.ht.read,m,l,n,p,r);};c.prototype.remove=function(m,l,n){this.ZI(this.ht.remove,m,l,n);};c.prototype.create=function(m,l,n,p){this.ZI(this.ht.create,m,l,n,p);};c.prototype.append=function(m,l,n,p){this.ZI(this.ht.append,m,l,n,p);};c.prototype.info=function(m){this.ZI(this.ht.info,m);};c.prototype.validate=function(m){this.ZI(this.ht.validate,m);};c.prototype.flush=function(m){this.ZI(this.ht.flush,m);};c.prototype.clear=function(){this.ht.clear();};q.exports={KEb:function(m){var l,n,p,r,t;l=m.Kfc || "NRDMEDIADISKCACHE";h=m.gY || 0;0 !== h || k.ta(g.options) || k.ta(g.options.PQ) || (h=g.options.PQ);m=h;try{p=g.storage.eHb;if(!p || !k.fk(p))throw (f.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store");if(n=p[l]){f.warn("Disk store exists, returning");r=new c(n);}else {if(k.ta(g.storage) || !k.yd(g.storage.bZa) || g.options && 0 === g.options.PQ)throw (f.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts");f.warn("Disk store context doesn't exist, creating with size " + m);t=g.storage.bZa({context:l,size:m,encrypted:!0,signed:!0});if(!t || !t.valid)throw "Failed to create disk store context";r=new c(t);}}catch(w){f.warn("Exception creating disk store context - returning NullContext (noops)",w);r=new c(d);}return r;},aMb:function(){return h;},Aac:c};},function(q,b,a){var h,m,l,n,p,r,t,w,v;function c(){}function k(u,x,y,z,A){var B;B=h.yd(z)?z:c;this.ly=u;this.$g=y.Fv;this.UA=0;this.Hsb=y.ZIb || "NONE";this.FA=h.ta(A) || h.Gb(A)?0:A;this.af={};this.jv=y.Khc || m.storage.rU;this.cy=x;this.nO=p.create(this.cy,y.LFb * this.FA,this.ly);this.on=this.addEventListener=v.addEventListener;this.removeEventListener=v.removeEventListener;this.emit=this.mb=v.mb;this.TSa=f(this,k.tf.REPLACE);this.itb=f(this,k.tf.ARa);this.SI;this.SI=y.pib?a(1065):a(1066);this.cy.query(this.jv,this.As(""),(function(D,C){var F;if(D)B(D);else {F=this.nO.$sa();D=Object.keys(C).filter(function(G){return G !== F && r.xQ(G);}).map(this.yCa.bind(this));this.zea(D,(function(G,E){Object.keys(E).map((function(I){var K,L;K=E[I];this.af[r.G$(I)]=K;if(K.kAa && 1 < Object.keys(K.kAa).length){L=0;Object.keys(K.kAa).forEach((function(H){C[this.As(H)] && h.Oa(C[this.As(H)].size) && (L+=C[this.As(H)].size);}).bind(this));I=r.G$(I);this.af[I].size=L;}else (I=r.G$(I),C[this.As(I)] && (this.af[I].size=C[this.As(I)].size));}).bind(this));g(this.cy,this.jv,this.ly,(function(I,K){this.UA=K;I?B(I):B(null,this);}).bind(this));}).bind(this));}}).bind(this));}function g(u,x,y,z){var A;A=h.yd(z)?z:c;u.query(x,y,function(B,D){B?A(B):(B=Object.keys(D).reduce(function(C,F){return C + (D[F].size || 0);},0),A(null,B));});}function f(u,x){return function(y,z,A,B,D){return function(C,F){var G;if(C)(z || u.mb(k.tf.rg,{itemKey:y,error:C}),A(C));else {G={Ql:0,duration:0,items:[],time:m.time.now()};Object.keys(F.actions).map(function(E){var I;I=F.actions[E];E={key:u.yCa(I.Yba),$l:E};I.fa?(G.Ql+=I.Ql,E.Xba=I.Ql,h.Oa(I.duration) && (G.duration+=I.duration)):E.error=I.error;G.items.push(E);});C=h.yd(B)?B():0;0 < D && (G.cP=D - C);g(u.cy,u.jv,u.ly,function(E,I){E?A(E):(u.UA=I,G.Vo=u.$g - I,z || u.mb(x,w.x2a(G)),A(null,G));});}};};}function d(u,x){return 0 < x && u >= x?!0:!1;}h=a(10);m=a(134);l=a(282);b=a(91);n=new m.Console("MEDIACACHE","media|asejs");p=a(1061);r=a(468);t=a(135);w=a(283);v=a(469).EventEmitter;b({tf:{ARa:"writeitem",REPLACE:"replaceitem",Fia:"journalupdate",rg:"mediacache-error"}},k);k.prototype.fNb=function(){return this.ly;};k.prototype.yCa=function(u){return u.slice(this.ly.length + 1);};k.prototype.Tsa=function(){return Object.keys(this.af).filter((function(u){u=r.msa(this.af[u]);return void 0 === u || 0 >= u.CYa();}).bind(this));};k.prototype.pNb=function(){return Object.keys(this.af).reduce((function(u,x){var y;y=this.af[x];return y && y.creationTime < u.creationTime?{resourceKey:x,creationTime:y.creationTime}:u;}).bind(this),{resourceKey:null,creationTime:m.time.now()}).Ric;};k.prototype.lMb=function(){var u;switch(this.Hsb){case "FIFO":u=this.pNb();}return u;};k.prototype.zGb=function(u){var x;x=h.yd(u)?u:c;this.i3a((function(y){var z,A,B;z=this.af;A=Object.keys(z).reduce(function(D,C){C=z[C];C.resourceIndex && Object.keys(C.resourceIndex).forEach(function(F){D.push(F);});return D;},[]);if((y=y.filter(function(D){return !r.xQ(D) && 0 > A.indexOf(D);})) && 0 < y.length){B=this;y=m.Promise.all(y.map(function(D){return new m.Promise(function(C,F){B.delete(D,function(G){G?F(G):C();});});})).then(function(){x(void 0,{Jza:!0});},function(D){x(D,{Jza:!1});});w.vz(y);}else u(void 0,{Jza:!1});}).bind(this));};k.prototype.r0b=function(u,x,y){var z,A;z=h.yd(x)?x:c;x=this.As(u);A=m.time.now();this.cy.read(this.jv,x,0,-1,(function(B,D){var C;if(B)z(B);else if(D && D.fa && D.value){h.yd(y) || (y=this.SI.cZ(t.Ys.DH),r.xQ(u)?y=this.SI.cZ(t.Ys.T5):(B=this.af[u],!h.ta(B) && h.Oa(B.resourceIndex[u])?(B=B.resourceIndex[u],h.ta(B) && (B=t.Ys.DH),y=this.SI.cZ(B)):n.warn("Metadata is undefined or does not contain a resource format for key",u,":",B)));try{C=y(D.value);}catch(F){return z(l.cN.Ts(F.message));}D={duration:m.time.now() - A};this.af[u] && h.Oa(this.af[u].size) && (D.hB=h.Oa(this.af[u].size)?this.af[u].size:0);z(null,C,D);}else z(l.cN.Ts(D.error));}).bind(this));};k.prototype.read=function(u,x,y){this.r0b(u,x,y);};k.prototype.zea=function(u,x,y){var z,A,B;z=h.yd(x)?x:c;if("[object Array]" !== Object.prototype.toString.call(u))z(l.cN.Ts("item keys must be an array"));else {A={};B=[];u=m.Promise.all(u.map((function(D){return new m.Promise((function(C,F){var G;y && !h.ta(y[D]) && (G=this.SI.cZ(y[D]));this.read(D,function(E,I,K){E?(I={},I[D]=E,F(I)):(A[D]=I,B.push({duration:K.duration,hB:K.hB}),C());},G);}).bind(this));}).bind(this))).then(function(){var D;D={};0 < B.length && (D=B.reduce(function(C,F){h.Oa(F.duration) && (C.duration+=F.duration);h.Oa(F.hB) && (C.hB+=F.hB);return C;},{duration:0,hB:0}));z(null,A,D);},function(D){z(D);});w.vz(u);}};k.prototype.write=function(u,x,y,z,A){var B,D,C;y=h.yd(y)?y:c;B=this.As(u);D="function" === typeof A?A():0;C=t.eQ(x);C=this.SI.Cta(C)(x);C.byteLength + this.UA >= this.$g?y(l.wM):d(C.byteLength + D,this.FA)?y(l.L6):this.nO.save(this.jv,B,x,this.itb(u,z,y,A,this.FA),C.byteLength);};k.prototype.replace=function(u,x,y,z,A){var B,D,C,F;B=h.yd(y)?y:c;D=this.As(u);C=0;"function" === typeof A && (C=A());y=t.eQ(x);F=this.SI.Cta(y)(x);y=(this.af[u] || ({})).size || 0;0 >= y && this.af[u]?this.K3a([u],(function(G){n.trace("Replacing key",u,"which exists:",! !this.af[u],this.af[u]?this.af[u]:void 0,"and has size",G,"with",x,"with size",F.byteLength,"plus _used",this.UA,"vs capacity",this.$g);F.byteLength - G + this.UA >= this.$g?B(l.wM):d(F.byteLength - G + C,this.FA)?B(l.L6):this.nO.replace(this.jv,D,x,this.TSa(u,z,B,A,this.FA),F.byteLength);}).bind(this)):(n.trace("Replacing key",u,"which exists:",! !this.af[u],this.af[u]?this.af[u]:void 0,"and has size",y,"with",x,"with size",F.byteLength,"plus _used",this.UA,"vs capacity",this.$g),F.byteLength - y + this.UA >= this.$g?B(l.wM):d(F.byteLength - y + C,this.FA)?B(l.L6):this.nO.replace(this.jv,D,x,this.TSa(u,z,B,A,this.FA),F.byteLength));};k.prototype.B1b=function(u,x,y,z){var A;A=h.yd(x)?x:c;"[object Object]" !== Object.prototype.toString.call(u)?A(l.K6.Ts("items must be a map of keys to objects")):(x=m.Promise.all(Object.keys(u).map((function(B){return new m.Promise((function(D){this.replace(B,u[B],function(C,F){C?D({error:C,Js:B}):D(F);},!0,z);}).bind(this));}).bind(this))).then((function(B){var D,C,F,G;try{D=Number.MAX_VALUE;C=B.reduce(function(E,I){I.error || (E.Ql+=I.Ql,h.Oa(I.duration) && (E.duration+=I.duration),!h.ta(I.Vo) && I.Vo < D && (D=I.Vo),I.items.map(function(K){E.items.push({key:K.key,$l:K.$l,Xba:K.Xba,QTb:K.QTb,duration:K.duration});}),D < Number.MAX_VALUE && (E.Vo=D));return E;},{Ql:0,items:[],time:m.time.now(),duration:0});0 < this.FA && (C.cP=this.FA - z());F=B.filter(function(E){return !h.ta(E.error);});G=w.A4a(F);y || (G?G.forEach((function(E){this.mb(k.tf.rg,E);}).bind(this)):this.mb(k.tf.REPLACE,w.x2a(C)));A(G,C);}catch(E){A(E);}}).bind(this),(function(B){y || this.mb(k.tf.rg,B);A(B);}).bind(this)),w.vz(x));};k.prototype.delete=function(u,x){var y;y=h.yd(x)?x:c;this.cy.remove(this.jv,this.As(u),(function(z,A){z?y(z):A && A.fa?g(this.cy,this.jv,this.As(""),(function(B,D){B?y(B):(this.UA=D,y());}).bind(this)):y(l.Blb.Ts(A.error));}).bind(this));};k.prototype.i3a=function(u){this.query("",function(x,y){x?(n.error("Failed to get keys",x),u([])):u(y);});};k.prototype.query=function(u,x){var y,z;y=h.yd(x)?x:c;z=this.nO.$sa();this.cy.query(this.jv,this.As(u),(function(A,B){A?y(A):y(null,Object.keys(B).filter(function(D){return D !== z;}).map(this.yCa.bind(this)));}).bind(this));};k.prototype.As=function(u){return this.ly + "." + u;};k.prototype.clear=function(u){var x;x=h.yd(u)?u:c;this.i3a((function(y){var z;z=m.Promise.all(y.map((function(A){return new m.Promise((function(B){A && this.delete(A,function(){B();});}).bind(this));}).bind(this))).then(function(){x(y);},(function(A){this.mb(k.tf.rg,A);x([],A);}).bind(this));w.vz(z);}).bind(this));};k.prototype.K3a=function(u,x){var y,z;y=h.yd(x)?x:c;z=(u || []).map((function(A){return this.As(A);}).bind(this));this.cy.query(this.jv,this.ly,(function(A,B){A?(n.error("failed to get persisted size for keyset ",u,A),y(0)):(A=Object.keys(B).filter(function(D){return 0 <= z.indexOf(D);}).reduce(function(D,C){return D + (B[C].size || 0);},0),y(A));}).bind(this));};k.prototype.CLb=function(u){return this.nO.n2a(u);};k.prototype.constructor=k;q.exports=k;},function(q,b,a){var k,g,f,d,h,m,l,n;function c(p,r,t){var A,B;function w(D,C,F,G){D.info.call(D,(function(E,I){var K;if(E)G(E);else {try{K=I.values[this.context].entries[C][F].size;}catch(L){K=-1;}-1 < K?G(null,K):this.validate(function(L,H){L?G(L):(H[F] && (K=H[F].size),G(null,K));});}}).bind(D));}function v(D,C,F,G,E,I,K){var L;I?I.actions || (I.actions={}):I={actions:{}};A(G);L=g.time.now();G=new l(function(H,P){D.create(g.storage.rU,C,F,function(N,J){N?P(N):H(J);});}).then(function(H){H.fa?w(D,g.storage.rU,C,function(P,N){P?K(P):(B(N),A(N),I.actions[c.U3.Fia]={fa:!0,time:E,Ql:N,Yba:C,jcb:H,duration:g.time.now() - L},I.Vo=H.Vo,K(null,I));}):(I.actions[c.U3.Fia]={fa:!1,Yba:C,error:H.error},K(null,I));},function(H){K(H);});h.vz(G);}function u(D,C,F,G,E,I){G.qs(F.time,F);for(var K=F.time - 864E5,L=G.nz();L && !isNaN(L.time) && L.time < K;){L=G.gP();A(0 - (L.ga || 0));L=G.nz();}G=G.kr().map(function(H){return H.time + ";" + H.ga;});v(D,C,Array.prototype.join.call(G,"|"),F.ga,F.time,E,I);}function x(D,C,F,G,E,I,K,L,H){var P;P=g.time.now();D.create(F,G,E,function(N,J){var M;if(N)m.error("Failed to replace item",G,N);else if(J.fa){M=J.Vo;w(D,F,G,function(O,Q){var T,V;if(O)H(O);else {O={time:L,ga:Q || 0};T={Vo:M,actions:{}};V=g.time.now() - P;T.actions[c.U3.REPLACE]={fa:!0,time:L,Ql:Q,Yba:G,jcb:J,duration:V};I?u(D,C,O,K,T,H):(A(Q),H(null,T));}});}else H(f.K6.Ts(J.error || "Failed to create item"));});}function y(D,C,F,G,E,I,K,L,H){var P;P=g.time.now();D.append(F,G,E,function(N,J){var M;if(N)(m.error("Failed to save item " + G,N),H(N));else if(J.fa){M=J.Vo;w(D,F,G,function(O,Q){var T,V;if(O)H(O);else {O={time:L,ga:Q || 0};T={Vo:M,actions:{}};V=g.time.now() - P;T.actions[c.U3.iqb]={fa:!0,time:L,Ql:Q,Yba:G,jcb:J,duration:V};I?u(D,C,O,K,T,H):(A(Q),H(null,T));}});}else H(f.K6.Ts(J.error || "Failed to save item"));});}function z(D,C){D && k.yd(D.remove) && D.ht.valid && D.remove(g.storage.rU,C.RN,function(F,G){if(F)m.error("Failed to delete old journal key",F);else try{G && (k.ta(G.error) || G.error.some(function(E){return "NFErr_FileNotFound" === E.agc;})) && u(D,C.RN,{time:0,ga:0},C.WV,0,function(){});}catch(E){}});}if(!p.ht.valid)return n;this.lSa=k.ta(r) || k.Gb(r)?0:r;this.Ala=p;this.gma=this.cV=0;this.WV=new d();this.fvb=t || "default";this.RN=this.fvb + ".NRDCACHEJOURNALKEY";A=(function(D){isNaN(D) || (this.cV+=D);return this.cV;}).bind(this);B=(function(D){isNaN(D) || (this.gma+=D);return this.gma;}).bind(this);this.$sa=function(){return this.RN;};this.save=function(D,C,F,G){var E;E=g.time.now();y(this.Ala,this.RN,D,C,F,0 <= this.lSa,this.WV,E,G);};this.replace=function(D,C,F,G){var E;E=g.time.now();x(this.Ala,this.RN,D,C,F,0 <= this.lSa,this.WV,E,G);};this.n2a=function(D){var C,E;C=this.cV;D-=864E5;for(var F=this.WV.kr(),G=0;G < F.length;G++){E=F[G];E.time < D && !isNaN(E.ga) && (C-=E.ga);}return C;};(function(D){var C;C=D.Ala;D.cV=0;C.read(g.storage.rU,D.RN,0,-1,function(F,G){var E,I,K,H;E=[];I=0;K=!0;if(F)m.error("Failed to compile records",F);else if(G.fa){F=String.fromCharCode.apply(null,new Uint8Array(G.value));F=String.prototype.split.call(F,"|");G=F.reduce(function(P,N){return P + (N.length + 40);},0);A(G);E=F.map(function(P){P=P.split(";");return {time:Number(P[0]),ga:Number(P[1])};});try{if(!isNaN(E.reduce(function(P,N){return P + N.ga;},0))){K=!1;for(var L=g.time.now() - 864E5;I < E.length;I++){H=E[I];H.time < L || (D.WV.qs(H.time,H),A(H.ga));}}}catch(P){}}K && z(C,D);});})(this);}k=a(10);g=a(134);f=a(282);d=a(1062);b=a(91);h=a(283);m=new g.Console("DISKWRITEMANAGER","media|asejs");l=g.Promise;b({U3:{iqb:"saveitem",REPLACE:"replaceitem",Fia:"journalupdate"}},c);n={save:function(p,r,t,w){w(f.tKa);},replace:function(p,r,t,w){w(f.tKa);},$sa:function(){return "";},n2a:function(){return 0;}};c.prototype.constructor=c;q.exports={create:function(p,r,t){return new c(p,r,t);},wcc:n};},function(q){function b(k){if(!(this instanceof b))return new b(k);if("undefined" === typeof k)this.zo=function(g,f){return g <= f;};else {if("function" !== typeof k)throw Error("heap comparator must be a function");this.zo=k;}this.Hr=[];}function a(k,g){var f,d,h,m,l,n,p;f=k.Hr;d=k.zo;h=2 * g + 1;m=2 * g + 2;l=f[g];n=f[h];p=f[m];n && d(n.priority,l.priority) && (!p || d(n.priority,p.priority))?(c(f,g,h),a(k,h,d)):p && d(p.priority,l.priority) && (c(f,g,m),a(k,m,d));}function c(k,g,f){var d;d=k[g];k[g]=k[f];k[f]=d;}b.prototype.clear=function(){this.Hr=[];};b.prototype.qs=function(k,g){this.Hr.push({priority:k,value:g});k=this.Hr;g=this.zo;for(var f=k.length - 1,d=0 === f?null:Math.floor((f - 1) / 2);null !== d && g(k[f].priority,k[d].priority);){c(k,f,d);f=d;d=0 === f?null:Math.floor((f - 1) / 2);}};b.prototype.remove=function(){var k;if(0 !== this.Hr.length){k=this.Hr[0];c(this.Hr,0,this.Hr.length - 1);this.Hr.pop();a(this,0);return k.value;}};b.prototype.nz=function(){if(0 !== this.Hr.length)return this.Hr[0].value;};b.prototype.enqueue=b.prototype.qs;b.prototype.gP=b.prototype.remove;b.prototype.Jba=function(){return 0 === this.Hr.length;};b.prototype.kr=function(){return this.Hr.map(function(k){return k.value;});};q.exports=b;},function(q){function b(c,k){var g;if(void 0 === k || "function" !== typeof k || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Sd)return (this.Sd={},this.Sd[c]=[k],!0);g=this.Sd[c];return void 0 === g?(this.Sd[c]=[k],!0):0 > g.indexOf(k)?(g.push(k),!0):!1;}function a(c,k){c=this.Sd?this.Sd[c]:void 0;if(!c)return !1;c.forEach(function(g){g(k);});return !0;}q.exports={addEventListener:b,on:b,removeEventListener:function(c,k){var g;if(void 0 === k || "function" !== typeof k || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Sd)return !1;g=this.Sd[c];if(void 0 === g)return !1;k=g.indexOf(k);if(0 > k)return !1;if(1 === g.length)return (delete this.Sd[c],!0);g.splice(k,1);return !0;},mb:a,emit:a,removeAllListeners:function(c){this.Sd && (void 0 === c?delete this.Sd:delete this.Sd[c]);return this;}};},function(q){function b(c,k,g,f){c.trace(":",g,":",f);k(f);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,k,g,f){g=f?g.bind(f):g;f=!1;if(c){this.console && (g=b.bind(null,this.console,g,k));if("function" === typeof c.addEventListener)f=c.addEventListener(k,g);else if("function" === typeof c.addListener)f=c.addListener(k,g);else throw Error("Emitter does not have a function to add listeners for '" + k + "'");this.listeners.push([c,k,g]);}return f;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(k){var g,f;g=k[0];f=k[1];k=k[2];"function" === typeof g.removeEventListener?g.removeEventListener(f,k):"function" === typeof g.removeListener && g.removeListener(f,k);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};q.exports=a;},function(q,b,a){var c,k,g,f;c=a(10);k=a(135);g={};g[k.Ys.DH]=function(d){return d;};g[k.Ys.t6]=function(d){d=d || new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(d));};g[k.Ys.T5]=function(d){var h;h=d || new ArrayBuffer(0);d="";h=new Uint8Array(h);for(var m=0;m < h.byteLength;m++){d+=String.fromCharCode(h[m]);}return JSON.parse(d);};f={};f[k.Ys.DH]=function(d){return d;};f[k.Ys.t6]=function(d){for(var h=new ArrayBuffer(d.length),m=new Uint8Array(h),l=0,n=d.length;l < n;l++){m[l]=d.charCodeAt(l);}return h;};f[k.Ys.T5]=function(d){return c.ta(d) || c.Gb(d)?d:f[k.Ys.t6](JSON.stringify(d));};q.exports={cZ:function(d){return g[d] || g[k.Ys.DH];},Cta:function(d){return f[d] || f[k.Ys.DH];}};},function(q,b,a){function c(g){return g;}function k(){return c;}a(10);q.exports={cZ:k,Cta:k};},function(q,b,a){var g;function c(f,d){return f.length > d.length?1:d.length > f.length?-1:0;}function k(f,d){var h,m,l;h=[];if(g.fk(d)){m={};l={};l[f]=m;h.push(l);h=Object.keys(d).reduce(function(n,p){var r,t,w;r=d[p];t={};if(g.Eba(r)){w=f + ".__embed__." + p;t[w]=r;n.push(t);}else g.fk(r)?(w=f + ".__sub__." + p,r=k(w,r),m[p]=r[0][w],n=n.concat(r.slice(1))):m[p]=r;return n;},h);}else (l={},l[f]=d,h.push(l));return h;}g=a(135);q.exports={dHb:k,YQb:function(f){var d,h,m,w;d=Object.keys(f).map(function(v){return v.split(".");});d.sort(c);h=d[0];m=h.length;h=f[h.join(".")];for(var l=1;l < d.length;l++){for(var n=!1,p=!1,r=h,t=m;t < d[l].length;t++){w=d[l][t];switch(w){case "__metadata__":break;case "__sub__":p=!0;break;case "__embed__":n=!0;break;default:p?(r=r[w],p=!1):n && (r[w]=f[d[l].join(".")],n=!1);}}}return h;},CRb:function(f){return f && (0 <= f.indexOf("__sub__") || 0 <= f.indexOf("__embed__"));}};},function(q,b,a){var f,d;function c(h,m,l){Object.keys(h).forEach(function(n){var p,r;if(f.fk(h[n]))if(h[n].Eba){p=h[n];r=l + p.offset;h[n]=m.slice(r,r + p.byteLength);}else h[n]=c(h[n],m,l);});return h;}function k(h,m,l){Object.keys(h).forEach(function(n){var p;if(f.Eba(h[n])){p=h[n];m.push(p);h[n]={Eba:!0,offset:l.hqa,byteLength:p.byteLength};l.hqa+=p.byteLength;}else f.fk(h[n]) && k(h[n],m,l);});return h;}function g(){var h,m,l;h=Array.prototype.concat.apply([],arguments);m=h.reduce(function(n,p){return n + p.byteLength;},0);l=new Uint8Array(m);h.reduce(function(n,p){l.set(new Uint8Array(p),n);return n + p.byteLength;},0);return l.buffer;}f=a(135);d=a(91);q.exports={NCb:function(h){var m,l,n;m=d(h,{});h=[];m=k(m,h,{hqa:0});m=JSON.stringify(m);l=new ArrayBuffer(m.length + 4);n=new DataView(l);n.setUint32(0,m.length);for(var p=4,r=0,t=m.length;r < t;r++){n.setUint8(p,m.charCodeAt(r));p++;}h=[l].concat(h);return g.apply(null,h);},MCb:function(h){for(var m=new DataView(h,0,4).getInt32(0),l=new Uint8Array(h,4,m),n="",p=0;p < l.byteLength;p++){n+=String.fromCharCode(l[p]);}m=4 + m;n=JSON.parse(n);return c(n,h,m);}};},function(q,b,a){var k,g,f,d,h;function c(m){return {mediaType:m.mediaType,streamId:m.Za,movieId:m.L,bitrate:m.bitrate,location:m.location,serverId:m.Pe,saveToDisk:!0,offset:m.offset,bytes:m.ga,timescale:m.I,frameDuration:m.stream.$ && m.stream.$.qa,encrypted:m.Ej,initSegments:1 < m.Yf.length?m.Yf.map(function(l){return {fi:l.Dd,s:l.data.byteLength,e:! !l.Ej};}):void 0};}Object.defineProperties(b,{__esModule:{value:!0}});b.fva=b.gva=b.q6a=b.A3a=b.W2a=b.Z2a=b.hta=b.lta=b.kta=b.tsa=b.usa=b.sKa=void 0;k=a(1).__importStar(a(10));g=a(1070);f=a(445);d=a(8);h=a(21);b.sKa={wKa:"movieEntry",Tmb:"header",$ia:"metadata",rnb:"headerData",Dbc:"headerMetadata",Mmb:"sizes",Lmb:"durations",CHa:"fragments",iob:"response",Xs:"billboard",SH:{lifespan:259200}};b.usa=function(m,l,n){var p,r;p=l.headerData;n && l.sizes instanceof ArrayBuffer && l.durations instanceof ArrayBuffer && (r={Fk:n.startTicks,offset:n.offset,I:n.timescale,sizes:new Uint32Array(l.sizes),ed:new Uint32Array(l.durations)});return {Qc:!0,mediaType:m.mediaType,L:m.movieId,Za:m.streamId,bitrate:m.bitrate,location:m.location,Pe:m.serverId,ga:m.bytes,offset:m.offset,gua:p,sba:m.initSegments,Ej:m.encrypted,I:m.timescale,$:m.frameDuration,Ri:m.saveToDisk,Z:r};};b.tsa=function(m,l){var n,p,r;l=l.response;n=m.startTicks;p=m.durationTicks;void 0 !== n && void 0 !== p && (r=n + p);return {Qc:!1,mediaType:m.mediaType,L:m.movieId,Za:m.streamId,bitrate:m.bitrate,location:m.location,Pe:m.serverId,ga:m.bytes,offset:m.offset,response:l,I:m.timescale,bb:m.startTicks,Tv:p,Ri:m.saveToDisk,wb:r};};b.kta=function(m){return {priority:m.priority,L:m.movieId,headers:{},iQ:0,JX:0,a5a:0,Ri:m.saveToDisk,kc:m.stats,Jy:m.firstSelectedStreamBitrate,ZB:m.initSelectionReason,GF:m.histDiscountedThroughputValue,Eq:m.histTdigest,Dq:m.histAge,aq:void 0};};b.lta=function(m,l,n,p,r){var t,w;t={headers:{},data:{}};p.forEach(function(v){var u,x,A;u=v.mediaType;u=r && r.Qy(u,v.Za);x=[];if(v.Qc)if(!Array.isArray(v.sba) || 2 > v.sba.length)x.push({Dd:0,data:v.gua});else for(var y=0,z=0;z < v.sba.length;++z){A=v.sba[z];x.push({Dd:A.fi,data:v.gua.slice(y,y + A.s),Ej:A.e});y+=A.s;}u?(v.Z && u.Fda(x,v.I,v.$?new h.O(v.$,v.I):void 0,v.Z),v.Qc && u && u.Ie?(void 0 === t.headers && (t.headers={}),t.headers[v.Za]=new f.g4(u,{ga:v.ga,offset:v.offset,Yf:x,Ej:v.Ej},l)):v.response instanceof ArrayBuffer && void 0 !== u.Z && void 0 !== v.bb && void 0 !== v.I && void 0 !== v.wb && (x=u.Z.M$(new h.O(v.bb,v.I).V),void 0 !== x && (u=new g.RDa(u,{I:v.I,bb:v.bb,wb:v.wb,index:x.index,offset:v.offset,ga:v.ga},v.response,n,m,l),void 0 === t.data && (t.data={}),t.data[v.Za] || (t.data[v.Za]=[]),t.data[v.Za].push(u)))):l.warn("Failed to load data from disk because the AseStream was missing from the stream map streamId: " + v.Za + " movieId: " + v.L);});if(!k.ta(t.data)){w=t.data;Object.keys(w).forEach(function(v){w[v].sort(function(u,x){return u.bb - x.bb;});});}return t;};b.hta=function(m){return {mediaType:m.mediaType,streamId:m.Za,movieId:m.L,bitrate:m.bitrate,location:m.location,serverId:m.Pe,saveToDisk:!0,offset:m.offset,bytes:m.ga,timescale:m.I,startTicks:m.bb,durationTicks:m.Tv};};b.Z2a=c;b.W2a=function(m){var l,n,p,r;l=c(m);if(m.stream.Ie && m.stream && m.stream.Z){n={timescale:m.stream.Z.I,startTicks:m.stream.Z.Fk,offset:m.stream.Z.Pc(0)};p=m.stream.Z.Gz;r=p.sizes.buffer;p=p.ed.buffer;}return {mediaType:l.mediaType,streamId:l.streamId,movieId:l.movieId,bitrate:l.bitrate,location:l.location,serverId:l.serverId,saveToDisk:!0,offset:l.offset,bytes:l.bytes,timescale:l.timescale,frameDuration:l.frameDuration,headerData:d.Jv(m.Yf.map(function(t){return t.data;})),initSegments:l.initSegments,encrypted:m.Ej,fragments:n,sizes:r,durations:p};};b.A3a=function(m){return {priority:m.priority,movieId:m.L,saveToDisk:m.Ri,firstSelectedStreamBitrate:m.Jy,initSelectionReason:m.ZB,histDiscountedThroughputValue:m.GF,histTdigest:m.Eq,histAge:m.Dq};};b.q6a=function(m){return !k.has(m,"startTicks");};b.gva=function(m){return !m.gua || !m.I || !m.Z || void 0 === m.Z.Fk || void 0 === m.Z.offset || void 0 === m.Z.ed || !m.Z.ed.length || void 0 === m.Z.sizes || !m.Z.sizes.length;};b.fva=function(m){return void 0 === m.ga || void 0 === m.offset || void 0 === m.I || void 0 === m.bb || void 0 === m.Tv;};},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.RDa=void 0;c=a(1);k=a(8);q=a(39);g=a(90);a=(function(f){function d(h,m,l,n,p,r){n=f.call(this,h,m,n,p,r) || this;m.ga=l.byteLength;g.gn.xa(n,h,m);n.bO=l;n.Orb=m.ga;return n;}c.__extends(d,f);Object.defineProperties(d.prototype,{Qc:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Aw:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{$f:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{status:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{nk:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Zh:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{active:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{complete:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{response:{get:function(){return this.bO;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{DTb:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{readyState:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{url:{get:function(){return "disk://";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{aborted:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{GP:{get:function(){return "";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Gza:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bytesReceived:{get:function(){return this.Orb;},enumerable:!1,configurable:!0}});d.prototype.Vt=function(){return !0;};d.prototype.hJ=function(h){this.cf=h.appendBuffer(this.response,k.az(this));return {fa:this.cf};};d.prototype.ij=function(){return -1;};d.prototype.abort=function(){return !0;};d.prototype.sd=function(){};d.prototype.Mfa=function(){return !1;};return d;})(a(191).vH);b.RDa=a;q.Xe(g.gn,a);},function(q,b,a){var c,k,g,f,d,h,m,l,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.OPa=void 0;c=a(1);q=a(13);k=a(47);g=c.__importDefault(a(5));f=a(17);d=a(284);h=a(8);m=a(4);l=a(1158);n=a(242);p=new g.default.Console("ASEJS","media|asejs");p.trace.bind(p);q=(function(r){var f31;f31=2;for(;f31 !== 17;){switch(f31){case 2:c.__extends(t,r);Object.defineProperties(t.prototype,{jc:{get:function(){var h31;h31=2;for(;h31 !== 1;){switch(h31){case 2:return this.Ra.jc;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{fp:{get:function(){var i31;i31=2;for(;i31 !== 1;){switch(i31){case 2:return this.Ra.fp;break;case 4:return this.Ra.fp;break;i31=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Ji:{get:function(){var j31;j31=2;for(;j31 !== 1;){switch(j31){case 2:return this.Ra.Ji;break;}}},enumerable:!1,configurable:!0}});f31=3;break;case 3:t.prototype.xa=function(w,v,u,x,y,z,A,B){var k31;k31=2;for(;k31 !== 5;){switch(k31){case 2:this.Ra.TAa({audio:w,video:v,hoa:A,eDa:B},{V:x,ga:y});this.Ra.open(this.config,this.eH);k31=5;break;}}};t.prototype.s2=function(w,v,u){var l31;l31=2;for(;l31 !== 1;){switch(l31){case 2:this.Ra.TAa({total:w},{V:v,ga:u});l31=1;break;}}};t.prototype.createSession=function(w,v,u,x,y,z,A,B,D,C){var m31,G,F;m31=2;for(;m31 !== 19;){switch(m31){case 14:G=[this.wZ(F,G.la,u,D)];C[1] && G.push(this.wZ(F,C[1].la,u,D));m31=12;break;case 9:B.BB && this.Ra.QG(this.UC[D],{mp:y.mp,ja:y.ja,eF:y.eF});C=this.iFb(F,w,B.mbb,B,y,C || t.pGb,x);G=C[0];D=G.la.P[G.la.xe].ya;m31=14;break;case 12:var y0q="endPts is not suppor";y0q+="t";y0q+="ed";m.assert(void 0 === x.Ta,y0q);this.jca=new l.PPa(this.console,this,w,C,v,G,x,y,z,A,B);B.xt || B.VK || this.KE();m31=20;break;case 20:return this.jca;break;case 2:var L0q="c";L0q+="re";L0q+="a";L0q+="ti";L0q+="ng session";this.console.trace(L0q);this.Ra.jc.reset();F=Number(w.movieId);D=this.Paa(F,y.ja);this.UC[D]={Zoa:function(){},ja:y.ja,equals:function(E){var n31;n31=2;for(;n31 !== 1;){switch(n31){case 2:return E.M === F && (y.ja === E.ja || !E.ja || !y.ja);break;}}},Wv:!1,Qs:Promise.resolve({pa:w,Cj:! !x.Cj,jf:! !x.jf,Qd:f.Qca(! !x.KW,! !x.pH),config:B}),M:F};m31=9;break;}}};t.prototype.wZ=function(w,v,u,x){var o31;o31=2;for(;o31 !== 1;){switch(o31){case 2:var D0q="inv";D0q+="ali";D0q+="d";D0q+=" start position relative to pla";D0q+="ygraph";return v.P[v.xe].ya === x?(w=n.VO(v,w,h.O.Sa(u)),m.assert(w,D0q),w):{ea:v.xe,offset:h.O.ib};break;}}};f31=6;break;case 18:return t;break;case 6:t.prototype.Pz=function(w,v,u){var p31;p31=2;for(;p31 !== 1;){switch(p31){case 2:return c.__awaiter(this,void 0,void 0,function(){var q31,x,y,z,A;q31=2;for(;q31 !== 5;){switch(q31){case 2:return c.__generator(this,function(B){var r31,s31;r31=2;for(;r31 !== 3;){switch(r31){case 4:return (B.pc(),[2]);break;case 2:s31=B.label;r31=s31 === 0?1:9;break;case 5:return (A=B.pc(),this.UC[y]={Zoa:function(){},ja:u.ja,equals:function(D){var t31;t31=2;for(;t31 !== 1;){switch(t31){case 2:return D.M === w && (u.ja === D.ja || !D.ja || !u.ja);break;}}},Wv:!1,Qs:Promise.resolve({pa:v,Cj:A.Cj,jf:A.jf,Qd:A.Qd,config:A.config}),M:w},[4,this.Ra.Pz(this.UC[y])]);break;case 1:var E0q="Can not upda";E0q+="te vie";E0q+="wab";E0q+="le. Viewable not ";E0q+="found ";return (x=this.Wo.bind(this,u.ja),y=this.Paa(w,u.ja),z=x(w),m.assert(void 0 !== z,E0q + y),[4,z.Qs]);break;case 8:r31=s31 === 2?4:3;break;case 9:r31=s31 === 1?5:8;break;}}});break;}}});break;}}};t.prototype.iFb=function(w,v,u,x,y,z,A){var u31,B,D,C,F,G,E;u31=2;for(;u31 !== 7;){switch(u31){case 2:var u0q="v";u0q+="i";u0q+="d";u0q+="e";u0q+="o";var i0q="a";i0q+="u";i0q+="d";i0q+="i";i0q+="o";var r0q="a";r0q+="udi";r0q+="o";var w0q="v";w0q+="i";w0q+="d";w0q+="eo";var J0q="Generated play";J0q+="g";J0q+="raph from choicemap.";(B=this,D=v.choiceMap);D?(w=k.mB(D,{config:x}),this.console.trace(J0q)):w=k.UG(w,z,A.KW || A.pH?A.pH?[w0q]:[r0q]:[i0q,u0q]);(C=Object.create(x,{AB:{value:y.eF},uKb:{value:y.yO}}),F=this.Wo.bind(this,y.ja),G=[this.Ra.dJ(w,u,C,{Wo:F})]);u31=4;break;case 4:u31=D && D.EYb?3:8;break;case 9:Object.keys(E).forEach(function(I,K){var v31;v31=2;for(;v31 !== 9;){switch(v31){case 5:var X0q="Currently parallel graph can only";X0q+=" be media type [a";X0q+="udio]";var A0q="a";A0q+="u";A0q+="di";A0q+="o";m.assert(K.Qd && 1 === K.Qd.length && A0q === K.Qd[0],X0q);I=k.mB(D,c.__assign(c.__assign({},E[I]),{config:x}));G.push(B.Ra.dJ(I,u,C,{Wo:F}));v31=9;break;case 2:var W0q="Currently";W0q+=" only one parallel ";W0q+="graph is";W0q+=" suppor";W0q+="ted";a000.V59(23);m.assert(a000.Y59(0,K),W0q);K=E[I];v31=5;break;}}});u31=8;break;case 3:E=D.EYb;u31=9;break;case 8:return G;break;}}};t.prototype.RBb=function(){var w31;w31=2;for(;w31 !== 1;){switch(w31){case 2:this.jc.$R(null);w31=1;break;case 4:this.jc.$R(1);w31=6;break;w31=1;break;}}};t.prototype.Wo=function(w,v){var x31;x31=2;for(;x31 !== 1;){switch(x31){case 2:return this.UC[this.Paa(v,w)];break;case 4:return this.UC[this.Paa(v,w)];break;x31=1;break;}}};t.prototype.t1b=function(w){var y31,v,u;y31=2;for(;y31 !== 13;){switch(y31){case 2:this.RBb();(v=this.Paa(w.M,w.ja),u=this.UC[v]);u && (u.Wv=!0);y31=4;break;case 8:w.sk && this.Ra.DR(w.sk);w === this.jca && delete this.jca;this.Ra.Pza(this.UC[v]);delete this.UC[v];y31=13;break;case 4:this.Ra.bx(w.va);w.Na && this.Ra.DR(w.Na);w.qh && this.Ra.bx(w.qh);y31=8;break;}}};t.prototype.Rb=function(){var z31;z31=2;for(;z31 !== 9;){switch(z31){case 2:var o5q="Attempt to ";o5q+="destruct";o5q+=" ShimManager with latest session";o5q+=" still";o5q+=" defined";var m5q="At";m5q+="tempted to destruct ShimManager with sessio";m5q+="n config active";var P0q="Att";P0q+="em";P0q+="pted to destruc";P0q+="t S";P0q+="himManager with players present in ASE";var v0q="Attempted to destruct ShimManag";v0q+="er ";v0q+="with playgraphs present in A";v0q+="SE";m.assert(0 === this.Ra.tG.length,v0q);m.assert(0 === this.Ra.lbb.length,P0q);m.assert(0 === Object.keys(this.UC).length,m5q);m.assert(void 0 === this.jca,o5q);this.Ra.close();z31=9;break;}}};f31=20;break;case 20:var k5q="s";k5q+="0";t.prototype.Paa=function(w,v){var q5q=a000;var A31;A31=2;for(;A31 !== 1;){switch(A31){case 2:q5q.s59(8);return q5q.Y59(v,w,"-");break;case 4:q5q.V59(24);return q5q.Y59("",w,v);break;A31=1;break;}}};t.pGb=k5q;f31=18;break;}}function t(w,v,u,x){var g31,y;g31=2;for(;g31 !== 11;){switch(g31){case 2:y=r.call(this) || this;y.config=w;y.KE=v;g31=4;break;case 4:y.Rr=u;y.eH=x;y.UC={};w=a(470);g31=7;break;case 7:var U5q="DE";U5q+="BU";U5q+="G";U5q+=":";var I5q="nf-ase s";I5q+="him ";I5q+="version:";y.console=p;y.console.trace(I5q,w,U5q,!1);y.Ra=d.aK();g31=13;break;case 13:var e5q="1";e5q+="SIYbZr";e5q+="N";e5q+="J";e5q+="Cp9";e5q;return y;break;}}}})(q.EventEmitter);b.OPa=q;},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r,t,w,v,u,x,y,z,A,B,D,C,F,G,E,I,K,L,H,P,N,J,M,O;Object.defineProperties(b,{__esModule:{value:!0}});b.EDa=void 0;c=a(1);k=a(13);g=a(402);f=a(1073);d=a(259);h=a(1074);m=a(244);l=a(17);a(236);n=a(1075);p=a(466);r=a(25);t=a(4);w=a(190);v=a(1076);u=a(1077);x=a(1078);y=a(71);z=a(198);A=a(1079);B=a(70);D=a(285);C=a(8);F=c.__importDefault(a(5));G=a(1080);E=a(1081);I=a(1082);K=a(1083);L=a(56);H=a(400);P=a(473);N=a(1094);J=a(1095);M=a(1096);O=a(1148);q=(function(){function Q(T){this.J=T;this.events=new k.EventEmitter();this.cd=g.Bp.CLOSED;this.WA=[];this.v2=[];this.PV=[];this.Ir=[];this.YRa={};this.Y7={};this.UBa=g.kT.default;this.Cwb=new y.fv({Oq:this,source:"engine",zs:10,console:T});}Object.defineProperties(Q.prototype,{Uw:{get:function(){t.assert(this.NA);return this.NA;},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{state:{get:function(){return this.cd;},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{lbb:{get:function(){return this.PV;},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{tG:{get:function(){return this.Ir.map(function(T){return T.la;});},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{HZb:{get:function(){return this.Ir;},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{jc:{get:function(){this.aM();return this.pB.jc;},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{fp:{get:function(){this.aM();return this.pB.fp;},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{Ji:{get:function(){this.aM();return this.pB.Ji;},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{l9b:{get:function(){return this.WA.length;},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{bX:{get:function(){return this.YRa;},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{WWa:{get:function(){return this.Pp;},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{NL:{get:function(){return this.Y7;},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{pVb:{get:function(){return this.yTa || (this.yTa=this.wAb());},enumerable:!1,configurable:!0}});Q.prototype.open=function(T,V,da,pa){var xa;xa=this;if(this.cd === g.Bp.OPEN)return !1;this.K=T;this.Lu=new B.LU(new D.w6({ql:!0,currentTime:function(){return C.O.Sa(F.default.time.ma());},speed:1}),this.J,"Engine Scheduler");this.RSa=new h.THa(this.J,T);this.oE=new n.lPa(this.Wba.bind(this),T);T.nga && (this.Pp=new f.PEa(this.J,function(){return xa.bX;}));this.pB=m.yM.I3a(T,this.J,V);this.cd=g.Bp.OPEN;T=Object.create(T,{gyb:{value:T.VK || T.xt}});this.NA=P.rZ(T);da && this.NA.Geb(da);pa && this.NA.$Aa(pa);this.pbb=new N.vOa({Rl:function(){xa.cd !== g.Bp.CLOSED && xa.oE.Rl("playgraphOpportunity");}});this.zTa=new I.pLa(function(){return xa.Baa();},function(){return xa.Caa().global;},this.J);this.nFb();return !0;};Q.prototype.dJ=function(T,V,da,pa,xa){var ya,sa,X;ya=this;void 0 === xa && (xa=!0);this.aM();sa=Object.create(da,{eS:{value:this.NL}});if(xa && (da=this.Uw.IBb(T,sa)))return (da.bib(V),T=this.KG.bind(this,pa,da),da.S3b(T),da);X=M.H9(this.K,[T,V,sa,Q.sWb++,this.jc,function(){for(var S=[],R=0;R < arguments.length;R++){S[R]=arguments[R];}return ya.KG.apply(ya,c.__spread([pa,X],S));},function(S){return ya.oE.Rl(S);},xa?this.Uw.HBb.bind(this.Uw):function(){},this.Baa.bind(this),this.Pp]);X.eh(new u.dQa(X));X.eh(new x.zQa(X.np));X.$7a.eh(new K.cEa(X));this.QA.GR.forEach(function(S){return X.eh(S);});this.pbb.dJ(X);T=new k.Fg();T.on(X.events,"requestsPruned",this.W1b.bind(this));T.on(X.events,"weightUpdated",this.iya.bind(this));T.on(X.events,"underflow",this.pk.bind(this,X));this.Ir.push({la:X,Kh:T,D1:0});this.iya();return X;};Q.prototype.pk=function(T){T=this.zTa.HKb(T);(null === T || void 0 === T?0:T.a$) || this.Uw.reset();};Q.prototype.bx=function(T){this.pbb.bx(T);this.Ir=this.Ir.filter(function(V){return V.la === T?(V.Kh.clear(),!1):!0;});T.Rb();this.iya();};Q.prototype.mVa=function(T,V){var da,pa,xa;this.aM();xa=V.Qd;T=O.YO(this.K,[T,void 0 === xa?[0,1]:xa,c.__assign({eS:null !== (pa=null !== (da=V.eS) && void 0 !== da?da:this.Y7) && void 0 !== pa?pa:{}},V)]);this.PV.push(T);return T;};Q.prototype.DR=function(T){this.aM();this.PV=this.PV.filter(function(V){return V !== T;});T.Rb();};Q.prototype.TAa=function(T,V){this.YRa=T;this.Y7=V;this.yTa=void 0;};Q.prototype.QG=function(T,V){var da,pa;pa=null === (da=r.oe(this.WA,function(xa){return xa.vX.equals(T);})) || void 0 === da?void 0:da.R;pa?pa.QG(c.__assign(c.__assign({},V),{hp:this.Jxa.bind(this)})):this.v2.push({Oib:T,bfb:V});};Q.prototype.Pza=function(T){this.v2=this.v2.filter(function(V){return !V.Oib.equals(T);});};Q.prototype.close=function(){this.cd !== g.Bp.CLOSED && (this.h1b(),t.assert(0 === this.WA.length,"Unexpected viewable lease after Playgraph destruction."),this.g1b(),this.v2=[],delete this.pB,this.cd=g.Bp.CLOSED,this.Lu.Rb());};Q.prototype.Y3b=function(T){this.UBa=T;this.oE.Rl("streamingModeChanged");};Q.prototype.Fm=function(){return this.QA.Fm();};Q.prototype.nFb=function(){this.QA=new L.mka(this.K);this.QA.eh(new G.nHa(this));this.QA.eh(new A.nPa(this.jc,this.oE));this.QA.eh(new v.kHa(this.jc));this.QA.eh(new z.Vx(this.Cwb));this.QA.eh(new z.Vx(this.oE.us));this.QA.eh(new z.Vx(this.RSa.uh));this.QA.eh(new z.Vx(this.zTa.uh));};Q.prototype.Jxa=function(){};Q.prototype.Pz=function(T){return c.__awaiter(this,void 0,void 0,function(){var V,da,pa,xa;return c.__generator(this,function(ya){switch(ya.label){case 0:return (t.assert(T,"ase.updateViewable(): Viewable config not found."),V=r.oe(this.WA,function(sa){return !0 !== sa.vX.Wv && sa.vX.equals(T);}),t.assert(V,"ase.updateViewable(): Viewable entry not found."),[4,V.sH]);case 1:return (da=ya.pc(),xa=(pa=da).Pz,[4,T.Qs]);case 2:return (xa.apply(pa,[ya.pc()]),[2]);}});});};Q.prototype.KG=function(T,V,da,pa){var xa,ya,sa,X;xa=this;ya=T.Wo(da,pa);t.assert(ya,"ase.requestViewable(): Viewable config not found.");sa=r.oe(this.WA,function(S){return !0 !== S.vX.Wv && S.vX.equals(ya);});sa || (sa={vX:ya,sH:(function(){return c.__awaiter(xa,void 0,void 0,function(){var S,R;return c.__generator(this,function(W){switch(W.label){case 0:return [4,ya.Qs];case 1:return (S=W.pc(),R=this.GX(da,ya,S),sa.R=R,[2,R]);}});});})(),R:void 0,WSb:new w.CJa(function(S){S() && xa.Sza(sa);},C.jk(F.default,this.J,"" + da))},this.WA.push(sa));X=this;return {get R() {return null === sa || void 0 === sa?void 0:sa.R;},get sH() {var S;S=this;return (function(){return c.__awaiter(S,void 0,void 0,function(){var R;return c.__generator(this,function(W){switch(W.label){case 0:return (W.qj.push([0,2,,3]),[4,sa.sH]);case 1:return [2,W.pc()];case 2:throw (R=W.pc(),H.LNa.PRb(R) && V.sh(R),X.Sza(sa,!1),R);case 3:return [2];}});});})();},u_:sa.WSb.XA()};};Q.prototype.Sza=function(T,V){var da,pa;void 0 === V && (V=!0);t.assert(T,"expected viewableEntry to exist");da=T.R;pa=T.sH;V && (da?da.Rb():pa.then(function(xa){xa.Rb();}));this.WA=this.WA.filter(function(xa){return xa !== T;});};Q.prototype.GX=function(T,V,da){var xa,ya,sa,X,S,R,W;function pa(ia){xa.events.emit("logdata",ia);}xa=this;this.aM();sa=da.pa;X=da.Cj;S=da.jf;R=da.Qd;R=void 0 === R?l.fg:R;da=da.config;W=[new p.gja(0),new p.gja(1)];sa={pa:sa,config:da,Cj:X,Qd:R,daa:void 0,jc:this.pB.jc,Ji:this.pB.Ji,K0a:{Rt:function(){return xa.oE.Rl("networkFailureReset");},sh:this.sh.bind(this,T),ep:this.ep.bind(this,T),ip:pa},$4a:{ip:pa,vZ:void 0,vF:function(ia){return W[ia];},Hba:function(){return !0;},kg:void 0,Vm:void 0,bi:void 0,FF:void 0},MR:{wv:this.wv.bind(this),NC:this.NC.bind(this)},NL:this.Y7,bc:0,Sq:void 0,j9a:{cva:! !S,I6a:!1},p0:function(){}};T=new d.hha(T,sa);da.BB && (sa=(null === (ya=r.oe(this.v2,function(ia){return ia.Oib.equals(V);})) || void 0 === ya?void 0:ya.bfb) || ({}),this.Pza(V),T.QG(c.__assign(c.__assign({},sa),{hp:this.Jxa.bind(this)})));return T;};Q.prototype.Wba=function(){var T,V;t.assert(this.state === g.Bp.OPEN);T=this.Caa();V=this.aQ();return this.RSa.cab(T,V);};Q.prototype.aQ=function(){var T,V,da;T=this;da=null !== (V=this.K.g_b) && void 0 !== V?V:this.Ir.every(function(pa){return !pa.la.TB;});V=r.flatten(this.Ir.map(function(pa){return pa.la.aQ().map(function(xa){pa.la.TB || 1 === pa.D1 || (xa.fK=pa.D1);return xa;});}));this.UBa === g.kT.disabled?V=[]:this.UBa === g.kT.XTb && (V=V.filter(function(pa){return T.K.Owa >= pa.Cu - pa.Gt;}));da || (da=V.filter(function(pa){var xa;return 1 === (null !== (xa=pa.fK) && void 0 !== xa?xa:1);}),da.length && (V=da));da=this.WA.reduce(function(pa,xa){return xa.R?c.__spread(pa,xa.R.aQ()):pa;},[]);return r.flatten(c.__spread(V,da));};Q.prototype.aM=function(){if(this.cd === g.Bp.CLOSED)throw Error("Engine CLOSED");};Q.prototype.h1b=function(){var T,pa;try{for(var V=c.__values(this.Ir),da=V.next();!da.done;da=V.next()){pa=da.value;pa.Kh.clear();this.bx(pa.la);}}catch(ya){var xa;xa={error:ya};}finally{try{da && !da.done && (T=V.return) && T.call(V);}finally{if(xa)throw xa.error;}}};Q.prototype.g1b=function(){var T;try{for(var V=c.__values(this.PV),da=V.next();!da.done;da=V.next()){this.DR(da.value);}}catch(xa){var pa;pa={error:xa};}finally{try{da && !da.done && (T=V.return) && T.call(V);}finally{if(pa)throw pa.error;}}};Q.prototype.sh=function(T,V,da,pa,xa,ya,sa){var X;void 0 === sa && (sa=!1);X=!1;this.Q3a(T).forEach(function(S){if(!sa || l.Fq(S.Lf.value))(S.sh(V,T,da,pa,xa,ya,sa),X=!0);});return X;};Q.prototype.ep=function(T){return this.Q3a(T).some(function(V){return V.ep();});};Q.prototype.Q3a=function(T){return this.Ir.filter(function(V){var da;for(V=V.la;V.pd;){V=V.pd;}da=V.la;return Object.keys(da.P).some(function(pa){return da.P[pa].M === T;});}).map(function(V){return V.la;});};Q.prototype.Caa=function(){var T;T=new E.RHa();this.Ir.forEach(function(V){var da,pa;da=V.la;V=V.D1;pa=da.Caa();pa.fK=V;T.add(da.id,pa);});return T;};Q.prototype.Baa=function(){return this.pVb;};Q.prototype.wAb=function(){var T,V;V=J.sXa(this.K,this.bX);return {total:(T={},T[1]=this.bX.video || Infinity,T[0]=this.bX.audio || Infinity,T.total=this.bX.total || Infinity,T),JBa:V};};Q.prototype.wv=function(T){var V;this.oE.wv(T);null === (V=this.Pp) || void 0 === V?void 0:V.wv(T);};Q.prototype.NC=function(T){this.oE.NC(T);};Q.prototype.iya=function(){var T;T=this.tG.reduce(function(V,da){return Math.max(da.weight,0) + V;},0);this.Ir.forEach(function(V){V.D1=0 >= V.la.weight?0:V.la.weight / T;});};Q.prototype.W1b=function(T){var V;V=this;this.Pp && T.requests.forEach(function(da){return V.Pp.NC(da);});};Q.sWb=0;c.__decorate([y.Hb({methodName:"open"})],Q.prototype,"open",null);c.__decorate([y.Hb({methodName:"addPlaygraph",context:function(T){var V,da;return {playgraphCount:null !== (da=null === (V=T.P$a.Ir) || void 0 === V?void 0:V.length) && void 0 !== da?da:0};}})],Q.prototype,"dJ",null);c.__decorate([y.Hb({methodName:"removePlaygraph",context:function(T){return {playgraphCount:T.P$a.Ir.length};}})],Q.prototype,"bx",null);c.__decorate([y.Hb({methodName:"close"})],Q.prototype,"close",null);c.__decorate([y.Hb({methodName:"setStreamingMode",Jo:!0})],Q.prototype,"Y3b",null);c.__decorate([y.Hb({methodName:"notifyAseException",Jo:!0})],Q.prototype,"Jxa",null);c.__decorate([y.Hb({methodName:"updateViewable"})],Q.prototype,"Pz",null);c.__decorate([y.Hb({methodName:"requestViewable"})],Q.prototype,"KG",null);c.__decorate([y.Hb({methodName:"removeViewable"})],Q.prototype,"Sza",null);c.__decorate([y.Hb({methodName:"createViewable"})],Q.prototype,"GX",null);c.__decorate([y.Hb({methodName:"issueRequestOpportunity",Ul:!0,return:!0})],Q.prototype,"Wba",null);c.__decorate([y.Hb({methodName:"reportStreamingFailure",Jo:!0})],Q.prototype,"sh",null);return Q;})();b.EDa=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.PEa=void 0;c=a(4);q=(function(){function k(g,f){this.J=g;this.Tsb=f;this.ry=this.Yx=this.Or=0;}k.prototype.wv=function(g){var f;if(!g.Qc){f=g.ga;c.assert(0 < f);this.Or+=f;0 === g.mediaType?this.Yx+=f:this.ry+=f;c.assert(this.Or === this.Yx + this.ry);c.assert(0 < this.Or);c.assert(0 <= this.Yx);c.assert(0 <= this.ry);}};k.prototype.NC=function(g){var f;if(!g.Qc){f=g.ga;c.assert(0 < f);this.Or-=f;0 === g.mediaType?this.Yx-=f:this.ry-=f;c.assert(this.Or === this.Yx + this.ry);c.assert(0 <= this.Or);c.assert(0 <= this.Yx);c.assert(0 <= this.ry);}};k.prototype.oBb=function(g,f){var d;c.assert(this.Or === this.Yx + this.ry);d=this.Tsb();if(void 0 !== d.total && this.Or + f > d.total)return !1;d=0 === g?d.audio:d.video;g=0 === g?this.Yx:this.ry;return void 0 !== d && g + f > d?!1:!0;};return k;})();b.PEa=q;},function(q,b,a){var k,g,f,d,h,m,l;function c(n,p){return n.filter(function(r){return r.groupId === p.groupId;}).reduce(f.D9a(function(r){return r.CC;}),p).CC;}Object.defineProperties(b,{__esModule:{value:!0}});b.THa=void 0;k=a(1);g=a(236);f=a(25);d=a(17);h=a(71);m=k.__importDefault(a(5));l=a(471);q=(function(){function n(p,r){this.J=p;this.config=r;this.z7a=0;this.uh=new h.fv({zs:10,Oq:this,source:"GraphStreamingProcess"});}n.prototype.cab=function(p,r){var t,w,v,u,x,y,z,A,C,F,G,E,I;v=!1;u=[];if(0 < r.length){x=this.V4b(r);y=x.some(function(L){return 1 === l.uXa(L) && d.Fq(L.Lf);});z=x.slice();A=[!1,!1];try{for(var B=k.__values(x),D=B.next();!D.done;D=B.next()){C=D.value;if(C.PF && "global" !== A[C.mediaType]){F=C.T6a(p,null !== (w=C.fK) && void 0 !== w?w:1);G=g.rcb(F.reason);G && (A[C.mediaType]=G,f.$Va(z,C));if(F.result){E=c(z,C);if(this.wBb(C,y,E)){I=C.X6a();this.nwa(u,C,I.reason);I.Im && (this.z7a=m.default.time.ma());if(v=I.Im)break;if("globalVideoMemoryLimit" === I.reason || "globalAudioMemoryLimit" === I.reason){this.J.trace("GSP.onRequestOpportunity stopping at memory limit:",I.reason);break;}}else if((this.nwa(u,C,"concurrencyCheck"),!G))break;}else this.nwa(u,C,F.reason);}}}catch(L){var K;K={error:L};}finally{try{D && !D.done && (t=B.return) && t.call(B);}finally{if(K)throw K.error;}}}this.uh.vv({streamableCount:r.length,streamableReasons:u,lastSuccessfulIssueRequestMs:this.z7a});return v;};n.prototype.V4b=function(p){return this.C_b(p).sort(function(r,t){return r.priority - t.priority;}).map(function(r){return r.z5b;});};n.prototype.C_b=function(p){var r;r=this;return p.map(function(t){return {priority:-l.tXa(r.config,t,r.J),z5b:t};});};n.prototype.nwa=function(p,r,t){this.uh.enabled && p.push(this.oOb(t,r));};n.prototype.oOb=function(p,r){return {mediaType:r.mediaType,reason:p,bufferingState:r.Lf,currentPlayerMs:r.Gt,pathCompletePlayerMs:r.CC,streamingPlayerMs:r.Cu};};n.prototype.wBb=function(p,r,t){return this.config.dX && (r || d.Fq(p.Lf))?this.xBb(p,t):this.yBb(p,t);};n.prototype.zBb=function(p){return p.Cu <= p.CC;};n.prototype.yBb=function(p,r){return p.Cu - (p.Gt > r?p.Gt:r) <= Math.max(this.config.nxa,Math.min((p.CC - p.Gt) * this.config.SBa,this.config.TUb));};n.prototype.xBb=function(p,r){var t,w;if(void 0 === this.config.dX)return !0;t=this.config.dX;w=p.Gt + t;return p.Cu <= w?!0:this.zBb(p) && r >= w && p.Cu - r < t;};k.__decorate([h.Hb({methodName:"onRequestOpportunity",Ul:!0})],n.prototype,"cab",null);return n;})();b.THa=q;},function(q,b,a){var c,k,g,f,d;Object.defineProperties(b,{__esModule:{value:!0}});b.lPa=void 0;c=a(1);k=a(4);g=c.__importDefault(a(5));f=a(71);d=a(8);q=(function(){var B31;B31=2;for(;B31 !== 13;){switch(B31){case 3:var c5q="O";c5q+="X";c5q+="a";var n5q="checkReq";n5q+="uestOpport";n5q+="unity";n5q+="Runner";var F5q="N";F5q+="C";var f5q="re";f5q+="m";f5q+="ov";f5q+="eRequest";var b5q="w";b5q+="v";var V5q="a";V5q+="dd";V5q+="R";V5q+="equest";var s5q="R";s5q+="l";var z5q="c";z5q+="heckRequestOpportun";z5q+="ity";h.prototype.OXa=function(m){var J31,l,n,p;J31=2;for(;J31 !== 9;){switch(J31){case 6:this.ddb.push(n);J31=6;break;J31=5;break;case 1:this.ddb.push(n);J31=5;break;case 2:(l=this.config.yca,n=g.default.time.ma() - m,p=0);J31=1;break;case 5:J31=this.II < l && this.Wba()?4:3;break;case 3:var Y5q="requestO";Y5q+="pportunityR";Y5q+="unn";Y5q+="er";Y5q+="Complete";this.us.wW(Y5q,{requestsIssued:p,scheduledMs:m,timeSinceScheduled:n},!0);J31=9;break;case 4:p++;J31=5;break;case 13:p--;J31=0;break;J31=5;break;}}};c.__decorate([f.Hb({methodName:z5q,Ul:!0,Jo:!0})],h.prototype,s5q,null);c.__decorate([f.Hb({methodName:V5q,Ul:!0})],h.prototype,b5q,null);c.__decorate([f.Hb({methodName:f5q,Ul:!0})],h.prototype,F5q,null);c.__decorate([f.Hb({methodName:n5q,Ul:!0})],h.prototype,c5q,null);return h;break;case 2:Object.defineProperties(h.prototype,{WWb:{get:function(){var E31;E31=2;for(;E31 !== 1;){switch(E31){case 2:return this.II;break;case 4:return this.II;break;E31=1;break;}}},enumerable:!1,configurable:!0}});h.prototype.Rl=function(){var F31,m,l;F31=2;for(;F31 !== 9;){switch(F31){case 2:m=this;F31=1;break;case 1:F31=!this.vAa?5:9;break;case 5:this.vAa=!0;l=g.default.time.ma();return Promise.resolve().then(function(){var G31;G31=2;for(;G31 !== 5;){switch(G31){case 2:m.vAa=!1;m.OXa(l);G31=5;break;}}});break;case 6:F31=+this.vAa?0:2;break;F31=!this.vAa?5:9;break;}}};h.prototype.wv=function(m){var H31;H31=2;for(;H31 !== 4;){switch(H31){case 2:var a5q="M";a5q+="ore than maxAllowedOutstandingRequests are outstandin";a5q+="g";this.us.vv({mediaType:m.mediaType,contentStartPts:m.ud,contentEndPts:m.Uc});this.II++;k.assert(this.II <= this.config.yca,a5q);H31=4;break;}}};h.prototype.NC=function(m){var I31;I31=2;for(;I31 !== 3;){switch(I31){case 2:var C5q="rem";C5q+="oveReque";C5q+="st";var G5q="Receive";G5q+="d remove request when t";G5q+="here are no requ";G5q+="ests ";G5q+="outstanding";this.us.vv({mediaType:m.mediaType,contentStartPts:m.ud,contentEndPts:m.Uc});this.II--;k.assert(0 <= this.II,G5q);this.Rl(C5q);I31=3;break;}}};B31=3;break;}}function h(m,l){var C31,n;C31=2;for(;C31 !== 14;){switch(C31){case 8:var H5q="Re";H5q+="q";H5q+="uestPac";H5q+="er";var l5q="1SI";l5q+="YbZr";l5q+="NJCp9";l5q;this.us=new f.fv({Oq:this,source:H5q,Ina:function(){var D31;D31=2;for(;D31 !== 1;){switch(D31){case 2:return {numOutstanding:n.II};break;case 4:return {numOutstanding:n.II};break;D31=1;break;}}},zs:10});this.ddb=new d.IU();C31=14;break;case 2:var R5q="m";R5q+="ed";R5q+="ia|a";R5q+="s";R5q+="ejs";var j5q="ASEJS_R";j5q+="EQ";j5q+="UEST_PACER";n=this;this.Wba=m;this.config=l;this.II=0;this.console=new g.default.Console(j5q,R5q);this.vAa=!1;C31=8;break;}}}})();b.lPa=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.kHa=void 0;c=a(56);q=(function(){function k(g){this.jc=g;}Object.defineProperties(k.prototype,{Kg:{get:function(){return "EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});k.prototype.Fm=function(g){var f;if(g.kj === c.ue.rq && this.jc){g={};f=this.jc.get();f && f.avtp && f.avtp.Ca && (g.avtp=f.avtp.Ca,g.dltm=f.avtp.g$);f && f.initialThroughput && f.initialThroughput.Ca && (g.initial_avtp=f.initialThroughput.Ca);f && f.cdnavtp && (g.cdnavtp=f.cdnavtp,g.activecdnavtp=f.activecdnavtp);if(f=this.jc.Eaa())(f.bytesRequestedPacingVideo && (g.bytesRequestedPacingVideo=f.bytesRequestedPacingVideo,g.estimatedBytesPacedVideo=f.estimatedBytesPacedVideo,g.bytestotalVideo=f.bytestotalVideo,g.pacedAvtpVideo=f.pacedAvtpVideo),f.bytesRequestedPacingAudio && (g.bytesRequestedPacingAudio=f.bytesRequestedPacingAudio,g.estimatedBytesPacedAudio=f.estimatedBytesPacedAudio,g.bytestotalAudio=f.bytestotalAudio,g.pacedAvtpAudio=f.pacedAvtpAudio),f.pacedAvtp && (g.pacedAvtp=f.pacedAvtp));this.jc.flush();if(f=this.jc.O2a())for(var d in f){f.hasOwnProperty(d) && (g["ne" + d]=Number(f[d]).toFixed(6));}return g;}};return k;})();b.kHa=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.dQa=void 0;c=a(56);q=(function(){function k(g){g.events.on("streamSelection",this.fya.bind(this));}k.prototype.fya=function(g){0 === g.mediaType && void 0 === this.N5a?this.N5a=g:1 === g.mediaType && void 0 === this.P5a && (this.P5a=g);};Object.defineProperties(k.prototype,{Kg:{get:function(){return "StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});k.prototype.Fm=function(g){var f;if(g.kj === c.ue.fr)return (g=null !== (f=this.P5a) && void 0 !== f?f:this.N5a,f={histdiscbw:null === g || void 0 === g?void 0:g.result.ww,histage:null === g || void 0 === g?void 0:g.result.Dq},g=null === g || void 0 === g?void 0:g.streamList.map(function(d){return void 0 !== d.y$?{vmaf:d.y$,streamIndex:d.dg,streamId:d.Za}:void 0;}).filter(function(d){return void 0 !== d;}),0 < (null === g || void 0 === g?void 0:g.length) && (f.vmafEstimates=g),f);};return k;})();b.dQa=q;},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.zQa=void 0;q=a(1);c=a(13);k=a(15);g=q.__importDefault(a(5));a=(function(){function f(d){this.qf=d;this.Q6=[];this.reset();}Object.defineProperties(f.prototype,{Kg:{get:function(){return "task-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{gG:{get:function(){return "tsched";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return k.aa;},enumerable:!1,configurable:!0}});f.prototype.reset=function(){var d,h;d=this;null === (h=this.FN) || void 0 === h?void 0:h.clear();this.FN=new c.Fg();this.FN.on(this.qf,"clockChanged",function(){d.reset();d.SY("initial");});this.FN.on(this.qf,"stopping",function(){d.SY("stopping");});this.FN.on(this.qf.La,"clockAdjusted",function(){d.SY("clockAdjusted");});this.FN.on(this.qf.La,"stopStart",function(){d.SY("stopStart");});this.FN.on(this.qf.La,"speedChanged",function(){d.SY("speedChanged");});};f.prototype.SY=function(d){this.Q6.push({reason:d,audit:this.qf.pLb(),time:g.default.time.ma()});5 < this.Q6.length && this.Q6.shift();};f.prototype.Fm=function(){return this.Q6;};return f;})();b.zQa=a;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.nPa=void 0;c=a(56);q=(function(){function k(g,f){this.jc=g;this.edb=f;}Object.defineProperties(k.prototype,{Kg:{get:function(){return "RequestsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});k.prototype.Fm=function(g){var f;g=g.kj;if(g === c.ue.rq || g === c.ue.yp || void 0 === g){g={numOutstandingRequests:this.edb.WWb,requestOpportunityDelayStats:this.edb.ddb};f=this.jc.XUa;f && f.length && (g.activeRequests=JSON.stringify(f));return g;}};return k;})();b.nPa=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.nHa=void 0;q=(function(){function a(c){this.t$=c;this.gG="engine";this.enabled=!0;}Object.defineProperties(a.prototype,{Kg:{get:function(){return this.gG;},enumerable:!1,configurable:!0}});a.prototype.Fm=function(){var c;c=this.t$.HZb.map(function(k){var g;g=k.la;return {id:g.id,weight:g.weight,relativeWeight:k.D1};});return {prefetcher:this.t$.Uw.getStats(),playgraphs:c,viewables:this.t$.l9b,players:this.t$.lbb.length};};return a;})();b.nHa=q;},function(q,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.RHa=void 0;c=a(4);k=a(472);q=(function(){function g(){this.global=new k.oU();this.tG={};}g.prototype.add=function(f,d){c.assert(void 0 === this.tG[f],"Cannot add new memory object for playgraph");this.tG[f]=d;this.global.add(d.Et);this.global.add(d.fY);};return g;})();b.RHa=q;},function(q,b,a){var c,k,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.pLa=void 0;c=a(1);k=a(15);g=a(471);f=a(71);q=(function(){function d(h,m,l){this.Vsa=h;this.uMb=m;this.J=l;this.uh=new f.fv({Oq:this,console:l,source:"MemoryDeadlockProtector",zs:5});}d.prototype.HKb=function(h){var m,l,n,p;n=h.config;p=n.Hj + (null !== (l=null === (m=n.eS) || void 0 === m?void 0:m.V) && void 0 !== l?l:0);m=this.nPb(p,h);k.aa && this.J.debug("MDP: has prebuf: " + m);return m?{a$:!0}:(l=this.AAb(n),m=l.qYb,l=l.P8b,m && l?(k.aa && this.J.debug("MDP: utilizing " + Math.round(100 * l) + "%"),l >= n.nVb?this.odb(h,m):{a$:!0}):{a$:!1});};d.prototype.odb=function(h,m){var l,n,p,r,t,v,y,z;this.uh.vv({o:m});r=h.U;h=h.Cb;t=r.Cb;r=r.cC;for(var w=0;w < t.length;w++){if(!t[w].Pl){r=t[w];t=t.slice(0,w + 1);break;}}w=!1;v=[{mediaType:0,JE:0},{mediaType:1,JE:0}];if(null === r || void 0 === r || !r.Pl){h=h.map(function(B){return B;}).filter(function(B){return -1 === t.indexOf(B);}).sort(function(B,D){return g.Voa(B) - g.Voa(D);});try{for(var u=c.__values(h),x=u.next();!x.done;x=u.next()){y=x.value;z=y.HB();v[0].JE+=null !== (n=z.yE) && void 0 !== n?n:0;v[1].JE+=null !== (p=z.Ku) && void 0 !== p?p:0;k.aa && this.J.debug("Resetting discontiguous branch " + y.G.id,z);y.reset();if(w=v.every(function(B){return B.JE >= m[B.mediaType].JE;}))break;}}catch(B){var A;A={error:B};}finally{try{x && !x.done && (l=u.return) && l.call(u);}finally{if(A)throw A.error;}}}return {a$:w,pgc:v};};d.prototype.AAb=function(h){var m,l,n,p;if(!h.oVb)return {};m=this.uMb();l=this.Vsa().total;n=h.mVb;p=0;h=[0,1].map(function(r){var t;t=m[r] - l[r] * n;p=Math.max(0 < l[r]?m[r] / l[r]:0,p);return {JE:Math.max(0,t),mediaType:r};});return {P8b:p,qYb:h};};d.prototype.nPb=function(h,m){var l,n;l=!1;m=m.TB?m.U:void 0;if(null === m || void 0 === m?0:m.KQb){l=m.Qi.zq().map(function(p){return p.mediaType;});n=m.PLb();l=l.every(function(p){var r,t;if(0 === p)p=null !== (r=n.ut) && void 0 !== r?r:0;else if(1 === p)p=null !== (t=n.Ap) && void 0 !== t?t:0;else throw Error("Unsupported media type:" + p);return p >= h;});}return l;};c.__decorate([f.Hb({methodName:"resetDiscontiguousBranches",return:!0,Ul:!0})],d.prototype,"odb",null);return d;})();b.pLa=q;},function(q,b,a){var c,k,g,f,d;Object.defineProperties(b,{__esModule:{value:!0}});b.cEa=void 0;q=a(1);c=a(8);k=q.__importDefault(a(32));g=a(25);f=q.__importDefault(a(449));d=a(56);a=(function(){function h(m){var l,n;l=this;this.la=m;this.Vv="aseReport";this.mXa=c.O.JF;this.Vp=!1;if(0 === Math.floor(1E6 * Math.random()) % m.config.xO || m.config.uKb){this.mXa=c.O.Sa(m.config.O8);this.la.yO=!0;n=[];n[k.default.kb.Vb]=new f.default(m.config,k.default.kb.Vb);n[k.default.kb.mc]=new f.default(m.config,k.default.kb.mc);this.Yma=n;this.la.events.on("openComplete",function(){return l.open();});}}h.prototype.open=function(){this.la.yO && !this.Vp && (this.Vp=!0,this.la.events.emit("aseReportEnabled",{type:"asereportenabled"}),this.la.events.on("streamSelection",this.fya.bind(this)));};h.prototype.fya=function(m){this.Yma[m.mediaType].add(m.result,m.streamList);};h.prototype.Kta=function(){var m;m=g.flatten(this.Yma.map(function(l){return l.get();}).filter(function(l){return void 0 !== l;}));this.Yma.forEach(function(l){return l.reset(!0);});return m;};h.prototype.mh=function(m){var l;l=m.kj;m=m.nRb;return this.la.yO && this.Vp && (m || l === d.ue.rq) && (l=this.Kta()) && l.length?{Xeb:!0,event:{type:"asereport",strmsel:l}}:{Xeb:!1,event:{type:"asereport",strmsel:[]}};};return h;})();b.cEa=a;},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r,t,w,v,u,x,y,z,A;Object.defineProperties(b,{__esModule:{value:!0}});b.GOa=void 0;c=a(1);k=a(13);g=a(17);f=a(8);d=a(286);h=a(25);m=a(4);l=a(1085);n=a(15);p=a(104);r=a(1086);t=c.__importDefault(a(5));w=a(238);v=a(1087);u=a(1088);x=a(1089);y=a(287);z=a(1091);A=a(1093);q=(function(){function B(D,C,F,G,E){void 0 === G && (G=new u.iGa());void 0 === E && (E=new v.hGa());this.E0a=D;this.config=C;this.Dcb=G;this.ao=[];this.Dbb=[];this.Vz=[];this.kc={c7a:0,d7a:0,$6a:0,Noa:0,a7a:0,b7a:0,Ooa:0};this.events=new k.EventEmitter();this.J=f.jk(t.default,F,"PREFETCH");this.nVa(new x.LFa(C));this.nVa(new A.MPa(C));this.neb({oK:C.c_b});this.$Aa(E);this.HQb();}Object.defineProperties(B.prototype,{d_b:{get:function(){return this.ao.map(function(D){return D.context;});},enumerable:!1,configurable:!0}});B.prototype.Geb=function(D){n.aa && m.assert(D,"Reconciliation strategy is undefined");this.Dcb=D;return this;};B.prototype.nVa=function(D){this.Dbb.unshift(D);};B.prototype.Oeb=function(D){n.aa && this.J.debug("Wish list changed",{fic:D.length});this.Vz=D;this.nza();};B.prototype.reset=function(){var D,G,E,I,K,L;if(this.config.l_b)try{for(var C=c.__values(this.ao),F=C.next();!F.done;F=C.next()){G=F.value;E=G.la;I=G.aca;K=G.context;if(E){E.Mf();I.Jea(function(P){return "segmentNormalized" !== P.Vv;});L=y.zta(K.se,E.la);E.SC(L);}}}catch(P){var H;H={error:P};}finally{try{F && !F.done && (D=C.return) && D.call(C);}finally{if(H)throw H.error;}}else this.Oeb([]);};B.prototype.neb=function(D){n.aa && this.J.debug("Budget changed",{jic:this.aX,eic:D});this.aX=D;this.nza();};B.prototype.IBb=function(D,C){var F,G,E,I;if(D=this.Dcb.n1a(this.ao,{la:D,Jj:C}))if((C=this.Vz.indexOf(D.context.se),n.aa && this.J.debug("Claiming item: " + y.Cq(D.context.se.key),{zn:t.default.time.ma() - D.Rfa,buffer:null === (F=D.la) || void 0 === F?void 0:F.ai(f.O.ib)}),this.mP(D.context,{Eva:! !D.la}),D.la)){F=D.la;E=D.qu;I=F.Cz;z.EOa.D1b(F,I,D.aca,this.J);E.D2b(null !== (G=F.gK(I)) && void 0 !== G?G:f.O.ib,C);F.Jhb({oK:this.config.Fw || Infinity});this.events.emit("itemClaimed",{type:"itemClaimed",wishListItem:D.context.se,videoBytesBuffered:D.la.My().Ku,audioBytesBuffered:D.la.My().yE});}this.config.gyb || this.reset();return null === D || void 0 === D?void 0:D.la;};B.prototype.HBb=function(){};B.prototype.getStats=function(){var D;D=t.default.time.ma();return {wishListLength:this.Vz.length,prefetchList:this.d_b.length,contents:this.ao.map(function(C){var F,G,E,I,K;return {id:y.Cq(C.context.se.key),buffer:null === (F=C.la) || void 0 === F?void 0:F.ai(f.O.ib),pId:null === (G=C.la) || void 0 === G?void 0:G.id,budget:{inMemoryBytes:C.context.Y6a.oK},weight:C.context.lea,age:D - C.Rfa,timeOpened:D - (null !== (E=C.I6b) && void 0 !== E?E:0),state:g.Zc[null !== (K=null === (I=C.la) || void 0 === I?void 0:I.Lf.value) && void 0 !== K?K:g.Zc.Tj]};}),aggregated:{itemsRequested:this.kc.c7a,itemsStarted:this.kc.d7a,itemsClaimed:this.kc.$6a,bytesClaimed:this.kc.Noa,itemsCompleted:this.kc.a7a,itemsDiscarded:this.kc.b7a,bytesDiscarded:this.kc.Ooa}};};B.prototype.mP=function(D,C){var F;void 0 === C && (C={});c.__awaiter(this,void 0,void 0,function(){var G,E,I,K,L,H;return c.__generator(this,function(P){switch(P.label){case 0:G=c.__assign({Eva:!1,h7a:!1},C);E=G.Eva;I=G.h7a;K=h.oe(this.ao,function(N){return N.context === D;});if(!K)return [3,3];this.ao.splice(this.ao.indexOf(K),1);I || (L=this.Vz.length,this.Vz=this.Vz.filter(function(N){return N !== D.se;}),n.aa && this.J.info("Dropping items from wishlist",L - this.Vz.length),this.Vz.length >= L && n.aa && this.J.warn("Unable to filter out wishlist item",this.Vz.map(function(N){return N.key;}),D.se.key));n.aa && this.J.debug("Dropping playgraph",{zn:t.default.time.ma() - K.Rfa,buffer:null === (F=K.la) || void 0 === F?void 0:F.ai(f.O.ib),M:y.Cq(D.se.key),Oic:!E,dgc:!I});if(E)return [3,2];H=this.bx(K);return K.la?[4,H]:[3,2];case 1:(P.pc(),P.label=2);case 2:(this.nza(),P.label=3);case 3:return [2];}});});};B.prototype.$Aa=function(D){m.assert(D,"Playgraph resolver is undefined");this.Uya=D;return this;};B.prototype.HQb=function(){var D;D=this;this.events.on("prefetchComplete",function(){return D.kc.a7a++;});this.events.on("prefetchStarted",function(){return D.kc.d7a++;});this.events.on("itemQueued",function(){return D.kc.c7a++;});this.events.on("itemClaimed",function(C){var F,G;D.kc.$6a++;D.kc.Noa+=(null !== (F=C.c9b) && void 0 !== F?F:0) + (null !== (G=C.$yb) && void 0 !== G?G:0);});this.events.on("itemDropped",function(C){var F,G;D.kc.b7a++;D.kc.Ooa+=(null !== (F=C.c9b) && void 0 !== F?F:0) + (null !== (G=C.$yb) && void 0 !== G?G:0);});};B.prototype.nza=function(){var D,C,F,G,E,I;D=this;C=d.o4.Yua({F9b:this.Vz,NOb:this.aX},this.Dbb.map(function(K){return K.qXa.bind(K);})).ao;F=h.xv(C,this.ao,function(K,L){return y.isEqual(K.se.key,L.context.se.key);});G=h.xv(this.ao,C,function(K,L){return y.isEqual(K.context.se.key,L.se.key);});E=h.xv(this.ao,G);n.aa && this.J.debug("Re-evaluated prefetch items. new:" + F.length + ", evict: " + G.length + ", update: " + F.length);G=G.map(function(K){var L;L=K.context.se.key;n.aa && D.J.debug("Releasing playgraph",y.Cq(L));return D.bx(K).then(function(){D.events.emit("itemEvicted",{type:"itemEvicted",wishListItem:K.context.se});});});I=E.map(function(K){return c.__awaiter(D,void 0,void 0,function(){var L,H;return c.__generator(this,function(P){switch(P.label){case 0:(L=h.oe(C,function(N){return y.isEqual(N.se.key,K.context.se.key);}),m.assert(L,"Couldn't find the requested item context"),K.context=L,P.label=1);case 1:return (P.qj.push([1,3,,4]),[4,K.kea]);case 2:return (H=P.pc(),[3,4]);case 3:return (P.pc(),[2]);case 4:return (h.oe(this.ao,function(N){return N === K;}) && (this.WVa(K.context,H),this.events.emit("itemReevaluated",{type:"itemReevaluated",wishListItem:K.context.se})),[2]);}});});});F=F.map(function(K){var L;L=D.jFb(K);D.events.emit("itemQueued",{type:"itemQueued",wishListItem:K.se});return L;});this.ao=c.__spread(E,F);E=F.map(function(K){return K.kea.catch(function(){});});E=G.concat(I).concat(E);Promise.all(E);};B.prototype.bx=function(D){var C;C=this;return D.kea.then(function(F){return c.__awaiter(C,void 0,void 0,function(){var G;return c.__generator(this,function(E){switch(E.label){case 0:return (n.aa && this.J.debug("Removing prefetch playgraph",{size:F.ai(f.O.ib)}),D.A$.clear(),[4,this.E0a()]);case 1:return (G=E.pc(),G.bx(F),this.events.emit("itemDropped",{type:"itemDropped",wishListItem:D.context.se,videoBytesBuffered:F.My().Ku,audioBytesBuffered:F.My().yE}),[2]);}});});},function(){});};B.prototype.H9=function(D){return c.__awaiter(this,void 0,void 0,function(){var C,F,G,E,I,K,L;L=this;return c.__generator(this,function(H){switch(H.label){case 0:return (C=D.context,F=y.Cq(C.se.key),n.aa && this.J.debug("Creating playgraph",F),[4,this.Uya.D8a(C)]);case 1:return (G=H.pc(),[4,C.se.Pj.Wo(F).Qs]);case 2:return (E=H.pc(),E.pa.Hn?(this.mP(C,{Eva:!0}),[2,Promise.reject("contentPlaygraph viewable:" + F + " is not supported with prefetching")]):[4,this.E0a()]);case 3:return (I=H.pc(),K=I.dJ(G,C.lea,C.Jj,C.se.Pj,!1),D.A$.addListener(K.events,"error",function(P){n.aa && L.J.debug("Prefetch playgraph resulted in error",P.bgc);L.mP(C);}),[2,K]);}});});};B.prototype.aYb=function(D,C){return c.__awaiter(this,void 0,void 0,function(){var F,G,E,I,K,L;L=this;return c.__generator(this,function(H){switch(H.label){case 0:return (F=D.context,G=y.Cq(F.se.key),E=F.se.Pj.Wo(G),[4,E.Qs]);case 1:return (I=H.pc(),this.WVa(F,C),this.xyb(F,C,! !I.jf),C.open(),C.Ez({vu:function(P,N){var J;J=P.recommendedMedia;return J?h.Ko(N,function(M){return M.new_track_id === J.Lo;}):h.Ko(N,function(M){return M.track_id === P.defaultTrackOrderList[0].audioTrackId;});}},{vu:function(P,N){var J;J=P.recommendedMedia;return J?h.Ko(N,function(M){return M.new_track_id === J.OS;}):h.Ko(N,function(M){return M.track_id === P.defaultTrackOrderList[0].videoTrackId;});}}),C.SC(y.zta(F.se,C.la)),K=function(P){n.aa && L.J.debug("Viewable " + (P?"superseded":"expired"),y.Cq(D.context.se.key));D.vhc=!0;L.mP(D.context,{h7a:!P});},E.events && (D.A$.addListener(E.events,"viewableEvicted",function(){K(!0);}),D.A$.addListener(E.events,"viewableExpired",function(){K(!1);})),E.Wv && (n.aa && this.J.warn("Viewable churn encountered during prefetcher (expired on initialization)",G),this.mP(D.context)),this.events.emit("prefetchStarted",{type:"prefetchStarted",wishListItem:D.context.se}),[2]);}});});};B.prototype.WVa=function(D,C){C.bib(D.lea);C.Jhb(D.Y6a);};B.prototype.xyb=function(D,C,F){var G;G=D.v5b;D=G.audio;G=G.video;F && G.push(new w.QM(this.J,C.config));C.qfa(new p.ev(D,!0),new p.ev(G,!0));};B.prototype.jFb=function(D){var C,F,G;C=this;F=new l.FOa();G={context:D,Rfa:t.default.time.ma(),A$:new k.Fg(),qu:F};G.kea=this.H9(G).then(function(E){return c.__awaiter(C,void 0,void 0,function(){var I,K,L,H;K=this;return c.__generator(this,function(P){switch(P.label){case 0:return (I=E,I=null !== (H=null === (L=I.pd) || void 0 === L?void 0:L.pd) && void 0 !== H?H:E,E.eh(F),F.Tyb(E),G.aca=new r.vHa(I.events,{x4b:function(N){var J;J=N.Vv;switch(J){case "buffering":return !1;case "bufferingStarted":G.aca.Jea(function(M){return "bufferingComplete" === M.Vv || "updateStreamingPts" === M.Vv;});case "openComplete":case "updateStreamingPts":case "bufferingComplete":G.aca.Jea(function(M){return M.Vv === J;});default:return !0;}}}),I.events.on("bufferingComplete",function(){K.events.emit("prefetchComplete",{type:"prefetchComplete",wishListItem:D.se});}),[4,this.aYb(G,E)]);case 1:return (P.pc(),G.I6b=t.default.time.ma(),G.la=E,[2,E]);}});});});G.kea.catch(function(E){n.aa && C.J.error("Exception occurred creating playgraph",E);C.mP(G.context);});return G;};return B;})();b.GOa=q;},function(q,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.FOa=void 0;c=a(1).__importDefault(a(5));k=a(56);q=(function(){function g(){this.creationTime=c.default.time.ma();this.cb={isPrefetchItem:!0,prefetchClaimDurationMs:0,prefetchedVideoMs:0,prefetchedAudioMs:0};}g.prototype.Tyb=function(f){this.la=f;};g.prototype.D2b=function(f,d){var h;f=null === (h=this.la) || void 0 === h?void 0:h.ai(f);this.cb={isPrefetchItem:!0,prefetchedVideoMs:f.g3,prefetchedAudioMs:f.f3,prefetchClaimDurationMs:c.default.time.ma() - this.creationTime,prefetchRank:d};};Object.defineProperties(g.prototype,{Kg:{get:function(){return "PrefetchReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});g.prototype.Fm=function(f){if(f.kj === k.ue.fr)return this.cb;};return g;})();b.FOa=q;},function(q,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.vHa=void 0;c=a(1);q=(function(){function g(f,d){void 0 === d && (d={});this.fs=f;this.options=d;this.QJ=[];this.$Z=new k(f,this.xxb.bind(this));}g.prototype.xxb=function(f){for(var d,h,m,l,n,p,r=[],t=1;t < arguments.length;t++){r[t - 1]=arguments[t];}r={Vv:f,Jo:r};(null !== (m=null === (h=(d=this.options).x4b) || void 0 === h?void 0:h.call(d,r,this.QJ)) && void 0 !== m?m:1) && this.QJ.push(r);return null !== (p=null === (n=(l=this.options).mjc) || void 0 === n?void 0:n.call(l,r)) && void 0 !== p?p:!0;};g.prototype.Jea=function(f){this.QJ=this.QJ.filter(function(d,h){return !f(d,h);});};g.prototype.Vza=function(){var f;f=this;this.$Z.Ahb();this.QJ.forEach(function(d){var h;(h=f.fs).emit.apply(h,c.__spread([d.Vv],d.Jo));});this.$Z.Z5a();};Object.defineProperties(g.prototype,{length:{get:function(){return this.QJ.length;},enumerable:!1,configurable:!0}});g.prototype.clear=function(){this.QJ=[];};g.prototype.Rb=function(){this.$Z.Ahb();};return g;})();b.vHa=q;k=(function(){function g(f,d){var h;h=this;this.fs=f;this.iX=d;this.$Z=function(m){for(var l,n=[],p=1;p < arguments.length;p++){n[p - 1]=arguments[p];}return h.iX.apply(h,c.__spread([m],n))?(l=h.lab).call.apply(l,c.__spread([h.fs,m],n)):!1;};this.lab=this.fs.emit;this.Z5a();}g.prototype.Z5a=function(){this.fs.emit=this.$Z;};g.prototype.Ahb=function(){this.fs.emit=this.lab;};return g;})();},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.hGa=void 0;c=a(1);k=a(47);g=a(287);q=(function(){function f(){}f.prototype.D8a=function(d){return c.__awaiter(this,void 0,void 0,function(){var h,m,l,n,p;return c.__generator(this,function(r){switch(r.label){case 0:h=d.se.key;if(!g.j_(h))return [3,2];m=h.M;l=d.se.Pj.Wo(m);return [4,Promise.resolve(l.Qs)];case 1:return (n=r.pc(),p=n.pa,p.Mo?[2,k.mB(p.Mo,{config:n.config})]:[2,k.UG(m,"ps0")]);case 2:return [2,h.la];}});});};return f;})();b.hGa=q;},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.iGa=void 0;c=a(1);k=a(4);g=a(287);q=(function(){function f(){}f.Cq=function(d){var h,m;h=d.P;d=d.xe;m=h[d].M;Object.keys(h).forEach(function(l){return k.assert(h[l].M === m);});return h[d].M;};f.prototype.n1a=function(d,h){var m;m=Object.keys(h.la.P).length;return c.__read(d.filter(function(l){var n,p;return f.Cq(h.la) === g.Cq(l.context.se.key) && (1 === m || m === Object.keys(null !== (p=null === (n=l.la) || void 0 === n?void 0:n.la.P) && void 0 !== p?p:{}).length);}),1)[0];};return f;})();b.iGa=q;},function(q,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.LFa=b.OFa=void 0;c=a(104);k=a(1090);b.OFa=625E3;q=(function(){function g(f){this.config=f;}g.prototype.qXa=function(f){var d,h,m;d=this.config.T9;h=(this.config.m9a || this.config.S9) * b.OFa / 1E3;m=Math.floor(f.NOb.oK / h);return {ao:f.F9b.sort(function(l,n){return l.priority - n.priority;}).slice(0,d).map(function(l,n){var p;p=l.key.config;return {Y6a:{oK:n > m - 1?0:h},se:l,lea:1,Jj:p,v5b:{audio:[c.SE(p),new k.zka()],video:[c.TE(p),new k.zka()]}};})};};return g;})();b.LFa=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.zka=void 0;c=a(17);q=(function(){function k(){}k.prototype.Mn=function(g,f){return f === c.Zc.Uj?[]:g;};return k;})();b.zka=q;},function(q,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.EOa=void 0;c=a(15);k=a(1092);b.EOa=(function(){function g(){}g.D1b=function(f,d,h,m){f.events.once("seeking",function(l){var n,p;n=l.position;p=h.length;l.duplicate || (h.Jea(function(r){return "segmentNormalized" !== r.Vv;}),c.aa && m.log("Discarding " + (p - h.length) + " events from prefetched playgraph for original seek postition " + k.Taa(d) + (" due to seek to " + k.Taa(n))));c.aa && m.log("Replaying " + h.length + " events from prefetched playgraphfor seek postition " + k.Taa(n));h.Vza();h.Rb();});};return g;})();},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Taa=void 0;b.Taa=function(a){return "( " + a.ea + ", " + a.offset.Bc() + " )";};},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.MPa=void 0;q=(function(){function a(c){this.config=c;}a.prototype.qXa=function(c,k){var g,f;g=this;c=k(c);f=c.ao.map(function(d){return d.se.priority;}).sort();c.ao.forEach(function(d){d.lea=g.config.f_b / (2 << f.lastIndexOf(d.se.priority));});return c;};return a;})();b.MPa=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.vOa=void 0;q=(function(){function a(c){var k;k=this;c=c.Rl;this.iK=function(){k.Rl();};this.Rl=c;}a.prototype.dJ=function(c){c.events.on("requestsPruned",this.iK);};a.prototype.bx=function(c){c.events.removeListener("requestsPruned",this.iK);};return a;})();b.vOa=q;},function(q,b){function a(c,k,g,f){return c && k?Math.min(c - k * g,c - f):(c || Infinity) - f;}Object.defineProperties(b,{__esModule:{value:!0}});b.sXa=void 0;b.sXa=function(c,k){var g,f,d;f=a(k.audio,k.hoa,c.TYa,c.RYa);d=a(k.video,k.eDa,c.TYa,c.SYa);return (g={},g[0]=f,g[1]=d,g.total=(k.total || Infinity) - c.RYa - c.SYa,g);};},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.H9=void 0;c=a(1);k=a(1097);g=a(286);b.H9=function(f,d){var h,m,l;h=[function(n){return new (k.gha.bind.apply(k.gha,c.__spread([void 0],n.Tya)))();}];if(f.o$){m=a(1135);h.unshift(function(n,p){return m.xX({},n,p);});}if(f.n$){l=a(1139);h.unshift(function(n,p){return l.xX({},n,p);});}return g.o4.Yua({Tya:d,E8:[]},h);};},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t,w,v,u,x,y,z,A,B,D,C,F,G,E,I,K,L,H,P,N,J,M,O,Q,T,V,da,pa,xa,ya;function c(sa){var X;X={};sa.forEach(function(S){X[S.mediaType]=S.Gm();});return X;}Object.defineProperties(b,{__esModule:{value:!0}});b.gha=void 0;k=a(1);g=a(13);f=a(240);d=a(17);h=a(1098);m=a(8);l=a(1099);n=a(1107);p=k.__importDefault(a(5));r=a(4);t=a(1108);w=a(25);v=a(70);u=a(104);x=a(56);y=a(479);z=a(285);A=a(198);B=a(1114);D=a(71);C=k.__importDefault(a(153));F=a(1115);G=a(1116);E=a(480);I=a(1117);K=a(1118);L=a(1119);H=a(1120);P=a(1123);N=a(1124);J=a(1125);M=a(1126);O=a(1127);Q=a(1128);T=a(1130);V=a(1131);da=a(1132);pa=a(1133);xa=a(1134);ya=a(136).qz.wqa;q=(function(){function sa(X,S,R,W,ia,za,Ra,Fa,$a,Ta){var Xa;Xa=this;this.st=X;this.SUa=S;this.config=R;this.id=W;this.P7=za;this.Rl=Ra;this.JBb=Fa;this.Pp=Ta;this.pd=void 0;this.gJ="2.0";this.Do=void 0;this.cd=f.Mk.CLOSED;this.Ola=!0;this.yO=!1;this.iDa=this.OW=void 0;this.PWa=new g.Fg();this.iF=0;this.Gfa=!1;this.mG=function(eb){var rb,U;eb=Xa.navigator.kf(eb.position.ea);if((eb=Xa.D3a(eb)) && Xa.U.Af){U=Xa.U.Qi;null === (rb=Xa.U.Jz) || void 0 === rb?void 0:rb.WG({G:U.G,get aga() {return U.Ud.Ia(U.G.Yd);}},eb,Xa.Xh.offset,!0,!1);}Xa.cq.start();};this.B0=function(){Xa.Rl("onDrmReady");};this.console=new p.default.Console("ASEJS_PLAYGRAPH","asejs","" + this.id);this.uh=new D.fv({zs:10,Oq:this,source:"AsePlaygraph",console:this.console});this.Deb(X);this.Cb=new P.iOa();this.ih=new pa.kOa(this.console);this.events=new g.EventEmitter();this.Yta=new I.SHa(this.config,m.O.Sa(this.config.JK),{parent:this.h4a.bind(this)},this.events,this.console);this.Hfa=new n.qQa(this.console,this.events);this.aX={oK:R.Fw || Infinity};this.U=new t.Nja(this);this.np=new v.LU(this.U.La,this.console,"playgraph");this.Lu=new v.LU(new z.w6({ql:!0,currentTime:function(){return m.O.Sa(p.default.time.ma());},speed:1}),this.console,"wallclock");this.vg=new N.QEa(this.console,R,ia,this.events,this,this.Lu);this.e9=new O.IEa(this.np,this.Lu,this.config,this.oj.bind(this),this.Lf,this.console);this.Dda=this.vg.Dda.bind(this.vg);this.G0=this.vg.G0.bind(this.vg);this.Kda=this.vg.Kda.bind(this.vg);this.EL=this.EL.bind(this);this.HR=new x.mka(R);V.$Ya({vg:this.vg,Lu:this.Lu},v.Hl.qM(m.O.Sa(this.config.GC)),function(){Xa.U.Af && Xa.U.Qi && (Xa.vg.state.value === d.Zc.sg || Xa.vg.state.value === d.Zc.Md) && Xa.qt(Xa.U.Qi);},"buffering");this.HR.eh(new A.Vx(this.vg.uh));this.HR.eh(new B.uNa(this.wNb.bind(this)));this.HR.eh(new A.Vx(this.uh));this.HR.eh(new F.hOa(this.Cb,this));this.Ofb=new da.pQa(this,this.console,$a);this.$7a=new G.iKa(this.Lu,this.console,this.events);this.cq=new xa.nOa(this.Fea.bind(this));this.qfa(u.TE(this.config),u.SE());}Object.defineProperties(sa.prototype,{state:{get:function(){return this.cd;},enumerable:!1,configurable:!0}});Object.defineProperties(sa.prototype,{TB:{get:function(){return !(this.U instanceof t.Nja);},enumerable:!1,configurable:!0}});Object.defineProperties(sa.prototype,{la:{get:function(){return this.st;},enumerable:!1,configurable:!0}});Object.defineProperties(sa.prototype,{weight:{get:function(){return this.SUa;},enumerable:!1,configurable:!0}});Object.defineProperties(sa.prototype,{Cz:{get:function(){r.assert(this.rw,"AsePlaygraph.seekPosition accessed before seekStreaming");return this.Do.position;},enumerable:!1,configurable:!0}});Object.defineProperties(sa.prototype,{Udb:{get:function(){r.assert(this.rw,"AsePlaygraph.seekTimestamp accessed before seekStreaming");return this.QB(this.Cz).In;},enumerable:!1,configurable:!0}});Object.defineProperties(sa.prototype,{Lf:{get:function(){return this.vg.state;},enumerable:!1,configurable:!0}});Object.defineProperties(sa.prototype,{mf:{get:function(){return this.vg.mf;},enumerable:!1,configurable:!0}});Object.defineProperties(sa.prototype,{rw:{get:function(){return void 0 !== this.Do;},enumerable:!1,configurable:!0}});Object.defineProperties(sa.prototype,{Xh:{get:function(){return this.U.Af?this.U.Xh:this.Cz;},enumerable:!1,configurable:!0}});Object.defineProperties(sa.prototype,{Lg:{get:function(){return this.U.Af?this.U.Lg:this.Udb;},enumerable:!1,configurable:!0}});Object.defineProperties(sa.prototype,{joa:{get:function(){return this.Erb;},enumerable:!1,configurable:!0}});Object.defineProperties(sa.prototype,{iD:{get:function(){return this.Pwb;},enumerable:!1,configurable:!0}});sa.prototype.open=function(){this.Ola=!0;this.events.emit("opening",{type:"opening"});this.events.emit("openComplete",{type:"openComplete"});if(this.cd !== f.Mk.CLOSED)return !1;this.cd=f.Mk.OPEN;return !0;};sa.prototype.Rb=function(){this.Lu.Rb();this.np.Rb();this.cd !== f.Mk.CLOSED && (this.Mf(),this.cq.Rb(),this.vg.stop(),this.cd=f.Mk.CLOSED);};sa.prototype.iBb=function(X,S){X=J.tra(this.Cb,this.EL.bind(this),X,S).HXa;return this.wXa(X);};sa.prototype.Ez=function(X,S){var R,W,ia;R=this;this.OW=X;this.iDa=S;S=J.tra(this.Cb,this.EL.bind(this));X=S.HXa;S=S.Szb;if(!this.wXa(X))return !1;if(0 === X.length)return !0;W=this.Xh;X.forEach(function(za){return R.U.W1(za);});ia=this.QB(W).In;S.forEach(function(za){var Ra;Ra=za.Ab;Ra.Ez(za.sf,W.ea === Ra.G.id?ia:void 0,void 0 !== R.Cb.sta(Ra));});this.vg.XXb(W,S[0].sf);return !0;};sa.prototype.SE=function(X){return u.SE(this.config,X);};sa.prototype.TE=function(X){return u.TE(this.config,X);};sa.prototype.WP=function(X,S){var R,W;R=this.navigator.kf(X);W=this.navigator.kf(S);return {Cib:R.tPb(S),GO:S !== X && this.Cb.has(S) && this.Cb.Ly(S)[0].Ih,ud:W.Yd.V,YQ:this.D3a(R)};};sa.prototype.oj=function(X,S,R,W){var ia,za,Ra,Fa;ia=this;void 0 === W && (W=!0);if(!S)throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented");if(W && this.ih.get(X))R || this.ih.set(X,S);else {Ra=this.Dsa(X)[0];Fa=this.navigator.kf(X);this.Xh.ea === X && Ra && (null === (za=this.U.Jz) || void 0 === za?void 0:za.WG({G:Ra.G,get aga() {return Ra.Ud.Ia(Ra.G.Yd);}},S,this.Xh.offset,W,R));W || (X={offset:m.O.ib,ea:S},this.Do={position:X,Ih:!0,Dhb:X});R?this.ih.x3b(Fa.id,S):this.ih.set(Fa.id,S);this.cq.start();W && Fa.zz && 0 < Fa.zz.length && (r.assert(Ra),Ra.ega(Fa.zz) && this.Dsa(S).forEach(function($a){return ia.pr(Ra,$a);}));W || this.vg.eab(this.Cz);}};sa.prototype.wXa=function(X){return 0 === X.length?!0:1 !== X.length || 0 !== X[0]?!1:(X=this.U.Haa()) && X.greaterThan(this.U.Lg)?!1:!0;};sa.prototype.pr=function(X,S){var R;R=this;X=X.fd.Ia(S.G.Yd);S.pr(X);this.Cb.LLb(S).forEach(function(W){return R.pr(S,W);});};sa.prototype.Oj=function(X){this.navigator.Oj(X);this.cq.start();};sa.prototype.qfa=function(X,S){this.Erb=X;this.Pwb=S;this.state === f.Mk.Uj && this.Rl("setStreamFilters");};sa.prototype.S3b=function(X){this.P7=X;};sa.prototype.SC=function(X,S){var R,W,ia,za,Ra,Fa,$a,Ta;R=this;Fa=E.Dib(this.la,X);if(Fa.AQ){$a=this.$ea(X);if(void 0 === $a)this.sh("Invalid seekPosition after sanitization to " + X.ea + ("(" + X.offset.V + "ms), reason: ") + Fa.reason,null === (W=this.la.P[X.ea]) || void 0 === W?void 0:W.M);else if(void 0 === this.OW || void 0 === this.iDa)this.sh("No track selectors available");else if((W=!(this.TB && this.U.St) && E.y4a(null === (ia=this.Do) || void 0 === ia?void 0:ia.Dhb,$a),this.events.emit("seeking",{type:"seeking",position:X,duplicate:W}),!W)){if(this.rw)if((ia=this.navigator.kf(this.Xh.ea),null === (za=this.U.Jz) || void 0 === za?void 0:za.WG({G:ia,aga:ia.duration},$a.ea,this.Xh.offset,!1),(null === (Ra=this.U.xaa()) || void 0 === Ra?void 0:Ra.G.id) === X.ea)){if((this.ih.PBb(X.ea),!this.ih.get(X.ea) && this.U.St)){X=this.U.Cb;Ta=this.U.xaa();Ta && (X=w.oe(X,function(Xa){return Xa.parent === Ta;})) && this.ih.set(Ta.G.id,null === X || void 0 === X?void 0:X.G.id);}}else this.ih.spa();X=this.Cb.map(function(Xa){return R.P7(Xa.G.M).u_;});try{this.Mf(!0);this.OBb();this.Do={position:$a,Dhb:$a,Ih:!1,Sya:S};this.vg.eab();this.cd=f.Mk.Uj;this.cq.start();}finally{X.forEach(function(Xa){return Xa.release();});}}}else this.sh("Invalid seekPosition to " + (null === X || void 0 === X?void 0:X.ea) + ("(" + X.offset.V + "ms), reason: ") + Fa.reason,null === ($a=this.la.P[X.ea]) || void 0 === $a?void 0:$a.M);};sa.prototype.Mf=function(X){var S,R,W;W=this.KOb();this.Cb.reset();if(!X && (this.ih.spa(),W.length))try{for(var ia=k.__values(W),za=ia.next();!za.done;za=ia.next()){za.value.Jcb();}}catch(Fa){var Ra;Ra={error:Fa};}finally{try{za && !za.done && (S=ia.return) && S.call(ia);}finally{if(Ra)throw Ra.error;}}this.np.reset();this.Lu.reset();this.U.reset();this.Do=void 0;this.e9.reset();null === (R=this.PWa) || void 0 === R?void 0:R.clear();this.cd === f.Mk.Uj && (this.cd=f.Mk.OPEN);};sa.prototype.Dsa=function(X){return this.Cb.Ly(X);};sa.prototype.pk=function(X){this.vg.pk(X);r.assert(this.U.cC,"Must have an appended branch on underflow");this.e9.sCa(this.U.cC,this.Lg);this.Rl("onUnderflow");this.events.emit("underflow");};sa.prototype.eh=function(X){this.HR.eh(X);};sa.prototype.AO=function(X){this.eh(new y.jPa(X));return this.Syb(X);};sa.prototype.Syb=function(X){if(!this.U.tCa(X))return (this.sh("player in use"),!1);this.U=X;this.np.eWa(this.U.La);this.U.events.on("segmentPresenting",this.mG);this.U.events.on("drmReady",this.B0);this.events.emit("playerChanged",{type:"playerChanged"});return !0;};sa.prototype.QB=function(X){var S,R;S=X.offset;R=this.navigator.kf(X.ea);X=R.M;S=R.Yd.add(S);return {M:X,In:S};};sa.prototype.Rq=function(X,S){var R;R=this.U.Rq(X);if(void 0 !== R)return R;R=this.U.cC;return E.Rq(X,{va:this,LQb:R && ({id:R.G.id,U2b:R.Qq})},S);};sa.prototype.gK=function(X){return this.U.gK(X);};sa.prototype.Uaa=function(X){return this.U.Uaa(X);};sa.prototype.$ea=function(X){var S;S=this.la.P[X.ea];if(void 0 !== S)return null === S.za || void 0 === S.za?{ea:X.ea,offset:m.O.max(m.O.ib,X.offset)}:{ea:X.ea,offset:m.O.max(m.O.ib,m.O.min(X.offset,m.O.Sa(S.za - S.ya)))};};sa.prototype.On=function(X,S){var R;X="string" === typeof X?{M:this.la.P[X].M,In:m.O.Sa(S)}:X;S=this.P7(X.M);try{return null === (R=S.R) || void 0 === R?void 0:R.On(this.config,X.In.V);}finally{S.u_.release();}};sa.prototype.Caa=function(){return Q.i2a(this.Cb,this.Fba.bind(this));};sa.prototype.Fba=function(X){X=this.Cb.sta(X);return void 0 === X || X.Pl && this.Fba(X);};sa.prototype.Baa=function(){return this.aX.oK;};sa.prototype.iMb=function(X){return T.k4a(this.Cb,X);};sa.prototype.ai=function(X){var S,R,W;S=this;this.Cb.IP(function(ia){var za,Ra;za=ia.bQ(0);Ra=ia.bQ(1);if(ia.G.px || !S.Cb.$ta(ia) || !ia.Pl){if(!R || za < R)R=za;if(!W || Ra < W)W=Ra;}return ia.Pl;});return {f3:R?Math.max(R - X.V,0):0,g3:W?Math.max(W - X.V,0):0};};sa.prototype.My=function(){var X,S,R,W;R=this.rw?this.ai(this.Lg):{f3:0,g3:0};W=C.default.instance().get();return {totalabuflmsecs:R.f3,totalvbuflmsecs:R.g3,abuflbytes:0,vbuflbytes:0,currentBandwidth:null !== (S=Number(0 < W.confidence) && (null === (X=W.fb) || void 0 === X?void 0:X.Ca)) && void 0 !== S?S:0};};sa.prototype.aQ=function(){var X,S,R,W,ia,za,Ra,Fa;X=this;if(this.ep())return (this.uh.vv({isStreamingFailureReported:!0}),[]);R=this.Cb.size;this.uh.vv({branchCount:R});if(!this.rw || 0 === R)return [];W=this.Lg;ia=this.Xh;za=[];R=this.navigator.kf(this.Xh.ea);Ra=R.duration;Fa=this.ih.get(R.id)?1:null !== (S=R.RC) && void 0 !== S?S:1;S=this.Cb.reduce(function($a,Ta,Xa){var eb,rb,la,wa,Ka;try{for(var U=k.__values(Ta.pZ()),fa=U.next();!fa.done;fa=U.next()){la=fa.value;if(!la.Wt()){wa="p" + X.id + "-" + Xa + "-" + (null === (rb=Ta.he) || void 0 === rb?void 0:rb.V);Ka=X.g4a(la);$a.push(X.qFb(la,Ka.V,wa,Ra.V,Fa,W.V,ia));}!la.PF() && X.uh.enabled && za.push({segmentId:la.ea,isDoneStreaming:la.Wt(),isNormalized:la.Ih(),needsHeaderRequest:la.track.lda});}}catch(ob){var ab;ab={error:ob};}finally{try{fa && !fa.done && (eb=U.return) && eb.call(U);}finally{if(ab)throw ab.error;}}return $a;},[]);this.uh.vv({nonStreamables:za});return S;};sa.prototype.g4a=function(X){var S;if(X.ona)return X.ona;S=this.h4a(X);return !S || this.config.p$ && this.navigator.rPb(S.Ab.G,X.ea)?X.tX:this.g4a(S);};sa.prototype.h4a=function(X){var S;return null === (S=this.Cb.sta(X.Ab)) || void 0 === S?void 0:S.$J(X.mediaType);};sa.prototype.YXb=function(X){var S,R;if(!this.Hfa.ep()){S=void 0;R=this.U.Xh;R && (S=this.navigator.kf(R.ea).M);this.sh("BufferingStateTracker: Temporary failure while buffering",S,"NFErr_MC_StreamingFailure",null === X || void 0 === X?void 0:X.Zh,null === X || void 0 === X?void 0:X.lK,null === X || void 0 === X?void 0:X.nk);}};sa.prototype.sh=function(X,S,R,W,ia,za,Ra){void 0 === Ra && (Ra=!1);"string" === typeof X?this.Hfa.sh(X,R,{networkErrorCode:W,httpCode:ia,nativeCode:za,viewableId:S,temporaryFailure:Ra}):this.Hfa.H1b(X);};sa.prototype.l3=function(X,S){S=this.zaa(S);this.events.emit("logdata",{type:"logdata",target:X,fields:S});};sa.prototype.zaa=function(X){var S;this.$7a.aTb(X);S=this.HR.Fm(X);X === x.ue.rq && (X=this.My(),S.vbuflmsec=X.totalvbuflmsecs,S.abuflmsec=X.totalabuflmsecs,S.vbuflbytes=X.vbuflbytes,S.abuflbytes=X.abuflbytes);return S;};sa.prototype.Jhb=function(X){this.aX=X;this.Rl("updateBudget");};sa.prototype.ep=function(){return this.Hfa.ep();};sa.prototype.bib=function(X){X !== this.weight && (this.SUa=X,this.events.emit("weightUpdated"));};sa.prototype.Oz=function(X){var S,R,W,ia,za,Ra,Ta,Xa,eb,rb,U,fa,la,wa,Ka,ab;W=H.pXa(this.la,X);ia=W.ER;za=W.eBb;Ra=W.E7b;if([W.Txb,ia,za].every(function(mb){return !mb.length;}))return {fa:!0,reason:d.Wx.vpb};if(0 === za.length && 0 === Ra.length && this.TB && this.U.Af)return {fa:!1,reason:d.Wx.Job};if(this.TB){if(this.U.Cb.some(function(mb){return -1 < ia.indexOf(mb.G.id);}))return {fa:!1,reason:d.Wx.lqb};this.rw && !this.U.Af && -1 < ia.indexOf(this.Cz.ea) && (this.Do=void 0);}if(this.rw)try{for(var Fa=k.__values(za),$a=Fa.next();!$a.done;$a=Fa.next()){Ta=$a.value;Xa=this.la.P[Ta];eb=Xa.ya;rb=Xa.za;U=Xa.M;fa=X.P[Ta];la=fa.za;wa=fa.ya;Ka=fa.M;if(this.Xh.ea === Ta && la !== rb){if(!la)return {fa:!1,reason:d.Wx.mqb};ab=m.O.Sa(la - wa);if(null === (R=this.Xh.offset) || void 0 === R?0:R.greaterThan(ab))return {fa:!1,reason:d.Wx.sjb};}if(eb !== wa)return {fa:!1,reason:d.Wx.Gmb};if(U !== Ka)return {fa:!1,reason:d.Wx.Hmb};}}catch(mb){var ob;ob={error:mb};}finally{try{$a && !$a.done && (S=Fa.return) && S.call(Fa);}finally{if(ob)throw ob.error;}}this.Deb(X);this.cq.start();return {fa:!0,reason:d.Wx.upb};};sa.prototype.Deb=function(X){this.st=X;this.navigator=new L.sOa(X);this.POb=H.JYa(this.navigator);};sa.prototype.H0=function(X,S){this.Scb(X);X.BP.addListener("criticalNetworkError",this.Dda);X.BP.addListener("temporaryNetworkError",this.G0);X.BP.addListener("updatingLastSuccessEvent",this.Kda);this.cd === f.Mk.Uj && S && this.Pdb();};sa.prototype.hya=function(X){0 === this.Cb.filter(function(S){return S.Sy && S.R === X;}).length && this.Scb(X);};sa.prototype.Scb=function(X){X.BP.removeListener("criticalNetworkError",this.Dda);X.BP.removeListener("temporaryNetworkError",this.G0);X.BP.removeListener("updatingLastSuccessEvent",this.Kda);};sa.prototype.ZUa=function(X){var S;r.assert(X.Ih,"expected branch to be normalized on addBranchToPlayer");this.U.St || (null === (S=this.Do) || void 0 === S?0:S.Ih) || this.iKb(X);this.vg.mga(X.sf);this.U.St && (S=this.U.cC) && this.ih.clear(S.G.id);this.U.kra(X);this.e9.sCa(X,this.Lg);};sa.prototype.iKb=function(X){r.assert(X.Ic,"Normalized branch should have a defined content start timestamp");r.assert(this.Do,"AsePlaygraph should have a seek position on first branch normalization");r.assert(!this.Do.Ih,"Seek position should not already be normalized on first branch normalization");this.Do=k.__assign(k.__assign({},this.Do),{position:{ea:X.G.id,offset:X.Ic.Ia(X.G.Yd)},Ih:!0});this.vg.s3b(this.Do.position,X.sf.filter(function(S){return 0 === S.mediaType;})[0]);};sa.prototype.OBb=function(){var X;this.e9.reset();this.U.tJ();this.Do=void 0;null === (X=this.PWa) || void 0 === X?void 0:X.clear();};sa.prototype.qFb=function(X,S,R,W,ia,za,Ra){var Fa,$a,Ta,Xa;Fa=this;Xa=null !== (Ta=null === ($a=X.Ab.he) || void 0 === $a?void 0:$a.V) && void 0 !== Ta?Ta:X.Ab.ps.V;$a=X.aH.V;Ta=this.ih.get(X.ea)?1:X.Ab.G.RC;return {identifier:X.ea,mediaType:X.mediaType,hi:X.hi,Lf:this.Lf.value,CC:S,Cu:$a,Gt:za,w1a:X.SJ.V,dza:Ra.offset.V,cza:W,l1:ia,RC:Ta,Ht:X.Ab.LJ.V,Pfb:Math.max($a - Xa,0),PF:X.PF(),Wt:X.Wt(),groupId:R,T6a:function(eb,rb){eb=Fa.Ofb.OAb(eb,X.mediaType,1 > rb || !Fa.Fba(X.Ab));1 === rb && "global" === d.Dza(eb.reason) && Fa.vg.vXb(X.mediaType,Fa.ai(Fa.Lg));return eb;},X6a:function(){var eb,rb,U,fa,la,wa,Ka,ab,ob,mb;fa=X.mediaType;la=Fa.Yta.a3b(Fa.Lf.value,Fa.Lg,X.aH,Fa.U.playbackRate,X,0 === fa?Fa.joa:Fa.iD,Fa.yO);wa=la.stream;Ka=la.y2;ab=la.pQ;ob=la.OG;mb=la.mz;la=la.reason;if(!wa)return {Im:!1,reason:la || "selectLocationsAndStream"};if(Fa.Lf.value === d.Zc.Uj && X.Ab && X.Ab.R.$o && !X.Ab.R.N_ && !Fa.U.ap(X.Ab.R.M)){la=X.aH.V - Fa.Lg.V;if(!X.Ab.R.Pf.jf && la > Fa.config.Owa)return {Im:!1,reason:"maxBufferingCompleteBufferInMs"};if(!wa.Fj && 1 === wa.mediaType && la >= Fa.config.Bca)return {Im:!1,reason:"maxFastPlayBufferInMs"};}la=1;if(null === (eb=X.Ab) || void 0 === eb?0:eb.sf.every(function(Gb){return 0 === Gb.mediaType;}))la=0;Fa.vg.Og && fa === la && Fa.vg.F3b(X.Jk.WR,wa.bitrate,ab);Fa.ZR(Ka);eb=null === (rb=X.Ab.nr) || void 0 === rb?void 0:rb.V;rb=X.rhb(wa,mb,ob);rb.Im && (Fa.Ola && (Fa.vn("firstDriveStreaming"),Fa.Ola=!1),0 < Fa.iF && (wa=null === (U=X.Ab.nr) || void 0 === U?void 0:U.V,eb && wa && (Fa.iF-=eb - wa,0 >= Fa.iF && Fa.Pdb())));return rb;}};};sa.prototype.ZR=function(X){var S;S=this;X.forEach(function(R){R.R.y3b(R,function(){var W,ia;r.assert(S.rw,"Speculative header callback after streaming is cancelled");W=S.Lg.V;ia=W + S.config.X_;return {hi:[],Lf:S.vg.state.value,CC:ia,Cu:ia,Gt:W};});});};sa.prototype.Pdb=function(){var X;X=this;this.cq.zga(xa.RH.fA,function(){return X.cq.start();});};sa.prototype.Fea=function(){var X,S,R,W,ia,za,Ra;X=this;if(this.cd === f.Mk.Uj){S=this.Xh;R=this.U.Cb;W=this.Cb.BOb();ia=k.__read(R,1)[0];ia=ia?this.navigator.kf(ia.G.id):this.navigator.kf(S.ea);R=R.map(function(Fa){return Fa.G.id;});R=K.Fea(this.console,this.POb,ia,W,this.ih,R,m.O.Sa(this.config.Qzb),this.config.qxa,m.O.Sa(this.config.Aoa));W=R.Qea;R=R.iF;ia=k.__read(W);za=ia[0];ia=ia.slice(1);Ra=ia.filter(function(Fa){return Fa.Tw;});r.assert(ia.length === Ra.length,"Missing parent branch");r.assert(!ia.length || ia.some(function(Fa){return Fa.Tw === za;}),"Disconnected tree");this.iF=R || 0;this.Cb.P7b(W,function(Fa,$a){var Ta;Ta=X.navigator.kf(Fa);Fa=Fa !== S.ea || X.U.St?Ta.Yd:Ta.Yd.add(S.offset);return X.t7b(Ta,Fa,$a);}).ER.forEach(function(Fa){Fa.Mf("aborted");});this.Gcb();this.MXa();this.cq.zga(xa.RH.fA,function(){X.Rl("reevaluateBranches");X.cq.V_(xa.RH.DU);});this.events.emit("branchesReevaluated",{type:"branchesReevaluated"});}};sa.prototype.KOb=function(){return w.EW(this.Cb.filter(function(X){return X.Sy;}).map(function(X){return X.R;}));};sa.prototype.Gcb=function(){var X,S;X=this;if(this.cd === f.Mk.Uj){if(!this.U.cC){S=k.__read(this.Cb.Ly(this.Cz.ea),1)[0];(null === S || void 0 === S?0:S.Ih) && this.ZUa(S);}if(this.U.cC)for(;;){S=this.X2a(this.U.cC.G);if(!S)break;S=k.__read(this.Cb.Ly(S).filter(function(R){return R.parent === X.U.cC;}),1)[0];if(!S)break;if(null === S || void 0 === S || !S.Ih)break;else if(this.U.I4a(S))break;this.ZUa(S);}}};sa.prototype.D3a=function(X){var S,R,W,ia;if(this.U.St){S=this.U.Qi;R=!1;W=this.U.Cb.filter(function(za){R || (R=za === S);return R;});ia=w.Ko(W,function(za){return za.G.id === X.id;});if(W=W[ia + 1])return W.G.id;}return this.X2a(X);};sa.prototype.X2a=function(X){var S;S=this.ih.get(X.id);if(void 0 !== S)return S;X=this.navigator.$Lb(X);if(1 === X.length)return X[0].id;};sa.prototype.MXa=function(){var X;X=0 !== this.cLb();X || this.Gfa?X && this.Gfa && (this.Gfa=!1):(this.vg.Og && (X=this.ai(this.Lg),this.vg.yf("complete",X.f3,X.g3)),this.Kub(),this.Gfa=!0);};sa.prototype.cLb=function(){return this.Cb.filter(function(X){return !X.Pl;}).length;};sa.prototype.qt=function(X){this.Fba(X) && this.vg.lpa(this.Lg,this.U.playbackRate,X,{kpa:this.Yta.kpa.bind(this.Yta,this.Ofb)});};sa.prototype.oXb=function(X,S){var R,W;R=this;if(S.didNormalizeSegment){W=M.IPa.JOb(X);r.assert(W,"Segment should be normalized");Promise.resolve().then(function(){return R.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:X.G.id,normalizedStart:S.segmentContentStart,normalizedEnd:S.branchContentEnd,viewableContentEnd:W.k9b,viewableEarliestContentEnd:W.m9b});});}Promise.resolve().then(function(){R.Gcb();});this.Rl("branchNormalized");};sa.prototype.pXb=function(){this.MXa();};sa.prototype.nXb=function(){this.cq.start();};sa.prototype.t7b=function(X,S,R){var W,ia,za,Ra,Fa,$a,Ta,Xa;W=this;if(this.JBb(X,S))throw Error("Not implemented");Fa=!this.U.St && !this.Cb.has(this.Cz.ea);$a=new h.KEa(X.M,this.P7,function(eb,rb,U){W.state !== f.Mk.CLOSED && (W.H0(rb,U),W.cq.zga(xa.RH.DU,function(){W.I7(eb,rb,Fa);}));},this.hya.bind(this));Ta=l.IYa({config:this.config,console:this.console,ZZb:R,G:X,events:this.events,EL:this.EL,NQb:S,Cd:null !== (Ra=null === (za=null === (ia=this.Do) || void 0 === ia?void 0:ia.Sya) || void 0 === za?void 0:za.Ia(this.Udb)) && void 0 !== Ra?Ra:m.O.ib,Ue:function(){return W.Lg.V;},Lf:this.Lf,np:this.np,pM:$a,WWa:this.Pp});Xa=new g.Fg();Xa.addListener(Ta.events,"needsRequest",this.Rl.bind(this,"branchNeedsHeader"));Xa.addListener(Ta.events,"branchNormalized",this.oXb.bind(this,Ta));Xa.addListener(Ta.events,"lastRequestIssued",this.nXb.bind(this,Ta));Xa.addListener(Ta.events,"branchStreamingComplete",this.pXb.bind(this,Ta));Xa.addListener(Ta.events,"checkBufferingProgress",this.qt.bind(this,Ta));Xa.addListener(Ta.events,"branchDestroyed",function(eb){Xa.clear();W.Cb.contains(Ta) && (W.Cb.Iea(Ta),W.cq.start());"aborted" === eb.reason && (W.U.I4a(Ta) || W.cq.zga(xa.RH.fA,function(){return W.wma(Ta.G.id);}));});void 0 === R && (this.vn("createDlTracksStart"),Ta.events.once("requestQueuesCreated",function(){W.vn("createDlTracksEnd");}));Ta.xa();return Ta;};sa.prototype.wNb=function(X){if(this.U.Af)return this.U.Qi.rb(X);};sa.prototype.EL=function(X,S,R){return [[0,null !== S && void 0 !== S?S:this.OW,"audio_tracks"],[1,null !== R && void 0 !== R?R:this.iDa,"video_tracks"]].map(function(W){var ia,za;ia=k.__read(W,3);za=ia[1];W=ia[2];if(X.pa && (r.assert(za,"Expected mediaType " + ia[0] + " track selector to be defined"),ia=za.vu(X.pa,X.pa[W]),void 0 !== ia))return X.getTrackById(X.pa[W][ia].CS);}).filter(w.yda);};sa.prototype.I7=function(X,S,R){X={type:"segmentStarting",segmentId:X.G.id,contentOffset:X.Cd.V,maxBitrates:{audio:S.du[0],video:S.du[1]},media:c(X.sf),initial:R};this.events.emit(X.type,X);};sa.prototype.wma=function(X){X={type:"segmentAborted",segmentId:X};this.events.emit(X.type,X);};sa.prototype.Kub=function(){var X;X={type:"streamerEnd",time:p.default.time.ma()};this.events.emit(X.type,X);};sa.prototype.vn=function(X){X={type:"startEvent",event:X,time:p.default.time.ma()};this.events.emit(X.type,X);};k.__decorate([D.Hb({methodName:"checkCanSetTracks",return:!0})],sa.prototype,"iBb",null);k.__decorate([D.Hb({methodName:"setTracks",return:!0})],sa.prototype,"Ez",null);k.__decorate([D.Hb({methodName:"setNextSegment",Jo:!0})],sa.prototype,"oj",null);k.__decorate([D.Hb({methodName:"seekStreaming"}),k.__param(0,ya.qw())],sa.prototype,"SC",null);k.__decorate([ya.return.OYa(),k.__param(0,ya.qw())],sa.prototype,"QB",null);k.__decorate([ya.return.qw()],sa.prototype,"Rq",null);k.__decorate([k.__param(0,ya.qw())],sa.prototype,"gK",null);k.__decorate([k.__param(0,ya.qw())],sa.prototype,"Uaa",null);k.__decorate([ya.return.qw(),k.__param(0,ya.qw())],sa.prototype,"$ea",null);k.__decorate([k.__param(0,ya.OYa()),k.__param(0,ya.ea())],sa.prototype,"On",null);k.__decorate([D.Hb({methodName:"getStreamables",Ul:!0})],sa.prototype,"aQ",null);k.__decorate([D.Hb({methodName:"updatePlaygraphMap",return:!0})],sa.prototype,"Oz",null);return sa;})();b.gha=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.KEa=void 0;c=a(1);q=(function(){function k(g,f,d,h){this.M=g;this.KG=f;this.H0=d;this.hya=h;}Object.defineProperties(k.prototype,{R:{get:function(){var g;return null === (g=this.J3) || void 0 === g?void 0:g.R;},enumerable:!1,configurable:!0}});k.prototype.Rb=function(){var g;this.R && (this.R.GCa(this.Ab),this.hya(this.R));null === (g=this.J3) || void 0 === g?void 0:g.u_.release();this.J3=void 0;};k.prototype.xa=function(g){return c.__awaiter(this,void 0,void 0,function(){var f,d,h,m,l;return c.__generator(this,function(n){switch(n.label){case 0:return (this.Ab=g,f=this.KG(this.M),d=f.sH,h=f.R,m=f.u_,this.J3={u_:m,R:h},h?(this.M5a(h,g,!1),[2,h]):[4,d]);case 1:return (l=n.pc(),this.M5a(l,g,!0),[2,l]);}});});};k.prototype.M5a=function(g,f,d){this.J3 && (this.J3.R=g,g.Lza(f),this.H0(f,g,d));};return k;})();b.KEa=q;},function(q,b,a){var c,k,g,f,d;Object.defineProperties(b,{__esModule:{value:!0}});b.IYa=void 0;c=a(47);k=a(1100);g=a(8);f=a(1101);d=a(1105);b.IYa=function(h){var m,l,n,p,r,t,w,v,u,x,y,z;m=h.config;l=h.console;n=h.ZZb;p=h.G;r=h.events;t=h.EL;w=h.NQb;v=h.Cd;u=h.Ue;x=h.Lf;y=h.np;z=h.pM;h=h.WWa;p.M === c.$H?(r=new k.yMa(p.M,m.yYb),m=new d.xMa(l,p,g.O.ib,n,r,m)):m=new f.HEa(m,l,r,p,t,w,v,u,n,x,y,z,h);return m;};},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.yMa=void 0;c=a(47);q=(function(){function k(g,f){this.M=g;this.h9b=f;this.L="" + c.$H;}k.prototype.getTrackById=function(){};k.prototype.pk=function(){};k.prototype.Jcb=function(){};k.prototype.sh=function(){return !0;};k.prototype.tL=function(){};return k;})();b.yMa=q;},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r,t;Object.defineProperties(b,{__esModule:{value:!0}});b.HEa=b.rD=void 0;c=a(1);k=a(8);g=a(21);q=a(74);f=a(39);d=a(4);h=a(194);m=a(275);l=a(15);n=a(1102);p=a(474);r=a(1103);(function(w){w[w.xT=0]="CREATED";w[w.pT=1]="CANCELLED";})(t=b.rD || (b.rD={}));a=(function(w){function v(u,x,y,z,A,B,D,C,F,G,E,I,K){var L;L=w.call(this,z,F,D,x) || this;L.K=u;L.Yda=y;L.waa=A;L.Ut=B;L.sV=C;L.parent=F;L.CA=G;L.ny=E;L.pM=I;L.Pp=K;L.Vy=new m.TM();L.$za=0;L.Yxa=function(){!L.Vh && L.aba && (L.R.vw.zC("onHeaderFragments",L.Yxa),L.wba.resolve());};L.Mm=new k.EH();L.wba=new k.EH();L.parent && (L.parent.fd && (u=L.parent.fd.Ia(L.Ol.Yd),L.pr(u,"parent")),L.parent.K3.then(function(){var H;H=L.parent;H.fd && (H=H.fd.Ia(L.Ol.Yd),L.pr(H,"parent async"));}));return L;}c.__extends(v,w);Object.defineProperties(v.prototype,{sf:{get:function(){var u;this.Sy && 0 === (null === (u=this.gW) || void 0 === u?void 0:u.length) && this.waa && (this.gW=this.waa(this.R).sort(p.oH));return this.gW;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Dw:{get:function(){var u;return !(null === (u=this.Wd) || void 0 === u || !u.Dw);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Pl:{get:function(){var u;return !(null === (u=this.Wd) || void 0 === u || !u.Pl);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{vt:{get:function(){var u,x;return null !== (x=null === (u=this.Wd) || void 0 === u?void 0:u.vt) && void 0 !== x?x:0;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Ih:{get:function(){var u;return !(null === (u=this.Wd) || void 0 === u || !u.Ih);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{K3:{get:function(){return this.Mm.promise.then(function(){});},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Sy:{get:function(){var u;return !(null === (u=this.pM) || void 0 === u || !u.R);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{aba:{get:function(){return ! !this.sf.length && this.sf.every(function(u){return u.Ie;});},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{R:{get:function(){d.assert(this.pM.R,"viewable should be available");return this.pM.R;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{I:{get:function(){var u;return (null === (u=this.Wd) || void 0 === u?void 0:u.I) || this.Ut.I;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{bb:{get:function(){var u,x;return null !== (x=null === (u=this.Wd) || void 0 === u?void 0:u.bb) && void 0 !== x?x:this.Ut.qa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{wb:{get:function(){var u,x;return null !== (x=null === (u=this.Wd) || void 0 === u?void 0:u.wb) && void 0 !== x?x:this.G.Ng.qa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Kj:{get:function(){var u,x;return null !== (x=null === (u=this.Wd) || void 0 === u?void 0:u.Kj) && void 0 !== x?x:this.Cd.Yc(this.I).qa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{ps:{get:function(){var u,x,y;return null !== (x=null === (u=this.Wd) || void 0 === u?void 0:u.ps) && void 0 !== x?x:null === (y=this.Ut) || void 0 === y?void 0:y.add(this.Cd);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{SJ:{get:function(){var u,x;x=null === (u=this.G.G.tq) || void 0 === u?void 0:u[0];return x && this.Ic?g.O.Sa(Math.max(0,x[0] - this.Ic.V - this.G.Yd.V)):g.O.ib;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Qq:{get:function(){var u,x;return null !== (x=null === (u=this.Wd) || void 0 === u?void 0:u.Qq) && void 0 !== x?x:this.G.Yd.add(this.Cd);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{EC:{get:function(){var u,x;return null !== (x=null === (u=this.Wd) || void 0 === u?void 0:u.EC) && void 0 !== x?x:this.G.Ng.add(this.Cd);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{s_:{get:function(){var u;return null === (u=this.Wd) || void 0 === u?void 0:u.s_;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Cd:{get:function(){var u,x;return null !== (x=null === (u=this.Wd) || void 0 === u?void 0:u.Cd) && void 0 !== x?x:this.xo;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{nr:{get:function(){var u,x;return null !== (x=null === (u=this.Wd) || void 0 === u?void 0:u.nr) && void 0 !== x?x:this.G.Ng.Ia(this.Ut || this.G.Yd);},enumerable:!1,configurable:!0}});v.prototype.xa=function(){return c.__awaiter(this,void 0,void 0,function(){var u,x;x=this;return c.__generator(this,function(y){switch(y.label){case 0:if(this.Vh)return [2];l.aa && this.console.log("AseBranch {" + this.G.id + "} awaiting viewable");return [4,this.pM.xa(this)];case 1:y.pc();l.aa && this.console.log("AseBranch {" + this.G.id + "} viewable available, branch " + (this.Vh?"cancelled":"active"));if(this.Vh)return [2];u=this.sf.map(function(z){var A;return null === (A=x.parent) || void 0 === A?void 0:A.xZ(z.mediaType);});this.web(this.Ut);return [4,this.d1a()];case 2:return (y.pc(),l.aa && this.console.log("AseBranch {" + this.G.id + "} have headers"),this.Vh?[2]:this.parent?[4,this.parent.K3]:[3,4]);case 3:y.pc();if(this.Vh)return [2];this.Vy.forEach(function(z){var A,B;B=null === (A=x.parent) || void 0 === A?void 0:A.xZ(z.mediaType);d.assert(B,"Parent state should be defined");-1 === u.indexOf(B) && (z.Jk.Sf.Rb(),A=new h.y6(B),z.Jk.Sf=A);});y.label=4;case 4:return (this.normalize(),[2]);}});});};v.prototype.d1a=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){this.aba?this.wba.resolve():(this.R.vw.on("onHeaderFragments",this.Yxa),this.events.emit("needsRequest"));return [2,this.wba.promise];});});};v.prototype.normalize=function(){this.Vh || (this.Wd=new r.RLa(this,this.K,this.console,this.R,this.Yda,this.Ol,this.Ut,this.Vy.items,this.xo,this.sV,this.parent,this.CA,this.events,this.ny,this.Pp),this.Xqa(this.Wd.dF),this.Mm.resolve(this.Wd));};v.prototype.update=function(u){var x;this.Ol=u;(null === (x=this.Wd) || void 0 === x?0:x.update(u)) && this.Xqa(!0);};v.prototype.pr=function(u,x){var y;void 0 === x && (x="unk");l.aa && this.console.log("AseBranch adjusting branchOffset to " + u.V + (" from " + this.xo.V + ".  " + x));this.xo=u;null === (y=this.Wd) || void 0 === y?void 0:y.pr(u);};v.prototype.Py=function(u){return c.__awaiter(this,void 0,void 0,function(){var x;return c.__generator(this,function(y){switch(y.label){case 0:return [4,this.Mm];case 1:return (x=y.pc(),[2,null === x || void 0 === x?void 0:x.Py(u)]);}});});};v.prototype.mF=function(){var u;null === (u=this.Wd) || void 0 === u?void 0:u.mF();};v.prototype.reset=function(){var u;null === (u=this.Wd) || void 0 === u?void 0:u.reset();};v.prototype.Mf=function(u){var x;void 0 === u && (u="other");this.cd=t.pT;this.Sy && this.R.vw.zC("onHeaderFragments",this.Yxa);null === (x=this.Wd) || void 0 === x?void 0:x.Mf();this.Vy.forEach(function(y){return y.cancel();});this.pM.Rb();this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:u});this.events.removeAllListeners();};v.prototype.rQ=function(u){var x;return !(null === (x=this.Wd) || void 0 === x || !x.rQ(u));};v.prototype.rb=function(u){var x;return null === (x=this.Wd) || void 0 === x?void 0:x.rb(u);};v.prototype.cba=function(u){return this.sf.some(function(x){return x.mediaType === u;});};v.prototype.zq=function(u){var x,y;void 0 === u && (u=p.oH);return null !== (y=null === (x=this.Wd) || void 0 === x?void 0:x.zq(u)) && void 0 !== y?y:[];};v.prototype.xZ=function(u){var x,y;return (null === (x=this.rb(u)) || void 0 === x?void 0:x.Jk.Sf) || (null === (y=this.Vy.get(u)) || void 0 === y?void 0:y.Jk.Sf);};v.prototype.pZ=function(){var u,x;return this.aba?null !== (x=null === (u=this.Wd) || void 0 === u?void 0:u.pZ()) && void 0 !== x?x:[]:this.Vy.items;};v.prototype.$J=function(u){var x;return (null === (x=this.Wd) || void 0 === x?void 0:x.$J(u)) || this.Vy.get(u);};v.prototype.ai=function(u,x){var y;return (null === (y=this.Wd) || void 0 === y?void 0:y.ai(u,x)) || 0;};v.prototype.HB=function(){var u;return (null === (u=this.Wd) || void 0 === u?void 0:u.HB()) || ({});};v.prototype.bQ=function(u){var x;return (null === (x=this.Wd) || void 0 === x?void 0:x.bQ(u)) || this.ps.V;};v.prototype.Ez=function(u,x,y){return c.__awaiter(this,void 0,void 0,function(){var z,A,B,D;return c.__generator(this,function(C){switch(C.label){case 0:this.gW=u.sort(p.oH);this.web(x);if(!this.Ih)return [3,4];d.assert(this.Wd);z=this.Vy.filter(function(F){return F.track.Ie;}).items;A=this.Wd.Thb(z,x,y);B=A.eY;D=A.dF;B && this.Xqa(D);if(this.aba)return [3,4];this.wba=new k.EH();this.Mm=new k.EH();l.aa && this.console.log("AseBranch {" + this.G.id + "} setTracks waiting for headers");return [4,this.d1a()];case 1:return (C.pc(),this.Vh?[2]:this.parent?[4,this.parent.K3]:[3,3]);case 2:(C.pc(),C.label=3);case 3:(this.Wd.Thb(this.Vy.items,x,y),l.aa && this.console.log("AseBranch {" + this.G.id + "} setTracks pipelines updated"),this.Mm.resolve(this.Wd),this.events.emit("needsRequest"),C.label=4);case 4:return [2];}});});};v.prototype.web=function(u){var x;x=this;this.$za=0;this.Vy=new m.TM(this.sf.map(function(y){var z,A;A=x.Vy.find(function(B){return B.track === y;});A || (++x.$za,A=new n.qIa(x,y,function(){return (null === u || void 0 === u?void 0:u.add(x.Cd)) || g.O.ib;},x.K,x.console,null === (z=x.parent) || void 0 === z?void 0:z.xZ(y.mediaType),x.Yda,function(){0 === --x.$za && x.events.emit("requestQueuesCreated");}));return A;}));};v.prototype.en=function(u){var x;return (null === (x=this.Wd) || void 0 === x?void 0:x.en(u)) || [];};v.prototype.RE=function(u){var x;return !(null === (x=this.Wd) || void 0 === x || !x.RE(u));};v.prototype.$Y=function(u){return this.Wd?this.Wd.$Y(u):g.O.ib;};v.prototype.ega=function(u){var x;return !(null === (x=this.Wd) || void 0 === x || !x.ega(u));};v.prototype.Xqa=function(u){u={type:"branchNormalized",segmentContentStart:this.G.Yd,branchContentStart:this.Ic,branchContentEnd:this.Ud,didNormalizeSegment:u};this.events.emit(u.type,u);l.aa && this.console.trace("branchNormalized:",u);};v.prototype.toJSON=function(){var u;return (null === (u=this.Wd) || void 0 === u?void 0:u.toJSON()) || ({});};return v;})(p.rha);b.HEa=a;f.Xe(q.Pu,a);f.Xe(q.Yz,a);},function(q,b,a){var c,k,g,f,d,h;Object.defineProperties(b,{__esModule:{value:!0}});b.qIa=void 0;c=a(1);k=a(459);g=a(132);f=a(194);d=a(278);h=a(4);q=(function(){function m(l,n,p,r,t,w,v,u){this.Ab=l;this.track=n;this.e5b=p;this.config=r;this.console=t;this.events=v;this.PXb=u;this.gp=0;this.Hbb=this.Pl=!1;this.Jk=this.pFb(w);}Object.defineProperties(m.prototype,{mediaType:{get:function(){return this.track.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ea:{get:function(){return this.Ab.G.id;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{hi:{get:function(){return this.Ab.hi;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Afa:{get:function(){return this.e5b();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{tX:{get:function(){return this.Afa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{aH:{get:function(){return this.Afa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{SJ:{get:function(){return this.Ab.SJ;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{og:{get:function(){return this.bf || (this.bf=this.Ov());},enumerable:!1,configurable:!0}});m.prototype.PF=function(){return this.track.lda;};m.prototype.Wt=function(){return this.track.Ie;};m.prototype.Ih=function(){return !1;};m.prototype.V2a=function(){return {Z:[],Tda:0,uk:0,bo:0};};m.prototype.c7b=function(){var l;h.assert(this.Wt());l=this.og;this.bf=void 0;return l;};m.prototype.rhb=function(l){return (l=l.lH(this.og))?{Im:l,reason:"success"}:{Im:l,reason:"pipelineTryIssueHeaderRequest"};};m.prototype.cancel=function(){this.bf && (this.Ab.R.oO(this.mediaType,this.bf),g.wr.instance.hP(this.bf),this.bf.removeAllListeners(),this.bf=void 0);};m.prototype.pFb=function(l){var n,p;n=0 === this.mediaType?this.config.mWa:this.config.RBa;l=new f.y6(l);l.t2(this.track);p=this.config;return new d.Bka(n,this.config,l,0 === this.mediaType?p.Zqa:p.$qa);};m.prototype.Ov=function(){var l,n;l=this;n=this.track.cp?c.__assign(c.__assign({},this.config),{qib:!0}):this.config;n=k.Ov(this.mediaType,this.track.R,n,this.console,function(p){return l.events.emit("transportReport",p);},function(p){return l.events.emit("mediaRequestComplete",p);},function(){});n.on("created",this.PXb);return n;};return m;})();b.qIa=q;},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t,w,v,u;function c(x,y){return (1 === x.mediaType?0:1) - (1 === y.mediaType?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.RLa=b.Mja=void 0;k=a(1);g=a(453);f=a(87);d=a(164);h=a(17);m=a(1104);l=a(8);n=a(25);p=a(4);r=a(21);t=k.__importDefault(a(5));q=a(74);w=a(39);v=a(275);u=a(475);b.Mja={oH:c};a=(function(x){function y(z,A,B,D,C,F,G,E,I,K,L,H,P,N,J){var M,O;O=x.call(this,D) || this;O.Ab=z;O.K=A;O.R=D;O.Yda=C;O.Ol=F;O.xo=I;O.sV=K;O.parent=L;O.CA=H;O.events=P;O.ny=N;O.Pp=J;O.Be=new v.TM([]);O.rn=!1;O.BV=0;O.bV=O.Vxa.bind(O);p.assert(D.M === O.G.M || isNaN(D.M) && isNaN(O.G.M));O.console=l.jk(t.default,B,F.id && F.id.length?"{" + F.id + "}":"");O.Ut=null !== G && void 0 !== G?G:r.O.Sa(O.G.da);O.Dma=null === L || void 0 === L?void 0:L.fd;null === (M=O.CA) || void 0 === M?void 0:M.addListener(O.bV);z=O.jZa(E,O.Ut,! !O.parent).dF;O.dF=z;return O;}k.__extends(y,x);Object.defineProperties(y.prototype,{Vh:{get:function(){return this.rn;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{G:{get:function(){return this.Ol;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Dw:{get:function(){return this.Be.every(function(z){return z.Dw;});},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Pl:{get:function(){return this.Be.every(function(z){return z.Pl;});},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{vt:{get:function(){return this.zq().reduce(function(z,A){return z + A.vt;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Ih:{get:function(){return this.zq().every(function(z){return z.Ih();});},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{sf:{get:function(){return this.Ab.sf;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{I:{get:function(){return this.pv.I;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{bb:{get:function(){return this.pv.bb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{wb:{get:function(){return this.pv.wb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Kj:{get:function(){return this.Cd.Yc(this.I).qa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ps:{get:function(){return this.Ut.add(this.Cd);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Qq:{get:function(){return this.G.Yd.add(this.Cd);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{EC:{get:function(){return this.G.Ng.add(this.Cd);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{s_:{get:function(){return this.Be.reduce(function(z,A){return z && A.fd?r.O.max(z,A.fd):A.fd?A.fd:z;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Rua:{get:function(){return this.ps.V;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{df:{get:function(){return this.Cd.V;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{nr:{get:function(){return this.pv.nr;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Cd:{get:function(){return this.xo;},enumerable:!1,configurable:!0}});y.prototype.Thb=function(z,A,B){var D;void 0 === A && (A=null !== (D=this.Ic) && void 0 !== D?D:this.Ut);return this.jZa(z,A,B);};y.prototype.update=function(z){var A,B,D;D=z.Ng.n0(this.Ol.Ng);this.Ol=z;return D && this.iE?(D=k.__read(this.iE.z1b(z,z.Ng),2),z=D[0],D=D[1],p.assert(z && D,"branch.update: lastFragment should be defined"),null === (A=this.rb(0)) || void 0 === A?void 0:A.truncate(z),null === (B=this.rb(1)) || void 0 === B?void 0:B.truncate(D),this.events.emit("branchEdited",{type:"branchEdited"}),!0):!1;};y.prototype.pr=function(z){this.Cd.equal(z) || (this.xo=z,this.events.emit("branchEdited",{type:"branchEdited"}));};y.prototype.Py=function(z){return k.__awaiter(this,void 0,void 0,function(){var A;return k.__generator(this,function(B){switch(B.label){case 0:return [4,Promise.resolve()];case 1:return (B.pc(),(A=this.rb(z))?[2,A.Py()]:[2,d.AsyncIterator.M2a()]);}});});};y.prototype.mF=function(){this.zq().forEach(function(z){return z.mF();});};y.prototype.nW=function(){this.Be.forEach(function(z){return z.nW();});};y.prototype.reset=function(){this.Be.forEach(function(z){z.reset();});};y.prototype.Mf=function(){var z,A;this.rn || (this.rn=!0,null === (z=this.iE) || void 0 === z?void 0:z.sd(),this.iE=void 0,this.Be.forEach(function(B){B.Mf();}),null === (A=this.CA) || void 0 === A?void 0:A.removeListener(this.bV));};y.prototype.rQ=function(){return !0;};y.prototype.rb=function(z){return this.Be.get(z);};y.prototype.zq=function(z){void 0 === z && (z=c);return this.Be.items.slice().sort(z);};y.prototype.pZ=function(){return this.Be.items;};y.prototype.$J=function(z){return this.rb(z);};y.prototype.ai=function(z,A){z=this.rb(z);if(!z)return 0;if(A)return z.co;A=z.Wr;if(void 0 === A)return 0;z=this.sV();return A - z;};y.prototype.HB=function(){var z,A,B,D,C,F,G;G=null === (z=this.rb(0)) || void 0 === z?void 0:z.Po;z=null === (A=this.rb(1)) || void 0 === A?void 0:A.Po;return {Ap:null !== (B=null === z || void 0 === z?void 0:z.V) && void 0 !== B?B:0,ut:null !== (D=null === G || void 0 === G?void 0:G.V) && void 0 !== D?D:0,Ku:null !== (C=null === z || void 0 === z?void 0:z.ga) && void 0 !== C?C:0,yE:null !== (F=null === G || void 0 === G?void 0:G.ga) && void 0 !== F?F:0};};y.prototype.bQ=function(z){var A;return (z=this.rb(z))?null !== (A=z.Wr) && void 0 !== A?A:0:0;};y.prototype.en=function(z){z=this.rb(z);return (null === z || void 0 === z?void 0:z.en()) || [];};y.prototype.Vxa=function(z){h.Fq(z.newValue) && this.qt();};y.prototype.RE=function(z){return this.Be.every(function(A){return A.RE(z);});};y.prototype.$Y=function(z){var A,B;return null !== (B=null === (A=this.Be.get(z)) || void 0 === A?void 0:A.EZa) && void 0 !== B?B:r.O.ib;};y.prototype.ega=function(z){var A,B,D;A=this.pv.ESb;if(!A)return !1;B=n.oe(z,function(C){return A.V <= C.Ic.V;});if(!B)return !1;z=!1;D=k.__read(u.Uza(this.K,this.Be,B.Ic),2);B=D[0];if(D=D[1])(this.rb(1).truncate(D),z=!0);B && (this.rb(0).truncate(B),z=!0);z && (B={type:"branchEdited"},this.events.emit(B.type,B));return z;};y.prototype.Nm=function(z){this.rn || (z.z8 || p.assert(!z.Qc),this.qt(),this.Pl && this.Ama());this.ew(z);};y.prototype.$K=function(z){this.K.q$ && this.qt(!0);this.TJ(z);};y.prototype.ZK=function(z){this.K.q$ && this.qt(!0);this.tF(z);};y.prototype.jZa=function(z,A,B){var D,C,F;D=this;C=new v.TM();F=!1;z.forEach(function(G){var E;E=D.Be.find(function(I){return I.track === G.track;});void 0 === E?(F=!0,E=new g.Lja(D,D.K,D.console,D.Yda,D.Ab,G.track,A,G.Jk,!0,void 0,G.c7b(),D.ny,D.Pp),E.events.on("lastRequestIssued",function(){return D.Dw && D.events.emit("lastRequestIssued",{type:"lastRequestIssued"});})):(D.Be.remove(E),E.nW());C.add(E);});this.Be.forEach(function(G){return G.Mf();});this.Be=C;return F?this.normalize(A,B):{eY:!1,dF:!1};};y.prototype.normalize=function(z,A){var B,D;null === (B=this.iE) || void 0 === B?void 0:B.sd();this.iE=new m.sNa({console:this.console,config:this.K,R:this.R,G:this.G,cm:this.Be,Ic:z,Ud:null !== (D=this.G.Ng) && void 0 !== D?D:void 0 !== this.G.Ta?r.O.Sa(this.G.Ta):void 0,splice:A});this.pv=this.Be.m1;A=this.iE.normalize();z=A.eY;A=A.dF;z && this.Dma && (this.xo=this.Dma.Ia(this.Ic));return {eY:z,dF:A};};y.prototype.kBa=function(z){var A;return h.Fq((null === (A=this.CA) || void 0 === A?void 0:A.value) || h.Zc.Uj) && (!z || this.BV + this.K.Yca < t.default.time.ma());};y.prototype.qt=function(z){void 0 === z && (z=!1);this.kBa(z) && (this.BV=t.default.time.ma(),z={type:"checkBufferingProgress"},this.events.emit(z.type,z));};y.prototype.Ama=function(){var z;z={type:"branchStreamingComplete"};this.events.emit(z.type,z);};y.prototype.toJSON=function(){var z,A;return {segment:this.G.id,branchOffset:this.df,viewableId:this.Ol.M,contentStartPts:null === (z=this.Ic) || void 0 === z?void 0:z.V,contentEndPts:null === (A=this.Ud) || void 0 === A?void 0:A.V};};return y;})(f.yx);b.RLa=a;w.Xe(q.Pu,a);},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.sNa=void 0;c=a(1);k=a(475);g=a(4);q=(function(){function f(d){var h,m,l,n,p,r,t,w;h=this;m=d.console;l=d.config;n=d.R;p=d.cm;r=d.G;t=d.Ic;w=d.Ud;d=d.splice;this.WZ=this.RO=!1;this.JXa=function(){h.RO || h.Lna() && h.Gxa();};this.console=m;this.config=l;this.cm=p;this.R=n;this.G=r;this.Ic=t;this.Ud=w;this.splice=d;}f.prototype.xa=function(d){if(this.RO)throw Error("Cannot call init() after cleanup");if(this.WZ)throw Error("Cannot call init() twice");this.WZ=!0;this.$$a=d;this.R.vw.addListener("onHeaderFragments",this.JXa);this.Lna() && this.Gxa();};f.prototype.normalize=function(){if(this.RO)throw Error("Cannot call normalize() after cleanup");if(this.WZ)throw Error("Cannot call init() / normalize() twice");this.WZ=!0;g.assert(this.Lna());return this.Gxa();};f.prototype.z1b=function(d,h){g.assert(this.WZ,"expected to be called init() before renormalize");this.G=d;this.Ud=h;d=k.Uza(this.config,this.cm,this.Ud);this.vda();return d;};f.prototype.sd=function(){this.RO || (this.RO=!0,this.$$a=void 0,this.R.vw.removeListener("onHeaderFragments",this.JXa));};f.prototype.Gxa=function(){var d,h,m;if(this.RO)return {eY:!1,dF:!1};h=this.zWb();m=!1;this.G && !this.G.Mm && (m=this.vda());null === (d=this.$$a) || void 0 === d?void 0:d.call(this,h,m);this.sd();return {eY:h,dF:m};};f.prototype.Lna=function(){return this.cm.every(function(d){return d.track.Ie;});};f.prototype.zWb=function(){var d,h;d=c.__read(k.s$a(this.config,this.cm,this.Ic,this.Ud,this.splice),2);h=d[0];return d[1] || void 0 === this.cm.get(1) && h;};f.prototype.vda=function(){var d,h,m;g.assert(this.G);g.assert(!this.G.Mm);d=this.cm.m1;h=k.u$a(this.config,d,this.G.Yd);if(void 0 === h || void 0 === d.Ud)return !1;d=d.Ud;m=this.config.TCa && "lazy" === this.G.ye?k.I8a(this.console,this.G,this.cm):[];this.G.normalize(h,d,m);return !0;};return f;})();b.sNa=q;},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r,t,w,v;Object.defineProperties(b,{__esModule:{value:!0}});b.xMa=b.rD=void 0;c=a(1);k=a(430);g=a(21);q=a(74);f=a(1106);d=a(39);h=a(193);m=a(4);l=a(417);n=a(8);p=c.__importDefault(a(5));r=a(433);t=a(434);w=a(15);a=a(474);(function(u){u[u.xT=0]="CREATED";u[u.pT=1]="CANCELLED";})(v=b.rD || (b.rD={}));a=(function(u){function x(y,z,A,B,D,C){y=u.call(this,z,B,A,n.jk(p.default,y,"AsePadding")) || this;y.parent=B;y.R=D;y.config=C;m.assert(B,"padding branches should always have a parent");y.Mm=new n.EH();y.console.trace("AsePaddingBranch {" + z.id + "}: created");return y;}c.__extends(x,u);x.prototype.wEb=function(y){var z,A,B,D,C,F,G,E,I,K;z=this;m.assert(!this.ioa);D=null === (B=null === (A=this.parent) || void 0 === A?void 0:A.rb(0)) || void 0 === B?void 0:B.Sf.ws;m.assert(D,"Parent of padding branch must have last selected audio stream");A=D.Qf;B=l.x6.instance().iOb(y.Ia(A),D.bitrate,D.track.jz);C=new g.O(B.duration);F=new g.O(B.$);G=F.I;E=B.profile;I=B.bitrate;m.assert(G === D.I,"Padding stream should have same timescale as previous stream");C=C.add(A);K={d6a:!0,mediaType:0,ef:E,profile:E,I:G,Yf:[{Dd:0,data:B.xa}],$:F,Qf:A,R:this.R,bitrate:I,Gm:function(){return k.wH.prototype.Gm.bind(K.track)();},track:{mediaType:0,$o:!1,$:F,Qf:A,R:this.R,channels:"2.0",sampleRate:48E3,ef:E,profile:E,zd:[],jz:D.track.jz,Gm:function(){return k.wH.prototype.Gm.bind(K.track)();},toString:function(){return "[0]: padding";}}};w.aa && this.console.trace("AsePaddingBranch {" + this.G.id + "}: audio queue",K,C.Bc());K.track.zd.push(K);y=new f.dha(B.xa,B.T,K,G,A.Yc(G).qa,C.Yc(G).qa,new g.O(B.$),n.jk(p.default,this.console,"[0]"),this,function(){return z.Cd.Yc(G).qa;},y.V);y.Lj();this.ioa=new h.vM(console,1);this.ioa.enqueue(y);};x.prototype.zFb=function(){var y,z,A,B,D,C,F,G,E,I,K,L;y=this;m.assert(!this.gDa);G=null === (A=null === (z=this.parent) || void 0 === z?void 0:z.rb(1)) || void 0 === A?void 0:A.Sf.ws;m.assert(G,"Parent of padding branch must have last selected video stream");z=l.x6.instance();A=this.G.Ng.Ia(this.G.Yd);this.gDa=new h.vM(console,1);E=null === (C=null === (D=null === (B=this.parent) || void 0 === B?void 0:B.rb(1)) || void 0 === D?void 0:D.track.$) || void 0 === C?void 0:C.Cea();m.assert(E,"padding branches should always have a frameRate");B=z.jOb(this.R.h9b,E,A,null === (F=G.track.pp) || void 0 === F?void 0:F.GW,G.track.jz);F=new g.O(B.duration);D=B.profile;C=B.bitrate;z=B.width;A=B.height;E=B.CYb;I=B.DYb;K=new g.O(B.$.qa,B.$.I);L={d6a:!0,mediaType:1,ef:D,profile:D,I:B.$.I,Yf:[{Dd:0,data:B.xa}],$:K,R:this.R,bitrate:C,Gm:function(){return k.wH.prototype.Gm.bind(L.track)();},track:{mediaType:1,$o:!1,$:K,frameRate:new r.H6(B.$.I,B.$.qa),pp:new t.Oka({w:z,Qt:A},{w:E,Qt:I}),R:this.R,ef:D,profile:D,Gm:function(){return k.wH.prototype.Gm.bind(L.track)();},zd:[],jz:G.track.jz,toString:function(){return "[1]: padding";}}};w.aa && this.console.trace("AsePaddingBranch {" + this.G.id + "}: video queue",L);L.track.zd.push(L);this.G.normalize(new g.O(this.bb,F.I),F,[]);G=new f.dha(B.xa,B.T,L,this.I,this.bb,this.wb,new g.O(B.$),n.jk(p.default,this.console,"[1]"),this,function(){return y.Cd.Yc(y.I).qa;});this.gDa.enqueue(G);return {duration:new g.O(B.duration)};};Object.defineProperties(x.prototype,{Dw:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Pl:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{vt:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Ih:{get:function(){return this.Mm.jAa;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{K3:{get:function(){return this.Mm.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Sy:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{I:{get:function(){return this.G.Yd.I;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{bb:{get:function(){return this.G.Yd.qa;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{wb:{get:function(){return this.G.Ng.qa;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Kj:{get:function(){return this.Cd.Yc(this.I).qa;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{ps:{get:function(){return this.G.Yd.add(this.Cd);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{SJ:{get:function(){m.assert(!this.G.G.tq,"exit zone not supported for padding segments");return g.O.ib;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Qq:{get:function(){return this.G.Yd.add(this.Cd);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{EC:{get:function(){return this.G.Ng.add(this.Cd);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{s_:{get:function(){return this.fd;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Cd:{get:function(){return this.xo;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{nr:{get:function(){return g.O.ib;},enumerable:!1,configurable:!0}});x.prototype.xa=function(){return c.__awaiter(this,void 0,void 0,function(){var y,z;return c.__generator(this,function(A){switch(A.label){case 0:if(this.Vh)return [2];this.console.trace("AsePaddingBranch {" + this.G.id + "}: init");return this.parent?[4,this.parent.K3]:[3,2];case 1:(A.pc(),y=this.parent.fd.Ia(this.Ol.Yd),this.pr(y,"parent async"),A.label=2);case 2:return (this.console.trace("AsePaddingBranch {" + this.G.id + "}: parent normalized"),z=this.zFb().duration,this.console.trace("AsePaddingBranch {" + this.G.id + "}: video duration " + z.Bc()),this.wEb(z),this.Mm.resolve(),[2]);}});});};x.prototype.update=function(y){this.Ol=y;};x.prototype.pr=function(y,z){void 0 === z && (z="unk");w.aa && this.console.log("AsePaddingBranch {" + this.G.id + "}: adjusting branchOffset to " + y.V + (" from " + this.xo.V + ".  " + z));this.xo=y;};x.prototype.Py=function(y){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){this.console.trace("AsePaddingBranch {" + this.G.id + "}: getRequestIterator(" + y + ")");return 0 === y?[2,this.ioa.ysa()]:[2,this.gDa.ysa()];});});};x.prototype.mF=function(){};x.prototype.reset=function(){};x.prototype.Mf=function(y){void 0 === y && (y="other");this.cd=v.pT;this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:y});this.events.removeAllListeners();};x.prototype.rQ=function(){return !0;};x.prototype.rb=function(){};x.prototype.cba=function(y){return [0,1].some(function(z){return z === y;});};x.prototype.zq=function(){return [];};x.prototype.xZ=function(y){var z;return null === (z=this.parent) || void 0 === z?void 0:z.xZ(y);};x.prototype.pZ=function(){return [];};x.prototype.$J=function(){};x.prototype.ai=function(){return this.G.Ng.Ia(this.G.Yd).V;};x.prototype.HB=function(){return {};};x.prototype.bQ=function(){return this.G.Ng.V;};x.prototype.Ez=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){return [2,Promise.resolve()];});});};x.prototype.en=function(){return [];};x.prototype.RE=function(y){var z,A;return ! !((null === (z=this.fd) || void 0 === z?0:z.greaterThan(y)) && (null === (A=this.he) || void 0 === A?0:A.lessThan(y)));};x.prototype.$Y=function(){return this.G.Ng.Ia(this.G.Yd);};x.prototype.ega=function(){return !1;};x.prototype.toJSON=function(){var y,z;return {segment:this.G.id,viewableId:this.Ol.M,contentStartPts:null === (y=this.Ic) || void 0 === y?void 0:y.V,contentEndPts:null === (z=this.Ud) || void 0 === z?void 0:z.V};};return x;})(a.rha);b.xMa=a;d.Xe(q.Pu,a);},function(q,b,a){var c,k,g,f,d,h;Object.defineProperties(b,{__esModule:{value:!0}});b.dha=void 0;c=a(1);k=a(47);g=a(8);q=a(39);f=a(191);d=a(74);h=a(123);a=(function(m){function l(n,p,r,t,w,v,u,x,y,z,A){n=m.call(this,r,{index:0,offset:0,ga:0,bb:w,wb:v,I:t,Hq:!0,aD:A},z) || this;n.response=p;n.zYb=r;n.J=x;n.sF=!0;n.eb={Ab:y,console:x,NSb:void 0,mediaType:r.mediaType,P1:function(){}};n.J.log("AsePaddingRequest [" + n.mediaType + "], constructed " + n.toString() + (", " + n.response.byteLength + " bytes, ") + (n.Ky + " samples"));return n;}c.__extends(l,m);Object.defineProperties(l.prototype,{profile:{get:function(){return this.zYb.profile;},enumerable:!1,configurable:!0}});l.prototype.xa=function(){};l.prototype.Vt=function(){return !this.cf;};l.prototype.hJ=function(n,p,r,t){this.J.log("AsePaddingRequest [" + this.mediaType + "], appending " + this.toString() + (", " + (t || this.response.byteLength) + " bytes, ") + ((t?"":"not ") + "edited"));this.cf=n.appendBuffer(t || this.response,r || g.az(this));return {status:this.cf?h.Qj.Dx:h.Qj.rg};};l.prototype.abort=function(){return !1;};l.prototype.sd=function(){};l.prototype.toJSON=function(){return {viewableId:k.$H,startPts:this.da,endPts:this.da + this.duration,"contentStartTicks:":this.bb,contentEndTicks:this.wb,contentStartPts:this.ud,contentEndPts:this.Uc};};Object.defineProperties(l.prototype,{Za:{get:function(){return "" + k.$H;},enumerable:!1,configurable:!0}});l.prototype.toString=function(){return "[padding c:" + this.Ic.V + "-" + this.Ud.V + ",p:" + (this.he.V + "-" + this.fd.V + ",d:") + (this.Ud.V - this.Ic.V + "]");};return l;})(a(90).gn);b.dha=a;q.Xe(f.vH,a,!1);q.Xe(d.Pu,a);q.Xe(d.Yz,a);},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.qQa=void 0;c=a(1);q=(function(){function k(g,f){this.J=g;this.yh=f;this.TBa=!1;}k.prototype.H1b=function(g){this.sh(g.message,void 0,c.__assign(c.__assign({},g.L0a),{err:g.toString()}));};k.prototype.sh=function(g,f,d){void 0 === f && (f=void 0);void 0 === d && (d={});this.TBa || (d.temporaryFailure || (this.TBa=!0),g=c.__assign({type:"error",error:null !== f && void 0 !== f?f:"NFErr_MC_StreamingFailure",errormsg:g,temporaryFailure:!1},d),this.J.error("notifyStreamingError:",g),this.yh.emit("error",g));};k.prototype.ep=function(){return this.TBa;};return k;})();b.qQa=q;},function(q,b,a){var c,k,g,f,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Nja=void 0;c=a(1);k=a(4);g=a(8);f=a(15);d=a(285);q=(function(h){function m(l){var n;n=h.call(this) || this;n.va=l;n.Cb=[];n.eV=new d.w6({ql:!1,currentTime:function(){return n.Af?n.Lg:g.O.JF;},speed:1});return n;}c.__extends(m,h);Object.defineProperties(m.prototype,{La:{get:function(){return this.eV;},enumerable:!1,configurable:!0}});m.prototype.T8=function(l,n){var p;p=!this.va;p && (this.va=l,this.ula=(null === n || void 0 === n?0:n.Af)?n.Lg:void 0);return p;};m.prototype.tJ=function(){this.Cb=[];this.ula=void 0;};m.prototype.Dqa=function(l){f.aa && k.assert(this.va === l);this.va=void 0;this.tJ();};m.prototype.kra=function(){for(var l,n=[],p=0;p < arguments.length;p++){n[p]=arguments[p];}(l=this.Cb).push.apply(l,c.__spread(n));};m.prototype.XJ=function(){return this.ula?this.ula:h.prototype.XJ.call(this);};m.prototype.ap=function(){return !1;};m.prototype.TG=function(){};m.prototype.QL=function(){};return m;})(a(477).$ja);b.Nja=q;},function(q,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.gXa=void 0;c=a(288);k=a(1111);b.gXa=function(){return function(g){var h,m,l,n;function f(p){n[p]=function(r){return m({rules:[{gm:p,config:r}]},!0);};}function d(p){h[p]=function(r){return m({rules:[{gm:p,config:r}]});};}h={};m=c.map(g.G8a);for(l in g.PR){d(l);}h.VWb=m({rules:[],Ona:!0});h.jo=m({rules:[],jo:!0});n={};for(l in g.PR){f(l);}n.VWb=m({rules:[],Ona:!0});n.jo=m({rules:[],jo:!0});h.return=n;return {wqa:h,rAa:g,qza:function(p,r,t,w){return k.oZa(p,r,t,g.PR,g.G8a,w);}};};};},function(q,b,a){(function(c,k){var g;(function(f){(function(d){var m,l;function h(n,p){return function(r,t){"function" !== typeof n[r] && Object.defineProperty(n,r,{configurable:!0,writable:!0,value:t});p && p(r,t);};}m="object" === typeof k?k:"object" === typeof self?self:"object" === typeof this?this:Function("return this;")();l=h(f);"undefined" === typeof m.Reflect?m.Reflect=f:l=h(m.Reflect,l);d(l);})(function(d){var I,K,L,H,P,N,J,M,O,Q,T;function h(V,da,pa){var xa;xa=T.get(V);if(v(xa)){if(!pa)return;xa=new O();T.set(V,xa);}V=xa.get(da);if(v(V)){if(!pa)return;V=new O();xa.set(da,V);}return V;}function m(V,da,pa){if(l(V,da,pa))return !0;da=D(da);return null === da?!1:m(V,da,pa);}function l(V,da,pa){da=h(da,pa,!1);return v(da)?!1:! !da.has(V);}function n(V,da,pa){if(l(V,da,pa))return p(V,da,pa);da=D(da);if(null !== da)return n(V,da,pa);}function p(V,da,pa){da=h(da,pa,!1);if(!v(da))return da.get(V);}function r(V,da){var pa,sa,X;pa=t(V,da);V=D(V);if(null === V)return pa;da=r(V,da);if(0 >= da.length)return pa;if(0 >= pa.length)return da;V=new Q();for(var xa=[],ya=0;ya < pa.length;ya++){sa=pa[ya];X=V.has(sa);X || (V.add(sa),xa.push(sa));}for(pa=0;pa < da.length;pa++){sa=da[pa];(X=V.has(sa)) || (V.add(sa),xa.push(sa));}return xa;}function t(V,da){var pa,xa;pa=[];V=h(V,da,!1);if(v(V))return pa;V=V.keys();da=B(V,H);if(!A(da))throw new TypeError();V=da.call(V);if(!u(V))throw new TypeError();for(da=0;;){xa=V.next();xa=xa.done?!1:xa;if(!xa)return (pa.length=da,pa);xa=xa.value;try{pa[da]=xa;}catch(sa){var ya;try{ya=V["return"];ya && ya.call(V);}finally{throw sa;}}da++;}}function w(V){if(null === V)return 1;switch(typeof V){case "undefined":return 0;case "boolean":return 2;case "string":return 3;case "symbol":return 4;case "number":return 5;case "object":return null === V?1:6;default:return 6;}}function v(V){return void 0 === V;}function u(V){return "object" === typeof V?null !== V:"function" === typeof V;}function x(V,da){var pa;switch(w(V)){case 0:return V;case 1:return V;case 2:return V;case 3:return V;case 4:return V;case 5:return V;}da=3 === da?"string":5 === da?"number":"default";pa=B(V,L);if(void 0 !== pa){V=pa.call(V,da);if(u(V))throw new TypeError();return V;}a:{if("string" === ("default" === da?"number":da)){da=V.toString;if(A(da) && (da=da.call(V),!u(da)))break a;da=V.valueOf;}else {da=V.valueOf;if(A(da) && (da=da.call(V),!u(da)))break a;da=V.toString;}if(!A(da) || (da=da.call(V),u(da)))throw new TypeError();}return da;}function y(V){V=x(V,3);return "symbol" === typeof V?V:"" + V;}function z(V){return Array.isArray?Array.isArray(V):V instanceof Object?V instanceof Array:"[object Array]" === Object.prototype.toString.call(V);}function A(V){return "function" === typeof V;}function B(V,da){V=V[da];if(void 0 !== V && null !== V){if(!A(V))throw new TypeError();return V;}}function D(V){var da,pa;da=Object.getPrototypeOf(V);if("function" !== typeof V || V === M || da !== M)return da;pa=V.prototype;pa=pa && Object.getPrototypeOf(pa);if(null == pa || pa === Object.prototype)return da;pa=pa.constructor;return "function" !== typeof pa || pa === V?da:pa;}function C(){var xa,ya,sa;function V(X){return X;}function da(X,S){return S;}function pa(X,S){return [X,S];}xa={};ya=[];sa=(function(){function X(S,R,W){this.Te=0;this.Hf=S;this.gg=R;this.ewb=W;}X.prototype["@@iterator"]=function(){return this;};X.prototype[H]=function(){return this;};X.prototype.next=function(){var S,R;S=this.Te;if(0 <= S && S < this.Hf.length){R=this.ewb(this.Hf[S],this.gg[S]);S + 1 >= this.Hf.length?(this.Te=-1,this.gg=this.Hf=ya):this.Te++;return {value:R,done:!1};}return {value:void 0,done:!0};};X.prototype.throw=function(S){0 <= this.Te && (this.Te=-1,this.gg=this.Hf=ya);throw S;};X.prototype.return=function(S){0 <= this.Te && (this.Te=-1,this.gg=this.Hf=ya);return {value:S,done:!0};};return X;})();return (function(){function X(){this.Hf=[];this.gg=[];this.Zx=xa;this.hv=-2;}Object.defineProperty(X.prototype,"size",{get:function(){return this.Hf.length;},enumerable:!0,configurable:!0});X.prototype.has=function(S){return 0 <= this.GA(S,!1);};X.prototype.get=function(S){S=this.GA(S,!1);return 0 <= S?this.gg[S]:void 0;};X.prototype.set=function(S,R){S=this.GA(S,!0);this.gg[S]=R;return this;};X.prototype.delete=function(S){var R,W;R=this.GA(S,!1);if(0 <= R){W=this.Hf.length;for(R+=1;R < W;R++){this.Hf[R - 1]=this.Hf[R];this.gg[R - 1]=this.gg[R];}this.Hf.length--;this.gg.length--;S === this.Zx && (this.Zx=xa,this.hv=-2);return !0;}return !1;};X.prototype.clear=function(){this.Hf.length=0;this.gg.length=0;this.Zx=xa;this.hv=-2;};X.prototype.keys=function(){return new sa(this.Hf,this.gg,V);};X.prototype.values=function(){return new sa(this.Hf,this.gg,da);};X.prototype.entries=function(){return new sa(this.Hf,this.gg,pa);};X.prototype["@@iterator"]=function(){return this.entries();};X.prototype[H]=function(){return this.entries();};X.prototype.GA=function(S,R){this.Zx !== S && (this.hv=this.Hf.indexOf(this.Zx=S));0 > this.hv && R && (this.hv=this.Hf.length,this.Hf.push(S),this.gg.push(void 0));return this.hv;};return X;})();}function F(){return (function(){function V(){this.Ah=new O();}Object.defineProperty(V.prototype,"size",{get:function(){return this.Ah.size;},enumerable:!0,configurable:!0});V.prototype.has=function(da){return this.Ah.has(da);};V.prototype.add=function(da){return (this.Ah.set(da,da),this);};V.prototype.delete=function(da){return this.Ah.delete(da);};V.prototype.clear=function(){this.Ah.clear();};V.prototype.keys=function(){return this.Ah.keys();};V.prototype.values=function(){return this.Ah.values();};V.prototype.entries=function(){return this.Ah.entries();};V.prototype["@@iterator"]=function(){return this.keys();};V.prototype[H]=function(){return this.keys();};return V;})();}function G(){var xa,ya;function V(){var sa,R;do {sa="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):pa(new Uint8Array(16),16):pa(Array(16),16);sa[6]=sa[6] & 79 | 64;sa[8]=sa[8] & 191 | 128;for(var X="",S=0;16 > S;++S){R=sa[S];if(4 === S || 6 === S || 8 === S)X+="-";16 > R && (X+="0");X+=R.toString(16).toLowerCase();}sa="@@WeakMap@@" + X;}while(J.has(xa,sa));xa[sa]=!0;return sa;}function da(sa,X){if(!I.call(sa,ya)){if(!X)return;Object.defineProperty(sa,ya,{value:J.create()});}return sa[ya];}function pa(sa,X){for(var S=0;S < X;++S){sa[S]=255 * Math.random() | 0;}return sa;}xa=J.create();ya=V();return (function(){function sa(){this.nv=V();}sa.prototype.has=function(X){X=da(X,!1);return void 0 !== X?J.has(X,this.nv):!1;};sa.prototype.get=function(X){X=da(X,!1);return void 0 !== X?J.get(X,this.nv):void 0;};sa.prototype.set=function(X,S){da(X,!0)[this.nv]=S;return this;};sa.prototype.delete=function(X){X=da(X,!1);return void 0 !== X?delete X[this.nv]:!1;};sa.prototype.clear=function(){this.nv=V();};return sa;})();}function E(V){V.irb=void 0;delete V.irb;return V;}I=Object.prototype.hasOwnProperty;K="function" === typeof Symbol;L=K && "undefined" !== typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive";H=K && "undefined" !== typeof Symbol.iterator?Symbol.iterator:"@@iterator";K="function" === typeof Object.create;P=({__proto__:[]}) instanceof Array;N=!K && !P;J={create:K?function(){return E(Object.create(null));}:P?function(){return E({__proto__:null});}:function(){return E({});},has:N?function(V,da){return I.call(V,da);}:function(V,da){return (da in V);},get:N?function(V,da){return I.call(V,da)?V[da]:void 0;}:function(V,da){return V[da];}};M=Object.getPrototypeOf(Function);O=(K="object" === typeof c && c.I0a && "true" === c.I0a.REFLECT_METADATA_USE_MAP_POLYFILL) || "function" !== typeof Map || "function" !== typeof Map.prototype.entries?C():Map;Q=K || "function" !== typeof Set || "function" !== typeof Set.prototype.entries?F():Set;T=new (K || "function" !== typeof WeakMap?G():WeakMap)();d("decorate",function(V,da,pa,xa){var sa;if(v(pa)){if(!z(V))throw new TypeError();if("function" !== typeof da)throw new TypeError();for(pa=V.length - 1;0 <= pa;--pa){if((xa=(0,V[pa])(da),!v(xa) && null !== xa)){if("function" !== typeof xa)throw new TypeError();da=xa;}}return da;}if(!z(V))throw new TypeError();if(!u(da))throw new TypeError();if(!u(xa) && !v(xa) && null !== xa)throw new TypeError();null === xa && (xa=void 0);pa=y(pa);for(var ya=V.length - 1;0 <= ya;--ya){sa=(0,V[ya])(da,pa,xa);if(!v(sa) && null !== sa){if(!u(sa))throw new TypeError();xa=sa;}}return xa;});d("metadata",function(V,da){return function(pa,xa){var ya;if(!u(pa))throw new TypeError();if(ya=!v(xa)){a:switch(w(xa)){case 3:ya=!0;break a;case 4:ya=!0;break a;default:ya=!1;}ya=!ya;}if(ya)throw new TypeError();h(pa,xa,!0).set(V,da);};});d("defineMetadata",function(V,da,pa,xa){if(!u(pa))throw new TypeError();v(xa) || (xa=y(xa));h(pa,xa,!0).set(V,da);});d("hasMetadata",function(V,da,pa){if(!u(da))throw new TypeError();v(pa) || (pa=y(pa));return m(V,da,pa);});d("hasOwnMetadata",function(V,da,pa){if(!u(da))throw new TypeError();v(pa) || (pa=y(pa));return l(V,da,pa);});d("getMetadata",function(V,da,pa){if(!u(da))throw new TypeError();v(pa) || (pa=y(pa));return n(V,da,pa);});d("getOwnMetadata",function(V,da,pa){if(!u(da))throw new TypeError();v(pa) || (pa=y(pa));return p(V,da,pa);});d("getMetadataKeys",function(V,da){if(!u(V))throw new TypeError();v(da) || (da=y(da));return r(V,da);});d("getOwnMetadataKeys",function(V,da){if(!u(V))throw new TypeError();v(da) || (da=y(da));return t(V,da);});d("deleteMetadata",function(V,da,pa){var xa;if(!u(da))throw new TypeError();v(pa) || (pa=y(pa));xa=h(da,pa,!1);if(v(xa) || !xa.delete(V))return !1;if(0 < xa.size)return !0;V=T.get(da);V.delete(pa);if(0 < V.size)return !0;T.delete(da);return !0;});});})(g || (g={}));}).call(this,a(281),a(214));},function(q,b,a){var d,h,m,l,n;function c(p,r){if(p)return Object.getOwnPropertyDescriptor(p,r)?p:c(p.prototype,r) || c(p.__proto__,r);}function k(p,r){if(p=c(p,r))return Object.getOwnPropertyDescriptor(p,r);}function g(p,r){var v;for(var t=Object.getPrototypeOf(p),w=[];t !== Object.prototype;){w=w.concat(Object.getOwnPropertyNames(t));t=Object.getPrototypeOf(t);}p=Object.keys(p).concat(w);r.__proxyCtor || (r.__proxyCtor=void 0);v=Object.getPrototypeOf(r);p.forEach(function(u){Object.getOwnPropertyDescriptor(r,u) || Object.getOwnPropertyDescriptor(v,u) || r[u] || Object.defineProperty(r,u,{get:function(){},configurable:!0,enumerable:!0});});}function f(p,r,t,w){var x;for(var v=[],u=4;u < arguments.length;u++){v[u - 4]=arguments[u];}x=w();if((null === x || void 0 === x?0:x.gxa) || (null === x || void 0 === x?0:x.Nb))v=v.map(function(y,z){var A;z=n.u9a(x.gxa,null === (A=x.Nb) || void 0 === A?void 0:A[z]);return l.Yea(r,y,t,z);});v=p.call.apply(p,d.__spread([void 0],v));return (null === x || void 0 === x?0:x.return)?l.Yea(r,v,t,x.return,m.Lx.HCa):v;}Object.defineProperties(b,{__esModule:{value:!0}});b.SKb=b.uGb=b.oZa=void 0;d=a(1);h=a(288);m=a(199);l=a(478);n=a(1112);b.oZa=function(p,r,t,w,v,u){var x,y;void 0 === u && (u=[]);x={};y=h.q3a(v);g(r,p);u.forEach(function(z){return g(z,p);});return new Proxy(p,{get:function(z,A){var B,D,C,F;if("__proxyCtor" === A)return null !== (B=p[A]) && void 0 !== B?B:p.constructor;if((A in r)){F=r[A];return "function" === typeof F?F.bind(r):F;}B=x[A];if(!B && !k(x,A)){B=null !== (C=null === (D=null === z || void 0 === z?void 0:z.constructor) || void 0 === D?void 0:D.prototype) && void 0 !== C?C:z;D=null !== (F=c(B,A)) && void 0 !== F?F:c(B.__proxyCtor,A);F=k(B,A);if(null === F || void 0 === F?0:F.get)return (F=F.get,D=y.bind(null,D,A),z=f.bind(z,F.bind(z),t,w,D),Object.defineProperty(x,A,{get:z,enumerable:!0,configurable:!0}),z());F=z[A];return "function" === typeof F?(D=y.bind(null,z,A),z=f.bind(z,F.bind(z),t,w,D),x[A]=z):F;}return B;},set:function(z,A,B){if((A in r))return (r[A]=B,!0);z[A]=B;delete x[A];return !0;}});};b.uGb=g;b.SKb=f;},function(q,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.u9a=void 0;c=a(1);k=a(25);b.u9a=function(g,f){var d;if(g || f){d=(null === g || void 0 === g?0:g.rules) && (null === f || void 0 === f?0:f.rules)?k.M8(g.rules,f.rules):(null === g || void 0 === g?void 0:g.rules) || (null === f || void 0 === f?void 0:f.rules);return c.__assign(c.__assign(c.__assign({},g),f),{rules:d});}};},function(q,b,a){var k;function c(g,f){var d,h;d=k.__assign({},g);h=k.__read(null !== f && void 0 !== f?f:[],1)[0];h && g[h] && (g=g[h],"object" === typeof g?(f=f.concat(),f.shift(),d[h]=c(g,f)):d[h]=g);return d;}Object.defineProperties(b,{__esModule:{value:!0}});b.teb=b.Cpa=b.uaa=b.i6a=b.l6a=b.J6a=b.R4a=b.E6a=b.Af=void 0;k=a(1);b.Af=function(g){return !(null === g || void 0 === g || !g.position);};b.E6a=function(g){return !(null === g || void 0 === g || !g.ea) && !(null === g || void 0 === g || !g.offset);};b.R4a=function(g){return !(null === g || void 0 === g || !g.ea) || !(null === g || void 0 === g || !g.segmentId);};b.J6a=function(g,f){return "string" === typeof g && !(!f.rj.la.P[g] && !f.pd.la.P[g]);};b.l6a=function(g){return !(null === g || void 0 === g || !g.M) && !(null === g || void 0 === g || !g.In);};b.i6a=function(g){return !(null === g || void 0 === g || !g.Cd);};b.uaa=function(g,f){var d;d=g;f.forEach(function(h){d=null === d || void 0 === d?void 0:d[h];});return d;};b.Cpa=c;b.teb=function(g,f,d){for(var h=0;h < f.length - 1 && g;h++){g=g[f[h]];}return g?(g[f[f.length - 1]]=d,!0):!1;};},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.uNa=void 0;c=a(56);q=(function(){function k(g){this.rb=g;}Object.defineProperties(k.prototype,{Kg:{get:function(){return "PipelineReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});k.prototype.Fm=function(g){var f,d;g=g.kj;if(g === c.ue.yp || g === c.ue.rq){g={};f=this.rb(1);d=this.rb(0);f && (g.videoPipelineSummary=this.egb(f));d && (g.audioPipelineSummary=this.egb(d));return g;}};k.prototype.egb=function(g){var f,d,h,m,l;l=g.eb.Z;return {actualStartPlayerTimestamp:null === (f=l.he) || void 0 === f?void 0:f.V,actualPartialPlayerTimestamp:l.Jab,actualCompletePlayerTimestamp:null === (d=g.ona) || void 0 === d?void 0:d.V,segmentId:g.ea,contentStartMs:null === (h=g.Ic) || void 0 === h?void 0:h.V,contentEndMs:null === (m=g.Ud) || void 0 === m?void 0:m.V,streamingPlayerMs:g.aH.V,isStreamable:g.PF(),isNormalized:g.Ih(),isDoneStreaming:g.Wt(),trackNeedsHeaderRequest:g.track.lda,completedRequests:l.vYa,activeRequests:g.eb.Pr,unsentRequests:g.eb.Gu,bytes:{current:l.ga,received:l.xcb,partial:l.uk,completed:l.QE,unsent:l.J7b}};};return k;})();b.uNa=q;},function(q,b,a){var c,k,g,f,d;Object.defineProperties(b,{__esModule:{value:!0}});b.hOa=void 0;c=a(1);k=a(15);g=a(8);f=a(56);d=a(479);q=(function(){function h(m,l){var n;n=this;this.GZb=m;this.va=l;this.obb=new g.IU();l.events.on("branchesReevaluated",function(){n.obb.push(m.size);});}Object.defineProperties(h.prototype,{Kg:{get:function(){return "playgraph-branch-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{gG:{get:function(){return "paudit";},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{enabled:{get:function(){return k.aa;},enumerable:!1,configurable:!0}});h.prototype.Fm=function(m){var l;m=m.kj;if(m === f.ue.rq || m === f.ue.yp){l={branchCountStats:this.obb.toJSON(),decisions:this.va.ih.toJSON(),player:this.va.U.St?this.va.U.Cb.map(function(n){return n.G.id;}):[]};this.GZb.forEach(function(n,p){var r,t;t=d.Csa(n);l[p]=c.__assign({probabilities:n.hi.map(function(w){return {duration:w.duration,immediate:w.HF,seamless:w.Oe};}),parent:null === (r=n.parent) || void 0 === r?void 0:r.G.id,normalized:n.Ih,hasViewable:n.Sy,headerRequested:n.Sy && n.R.LZ},t);});return l;}};return h;})();b.hOa=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.iKa=void 0;q=(function(){function a(c,k,g){this.qf=c;this.J=k;this.events=g;this.GR=[];}a.prototype.eh=function(c){var k;k=this;this.GR.push(c);this.qf.hZa(function(){k.nhb(c,{nRb:!0});},c.mXa,c.Vv);};a.prototype.aTb=function(c){var k,g;k=this;g={kj:c};this.GR.forEach(function(f){k.nhb(f,g);});};a.prototype.nhb=function(c,k){var g,f;try{g=c.mh(k);f=g.event;g.Xeb && this.events.emit(c.Vv,f);}catch(d){this.J.error("Error generating event for " + c.Vv,d);}};return a;})();b.iKa=q;},function(q,b,a){var c,k,g,f,d,h,m;Object.defineProperties(b,{__esModule:{value:!0}});b.SHa=void 0;q=a(1);c=a(17);k=q.__importDefault(a(33)).default.wK;g=q.__importDefault(a(153));f=q.__importDefault(a(5));d=a(196);h=a(25);m=a(4);a=(function(){function l(n,p,r,t,w){this.config=n;this.P4b=p;this.navigator=r;this.events=t;this.console=w;n=d.XP(this.config);this.Dz=n.Dz.bind(n);this.KL=n.KL.bind(n);this.UY=n.UY.bind(n);this.DZ=n.DZ.bind(n);this.Bbb=[n.f1.bind(n),n.g1.bind(n)];}l.prototype.a3b=function(n,p,r,t,w,v,u){var x,y,z,A,B,D,C,F,G;y=[];if(!this.Sab(w.track))return {stream:D,y2:y,reason:"locationSelectionFailure"};z=w.Jk;A=z.Sf;B=w.X$;D=A.ws;C=v?v.Mn(w.track.zd,n,r.Ia(w.Ab.Cd),w.Ih()):w.track.zd;if(0 === C.length && (null === v || void 0 === v?0:v.NAb))return {stream:void 0,y2:y,reason:"allStreamsFiltered"};D && !D.track.equals(w.track) && (D=this.ZJb(D,C));F=w.mediaType;if((v=0 === F) && D && !this.u4b(A,D))return (this.config.z4a && this.Dz(D.bitrate),{stream:D,y2:y});n=c.gea(n);p=this.gFb(n,p,t,w,! !u);t=this.Bbb[F];u=v?this.DZ():this.UY();w=z.IAa(p,C,u,t,!0,w.track.R.ds,B);if(!w)return {stream:D,y2:y,reason:"streamSelectionFailure"};z={mf:w.mf,h1:w.h1};if(w.reason){G={reason:w.reason,GAa:w.ww,YB:w.YB,Dq:w.Dq,Eq:w.Eq};this.ipa(F,C,r);}this.WHb(F,w,C);D=C[w.nf];r=D.bitrate;v?this.config.z4a && this.Dz(r):this.KL(r);A.Heb(D);if(null === (x=w.xB) || void 0 === x?0:x.length)y=w.xB.map(function(E){return h.oe(C,function(I){return I.id === E;});}).filter(h.yda);return {stream:D,y2:y,pQ:G,OG:z,mz:w.mz};};l.prototype.kpa=function(n,p,r,t,w,v,u){var x,y,z;if(!c.Fq(p))return {complete:!0,reason:"playing"};if(!v.Hbb)return {complete:!1,reason:"unknown"};if(v.rYb)return (m.assert(v.rab),v.rab);x=v.Jk;y=x.Sf;r=this.k2a(v,r);z=y.ws;y=r.gl - r.Ac;if(y < this.config.Hj || void 0 === z)return {complete:!1,IE:y,reason:"preBuf"};if(0 === v.mediaType)return {complete:!0,IE:y,reason:"audio"};if(n=n.NXa(v.mediaType))return {complete:!0,IE:y,reason:n};this.Sab(v.track);x.$ya([z],!1,c.gea(p),r,this.Bbb[v.mediaType]);p=x.lB(r,p,w,z,{Pv:u});if(!p.complete && t)return {complete:!0,reason:"prebufferTimeLimit",IE:y};p.IE=y;return p;};l.prototype.WHb=function(n,p,r){this.events.emit("streamSelection",{type:"streamSelection",mediaType:n,result:p,streamList:r});};l.prototype.VHb=function(n,p,r,t){n={type:"maxVideoBitrateChanged",time:f.default.time.ma(),streaming:t,maxvb_old:n,maxvb:p,reason:r};this.events.emit(n.type,n);};l.prototype.ZJb=function(n,p){var r;r=p[0];p.filter(function(t){return t.Bw;}).every(function(t){return t.bitrate <= n.bitrate?r=t:!1;});return r;};l.prototype.u4b=function(n,p){return 0 < this.config.rS.length?!0:(n=n.CQ) && n === p.location?!1:!0;};l.prototype.Sab=function(n){return n.R.Tn.t3(n.R.M,n.zd);};l.prototype.k2a=function(n,p){var D;for(var r,t=p.Ia(this.P4b),w=[],v=n,u=p,x,y,z=0,A=0,B=!0;v;){D=v.V2a(t);if(!B && !v.Pl)break;0 < D.Z.length && (u=D.Z[0].he,void 0 === x && (x=D.Z[D.Z.length - 1].fd,y=D.Tda >= D.Z.length?x:D.Z[D.Tda].he),w=D.Z.concat(w),z+=D.uk,A+=D.bo);v=this.navigator.parent(v);B=!1;}return {Fv:f.default.yq()[n.mediaType],da:Math.floor(u.V),Ac:p.V,yc:Math.floor(null !== (r=null === x || void 0 === x?void 0:x.V) && void 0 !== r?r:p.V),gl:Math.floor(y?y.V:p.V),rf:w.reduce(function(C,F){return C + F.ga;},0),uk:z,bo:A,L1a:w.length,Z:w};};l.prototype.gFb=function(n,p,r,t,w){var v,u,x;v=this.k2a(t,p);u=1 === t.mediaType?this.config.C3:this.config.IW;x=g.default.instance();return {state:n,ss:n === c.Da.$c,Dd:t.gp,playbackRate:r,buffer:v,mY:u,f8a:!1,qP:w,Pr:null === x || void 0 === x?void 0:x.Pr,mediaType:t.mediaType,Ac:p.V,Yt:!1,eva:!1,Bea:0};};l.prototype.ipa=function(n,p,r){var v,u;if(1 === n){n="manifest";for(var t=0,w=p.length - 1;0 <= w;--w){v=p[w];u=v.bitrate;if(k(v)){t=Math.max(t,u);break;}else this.config.K2 && !v.cw?n="bc":v.zw?v.SB && (n="hf"):n="av";}this.f9a !== t && (this.VHb(this.f9a,t,n,r),this.f9a=t);}};return l;})();b.SHa=a;},function(q,b,a){var k,g,f,d;function c(h,m,l,n,p){var r,t,w,v,u,x,y,z,A,B,D,C,F,G,E,I,K,L,H,P,N,J;y=h.console;z=h.K7b;A=h.ih;B=h.Z1b;D=h.hHb;C=h.qxa;F=h.Aoa;h=h.oYb;G=p || ({complete:!0,nr:0});E=G.root;I=G.complete;K=G.gxb;L=G.jdb;L=void 0 === L?0:L;G=G.nr;H=L < B.length && B[L] === m.id;P=L < B.length?B[L]:n && A.get(n.id);N=p && n && P !== m.id?void 0 !== P?{Oe:0}:n.xAb(m.id):{Oe:1};A=N.Oe;N=N.HF;J=void 0 === N?0:N;N=(A + J) * (null !== (r=null === p || void 0 === p?void 0:p.D_b) && void 0 !== r?r:1);d && y.trace("reevaluateBranches: visiting " + m.id + ", distance: " + (l + ", probability: ") + (N + ", predecessor: ") + ((null === n || void 0 === n?void 0:n.id) + ", decision: ") + (P + ", predecessorComplete: ") + (I + ", isOnRequiredPath: ") + (H + ", requiredPathIndex: ") + (L + ", activeDistance: ") + (K + ", seamless ") + (A + ", immediate ") + (J + ", predecessor sum of: successor weights=") + ((null === n || void 0 === n?void 0:n.ZBa) + ", immediate weights= ") + (null === n || void 0 === n?void 0:n.Jfa));r=null !== (w=null === (t=z[m.id]) || void 0 === t?void 0:t.shift()) && void 0 !== w?w:m.duration.V;t=0 === r;if(!H){if(0 === N)return {xga:!1,C8:!0};if(!I && 0 === J && G > F)return (h.iF=Math.min(h.iF || Infinity,G - F),{xga:!1,C8:!0});if(!t && l >= D && 1 > N || !1 === E && N < C)return {xga:!1,C8:!0};}L < B.length && k.assert(B[L] === m.id,"");p=null !== (v=null === p || void 0 === p?void 0:p.hi) && void 0 !== v?v:[];n && 1 > A && (0 === J?p=p.concat([{Oe:A}]):(v=(null === (x=null === (u=n.G.tq) || void 0 === u?void 0:u[0]) || void 0 === x?void 0:x[0]) || 0,u=Math.max(0,n.duration.V - v),d && y.trace("reevaluateBranches: immediate: " + n.duration.V + ", " + v + ", " + u),p=p.concat([{Oe:A,HF:J,duration:u}])));u=g.L8(h.Qea,function(M){return M.G === n;});h.Qea.push({G:m,Tw:h.Qea[u],hi:p});l=I?l + m.duration.V:K;d && y.trace("reevaluateBranches: added " + m.id + ", visiting successors, active distance: " + (l + " probabilities: ") + JSON.stringify(p));return {xga:!0,C8:H,state:{root:!n,complete:t,D_b:N,hi:p,gxb:l,jdb:L + 1,nr:G + r}};}Object.defineProperties(b,{__esModule:{value:!0}});b.a7b=b.o9b=b.Fea=void 0;k=a(4);q=a(15);g=a(25);f=a(481);d=q.aa && !1;b.Fea=function(h,m,l,n,p,r,t,w,v){var u,x,y,z;x={Qea:[]};y=(null === (u=l.Ng) || void 0 === u?void 0:u.Ia(l.Yd).V) || 0;0 < r.length && k.assert(l.id === r[0],"First segment of required path (if it exists) must equal reevaluateBranches start segment.");d && h.trace("reevaluateBranches: starting at " + l.id + " requiredPath: " + JSON.stringify(r));z={console:h,K7b:n,ih:p,Z1b:r,hHb:t.V + y,qxa:w,Aoa:v.V,oYb:x};m.n9b(l,function(A,B,D,C){return c(z,A,B,D,C);});return x;};b.o9b=c;b.a7b=function(h,m){var l,n;l=new f.Jka();h.forEach(function(p){m("starting tree");l.add(p,p.Tw);});n=f.Lbb(l,function(p){return "" + p.G.id;});m("requiredBranches " + h.length,n.replace(/\n/g,"<>"));m("requiredBranches " + h.length,h.map(function(p){var r;return p.G.id + "::" + (null === (r=p.Tw) || void 0 === r?void 0:r.G.id);}).reduce(function(p,r){return p + ", " + r;}));};},function(q,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.sOa=void 0;c=a(1);k=a(476);q=(function(){function g(f){this.la=f;this.P={};}g.prototype.Q4a=function(f){return ! !this.la.P[f];};g.prototype.kf=function(f){var d;d=this.P[f];if(void 0 === d){d=this.la.P[f];if(void 0 === d)throw Error("Segment not found (" + f + ")");d=new k.xOa(f,d,this.la.ye);this.P[f]=d;}return d;};g.prototype.$Lb=function(f){var d;d=this;return f.G.next?Object.keys(f.G.next).map(function(h){return d.kf(h);}):[];};g.prototype.oSb=function(f){var d;return c.__generator(this,function(h){switch(h.label){case 0:return [4,f];case 1:(h.pc(),d=f,h.label=2);case 2:if(!d.G.vc)return [3,4];d=this.kf(d.G.vc);return [4,d];case 3:return (h.pc(),[3,2]);case 4:return [2];}});};g.prototype.rPb=function(f,d){return k.r6a(f.dQ(d));};g.prototype.Oj=function(f){var d;d=this;Object.keys(f).forEach(function(h){var m;return null === (m=d.kf(h)) || void 0 === m?void 0:m.Oj(f[h]);});};return g;})();b.sOa=q;},function(q,b,a){var g,f,d;function c(h,m){var l,n;l=Object.keys(h);if(l.some(function(p){var r,t,w,v;return (null === (r=h[p]) || void 0 === r?void 0:r.ye) !== (null === (t=m[p]) || void 0 === t?void 0:t.ye) || (null === (w=h[p]) || void 0 === w?void 0:w.weight) !== (null === (v=m[p]) || void 0 === v?void 0:v.weight);}))return !0;n=Object.keys(m);return 0 !== g.__spread(f.xv(l,n),f.xv(n,l)).length?!0:!1;}function k(h,m){return h.some(function(l,n){var p;return 0 !== f.xv(l,null !== (p=m[n]) && void 0 !== p?p:[]).length;}) || h.length !== m.length?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.pXa=b.JYa=void 0;g=a(1);f=a(25);d=a(1121);b.JYa=function(h){return new d.tGa(function(m){return Object.keys(m.G.next || ({})).map(function(l){var n,p,r;l=h.kf(l);r=null !== (p=null === (n=m.Ng) || void 0 === n?void 0:n.Ia(m.Yd).V) && void 0 !== p?p:Infinity;return {Z8b:l,weight:r};});});};b.pXa=function(h,m){var l,n,p,r,t,w;l=Object.keys(h.P);n=Object.keys(m.P);p=n.filter(function(v){return -1 === l.indexOf(v);});r=l.filter(function(v){return -1 === n.indexOf(v);});t=l.filter(function(v){var u,x,y,z,A;if(-1 === n.indexOf(v))u=!1;else {u=h.P[v];v=m.P[v];u=u.vc !== v.vc || u.za !== v.za || u.ya !== v.ya || u.ye !== v.ye || u.M !== v.M || k(null !== (x=u.tq) && void 0 !== x?x:[],null !== (y=v.tq) && void 0 !== y?y:[]) || c(null !== (z=u.next) && void 0 !== z?z:{},null !== (A=v.next) && void 0 !== A?A:{})?!0:!1;}return u;});w=f.xv(l,g.__spread(t,p,r));return {Txb:p,ER:r,eBb:t,E7b:w};};},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.tGa=void 0;c=a(4);k=a(273);g=a(1122);q=(function(){function f(d){this.NHb=d;this.jDa=!1;this.yga=new g.TOa();}f.prototype.n9b=function(d,h){var l,n;function m(){var t,w,v,u,x,y;t=p.pop();w=t.node;v=t.G8;t=v.Tw;u=v.HJ;v=v.state;if(!r.yga.has(w)){t=h(w,u,t,v);x=t.xga;y=t.state;t.C8 || r.yga.add(w);n(w).forEach(function(z){var A;A=z.Z8b;l.yga.has(A) || (z=u + z.weight,x && p.push({node:A,G8:{HJ:z,Tw:w,state:y}}));});}}l=this;n=this.NHb;c.assert(!this.jDa);this.jDa=!0;this.yga.clear();for(var p=new k.N5([{node:d,G8:{HJ:0,state:{root:!1,complete:!0,jdb:0,nr:0}}}],function(t,w){return t.G8.HJ - w.G8.HJ;}),r=this;!p.empty;){m();}this.jDa=!1;};return f;})();b.tGa=q;},function(q,b){var k,g,f;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.LRa);}function c(d){return (a(d)?d:Object.defineProperties(d,{LRa:{value:{},configurable:!1,enumerable:!1}})).LRa;}Object.defineProperties(b,{__esModule:{value:!0}});b.TOa=void 0;g=null !== (k=Number.MAX_SAFE_INTEGER) && void 0 !== k?k:1E9;f=Date.now() % g;q=(function(){function d(){this.jfa=0;this.id=f=(f + 1) % g;}d.prototype.add=function(h){c(h)[this.id]=this.jfa;return this;};d.prototype.has=function(h){return a(h) && c(h)[this.id] === this.jfa;};d.prototype.delete=function(h){if(!this.has(h))return !1;c(h)[this.id]=void 0;return !0;};d.prototype.clear=function(){this.jfa=(this.jfa + 1) % g;return this;};return d;})();b.TOa=q;},function(q,b,a){var k,g,f,d;function c(h){return {value:h.Ab,parent:h.Tw};}Object.defineProperties(b,{__esModule:{value:!0}});b.iOa=void 0;k=a(8);g=a(25);f=a(4);d=a(481);q=(function(){function h(){this.Cb=new k.DLa();this.Fu=new d.Jka();}Object.defineProperties(h.prototype,{empty:{get:function(){return this.Cb.empty;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{size:{get:function(){return this.Cb.size;},enumerable:!1,configurable:!0}});h.prototype.reset=function(){var m;m=this.Cb.values();this.Cb.clear();this.Fu.clear();m.forEach(function(l){return l.Mf();});};h.prototype.Ly=function(m){return this.Cb.get(m);};h.prototype.has=function(m){return this.Cb.has(m);};h.prototype.contains=function(m){var l;l=m.G.id;if(this.has(l))return -1 !== this.Ly(l).indexOf(m);};h.prototype.IP=function(m){this.Fu.IP(m);};h.prototype.sta=function(m){return this.Fu.parent(m);};h.prototype.LLb=function(m){return this.Fu.children(m);};h.prototype.$ta=function(m){return this.Fu.$ta(m);};h.prototype.Iea=function(m){var l;if(this.Cb.delete(m.G.id,m)){l=this.Fu.children(m);this.Fu.root === m?0 === l.length?this.Fu.clear():(f.assert(1 === l.length,"cannot remove the root branch with multiple successors"),this.Fu.C1b(l[0])):(f.assert(0 === l.length,"cannot remove non-root branch with successors"),this.Fu.remove(m));}};h.prototype.forEach=function(m){var l;l=this;this.Cb.forEach(function(n,p){return m(n,p,l);});};h.prototype.reduce=function(m,l){var n;n=this;return this.Cb.reduce(function(p,r,t){return m(p,r,t,n);},l);};h.prototype.map=function(m){var l;l=this;return this.Cb.map(function(n,p){return m(n,p,l);});};h.prototype.filter=function(m){var l;l=this;return this.Cb.filter(function(n,p){return m(n,p,l);});};h.prototype.BOb=function(){var m;m={};this.forEach(function(l,n){var p;(l=l.nr) && (null !== (p=m[n]) && void 0 !== p?p:m[n]=[]).push(l.V);});return m;};h.prototype.P7b=function(m,l){var n;n=this;m=this.yUb(m,l).target;l=this.Fu.v0b(m.map(c));m=l.ER;l=l.Wcb;m.forEach(function(p){return n.Cb.delete(p.G.id,p);});return {ER:m,Wcb:l.map(function(p){return p.value;})};};h.prototype.yUb=function(m,l){var p,r,t;function n(w,v){(w=l(w.G.id,v)) && p.Cb.set(w.G.id,w);return w;}p=this;r=[];t=new Map();return {target:m.reduce(function(w,v,u){var x,y;f.assert(0 === u || v.Tw);if(v.Tw){x=t.get(v.Tw);if(!x)return (r.push(v),w);}y=g.oe(p.Ly(v.G.id),function(z){return p.Fu.parent(z) === x || 0 === u;});(y=null !== y && void 0 !== y?y:n(v,x)) && t.set(v,y);y.hi=v.hi;w.push({Ab:y,Tw:x});(null === y || void 0 === y?0:y.Sy) && y.update(v.G);return w;},[])};};return h;})();b.iOa=q;},function(q,b,a){var c,k,g,f,d,h,m,l;Object.defineProperties(b,{__esModule:{value:!0}});b.QEa=void 0;c=a(1);k=c.__importDefault(a(5));g=a(17);f=a(8);d=a(21);h=a(4);m=a(71);l=a(70);q=(function(){function n(p,r,t,w,v,u,x){var y;y=this;void 0 === x && (x=500);this.J=p;this.config=r;this.jc=t;this.events=w;this.nra=v;this.qf=u;this.Zzb=x;this.eza=this.ym=0;this.Rca=[];this.CP={Pv:0};this.state=new f.$s(g.Zc.Tj);this.mf=new f.$s(g.Da.Sh);this.uh=new m.fv({zs:10,Oq:this,source:"BufferStateTracker",Ina:function(){return {isBuffering:y.Og,alwaysRunUnderflowTimer:y.config.tO};}});}Object.defineProperties(n.prototype,{Pv:{get:function(){return this.CP.Pv;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Og:{get:function(){return g.Fq(this.state.value);},enumerable:!1,configurable:!0}});n.prototype.mga=function(p){var r;r=this;Array.isArray(p) || (p=[p]);p.forEach(function(t){0 === t.mediaType && (r.bXa=c.__assign(c.__assign({},r.bXa),{audio:{trackId:t.trackId,trackIndex:t.iH}}));});};n.prototype.eab=function(p){this.set(g.Zc.Tj);this.PL(p,g.Zc.Md);};n.prototype.Dda=function(){this.CP.Pv++;};n.prototype.G0=function(p){this.config.tO || void 0 === this.eC && this.Og && this.dqa();this.eC={lK:p.httpCode,Zh:p.errorCode,nk:p.nativeCode};};n.prototype.Kda=function(){this.eC=void 0;this.config.tO || this.Y9();};n.prototype.pk=function(p){this.Og || (this.PL(p,g.Zc.sg),this.Og && (this.eC || this.config.tO) && this.dqa());};n.prototype.XXb=function(p,r){this.state.value !== g.Zc.Md && this.PL(p,g.Zc.KU);this.mga(r);};n.prototype.vXb=function(p,r){var t;t=this;this.config.Yzb && this.Og && (-1 === this.Rca.indexOf(p) && this.Rca.push(p),2 === this.Rca.length && Promise.resolve().then(function(){t.Og && void 0 !== t.Hz && t.yf("memoryLimit",r.f3,r.g3);}));};n.prototype.s3b=function(p,r){h.assert(this.state.value === g.Zc.Md && void 0 === this.Hz);this.Hz=p;r && (this.events.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:r.trackId,trackIndex:r.iH}),this.mga(r));};n.prototype.F3b=function(p,r,t){h.assert(this.Og);this.Sua=null !== p && void 0 !== p?p:this.Sua;this.XZ=null !== r && void 0 !== r?r:this.XZ;void 0 === this.pQ?this.pQ=t:void 0 !== (null === t || void 0 === t?void 0:t.reason) && (this.pQ.reason=t.reason);};n.prototype.yf=function(p,r,t){var w;h.assert(this.Og && void 0 !== this.Hz && void 0 === this.mJ && void 0 === this.tga && void 0 === this.p8);this.mJ=p;this.tga=r;this.p8=t;this.Vr=100;this.ypa();this.Y9();null === (w=this.mpa) || void 0 === w?void 0:w.Rb();this.state.value === g.Zc.sg && (this.eza=k.default.time.ma());this.m$();this.set(g.Zc.Uj);this.p8=this.tga=this.mJ=this.pQ=this.XZ=this.Sua=this.Hz=void 0;};n.prototype.stop=function(){var p;this.set(g.Zc.Tj);this.ypa();this.Y9();null === (p=this.mpa) || void 0 === p?void 0:p.Rb();};n.prototype.lpa=function(p,r,t,w){var v,u,x,y,z,A,B,D,C,F;v=this;h.assert(this.Og);null === (u=this.mpa) || void 0 === u?void 0:u.Rb();if(this.state.value === g.Zc.sg && k.default.time.ma() < this.eza + this.config.pxa){z=this.config.pxa - (k.default.time.ma() - this.eza);this.mpa=this.qf.FX(l.Hl.qM(d.O.Sa(z)),function(){v.lpa(p,r,t,w);});}else {u=t.$J(0);A=t.$J(1);B=k.default.time.ma() - this.ym;if(u || A){D=function(G){return G?G.PF() || G.Wt()?w.kpa(v.state.value,p,B >= v.config.GC,r,G,v.Pv):{complete:!1,reason:"selecteeNotStreamable"}:{complete:!0,reason:"noSelectee"};};C=D(u);D=D(A);F=function(G){var E;return {reason:G.reason,complete:G.complete,bl:null !== (E=G.IE) && void 0 !== E?E:0};};this.uh.vv({as:F(C),vs:F(D),bt:B});F=A?D:C;F.a9b=A && D.IE || 0;F.Yyb=u && C.IE || 0;C.complete && D.complete?(F.complete=!0,this.yf(null !== (z=F.reason) && void 0 !== z?z:"unknown",null !== (x=F.a9b) && void 0 !== x?x:0,null !== (y=F.Yyb) && void 0 !== y?y:0)):(F.complete=!1,this.pAb(F),this.uh.vv({bp:this.Vr}));}}};n.prototype.pAb=function(p){var r,t,w;w=p.progress;p.WF?w=(k.default.time.ma() - this.ym) / this.config.GC:w || (w=(null !== (r=p.IE) && void 0 !== r?r:0) / this.config.Hj);p=Math.min(Math.max(Math.round(100 * w),null !== (t=this.Vr) && void 0 !== t?t:0),99);p != this.Vr && (this.Vr=p);};n.prototype.PL=function(p,r){h.assert(r === g.Zc.Md || void 0 !== p);this.Hz=p;this.Vr=0;this.zda=void 0;this.CP.Pv=0;this.Rca=[];p=this.state.value === g.Zc.Md || this.state.value === g.Zc.sg;this.ym=k.default.time.ma();this.set(r);p || (this.UHb(),this.b4b());};n.prototype.set=function(p){this.state.set(p);switch(p){case g.Zc.Tj:this.mf.set(g.Da.Tj);break;case g.Zc.Md:case g.Zc.KU:this.mf.set(g.Da.Md);break;case g.Zc.sg:this.mf.set(g.Da.sg);break;case g.Zc.Uj:this.mf.set(g.Da.$c);}};n.prototype.UHb=function(){h.assert(this.events && void 0 !== this.Vr);this.zda=this.Vr;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:k.default.time.ma(),percentage:this.Vr});};n.prototype.b4b=function(){var p;p=this;this.ypa();this.AWb=this.qf.hZa(function(){return p.THb();},d.O.Sa(this.Zzb),"buffering-notification");};n.prototype.ypa=function(){var p;null === (p=this.AWb) || void 0 === p?void 0:p.Rb();};n.prototype.THb=function(){this.Og && this.events && void 0 !== this.Vr && this.Vr !== this.zda && this.events.emit("buffering",{type:"buffering",time:k.default.time.ma(),percentage:this.Vr}) && (this.zda=this.Vr);};n.prototype.m$=function(){var p;h.assert(this.events && this.Hz && void 0 !== this.mJ && void 0 !== this.p8 && void 0 !== this.tga);this.zda=this.Vr;this.events.emit("bufferingComplete",c.__assign({type:"bufferingComplete",time:k.default.time.ma(),actualStartPosition:this.Hz,reason:this.mJ,aBufferLevelMs:this.p8,vBufferLevelMs:this.tga,selector:this.Sua,initBitrate:this.XZ,initSelReason:null === (p=this.pQ) || void 0 === p?void 0:p.reason,skipbackBufferSizeBytes:this.pjc},this.bXa));};n.prototype.dqa=function(){var p;p=this;this.config.iib && (!this.gD || this.gD.state !== l.vo.complete && this.gD.state !== l.vo.iP?void 0 === this.gD && (this.gD=this.qf.BJ(function(){return p.yhb();},"underflow")):this.gD.fm());};n.prototype.Y9=function(){this.gD && (this.gD.state !== l.vo.iP && this.gD.Rb(),this.gD=void 0);};n.prototype.yhb=function(){var p,r,t;return c.__generator(this,function(w){switch(w.label){case 0:return (p=this.config.zca,this.J.trace("BufferingStateTracker: starting underflow timer: " + p + "ms"),[4,l.Hl.qM(d.O.Sa(p))]);case 1:(w.pc(),w.label=2);case 2:if(!this.Og)return [3,4];r=this.jc.JSb || 0;t=k.default.time.ma() - r;if(t >= p)return (this.J.trace("Forcing streaming failure, " + t + "ms since data received"),this.nra.YXb(this.eC),[2]);this.J.trace("BufferingStateTracker: network activity, wait " + (p - t) + "ms");return [4,l.Hl.qM(d.O.Sa(p - t))];case 3:return (w.pc(),[3,2]);case 4:return [2];}});};c.__decorate([m.Hb({methodName:"onTemporaryNetworkError",Ul:!0})],n.prototype,"G0",null);c.__decorate([m.Hb({methodName:"onUnderflow",Ul:!0})],n.prototype,"pk",null);c.__decorate([m.Hb({methodName:"bufferingComplete",Ul:!0})],n.prototype,"yf",null);c.__decorate([m.Hb({methodName:"stop",Ul:!0})],n.prototype,"stop",null);c.__decorate([m.Hb({methodName:"checkStreamingBufferingComplete",Ul:!0})],n.prototype,"lpa",null);c.__decorate([m.Hb({methodName:"createUnderflowTask",Ul:!0})],n.prototype,"dqa",null);c.__decorate([m.Hb({methodName:"destroyUnderflowTask",Ul:!0})],n.prototype,"Y9",null);c.__decorate([m.Hb({methodName:"onUnderflowTimeout",Ul:!0})],n.prototype,"yhb",null);return n;})();b.QEa=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.tra=void 0;c=a(25);b.tra=function(k,g,f,d){var h;h=[];k=k.filter(function(m){return m.Sy;}).map(function(m){var l,n;l=g(m.R,f,d);n=c.xv(l,m.sf).map(function(p){return p.mediaType;});h=c.M8(h,n);return {Ab:m,sf:l};});return {HXa:h,Szb:k};};},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.IPa=void 0;c=a(1);k=a(21);g=a(4);b.IPa=(function(){function f(){}f.JOb=function(d){var h,m,l;if(d.Ih){d=c.__read(d.sf,2);l=d[1];d=null === (h=d[0].mr) || void 0 === h?void 0:h.Ng;h=null === (m=null === l || void 0 === l?void 0:l.mr) || void 0 === m?void 0:m.Ng;g.assert(d);m=h?k.O.min(d,h):d;return {k9b:d,m9b:m};}};return f;})();},function(q,b,a){var c,k,g,f,d,h;Object.defineProperties(b,{__esModule:{value:!0}});b.IEa=void 0;q=a(1);c=a(13);k=a(8);g=a(70);f=a(15);d=a(17);h=q.__importDefault(a(5));a=(function(){function m(l,n,p,r,t,w){this.qf=l;this.Lu=n;this.config=p;this.lXb=r;this.Lf=t;this.console=w;this.Gla=new c.Fg();this.console=k.jk(h.default,w,"BranchDecisionMaker");}m.zLb=function(l){var n;return null !== (n=l.fd) && void 0 !== n?n:l.EC;};m.sMb=function(l){var n,p;n=l.G;p=l.$Q;return n.vc?n.vc:p.length?p[0]:l.yC[0];};m.prototype.sCa=function(l,n){var p,r,t,w;p=this;t=l.G;f.aa && this.console.trace("tracking " + l.G.id);this.reset();if(t.px || 1 >= t.yC.length && (null === (r=t.zz) || void 0 === r || !r.length))f.aa && this.console.trace(l.G.id + " does not need tracking");else {w=this.qAb(l);r=w.xAa;n=n.lessThan(w.oQb);f.aa && this.console.trace("tracking " + l.G.id,{ea:t.id,Dfc:n,Zic:null === r || void 0 === r?void 0:r.V});this.J2b(t,n?r:void 0);if(n)this.Gla.on(l.events,"branchEdited",function(){p.sCa(l,p.qf.La.currentTime);});}};m.prototype.VXa=function(){var l;null === (l=this.TZa) || void 0 === l?void 0:l.Rb();this.TZa=void 0;};m.prototype.reset=function(){this.VXa();this.Gla.clear();};m.prototype.qAb=function(l){var n,p;l=m.zLb(l);n=k.O.Sa(this.config.cG);p=k.O.Sa(this.config.SVb + this.config.c0);n=l.Ia(n);return {oQb:d.Fq(this.Lf.value)?l.Ia(p):n,xAa:n};};m.prototype.J2b=function(l,n){var p;p=this;this.VXa();this.TZa=n?this.qf.FX(g.Hl.QS(n),function(){return p.q8a(l);},"scheduled branch decision"):this.Lu.FX(g.Hl.t9b,function(){return p.q8a(l);},"immediate branch decision");};m.prototype.q8a=function(l){var n;this.Gla.clear();n=m.sMb(l);f.aa && this.console.trace("BranchDecisionMaker making decision for " + l.id + ", decision is " + n);this.lXb(l.id,n,!0);};return m;})();b.IEa=a;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.i2a=void 0;c=a(1129);b.i2a=function(k,g){return k.reduce(function(f,d){var h;h=g(d);d.zq().forEach(function(m){return f.vna(m.mediaType,m.vt,!h);});return f;},new c.rOa());};},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.rOa=void 0;c=a(472);q=(function(){function k(){this.Et=new c.oU();this.fY=new c.oU();}Object.defineProperties(k.prototype,{total:{get:function(){var g;g=new c.oU();g.add(this.Et);g.add(this.fY);return g;},enumerable:!1,configurable:!0}});k.prototype.add=function(g){this.Et.add(g.Et);this.fY.add(g.fY);};k.prototype.vna=function(g,f,d){(d?this.fY:this.Et).vna(g,f);};return k;})();b.rOa=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.k4a=void 0;b.k4a=function(a,c){return a.reduce(function(k,g){return k + g.$Y(c).V;},0);};},function(q,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.$Ya=void 0;c=a(1);k=a(17);b.$Ya=function(g){var m,l;function f(n){k.Fq(n.newValue) && !k.Fq(n.oldValue)?(null === l || void 0 === l?void 0:l.Rb(),l=m.FX.apply(m,c.__spread(d))):null === l || void 0 === l?void 0:l.Rb();}for(var d=[],h=1;h < arguments.length;h++){d[h - 1]=arguments[h];}h=g.vg;m=g.Lu;h.state.addListener(f);f({oldValue:k.Zc.Tj,newValue:h.state.value});};},function(q,b,a){var k,g;function c(f,d){return Object.keys(f.tG).map(function(h){return f.tG[h];}).filter(function(h){return void 0 === h.fK || 1 === h.fK;}).reduce(function(h,m){return h + m.Et[d];},0);}Object.defineProperties(b,{__esModule:{value:!0}});b.pQa=void 0;k=a(17);g=a(15);q=(function(){function f(d,h,m){this.la=d;this.console=h;this.Vsa=m;}f.prototype.OAb=function(d,h,m){var l,n,p,r;l=m && this.la.config.I8b;n=this.la.config.nga || l;p=this.Vsa();if(l){l=d.global;l=(r={},r[0]=l[0] - c(d,0),r[1]=l[1] - c(d,1),r);}r=l;p=this.NXa(h) || this.tBb(d) || this.rBb(d,p,r) || this.sBb(d,p,r,h);r=k.Dza(p);if(p && (!r || n))return (g.aa && this.console.log("canIssueRequest " + this.la.id + " [" + h + "] static limit: " + (m + ", usage: " + JSON.stringify(d) + ", failed " + p)),{result:!1,reason:p});g.aa && this.console.log("canIssueRequest " + this.la.id + " [" + h + "] static limit: " + (m + ", usage: " + JSON.stringify(d) + ", success " + p));return {result:!0,reason:p};};f.prototype.NXa=function(d){var h;h=this.la.config.eu;if(this.la.iMb(d) >= (h || Infinity))return "mediaDurationLimit";};f.prototype.tBb=function(d){return d.tG[this.la.id].total.total > (this.la.Baa() || Infinity)?"playgraphMemoryLimit":void 0;};f.prototype.rBb=function(d,h,m){d=d.global;return m?m[0] + m[1] > (h.JBa.total || Infinity)?"staticMemoryLimit":void 0:d.total > (h.total.total || Infinity)?"globalMemoryLimit":void 0;};f.prototype.sBb=function(d,h,m,l){var n;n=d.global;return m?(g.aa && this.console.log("checkRequestByMediaTypeMemory [" + l + "]: using static limit " + (h.JBa[l] + ", usage: " + m) + (" (global: " + n[l] + "  - certain contiguous: ") + (c(d,l) + ")")),m[l] > (h.JBa[l] || Infinity)?1 === l?"staticVideoMemoryLimit":"staticAudioMemoryLimit":void 0):n[l] > (h.total[l] || Infinity)?1 === l?"globalVideoMemoryLimit":"globalAudioMemoryLimit":void 0;};return f;})();b.pQa=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.kOa=void 0;q=(function(){function a(c){this.console=c;this.spa();}a.prototype.get=function(c){return this.eP[c] || this.ih[c];};a.prototype.set=function(c,k){void 0 === this.ih[c] && (this.ih[c]=k);};a.prototype.x3b=function(c,k){void 0 === this.get(c) && (this.eP[c]=k);};a.prototype.clear=function(c){this.eP[c]=void 0;this.ih[c]=void 0;};a.prototype.PBb=function(c){var k;this.ih=(k={},k[c]=this.ih[c],k);this.eP={};};a.prototype.spa=function(){this.ih={};this.eP={};};a.prototype.toJSON=function(){return {ih:this.ih,eP:this.eP};};return a;})();b.kOa=q;},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.nOa=b.RH=void 0;c=a(1);k=a(4);(function(f){f[f.xT=0]="CREATED";f[f.qka=1]="STARTED";f[f.DU=2]="REQUEST_ISSUED";f[f.fA=3]="EVALUATED";f[f.QFa=4]="DESTRUCTED";})(g=b.RH || (b.RH={}));q=(function(){function f(d){this.Bz=d;this.cd=g.xT;this.YG={};this.F2={};}Object.defineProperties(f.prototype,{state:{get:function(){return this.cd;},enumerable:!1,configurable:!0}});f.prototype.start=function(){var d;d=this;this.cd !== g.qka && (this.V_(g.qka),[g.fA,g.DU].forEach(function(h){var m;m=new Promise(function(l){k.assert(d.F2 && d.YG,"state promises should be defined");d.F2[h]=l;d.YG[h]=m;});}),this.Bz(),this.V_(g.fA));};f.prototype.V_=function(d){this.cd=d;this.F2 && (d=this.F2[d],null === d || void 0 === d?void 0:d());};f.prototype.Rb=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(d){switch(d.label){case 0:if(this.cd !== g.qka)return [3,2];k.assert(this.YG,"state resolves should be defined");return [4,this.YG[g.fA]];case 1:(d.pc(),d.label=2);case 2:return (this.F2=this.YG=void 0,this.cd=g.QFa,[2]);}});});};f.prototype.zga=function(d,h){c.__awaiter(this,void 0,void 0,function(){var m;return c.__generator(this,function(l){switch(l.label){case 0:if(this.cd === g.QFa)return [2];if(this.cd === g.fA)return [3,6];k.assert(this.YG,"state promises should be defined");m=d;switch(m){case g.fA:return [3,1];case g.DU:return [3,3];}return [3,5];case 1:return [4,this.YG[g.fA]];case 2:return (l.pc(),[3,6]);case 3:return [4,this.YG[g.DU]];case 4:return (l.pc(),[3,6]);case 5:return [3,6];case 6:return (null === h || void 0 === h?void 0:h(),[2]);}});});};return f;})();b.nOa=q;},function(q,b,a){var c,k,g,f,d;Object.defineProperties(b,{__esModule:{value:!0}});b.xX=void 0;c=a(1);k=a(483);g=a(484);f=a(289);d=a(136);b.xX=function(h,m,l){var n,p,r,t,w,v,u;n=m.Tya;p=m.E8;h=c.__assign({iia:g.hia},h).iia;r=f.cya(n[5],function(){return u;});n[5]=r.KG;t=l(m);m=new k.nja(function(){return t;});v={ol:new h(function(){return w.la;},m),pd:t,get rj() {return w;},wda:m,VSb:"content"};u=new f.FFa(v,r.Yfb,d.qz.rAa.PR);return w=d.qz.qza(t,u,function(){return v;},p);};},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.s7a=void 0;b.s7a=function(a){var c,k;c=a.next();do {if(!c.done)k=c.value;c=a.next();}while(!c.done);return k;};},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.HFa=void 0;q=(function(){function a(c){this.Hn=c;this.Kg="content-playgraph";this.enabled=!0;}a.prototype.Fm=function(){var c,k,g;c=this.Hn.pd;k=c.U;(k.Af?k.Xh:c.rw && c.Cz) && this.Hn.Hn && (k=k.Xh,c=this.Hn.ol.mH(k),k=this.Hn.pd.la.P[k.ea].M,this.Hn.la.P[c.ea].M != k && (g=k));return {contentPlaygraph:this.Hn.Hn,auxMid:g};};return a;})();b.HFa=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.nbb=void 0;b.nbb={"*":{P0a:["logdata"],rules:[{gm:function(a){return a.pDa;}}]},locationSelected:[{gm:function(a){return a.g2;}}],segmentComplete:[{gm:function(a){return a.g2;}}],segmentStarting:[{gm:function(a){return a.g2;}}],serverSwitch:[{gm:function(a){return a.g2;}}],streamSelected:[{gm:function(a){return a.Af;}}]};},function(q,b,a){var c,k,g,f,d,h;Object.defineProperties(b,{__esModule:{value:!0}});b.xX=void 0;c=a(1);k=a(483);g=a(484);f=a(289);d=a(136);h=a(1140);b.xX=function(m,l,n){var p,r,t,w,v,u;m=c.__assign({iia:g.hia},m).iia;p=l.Tya;r=f.cya(p[5],function(){return v;});p[5]=r.KG;p=new k.nja(function(){return u;});w={ol:new m(function(){return t.la;},p),get pd() {return u;},get rj() {return t;},wda:p,VSb:"ads"};w.ol.uh.K.source="Ads:" + w.ol.uh.K.source;v=new h.BDa(w,r.Yfb,d.qz.rAa.PR);m=l.E8;l.E8=c.__spread(m);l.E8.push(v);u=n(l);v.xa();p.Eea();return t=d.qz.qza(u,v,function(){return w;},m);};},function(q,b,a){var c,k,g,f,d;Object.defineProperties(b,{__esModule:{value:!0}});b.BDa=void 0;c=a(1);k=a(1141);g=a(71);f=a(4);q=a(289);d=a(1142);a=(function(h){function m(l,n,p){l=h.call(this,l,n,p,"AdsPlaygraphHost",!1) || this;l.WU=void 0;return l;}c.__extends(m,h);Object.defineProperties(m.prototype,{rj:{get:function(){return this.context.rj;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ho:{get:function(){var l;l=this.s8.YA.rsa(this.rj.la);if(l !== this.rj.la)return l;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{s8:{get:function(){return this.WU;},enumerable:!1,configurable:!0}});m.prototype.xa=function(){var l;l=this;h.prototype.xa.call(this);this.context.pd.eh(new k.CDa(this.context));this.WU=new d.ADa(this.K,this.context.pd,function(){return l.rj;},function(){return l.o1();});};m.prototype.yG=function(l){var n;n=h.prototype.yG.call(this,l);n && (f.assert(this.s8,"missing manager"),this.s8.YA.H0(l) && this.o1());return n;};m.prototype.Hsa=function(l){var n;return null === (n=this.s8) || void 0 === n?void 0:n.YA.rsa(l);};c.__decorate([g.Hb({methodName:"ads::processViewableResponse"})],m.prototype,"yG",null);return m;})(q.GFa);b.BDa=a;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.CDa=void 0;q=(function(){function a(c){this.context=c;this.Kg="ad-playgraph";this.enabled=!0;}a.prototype.Fm=function(){var c,k,g,f,d,h;c=this.context;k=c.rj;g=c.pd;c=g.U;f=c.Af?c.Xh:g.rw?g.Cz:void 0;c=k.Ho;d="content";if(f && (g=g.la.P[f.ea],(f=g.Lc) && k.la.P[f].M != g.M)){h=g.M;d=g.type;}return {adPlaygraph:c,adMid:h,auxMidType:d,manifestHasAds:! !c};};return a;})();b.CDa=q;},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.ADa=void 0;c=a(1143);k=a(1144);g=a(1147);q=(function(){function f(d,h,m,l){this.lrb=new c.zDa(d,h,m,l);this.nvb=new k.DDa(h,m,this.YA);new g.ZNa(this,h,console);}Object.defineProperties(f.prototype,{YA:{get:function(){return this.lrb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Xya:{get:function(){return this.nvb;},enumerable:!1,configurable:!0}});return f;})();b.ADa=q;},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.zDa=void 0;c=a(13);k=a(47);g=a(190);q=(function(){function f(d,h,m,l){this.config=d;this.mrb=h;this.rj=m;this.o1=l;this.uW={};this.oTa=new g.p6();this.events=new c.EventEmitter();}Object.defineProperties(f.prototype,{Ho:{get:function(){return this.mrb;},enumerable:!1,configurable:!0}});f.prototype.H0=function(d){var h,m;h=this.fLb(d);m=this.uW[d.L] !== h;this.uW[d.L]=h;m && this.process();return m;};f.prototype.process=function(){var d;d=this;this.oTa.ty || this.oTa.Fga(function(){var h;h=d.rsa(d.rj().la);d.Jec=h;d.o1(h);d.events.emit("adPlaygraphUpdated",{type:"adPlaygraphUpdated"});});};f.prototype.rsa=function(d){var h,m,l;h=this;m=d;l=Object.keys(d.P).map(function(n){return "" + d.P[n].M;});Object.keys(this.uW).forEach(function(n){var p;if(-1 !== l.indexOf(n)){p=h.uW[n];p && (n=k.XYa(parseInt(n),p,void 0,! !h.config.Aab,h.config.Aab),m=k.dxa(m,n));}});return m;};f.prototype.fLb=function(d){if(d.pa.cyb && (d=d.pa.cyb,d.tW.length))return d;};return f;})();b.zDa=q;},function(q,b,a){var k,g;function c(f){var d;d=(/^.+:ad\-(\d+)\-(\d+)$/).exec(f);if(d)return {YUa:parseInt(d[2]),pna:parseInt(d[1]),f_:!1};if(f=(/^.+::pad((end)|(start))-(\d+)$/).exec(f))return {pna:parseInt(f[2]),f_:!0,zab:f[1]};}Object.defineProperties(b,{__esModule:{value:!0}});b.DDa=void 0;k=a(8);g=a(1145);q=(function(){function f(d,h,m){this.Ho=d;this.rj=h;this.YA=m;}f.prototype.gLb=function(d){var h,m,l,n,p,r,t,w,v;l=c(null === d || void 0 === d?void 0:d.ea);n=this.Ho.la;p=this.rj().la;t=n.P[d.ea];w=t;v=[d.ea];for(p=p.P[w.Lc].M;w && w.Lc === t.Lc && w.M !== p;){v.push(w.vc);w=n.P[w.vc];}v.pop();n=null !== (r=v.pop()) && void 0 !== r?r:d.ea;r=c(n);d=this.Ho.la.P[d.ea];n=this.Ho.la.P[n];d=(null !== (h=d.za) && void 0 !== h?h:Infinity) - d.ya;h=(null !== (m=n.za) && void 0 !== m?m:Infinity) - n.ya;return {start:(null === l || void 0 === l?0:l.f_)?new g.cha(g.i4.start,d):void 0,end:(null === r || void 0 === r?0:r.f_)?new g.cha(g.i4.end,h):void 0};};Object.defineProperties(f.prototype,{y_b:{get:function(){var d,h,m,l,n,p,r,t,w;if(this.Ho.U.Af){h=this.Ho.U.Xh;m=c(h.ea);if(m){l=null === (d=this.rj().ol) || void 0 === d?void 0:d.mH(h);d=this.rj().la.P[l.ea];l=new g.ODa(this.YA.uW[d.M].tW[m.pna],l);d=this.gLb(h);d=new g.NDa(l,d.start,d.end);n=this.Ho.la;p=this.rj().la;r=n.P[h.ea];t=r;w=-h.offset.V;for(p=p.P[t.Lc].M;t && t.Lc === r.Lc && t.M !== p;){w+=t.za - t.ya;t=n.P[t.vc];}n=k.O.Sa(w);r=n.Ia(d.z0a.duration);m.f_ && ("end" === m.zab?r=k.O.ib:(t=d.wfb.duration.Ia(h.offset),r.Ia(t)));d={hxb:d,progress:{Fec:l.duration.Ia(r),Gec:1 - Math.max(0,r.V) / l.duration.V,Hec:d.duration.Ia(n),Iec:1 - Math.max(0,n.V) / l.duration.V},position:h,index:m.pna};n=this.Ho.la.P[h.ea];h=h.offset.V / (n.za - n.ya);m.f_?d.ric={sic:h,AYb:m.zab}:d.jxb={r8:l.sO[m.YUa],Kec:h,index:m.YUa};return d;}}},enumerable:!1,configurable:!0}});return f;})();b.DDa=q;},function(q,b,a){Object.defineProperties(b,{__esModule:{value:!0}});q=a(1);q.__exportStar(a(486),b);q.__exportStar(a(1146),b);},function(q,b,a){var c,k,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.NDa=b.cha=b.i4=b.ODa=void 0;c=a(34);k=a(486);q=(function(){function d(h,m){var l,n;this.qr=m;this.trb=null !== (n=null === (l=h.sO) || void 0 === l?void 0:l.map(function(p){return new k.MDa(p);})) && void 0 !== n?n:[];}Object.defineProperties(d.prototype,{sO:{get:function(){return this.trb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.sO.reduce(function(h,m){return h.add(m.endTime.Ia(m.startTime));},c.O.ib);},enumerable:!1,configurable:!0}});return d;})();b.ODa=q;(function(d){d[d.start=0]="start";d[d.end=1]="end";})(g=b.i4 || (b.i4={}));f=(function(){function d(h,m){this.AYb=h;this.zsb=m;}Object.defineProperties(d.prototype,{duration:{get:function(){return c.O.Sa(this.zsb);},enumerable:!1,configurable:!0}});Object.defineProperties(d,{G$a:{get:function(){return this.Pub || (this.Pub=new d(g.start,0));},enumerable:!1,configurable:!0}});return d;})();b.cha=f;q=(function(){function d(h,m,l){this.ixb=h;this.rwb=m || f.G$a;this.Dsb=l || f.G$a;}Object.defineProperties(d.prototype,{wfb:{get:function(){return this.rwb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{z0a:{get:function(){return this.Dsb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.ixb.duration.add(this.wfb.duration).add(this.z0a.duration);},enumerable:!1,configurable:!0}});return d;})();b.NDa=q;},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.ZNa=void 0;q=a(1);c=a(13);k=q.__importDefault(a(5));g=a(8);a=(function(){function f(d,h,m){var l;l=this;this.WU=d;this.Ho=h;this.wSa=new c.Fg();this.J=g.jk(k.default,m,"PLAYERADMANAGER");this.events=new c.EventEmitter();this.Ho.events.on("playerChanged",function(){l.jbb();});this.jbb();this.YA.events.on("adPlaygraphUpdated",function(n){return l.events.emit("adPlaygraphUpdated",n);});}Object.defineProperties(f.prototype,{YA:{get:function(){return this.WU.YA;},enumerable:!1,configurable:!0}});f.prototype.jbb=function(){var d;d=this;this.J.trace("Player changed",this.Ho.TB);this.wSa.clear();this.Ho.TB && this.wSa.addListener(this.Ho.U.events,"segmentPresenting",function(){var h;h=d.Xya.y_b;d.J.trace("Got segment presenting event",{Vgc:d.w7,Dic:h});(null === h || void 0 === h?0:h.hxb)?d.w7 || (d.w7=!0,d.J.trace("Emitting adbreak"),d.events.emit("adBreakPresenting",{type:"adBreakPresenting",presentingInfo:h})):d.w7 && (d.w7=!1,d.J.trace("Emitting adbreak ended"),d.events.emit("adBreakEnded",{type:"adBreakEnded"}));if(null === h || void 0 === h?0:h.jxb)(d.J.trace("Emitting ad presenting"),d.events.emit("adPresenting",{type:"adPresenting",presentingInfo:h}));});};Object.defineProperties(f.prototype,{Xya:{get:function(){return this.WU.Xya;},enumerable:!1,configurable:!0}});return f;})();b.ZNa=a;},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.YO=void 0;c=a(1);k=a(1149);g=a(286);b.YO=function(f,d){var h,m,l;h=[function(n){return new (k.eha.bind.apply(k.eha,c.__spread([void 0],n.AZb)))();}];if(f.o$){m=a(487).Upa;h.unshift(function(n,p){return m(n,p);});}if(f.n$){l=a(487).Upa;h.unshift(function(n,p){return l(n,p);});}return g.o4.Yua({AZb:d},h);};},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r,t;Object.defineProperties(b,{__esModule:{value:!0}});b.eha=void 0;c=a(1);k=a(13);g=a(8);f=a(4);d=c.__importDefault(a(5));h=a(70);m=a(25);q=a(136);l=a(1150);n=a(477);p=a(1154);r=a(1155);t=q.qz.wqa;a=(function(w){function v(u,x,y){var z;z=w.call(this) || this;z.U=u;z.Qd=x;z.ov=y;z.oY=[];z.fh=void 0;z.Hla=new k.Fg();z.ot=void 0;z.jE=void 0;z.J=new d.default.Console("ASEJS","media|asejs");z.Hla.on(z.U,"underflow",function(){return z.pk();});z.eV=new p.aOa(u);z.Hla.on(z.U,"skipped",function(){return z.F0();});z.ny=new h.LU(z.eV,z.J,"player");z.nDa=new g.IU();u.xXa && u.fm && (z.AL=new r.APa(z,u,z.J));return z;}c.__extends(v,w);Object.defineProperties(v.prototype,{Jz:{get:function(){var u;return null === (u=this.fh) || void 0 === u?void 0:u.Jz;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{console:{get:function(){return this.J;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{np:{get:function(){return this.ny;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Cb:{get:function(){var u,x;return null !== (x=null === (u=this.fh) || void 0 === u?void 0:u.Ly()) && void 0 !== x?x:[];},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{va:{get:function(){var u;return null === (u=this.fh) || void 0 === u?void 0:u.va;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{La:{get:function(){return this.eV;},enumerable:!1,configurable:!0}});v.prototype.q2=function(u){-1 === this.oY.indexOf(u) && this.oY.push(u);this.fh && this.fh.B0(u);this.events.emit("drmReady",{viewableId:u});};v.prototype.VAa=function(u){u=this.oY.indexOf(u);-1 !== u && this.oY.splice(u,1);};v.prototype.ap=function(u){var x;return -1 !== this.oY.indexOf(u) || !(null === (x=m.oe(this.Cb,function(y){return y.Sy && y.R.M === u;})) || void 0 === x || !x.R.Cj);};v.prototype.TG=function(u){var x;null === (x=this.fh) || void 0 === x?void 0:x.TG(u);};v.prototype.reset=function(){var u;this.nDa=new g.IU();w.prototype.reset.call(this);this.jE=void 0;null === (u=this.fh) || void 0 === u?void 0:u.reset();};v.prototype.W1=function(u){var x,y;w.prototype.W1.call(this,u);null === (x=this.fh) || void 0 === x?void 0:x.W1(u);null === (y=this.AL) || void 0 === y?void 0:y.c2b(u);};v.prototype.tJ=function(){var u;null === (u=this.fh) || void 0 === u?void 0:u.tJ();};v.prototype.pause=function(u){this.QL(u);w.prototype.pause.call(this,null !== u && void 0 !== u?u:this.Qd);};v.prototype.resume=function(u){var x;null === (x=this.fh) || void 0 === x?void 0:x.resume(u);w.prototype.resume.call(this,null !== u && void 0 !== u?u:this.Qd);};v.prototype.Rb=function(){this.ot=this.dba()?this.Qn():void 0;this.fh && this.Dqa(this.fh.va);this.eV.Rb();this.ny.Rb();this.Hla.clear();w.prototype.Rb.call(this);};v.prototype.XJ=function(){var u,x;if(null === (u=this.fh) || void 0 === u?0:u.B_b){u=this.U.Ac;if(this.La.ql){if(this.jE){if(this.jE.greaterThan(u))return (u=this.jE.Ia(u),this.nDa.push(u.V),this.jE);if(this.Cb.length){x=this.fh.USb;if(x && x.lessThan(u))return (this.events.emit("logdata",{type:"logdata",target:"endplay",cb:{clockdrift:{type:"count"}}}),this.jE);}}this.jE=u;}return u;}return w.prototype.XJ.call(this);};v.prototype.Aq=function(){var u;u=this.U.playbackRate;void 0 === u && (u=w.prototype.Aq.call(this));return u;};v.prototype.dba=function(){return ! !this.ot || 0 < this.Cb.length;};v.prototype.Qn=function(){if(this.ot)return this.ot;f.assert(0 < this.Cb.length,"Could not find presenting branch. Player has no branches.");return this.Qi;};v.prototype.xaa=function(){var u;return null === (u=this.fh) || void 0 === u?void 0:u.LSb;};v.prototype.Dqa=function(u){var x;f.assert(u === this.va);null === (x=this.fh) || void 0 === x?void 0:x.Rb();this.fh=void 0;};v.prototype.T8=function(u,x){this.ot=void 0;if(x=w.prototype.T8.call(this,u,x))(this.fh=new l.lEa(u,this,this.J,u.config,this.ov,this.events,this.Qd,this.ny,this.AL,this.dE,this.cE),this.QL(this.lR));return x;};v.prototype.kra=function(){var y;for(var u=[],x=0;x < arguments.length;x++){u[x]=arguments[x];}y=this.fh;f.assert(y);u.forEach(function(z){return y.LIb(z);});};v.prototype.pBa=function(){var u;null === (u=this.fh) || void 0 === u?void 0:u.pBa();};v.prototype.Aj=function(u){var x,y,z;if(!this.fh)return !1;x=this.faa(u);if(!x)return !1;y=x.G;z=g.O.Sa(this.ov.cG);return y.Ng.Ia(z).lessThan(u) || !x.RE(u)?!1:this.fh.Aj(u);};v.prototype.Haa=function(){var u;return null === (u=this.AL) || void 0 === u?void 0:u.Haa();};v.prototype.pk=function(){var u,x,y;x=this.Lg;f.assert(this.va);y=this.Rq(x);f.assert(y);null === (u=this.fh) || void 0 === u?void 0:u.pk();u=this.faa(x);null === u || void 0 === u?void 0:u.R.pk();this.va.pk(y);};v.prototype.F0=function(){this.jE=void 0;};v.prototype.xsa=function(){var u;return null === (u=this.fh) || void 0 === u?void 0:u.xsa();};v.prototype.QL=function(u){var x;null === (x=this.fh) || void 0 === x?void 0:x.QL(u);};v.prototype.tCa=function(u){f.assert(this.va && this.fh);return w.prototype.tCa.call(this,u);};c.__decorate([t.return.OWa(),t.return.jo],v.prototype,"Qn",null);c.__decorate([t.return.OWa(),t.return.jo],v.prototype,"xaa",null);return v;})(n.$ja);b.eha=a;},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r,t,w,v;Object.defineProperties(b,{__esModule:{value:!0}});b.lEa=void 0;c=a(1);k=a(13);g=a(461);f=c.__importDefault(a(5));d=a(193);a(17);h=a(272);m=a(8);l=a(25);n=a(70);p=a(239);r=a(4);t=a(1151);w=a(1152);v=a(1153);q=(function(){function u(x,y,z,A,B,D,C,F,G,E,I){var K;K=this;this.va=x;this.U=y;this.J=z;this.K=A;this.ov=B;this.yh=D;this.Qd=C;this.np=F;this.AL=G;this.dE=E;this.cE=I;this.R6=!1;this.ESa=new m.SPa();this.xma=this.mXb.bind(this);this.Vj=new d.vM(this.J);this.Jz=new w.SQa(this.J,x);this.fFb(this.Jz);this.Il && (this.qvb=this.wsa(this.GNb()),this.Qtb=m.$s.mDa(this.Il.map(function(L){return L.gz;}),function(L){return L.every(function(H){return H;});},function(L){return K.dE.set(L);}),this.Mrb=new p.qja(this.Il.map(function(L){return L.n_;}),function(L){return m.O.min.apply(m.O,c.__spread(L));},function(L){K.cE.set(L);},m.O.Sa(-Infinity)));this.Jr=F.BJ(function(){return K.Rzb();},"branchPruner");this.vSa=new k.Fg();this.vSa.on(this.yh,"segmentPresenting",function(){K.Etb=K.U.Qn();});}Object.defineProperties(u.prototype,{LSb:{get:function(){return this.Etb;},enumerable:!1,configurable:!0}});u.prototype.Rzb=function(){var x,y,z,A,B,D,C;return c.__generator(this,function(F){switch(F.label){case 0:if(!this.Vj.uYa)return [3,2];x=c.__read(this.Vj.Wfa(),1);y=x[0];z=null !== (C=null === (D=this.ov.eS) || void 0 === D?void 0:D.V) && void 0 !== C?C:0;A=y.s_ || y.fd;B=A.add(m.O.Sa(z + 1E3));return [4,n.Hl.QS(B)];case 1:return (F.pc(),this.Vj.remove(y),y.events.removeListener("branchEdited",this.xma),y.Mf("pruned"),[3,0]);case 2:return [2];}});};Object.defineProperties(u.prototype,{B_b:{get:function(){var x;return !(null === (x=this.qvb) || void 0 === x || !x.gz.value);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{USb:{get:function(){return this.R6?m.O.max.apply(m.O,c.__spread(this.Il.map(function(x){var y;return null === (y=x.Vyb) || void 0 === y?void 0:y.u7a;}).filter(l.yda))):void 0;},enumerable:!1,configurable:!0}});u.prototype.TG=function(x){this.Il.forEach(function(y){y.TG(x);});};u.prototype.mXb=function(){var x;this.Jr.fm();x=this.Il.filter(function(y){return y.iRb;}).map(function(y){return y.mediaType;});this.QL(x);this.resume(x);};u.prototype.LIb=function(x){r.assert(-1 === this.Vj.Wfa().indexOf(x),"Branch " + x.G.id + " is already in the collection, cannot re-queue");x.events.addListener("branchEdited",this.xma);this.Vj.enqueue(x);this.Jr.state === n.vo.complete && this.Jr.fm();x.G.px && this.Vj.u$();this.R6 || this.jKb(x);};u.prototype.B0=function(x){this.Il.forEach(function(y){y.B0(x);});};u.prototype.reset=function(){this.Il.forEach(function(x){x.reset();});this.R6=!1;this.ESa.removeAllListeners();this.tJ();};u.prototype.W1=function(x){x=this.wsa(x);null === x || void 0 === x?void 0:x.reset();};u.prototype.tJ=function(){var x;x=this;this.Vj.Wfa().forEach(function(y){return y.events.removeListener("branchEdited",x.xma);});this.Vj.clear();this.Jr.fm();};u.prototype.resume=function(x){this.Il.forEach(function(y){void 0 !== x && -1 === x.indexOf(y.mediaType) || y.resume();});};u.prototype.QL=function(x){this.Il.forEach(function(y){return (void 0 === x || -1 !== x.indexOf(y.mediaType)) && y.stop();});};u.prototype.pBa=function(){this.Il.forEach(function(x){return x.I4b();});};u.prototype.pk=function(){this.J.trace("attached-player: onUnderflow");};u.prototype.e4a=function(){return this.Vj.getIterator();};u.prototype.CMb=function(){return this.Ly()[0];};u.prototype.Ly=function(){return this.Vj.Wfa();};u.prototype.fFb=function(x){var y,z,A;y=this;this.vn("createMediaSourceStart");if(this.ov.oZ)z=this.ov.oZ();else (z=new f.default.MediaSource(this.U.U),z.dd || (z.dd=f.default.MediaSource.dd));if(1 !== z.readyState)this.Lr("exception in init","NFErr_MC_StreamingInitFailure");else {this.vn("createMediaSourceEnd");this.Hg=z;if(!z.w8(this.Qd))throw (this.J.trace("Error:",z.error),this.Lr("error creating source buffers","NFErr_MC_StreamingInitFailure"),z.error);A={};this.va.eh(new t.nFa(A,this.K));this.Il=z.sourceBuffers.filter(function(B){return 0 <= y.Qd.indexOf(B.mediaType);}).map(function(B){var D,C,F;C=new h.tha(y.J,B.mediaType,z,B,y.K,!0,{Ue:function(){return y.U.Lg.V;},ap:function(G){return y.U.ap(G.M);}},y.np);C.addListener("error",function(G){return y.Lr(G.errorstr);});C.addListener("logdata",function(G){return y.yh.emit("logdata",G);});C.addListener("managerdebugevent",function(G){y.yh.emit("managerdebugevent",G);});F=new g.fha(C,B.mediaType,y,y.K,y.J,y.U,y.ov,y.np,x,y.AL);if(1 === B.mediaType)F.on("drmNeeded",function(G){return y.yh.emit("drmNeeded",G);});null === (D=F.rea) || void 0 === D?void 0:D.Pxb(new v.oFa(A,y.J,y.U,C,y.U.events,y.ov,y.np));return F;});}};u.prototype.Rb=function(){this.Qtb.clear();this.Mrb.clear();this.Il.forEach(function(x){return x.Rb();});this.ov.oZ || this.Hg.$r();this.tJ();this.Jr.Rb();this.vSa.clear();};u.prototype.Aj=function(x){return this.Il.every(function(y){return y.Aj(x);});};u.prototype.xsa=function(){return {l0b:this.Ly(),zZb:this.Il};};u.prototype.jKb=function(x){var y;y=this;this.R6=!0;x.sf.forEach(function(z){var A;A=y.wsa(z.mediaType);if(void 0 !== A)y.ESa.once(z.Xra,function(B){return A.lKb(B);});});if(x.Ic)this.h0a();else x.events.once("branchNormalized",function(){return y.h0a();});};u.prototype.h0a=function(){var x;x=this.CMb();x && (r.assert(x.he),this.yh.emit("ptsChanged",{initialTimestamp:x.he}));};u.prototype.wsa=function(x){return l.oe(this.Il,function(y){return y.mediaType === x;});};u.prototype.GNb=function(){return -1 !== this.Qd.indexOf(1)?1:0;};u.prototype.vn=function(x){x={type:"startEvent",event:x,time:f.default.time.ma()};this.yh.emit(x.type,x);};u.prototype.Lr=function(x,y){this.va.sh(x,void 0,y);};return u;})();b.lEa=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.nFa=void 0;c=a(56);q=(function(){function k(g,f){this.Ai=g;this.config=f;this.Kg="CdnListTracker";}Object.defineProperties(k.prototype,{enabled:{get:function(){return this.config.$Ab;},enumerable:!1,configurable:!0}});k.prototype.Fm=function(g){var f;f=this;if(g.kj === c.ue.rq)return {cdndldist:JSON.stringify(Object.keys(this.Ai).map(function(d){var h;h=f.Ai[d];return {cdnid:h.zy,pbcid:h.mp,dls:Object.keys(h.kY).map(function(m){var l,n;m=h.kY[m];n=0 === m.mediaType?"adlid":"dlid";return (l={tm:m.totalTime,bitrate:m.bitrate},l[n]=m.Ec,l.vf=m.nb,l);})};}))};};return k;})();b.nFa=q;},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.SQa=void 0;c=a(1).__importDefault(a(5));k=a(21);g=a(33);q=(function(){function f(d,h){this.J=d;this.st=h;}f.prototype.WG=function(d,h,m,l,n){var p,r;void 0 === n && (n=!1);p=d.G;r=this.Vsb(p);this.hW={startTime:c.default.time.ma(),X4b:d,W4b:m.V,LHb:h,ye:this.PMb(l,h),i7b:this.zOb(l,n),yqa:n,Oe:l,QXa:r,rWb:this.jNb(p,m)};};f.prototype.ita=function(d){var h,m,l,n,p,r,t,w,v,u,x,y,z,A,B,D,C;if(this.hW && 0 !== Object.keys(this.hW.QXa).length && d === this.hW.LHb){p=this.hW;r=p.QXa;t=p.rWb;w=p.yqa;v=p.Oe;u=p.X4b;x=p.W4b;y=p.startTime;z=p.ye;p=p.i7b;this.hW=void 0;A=this.Rla(d).Bt;B=this.jLb(u.G.id,d,r);A=this.qTa(B.weight,A);D={};for(C in r){C !== d && (D[C]=r[C].details);}r=c.default.time.ma() - y;y=v?0:r;C={offset:k.O.Sa(this.gOb(u,x,v,w)),ea:u.G.id};x={offset:k.O.Sa(x),ea:u.G.id};t={segment:d,destPosition:{ea:d,offset:k.O.ib},srcsegment:u.G.id,srcTransitionPosition:C,srcStartPosition:x,srcsegmentduration:u.aga.V,srcoffset:C.offset.V,seamlessRequested:v,atRequest:B,atTransition:A,discard:D,transitionType:z,transitionTypeAtRequest:p,delayToTransition:this.VLb(r,v,w),durationOfTransition:y,nextExitPositionAtRequest:t};d=null !== (m=null === (h=this.st.la.P[d]) || void 0 === h?void 0:h.type) && void 0 !== m?m:"content";h=null !== (n=null === (l=this.st.la.P[u.G.id]) || void 0 === l?void 0:l.type) && void 0 !== n?n:"content";if(d !== h || "content" !== d)(t.midType=d,t.srcmidType=h);return t;}};f.prototype.jLb=function(d,h,m){var l,n,p;p={};(m=m[h])?p=m.details:(g.assert(this.st),p.weight=null === (n=null === (l=this.st.la.P[d].next) || void 0 === l?void 0:l[h]) || void 0 === n?void 0:n.weight);return p;};f.prototype.VLb=function(d,h,m){var l;m || (l=h?d:0);return l;};f.prototype.jNb=function(d,h){var m,l,n;l=d.Yd.add(h);null === (m=d.zz) || void 0 === m?void 0:m.some(function(p){l.lessThan(p.Ic) && (n=p.Ic.V);});return n;};f.prototype.gOb=function(d,h,m,l){return m || l?d.aga.V:h;};f.prototype.PMb=function(d,h){return d?"seamless":this.Rla(h).IZ?"reset":"long";};f.prototype.zOb=function(d,h){return d || h?"lazy":"immediate";};f.prototype.Vsb=function(d){var h,m;h=this;m={};d.yC.forEach(function(l){var n,p;n=d.uWb[l];p=h.Rla(l).Bt;m[l]={details:h.qTa(n,p)};});return m;};f.prototype.Rla=function(d){var h,m;d=this.st.Dsa(d);h=0 < d.length?d[0]:void 0;d=null === h || void 0 === h?void 0:h.HB();if(!h || !d)return {IZ:!1,Bt:{Ap:0,ut:0,Ku:0,yE:0}};m=h.cba(0) && !d.ut;h=h.cba(1) && !d.Ap;return {IZ:!m && !h,Bt:d};};f.prototype.qTa=function(d,h){return {weight:d,vbuflmsec:h.Ap,abuflmsec:h.ut,vbuflbytes:h.Ku,abuflbytes:h.yE};};return f;})();b.SQa=q;},function(q,b,a){var c,k,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.oFa=void 0;c=a(1);k=a(13);g=a(4);f=a(25);q=(function(d){function h(m,l,n,p,r,t,w){l=d.call(this,"any",l,n,p,r,t,w,"cdnList") || this;l.Ai=m;return l;}c.__extends(h,d);h.prototype.V$a=function(){var m;m=this;this.OV=new k.Fg();this.OV.on(this.Na.U,"skipped",function(l){m.YBa(null === l || void 0 === l?void 0:l.Eic);});this.OV.on(this.Na.U,"paused",function(){m.YBa();});this.OV.on(this.Na.U,"playing",function(){m.nV=void 0;});this.OV.on(this.Na.U,"underflow",function(){m.YBa();});};h.prototype.close=function(){d.prototype.close.call(this);this.OV.clear();};h.prototype.YBa=function(m){var l;if(this.nV && (m || this.Na.Af) && this.CV && (m || (m=this.Na.Lg),this.nV.greaterThan(m))){l=this.nV.Ia(m);this.CV.totalTime-=l.V;this.nV=m;}};h.prototype.gz=function(m){var l,n,p;l=m.stream;n=m.he;p=m.fd;g.assert(void 0 !== n);this.wna({request:m,w8b:l.url},n,p);};h.prototype.Yqa=function(m,l){var n,p,r,t,w,v,u,x;w=this.Ai;v=m.jH;m=v.request;u=v.w8b;v=m.duration;m.he && l.greaterThan(m.he) && (l=l.Ia(m.he).V,v-=l);l=m.stream;x=null === (n=f.oe(l.tl.urls,function(y){return y.url === u;})) || void 0 === n?void 0:n.hq;n=null === (p=l.R.pa.mX) || void 0 === p?void 0:p.mp;p=x + "::" + n;this.CV=(r=(w[p] || (w[p]={zy:x,mp:n,kY:{}})).kY)[t=l.tl.pq] || (r[t]={bitrate:l.bitrate,Ec:l.tl.pq,mediaType:m.mediaType,totalTime:0,nb:l.nb});this.CV.totalTime+=v;this.nV=m.fd;};return h;})(a(279).e6);b.oFa=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.aOa=void 0;c=a(13);q=a(39);a=(function(){function k(g){var f;f=this;this.U=g;this.ema=!1;this.GI=new c.Fg();this.GI.on(g,"paused",function(){return f.Jda();});this.GI.on(g,"playing",function(){return f.Jda(!0);});this.GI.on(g,"underflow",function(){return f.Jda();});this.GI.on(g,"skipped",function(){return f.F0();});this.GI.on(g,"clockAdjusted",function(){return f.A0();});this.GI.on(g,"playbackRateChanged",function(){return f.GXb();});}Object.defineProperties(k.prototype,{currentTime:{get:function(){return this.zUa || this.U.Ac;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ql:{get:function(){return this.ema;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{speed:{get:function(){var g;return null !== (g=this.U.playbackRate) && void 0 !== g?g:1;},enumerable:!1,configurable:!0}});k.prototype.Jda=function(g){void 0 === g && (g=!1);g !== this.ema && (this.zUa=(this.ema=g)?void 0:this.U.Ac);this.emit("stopStart",{type:"stopStart"});};k.prototype.F0=function(){this.zUa=void 0;this.A0();};k.prototype.A0=function(){this.emit("clockAdjusted",{type:"clockAdjusted"});};k.prototype.GXb=function(){this.emit("speedChanged",{type:"speedChanged"});};k.prototype.Rb=function(){this.Jda();this.GI.clear();};return k;})();b.aOa=a;q.Xe(c.EventEmitter,a);},function(q,b,a){var c,k,g,f,d;Object.defineProperties(b,{__esModule:{value:!0}});b.APa=void 0;c=a(1);k=a(13);g=a(15);f=a(8);d=a(4);q=(function(){function h(m,l,n){var p;p=this;this.Na=m;this.U=l;this.J=n;this.pending=new Map();this.listeners=new k.Fg();this.Fxa=!1;this.cPb=function(r){var t,w,x;if(p.pending.size){g.aa && p.J.trace("SeamlessManager playback ending, restarting player");w={};try{for(var v=c.__values(p.pending.entries()),u=v.next();!u.done;u=v.next()){x=c.__read(u.value,2);w[x[0]]=x[1].to.Gm();}}catch(z){var y;y={error:z};}finally{try{u && !u.done && (t=v.return) && t.call(v);}finally{if(y)throw y.error;}}r.cancel();p.U.fm(w).then(function(){var z;null === (z=p.fP) || void 0 === z?void 0:z.resolve();p.reset();});}};this.listeners.addListener(l,"playbackEnding",this.cPb);}h.prototype.Rb=function(){this.pending.clear();this.listeners.clear();};h.prototype.s9b=function(m){0 === this.pending.size && (d.assert(void 0 === this.fP),this.fP=new f.EH());d.assert(this.fP);d.assert(!this.pending.has(m.mediaType));this.pending.set(m.mediaType,m);if(this.pending.size === this.Na.Qd.length){if(!this.Fxa && this.VRb())return (g.aa && this.J.trace("SeamlessManager seamless transition possible at " + m.timestamp.Bc()),this.fP.resolve(),this.reset(),this.C7a=m.timestamp,Promise.resolve());g.aa && this.J.trace("SeamlessManager starting non-seamless transition at " + m.timestamp.Bc());this.d5b();}return this.fP.promise;};h.prototype.c2b=function(m){this.pending.delete(m);};h.prototype.Haa=function(){return this.C7a;};h.prototype.reset=function(){this.Fxa=!1;this.fP=this.C7a=void 0;this.pending.clear();};h.prototype.VRb=function(){var m,p,r,t,w,v;try{for(var l=c.__values(this.pending.entries()),n=l.next();!n.done;n=l.next()){p=c.__read(n.value,2);r=p[0];t=p[1];if(t.from && t.from.track !== t.to.track && (0 !== r || t.from.bitrate !== t.to.bitrate)){w=t.from.Gm();v=t.to.Gm();if(!this.U.xXa(r,w,v).xXa)return !1;}}}catch(x){var u;u={error:x};}finally{try{n && !n.done && (m=l.return) && m.call(l);}finally{if(u)throw u.error;}}return !0;};h.prototype.d5b=function(){this.Fxa=!0;this.Na.pBa();};return h;})();b.APa=q;},function(q,b,a){var c,k,g,f,d,h;Object.defineProperties(b,{__esModule:{value:!0}});b.EFa=void 0;c=a(1);k=a(485);g=a(71);f=a(8);d=c.__importDefault(a(5));h=a(1157);q=(function(){function m(l,n){var p;p=this;this.YZ=l;this.events=k.Ypa(function(){return p.Jva;},this.YZ.events,n,h.kbb);this.csb=f.jk(d.default,this.YZ.console,"CONTENTPLAYER");new g.fv({zs:10,Oq:this,source:"ContentPlayerHost",console:this.csb});}m.prototype.zpa=function(){this.Jva=void 0;};m.prototype.jBa=function(l){this.Jva=l;};c.__decorate([g.Hb({methodName:"clearUxPlaygraphContext"})],m.prototype,"zpa",null);c.__decorate([g.Hb({methodName:"setUxPlaygraphContext"})],m.prototype,"jBa",null);return m;})();b.EFa=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.kbb=void 0;b.kbb={"*":{P0a:["logdata"],rules:[{gm:function(a){return a.pDa;}}]},segmentPresenting:[{gm:function(a){return a.pDa;},config:{Ls:["metrics"]}},{gm:function(a){return a.Af;}},{gm:function(a){return a.Af;},config:{Ls:["metrics","srcStartPosition"]}},{gm:function(a){return a.Af;},config:{Ls:["metrics","srcTransitionPosition"]}},{gm:function(a){return a.Af;},config:{Ls:["metrics","destPosition"]}}],streamPresenting:[{gm:function(a){return a.Af;}}],segmentAppended:[{gm:function(a){return a.g2;}}]};},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r,t,w,v,u,x,y,z,A;Object.defineProperties(b,{__esModule:{value:!0}});b.PPa=void 0;c=a(1);k=a(13);g=c.__importStar(a(10));f=a(17);d=a(240);h=a(17);m=a(8);l=a(4);n=a(21);p=a(241);r=a(56);t=a(104);w=a(71);v=a(198);u=c.__importDefault(a(5));x=a(238);y=a(1159);z=a(1160);A=0;q=(function(B){function D(C,F,G,E,I,K,L,H,P,N,J){var M,O,Q,T,V;T=B.call(this) || this;T.console=C;T.Jq=F;T.HV=G;T.jO=I;T.C2=K;T.Dy=H;T.U=N;T.config=J;T.mt=!1;T.ZU=!1;T.ot=void 0;T.yf=function(){var da,pa,xa,ya,sa;null === (da=T.wN) || void 0 === da?void 0:da.clear();da=T.Nrb;sa=T.bvb;l.assert(da);T.qh && l.assert(sa);T.um.value !== h.Da.et && T.um.value !== h.Da.Tj && (null !== (pa=T.Na) && void 0 !== pa && pa.Af?(pa=null === (ya=null === (xa=T.Jq.Ra.jc.get()) || void 0 === xa?void 0:xa.fb) || void 0 === ya?void 0:ya.Ca,T.va.l3("startplay",r.ue.fr),T.Yfa.wW("emitBufferingComplete",{}),y.m$(T,da,T.Na.Lg,pa,sa,T.va.yO)):T.console.error("Shim received buffering complete but player has no position (player " + (T.Na?"":"un") + "defined, state " + T.um.value + ")"));};T.PW=function(){var da,pa,xa;T.Yfa.wW("audioTrackSwitchComplete",{});l.assert(void 0 !== T.Co);pa=T.HV.audio_tracks[T.Co];xa=T.Co;T.Co=void 0;y.g0a(T,pa,xa);null === (da=T.z0) || void 0 === da?void 0:da.call(T);T.z0=void 0;};l.assert(2 >= E.length,"Ase session shim suports a maximum of 1 parallel graph.");G=c.__read(E,2);C=G[0];G=G[1];T.vj=new k.Fg();T.M=C.la.P[K[0].ea].M;T.um=new m.$s(h.Da.Sh);T.iD=new t.oI(T.console);L.jf && (T.Kca=new x.QM(T.console,J));T.va=C;T.qh=G;E.forEach(function(da){var pa,xa;pa=da.TE(T.iD);T.Kca && (pa=new t.ev([T.Kca,pa]));xa=da.SE();da.qfa(xa,pa);});T.Hfc=!1;T.x_a=!1;y.F8a(T.console,F,T,C,G);V=A++;T.Yfa=new w.fv({Oq:T,source:"ShimSession",console:T.console,zs:50,Ina:function(){return {shimId:V};}});T.va.eh(new v.Vx(T.Yfa));T.wib=void 0 !== (null === (Q=null === (O=(M=T.U).nZ) || void 0 === O?void 0:O.call(M)) || void 0 === Q?void 0:Q.ca);T.Vd=z.qWa(N);F=T.YYa({Qd:T.B8a(T.va.la.Qd),oZ:T.Daa.bind(T)});T.Na=F;T.qh && (T.sk=T.YYa({Qd:T.B8a(T.qh.la.Qd),oZ:T.Daa.bind(T)}));T.Na.events.on("segmentPresenting",function(){T.ot=T.NSa();});T.on("streamerend",function(){return T.B5b();});T.Eeb();return T;}c.__extends(D,B);Object.defineProperties(D.prototype,{L:{get:function(){return this.M;},enumerable:!1,configurable:!0}});Object.defineProperties(D.prototype,{ja:{get:function(){return this.Dy.ja;},enumerable:!1,configurable:!0}});Object.defineProperties(D.prototype,{mediaSourceId:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(D.prototype,{Kh:{get:function(){return this.vj;},enumerable:!1,configurable:!0}});Object.defineProperties(D.prototype,{ff:{get:function(){return {Zgc:{1:{Z:{Ta:Infinity}}}};},enumerable:!1,configurable:!0}});Object.defineProperties(D.prototype,{addEventListener:{get:function(){return this.addListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(D.prototype,{removeEventListener:{get:function(){return this.removeListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(D.prototype,{hM:{get:function(){return void 0 !== this.Co;},enumerable:!1,configurable:!0}});D.prototype.tTb=function(){var C,F,G,E,I;C=this;I=null === (E=null === (G=(F=this.U).nZ) || void 0 === G?void 0:G.call(F)) || void 0 === E?void 0:E.ca;l.assert(I,"video element is not defined");I.addEventListener("play",function(){return C.KUa();});I.addEventListener("pause",function(){return C.Yk();});};D.prototype.B5b=function(){this.Jq.Rr(!0,this.Dy.sessionId);};D.prototype.HS=function(C,F){var G;this.va.Oj((G={},G[C]=F,G));};D.prototype.open=function(){var C,F,G,E;C=this;if(!this.mt){this.mt=!0;this.Jq.Rr(this.config.xt,this.Dy.sessionId);E=new Promise(function(I){setTimeout(I,0);}).then(function(){C.emit("openComplete",{type:"openComplete"});});this.va.open();null === (F=this.qh) || void 0 === F?void 0:F.open();this.va.SC(this.C2[0]);l.assert(this.Na,"asePlayer should be defined on session.open");this.C2[1] && (F=this.va.QB(this.C2[0]),l.assert(F,"ShimSession.open(): Graph position did not map a valid content timestamp"),null === (G=this.qh) || void 0 === G?void 0:G.SC(this.C2[1],F.In));y.C8a(this.Jq,this,this.Na,this.console);this.um.set(h.Da.Md);E.then(function(){C.Rs(C.yf);});this.va.AO(this.Na);this.qh && (l.assert(this.sk,"parallelPlayer should be defined on session.open"),this.qh.AO(this.sk));this.wib && this.tTb();}};D.prototype.Daa=function(){this.lk || (this.lk=new u.default.MediaSource(this.Vd),this.lk.dd || (this.lk.dd=u.default.MediaSource.dd));return this.lk;};D.prototype.YYa=function(C){void 0 === C && (C={});C=c.__assign({cG:this.config.cG,Pya:this.config.Pya},C);return this.Jq.Ra.mVa(this.Vd,C);};D.prototype.B8a=function(C){return C?null === C || void 0 === C?void 0:C.map(function(F){return "video" === F?1:0;}):[0,1];};D.prototype.close=function(){this.mt && (this.mt=!1);this.Jq.Rr(!0,this.Dy.sessionId,!0);};Object.defineProperties(D.prototype,{gJ:{get:function(){return "1.5";},enumerable:!1,configurable:!0}});D.prototype.flush=function(){var C;this.mt && this.um.value !== h.Da.Tj && this.um.value !== h.Da.et && this.stop();this.va.l3("endplay",r.ue.rq);this.va.Mf();null === (C=this.qh) || void 0 === C?void 0:C.Mf();this.Jq.Ji.save();this.Jq.fp.save();};D.prototype.paused=function(){this.wib || this.Yk();};D.prototype.Yk=function(){this.um.value === h.Da.$c && (this.um.set(h.Da.Rh),this.Vd.emit("paused",{type:"paused",Xd:this.Vd.Ac}));};D.prototype.KUa=function(){this.um.value === h.Da.Rh && (this.um.set(h.Da.$c),this.Vd.emit("playing",{type:"playing",Xd:this.Vd.Ac}));};D.prototype.sd=function(){var C,F;this.mt && this.um.value !== h.Da.Tj && this.um.value !== h.Da.et && this.stop();this.Jq.t1b(this);this.mt && this.close();this.AA && (clearInterval(this.AA),this.AA=void 0);null === (C=this.wN) || void 0 === C?void 0:C.clear();this.Na && this.Jq.Ra.DR(this.Na);this.sk && this.Jq.Ra.DR(this.sk);null === (F=this.lk) || void 0 === F?void 0:F.$r();};D.prototype.suspend=function(){};D.prototype.resume=function(){};D.prototype.play=function(){var C;C=this;this.va.state !== d.Mk.CLOSED && (l.assert(this.Na,"ShimSession.play(), expected asePlayer to exist."),this.Na.resume(this.ZU?[1]:void 0),this.qh && (l.assert(this.sk,"ShimSession.play(), expected parallelPlayer to exist."),this.sk.resume(this.ZU?[1]:void 0)),this.um.set(h.Da.$c),this.Vd.emit("playing",{type:"playing",Xd:this.Vd.Ac}),this.emit("play"),this.AA || (this.AA=setInterval(function(){return C.DWb();},this.config.FO)));};D.prototype.stop=function(){this.um.set(h.Da.et);l.assert(this.Na,"ShimSession.stop(), expected asePlayer to exist.");this.Na.pause();this.qh && (l.assert(this.sk,"ShimSession.stop(), expected parallelPlayer to exist."),this.sk.pause());this.Vd.emit("paused",{type:"paused",Xd:this.Vd.Ac});this.emit("stop");};D.prototype.zB=function(C){var F,G,E,I;void 0 === F && (F=!0);this.Na?(C=parseInt(C),g.isFinite(C) && (null === (G=this.Kca) || void 0 === G?void 0:G.ngb(),F?(this.Na.q2(C),null === (E=this.sk) || void 0 === E?void 0:E.q2(C)):(this.Na.VAa(C),null === (I=this.sk) || void 0 === I?void 0:I.VAa(C)))):this.fail("Must call open prior to drmReady");};D.prototype.bba=function(){var C;if(!this.Na || !this.Na.Af)return !1;C=this.Na.ap(this.va.la.P[this.Na.Xh.ea].M);return C && this.qh && this.sk?this.sk.ap(this.qh.la.P[this.sk.Xh.ea].M):C;};D.prototype.yp=function(){var C;null === (C=this.Kca) || void 0 === C?void 0:C.ngb();this.um.set(h.Da.sg);this.Vd.emit("underflow",{type:"underflow",Xd:this.Vd.Ac});this.Rs(this.yf);};D.prototype.zaa=function(C){var F;F=r.ue.fr;switch(C){case "intrplay":F=r.ue.yp;break;case "endplay":F=r.ue.rq;}C=this.va.zaa(F);return c.__assign(c.__assign({},C),{aseApiVersion:this.gJ});};D.prototype.Mya=function(){this.Vd.emit("playbackRateChanged",{type:"playbackRateChanged",Xd:this.Vd.Ac});};D.prototype.xp=function(C,F){C=this.Vd.Ue();F={type:"skipped",pts:n.O.Sa(C),previousPts:"number" === typeof F?n.O.Sa(F):void 0};this.Vd.emit(F.type,F);return new p.lI(Promise.resolve()).nAa;};D.prototype.Woa=function(C,F){var G;F=this.Ata(F || 0,C);return null === (G=this.va.On(F,C)) || void 0 === G?void 0:G.ud;};D.prototype.Kv=function(C,F){var G;G=new n.O(F,1E3);return (G=this.va.Rq(G,{jfb:!0,ifb:!0}))?this.va.la.P[G.ea].ya + Number(G.offset.V.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert manifestIndex " + C + ", playerPts: " + F);};D.prototype.WO=function(C,F){C=this.Ata(C || 0,F);C={ea:C,offset:new n.O(F - this.va.la.P[C].ya,1E3)};return (C=this.va.gK(C))?C.V:F;};D.prototype.Aba=function(){var C,F,G;F={};G=null === (C=this.va) || void 0 === C?void 0:C.My();C=this.qh?this.qh.My():G;G && (F.vbuflmsec=G.totalvbuflmsecs,F.vbuflbytes=G.vbuflbytes);C && (F.abuflmsec=C.totalabuflmsecs,F.abuflbytes=C.abuflbytes);return F;};D.prototype.laa=function(){return {df:0};};D.prototype.Qn=function(){var C,F;return null !== (C=this.ot) && void 0 !== C?C:(null === (F=this.Na) || void 0 === F?0:F.dba())?this.NSa():{id:this.C2[0].ea,df:0,ud:0,Uc:Infinity,lf:Infinity,Rd:0};};D.prototype.NSa=function(){var C,F,G,E,I,K,L,H,P;l.assert(this.Na,"attempted to get presenting branch information with no player");l.assert(this.Na.dba(),"attempted to get presenting branch information but player has no branches");K=this.Na.Qn() || ({});L=K.G;H=K.Cd;P=K.EC;K=K.Qq;return {id:L.id,df:null !== (C=null === H || void 0 === H?void 0:H.V) && void 0 !== C?C:0,ud:null !== (F=null === L || void 0 === L?void 0:L.Yd.V) && void 0 !== F?F:0,Uc:null !== (G=null === L || void 0 === L?void 0:L.Ng.V) && void 0 !== G?G:Infinity,lf:null !== (E=null === P || void 0 === P?void 0:P.V) && void 0 !== E?E:Infinity,Rd:null !== (I=null === K || void 0 === K?void 0:K.V) && void 0 !== I?I:0};};D.prototype.Rcb=function(){this.NK("removeSession");};D.prototype.uu=function(C,F){void 0 === F && (F=0);l.assert(!this.qh,"Seeking with dual playgraphs not supported.");F=this.Ata(F,C);this.Jq.Rr(this.config.xt,this.Dy.sessionId);C={ea:F,offset:n.O.Sa(C - this.va.la.P[F].ya)};this.ot=void 0;this.va.SC(C);l.assert(this.Na);this.Na.resume();this.um.set(h.Da.Md);this.Rs(this.yf);C=this.va.$ea(C);l.assert(C,"Valid position must be provided for seek");return C.offset.V;};D.prototype.seek=function(C,F){C=this.Kv(F,C);return this.uu(C,F);};D.prototype.Ct=function(C,F,G){var E,I;E=this.Qn().id;I=this.va.WP(E,C);if(F){if(!I.Cib)return (this.console.warn("chooseNextSegment, seamless transition, invalid destination: " + (C + " for current segment: " + E)),!1);if(void 0 !== I.YQ)return (this.va.oj(E,C,!1,F),I.YQ === C);this.va.oj(E,C,!1,F);return !0;}if(void 0 !== I.YQ)return (G || this.uu(I.ud,0),!1);I.GO?(l.assert(this.Na),this.Na.reset(),this.va.oj(E,C,!1,F),this.Na.resume(),this.um.set(h.Da.Md),this.Rs(this.yf)):G || this.uu(I.ud,0);return ! !I.GO;};D.prototype.rO=function(){this.NK("addManifest");};D.prototype.qW=function(){return this.NK("activateManifest");};D.prototype.R$a=function(){this.Rrb();};D.prototype.Nfa=function(C){var F,G,E,I;F=this.qh?this.sk:this.Na;G=C.Lo;l.assert(!this.qh,"ShimSesssion: Parallel graph does not support track switches.");if(void 0 !== this.Co)return !1;C=this.HV.audio_tracks;if(!C.some(function(K,L){if(K.track_id === G)return (E=K,I=L,!0);}))return !1;C=C[this.jO[0]];this.Co=I;this.ZU=!0;null === F || void 0 === F?void 0:F.pause([0]);this.emit("audioTrackSwitchStarted",{type:"audioTrackSwitchStarted",oldLangCode:C.language,oldNumChannels:C.channels,newLangCode:E.language,newNumChannels:E.channels});return !0;};D.prototype.Ms=function(C,F){this.iD.Ms(C,F);};D.prototype.Aj=function(C){return this.Na?this.Na.Aj(n.O.Sa(C)):!1;};D.prototype.z$=function(){this.NK("evaluateQoE");};D.prototype.NBa=function(){this.NK("stopBuffering");};D.prototype.PL=function(){return this.NK("startBuffering");};D.prototype.i4a=function(){return this.NK("getStreamingStatistics");};D.prototype.fail=function(C){this.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:C,manifestIndex:0});};D.prototype.Ata=function(C,F){return 0 !== C?this.fail("Unexpected manifestIndex: " + C + ", single viewable playback only supports manifestIndex: 0"):this.IY(F);};D.prototype.IY=function(C){var F,G,I,K,L,H,P;F=this.va.la;G=[];l.assert(0 <= C,"contentPts must be 0 or greater for segmentId lookup");for(var E in F.P){I=F.P[E];K=I.ya;I=I.za;L=C < Number(null !== I && void 0 !== I?I:Infinity);if(K <= C && L)G.push(E);else if((K=Math.min(Math.abs(C - K),Math.abs(C - I)),void 0 === H || K < H))(H=K,P=E);}l.assert(1 >= G.length,"Overlapped segments detected in branching, this is not supported");C=G[0] || P;l.assert(void 0 !== C,"segmentId from contentPts lookup failed");return C;};D.prototype.DWb=function(){var C,F;F=null === (C=this.va) || void 0 === C?void 0:C.My();C=this.qh?this.qh.My():F;F && C && this.emit("updateBufferLevel",{type:"updateBufferLevel",abuflbytes:C.abuflbytes,vbuflbytes:F.vbuflbytes,totalabuflmsecs:C.totalabuflmsecs,totalvbuflmsecs:F.totalvbuflmsecs,currentBandwidth:F.currentBandwidth});};D.prototype.NK=function(C){return this.fail("Method not implemented " + C);};D.prototype.Rrb=function(){l.assert(void 0 !== this.Co);this.jO[0]=this.Co;this.Eeb();this.Rs(this.PW);};D.prototype.Eeb=function(){var C;C=this;this.qh?(this.va.Ez({vu:function(){}},{vu:function(){return C.jO[1];}}),this.qh.Ez({vu:function(){return C.jO[0];}},{vu:function(){}})):this.va.Ez({vu:function(){return C.jO[0];}},{vu:function(){return C.jO[1];}});this.ZU && ((this.qh?this.sk:this.Na).resume([0]),this.ZU=!1);};D.prototype.r3b=function(C){this.Nrb=C;};D.prototype.M3b=function(C){this.bvb=C;};D.prototype.Rs=function(C){var F,G;F=this;C !== this.PW && void 0 !== this.Co?this.z0=C:(null === (G=this.wN) || void 0 === G?void 0:G.clear(),!this.qh && this.Na?this.wN=m.$s.mDa([this.va.Lf,this.Na.n_],function(E){var I,K;E=c.__read(E,2);K=E[1];return E[0] === f.Zc.Uj && (null === (I=F.Na) || void 0 === I?void 0:I.Af) && K.greaterThan(F.Na.Lg);},this.ZYa(C)):this.Na && (this.wN=m.$s.mDa([this.va.Lf,this.Na.n_,this.qh.Lf,this.sk.n_],function(E){var I,K,L,H,P;E=c.__read(E,4);L=E[1];H=E[2];P=E[3];return E[0] === f.Zc.Uj && (null === (I=F.Na) || void 0 === I?void 0:I.Af) && L.greaterThan(F.Na.Lg) && H === f.Zc.Uj && (null === (K=F.sk) || void 0 === K?void 0:K.Af) && P.greaterThan(F.sk.Lg);},this.ZYa(C))));};D.prototype.ZYa=function(C){var F;F=this;return function(G){var E;G && (null === (E=F.wN) || void 0 === E?void 0:E.clear(),F.wN=void 0,Promise.resolve().then(C));};};c.__decorate([w.Hb({methodName:"updateChoiceMapEntry",Jo:!0})],D.prototype,"HS",null);c.__decorate([w.Hb({methodName:"open"})],D.prototype,"open",null);c.__decorate([w.Hb({methodName:"close"})],D.prototype,"close",null);c.__decorate([w.Hb({methodName:"paused"})],D.prototype,"Yk",null);c.__decorate([w.Hb({methodName:"unpaused"})],D.prototype,"KUa",null);c.__decorate([w.Hb({methodName:"cleanup"})],D.prototype,"sd",null);c.__decorate([w.Hb({methodName:"suspend"})],D.prototype,"suspend",null);c.__decorate([w.Hb({methodName:"resume"})],D.prototype,"resume",null);c.__decorate([w.Hb({methodName:"play"})],D.prototype,"play",null);c.__decorate([w.Hb({methodName:"stop"})],D.prototype,"stop",null);c.__decorate([w.Hb({Jo:!0,methodName:"drmReady"})],D.prototype,"zB",null);c.__decorate([w.Hb({methodName:"underflow"})],D.prototype,"yp",null);c.__decorate([w.Hb({methodName:"getLogdataReport"})],D.prototype,"zaa",null);c.__decorate([w.Hb({methodName:"skipped"})],D.prototype,"xp",null);c.__decorate([w.Hb({methodName:"seekByContentPts"})],D.prototype,"uu",null);c.__decorate([w.Hb({methodName:"seek"})],D.prototype,"seek",null);c.__decorate([w.Hb({methodName:"chooseNextSegment",Jo:!0})],D.prototype,"Ct",null);c.__decorate([w.Hb({methodName:"onAudioTrackSwitchStarted"})],D.prototype,"R$a",null);c.__decorate([w.Hb({methodName:"switchTracks"})],D.prototype,"Nfa",null);return D;})(k.EventEmitter);b.PPa=q;},function(q,b,a){var g,f;function c(d,h,m){var l,n;l=Array.isArray(m)?m[0]:m;n=Array.isArray(m)?m[1]:m;h.on(l,function(p){d.emit(n,g.__assign(g.__assign({},p),{type:n}));});}function k(d,h,m,l){var n,p;h.events.once(d,function(r){(n=r) && p && l(n,p);});m.events.once(d,function(r){p=r;n && p && l(n,p);});}Object.defineProperties(b,{__esModule:{value:!0}});b.g0a=b.m$=b.C8a=b.F8a=void 0;g=a(1);f=a(15);b.F8a=function(d,h,m,l,n){var r;function p(t,w){c(m,t,w);}h=n?[l,n]:[l];[["aseReport","asereport"],["aseReportEnabled","asereportenabled"],"buffering","managerdebugevent","endOfStream","lastSegmentPts","locationSelected","segmentAborted","startEvent",["transportReport","transportreport"]].forEach(function(t){return p(l.events,t);});n?(p(n.events,"initialAudioTrack"),k("streamerEnd",l,n,function(t){m.emit("streamerend",g.__assign(g.__assign({},t),{type:"streamerend"}));})):(p(l.events,["streamerEnd","streamerend"]),p(l.events,"initialAudioTrack"));l.events.on("logdata",function(t){m.emit("logdata",g.__assign(g.__assign({},t),{fields:g.__assign(g.__assign({},t.fields),{aseApiVersion:m.gJ})}));});r=!0;l.events.on("bufferingStarted",function(t){m.hM && r?r=!1:(m.Yfa.wW("bufferingStarted",{}),m.emit("bufferingStarted",t));});l.events.on("bufferingComplete",function(t){m.hM?r=!0:m.r3b(t);});null === n || void 0 === n?void 0:n.events.on("bufferingComplete",function(t){m.hM || m.M3b(t);});l.events.on("maxVideoBitrateChanged",function(t){m.emit("maxvideobitratechanged",g.__assign(g.__assign({},t),{type:"maxvideobitratechanged",vjc:t.streaming.V}));});l.events.on("error",function(t){t=g.__assign(g.__assign({},t),{manifestIndex:0});m.emit("error",t);});m.on("error",function(){});l.events.on("segmentComplete",function(t){m.emit("segmentComplete",{type:"segmentComplete",mediaType:t.mediaType,manifestIndex:0,segmentId:t.segmentId});});l.events.on("segmentNormalized",function(t){var w;w=Math.floor(t.viewableContentEnd.V);m.emit("maxPosition",{type:"maxPosition",index:0,endPts:w,maxPts:w,maxSeekPts:Math.floor(t.viewableEarliestContentEnd.V)});m.emit("manifestRange",{type:"manifestRange",index:0,manifestOffset:0,startPts:0,endPts:w,maxPts:w});});l.events.on("segmentStarting",function(t){m.emit("maxBitrates",{type:"maxBitrates",audio:t.maxBitrates.audio,video:t.maxBitrates.video});m.emit("segmentStarting",t);});h.forEach(function(t){t.events.on("serverSwitch",function(w){m.emit("serverSwitch",{type:"serverSwitch",segmentId:w.segmentId,mediatype:w.mediatype,server:w.server,reason:w.reason,location:w.location,bitrate:w.bitrate,confidence:w.confidence,throughput:w.throughput,oldserver:w.oldserver});});t.events.on("streamSelected",function(w){var v;v=t.QB(w.position);m.emit("streamSelected",{type:"streamSelected",nativetime:w.nativetime,mediaType:w.mediaType,streamId:w.streamId,manifestIndex:0,trackIndex:w.trackIndex,streamIndex:w.streamIndex,movieTime:v.In.V,bandwidth:w.bandwidth,longtermBw:w.longtermBw,rebuffer:w.rebuffer});});t.events.on("updateStreamingPts",function(w){var v;v=m.L;f.aa && d.trace("converting updateStreamingPts, movieId:",v);m.emit("updateStreamingPts",{type:"updateStreamingPts",mediaType:w.mediaType,manifestIndex:0,trackIndex:w.trackIndex,segmentId:w.position.ea,movieTime:Math.floor(w.completePlayerStreamingTimestamp.V)});});});};b.C8a=function(d,h,m,l){["managerdebugevent","segmentAppended","startEvent","logdata"].forEach(function(n){return c(h,m.events,n);});m.events.on("streamPresenting",function(n){var p,r;p=n.playerTimestamp.V;r=h.va.QB(n.position);void 0 === r?l.warn("ShimSession cannot map streamPresenting: " + JSON.stringify(n)):h.emit("streamPresenting",{type:"streamPresenting",startPts:Math.floor(p),contentStartPts:Math.floor(r.In.V),mediaType:n.mediaType,manifestIndex:0,trackIndex:n.trackIndex,streamIndex:n.streamIndex});});m.events.on("segmentPresenting",function(n){var p,r,t;p=h.va.QB(n.position);r=n.playerTimestamp.Ia(p.In);t=n.position.ea;h.x_a || (h.emit("manifestPresenting",{type:"manifestPresenting",index:0,pts:n.playerTimestamp.V,movieId:p.M.toString(),replace:!1,contentOffset:r.V}),h.x_a=!0);h.emit("segmentPresenting",{type:"segmentPresenting",segmentId:t,contentOffset:r.V,metrics:n.metrics});});m.events.on("ptsChanged",function(n){h.emit("ptschanged",n.initialTimestamp.V);h.Vd.emit("skipped");});};b.m$=function(d,h,m,l,n,p){var r;m=m.V;n=null !== n && void 0 !== n?n:h;d.emit("logdata",{type:"logdata",target:"startplay",fields:{hasasereport:! !p,hashindsight:!1,buffCompleteReason:h.reason,actualbw:l,initSelReason:null !== (r=h.initSelReason) && void 0 !== r?r:"unknown",bcVBufferLevelMs:h.vBufferLevelMs,bcABufferLevelMs:n.aBufferLevelMs}});d.emit("ptschanged",m);d.emit("bufferingComplete",{type:"bufferingComplete",time:h.time,actualStartPts:m,aBufferLevelMs:n.aBufferLevelMs,vBufferLevelMs:h.vBufferLevelMs,selector:h.selector,initBitrate:h.initBitrate,skipbackBufferSizeBytes:h.skipbackBufferSizeBytes});};b.g0a=function(d,h,m){d.emit("audioTrackSwitchComplete",{type:"audioTrackSwitchComplete",trackId:h.track_id,trackIndex:m});};},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.qWa=void 0;q=a(1);c=a(13);k=q.__importDefault(a(159));g=a(8);b.qWa=function(f){if(f.jrb)return f;k.default(c.EventEmitter.prototype,f);Object.defineProperties(f,{jrb:{value:!0},Ac:{get:function(){return new g.O(this.Ue(),1E3);}},playbackRate:{get:function(){return Math.max("function" === typeof this.Aq?this.Aq():1,.01);}}});return f;};},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.DCb={Iw:["minInitVideoBitrate",-Infinity],mxa:["minHCInitVideoBitrate",-Infinity],oC:["maxInitVideoBitrate",Infinity],a0:["minInitAudioBitrate",-Infinity],Z_:["minHCInitAudioBitrate",-Infinity],K_:["maxInitAudioBitrate",Infinity],Uca:["minAcceptableVideoBitrate",-Infinity],W_:["minAcceptableVMAF",0],DVb:["minAcceptableVMAFRebufferScalingFactor",0],lxa:["minAllowedVideoBitrate",-Infinity],AUb:["maxAllowedVideoBitrate",Infinity],PK:["minAllowedVmaf",-Infinity],L8a:["maxAllowedVmaf",Infinity],oS:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],r$:["enableResolutionVMAFStreamFilter",!1],Bya:["percentCapTitlesForResolutionVMAFStreamFilter",100],Uea:["resolutionVMAFCappingRuleList",[]],r5a:["ignoreUserFilterOnEmptyResult",!0],QK:["minRequiredBuffer",2E4],ada:["minRequiredAudioBuffer",0],Hj:["minPrebufSize",5800],Yca:["minCheckBufferingCompleteInterval",200],q$:["enableMoreFrequentBufferingCompleteCheck",!1],pxa:["minimumBufferingCompleteInterval",1E4],Oea:["requireDownloadDataAtBuffering",!1],F5a:["indicatorForDownloadDataAtBuffering","oncomplete"],Pea:["requireSetupConnectionDuringBuffering",!1],Fza:["rebufferingFactor",1],ys:["maxBufferingTime",2E3],WCa:["useMaxPrebufSize",!0],qC:["maxPrebufSize",4E4],Vwa:["maxRebufSize",Infinity],vJb:["fastRebufferRecoveryThreshold",Infinity],uJb:["fastRebufferRecoverBwThrehold",3E3],uba:["initialBitrateSelectionCurve",null],K5a:["initSelectionLowerBound",-Infinity],L5a:["initSelectionUpperBound",Infinity],X2:["throughputPercentForAudio",15],soa:["bandwidthMargin",0],uoa:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],BWa:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,kB:76376,scale:18862.4,gamma:3.0569}],toa:["bandwidthMarginContinuous",!1],CWa:["bandwidthMarginForAudio",!0],dCa:["switchConfigBasedOnInSessionTput",!0],Qpa:["conservBandwidthMargin",20],wX:["conservBandwidthMarginTputThreshold",6E3],Rpa:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],mgb:["switchAlgoBasedOnHistIQR",!1],bH:["switchConfigBasedOnThroughputHistory","iqr"],Uwa:["maxPlayerStateToSwitchConfig",-1],wwa:["lowEndMarkingCriteria","iqr"],Bia:["IQRThreshold",.5],pua:["histIQRCalcToUse","simple"],Av:["bandwidthManifold",{curves:[{min:.05,max:.82,kB:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,kB:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],Fw:["maxTotalBufferLevelPerSession",0],e5a:["highWatermarkLevel",3E4],Vgb:["toStableThreshold",3E4],Vfa:["toUnstableThreshold",0],xBa:["skipBitrateInUpswitch",!1],oDa:["watermarkLevelForSkipStart",8E3],hba:["highStreamRetentionWindow",9E4],vca:["lowStreamTransitionWindow",51E4],lua:["highStreamRetentionWindowUp",5E5],ywa:["lowStreamTransitionWindowUp",1E5],kua:["highStreamRetentionWindowDown",6E5],xwa:["lowStreamTransitionWindowDown",0],jua:["highStreamInfeasibleBitrateFactor",.5],iC:["lowestBufForUpswitch",9E3],qca:["lockPeriodAfterDownswitch",15E3],Awa:["lowWatermarkLevel",15E3],jC:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],Bwa:["lowestWaterMarkLevelBufferRelaxed",!1],FUb:["maxContentDurationForMinBufferIncrease",6E4],$wa:["mediaRate",1.5],JK:["maxTrailingBufferLen",15E3],IW:["audioBufferTargetAvailableSize",262144],C3:["videoBufferTargetAvailableSize",1048576],g9a:["maxVideoTrailingBufferSize",8388608],N8a:["maxAudioTrailingBufferSize",393216],I$:["fastUpswitchFactor",3],a1a:["fastUpswitchFactorWithoutHeaders",3],Era:["fastDownswitchFactor",3],eu:["maxMediaBufferAllowed",27E4],Vhc:["minMediaBufferLen",1E4],tBa:["simulatePartialBlocks",!0],cfb:["simulateBufferFull",!0],Spa:["considerConnectTime",!0],Ppa:["connectTimeMultiplier",1],h8a:["lowGradeModeEnterThreshold",12E4],i8a:["lowGradeModeExitThreshold",9E4],P8a:["maxDomainFailureWaitDuration",3E4],M8a:["maxAttemptsOnFailure",18],R0a:["exhaustAllLocationsForFailure",!0],X8a:["maxNetworkErrorsDuringBuffering",20],zca:["maxBufferingTimeAllowedWithNetworkError",6E4],tO:["alwaysRunUnderflowTimer",!0],Z0a:["fastDomainSelectionBwThreshold",2E3],zgb:["throughputProbingEnterThreshold",4E4],Agb:["throughputProbingExitThreshold",34E3],W7a:["locationProbingTimeout",1E4],f1a:["finalLocationSelectionBwThreshold",1E4],xgb:["throughputHighConfidenceLevel",.75],ygb:["throughputLowConfidenceLevel",.4],hwa:["locationStatisticsUpdateInterval",6E4],ITb:["locationSelectorPersistFailures",!0],t0a:["enablePerfBasedLocationSwitch",!1],Dhc:["maxRateMaxFragmentGroups",4500],Fya:["pipelineScheduleTimeoutMs",2],pC:["maxPartialBuffersAtBufferingStart",2],KVb:["minPendingBufferLen",3E3],Eca:["maxPendingBufferLen",6E3],qIb:["enableNginxRateLimit",!1],uda:["nginxSendingRate",4E4],uIb:["enableRequestPacingToken",!1],jVb:["mediaRequestPacingSpeed",2],Qua:["initialMediaRequestToken",2E4],xca:["maxActiveRequestsSABCell100",2],Z8a:["maxPendingBufferLenSABCell100",500],mdb:["resetActiveRequestsAtSessionInit",!0],Zqa:["enableCprAudio",!1],$qa:["enableCprVideo",!1],aYa:["clientPacingParams",{minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3],lowestAllowedRateFactor:1}],l5b:["staticPacingRateKbps",0],wYb:["paceRateSelectorAlgorithm","default"],s0a:["enablePaceReportLogging",!1],H7b:["unpacedFragmentInterval",0],kQb:["ignorePacedRequestStrategy","none"],Qda:["pacedThresholdPct",.1],b0a:["effectivePaceRateFactor",1],a1b:["regressionAlgoPacingCoefficients",[{playerStates:[0,1,2],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[0,1,2],bufferLevelPct:0,coefficients:{offset:1E5}},{playerStates:[],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[],bufferLevelPct:1,coefficients:{maxAverageBitrate:2}}]],n6b:["targetBufferLevelStddevMultiplier",1],m6b:["targetBufferLevelDurationMs",0],LVb:["minTargetBufferLevelMs",27E4],MBa:["stddevPredictorMultiplier",2],n5b:["stddevPredictorSource","deliverytime"],o0a:["enableInitialTputLogging",!1],jIb:["enableInitialThroughputHistory",!1],Wwa:["maxStreamingSkew",2E3],EUb:["maxBufferOccupancyForSkewCheck",Infinity],y8b:["useBufferOccupancySkipBack",!0],Swa:["maxPendingBufferPercentage",10],b9a:["maxRequestsInBuffer",120],fba:["headerRequestSize",4096],qra:["estimateHeaderSize",!0],Igc:["headerCacheEstimateHeaderSize",!1],VK:["neverWipeHeaderCache",!1],H8b:["useSidxInfoFromManifestForHeaderRequestSize",!1],$0a:["fastPlayHeaderRequestSize",0],LQ:["maxRequestSize",0],RQ:["minRequestSize",65536],X_:["minBufferLenForHeaderDownloading",1E4],hfb:["smartHeaderPreDownloading",!1],aIb:["enableAllHeadersPreDownloading",!1],nic:["onlyAllowPtsUpdatePolling",!1],MVb:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],V1:["reserveForSkipbackBufferMs",15E3],Pxa:["numExtraFragmentsAllowed",2],Bs:["pipelineEnabled",!0],KQ:["maxParallelConnections",3],E8b:["usePipelineForAudio",!1],D8b:["usePipelineDetectionForAudio",!1],kfb:["socketReceiveBufferSize",0],W8:["audioSocketReceiveBufferSize",32768],NS:["videoSocketReceiveBufferSize",65536],sib:["usePipelineDetectionForVideo",!1],QVb:["minVideoSocketReceiveBufferSize",65536],hua:["headersSocketReceiveBufferSize",32768],l4b:["shareDownloadTracks",!0],m4b:["shareOpenRangeTracks",!1],Ejc:["supportOpenRangeRequests",!0],YGb:["disableHeaderDownloadTracks",!1],oxa:["minTimeBetweenHeaderRequests",void 0],lga:["updatePtsIntervalMs",1E3],Doa:["bufferTraceDenominator",0],FO:["bufferLevelNotifyIntervalMs",2E3],VBa:["streamingStatusIntervalMs",2E3],GC:["prebufferTimeLimit",6E4],Xca:["minBufferLevelForTrackSwitch",2E3],sIb:["enablePenaltyForLongConnectTime",!1],yya:["penaltyFactorForLongConnectTime",2],uwa:["longConnectTimeThreshold",200],Fna:["additionalBufferingLongConnectTime",2E3],Gna:["additionalBufferingPerFailure",8E3],B1:["rebufferCheckDuration",6E4],q0a:["enableLookaheadHints",!1],e8a:["lookaheadFragments",2],BB:["enableOCSideChannel",!0],iza:["probeRequestTimeoutMilliseconds",3E4],Gic:["probeRequestConnectTimeoutMilliseconds",8E3],U5:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],vIb:["enableSCByteRangeHints",!1],Mhb:["updateDrmRequestOnNetworkFailure",!0],O8a:["maxDiffAudioVideoEndPtsMs",1E3],tGb:["deferAseHeaderCache",!1],j_a:["deferAseScheduling",!1],Fgb:["timeBeforeEndOfStreamBufferMark",6E3],Bca:["maxFastPlayBufferInMs",2E4],HUb:["maxFastPlayContentTimeThresholdMs",112E3],Qwa:["maxFastPlayBitThreshold",2E8],Owa:["maxBufferingCompleteBufferInMs",Infinity],Yzb:["bufferingCompleteOnMemoryLimit",!1],Vca:["minAudioMediaRequestSizeBytes",0],cda:["minVideoMediaRequestSizeBytes",0],CUb:["maxAudioMediaRequestSizeBytes",Infinity],YUb:["maxVideoMediaRequestSizeBytes",Infinity],LUb:["maxMediaRequestSizeBytesInFraction",1],iz:["minAudioMediaRequestDuration",0],tC:["minVideoMediaRequestDuration",0],b0:["minMediaRequestDuration",0],BUb:["maxAudioMediaRequestDuration",Infinity],XUb:["maxVideoMediaRequestDuration",Infinity],Cca:["maxMediaRequestDuration",Infinity],Mna:["allowFirstRequestAggregation",!1],GVb:["minAudioMediaRequestDurationCache",0],OVb:["minVideoMediaRequestDurationCache",0],mib:[["useHeaderCache","usehc"],!0],UCa:[["useHeaderCacheData","usehcd"],!0],T9:["defaultHeaderCacheSize",4],d_a:["defaultHeaderCacheDataCount",4],S9:["defaultHeaderCacheDataPrefetchMs",0],zPb:["headerCacheMaxPendingData",6],Jgc:["headerCachePriorityLimit",5],Z4a:["headerCacheAdoptBothAV",!1],F8b:["usePipelineForBranchedAudio",!0],CBb:["childBranchBatchedAmount",1E4],cG:["minimumTimeBeforeBranchDecision",2E3],SVb:["minimumAppendedMediaBeforePlayback",5E3],vic:["parallelBranchesDuringBuffering",!1],PUb:["maxRequestsToAttachOnBranchActivation",void 0],c0:["minimumJustInTimeBufferLevel",3E3],kIb:["enableJustInTimeAppends",!1],SVa:["appendPacingFactor",0],tyb:["appendPacingThreshold",3E3],l0a:["enableDelayedSeamless",!1],cfc:["branchEndPtsIntervalMs",250],lQb:["ignorePtsJustBeforeCurrentSegment",!1],S8a:["maxFragsForFittableOnBranching",300],SYb:["pausePlaylistAtEnd",!0],lxb:["adaptiveParallelTimeoutMs",1E3],sP:["enableAdaptiveParallelStreaming",!1],Coa:["bufferThresholdToSwitchToSingleConnMs",45E3],Boa:["bufferThresholdToSwitchToParallelConnMs",35E3],YHb:["enableAPSForBranching",!1],Bga:["waitForPendingConnAdaptation",!1],yxa:["networkFailureResetWaitMs",2E3],xxa:["networkFailureAbandonMs",6E4],Fca:["maxThrottledNetworkFailures",5],Pfa:["throttledNetworkFailureThresholdMs",200],zwa:["lowThroughputThreshold",400],xra:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],G6b:["timeAtEachBitrateRoundRobin",1E4],t2b:["roundRobinDirection","forward"],XPb:["httpsConnectErrorAsPerm",!1],U9a:["mp4ParsingInNative",!1],fj:["enableManagerDebugTraces",!1],v8a:["managerDebugMessageInterval",1E3],u8a:["managerDebugMessageCount",20],B$a:["notifyManifestCacheEom",!0],AIb:["enableUsingHeaderCount",!1],mfb:["sourceBufferInOrderAppend",!0],vL:["requireAudioStreamToEncompassVideo",!1],BVa:["allowAudioToStreamPastVideo",!1],WYa:["countGapInBuffer",!1],CVa:["allowCallToStreamSelector",!1],XWa:["bufferThresholdForAbort",2E4],RBa:["ase_stream_selector","optimized"],mWa:["audiostreamSelectorAlgorithm","selectaudioadaptive"],Oua:["initBitrateSelectorAlgorithm","default"],Ioa:["bufferingSelectorAlgorithm","default"],y5b:["streamSelectionTrace",[{f:60,s:5},{f:61,s:3},{f:62,s:2},{f:63,s:0}]],v0a:["enableThroughputTraceResearchData",!1],Bgb:["throughputTraceParam",{numB:3600,bSizeMs:2E3,fillS:"last",fillHl:1E3}],Az:["researchEnvironmentEnabled",!1],xIb:["enableStreamSelectionAugmentData",!1],kzb:["augmentDataNumOfChunks",30],PZa:["ase_ls_failure_simulation",""],oqa:["ase_dump_fragments",!1],pqa:["ase_location_history",0],QZa:["ase_throughput",0],SZa:["ase_simulate_verbose",!1],Aab:["paddingDurationMs",1E3],yYb:["paddingMediaType","padding"],Oh:["stallAtFrameCount",void 0],rfb:["stallAtFrameCountAudio",void 0],Kwa:["marginPredictor","simple"],iib:["useBackupUnderflowTimer",!0],wWb:["noDuplicateUnderflowTimer",!1],Zjc:["useManifestDrmHeader",!0],akc:["useOnlyManifestDrmHeader",!0],zxa:["networkMeasurementGranularity","video_location"],oWb:["netIntrStoreWindow",36E3],cic:["minNetIntrDuration",8E3],Nsb:["fastHistoricBandwidthExpirationTime",10368E3],otb:["bandwidthExpirationTime",5184E3],Msb:["failureExpirationTime",86400],STa:["historyTimeOfDayGranularity",4],Jsb:["expandDownloadTime",!0],Ztb:["minimumMeasurementTime",500],Ytb:["minimumMeasurementBytes",131072],svb:["throughputMeasurementTimeout",2E3],rvb:["initThroughputMeasureDataSize",262144],Itb:["historicBandwidthUpdateInterval",2E3],yec:["throughputPredictor","ewma"],AAa:["secondThroughputEstimator","slidingwindow"],Sdb:["secondThroughputMeasureWindowInMs",3E5],xec:["throughputMeasureWindow",5E3],zec:["throughputWarmupTime",5E3],wec:["throughputIQRMeasureWindow",1E3],hec:["IQRBucketizerWindow",15E3],T8a:["maxIQRSamples",100],G9a:["minIQRSamples",5],tec:["connectTimeHalflife",10],mec:["responseTimeHalflife",10],ZSa:["historicThroughputHalflife",14400],YSa:["historicResponseTimeHalflife",100],XSa:["historicHttpResponseTimeHalflife",100],uIa:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],ETa:["minReportedNetIntrDuration",4E3],vec:["throughputBucketMs",500],kec:["bucketHoltWintersWindow",2E3],Asb:["enableFilters",("throughput-ewma initial-throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy deliverytime").split(" ")],Ksb:["experimentalFilter",["throughput-wssl"]],kUa:["reportedFilters",[]],Lla:["filterDefinitionOverrides",{}],psb:["defaultFilter","throughput-ewma"],bwb:["secondaryFilter","throughput-sw"],xla:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"initial-throughput-ewma":{type:"initial-discontiguous-ewma",mw:5E3,playerStates:[0,1]},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]},deliverytime:{type:"deliverytime",hl:4E3,max_n:10,min_iv:500,min_b:16384}}],cra:["enableWsslEstimate",!1],Hhc:["maxWsslRequestSize",131072],Ghc:["maxWsslRequestRatio",.2],djb:["wsslAggregationMethod","max"],vY:["enableSessionHistoryReport",!0],Wqa:["earlyStageEstimatePeriod",1E4],A7a:["lateStageEstimatePeriod",3E4],Dca:["maxNumSessionHistoryStored",10],bda:["minSessionHistoryDuration",3E5],GPb:["highAndStableModelName","baseline"],bra:["enableHighAndStablePredictor",!1],$ca:["minNumSessionHistory",5],Yec:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],gba:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],HPb:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],una:["addHeaderDataToNetworkMonitor",!0],EBa:["startMonitorOnLoadStart",!1],Yza:["reportFailedRequestsToNetworkMonitor",!1],Xda:["periodicHistoryPersistMs",0],afa:["saveVideoBitrateMs",0],g0:["needMinimumNetworkConfidence",!0],xoa:["biasTowardHistoricalThroughput",!1],MTb:["logMemoryUsage",!1],Xw:["probeServerWhenError",!0],aB:["allowSwitchback",!0],oL:["probeDetailDenominator",100],Aca:["maxDelayToReportFailure",300],xt:["allowParallelStreaming",!1],Nhc:["mediaPrefetchDisabled",!1],C9a:["minBufferLevelToAllowPrefetch",5E3],cfa:["seamlessAudio",!1],bjc:["seamlessAudioProfiles",[]],cjc:["seamlessAudioProfilesAndTitles",{}],yAa:["seamlessAudioMaximumSyncError",void 0],zAa:["seamlessAudioMinimumSyncError",void 0],W5a:["insertSilentFrames",0],Vua:["insertSilentFramesOnSeek",!1],X5a:["insertSilentFramesOnSeekForTitles",[]],UQb:["insertSilentFramesOnSeekCount",3],mgc:["forceDiscontinuityAtTransition",!0],aCa:["supportAudioResetOnDiscontinuity",void 0],W5b:["supportAudioEasingOnDiscontinuity",void 0],OHb:["editCompleteFragments",!0],TVb:["minimumAudioFramesPerFragment",1],iJ:["applyProfileTimestampOffset",!1],Io:["applyProfileStreamingOffset",!0],Sbb:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3352,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3352,timescale:48E3}}}],fzb:["audioProfilesNonSyncSamples",["xheaac-dash"]],r7b:["truncateEndOfStreamAudio",!1],A8b:["useDpiAssumedAacEncoderDelay",!0],S_:["mediaSourceSupportsNegativePts",!1],QQ:["minAudioPtsGap",void 0],dzb:["audioOverlapGuardSampleCount",2],u0a:["enableRecordJSBridgePerf",!1],Gia:["JSBridgeTDigestConfig",{maxc:25,c:.5}],C6b:["throughputThresholdSelectorParam",0],u8b:["upswitchDuringBufferingFactor",2],lyb:["allowUpswitchDuringBuffering",!1],NYa:["contentOverrides",void 0],Vpa:["contentProfileOverrides",void 0],oua:["hindsightDenominator",0],nua:["hindsightDebugDenominator",0],iba:["hindsightAlgorithmsEnabled",[]],jba:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],RVa:["appendMediaRequestOnComplete",!1],Aga:["waitForDrmToAppendMedia",!1],p9b:["waitForDrmToAppendHeadersWhenClearAndEncryptedContent",!1],R$:["forceAppendHeadersAfterDrm",!1],qqa:["declareBufferingCompleteAtSegmentEnd",!1],dz:["maxActiveRequestsPerSession",void 0],dwa:["limitAudioDiscountByMaxAudioBitrate",!1],Rna:["appendFirstHeaderOnComplete",!0],K2:["strictBufferCapacityCheck",!1],xO:["aseReportDenominator",0],O8:["aseReportIntervalMs",3E5],h3:["translateToVp9Draft",!1],J1:["reorderTrakMvex",!1],rS:["switchableAudioProfiles",[]],gzb:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],ogb:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],hzb:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],e9a:["maxStartingVideoVMAF",110],Jw:["minStartingVideoVMAF",1],rW:["activateSelectStartingVMAF",!1],gfa:["selectStartingVMAFTDigest",-1],TR:["selectStartingVMAFMethod","fallback"],Wdb:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],nR:["perFragmentVMAFConfig",{enabled:!1,earlyManifestProcessing:!1}],ZGb:["disablePtsStartsEvent",!0],Hza:["recordFirstFragmentOnSubBranchCreate",!0],l9a:["mediaCacheConvertToBinaryData",!1],Xwa:["mediaCacheSaveOneObject",!1],J8a:["markRequestActiveOnFirstByte",!1],Cfa:["stopOnAllInactiveRequests",!1],l$:["earlyAppendSingleChildBranch",!0],Hu:["useNativeDataViewMethods",!0],z8b:["useCorrectDrainingAmounts",!0],vP:["enableNewAse",!1],w3:["useNewApi",!1],Z9:["aseDiagnostics",[{Kg:"queue-audit",enabled:!0},{Kg:"task-audit",enabled:!0},{Kg:"trace-ShimSession",enabled:!0},{Kg:"trace-engine",enabled:!0},{Kg:"trace-RequestPacer",enabled:!0},{Kg:"trace-BufferStateTracker",enabled:!0},{Kg:"trace-GraphStreamingProcess",enabled:!0},{Kg:"trace-AsePlaygraph",enabled:!0},{Kg:"playgraph-branch-audit",enabled:!0},{Kg:"content-playgraph",enabled:!0},{Kg:"trace-CphAsePlaygraph",enabled:!0},{Kg:"trace-GraphLocation",enabled:!0}]],Qzb:["branchDistanceThreshold",6E4],yca:["maxAllowedOutstandingRequests",4],nxa:["minStreamableConcurrencyWindow",3E3],TUb:["maxStreamableConcurrencyWindow",Infinity],SBa:["streamableConcurrencyFactor",.3],dX:["bufferingConcurrencyWindow",7800],Aoa:["branchCreationThreshold",12E4],p$:["enableDiscontiguousBuffering",!1],gsa:["forceImmediateTransitionTypeForTitles",[]],fsa:["forceImmediateTransitionExitZone",0],TYa:["contiguousBufferMultiplier",3],RYa:["contiguousBufferMinimumAudio",1048576],SYa:["contiguousBufferMinimumVideo",8388608],c_b:["prefetchBudgetInBytes",0],wcb:["rebufferRiskHalfLife",1E4],nga:["useBufferSizeLimiter",!1],I8b:["useStaticBufferSizeLimiter",!1],f_b:["prefetchWeightBudget",32],qxa:["minimumDownstreamBranchProbability",.075],TCa:["useExitZones",!0],g_b:["prefetchWhilePlaying",!0],l_b:["prefetcherSoftReset",!0],mbb:["playgraphDefaultWeight",65520],vGb:["delayNotificationOfEoS",!1],oVb:["memDeadlockShouldCheckMemory",!0],nVb:["memDeadlockOverageThreshold",.9],mVb:["memDeadlockMaxUtilizationPercentage",.5],Pya:["playerPtsPadding",1],Y_:["minFragmentVmaf",void 0],o$:["enableCombinedPlaygraphs",!0],n$:["enableAdPlaygraphs",!0],VCa:["useLegacyFragmentRounding",!1],Z2b:["selectGeneric",{bufferBins:{min:1E3,max:27E4,step:1E3,scale:2},accuracy:.01,nbBest:3,windows:[2E4],varscale:1,deliveryfactor:.5,rebufferRiskThreshold:0,networkOutageDecay:Infinity,rebufferRiskFactor:1.1,maxVMAFUp:20,search:"bitonic"}],yra:["excludedContentPlaygraphIds",[]],z4a:["graphSelectorSetAudioRate",!1],Cec:["ad1movieId",81509700],Bec:["ad1duration",58E3],Eec:["ad2movieId",81573044],Dec:["ad2duration",7E4],DIb:["enableVmafEstimationFromBitrate",!1],VUb:["maxVMAFMappingBitrate",16E3],WUb:["maxVMAFMappingVMAF",110],$Ab:["cdndldistEnabled",!1]};b.Gh=b.DCb;},function(q,b,a){var c,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.kn=b.mm=b.uo=b.bu=b.HU=void 0;c=a(1);k=a(122);Object.defineProperties(b,{mm:{enumerable:!0,get:function(){return k.mm;}}});Object.defineProperties(b,{kn:{enumerable:!0,get:function(){return k.kn;}}});Object.defineProperties(b,{bu:{enumerable:!0,get:function(){return k.bu;}}});Object.defineProperties(b,{HU:{enumerable:!0,get:function(){return k.HU;}}});g=c.__importDefault(a(5));q=(function(f){function d(h,m,l,n,p){return f.call(this,d.console,h,m,l,n,p) || this;}c.__extends(d,f);Object.defineProperties(d,{console:{get:function(){return this.J || (this.J=new g.default.Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return d;})(k.uo);b.uo=q;},function(q,b,a){var g,f;function c(){}function k(d,h,m,l,n){this.debug=d;this.version=h;this.tSb=m;this.pZb=l;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.GPa=void 0;q=a(2);g=a(0);f=a(6);k.prototype.vMb=function(){return this.config().hK;};k.prototype.Bsa=function(){return this.config().LWa;};k.prototype.S3a=function(){return (0,f.Vc)(this.config().PZb);};k.prototype.p3a=function(){return this.config().BTb;};k.prototype.r3a=function(){return this.config().rUb;};c.prototype.WJ=function(d,h,m,l,n){return new k(d,h,m,l,n);};a=c;a=q.__decorate([(0,g.X)()],a);b.GPa=a;},function(q,b,a){var k,g;function c(f){this.config=f;}Object.defineProperty(b,"__esModule",{value:!0});b.QQa=void 0;q=a(2);k=a(0);a=a(12);c.prototype.T_b=function(f,d,h,m){var l;if(this.config().j3b){l=f.metrics;void 0 !== l && l.segment !== l.srcsegment && d.D_.Lb.transition({isBranching:m || void 0,isPlaygraph:!m || void 0,mid:d.L,xid:d.ja,srcxid:h.ja,srcmid:h.L,segment:f.position.segmentId,srcsegment:l.srcsegment,srcsegmentduration:l.srcsegmentduration,srcoffset:l.srcoffset,seamlessRequested:l.seamlessRequested,transitionType:l.transitionType,transitionTypeAtRequest:l.transitionTypeAtRequest,nextExitPositionAtRequest:l.nextExitPositionAtRequest,delayToTransition:l.delayToTransition,durationOfTransition:l.durationOfTransition,atRequest:l.atRequest,atTransition:l.atTransition,discard:l.discard});}};g=c;g=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(a.jd))],g);b.QQa=g;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.Lib=void 0;q=a(0);c=a(393);k=a(1166);b.Lib=new q.Nd(function(g){g(c.rRa).to(k.qRa).ha();});},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t,w,v,u,x,y,z,A,B,D,C,F,G,E,I,K;function c(L){this.zc=L;}Object.defineProperty(b,"__esModule",{value:!0});b.qRa=void 0;q=a(2);k=a(0);g=a(78);f=a(35);d=a(31);h=a(7);m=a(118);l=a(235);n=a(489);p=a(1167);r=a(290);t=a(93);w=a(490);v=a(1168);u=a(294);x=a(84);y=a(20);z=a(124);A=a(295);B=a(499);D=a(12);C=a(500);F=a(501);G=a(38);E=a(296);I=a(502);K=a(40);c.prototype.YO=function(L,H,P,N,J,M){return this.zc.get(D.jd)().pga?new v.sRa(this.zc.get(h.Ib),this.zc.get(u.Yja),this.zc.get(x.kA),this.zc.get(y.Jd),this.zc.get(z.UH),this.zc.get(m.dia),this.zc.get(A.dja),this.zc.get(B.bIa),this.zc.get(C.eOa),this.zc.get(F.Aka),this.zc.get(F.Aka),this.zc.get(G.Wi),this.zc.get(I.iU),this.zc.get(E.ria),this.zc.get(K.sj),N,P):new p.qJa(this.zc.get(f.si),this.zc.get(d.Wg),this.zc.get(h.Ib),this.zc.get(m.dia),this.zc.get(l.vka),this.zc.get(r.Ija),this.zc.get(t.cia),this.zc.get(w.PMa),this.zc.get(n.rGa),L,H,P,N,J,M);};a=c;a=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(g.nJa))],a);b.qRa=a;},function(q,b,a){var k,g,f,d,h,m;function c(l,n,p,r,t,w,v,u,x,y,z,A,B,D,C){var F;F=this;this.Qe=l;this.Mb=n;this.dc=r;this.Qw=w;this.sX=v;this.Y1a=u;this.config=y;this.Oi=A;this.G=B;this.j=z.create(B.L,B.Ij,x,D,C,B.Nb,B.id,B.pa);this.j.background=!0;this.log=p.Bb("VideoPlayer",this.j);this.Rab=[];this.ended=!1;this.rM();this.j.state.addListener(function(G){G.newValue === g.qc.Re && F.Sb(g.Qa.tva,{movieId:B.L});});this.j.ob.ei && (this.EO=t.xEb(this,this.j),this.j.addEventListener(g.ka.BL,function(G){G=G.position.segmentId;F.PSb !== G && (F.PSb=G,F.Sb(g.Qa.X2b,{segmentId:G}));}));}Object.defineProperty(b,"__esModule",{value:!0});b.qJa=void 0;k=a(3);g=a(18);f=a(6);d=a(11);h=a(93);m=a(26);c.prototype.isReady=function(){return this.j.state.value === g.qc.Re;};c.prototype.B3a=function(){return this.j.L;};c.prototype.OB=function(){return this.j.ja;};c.prototype.Xo=function(){return this.j.qp;};c.prototype.ss=function(){return this.j.xk.value;};c.prototype.g_=function(){return this.j.paused.value;};c.prototype.ava=function(){return this.ended;};c.prototype.Hi=function(){var l;l=this.j.Moa.value;return l?{networkStalled:! !l.Au,stalled:! !l.Au,progress:l.progress,progressRollback:! !l.Z_b}:null;};c.prototype.getError=function(){var l;l=this.j.gj;return l?l.e3():null;};c.prototype.lw=function(){return this.j.mediaTime.value;};c.prototype.m2a=function(){var l;l=(this.maa() || 0) + this.j.l2a();return Math.min(l,this.Jsa());};c.prototype.maa=function(){return this.j.wF();};c.prototype.Jsa=function(){return this.j.sB.ia(f.sa);};c.prototype.v4a=function(){var l;l=this.j.qH.value;return l?{width:l.width,height:l.height}:null;};c.prototype.naa=function(){return this.j.naa();};c.prototype.X1a=function(l){var n,p;return (null === (n=this.j.pa) || void 0 === n?0:n.rl.kZ("generateScreenshots"))?this.Y1a.Mt(this.log,this.j.pa.rl,l):(n=null === (p=this.j.ob) || void 0 === p?void 0:p.Pq)?this.Y1a.mh(this.log,Object.assign({packageId:n},l)):Promise.reject("Unknown packageId");};c.prototype.D2a=function(){return this.ZLb(this.j.Z9);};c.prototype.e2a=function(){var l;l=this;return this.j.yj.map(function(n){return l.ls(n);});};c.prototype.v3a=function(){var l;return this.lZ(this.j.yj,null === (l=this.j.pa) || void 0 === l?void 0:l.Tb.$8a);};c.prototype.Pta=function(l){var n;n=this;return this.uZ(l).map(function(p){return n.ls(p);});};c.prototype.fta=function(l){var n;return this.lZ(this.uZ(l),null === (n=this.j.pa) || void 0 === n?void 0:n.Tb.a9a);};c.prototype.hva=function(){return this.j.muted.value;};c.prototype.x4a=function(){return this.j.volume.value;};c.prototype.d2a=function(){var l,n;n=(null === (l=this.oz) || void 0 === l?void 0:l.Nc) || this.j.Nc.value;return n && this.ls(n);};c.prototype.Ota=function(){var l,n;n=(null === (l=this.oz) || void 0 === l?void 0:l.W2) || this.j.Cc.value;return n && this.ls(n);};c.prototype.f6a=function(){return ! !this.j.background;};c.prototype.Aeb=function(l){this.j.muted.set(! !l);};c.prototype.Neb=function(l){this.j.volume.set(this.XWb(l));};c.prototype.Beb=function(l){this.j.playbackRate.set(l);};c.prototype.Aq=function(){return this.j.playbackRate.value;};c.prototype.meb=function(l){var n,p,r,t,w;n=this;r=this.HY(l);if(r){if(r.jj)return (this.j.Nc.set(r),Promise.resolve());t=(l=(null === (p=this.oz) || void 0 === p?void 0:p.W2) || this.j.Cc.value) && this.P6a(r,l)?l:r.Si[0];p=r.trackId;w=t.trackId;this.oz={Nc:r,W2:t};this.Sb(g.Qa.An);this.Sb(g.Qa.sx);t !== l && this.Sb(g.Qa.Zm);return this.j.m5a(p,w).then(function(v){v=v.Nc;n.oz=void 0;n.j.Nc.set(v);}).catch(function(v){n.oz=void 0;v=n.Qe.hf(v);n.log.error(v);n.close(n.Oi(k.W.NM,{Ea:k.S.Wia,ac:v,mK:{cQb:r.trackId,n5a:r.Vf,dQb:t.trackId,o5a:t.Vf}}));});}this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.dBa=function(l){var n,p,r,t;n=this;r=(null === (p=this.oz) || void 0 === p?void 0:p.Nc) || this.j.Nc.value;if(null !== r){t=r.Si;p={};for(var w=0;w < t.length;(p={Ou:p.Ou},w++)){p.Ou=t[w];if(!l && null === p.Ou)return (this.j.Cc.set(null),Promise.resolve());if(this.ls(p.Ou) === l){if(p.Ou.jj)return (this.log.info("Setting Timed Text, profile: " + p.Ou.profile),this.j.Cc.set(p.Ou),Promise.resolve());l=r.trackId;t=p.Ou.trackId;this.oz={Nc:r,W2:p.Ou};this.Sb(g.Qa.Zm);return this.j.m5a(l,t).then(function(v){v=v.W2;n.oz=void 0;n.j.Cc.set(v);}).catch((function(v){return function(u){n.oz=void 0;u=n.Qe.hf(u);n.log.error(u);n.close(n.Oi(k.W.NM,{Ea:k.S.Wia,ac:u,mK:{cQb:r.trackId,n5a:r.Vf,dQb:v.Ou.trackId,o5a:v.Ou.Vf}}));};})(p));}}}this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.SAa=function(l){this.j.background=l;};c.prototype.kS=function(){this.j.kS();};c.prototype.jga=function(l){this.j.jga(l);};c.prototype.nl=function(l){return this.j.nl(l);};c.prototype.O3a=function(){return this.j.ob;};c.prototype.lz=function(){this.j.lz();};c.prototype.YK=function(l){this.j.YK(l);};c.prototype.GZ=function(l,n,p){return this.j.GZ(l,n,p);};c.prototype.Ana=function(l,n){this.j.addEventListener(l,n,void 0);};c.prototype.addEventListener=function(l,n,p){this.dc.addListener(l,n,p);};c.prototype.removeEventListener=function(l,n){this.dc.removeListener(l,n);};c.prototype.kL=function(){};c.prototype.load=function(){var l;l=this;this.loaded || (this.loaded=!0,this.j.load(function(n,p){try{l.Sb(g.Qa.T7a,void 0,!0);n.pa && (n.pa.Tb.Xib && l.Sb(g.Qa.y9b,n.pa.Tb.Xib,!0),n.pa.Tb.Mo && l.Sb(g.Qa.W2b,{segmentMap:n.pa.Tb.Mo},!0));p({fa:!0});}catch(r){p({Ea:k.S.jn,ac:l.Qe.hf(r)});}}));};c.prototype.close=function(l){var n;n=this;this.dYa || (this.dYa=new Promise(function(p){l?n.j.vJ(l,p):n.j.close(p);}));return this.dYa;};c.prototype.play=function(){this.j.ej?this.j.fireEvent(g.ka.Gdb):(this.load(),this.j.paused.value && (this.j.paused.set(!1),this.j.fireEvent(g.ka.yib)));};c.prototype.pause=function(){this.load();this.j.paused.value || (this.j.paused.set(!0),this.j.fireEvent(g.ka.M8b));};c.prototype.seek=function(l,n,p,r){n=void 0 === n?g.uf.hI:n;this.j.ng?this.j.ng.seek(l,n,p,r):this.j.xy=l;};c.prototype.cbb=function(l){return this.EO?(this.log.trace("Playing a segment",l),this.EO.play(l)):Promise.resolve();};c.prototype.dcb=function(l){return this.EO?(this.log.trace("Queueing a segment",l),this.EO.lu(l)):Promise.resolve();};c.prototype.Oj=function(l,n){return this.EO?(this.log.trace("Updating next segment weights",l,n),this.EO.Oj(l,n)):Promise.resolve();};c.prototype.yZ=function(){var l;l=this.j.Ps.yZ();return {bounds:l.XW,margins:l.cu,size:l.size,visibility:l.visibility};};c.prototype.cS=function(l){var n,p,r;n=l.bounds;p=l.margins;r=l.size;l=l.visibility;this.j.a3 && (n && this.j.a3.eBa(n),p && this.j.a3.fBa(p),"boolean" === typeof l && this.j.a3.gBa(l));this.j.Ps && r && this.j.Ps.Z3b(r);};c.prototype.hBa=function(l){this.j.mo=l;};c.prototype.s4a=function(l){return this.j.dD && this.j.dD.tMb(l) || null;};c.prototype.b2a=function(){return this.Qe.RK({playerver:this.config.version,jssid:this.config.tSb,groupName:this.config.vMb(),xid:this.j.ja,pbi:this.j.index},this.config.pZb,{prefix:"pi_"});};c.prototype.G5a=function(l){this.j.de(k.W.dHa,k.S.wo,l);};c.prototype.P7a=function(l,n,p,r){if(!this.Mb.KVa(l))throw Error("invalid url");this.Rab.push({url:l,name:n,ozb:p,options:r});this.Rbb();};c.prototype.Gta=function(){var l,n,p,r,t,w,v,u;l={};n=this.j.E2;try{if((this.j.gj && (l.errorCode=this.j.gj.e$,l.errorType=n?"endplay":"startplay"),l.playdelay=(0,m.xg)(this.j.hX()),l.xid=this.j.ja,this.j.pa && this.Mb.uv(this.j.pa.Tb.Pq) && (l.packageId=Number(this.j.pa.Tb.Pq)),l.auth=this.j.qLb(),n)){l.totaltime=this.j.Om?this.vq(this.j.Om.Ry("content")):0;l.abrdel=this.j.Om?this.j.Om.zsa():0;p=this.j.ng;r=p?p.YJ():null;this.Mb.Fo(r) && (l.totdfr=r);r=p?p.ZY():null;this.Mb.Fo(r) && (l.totcfr=r);t=p?p.FMb():null;t && (l.rbfrs_decoder=t.O9,l.rbfrs_network=t.oda);l.rbfrs_delay=this.j.Om?this.j.Om.Xua:0;l.init_vbr=this.j.yba;w=this.dK();this.Mb.FJ(w) && (l.pdltime=w);v=this.j.Le.value;u=v && v.stream;u && (l.vbr=u.bitrate,l.vdlid=u.Ec);l.bufferedTime=this.j.l2a();}}catch(x){this.log.error("error capturing session summary",x);}return l;};c.prototype.xP=function(l){this.j.ob.ho && (this.j.ob.ho.userEngageAction=1);return this.Mb.Fo(this.j.mediaTime.value)?(l=Object.assign(Object.assign({},this.Qw.create(this.j)),{action:l}),this.sX(h.xr.xP).Mt(this.log,this.j.pa.rl,l).then(function(){return {success:!0};}).catch(function(n){return {success:!1,errorCode:n.code,errorSubCode:n.Sc,errorExternalCode:n.fe,errorData:n.data,errorDetails:n.details};})):Promise.resolve({success:!1});};c.prototype.ZLb=function(l){return {register:l.register.bind(l),notifyUpdated:l.F$a.bind(l),getModel:l.cNb.bind(l),getGroups:l.hZ.bind(l),addEventListener:l.addEventListener.bind(l),removeEventListener:l.removeEventListener.bind(l),getTime:l.getTime.bind(l)};};c.prototype.ls=function(l){var n;n=l.tza=l.tza || ({trackId:l.trackId,bcp47:l.Vf,displayName:l.displayName,trackType:l.Ti,rawTrackType:l.CG,channels:l.channels});this.nva(l) && (n.isNative=l.isNative,n.surroundFormatLabel=l.Q2);this.ova(l) && (n.isNoneTrack=l.rs(),n.isForcedNarrative=l.Gq(),n.isImageBased=l.Zl);n.subType=l.UL;n.variant=l.variant;return n;};c.prototype.nva=function(l){return "undefined" !== typeof l.isNative;};c.prototype.ova=function(l){return "undefined" !== typeof l.rs && "undefined" !== typeof l.Gq;};c.prototype.HY=function(l){var n;n=this;return l && this.j.yj.find(function(p){return n.ls(p) === l;});};c.prototype.uZ=function(l){var n,p;l=this.HY(l) || (null === (n=this.oz) || void 0 === n?void 0:n.Nc) || this.j.Nc.value;return null !== (p=null === l || void 0 === l?void 0:l.Si) && void 0 !== p?p:[];};c.prototype.lZ=function(l,n){var p;p=l.length - 1;if("number" !== typeof n)return p;l=l.findIndex(function(r){return r.oc > n;});return -1 === l?p:l - 1;};c.prototype.P6a=function(l,n){return 0 <= l.Si.indexOf(n);};c.prototype.XWb=function(l){return 0 <= l?1 >= l?l:1:0;};c.prototype.vq=function(l){return this.Mb.Fo(l)?(l / 1E3).toFixed(0):"";};c.prototype.Sb=function(l,n,p){n=n || ({});n.target=this;this.dc.rd(l,n,!p);};c.prototype.rM=function(){var l;l=this;this.j.addEventListener(g.ka.jCa,function(){l.Sb(g.Qa.Zr);});this.j.qH.addListener(function(){l.Sb(g.Qa.hDa);});this.j.addEventListener(g.ka.Fhb,function(){l.Sb(g.Qa.Ehb);});this.j.addEventListener(g.ka.Lca,function(){l.Sb(g.Qa.Goa);});this.j.addEventListener(g.ka.xl,function(){l.Sb(g.Qa.Goa);});this.j.addEventListener(g.ka.lQ,function(n){l.Sb(g.Qa.lQ,{errorCode:n});});this.j.addEventListener(g.ka.moa,function(){l.Sb(g.Qa.uWa);});this.j.addEventListener(g.ka.ej,function(n){l.Sb(g.Qa.a9,n);});this.j.addEventListener(g.ka.ghb,function(){l.Sb(g.Qa.Y8);l.Sb(g.Qa.sx);});this.j.xk.addListener(function(){l.Sb(g.Qa.Vya);});this.j.paused.addListener(function(){l.Sb(g.Qa.Lab);});this.j.muted.addListener(function(){l.Sb(g.Qa.Z9a);});this.j.volume.addListener(function(){l.Sb(g.Qa.Rib);});this.j.Ob.addListener(function(){l.Nhb();});this.j.state.addListener(function(){l.Nhb();});this.j.Moa.addListener(function(n){l.CTb || l.j.state.value != g.qc.Re || n.newValue || (l.CTb=!0,l.Sb(g.Qa.loaded),setTimeout(function(){l.log.debug.bind(l.log,"summary ",l.Gta());}));l.Sb(g.Qa.HO);});this.j.Nc.addListener(function(){l.Sb(g.Qa.An);l.Sb(g.Qa.sx);setTimeout(function(){var n,p;n=l.j.Nc.value;p=l.j.Cc.value;null === n || null === p || l.P6a(n,p) || (l.log.info("Changing timed text track to match audio track"),l.j.Cc.set(n.Si[0]));},0);});this.j.Cc.addListener(function(n){n.oldValue && n.newValue && n.oldValue.trackId == n.newValue.trackId || l.Sb(g.Qa.Zm);});this.j.addEventListener(g.ka.sx,function(){l.Sb(g.Qa.sx);});this.j.addEventListener(g.ka.j3,function(){l.Sb(g.Qa.j3);});this.j.state.addListener(function(n){switch(n.newValue){case g.qc.Re:l.Sb(g.Qa.W_a);l.Sb(g.Qa.hDa);l.Sb(g.Qa.Y8);l.Sb(g.Qa.sx);l.Sb(g.Qa.S7a);l.Rbb();l.E9b();break;case g.qc.CLOSING:l.j.gj && l.Sb(g.Qa.$5a,l.j.gj);break;case g.qc.CLOSED:(l.Sb(g.Qa.closed),l.dc.Ei());}});};c.prototype.E9b=function(){var l;l=this;this.j.Ps.addEventListener("showsubtitle",function(n){l.Sb(g.Qa.nBa,n,!0);});this.j.Ps.addEventListener("removesubtitle",function(n){l.Sb(g.Qa.Qza,n,!0);});};c.prototype.Rbb=function(){if(this.j.state.value == g.qc.Re){for(var l,n,p;n=this.Rab.shift();){l=this.j.Ps.rna(n.url,n.name,n.options);n.ozb && (p=l);}p && this.j.Cc.set(p);}};c.prototype.Nhb=function(){var l;l=this.j.state.value == g.qc.Re && this.j.Ob.value == g.zb.Vs;this.ended !== l && (this.ended=l,this.j.eJ("Ended changed: " + l),(l || this.j.state.value === g.qc.CLOSING) && this.Sb(g.Qa.C0a));};c.prototype.dK=function(){var l,n;try{l=/playercore.*js/;n=d.Ox.getEntriesByType("resource").filter(function(p){return null !== l.exec(p.name);});if(n && 0 < n.length)return JSON.stringify(Math.round(n[0].duration));}catch(p){}};b.qJa=c;},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t,w,v;function c(u,x,y,z,A,B,D,C,F,G,E,I,K,L,H,P,N){var J,M,O;J=this;this.a1=x;this.VB=y;this.Ma=z;this.kk=A;this.dc=B;this.J_=D;this.LZb=C;this.gbb=F;this.wga=G;this.X8=E;this.La=I;this.HQ=K;this.config=L;this.BE=H;this.G=P;this.Oi=N;this.B_=new p.uc(!0);this.xk=new p.uc(!1);this.Au=new p.uc(!1);this.ended=new p.uc(!1);this.l9=new p.uc(0);this.Ob=new p.uc(g.zb.tg);this.JR=new p.uc(void 0);this.loaded=this.E2=this.closed=!1;this.Jbb=function(Q,T){return function(V){var da,pa,xa,ya,sa;da=V.newValue;pa=da.zy;V=da.Dn;xa=da.stream;da=Q.value;ya=da.streams.find(function(X){return X.bitrate === xa.stream.bitrate;});sa=J.Fa.Ai.find(function(X){return X.id === pa;});J.log.info("Presenting " + ya.type + " request with bitrate " + ya.bitrate + ", track " + (da.trackId + " [" + V.startTime + "..." + V.endTime + "]"));T.set({stream:ya,Dn:V,Hc:sa});};};this.Qfb=function(Q,T,V){return function(da){var pa,xa;pa=Q.value;xa=pa.streams.find(function(ya){return ya.bitrate === da.newValue.stream.bitrate;});J.log.info("Streaming " + xa.type + " stream with bitrate " + xa.bitrate + ", track " + pa.trackId);T.set(xa,{sJ:da.Kn.sJ,VW:void 0});pa=J.Fa.Ai.filter(function(ya){return ya.id === da.Kn.zy;})[0];V.set(pa);};};this.u1a=new Set();this.log=u.Bb("HLSVideoPlayer");this.ca=(0,f.createElement)("VIDEO","position:absolute;width:100%;height:100%");this.ca.playsInline=this.config.tbb;this.Fa=this.a1(d.PD.index++,P.L,P.id,null !== (M=P.Nb) && void 0 !== M?M:{},this.VB.uB(),this.Ma.ec(),!1,void 0,function(){return J.lw();});this.Fa.mediaTime.set(null !== (O=this.Fa.xy) && void 0 !== O?O:0);this.rM();this.Ktb=this.HQ.create(this);this.Ktb;this.load();}Object.defineProperty(b,"__esModule",{value:!0});b.sRa=void 0;k=a(34);g=a(18);f=a(46);d=a(65);h=a(109);m=a(61);l=a(3);n=a(64);p=a(82);r=a(6);t=a(14);w=a(110);v=a(26);c.prototype.a6b=function(){return ! !this.ca.canPlayType && ("" !== this.ca.canPlayType("application/vnd.apple.mpegURL") || "" !== this.ca.canPlayType("audio/mpegurl"));};c.prototype.rM=function(){var u;u=this;this.ca.addEventListener("loadedmetadata",function(){u.Sb(g.Qa.T7a);u.Sb(g.Qa.S7a);u.Sb(g.Qa.An);u.Sb(g.Qa.Y8);u.Sb(g.Qa.Zm);u.Sb(g.Qa.sx);});this.ca.addEventListener("error",function(x){x=u.Oi(l.W.pMa,x);u.close(x);});this.ca.addEventListener("timeupdate",function(){u.ended.set(!1);u.Fa.mediaTime.set(u.lw());u.Eqa();u.Sb(g.Qa.Zr);u.Sb(g.Qa.Ehb);});this.ca.addEventListener("durationchange",function(){u.Sb(g.Qa.W_a);});this.ca.addEventListener("resize",function(){u.Sb(g.Qa.hDa);});this.ca.addEventListener("playing",function(){u.Eqa();u.Au.set(!1);u.xk.set(!0);u.ended.set(!1);u.Ob.set(g.zb.$c);});this.ca.addEventListener("pause",function(){u.xk.set(!1);u.Au.set(!1);u.Ob.set(g.zb.Rh);});this.ca.addEventListener("waiting",function(){u.Ob.set(g.zb.tg);});this.ca.addEventListener("stalled",function(){u.Au.set(!0);});this.ca.addEventListener("seeking",function(){u.Au.set(!1);u.JR.set(u.Fa.mediaTime.value);u.Ob.set(g.zb.tg);});this.ca.addEventListener("seeked",function(){void 0 !== u.JR.value && (u.Fa.Om.Nxa(u.JR.value,u.lw()),u.JR.set(void 0));u.Ob.set(u.ss()?g.zb.$c:g.zb.Rh);});this.ca.addEventListener("progress",function(){u.Sb(g.Qa.Goa);u.Q7b();});this.ca.addEventListener("ended",function(){u.Ob.set(g.zb.Vs);u.Au.set(!1);u.xk.set(!1);u.ended.set(!0);});this.ca.addEventListener("volumechange",function(){u.Sb(g.Qa.Rib);u.Sb(g.Qa.Z9a);});this.xk.addListener(function(){u.Sb(g.Qa.Vya);u.Sb(g.Qa.Lab);u.OO();});this.l9.addListener(function(){u.Sb(g.Qa.HO);});this.Au.addListener(function(){u.Sb(g.Qa.HO);});this.B_.addListener(function(){u.OO();});this.ended.addListener(function(){u.Sb(g.Qa.C0a);});this.Fa.playbackRate.addListener(function(x){u.ca.playbackRate=x.newValue;});};c.prototype.OO=function(){!this.ss() || this.B_.value || this.E2 || this.tWa || (this.E2=!0,this.Fa.rK=this.La.k2,this.gbb.fr(this,this.Fa));};c.prototype.hX=function(){return this.$0 - (this.Fa.Ij.ia(r.sa) + this.Ma.fC.ia(r.sa));};c.prototype.VJ=function(){var u;u=this.Fa.ob.GS;return (0,t.Oa)(u)?u:this.Fa.Ij.ia(r.sa) + this.Ma.fC.ia(r.sa);};c.prototype.Roa=function(){return this.La.Nf.ia(r.sa) - this.VJ();};c.prototype.Toa=function(){return this.$0 - this.VJ();};c.prototype.Q7b=function(){var u;u=this.ca.readyState <= n.Cp.A5.HAVE_METADATA?0:this.ca.readyState <= n.Cp.A5.HAVE_CURRENT_DATA?.5:1;1 === u && (this.$0=this.La.Nf.ia(r.sa),this.B_.set(!1),this.Qra(g.Qa.loaded));this.l9.set(u);};c.prototype.Eqa=function(){var u;u=this.lw();this.wga.peb(u);this.X8.peb(u);};c.prototype.j2=function(){var u;u=this;this.Fa.We("ats");return this.kk.UP({ja:this.Fa.ja,ob:this.Fa.ob,M:this.Fa.L,dw:h.so.u6,Bg:m.Zi.Ar}).then(function(x){var z;function y(A){var B;B=A;A && A.rs() && !A.Gq() && (B=null);u.Fa.xj.set(B);}u.Fa.We("at");z=u.J_.create({}).Gab(x);u.Fa.pa=x;u.Fa.Kc=z;u.ca.audioTracks.addEventListener("addtrack",function(){u.Zhb(u.Fa.Nc.value);});u.ca.audioTracks.addEventListener("change",function(){for(var A,B,D={},C=ra(u.ca.audioTracks),F=C.next();!F.done;(D={WS:D.WS},F=C.next())){D.WS=F.value;D.WS.enabled && D.WS.label !== (null === (A=u.Fa.Nc.value) || void 0 === A?void 0:A.displayName) && (!1,F=null !== (B=u.Fa.yj.find((function(G){return function(E){return E.displayName === G.WS.label;};})(D))) && void 0 !== B?B:null,u.Fa.Nc.set(F));}});u.Fa.Nc.addListener(function(A){u.Zhb(A.newValue);u.Sb(g.Qa.An);u.Sb(g.Qa.sx);});u.ca.textTracks.addEventListener("addtrack",function(){u.$hb(u.Fa.Cc.value);});u.ca.textTracks.addEventListener("change",function(){var G;for(var A,B,D=u.ca.textTracks,C={},F=0;F < D.length;(C={XS:C.XS},F++)){if((C.XS=D[F],"showing" === C.XS.mode && C.XS.label !== (null === (A=u.Fa.Cc.value) || void 0 === A?void 0:A.displayName))){!1;G=null !== (B=u.Fa.Si.find((function(E){return function(I){return I.displayName === E.XS.label;};})(C))) && void 0 !== B?B:null;u.Fa.Cc.set(G);y(G);}}});u.Fa.Cc.set(z.SX);y(z.SX);u.Fa.Cc.addListener(function(A){u.$hb(A.newValue);u.Sb(g.Qa.Zm);});return u.LZb.ak(x,function(A){return u.Fa.We(A);});}).then(function(x){var y,z,A,B,D,C,F,G,E,I,K,L,H,P,N,J;y=x.mUb;z=x.ZAb;x=x.w5b;A=x.audio;B=x.YZa;D=x.video;C=u.Fa;F=C.Uh;G=C.Nc;E=C.yj;I=C.Df;K=C.Ug;x=C.xy;L=C.Le;H=C.bg;P=C.Om;C=C.Kc;C.yj=E.filter(function(M){return A.find(function(O){return O.track.Qg === M.trackId;});});K.set(C.V9);G.set(E.find(function(M){return M.trackId === B;}));C=D[0];N=C.stream;E=A.find(function(M){return M.track.Qg === B;});J=E.stream;u.XZ=N.bitrate;u.wga.bza.addListener(u.Jbb(K,L));u.wga.WBa.addListener(u.Qfb(K,I,u.Fa.Hc[k.$b.kb.Vb]));I=z.get(N.pq).xR.hq;u.wga.xa(D,C,I);u.X8.bza.addListener(u.Jbb(G,H));u.X8.WBa.addListener(u.Qfb(G,F,u.Fa.Hc[k.$b.kb.mc]));z=z.get(J.pq).xR.hq;u.X8.xa(A,E,z);u.ca.src=y;u.ca.currentTime=(null !== x && void 0 !== x?x:0) / 1E3;u.ca.load();P.Nxa(0,x && 0 < x?x:1);}).catch(function(x){var y,z;if(x instanceof Error){z=(0,v.hf)(x);u.log.error("uncaught exception",x,z);}u.close(u.Oi(null !== (y=x.code) && void 0 !== y?y:l.W.dRa,x));});};c.prototype.$hb=function(u){var z;for(var x=this.ca.textTracks,y=0;y < x.length;y++){z=x[y];z.label === u.displayName && "showing" !== z.mode && (!1,z.mode="showing");z.label !== u.displayName && "showing" === z.mode && (!1,z.mode="hidden");}};c.prototype.Zhb=function(u){for(var x=ra(this.ca.audioTracks),y=x.next();!y.done;y=x.next()){y=y.value;y.label !== u.displayName || y.enabled || (!1,y.enabled=!0);y.label !== u.displayName && y.enabled && (!1,y.enabled=!1);}};c.prototype.lw=function(){return Math.floor(1E3 * this.ca.currentTime);};c.prototype.maa=function(){return this.lw();};c.prototype.Jsa=function(){return Math.floor(1E3 * this.ca.duration);};c.prototype.B3a=function(){return this.G.L;};c.prototype.OB=function(){return this.Fa.ja;};c.prototype.Xo=function(){return this.ca;};c.prototype.isReady=function(){return null === this.Hi();};c.prototype.ss=function(){return this.xk.value;};c.prototype.g_=function(){return !this.xk.value;};c.prototype.ava=function(){return this.ca.ended;};c.prototype.Hi=function(){return 1 !== this.l9.value?{stalled:this.Au.value,progress:this.l9.value,progressRollback:!1}:null;};c.prototype.getError=function(){var u,x;return null !== (x=null === (u=this.gj) || void 0 === u?void 0:u.e3()) && void 0 !== x?x:null;};c.prototype.m2a=function(){return 1 === this.ca.buffered.length?1E3 * this.ca.buffered.end(0):null;};c.prototype.v4a=function(){return {width:this.ca.videoWidth,height:this.ca.videoHeight};};c.prototype.hva=function(){return this.ca.muted;};c.prototype.x4a=function(){return this.ca.volume;};c.prototype.Aeb=function(u){this.ca.muted=u;};c.prototype.Neb=function(u){this.ca.volume=u;};c.prototype.addEventListener=function(u,x,y){this.dc.addListener(u,x,y);};c.prototype.removeEventListener=function(u,x){this.dc.removeListener(u,x);};c.prototype.load=function(){var u;u=this;this.loaded || (this.loaded=!0,this.BE.A_(function(x){u.a6b()?x.fa?u.j2():u.close(u.Oi(x.errorCode || l.W.zia,x)):u.close(u.Oi(l.W.Umb));}));};c.prototype.close=function(u){if(this.closed)return Promise.resolve();this.Fa.mediaTime.set(this.lw());this.Eqa();this.Fa.AX=this.maa();this.closed=!0;this.ca.removeAttribute("src");this.ca.load();null === u || void 0 === u?void 0:u.Ceb(!this.B_.value);(this.gj=u) && this.Sb(g.Qa.error,u.e3());this.Sb(g.Qa.closed);return this.gbb.G2(this.Fa);};c.prototype.play=function(){var u,x;u=this;x=this.ca.play();this.tWa=!1;x && x.then(function(){u.Qra(g.Qa.uWa);}).catch(function(y){u.Sb(g.Qa.HO);"NotAllowedError" === y.name && (u.log.warn("Playback is blocked by the browser settings",y),u.tWa=!0,u.ej=!0,u.Qra(g.Qa.a9,{player:{play:function(){return u.play();}}}));});};c.prototype.Sb=function(u,x,y){x=x || ({});x.target=this;this.dc.rd(u,x,!y);};c.prototype.Qra=function(u,x){this.u1a.has(u) || (this.u1a.add(u),this.Sb(u,x,void 0));};c.prototype.pause=function(){this.ca.pause();};c.prototype.seek=function(u){this.ca.currentTime=u / 1E3;};c.prototype.G5a=function(u){this.close(this.Oi(l.W.dHa,l.S.wo,u));};c.prototype.Aq=function(){return this.Fa.playbackRate.value;};c.prototype.Beb=function(u){this.Fa.playbackRate.set(u);};c.prototype.e2a=function(){var u;u=this;return this.Fa.yj.map(function(x){return u.ls(x);});};c.prototype.Pta=function(u){var x;x=this;return this.uZ(u).map(function(y){return x.ls(y);});};c.prototype.d2a=function(){var u;u=this.Fa.Nc.value;return u && this.ls(u);};c.prototype.Ota=function(){var u;u=this.Fa.Cc.value;return u && this.ls(u);};c.prototype.meb=function(u){if((u=this.HY(u)) && u.jj)return (this.Fa.Nc.set(u),Promise.resolve());this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.dBa=function(u){var x,y;x=this;y=this.Fa.Si.find(function(z){return x.ls(z) === u;});if(y && y.jj)return (this.Fa.Cc.set(y),this.Fa.xj.set(y),Promise.resolve());this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.v3a=function(){var u;return this.lZ(this.Fa.yj,null === (u=this.Fa.pa) || void 0 === u?void 0:u.Tb.$8a);};c.prototype.fta=function(u){var x;return this.lZ(this.uZ(u),null === (x=this.Fa.pa) || void 0 === x?void 0:x.Tb.a9a);};c.prototype.ls=function(u){var x;x=u.tza=u.tza || ({trackId:u.trackId,bcp47:u.Vf,displayName:u.displayName,trackType:u.Ti,rawTrackType:u.CG,channels:u.channels});this.nva(u) && (x.isNative=u.isNative,x.surroundFormatLabel=u.Q2);this.ova(u) && (x.isNoneTrack=u.rs(),x.isForcedNarrative=u.Gq(),x.isImageBased=u.Zl);x.subType=u.UL;x.variant=u.variant;return x;};c.prototype.nva=function(u){return "undefined" !== typeof u.isNative;};c.prototype.ova=function(u){return "undefined" !== typeof u.rs && "undefined" !== typeof u.Gq;};c.prototype.HY=function(u){var x;x=this;return u && this.Fa.yj.find(function(y){return x.ls(y) === u;});};c.prototype.uZ=function(u){var x;u=this.HY(u) || this.Fa.Nc.value;return null !== (x=null === u || void 0 === u?void 0:u.Si) && void 0 !== x?x:[];};c.prototype.lZ=function(u,x){var y;y=u.length - 1;if("number" !== typeof x)return y;u=u.findIndex(function(z){return z.oc > x;});return -1 === u?y:u - 1;};c.prototype.jga=function(u){this.Fa.ob=(0,w.Sca)(this.Fa.ob,u);};c.prototype.nl=function(u){if(u !== this.Fa.ea)throw (!1,Error("Unknown segmentId " + u));return this.Fa;};c.prototype.O3a=function(){return this.Fa.ob;};c.prototype.Ana=function(){!1;};c.prototype.lz=function(){!1;};c.prototype.YK=function(){!1;};c.prototype.GZ=function(){!1;return Promise.reject();};c.prototype.Gta=function(){return {};};c.prototype.naa=function(){};c.prototype.b2a=function(){return {};};c.prototype.SAa=function(){};c.prototype.kS=function(){};c.prototype.f6a=function(){return !1;};c.prototype.D2a=function(){return {addEventListener:function(){},removeEventListener:function(){},getGroups:function(){return [];},register:function(){},notifyUpdated:function(){},getModel:function(){},getTime:function(){return 0;}};};c.prototype.xP=function(){!1;return Promise.resolve({success:!0});};c.prototype.s4a=function(){!1;};c.prototype.yZ=function(){!1;};c.prototype.cS=function(){!1;};c.prototype.hBa=function(){!1;};c.prototype.P7a=function(){!1;};c.prototype.X1a=function(){!1;return Promise.reject();};c.prototype.cbb=function(){!1;return Promise.reject();};c.prototype.dcb=function(){!1;return Promise.reject();};c.prototype.Oj=function(){!1;return Promise.reject();};c.prototype.kL=function(){!1;};b.sRa=c;},function(q,b,a){var c;b=a(165);c=a(1170);a=b(function(k,g,f){return c(function(d,h,m){return k(h,m);},g,f);});q.exports=a;},function(q,b,a){var c,k;b=a(165);c=a(491);k=a(1171);a=b(function m(f,d,h){return k(function(l,n,p){return c(n) && c(p)?m(f,n,p):f(l,n,p);},d,h);});q.exports=a;},function(q,b,a){var c;b=a(165);c=a(291);a=b(function(k,g,f){var d,h;d={};for(h in g){c(h,g) && (d[h]=c(h,f)?k(h,g[h],f[h]):g[h]);}for(h in f){c(h,f) && !c(h,d) && (d[h]=f[h]);}return d;});q.exports=a;},function(q,b,a){var c;b=a(492);c=a(1181);a=a(1191);a=c([b,a]);q.exports=a;},function(q){q.exports=function(b){return "function" === typeof b["@@transducer/step"];};},function(q){q.exports=function(b,a){for(var c=0,k=a.length,g=[];c < k;){b(a[c]) && (g[g.length]=a[c]);c+=1;}return g;};},function(q,b,a){var c,k;b=a(137);c=a(494);k=a(1176);a=b(function(g){return c(g)?!0:!g || "object" !== typeof g || k(g)?!1:1 === g.nodeType?! !g.length:0 === g.length?!0:0 < g.length?g.hasOwnProperty(0) && g.hasOwnProperty(g.length - 1):!1;});q.exports=a;},function(q){q.exports=function(b){return "[object String]" === Object.prototype.toString.call(b);};},function(q){var b;b=(function(){function a(c){this.f=c;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(c){return c;};a.prototype["@@transducer/step"]=function(c,k){return this.f(c,k);};return a;})();q.exports=function(a){return new b(a);};},function(q,b,a){var c;c=a(293);b=a(57)(function(k,g){return c(k.length,function(){return k.apply(g,arguments);});});q.exports=b;},function(q,b,a){var c,k;b=a(57);c=a(495);k=(function(){function g(f,d){this.R3=d;this.f=f;}g.prototype["@@transducer/init"]=c.xa;g.prototype["@@transducer/result"]=c.result;g.prototype["@@transducer/step"]=function(f,d){return this.f(d)?this.R3["@@transducer/step"](f,d):f;};return g;})();a=b(function(g,f){return new k(g,f);});q.exports=a;},function(q,b,a){var c,k;c=a(291);k=Object.prototype.toString;q.exports=function(){return "[object Arguments]" === k.call(arguments)?function(g){return "[object Arguments]" === k.call(g);}:function(g){return c("callee",g);};};},function(q,b,a){var c;b=a(137);c=a(1182);a=b(function(k){return c(function(){return Array.prototype.slice.call(arguments,0);},k);});q.exports=a;},function(q,b,a){var c,k,g,f,d;b=a(57);c=a(497);k=a(498);g=a(1184);f=a(1185);d=a(1190);a=b(function(h,m){return k(d(g,0,f("length",m)),function(){var l,n;l=arguments;n=this;return h.apply(n,c(function(p){return p.apply(n,l);},m));});});q.exports=a;},function(q,b,a){var k,g;function c(f,d,h){return function(){var r;for(var m=[],l=0,n=f,p=0;p < d.length || l < arguments.length;){if(p < d.length && (!g(d[p]) || l >= arguments.length))r=d[p];else (r=arguments[l],l+=1);m[p]=r;g(r) || --n;p+=1;}return 0 >= n?h.apply(this,m):k(n,c(f,m,h));};}k=a(293);g=a(201);q.exports=c;},function(q,b,a){b=a(57)(function(c,k){return k > c?k:c;});q.exports=b;},function(q,b,a){var c,k;b=a(57);c=a(1186);k=a(1188);a=b(function(g,f){return c(k(g),f);});q.exports=a;},function(q,b,a){var c,k,g,f,d,h;b=a(57);c=a(493);k=a(497);g=a(292);f=a(1187);d=a(498);h=a(496);a=b(c(["fantasy-land/map","map"],f,function(m,l){switch(Object.prototype.toString.call(l)){case "[object Function]":return d(l.length,function(){return m.call(this,l.apply(this,arguments));});case "[object Object]":return g(function(n,p){n[p]=m(l[p]);return n;},{},h(l));default:return k(m,l);}}));q.exports=a;},function(q,b,a){var c,k;b=a(57);c=a(495);k=(function(){function g(f,d){this.R3=d;this.f=f;}g.prototype["@@transducer/init"]=c.xa;g.prototype["@@transducer/result"]=c.result;g.prototype["@@transducer/step"]=function(f,d){return this.R3["@@transducer/step"](f,this.f(d));};return g;})();a=b(function(g,f){return new k(g,f);});q.exports=a;},function(q,b,a){var c;b=a(57);c=a(1189);a=b(function(k,g){return c([k],g);});q.exports=a;},function(q,b,a){b=a(57)(function(c,k){for(var g=0;g < c.length;){if(null == k)return;k=k[c[g]];g+=1;}return k;});q.exports=b;},function(q,b,a){b=a(165);a=a(292);a=b(a);q.exports=a;},function(q,b,a){var c,k;c=a(1192);b=a(57);k=a(492);a=b(function(g,f){return k(c(g),f);});q.exports=a;},function(q){q.exports=function(b){return function(){return !b.apply(this,arguments);};};},function(q,b,a){var c,k;c=a(1194);b=a(165);k=a(1195);a=b(function(g,f,d){return k(g,c(f,d));});q.exports=a;},function(q){q.exports=function(b,a){var c,k,g,f;b=b || [];a=a || [];k=b.length;g=a.length;f=[];for(c=0;c < k;){f[f.length]=b[c];c+=1;}for(c=0;c < g;){f[f.length]=a[c];c+=1;}return f;};},function(q,b,a){var c;c=a(1196);b=a(57)(function(k,g){for(var f=0,d=g.length,h=[],m;f < d;){m=g[f];c(k,m,h) || (h[h.length]=m);f+=1;}return h;});q.exports=b;},function(q){q.exports=function(b,a,c){for(var k=0,g=c.length;k < g;){if(b(a,c[k]))return !0;k+=1;}return !1;};},function(q,b,a){b=a(57)(function(c,k){for(var g=[],f=0,d=k.length;f < d;){for(var h=f + 1;h < d && c(k[h - 1],k[h]);){h+=1;}g.push(k.slice(f,h));f=h;}return g;});q.exports=b;},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r,t,w,v,u,x,y,z,A,B;Object.defineProperty(b,"__esModule",{value:!0});b.h5a=void 0;q=a(0);c=a(503);k=a(1199);g=a(505);f=a(1200);d=a(499);h=a(1225);m=a(513);l=a(1227);n=a(500);p=a(1228);r=a(501);t=a(1229);w=a(516);v=a(296);u=a(1230);x=a(514);y=a(1231);z=a(1232);A=a(502);B=a(1234);b.h5a=new q.Nd(function(D){D(c.oIa).to(k.nIa).ha();D(g.sIa).to(f.rIa).ha();D(d.bIa).to(h.aIa).ha();D(m.dIa).to(l.cIa).ha();D(x.rFa).to(y.qFa).ha();D(n.eOa).to(p.dOa).ha();D(r.Aka).to(t.mQa);D(w.fU).to(z.eU);D(A.iU).to(B.hU);D(v.ria).to(u.vIa);});},function(q,b,a){var k,g,f,d;function c(h,m){this.WPb=h;this.log=m.Bb("HeaderFetcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.nIa=void 0;q=a(2);k=a(0);g=a(7);f=a(504);d=a(72);c.prototype.download=function(h){var l,n,p,r,t;function m(w){if(t < n.length - 1)return (!1,t++,l.N_a(n[t].url,p,r).catch(m));throw w;}l=this;n=h.urls;p=h.offset;r=h.length;t=0;return this.N_a(n[t].url,p,r).catch(m);};c.prototype.N_a=function(h,m,l){return this.WPb.download({url:h,withCredentials:!1,responseType:d.ResponseType.ikb,cF:"hls_headers",Iu:!0,offset:m,length:l,xu:d.oja},{d9a:1});};a=c;a=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(f.yIa)),q.__param(1,(0,k.u)(g.Ib))],a);b.nIa=a;},function(q,b,a){var k,g,f;function c(d){this.Ha=d.Bb("HeaderParserImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.rIa=void 0;q=a(2);k=a(0);g=a(297);a=a(7);c.prototype.parse=function(d,h,m){d=new g.uo(this.Ha,{mediaType:d},h,["sidx"]).parse();if(d.Mi && d.Z)return this.A8(d.Z,m);};c.prototype.A8=function(d,h){var m,l,n,p,r;m=0;l=0;n=0;p=d.offset;r=[];d.ed.forEach(function(t,w){l+=t;n+=d.sizes[w];if(1E3 * l / d.I >= h || w === d.ed.length - 1)(r.push({duration:l / d.I,da:m / d.I,byteOffset:p,gAb:n}),m+=l,l=0,p+=n,n=0);});return r;};f=c;f=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(a.Ib))],f);b.rIa=f;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(){this.tb();this.cb=1 === this.version?this.Cf([{creationTime:"int64"},{modificationTime:"int64"},{I:"int32"},{duration:"int64"}]):this.Cf([{creationTime:"int32"},{modificationTime:"int32"},{I:"int32"},{duration:"int32"}]);return !0;};g.Xa="mvhd";g.wa=!1;return g;})(a(29).yb);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.Xa="trak";g.wa=!0;return g;})(a(29).yb);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(f){var d;this.tb();d=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];d=d.concat({offset:64,type:"offset"},{D7a:"int16"},{HVa:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.cb=this.Cf(d);this.cb.$gb=! !(this.flags & 1);this.cb.ahb=! !(this.flags & 2);this.cb.bhb=! !(this.flags & 4);this.cb.dhb=! !(this.flags & 8);this.l.console.trace("Finished parsing track box");if(null === f || void 0 === f?0:f.Ya)(f.Ya.width=this.cb.width,f.Ya.height=this.cb.height);return !0;};g.Xa="tkhd";g.wa=!1;return g;})(a(29).yb);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(){this.tb();this.cb=this.Cf(1 === this.version?[{LP:"int64"}]:[{LP:"int32"}]);return !0;};g.Xa="mehd";g.wa=!1;return g;})(a(29).yb);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(f){this.cb=this.Cf([{NZ:"int32"},{A3:"int32"}]);if(null === f || void 0 === f?0:f.Ya)(f.Ya.D4a=this.cb.NZ,f.Ya.Bib=this.cb.A3);return !0;};g.Xa="pasp";g.wa=!1;return g;})(a(29).yb);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(){this.cb=this.Cf([{VWa:"int32"},{maxBitrate:"int32"},{bq:"int32"}]);return !0;};g.Xa="btrt";g.wa=!1;return g;})(a(29).yb);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(){this.l.rh();this.l.rh();for(this.Iv=[];this.l.offset <= this.byteOffset + this.byteLength - 4;){this.Iv.push(this.l.rh());}return !0;};g.Xa="ftyp";g.wa=!1;return g;})(a(29).yb);b.default=q;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);k=a(94);q=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}c.__extends(f,g);f.prototype.parse=function(){this.tb();this.cb=this.Cf([{xbb:"int32"},{DF:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.cb.DF=k.Uk(this.cb.DF);return !0;};f.Xa="hdlr";f.wa=!1;return f;})(a(29).yb);b.default=q;},function(q,b,a){var c,k,g,f,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);k=a(111);g=a(299);f=a(202);q=a(29);d=a(95);a=(function(h){function m(){return null !== h && h.apply(this,arguments) || this;}c.__extends(m,h);m.prototype.parse=function(){this.tb();this.Kt=this.l.ba();return !0;};m.prototype.Nn=function(l){var n,p,r;p=Object.keys(this.Ba);if(p.length && (p=p[0],this.Ba[p].length)){p=this.Ba[p][0];if(p instanceof f.default){r=null !== (n=p.Ck) && void 0 !== n?n:p.samplerate;this.$=new g.O(p.Gi,r);}else p instanceof d.default && (n=p.Ba[k.$u]) && n.length && (n=n[0].cb,1E3 !== n.Vl && 1001 !== n.Vl || 0 !== n.jp % 1E3?this.l.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + n.jp + "/" + n.Vl):this.$=new g.O(n.Vl,n.jp));l && this.$ && (l.$=this.$);}return !0;};m.prototype.IG=function(l){void 0 !== this.Ba[l] && 0 !== this.Ba[l].length && (this.Y.ie(this.Kt - 1,this.byteOffset + 12),l=this.Ba[l][0],this.Rc(l.byteLength,l.byteOffset));};m.Xa="stsd";m.wa=!0;return m;})(q.yb);b.default=a;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(){this.QY=this.l.sb(2);this.ZW=this.l.sb(5);this.$W=this.l.sb(3);this.pW=this.l.sb(3);this.l.sb(1);this.l.sb(5);this.l.sb(5);return !0;};g.Xa="dac3";return g;})(a(29).yb);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(){var d;this.r0=this.l.lb() & 7;this.L2=[];for(var f=0;f < this.r0;f++){d={QY:this.l.sb(2),ZW:this.l.sb(5),$W:this.l.sb(5),pW:this.l.sb(3),E7a:this.l.sb(1),q0:this.l.sb(4)};0 < d.q0?d.FXa=this.l.sb(9):this.l.sb(1);this.L2.push(d);}return !0;};g.Xa="dec3";return g;})(a(29).yb);b.default=q;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);k=a(29);q=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}c.__extends(f,g);f.prototype.parse=function(d){this.tb();this.ix=this.l.rh();k.aa && this.l.console.trace("SchemeTypeBoxTranslator: " + this.ix);if("cenc" === this.ix){if((this.l.offset-=4,k.aa && this.l.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.l.offset),this.Y.tH("piff"),null === d || void 0 === d?0:d.Ya))d.Ya.encryptionScheme="piff";}else if(null === d || void 0 === d?0:d.Ya)d.Ya.encryptionScheme=this.ix;this.l.ba();return !0;};f.Xa="schm";f.wa=!1;return f;})(k.yb);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(f){var d;this.l.Aa();this.fT=this.l.Aa();this.l.Aa();this.l.Aa();this.l.Aa();this.er=this.qv(this.l.Aa() & 31);this.wG=this.qv(this.l.Aa());this.yk=this.er.length?this.er[0][0]:this.fT;this.kE=this.l.offset;this.startOffset + this.length < this.l.offset && (100 === this.yk || 110 === this.yk || 122 === this.yk || 144 === this.yk) && (this.l.Aa(),this.l.Aa(),this.qv(this.l.Aa()));d=this.startOffset + this.length - this.kE;0 < d && this.Rc(d,this.kE);if(null === f || void 0 === f?0:f.config)(f.config.er=this.er,f.config.wG=this.wG,f.config.yk=this.yk);return !0;};g.prototype.qv=function(f){var m;for(var d=[],h=0;h < f;++h){m=this.l.lb();d.push(this.l.Vq(m));}return d;};g.Xa="avcC";g.wa=!1;return g;})(a(29).yb);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.Nn=function(){var f;f=this.oh("esds");if(f=f && f.wD.oh(5))(this.Gi=f.Gi,this.Ck=f.Ck);return !0;};g.Xa="mp4a";g.wa=!0;return g;})(a(202).default);b.default=q;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);k=a(301);q=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}c.__extends(f,g);f.prototype.parse=function(d){this.tb();this.wD=k.xD.EG(this.l,d);this.l.console.trace("-------------- ESDBox start ---------------");this.l.console.trace(this.wD);this.l.console.trace("-------------- ESDBox end ---------------");return !0;};f.Xa="esds";f.wa=!1;return f;})(a(29).yb);b.default=q;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=a(111);a=a(29);k=q.$u;a=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}c.__extends(f,g);f.prototype.parse=function(){this.tb();this.cb=this.Cf([{jp:"int32"},{Vl:"int16"}]);return !0;};f.Xa=k;f.wa=!1;return f;})(a.yb);b.default=a;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=(function(k){function g(){return null !== k && k.apply(this,arguments) || this;}c.__extends(g,k);g.prototype.parse=function(){var f,d,h,m,l;this.tb();f=this.Cf([{cn:"int32"},{ZE:"int32"},{Bi:"int32"},{Di:"int32"},{Ci:"int32"}]);d=f.cn;h=f.ZE;m=f.Bi;l=f.Ci;f=f.Di;this.cb={trackId:d,f_a:h,lq:m,g_a:l,h_a:f};this.cn=d;this.ZE=h;this.Bi=m;this.Di=f;this.Ci=l;return !0;};g.Xa="trex";g.wa=!1;return g;})(a(29).yb);b.default=q;},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r,t;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);k=a(1219);g=a(305);f=a(166);d=a(299);h=a(29);q=a(508);m=a(509);l=a(511);n=a(167);p=a(298);r=a(111);t=a(512);a=(function(){function w(v,u,x,y,z,A){this.console=v;this.stream=u;this.Me=y;this.xW=z;this.view=x instanceof ArrayBuffer?new DataView(x):new DataView(x.data,x.offset,x.length);this.config=A || ({});this.dua=n.dZ();}w.path=function(v,u){return u.reduce(function(x,y){return x && x.Ba[y] && x.Ba[y][0];},v);};w.mZ=function(v){return v && v.Iv && -1 !== v.Iv.indexOf("mcl0")?"mcl0":void 0;};w.GY=function(v,u){var x,y;f.assert("mcl0" === v,"Unsupported McClearen brand");x=u.Z;v=x.ed;u=new d.O(120,1).Yc(x.I).qa;y=0;for(x=x.Fk;y < v.length && x < u;){x+=v[y++];}return y;};w.prototype.parse=function(v){var u;u=this.d2();if(!u.done){if(u.iG)return {Mi:!1,Hna:u.iG};this.console.error("Scan error: " + u.error);return {Mi:!1,parseError:u.error || "unknown mp4 scan error"};}this.view=new DataView(this.view.buffer,this.view.byteOffset,u.offset);v=this.O0(v);return v.done?this.yX():(this.console.error("Parse error: " + v.error),{Mi:!1,parseError:v.error || "unknown mp4 parse error"});};w.prototype.Fi=function(v){return h.yb.Fi(this,v);};w.prototype.oh=function(v){return h.yb.oh(this,v);};w.prototype.d2=function(){var v,u;v=new t.ZT(this.Me,this.xW?[r.Hp,r.Gp]:[],this.config && this.config.tgb || ["moof",r.GD],this.config && this.config.pG);u=c.__assign(c.__assign({},this.config),{Mw:!1});return new l.Ru(w.hx,v,this.view,this.console,u).parse();};w.prototype.O0=function(v){var u,x,y;u=new t.vD(this.view.byteLength);x=Object.create(p.mk.Ba);this.config && ((this.config.iR || this.config.ES || this.config.zu) && k(p.mk.dx,x),this.config.h3 && k(p.mk.i3,x),this.config.ES && k(p.mk.kH,x));y=c.__assign(c.__assign({},this.config),{Mw:!0});this.ub=new l.Ru(x,u,this.view,this.console,y);v=this.ub.parse(v);v.done && (this.Ba=this.ub.Ba);return v;};w.prototype.yX=function(){var v,u,x,y,z,A,B,D;v={Mi:!0};u=w.path(this,["moov"]);x=w.path(u,["trak","mdia","minf","stbl","stsd"]);if(this.config.iR)if(x)(v.$=x.$,v.Hdb=x.Ba);else return {Mi:!1,parseError:"Missing sample descriptions"};y=w.path(x,["encv","sinf","schi"]);y && (y=w.path(y,["tenc"]) || w.path(y,[r.OD])) && (v.fra={MYa:y.gi,Cw:y.Cw,j7a:!1});if(y=w.path(u,["trak","mdia","mdhd"]))v.I=y.I;if(y=w.path(u,["mvex","trex"]))v.lq=y && y.cb.lq;v.lq && v.I && (v.$=new d.O(v.lq,v.I));if(y=w.path(this,["sidx"])){z=w.path(this,[r.Hp]);z=z && z.P_;A=w.path(this,[r.Gp]);A=A && A.Eh;v.Z=y.Z;v.dG=z;v.Eh=A;}if(z=this.Ba.vmaf && this.Ba.vmaf[0])v.vh=z.vh;if(this.config.J1){B=w.path(u,["trak"]);z=w.path(u,["mvex"]);if(B && z && B.byteOffset > z.byteOffset){A=new Uint8Array(this.view.buffer,this.view.byteOffset,this.view.byteLength);D=A.slice(z.byteOffset,z.byteOffset + z.byteLength);B=A.subarray(z.byteOffset + z.byteLength,B.byteOffset + B.byteLength);A.set(B,z.byteOffset);A.set(D,z.byteOffset + B.byteLength);}}if(this.config.pAa)if(u)(this.trim(u.byteOffset + u.byteLength),this.config.zu && x && 1 < x.Kt && y && (v.Yf=this.zu(x,y)),void 0 === v.Yf && (u=this.ub.qq?g.concat(this.ub.na()):this.view.buffer,v.Yf=[{Dd:0,data:u}]));else return {Mi:!1,parseError:"Missing movie box"};v.Mi=!0;v.jR=this.ub.offset;return v;};w.prototype.trim=function(v){var u;u=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(v,this.view.byteLength));this.ub.trim(v);this.view=new DataView(u);};w.prototype.zu=function(v,u){var x,y,z;x=Object.keys(v.Ba);y=x.filter(function(A){return "encv" !== A;});if(!(2 > x.length || y.length === x.length || 0 === y.length)){x=w.path(this,["ftyp"]);z=w.mZ(x);if(z)return (x=[],this.ub.t1(),v.IG("encv"),x.push({Dd:0,Ej:!1,data:g.concat(this.ub.na())}),this.ub.c1(),v.IG(y[0]),v=w.GY(z,u),x.push({Dd:v,Ej:!0,data:g.concat(this.ub.na())}),x);}};w.hx={};return w;})();b.uo=a;a.hx[r.av]=q.default;a.hx[r.bv]=m.default;},function(q){q.exports=function k(a,c){var g;a.__proto__ && a.__proto__ !== Object.prototype && k(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(f){g=Object.getOwnPropertyDescriptor(a,f);void 0 !== g && Object.defineProperty(c,f,g);});};},function(q,b,a){var c,k,g,f,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);k=a(166);g=a(305);f=a(94);q=a(1221);d=(function(){function h(m){m?(this.vd=m.vd.slice(),this.je=m.je.slice(),this.Pc=m.Pc.slice(),this.trim=m.trim):(this.vd=[],this.je=[],this.Pc=[]);}Object.defineProperties(h.prototype,{empty:{get:function(){return 0 === this.vd.length && 0 === this.je.length && 0 === this.Pc.length;},enumerable:!0,configurable:!0}});return h;})();q=(function(h){function m(l,n,p){l=h.call(this,l,n,p) || this;l.kF=[];l.Ja=new d();return l;}c.__extends(m,h);m.DW=function(l,n){if(n.offset + n.size <= l.byteLength)switch(n.size){case 1:l.setUint8(n.offset,n.value);break;case 2:n.Xm?l.setInt16(n.offset,n.value):l.setUint16(n.offset,n.value);break;case 4:n.Xm?l.setInt32(n.offset,n.value):l.setUint32(n.offset,n.value);break;case 8:k.assert(!n.Xm);l.setUint32(n.offset,Math.floor(n.value / 4294967296));l.setUint32(n.offset + 4,n.value & 4294967295);break;default:k.assert(!1);}};Object.defineProperties(m.prototype,{qq:{get:function(){return !this.Ja.empty;},enumerable:!0,configurable:!0}});m.prototype.ur=function(l,n){this.Ja.je.push({offset:void 0 !== n?n:this.offset,value:l,size:1});void 0 === n && (this.offset+=1);};m.prototype.N3=function(l,n){this.Ja.je.push({offset:void 0 !== n?n:this.offset,value:l,size:2,Xm:!1});void 0 === n && (this.offset+=2);};m.prototype.ie=function(l,n){this.Ja.je.push({offset:void 0 !== n?n:this.offset,value:l,size:4,Xm:!1});void 0 === n && (this.offset+=4);};m.prototype.O3=function(l,n){this.Ja.je.push({offset:void 0 !== n?n:this.offset,value:l,size:8,Xm:!1});void 0 === n && (this.offset+=8);};m.prototype.tH=function(l){this.ie(f.YD(l));};m.prototype.wx=function(l,n){this.Ja.Pc.push({offset:this.offset,zj:l,value:n});this.offset+=4;};m.prototype.Rc=function(l,n,p){this.Ja.vd.push({offset:n,remove:l,hb:p});};m.prototype.Pm=function(l,n,p,r){this.Ja.vd.push({offset:p,remove:l,replace:n,hb:r});};m.prototype.trim=function(l){this.Ja.trim=l;};m.prototype.t1=function(){this.kF.push(new d(this.Ja));};m.prototype.c1=function(){this.Ja=this.kF.pop() || new d();};m.prototype.na=function(){var l,n,p,r,t,w,v;l=this;if(0 === this.Ja.vd.length && 0 === this.Ja.je.length && 0 === this.Ja.Pc.length)return [void 0 === this.Ja.trim?this.view.buffer:this.view.buffer.slice(0,this.Ja.trim)];this.Ja.vd.sort(function(u,x){return u.offset - x.offset;});this.Ja.je.sort(function(u,x){return u.offset - x.offset;});this.X1();n=this.EY();p=this.view.buffer.slice(0,n);r=new DataView(p);this.Ja.je.forEach(m.DW.bind(void 0,r));this.s3(r);this.r3(r);t=[];w=void 0 !== this.Ja.trim?Math.min(this.Ja.trim,this.view.byteLength):this.view.byteLength;v=0;this.Ja.vd.filter(function(u){return u.offset <= w;}).forEach(function(u){u.offset > v && (t.push(r.buffer.slice(v,u.offset)),u.offset > r.byteLength && r !== l.view && (r=l.view,t.push(r.buffer.slice(n,u.offset))));u.replace && t.push(u.replace);v=u.offset + u.remove;});v < n && t.push(p.slice(v));v < w && t.push(this.view.buffer.slice(Math.max(p.byteLength,v),w));return t;};m.prototype.EY=function(){var l,n,p;l=[];n=this.Ja.je[this.Ja.je.length - 1];p=this.Ja.Pc[this.Ja.Pc.length - 1];n && l.push(n.offset + n.size);p && l.push(p.offset + 4);this.Ja.vd.filter(function(r){return r.hb;}).forEach(function(r){return l.push(r.hb.byteOffset + 4);});n=Math.max.apply(void 0,l);return void 0 !== this.Ja.trim?Math.min(n,this.Ja.trim):n;};m.prototype.X1=function(){this.Ja.vd=this.Ja.vd.reduce(function(l,n){var p,r;if(0 === l.length)return (l.push(n),l);p=l[l.length - 1];r=p.offset + p.remove;n.offset >= r?l.push(n):n.offset + n.remove > r && (k.assert(p.hb === n.hb),p.remove+=n.offset + n.remove - r,n.replace && (p.replace=p.replace?g.concat(p.replace,n.replace):n.replace));return l;},[]);};m.prototype.s3=function(l){var n;n=this;this.Ja.Pc.forEach(function(p){var r,t,w,v;r=l;t=p.offset;n.Ja.vd.some(function(u){return u.offset <= p.offset && u.replace && u.offset + u.replace.byteLength >= p.offset + 4?(r=new DataView(u.replace),t=p.offset - u.offset,!0):!1;});w=p.zj + (void 0 !== p.value?p.value:r.getInt32(t));v=n.Ja.vd.reduce(function(u,x){return x.offset > p.zj && x.offset < w?u + (x.remove - (x.replace?x.replace.byteLength:0)):u;},0);r.setInt32(t,w - p.zj - v);});};m.prototype.r3=function(l){this.Ja.vd.forEach(function(n){var p;p=(n.remove || 0) - (n.replace?n.replace.byteLength:0);if(0 !== p)for(n=n.hb;n;){l.setUint32(n.byteOffset,l.getUint32(n.byteOffset) - p);n=n.parent;}});};return m;})(q.TU);b.SU=q;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(167);a(167);k=a(94);q=(function(){function g(f,d,h){this.view=f;this.console=d;this.config=h;this.view=f;this.console=d;this.Ki=this.Tr=this.offset=0;}g.prototype.bZ=function(f){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,f);};g.prototype.sb=function(f){for(;this.Ki < f;){this.Tr=(this.Tr << 8) + this.Aa();this.Ki+=8;}this.Ki-=f;return this.Tr >>> this.Ki & (1 << f) - 1;};g.prototype.Aa=function(){var f;f=this.view.getUint8(this.offset);this.offset+=1;return f;};g.prototype.lb=function(f){f=this.view.getUint16(this.offset,f);this.offset+=2;return f;};g.prototype.ba=function(f){f=this.view.getUint32(this.offset,f);this.offset+=4;return f;};g.prototype.Xq=function(){var f;f=this.view.getInt32(this.offset,void 0);this.offset+=4;return f;};g.prototype.Q0=function(f,d){var h;h=this.view.getUint32(this.offset + (f?4:0),f);f=this.view.getUint32(this.offset + (f?0:4),f);d || 0 === (h & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * h + f;};g.prototype.xc=function(f,d){f=this.Q0(f,d);this.offset+=8;return f;};g.prototype.R0=function(f,d){var h;h=this.view.getInt32(this.offset + (f?4:0),f);f=this.view.getUint32(this.offset + (f?0:4),f);d || 0 === ((0 < h?h:-h) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * h + f;};g.prototype.A1=function(){var f;f=this.R0(void 0,void 0);this.offset+=8;return f;};g.prototype.rh=function(){return k.Uk(this.ba());};g.prototype.Yq=function(){var d,h,m,l,n,p;function f(r,t){return ("000000" + r.toString(16)).slice(2 * -t);}d=this.ba(!0);h=this.lb(!0);m=this.lb(!0);l=this.lb();n=this.lb();p=this.ba();return [f(d,4),f(h,2),f(m,2),f(l,2),f(n,2) + f(p,4)].join("-");};g.prototype.Wq=function(f){var d;d=this.view.byteOffset + this.offset;d=this.view.buffer.slice(d,d + f);this.offset+=f;return d;};g.prototype.y1=function(f){var d;d=[];if(0 === f)return "";f=f || Number.MAX_SAFE_INTEGER;for(var h=this.Aa();0 !== h && 0 <= --f;){d.push(h);h=this.Aa();}return String.fromCharCode.apply(null,d);};g.prototype.Vq=function(f){var d,h;void 0 === d && (d=1);void 0 === h && (h=!0);return this.Sg(this.config.Hu && c.CZ || c.ek,1,f,d,h);};g.prototype.x1=function(f,d,h){var m;void 0 === d && (d=2);void 0 === h && (h=!0);void 0 === m && (m=!1);return this.Sg(this.config.Hu && c.AZ || c.Bq,2,f,d,h,m);};g.prototype.Uq=function(f,d,h){var m;void 0 === d && (d=4);void 0 === h && (h=!0);void 0 === m && (m=!1);return this.Sg(this.config.Hu && c.BZ || c.Hm,4,f,d,h,m);};g.prototype.z1=function(){for(var f=this.Aa(),d=f & 127;f & 128;){f=this.Aa();d=d << 7 | f & 127;}return d;};g.prototype.Sg=function(f,d,h,m,l,n){void 0 === l && (l=!0);void 0 === n && (n=!1);f=f(this.view,this.offset,h,m,n);this.offset=l || !m || m === d?this.offset + h * (m || d):this.offset + d;return f;};return g;})();b.TU=q;},function(q,b,a){var g,f,d,h;function c(m,l,n,p){f.call(this,m,l,n,p);}function k(m,l,n){f.call(this,m,l,n,void 0);}g=a(111);f=a(306).mm;d=a(510);h=a(94).YD;c.prototype=Object.create(f.prototype);k.prototype=Object.create(c.prototype);k.prototype.tV=function(m,l){return "string" === typeof l?d[l]:l?d.reset[m] || d.B2[m]:d.B2[m];};k.prototype.Kea=function(m,l,n){return this.na(m,l,!1,n,void 0);};k.prototype.H1=function(m,l,n){return this.na(m,l,!0,n,void 0);};k.prototype.na=function(m,l,n,p,r){var w,v,u,x,y,z,A,B,D,C,F,G,E,I;function t(K){v=w[K];u=v.Ae("traf");if(void 0 === u || void 0 === u.Ee)return !1;A=u.Ae("tfdt");if(void 0 === A)return !1;x=u.Ae("trun");return void 0 === x?!1:!0;}if(!this.parse().done)return !1;w=this.Ba.moof;if(!w || 0 === w.length)return !1;if(void 0 !== m){y=m;for(m=0;m < w.length;++m){if(!t(m,this.ub.console.trace))return !1;if(x.Ka > y || n && x.Ka === y)break;y-=x.Ka;}}else if((m=n?w.length - 1:0,!t(m,this.ub.console.trace)))return !1;if(n && m < w.length - 1){z=w[m + 1];this.ub.Rc(this.KZa - z.startOffset,z.startOffset);}else !n && 0 < m && this.ub.Rc(v.startOffset,0);z=u.Ae("tfhd");if(void 0 === z)return !1;A=u.Ae("tfdt");B=x.Ka;D=u.Ae("saiz");C=u.Ae("saio");F=u.Ae(g.ND);G=u.Ae("sbgp");if(!(!D && !C || D && C))return !1;E=u.Ae("sdtp");if(this.Ba.mdat && m < this.Ba.mdat.length)I=this.Ba.mdat[m];else if(m !== w.length - 1)return !1;void 0 === y && (y=n?x.Ka:0);if(x.na(u,z,I || this.ub,l,y,u.Ee,n))x.qq && (!n && A && A.na(x.w2),D && C && (D.na(x.Ek,n),C.na(F?0:D.cx,u.Ee,n)),F && F.na(x.Ek,n),E && E.na(x.Ek,B,n),G && G.na(x.Ek,n));else if(!n){if(m === w.length - 1)return !1;this.ub.Rc(w[m + 1].startOffset - v.startOffset,v.startOffset);}else if(0 === x.Ek)return !1;p && (l=this.tV(this.stream.profile,r)) && x.K1(u,z,I,n,p,l);n=this.ub.na();p=n.reduce(function(K,L){return K + L.byteLength;},0);n={T:n,length:p,Li:this.ub.view.byteLength};x.qq && !I && (n.zk=u.Ee + x.zk,n.Rf=x.Rf);return n;};q.exports={kn:k,bu:function(m){var l,n;l=new ArrayBuffer(8);n=new DataView(l);n.setUint32(0,m + 8);n.setUint32(4,h("mdat"));return l;}};},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=a(306);k=a(305);a=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}c.__extends(f,g);f.prototype.na=function(d){var h,m,l,n;h=this;if(!this.parse().done)return !1;m=this.Ba.moov;if(!m || 0 === m.length)return !1;l=m[0].oh("tenc");if(!l)return !1;n=new Uint8Array(l.gi);d.forEach(function(p){for(var r=p.from,t=!0,w=0;w < r.length;w++){if(n[w] !== r[w]){t=!1;break;}}t && h.ub.Pm(p.from.length,p.to,l.Cw);});return k.concat(this.ub.na());};return f;})(q.mm);b.lA=a;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});q=b.oi || (b.oi={});q[q.mc=0]="AUDIO";q[q.Vb=1]="VIDEO";},function(q,b,a){var d,h,m,l,n,p,r,t,w,v,u,x;function c(y,z,A){this.TX=z;this.Oc=y.filter(function(B){return B.ACa[r.pn.J6];}).map(function(B){return {track:B,stream:B.ACa[r.pn.J6],id:B.R_a[r.pn.J6]};});A || (this.Oc=this.Oc.filter(function(B){return B.track.Qg === z;}));}function k(y,z,A){var B;this.YL=z;this.Jw=A;B=y[0];this.iM=B.streams.map(function(D){return {track:B,jQ:D.sfb,stream:D};});}function g(y,z,A,B,D){function C(F,G){return F.bitrate > G.bitrate?F:G;}this.log=y;this.YL=A;this.TX=B;this.iM=z.map(function(F){var G;G=F.streams.reduce(C);return {track:F,jQ:G.XC?G.XC.offset + G.XC.size:void 0,stream:G};});D || (this.iM=this.iM.filter(function(F){return F.track.Qg === B;}));}function f(y,z,A,B,D,C){this.BPb=y;this.CPb=z;this.MZb=A;this.WAb=B;this.kK=D;this.mg=C;this.Ha=C.Bb("HLSPlaylistBuilderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Oqb=b.Zqb=b.Qjb=b.aIa=void 0;q=a(2);d=a(0);h=a(297);m=a(503);l=a(505);n=a(3);p=a(41);r=a(45);t=a(513);w=a(514);v=a(296);u=a(7);x=a(1226);f.prototype.ak=function(y,z){var A,B,D,C,F,G;A=this;C=y.Tb;y=this.mLb(C,z);F=this.HOb(C,z);G=null !== (D=null === (B=C.C1) || void 0 === B?void 0:B.xS) && void 0 !== D?D:C.b3.find(function(E){var I;return E.id === (null === (I=C.U9) || void 0 === I?void 0:I[0].agb);}).Qg;B=new c(C.b3,G,this.kK.Nna);return Promise.all([y,F,B]).then(function(E){var I,K;I=ra(E);E=I.next().value;K=I.next().value;I=I.next().value;E={audio:E.getMetadata(),video:K.getMetadata(),text:I.getMetadata(),YZa:E.Msa(),qGb:I.Msa(),duration:C.duration,jm:C.jm};K=A.WAb.ILb(E);z("h_s");return {mUb:A.MZb.transform(E,K),ZAb:K,w5b:E};});};f.prototype.HOb=function(y,z){var A;A=new k(y.Tz,this.kK.i5a,this.kK.Jw);return this.L_a(A.iM,h.oi.Vb,z).then(function(B){A.WAa(B);return A;});};f.prototype.mLb=function(y,z){var A,B,D,C;D=null !== (B=null === (A=y.C1) || void 0 === A?void 0:A.Lo) && void 0 !== B?B:y.zv.find(function(F){var G;return F.id === (null === (G=y.U9) || void 0 === G?void 0:G[0].Lo);}).Qg;C=new g(this.Ha,y.zv,this.kK.iz,D,this.kK.Nna);return this.L_a(C.iM,h.oi.mc,z).then(function(F){C.WAa(F);return C;});};f.prototype.qya=function(y,z,A,B){if(y=this.CPb.parse(z,y,A))return y;this.Ha.error("Failed to parse headers",{type:z === h.oi.mc?"audio":"video",downloadableId:B.stream.pq});};f.prototype.L_a=function(y,z,A){var B;B=this;return Promise.all(y.map(function(D,C){if(D.jQ)return B.BPb.download({urls:D.stream.urls,offset:0,length:D.jQ}).then(function(F){A("h_" + (0 === z?"A":"V") + "_" + C + "_s");return B.qya(F,z,z == h.oi.mc?B.kK.iz:B.kK.tC,D);}).catch(function(){A("h_" + D.track.Ti[0] + "_" + C + "_f");B.Ha.warn("Failed to download and parse headers for " + D.stream.pq);});B.Ha.warn("Stream data offset is missing",{downloadableId:D.stream.pq});}));};a=f;a=q.__decorate([(0,d.X)(),q.__param(0,(0,d.u)(m.oIa)),q.__param(1,(0,d.u)(l.sIa)),q.__param(2,(0,d.u)(t.dIa)),q.__param(3,(0,d.u)(w.rFa)),q.__param(4,(0,d.u)(v.ria)),q.__param(5,(0,d.u)(u.Ib))],a);b.aIa=a;g.prototype.WAa=function(y){var z;z=this;if(!y.find(function(A){return void 0 !== A;}))throw p.Ad.$ib(n.W.YIa,n.S.aja);this.Oc=this.iM.map(function(A,B){if(B=y[B])return {track:A.track,stream:A.stream,Z:B,YL:z.YL};}).filter(x.qva);};g.prototype.getMetadata=function(){return this.Oc;};g.prototype.Msa=function(){var y,z;y=this;if(!this.Oc.find(function(A){return A.track.Qg === y.TX;}) && 0 < this.Oc.length){z=this.Oc[0].track.Qg;this.log.warn("Did not find metadata for audio track " + this.TX + ", falling back to " + z);return z;}return this.TX;};b.Qjb=g;k.prototype.WAa=function(y){var z,A;z=this;if(!y.find(function(B){return void 0 !== B;}))throw p.Ad.$ib(n.W.YIa,n.S.bja);A=this.iM.map(function(B,D){if(D=y[D])return {track:B.track,stream:B.stream,Z:D,YL:z.YL};}).filter(x.qva);this.Oc=this.rNb(A);};k.prototype.getMetadata=function(){return this.Oc;};k.prototype.rNb=function(y){var z,A,B;z=this;y.sort(function(D){return D.stream.bitrate;});A=y.findIndex(function(D){var C;return (null !== (C=D.stream.nb) && void 0 !== C?C:0) >= z.Jw;});if(-1 !== A && A !== y.length - 1){B=y[A];y.splice(A,1);y.push(B);}y.reverse();return y;};b.Zqb=k;c.prototype.Msa=function(){return this.TX;};c.prototype.getMetadata=function(){return this.Oc;};b.Oqb=c;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.qva=void 0;b.qva=function(a){return void 0 !== a && null !== a;};},function(q,b,a){var k,g,f,d,h,m;function c(l){this.Ha=l.Bb("HLSPlaylistTransformerImpl");this.i9b=d.G4.Ft();this.ezb=h.Sha.Ft();}Object.defineProperty(b,"__esModule",{value:!0});b.cIa=void 0;q=a(2);k=a(0);g=a(7);f=a(138);d=a(307);h=a(515);m=[0,1];c.prototype.transform=function(l,n){var p,r,t,w,v,u,x,y,z;p=this;r=["#EXTM3U","#EXT-X-VERSION:8","#EXT-X-INDEPENDENT-SEGMENTS"];t=l.text;w=l.audio;v=l.video;u=l.duration;x=l.YZa;y=l.qGb;t.forEach(function(A){m.forEach(function(B){var D,C,F,G;D=0 === B;C=A.stream;F=A.track;G=n.get(A.id);D=D?G.xR:G.dfa;C=p.tOb({url:D.url,duration:u / 1E3,size:C.size,Gn:"Manifest for subtitles " + F.language + ' stream "' + F.TF + '", ' + F.Qg + ", cdn " + D.hq});p.Ha.trace("Text variant manifest",C.join("\n"));B=p.uOb({groupId:B,name:F.TF,Zua:F.Qg === y,Gq:F.Mba,jRb:F.Ti === f.Br.Qga,language:F.language,uri:p.wca(C)});r.push(B);});});w.forEach(function(A){m.forEach(function(B){var D,C,F,G,E,I;D=0 === B;C=A.stream;F=A.track;G=A.Z;E=A.YL;I=n.get(C.pq);D=D?I.xR:I.dfa;C=p.z3a({url:D.url,jQ:C.XC.offset + C.XC.size,Z:G,rgb:Math.floor(E / 1E3),Gn:"Manifest for audio " + F.language + ' stream "' + F.TF + '", ' + F.Qg + ", cdn " + D.hq});p.Ha.trace("Audio variant manifest",C.join("\n"));B=p.nLb({groupId:B,language:F.language,name:F.TF,Zua:F.Qg === x,uri:p.wca(C)});r.push(B);});});z=this.ezb[w[0].track.profile];v.forEach(function(A){m.forEach(function(B){var D,C,F,G,E,I;D=0 === B;C=A.stream;F=A.track;G=A.Z;E=A.YL;I=n.get(C.pq);I=D?I.xR:I.dfa;D=0 < t.length;F=p.z3a({url:I.url,jQ:C.XC?C.XC.offset + C.XC.size:C.sfb,Z:G,rgb:Math.floor(E / 1E3),Gn:"Manifest for video bitrate " + C.bitrate + ", stream " + F.Qg + ", cdn " + I.hq});p.Ha.trace("Video variant manifest",F.join("\n"));B=p.IOb({groupId:B,VW:1E3 * C.bitrate,qzb:1E3 * C.bitrate,NRb:0 <= C.AJ.indexOf("-hdr-") || 0 <= C.AJ.indexOf("-dv5-"),framerate:(C.T1a / C.S1a).toFixed(3),pp:C.eAa + "x" + C.ldb,d9b:p.i9b[C.AJ],azb:z,w6b:D});r.push(B);B=p.wca(F);r.push("" + B);});});this.Ha.trace("Primary manifest",r.join("\n"));return this.wca(r);};c.prototype.nLb=function(l){var n;n=l.Zua;return ["#EXT-X-MEDIA:TYPE=AUDIO",'GROUP-ID="group_' + l.groupId + '"','CHANNELS="2"','LANGUAGE="' + l.language + '"','NAME="' + l.name + '"',"DEFAULT=" + (n?"YES":"NO"),"AUTOSELECT=" + (n?"YES":"NO"),'URI="' + l.uri + '"'].join(", ");};c.prototype.z3a=function(l){var n;n=["#EXTM3U","# " + l.Gn,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + l.rgb,"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + l.url + '"','#EXT-X-MAP:URI="{$U}",BYTERANGE="' + l.jQ + '@0"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00"];l.Z.forEach(function(p,r){n.push("#EXTINF:" + p.duration.toFixed(3) + "," + p.da.toFixed(3));n.push("#EXT-X-BYTERANGE:" + p.gAb + "@" + p.byteOffset);n.push("{$U}&fi=" + r);});n.push("#EXT-X-ENDLIST");return n;};c.prototype.IOb=function(l){var n,p;n=l.groupId;p=["#EXT-X-STREAM-INF:BANDWIDTH=" + l.VW,"AVERAGE-BANDWIDTH=" + l.qzb,"VIDEO-RANGE=" + (l.NRb?"PQ":"SDR"),"FRAME-RATE=" + l.framerate,'AUDIO="group_' + n + '"',"RESOLUTION=" + l.pp,'CODECS="' + l.d9b + "," + l.azb + '"'];l.w6b && p.push('SUBTITLES="subs_' + n + '"');return p.join(", ");};c.prototype.tOb=function(l){var n;n=l.duration;return ["#EXTM3U","# " + l.Gn,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + Math.floor(n),"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + l.url + '"','#EXT-X-MAP:URI="{$U}"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00","#EXTINF:" + n.toFixed(3),"#EXT-X-BYTERANGE:" + l.size + "@0","{$U}","#EXT-X-ENDLIST"];};c.prototype.uOb=function(l){var n,p,r;n=l.Zua;p=l.language;r=l.uri;n=["#EXT-X-MEDIA:TYPE=SUBTITLES",'GROUP-ID="subs_' + l.groupId + '"','NAME="' + l.name + '"',"DEFAULT=" + (n?"YES":"NO"),"AUTOSELECT=" + (n?"YES":"NO"),"FORCED=" + (l.Gq?"YES":"NO")];l.jRb && n.push('CHARACTERISTICS="public.accessibility.transcribes-spoken-dialog,public.accessibility.describes-music-and-sound"');n.push('LANGUAGE="' + p + '"');n.push('URI="' + r + '"');return n.join(", ");};c.prototype.wca=function(l){return "data:application/vnd.apple.mpegurl;charset=utf-8," + encodeURIComponent(l.join("\n"));};a=c;a=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(g.Ib))],a);b.cIa=a;},function(q,b,a){var k,g,f,d,h;function c(m,l){var p;function n(){p.wya.then(function(r){p.Ha.trace("Unloading PBO Playdata Services");r.close();});d.zf.removeListener(d.Zo,n);}p=this;this.Pab=l;this.wya=l();this.Ha=m.Bb("PlayerPlaydataMonitorImpl");d.zf.addListener(d.Zo,n);}Object.defineProperty(b,"__esModule",{value:!0});b.dOa=void 0;q=a(2);k=a(0);g=a(7);f=a(169);d=a(66);h=a(18);c.prototype.fr=function(m,l){this.wya.then(function(n){n.fr(l,!0,function(p){return m.close(p);});n.GBa(l);m.addEventListener(h.Qa.Vya,function(){m.ss() && n.$db(l).catch(function(p){(p=p.sR) && m.close(p);});});m.addEventListener(h.Qa.Zm,function(){n.hfa(l).catch(function(p){(p=p.sR) && m.close(p);});});m.addEventListener(h.Qa.An,function(){n.hfa(l).catch(function(p){(p=p.sR) && m.close(p);});});});};c.prototype.G2=function(m){return this.wya.then(function(l){l.Gfb();return l.G2(m).catch();});};a=c;a=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(g.Ib)),q.__param(1,(0,k.u)(f.yU))],a);b.dOa=a;},function(q,b,a){var k,g,f,d;function c(h){this.fxa={};this.rba={};this.fca=-1;this.WBa=new f.uc(null);this.bza=new f.uc(null);this.Ha=h.Bb("StreamChangeDetector");}Object.defineProperty(b,"__esModule",{value:!0});b.mQa=void 0;q=a(2);k=a(0);g=a(34);f=a(82);a=a(7);c.prototype.xa=function(h,m,l){var n;n=this;h.forEach(function(p){p.stream.urls.forEach(function(r){n.fxa[r.url]=[p,r.hq];});});this.xqa=m;this.kGb=l;new PerformanceObserver(function(p){n.U7b(p.getEntries());}).observe({entryTypes:["resource"],buffered:!1});};c.prototype.peb=function(h){var m,l,n;if(this.xqa){l=this.taa(h);if(l !== this.fca){for(this.fca=l;0 <= l && !this.rba[l];){l--;}n=ra(null !== (m=this.rba[l]) && void 0 !== m?m:[this.xqa,this.kGb]);m=n.next().value;n=n.next().value;this.Ha.debug("Setting time to " + h + ", using metadata from fragment " + l + " for " + ((0,g.s9a)(m.track.type) + " track with bitrate ") + (m.stream.bitrate + " from cdn " + n));h=m.Z[this.fca];l=h.da;this.bza.set({stream:m,Dn:{startTime:Math.floor(1E3 * l),endTime:Math.floor(1E3 * (l + h.duration))},zy:n});}}};c.prototype.taa=function(h){var m,l,n,p,r;m=this.xqa.Z;h/=1E3;l=0;n=m.length - 1;if(h >= m[n].da)return n;for(;n >= l;){p=l + Math.floor((n - l) / 2);r=m[p];if(h < r.da)n=p - 1;else if(h >= r.da + r.duration)l=p + 1;else return p;}return m.length - 1;};c.prototype.U7b=function(h){var m;m=this;h.filter(function(l){return "video" === l.initiatorType;}).forEach(function(l){var n,p,r;n=l.name.indexOf("&fi=");if(0 < n){p=l.name.substring(0,n);n=Number(l.name.substring(n + 4));if(m.fxa[p]){r=ra(m.fxa[p]);l=r.next().value;r=r.next().value;p && !Number.isNaN(n) && l && (m.rba[n] && (m.fca=-1),m.rba[n]=[l,r],p=l.Z[n].da,!1,m.WBa.set(l,{sJ:Math.floor(1E3 * p),zy:r}));}}});};d=c;d=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(a.Ib))],d);b.mQa=d;},function(q,b,a){var k,g,f,d;function c(h){return g.Ef.call(this,h,"HlsConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.vIa=void 0;q=a(2);k=a(0);g=a(52);f=a(37);a=a(51);na(c,g.Ef);Ya.Object.defineProperties(c.prototype,{tbb:{configurable:!0,enumerable:!0,get:function(){return !0;}},iz:{configurable:!0,enumerable:!0,get:function(){return 16E3;}},tC:{configurable:!0,enumerable:!0,get:function(){return 4E3;}},i5a:{configurable:!0,enumerable:!0,get:function(){return 1E4;}},Jw:{configurable:!0,enumerable:!0,get:function(){return 80;}},Nna:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;q.__decorate([a.config(a.Td,"playsInline")],d.prototype,"tbb",null);q.__decorate([a.config(a.LF,"minAudioMediaRequestDuration")],d.prototype,"iz",null);q.__decorate([a.config(a.LF,"minVideoMediaRequestDuration")],d.prototype,"tC",null);q.__decorate([a.config(a.LF,"hlsVideoMediaRequestTargetDuration")],d.prototype,"i5a",null);q.__decorate([a.config(a.LF,"minStartingVideoVMAF")],d.prototype,"Jw",null);q.__decorate([a.config(a.Td,"allowMultipleAudioTextTracks")],d.prototype,"Nna",null);d=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(f.qn))],d);b.vIa=d;},function(q,b,a){var k,g;function c(f){this.Ha=f.Bb("CdnPartitionerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.qFa=void 0;q=a(2);k=a(0);a=a(7);c.prototype.ILb=function(f){var h,m,l,n,p,r,t;function d(w,v,u){var x,y,z;x=w.map(function(A){return A.hq;});x.sort(function(A,B){return v[A] - v[B];});if(1 === x.length)(!1,l.set(u,{xR:w[0],dfa:w[0]}));else {y=x.find(function(A){return h.has(A);});y || ((y=x.find(function(A){return !m.has(A);}))?h.add(y):(y=x[0],!1));z=x.find(function(A){return m.has(A) && A !== y;});z || ((z=x.find(function(A){return !h.has(A) && A !== y;}))?m.add(z):(z=x.find(function(A){return A !== y;}),!1));l.set(u,{xR:w.find(function(A){return A.hq === y;}),dfa:w.find(function(A){return A.hq === z;})});}}h=new Set();m=new Set();l=new Map();n=f.video;p=f.audio;r=f.text;t=f.jm.reduce(function(w,v){w[v.id]=v.oc;return w;},{});n.forEach(function(w){w=w.stream;d(w.urls,t,w.pq);});p.forEach(function(w){w=w.stream;d(w.urls,t,w.pq);});r.forEach(function(w){var v,u;if(!w.track.OF || w.track.Mba){v=w.track;u=w.id;w=Object.entries(w.stream.Sv).map(function(x){var y;y=ra(x);x=y.next().value;y=y.next().value;return {hq:Number(x),url:y};});v=v.BXa.reduce(function(x,y){x[y.id]=y.oc;return x;},{});d(w,v,u);}});return l;};g=c;g=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(a.Ib))],g);b.qFa=g;},function(q,b,a){var k,g,f,d,h,m,l;function c(n,p,r,t,w){this.mg=n;this.hC=p;this.Cg=r;this.Jc=t;this.Ma=w;}Object.defineProperty(b,"__esModule",{value:!0});b.eU=void 0;q=a(2);k=a(0);g=a(20);f=a(7);d=a(54);h=a(203);m=a(92);l=a(1233);c.prototype.create=function(n){return new l.gU(this.mg,this.hC,this.Cg,this.Ma,this.Jc,n);};a=c;a=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(f.Ib)),q.__param(1,(0,k.u)(m.mA)),q.__param(2,(0,k.u)(d.ro)),q.__param(3,(0,k.u)(h.Ria)),q.__param(4,(0,k.u)(g.Jd))],a);b.eU=a;},function(q,b,a){var k,g,f,d,h,m,l;function c(n,p,r,t,w,v){var u;u=this;this.hC=p;this.Cg=r;this.Ma=t;this.Jc=w;this.ixa=this.MF=this.N1=0;this.AK=!1;this.aG=function(){var x;x=u.Z0();x.prstate=u.NB();x.paustate=u.j.g_();x.midplayseq=u.ixa++;u.Jc.mQ(x);u.Wc(k.wd.aG,void 0,l.Ze | l.dv,x);};this.ej=function(){u.Wc(k.wd.KWa,void 0,l.Ze | l.vr,{});};this.Zm=function(x){u.Wva=u.getTime();u.Xva=x.oldValue;};this.MW=function(x){u.Hva=x.oldValue;};this.Uda=function(x){x != u.AK && (u.IBa(u.AK,x),u.AK=x);};this.IBa=function(x,y){var z;z=u.j.Fa;x={newstate:y?"Paused":"Playing",oldstate:x?"Paused":"Playing"};u.Jc.ns(x,z.Le.value && z.Le.value.stream,z.bg.value && z.bg.value.stream);u.Wc(k.wd.Efb,void 0,l.Ze,x);};this.z2=function(x){u.Wc(k.wd.qfb,void 0,l.Ze,{speedold:Math.floor(1E3 * x.oldValue),speed:Math.floor(1E3 * x.newValue)});};this.bD=function(x){var y,z,A;y=u.j.Fa;z=y.Cc.value;if(x.newValue || z && z.rs() && !z.Gq()){A=(x=null !== (A=x.newValue) && void 0 !== A?A:z)?{trackId:x.trackId,bcp47:x.Vf,downloadableId:x.Ec,rank:x.oc,isImageBased:x.Zl}:{};x=(x=u.Xva)?{trackId:x.trackId,bcp47:x.Vf,downloadableId:x.Ec,rank:x.oc,isImageBased:x.Zl}:{};A={switchdelay:(0,g.xg)(u.getTime() - u.Wva),track:A,oldtrack:x};u.Jc.ns(A,y.Le.value && y.Le.value.stream,y.bg.value && y.bg.value.stream);u.Wc(k.wd.Ogb,void 0,l.Ze,A);}};this.Iya=function(x,y){var z;z=u.j.Fa;x={waittime:(0,g.xg)(x),abortedevent:"resumeplay",resumeplayreason:y};u.Jc.ns(x,z.Df.value,z.Uh.value);u.Wc(k.wd.dea,void 0,l.Ze | l.vr,x);};this.OR=function(x,y,z){x={playdelay:(0,g.xg)(x),reason:z,intrplayseq:u.MF - 1,skipped:y};"repos" === z && (x.prstate=!0 === u.j.xk.value?"playing":"paused");u.Wc(k.wd.OR,void 0,l.Ze | l.cv,x);};this.koa=function(){var x,y,z,A;y=u.j.Fa.Nc.value;z=u.j.Fa.Uh.value.Ec;y=y?{trackId:y.trackId,bcp47:y.Vf,downloadableId:z,rank:y.oc,chan:y.channels}:{};z=u.dC;A=null === (x=u.Hva) || void 0 === x?void 0:x.Ec;x=z?{trackId:z.trackId,bcp47:z.Vf,downloadableId:A,rank:z.oc,chan:z.channels}:{};u.Wc(k.wd.oWa,void 0,l.Ze,{switchdelay:(0,g.xg)(u.getTime() - u.Iva),track:y,oldtrack:x});};this.An=function(x){u.Iva=u.getTime();u.dC=x.oldValue;};this.Jya=function(){var x,y,z;x=u.j.Fa;y={abortedevent:"startplay",trackid:x.Lk,prstate:u.NB(),paustate:u.j.g_()};try{z=(0,f.dK)();z && (y.pdltime=z);(0,g.Ke)(y,x.Hd,{prefix:"sm_"});}catch(A){}u.Jc.qba(y,x);u.Jc.nQ(y,!1,x.Ug.value,x);u.Jc.ns(y,x.Df.value,x.Uh.value);u.pK(y);u.Wc(k.wd.dea,void 0,l.Ze | l.dv | l.vr,y);};this.QO=function(x,y,z,A){x={moff:(0,g.vq)(z),moffms:(0,g.xg)(z),vbitrate:y.bitrate,vbitrateold:x.bitrate,vdlid:y.Ec,vdlidold:x.Ec,vheight:y.height,vheightold:x.height,vwidth:y.width,vwidthold:x.width,bw:A};u.Wc(k.wd.QO,void 0,0,x);};this.IR=function(x,y,z){x={moffold:(0,g.vq)(x),reposseq:u.N1++,prstate:u.NB(),paustate:u.j.g_()};u.Jc.ns(x,z && z.stream,y && y.stream);u.Wc(k.wd.IR,void 0,l.Ze,x);};this.XG=function(x){var y,z,A,B,D;B=x.Fa;D={playdelaysdk:(0,g.xg)(u.j.hX()),applicationPlaydelay:(0,g.xg)(u.j.Roa()),playdelay:(0,g.xg)(u.j.Toa()),trackid:B.Lk,bookmark:(0,g.xg)(B.xy || 0),pbnum:B.index};u.j.ej && (D.blocked=u.j.ej);D.initvbitrate=u.j.XZ;u.Jc.Gua(D);u.Jc.x5a(D);D.esnSource=null === (y=pb._cad_global.device) || void 0 === y?void 0:y.x$;u.E5a(D,B);D.pdltime=(0,f.dK)();(0,g.Ke)(D,B.Hd,{prefix:"sm_"});D.ttTrackFields=null === (z=B.Cc.value) || void 0 === z?void 0:z.Lh;u.Jc.t5a(D,B.Nc.value,B);u.Jc.nQ(D,!0,B.Ug.value,B);D.packageId=null === (A=B.pa) || void 0 === A?void 0:A.Tb.Pq;u.Jc.mQ(D);u.Jc.qba(D,B);u.pK(D);u.Wc(k.wd.XG,x.gj,l.Ze | l.cv | l.dv | l.FH | l.vr,D);};this.NJ=function(){var x,y,z;x=u.j;y=x.Fa;x=x.gj;z=u.Z0();z.paustate=!u.j.ss();z.muted=u.j.hva();z.endreason=x?"error":u.j.ava()?"ended":"stopped";u.Jc.nQ(z,!1,y.Ug.value,y);u.Jc.mQ(z);u.pK(z);u.Wc(k.wd.NJ,x,l.Ze | l.cv | l.dv | l.FH | l.vr,z);};this.Tza=function(x,y,z){var A;A=u.j.Fa.bg;x={moff:(0,g.vq)(z),moffms:(0,g.xg)(z),vdlidold:x.Ec,vbitrateold:x.bitrate};u.Jc.ns(x,y,A.value && A.value.stream);u.Wc(k.wd.Tcb,void 0,0,x);};this.NB=function(){var x;x=u.j.Ob.value;return x === h.zb.$c?"playing":x === h.zb.Rh?"paused":x === h.zb.Vs?"ended":"waiting";};this.Ha=n.Bb("LogblobBuilderImpl");this.j=v;}Object.defineProperty(b,"__esModule",{value:!0});b.gU=void 0;k=a(308);g=a(26);f=a(46);d=a(3);h=a(18);m=a(6);c.prototype.getTime=function(){return this.Ma.ec().ia(m.sa);};c.prototype.Fta=function(){return this.getTime() - this.j.Fa.Ij.ia(m.sa);};c.prototype.E5a=function(n,p){var r;if(p=null === (r=p.Ug.value) || void 0 === r?void 0:r.streams)(n.maxbitrate=(0,f.gT)(p.map(function(t){return t.bitrate;})),n.maxresheight=(0,f.gT)(p.map(function(t){return t.height;})));};c.prototype.pK=function(n){n.cachedManifest="notcached";n.cachedLicense="notcached";n.usedldl="false";};c.prototype.Z0=function(){var n,p,r,t;n=this.j.Fa;p=n.Om;r={totaltime:(0,g.vq)(p.Ry()),totalcontenttime:(0,g.vq)(p.zZ()),reposcount:this.N1,intrplaycount:this.MF};r.playqualvideo=JSON.stringify({numskip:0,numlowqual:0});t=n.Df.value;t && (r.videofr=t.framerate.toFixed(3));(t=p.zsa()) && (r.abrdel=t);(t=p.eba() && p.h2a()) && (r.tw_vmaf=t);(p=p.f2a()) && (0,g.Ke)(r,p);r.rbfrs=this.MF;this.E5a(r,n);return r;};c.prototype.Wc=function(n,p,r,t){var w,v,u;w=this;p && (0,d.aia)(null === p || void 0 === p?void 0:p.errorCode,null === p || void 0 === p?void 0:p.Ea,this.Fta(),void 0) && (v="info");u=this.j.Fa;this.qna(t,p,r);p=v || (p?"error":"info");t=this.hC.Nv(n,p,t,u);this.Cg.Wc(t);"error" !== p && n !== k.wd.NJ || this.Cg.flush(!1).catch(function(){w.Ha.debug("Failed to flush the logblobs");});};c.prototype.qna=function(n,p,r){var t;t=this.j.Fa;this.Jc.w5a(n,t);r & l.Ze && this.Jc.A5a(n,t);r & l.cv && this.Jc.C5a(n,t);r & l.dv && this.Jc.D5a(n,this.j.Xo());p && r & l.FH && this.Jc.y5a(n,t,p);r & l.vr && this.Jc.Gua(n);};b.gU=c;(function(n){n[n.Ze=1]="MOFF";n[n.cv=2]="PRESENTEDSTREAMS";n[n.dv=4]="SCREEN";n[n.FH=8]="FATALERROR";n[n.vr=16]="BROWSERINFO";})(l || (l={}));},function(q,b,a){var k,g,f,d,h,m,l;function c(n,p,r,t,w){this.Cg=n;this.config=p;this.La=r;this.Ma=t;this.rwa=w;}Object.defineProperty(b,"__esModule",{value:!0});b.hU=void 0;q=a(2);k=a(0);g=a(20);f=a(38);d=a(12);h=a(54);m=a(516);l=a(1235);c.prototype.create=function(n){return new l.jU(n,this.Cg,this.config,this.Ma,this.rwa.create(n));};a=c;a=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(h.ro)),q.__param(1,(0,k.u)(d.jd)),q.__param(2,(0,k.u)(f.Wi)),q.__param(3,(0,k.u)(g.Jd)),q.__param(4,(0,k.u)(m.fU))],a);b.hU=a;},function(q,b,a){var k,g,f;function c(d,h,m,l,n){var p;p=this;this.j=d;this.Cg=h;this.config=m;this.Ma=l;this.Lb=n;this.oX=function(){p.Fh();p.j.Fa.xj.removeListener(p.bD);p.j.Fa.Cc.removeListener(p.Lb.Zm);p.j.Fa.Nc.removeListener(p.An);p.j.Fa.Uh.removeListener(p.Lb.MW);p.j.xk.removeListener(p.sbb);p.j.JR.removeListener(p.xl);p.j.Fa.Le.removeListener(p.j1);p.j.Ob.removeListener(p.Ay);p.j.Ob.removeListener(p.OO);p.j.Fa.Df.removeListener(p.H3);p.j.Fa.playbackRate.removeListener(p.Lb.z2);p.j.removeEventListener(f.Qa.closed,p.oX);p.j.removeEventListener(f.Qa.a9,p.Lb.ej);};this.OO=function(){p.j.Ob.value === f.zb.$c && (p.j.Ob.removeListener(p.OO),p.Ow());};this.bD=function(r){p.DC && p.Lb.bD(r);};this.xl=function(r){p.DC && void 0 !== r.newValue && (p.su && p.sr && p.Lb.Iya(p.getTime() - p.sr,p.su),p.su="repos",p.Lb.IR(r.newValue,p.j.Fa.bg.value,p.j.Fa.Le.value),p.sr=p.getTime(),(0,g.wg)(p.Ay));};this.sbb=function(r){p.DC && p.Lb.Uda(!r.newValue);};this.An=function(r){r.oldValue && (p.dC=r.oldValue,p.Lb.An(r),p.su="repos",p.sr=p.getTime(),(0,g.wg)(p.Ay));};this.Ay=function(){var r;if(p.sr && p.j.Ob.value !== f.zb.tg){r=p.getTime() - p.sr;p.Lb.OR(r,!1,p.su);p.dC && p.dC != p.j.Fa.Nc.value && p.Lb.koa();p.sr=void 0;p.su=void 0;}};this.Ow=function(){p.DC || (p.DC=!0,p.Lb.XG(p.j),p.Pua(),p.config().xba && (p.$B=pb.setTimeout(function(){p.Cg.flush(!1).catch(function(){return p.log.warn("failed to flush log batcher on initialLogFlushTimeout");});p.$B=void 0;},p.config().xba)));};this.Fh=function(){p.$B && (pb.clearTimeout(p.$B),p.$B=void 0);p.q3 && p.q3();p.DC?p.Lb.NJ():p.j.gj?p.Lb.XG(p.j):p.Lb.Jya();};this.H3=function(r){r.oldValue && r.Kn && r.Kn.sJ && p.Lb.QO(r.oldValue,r.newValue,r.Kn.sJ,r.Kn.VW);};this.j1=function(r){var t;if(r.newValue){t=r.newValue.stream;p.BK != t && (p.BK && t && p.Lb.Tza(p.BK,t,r.newValue.Dn.startTime),p.BK=t);}};this.zfa();}Object.defineProperty(b,"__esModule",{value:!0});b.jU=void 0;k=a(6);g=a(62);f=a(18);c.prototype.zfa=function(){this.j.addEventListener(f.Qa.closed,this.oX);this.j.addEventListener(f.Qa.a9,this.Lb.ej);this.j.Fa.xj.addListener(this.bD);this.j.Fa.Cc.addListener(this.Lb.Zm);this.j.Fa.Nc.addListener(this.An);this.j.Fa.Uh.addListener(this.Lb.MW);this.j.xk.addListener(this.sbb);this.j.JR.addListener(this.xl);this.j.Fa.Le.addListener(this.j1);this.j.Ob.addListener(this.Ay);this.j.Ob.addListener(this.OO);this.j.Fa.Df.addListener(this.H3);this.j.Fa.playbackRate.addListener(this.Lb.z2);};c.prototype.getTime=function(){return this.Ma.ec().ia(k.sa);};c.prototype.Pua=function(){var d,h,m;d=this;m=[];this.config().y9a && (this.config().z9a.forEach(function(l){m.push(pb.setTimeout(d.Lb.aG,l));}),this.config().Tca && (h=pb.setInterval(this.Lb.aG,this.config().Tca)),this.q3=function(){m.forEach(function(l){pb.clearTimeout(l);});h && pb.clearInterval(h);});};b.jU=c;},function(q,b,a){var c,k,g,f;Object.defineProperty(b,"__esModule",{value:!0});b.$L=void 0;q=a(0);c=a(1237);k=a(1238);g=a(517);f=a(518);b.$L=new q.Nd(function(d){d(f.IQa).to(c.HQa);d(g.FQa).$m(new k.EQa());d(f.GQa).Tf(function(h){return function(){return h.hb.get(f.IQa);};});});},function(q,b,a){var k,g,f,d;function c(h){this.config=h;this.vBa=g.ib;this.fS=[];}Object.defineProperty(b,"__esModule",{value:!0});b.HQa=void 0;q=a(2);k=a(0);g=a(55);f=a(6);a=a(517);c.prototype.Yo=function(){var m;for(var h;0 < this.fS.length;){h=this.fS.shift();this.bVa(h);}h=void 0 === this.jY || void 0 === this.IJ?f.ib:this.IJ.Ia(this.jY);m=h.U6a()?0:this.vBa.ia(g.zH) / h.ia(f.sa);return {lCa:Math.floor(m),Pfc:h.ia(f.sa)};};c.prototype.pxb=function(h){this.vBa=this.vBa.add(h.size);this.fS.push(h.vHb);for(this.fS.sort(function(m,l){return m.start.zm(l.start);});this.fS.length > this.config.wHb;){h=this.fS.shift();this.bVa(h);}};c.prototype.bVa=function(h){void 0 === this.jY && (this.jY=h.start);void 0 !== this.IJ && 0 > this.IJ.zm(h.start) && (this.jY=this.jY.add(h.start.Ia(this.IJ)));if(void 0 === this.IJ || 0 > this.IJ.zm(h.end))this.IJ=h.end;};d=c;d=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(a.FQa))],d);b.HQa=d;},function(q,b,a){function c(k){this.wHb=void 0 === k?10:k;}Object.defineProperty(b,"__esModule",{value:!0});b.EQa=void 0;q=a(2);a=a(0);c=q.__decorate([(0,a.X)()],c);b.EQa=c;},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r,t,w,v,u,x,y,z,A,B,D,C;Object.defineProperty(b,"__esModule",{value:!0});b.Qo=void 0;q=a(0);c=a(30);k=a(12);g=a(1240);f=a(170);d=a(171);h=a(1241);m=a(309);l=a(1242);n=a(519);p=a(520);r=a(1243);t=a(11);w=a(525);v=a(1247);u=a(526);x=a(1248);y=a(314);z=a(1249);A=a(527);B=a(42);D=a(524);C=a(1250);b.Qo=new q.Nd(function(F){F(d.JU).to(h.WPa).ha();F(c.cA).to(g.kGa).ha();F(m.uJa).to(l.tJa).ha();F(p.lFa).to(r.kFa).ha();F(m.wNa).$m({isTypeSupported:t.HD && t.HD.isTypeSupported});F(n.AHa).fH(function(G){return {mMb:function(){return G.hb.get(B.c6);}};});F(f.zM).fH(function(G){return G.hb.get(k.jd);});F(w.VKa).to(v.SKa).ha();F(D.RKa).to(C.QKa).ha();F(u.UKa).to(x.TKa).ha();F(y.eia).to(z.zHa).ha();F(A.MOa).$m(pb);});},function(q,b,a){var k,g,f,d,h,m;function c(l,n,p){this.config=l;this.yXa=n;this.oZb=p;this.U_b=this.kFb();}Object.defineProperty(b,"__esModule",{value:!0});b.kGa=void 0;q=a(2);k=a(30);g=a(170);f=a(0);d=a(45);h=a(519);a=a(520);c.prototype.m4a=function(l){return this.c2a().n4a(l);};c.prototype.o4a=function(l){return this.ow().n4a(l);};c.prototype.c2a=function(){this.foa && this.foa.type == this.config().goa || (this.foa=this.yXa.vEb(this.config().goa));return this.foa;};c.prototype.ow=function(){this.uga && this.uga.type == this.config().vga || (this.uga=this.yXa.yFb(this.config().vga),this.uga.sna(this.oZb.mMb()));return this.uga;};c.prototype.zMb=function(l){var r;if(!l || !l.length)return k.Ff.Q4;l=this.bKb(l);for(var n=[k.Ff.FU,k.Ff.Q4,k.Ff.MU,k.Ff.HM,k.Ff.Ex,k.Ff.oD,k.Ff.VD,k.Ff.lm],p=n.length;p--;){r=n[p];if((0,this.U_b[r])(l))return r;}return k.Ff.FU;};c.prototype.WL=function(l){return this.ow().WL(l);};c.prototype.rJ=function(l){return this.ow().rJ(l);};c.prototype.TP=function(){return this.ow().TP();};c.prototype.qaa=function(){return this.ow().qaa();};c.prototype.O2=function(){return this.ow().O2();};c.prototype.M2=function(){return this.c2a().M2();};c.prototype.Lfa=function(){return this.ow().Lfa();};c.prototype.P2=function(){return this.ow().P2();};c.prototype.XY=function(l){return this.ow().XY(l);};c.prototype.tZ=function(){return this.ow().tZ();};c.prototype.Faa=function(){return this.ow().Faa();};c.prototype.bKb=function(l){var n;n={};l.filter(function(p){return "video" === p.type;}).forEach(function(p){n[p.ef]="";});return Object.keys(n);};c.prototype.kFb=function(){var l;l={};l[k.Ff.lm]=function(n){return n.some(function(p){return -1 < p.indexOf("av1");});};l[k.Ff.oD]=function(n){return n.some(function(p){return -1 < p.indexOf("hpl");});};l[k.Ff.VD]=function(n){return n.some(function(p){return -1 < p.indexOf("vp9");});};l[k.Ff.Ex]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-dv");});};l[k.Ff.HM]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-hdr");});};l[k.Ff.MU]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-main10-L") || -1 < p.indexOf("hevc-main-L");});};l[k.Ff.Q4]=(function(n,p){var r;r={};n.forEach(function(t){return r[t]=1;});n=ra(p);for(p=n.next();!p.done;p=n.next()){if(r[p.value])return !0;}return !1;}).bind(null,[d.H.HH]);l[k.Ff.FU]=function(){return !0;};return l;};m=c;m=q.__decorate([(0,f.X)(),q.__param(0,(0,f.u)(g.zM)),q.__param(1,(0,f.u)(a.lFa)),q.__param(2,(0,f.u)(h.AHa))],m);b.kGa=m;},function(q,b,a){var k,g,f,d,h,m,l,n;function c(p,r,t){this.Qo=p;this.Mb=r;this.Vfb=t;this.Rwb="video/mp4;codecs={0}";this.Grb="audio/mp4;codecs={0}";p=this.Qo.XY(g.Ff.Ex);this.Qwb=d.$d.xZa(p);}Object.defineProperty(b,"__esModule",{value:!0});b.WPa=void 0;q=a(2);g=a(30);f=a(0);d=a(129);h=a(31);m=a(223);l=a(521);n=a(16);c.prototype.J9=function(p){p=this.Qo.zMb(p);p=this.Mb.FJ(p)?p:g.Ff.FU;return this.Vfb.format(this.Rwb,this.Qwb[p]);};c.prototype.D9=function(p){if(0 === p.length)return this.Vfb.format(this.Grb,d.$d.Lga);p=l.pEa[p[0].ef] || k.vDa;return p === k.vDa?n.K5:p === k.Gjb?n.vKa:n.uKa;};a=k=c;a.vDa="AAC";a.Gjb="XHEAAC";a=k=q.__decorate([(0,f.X)(),q.__param(0,(0,f.u)(g.cA)),q.__param(1,(0,f.u)(h.Wg)),q.__param(2,(0,f.u)(m.Cka))],a);b.WPa=a;},function(q,b,a){var k,g,f,d,h;function c(m,l){this.config=m;this.oGb=l;}Object.defineProperty(b,"__esModule",{value:!0});b.tJa=void 0;q=a(2);k=a(0);g=a(309);f=a(170);d=a(30);h=a(310);c.prototype.nZa=function(){switch(this.config().vga){case d.pm.oA:return h.ED.TEb();default:return this.oGb;}};a=c;a=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(f.zM)),q.__param(1,(0,k.u)(g.wNa))],a);b.tJa=a;},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t,w,v,u,x,y,z;function c(A,B,D,C,F,G,E,I,K,L){this.Q6a=A;this.config=B;this.bd=D;this.La=C;this.is=F;this.Kq=G;this.au=E;this.platform=I;this.Dc=K;this.rC=L;}Object.defineProperty(b,"__esModule",{value:!0});b.kFa=void 0;q=a(2);k=a(0);g=a(30);f=a(309);d=a(170);h=a(1244);m=a(1245);l=a(313);n=a(522);p=a(53);r=a(38);t=a(31);w=a(1246);v=a(80);u=a(7);x=a(49);y=a(36);a=a(524);c.prototype.vEb=function(A){var B;B=this.Q6a.nZa();switch(A){case g.Ax.oA:return new h.uLa(this.config,B,this.is,this.platform,this.rC);default:return new n.F4(this.config,B,this.rC);}};c.prototype.yFb=function(A){var B;B=this.Q6a.nZa();switch(A){case g.pm.xM:A=new w.tFa(this.config,B,this.is,this.Kq,this.au,this.La,this.rC);break;case g.pm.oA:A=new m.zKa(this.config,B,this.is,this.bd,this.La,this.au,this.Dc,this.rC,this.Kq);break;default:A=new l.Gx(this.config,B,this.is,this.rC);}return A;};z=c;z=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(f.uJa)),q.__param(1,(0,k.u)(d.zM)),q.__param(2,(0,k.u)(p.Rk)),q.__param(3,(0,k.u)(r.Wi)),q.__param(4,(0,k.u)(t.Wg)),q.__param(5,(0,k.u)(v.Mx)),q.__param(6,(0,k.u)(u.Ib)),q.__param(7,(0,k.u)(x.Kp)),q.__param(8,(0,k.u)(y.Vi)),q.__param(9,(0,k.u)(a.RKa))],z);b.kFa=z;},function(q,b,a){var k,g,f,d,h;function c(m,l,n,p,r){m=d.F4.call(this,m,l,r) || this;m.is=n;m.platform=p;m.type=k.Ax.oA;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.uLa=void 0;k=a(30);g=a(45);f=a(101);d=a(522);h=a(310);na(c,d.F4);c.prototype.M2=function(){return Promise.resolve(this.config().tP && this.iB(f.Kb.sA,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};c.prototype.Ft=function(){var m,l;m={};m=(m[g.ke.IH]="mp4a.40.2",m[g.ke.JH]="mp4a.40.2",m);if("browser" === this.platform.Fqa){l={};return Object.assign(Object.assign({},m),(l[g.ke.yT]=this.config().tP?{hg:"avc1",keySystem:f.Kb.sA,features:["audio-endpoint-codec=DD+JOC"]}:void 0,l[g.ke.zT]=this.config().tP?{hg:"avc1",keySystem:f.Kb.sA,features:["audio-endpoint-codec=DD+JOC"]}:void 0,l[g.ke.i5]=void 0,l[g.ke.yA]=void 0,l[g.ke.r4]=void 0,l));}l={};return Object.assign(Object.assign({},m),(l[g.ke.yT]=this.config().k0a?"ec-3":void 0,l[g.ke.r4]=this.config().j0a?"ec-3":void 0,l[g.ke.zT]=this.config().tP?{hg:"avc1",keySystem:f.Kb.sA,features:["audio-endpoint-codec=DD+JOC"]}:void 0,l[g.ke.i5]=void 0,l[g.ke.yA]=void 0,l));};c.prototype.Hy=function(m){var l,n,p;m=this.p1[m];l=[];n=f.Kb.sA;if(m){if(this.is.uv(m))p=m;else (l=m.features,p=m.hg,n=m.keySystem);return this.iB(n,p,l)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"ms-can-present-codec-with-features"});}return Promise.resolve({supported:!1,reason:"ms-no-properties"});};c.prototype.iB=function(m,l,n){m=h.ED.F9(m,l,n);return this.rJ(m);};b.uLa=c;},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t,w,v,u,x,y,z,A,B,D,C;function c(F,G,E,I,K,L,H,P,N){F=g.Gx.call(this,F,G,E,P) || this;F.bd=I;F.La=K;F.au=L;F.Dc=H;F.rC=P;F.Kq=N;F.type=f.pm.oA;F.wT="hvc1";F.Mkb="avc1";F.abb={};F.log=F.au.Bb("MicrosoftVideoCapabilityDetector");F.f5b();F.N2 && F.config().vVb?F.T_a=F.NEb():(F.T_a=Promise.resolve(""),F.config().xVb?F.REb():F.config().wVb && F.QEb());return F;}Object.defineProperty(b,"__esModule",{value:!0});b.zKa=void 0;k=a(45);g=a(313);f=a(30);q=a(131);d=a(101);h=a(6);m=a(376);l=a(129);n=a(310);p=a(50);r=a(311);t=("decode-res-x=1920 decode-res-y=1080 decode-bpc=8 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8").split(" ");w=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8").split(" ");v=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8").split(" ");u=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1").split(" ");x=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1").split(" ");y=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");z=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");A=["hdcp=1"];B=["hdcp=2"];D=new q.jI();C=new m.nha();na(c,g.Gx);c.prototype.XY=function(F){return F === f.Ff.Ex && this.config().B8b?l.$d.mia:g.Gx.prototype.XY.call(this,F);};c.prototype.WL=function(F){switch(F){case f.yr.I5:return this.jgb();case f.yr.QH:return this.r1;default:return Promise.resolve(!1);}};c.prototype.TP=function(){var G;function F(){return G.N2?G.$Pb?G.jgb().then(function(E){return Promise.resolve(E?d.Kb.te:d.Kb.cI);}):Promise.resolve(d.Kb.cI):G.b6b?Promise.resolve(d.Kb.cI):Promise.resolve(d.Kb.sA);}G=this;this.keySystem || (this.keySystem=this.config().Ju?this.Kq.LB().then(function(E){return E.keySystem;}):F());return this.keySystem;};c.prototype.qaa=function(){return this.T_a;};c.prototype.O2=function(){return Promise.resolve({result:this.igb(),reason:"is-type-supported"});};c.prototype.P2=function(){return this.N2 && this.lgb()?this.r1:Promise.resolve(!1);};c.prototype.Lfa=function(){return Promise.resolve(this.hgb()).then(function(F){return {result:F,reason:"isTypeSupportedWithFeatures"};});};c.prototype.sna=function(F){this.Cs=F;Object.assign(this.Cs,this.abb);F.itshwdrm=this.N2;F.itsqhd=this.kgb();F.itshevc=this.lgb();F.itshdr=this.igb();F.itsdv=this.hgb();F.itsav1=this.Z5b();this.NCa();};c.prototype.vW=function(F,G){(this.Cs?this.Cs:this.abb)[F]=G;};c.prototype.tZ=function(){var F;F=this;return this.WL(f.yr.QH).then(function(G){return G?F.E9(f.yr.QH):F.WL(f.yr.I5).then(function(E){return E?F.E9(f.yr.I5):F.E9(void 0);});});};c.prototype.Faa=function(){return this.config().Ju?Promise.resolve(void 0):this.TP().then(function(F){return F === d.Kb.te?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};c.prototype.Hy=function(F){var G;G=this;return this.TP().then(function(E){var I,K,L;if(G.rva(E,F))return {supported:!1,reason:"ms-restricted"};I=G.p1[F];if(I){K=[];if(G.is.uv(I))L=I;else (K=I.features,L=I.hg,E=I.keySystem);return G.iB(E,L,K)?{supported:!0}:{supported:!1,reason:"ms-can-present-codec-with-features"};}return {supported:!1,reason:"ms-no-properties"};});};c.prototype.Ft=function(){var F;F=g.Gx.prototype.Ft.call(this);F[k.H.G6]=F[k.H.RU]=F[k.H.QU]=F[k.H.Mka]={hg:"vp09.00.11.08.02",keySystem:d.Kb.te,features:t};F[k.H.m5]=F[k.H.l5]=F[k.H.k5]={hg:"hev1.2.6.L90.B0",keySystem:d.Kb.te,features:w};F[k.H.p5]=F[k.H.o5]=F[k.H.n5]={hg:"hev1.2.6.L93.B0",keySystem:d.Kb.te,features:w};F[k.H.s5]=F[k.H.r5]=F[k.H.q5]={hg:"hev1.2.6.L120.B0",keySystem:d.Kb.te,features:w};F[k.H.v5]=F[k.H.u5]=F[k.H.t5]={hg:"hev1.2.6.L123.B0",keySystem:d.Kb.te,features:w};F[k.H.x5]=F[k.H.RT]=F[k.H.w5]={hg:"hev1.2.6.L150.B0",keySystem:d.Kb.te,features:w};F[k.H.z5]=F[k.H.ST]=F[k.H.y5]={hg:"hev1.2.6.L153.B0",keySystem:d.Kb.te,features:w};F[k.H.T4]=F[k.H.S4]=F[k.H.R4]={hg:"hev1.2.6.L90.B0",keySystem:d.Kb.te,features:u};F[k.H.W4]=F[k.H.V4]=F[k.H.U4]={hg:"hev1.2.6.L93.B0",keySystem:d.Kb.te,features:u};F[k.H.Y4]=F[k.H.PT]=F[k.H.X4]={hg:"hev1.2.6.L120.B0",keySystem:d.Kb.te,features:u};F[k.H.b5]=F[k.H.a5]=F[k.H.Z4]={hg:"hev1.2.6.L123.B0",keySystem:d.Kb.te,features:x};F[k.H.e5]=F[k.H.d5]=F[k.H.c5]={hg:"hev1.2.6.L150.B0",keySystem:d.Kb.te,features:x};F[k.H.h5]=F[k.H.g5]=F[k.H.f5]={hg:"hev1.2.6.L153.B0",keySystem:d.Kb.te,features:x};F[k.H.u4]=F[k.H.t4]={hg:"hev1.2.6.L90.B0",keySystem:d.Kb.te,features:y};F[k.H.w4]=F[k.H.v4]={hg:"hev1.2.6.L93.B0",keySystem:d.Kb.te,features:y};F[k.H.x4]=F[k.H.Nha]=F[k.H.AT]={hg:"hev1.2.6.L120.B0",keySystem:d.Kb.te,features:y};F[k.H.z4]=F[k.H.Oha]=F[k.H.y4]={hg:"hev1.2.6.L123.B0",keySystem:d.Kb.te,features:z};F[k.H.B4]=F[k.H.Pha]=F[k.H.A4]={hg:"hev1.2.6.L150.B0",keySystem:d.Kb.te,features:z};F[k.H.D4]=F[k.H.Qha]=F[k.H.C4]={hg:"hev1.2.6.L153.B0",keySystem:d.Kb.te,features:z};F[k.H.mD]={hg:"av01.0.04M.10",keySystem:d.Kb.te,features:t};F[k.H.nD]={hg:"av01.0.05M.10",keySystem:d.Kb.te,features:t};F[k.H.Y3]={hg:"av01.0.08M.10",keySystem:d.Kb.te,features:t};F[k.H.Z3]={hg:"av01.0.09M.10",keySystem:d.Kb.te,features:t};F[k.H.a4]={hg:"av01.0.12M.10",keySystem:d.Kb.te,features:v};F[k.H.b4]={hg:"av01.0.13M.10",keySystem:d.Kb.te,features:v};return F;};c.prototype.iB=function(F,G,E){F=n.ED.F9(F,G,E);return this.rJ(F);};c.prototype.kgb=function(){return this.iB(d.Kb.te,this.wT,w);};c.prototype.igb=function(){return this.iB(d.Kb.te,this.wT,u);};c.prototype.hgb=function(){return this.iB(d.Kb.te,this.wT,y);};c.prototype.Z5b=function(){return this.iB(d.Kb.te,l.$d.lm,t);};c.prototype.lgb=function(){return this.iB(d.Kb.te,this.wT,v);};c.prototype.jgb=function(){var F;F=this;return this.r1.then(function(G){return G?Promise.resolve(G):F.Ubb;});};c.prototype.NCa=function(){this.Cs && (this.Cs.itshdcp=JSON.stringify({hdcp1:this.U4a,time1:this.Dgb - this.yfb,hdcp2:this.V4a,time2:this.Egb - this.zfb}));};c.prototype.f5b=function(){var F;F=this;this.N2?(this.r1=this.R3a(this.config().x9a,this.config().zVb,function(){var G;G=F.xMb();return ["maybe" !== G,G];}).then(function(G){return "probably" === G;}),this.Ubb=this.r1.then(function(G){return G?!0:F.R3a(F.config().x9a,F.config().yVb,function(){var E;E=F.wMb();return ["maybe" !== E,E];}).then(function(E){return "probably" === E;});})):(this.Ubb=Promise.resolve(!0),this.r1=Promise.resolve(!1));};c.prototype.R3a=function(F,G,E){var I;I=this;return new Promise(function(K){var L,H,P,N;L=ra(E());H=L.next().value;L=L.next().value;if(H)return K(L);P=I.bd.bfa((0,h.Vc)(F),function(){var J,M;J=ra(E());M=J.next().value;J=J.next().value;M && (P.cancel(),N.cancel(),K(J));});N=I.bd.Al((0,h.Vc)(G),function(){P.cancel();N.cancel();K("timeout");});});};c.prototype.wMb=function(){var F;F=n.ED.F9(d.Kb.cI,this.Mkb,A).split("|");this.U4a=n.ED.bCa(F[0],F[1]);this.Dgb=this.La.Nf.ia(h.sa);this.yfb=this.yfb || this.Dgb;this.NCa();return this.U4a;};c.prototype.xMb=function(){var F;F=n.ED.F9(d.Kb.te,this.wT,B).split("|");this.V4a=n.ED.bCa(F[0],F[1]);this.Egb=this.La.Nf.ia(h.sa);this.zfb=this.zfb || this.Egb;this.NCa();return this.V4a;};c.prototype.NEb=function(){var F;F=this;return this.$pa(d.Kb.te,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>' + (p.jMa + "</ServerCert></DriverInfo></PlayReadyCDMData>")).then(function(G){F.log.debug("DriverInfo: " + G);return G;}).catch(function(G){F.vW("itsDriverInfo","exception");F.log.error("DriverInfo exception",G);throw G;});};c.prototype.QEb=function(){var F;F=this;this.$pa(d.Kb.sA,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(G){var E;E=String.fromCharCode.apply(void 0,F.Dc.decode(G));F.vW("itsHardwareInfo",E);F.log.debug("HardwareInfo: " + E);return G;}).catch(function(G){F.vW("itsHardwareInfo","exception");F.log.error("HardwareInfo exception",G);throw G;});};c.prototype.REb=function(){var F;F=this;this.$pa(d.Kb.sA,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(G){var E;E=String.fromCharCode.apply(void 0,F.Dc.decode(G));F.vW("itsHardwareReset",E);F.log.debug("ResetHardwareDRMDisabled: " + E);return G;}).catch(function(G){F.vW("itsHardwareReset","exception");F.log.error("ResetHardwareDRMDisabled exception",G);throw G;});};c.prototype.$pa=function(F,G){var E;E=this;return new Promise(function(I,K){var M,O,Q;function L(T){try{N(T.target,"Unexpectedly got an mskeyerror event: 0x" + C.UJ(T && T.target && T.target.error && T.target.error.Fjc || 0,4));}catch(V){N(T.target,V);}}function H(T){N(T.target,"Unexpectedly got an mskeyadded event");}function P(T){var V;try{V=E.Cra(T.message,"PlayReadyKeyMessage","Challenge");J(T.target);I(V);}catch(da){N(T.target,da);}}function N(T,V){E.log.error("PlayReadyChallenge error",{cdmData:G});J(T);K(V);}function J(T){T.removeEventListener("mskeymessage",P);T.removeEventListener("mskeyadded",H);T.removeEventListener("mskeyerror",L);Q && Q.cancel();}try{M=new Uint8Array(D.Tfb(G));O=new pb.MSMediaKeys(F).createSession("video/mp4",new Uint8Array(0),M);O.addEventListener("mskeymessage",P);O.addEventListener("mskeyadded",H);O.addEventListener("mskeyerror",L);Q=E.bd.Al((0,h.Vc)(1E3),function(){N(O,Error("timeout"));});}catch(T){K(T);}});};c.prototype.Cra=function(F,G){var I,K,L;for(var E=1;E < arguments.length;++E){;}E="";K=F.length;for(I=0;I < K;I++){L=F[I];0 < L && (E+=String.fromCharCode(L));}K="\\s*(.*)\\s*";for(I=arguments.length - 1;0 < I;I--){L=arguments[I];if(0 > E.search(L))return;L="(?:[^:].*:|)" + L;K="[\\s\\S]*<" + L + "[^>]*>" + K + "</" + L + ">[\\s\\S]*";}if(E=E.match(new RegExp(K)))return E[1];};c.prototype.rva=function(F,G){return [r.Vg.oD,r.Vg.VD].some(function(E){return E.test(G);}) && this.config().hxa && ![d.Kb.cI,d.Kb.DNa].some(function(E){return E === F;});};Ya.Object.defineProperties(c.prototype,{$Pb:{configurable:!0,enumerable:!0,get:function(){return this.config().n0a && (!this.config().AVb || this.kgb());}},N2:{configurable:!0,enumerable:!0,get:function(){try{return this.rJ(d.Kb.te + "|" + l.$d.kxa);}catch(F){return !1;}}},b6b:{configurable:!0,enumerable:!0,get:function(){try{return this.rJ(d.Kb.cI);}catch(F){return !1;}}}});b.zKa=c;},function(q,b,a){var k,g,f,d,h;function c(m,l,n,p,r,t,w){m=k.Gx.call(this,m,l,n,w) || this;m.Kq=p;m.au=r;m.La=t;m.rC=w;m.type=g.pm.xM;m.log=m.au.Bb("ChromeVideoCapabilityDetector");return m;}Object.defineProperty(b,"__esModule",{value:!0});b.tFa=void 0;k=a(313);g=a(30);f=a(6);d=a(50);h=a(311);na(c,k.Gx);c.prototype.WL=function(m){switch(m){case g.yr.QH:return this.$5b;default:return Promise.resolve(!1);}};c.prototype.tZ=function(){var m;m=this;return this.WL(g.yr.QH).then(function(l){return l?g.yr.QH:void 0;}).then(function(l){return m.E9(l);});};c.prototype.sna=function(m){this.Cs=m;};c.prototype.Hy=function(m){var l;l=this;return this.config().hxa?this.Kq.LB().then(function(n){return l.rva((0,d.Aaa)(n),m)?{supported:!1,reason:"mcclearen-restricted"}:k.Gx.prototype.Hy.call(l,m);}):k.Gx.prototype.Hy.call(this,m);};c.prototype.jSb=function(m){var l;return !(null === (l=m.getConfiguration().videoCapabilities) || void 0 === l || !l.some(function(n){return (null === n || void 0 === n?void 0:n.robustness) === d.LH;}));};c.prototype.Uhb=function(){var m;if(this.Cs){m=this.W4a && this.Y4a && this.W4a.Ia(this.Y4a).ia(f.sa);this.Cs.itshdcp=JSON.stringify({hdcp2:this.tw,time2:m});}};c.prototype.rva=function(m,l){return [h.Vg.oD,h.Vg.VD].some(function(n){return n.test(l);}) && this.config().hxa && m === d.LH;};Ya.Object.defineProperties(c.prototype,{mediaKeys:{configurable:!0,enumerable:!0,get:function(){this.q9a || (this.q9a=this.Kq.LB().then(function(m){return m.createMediaKeys();}));return this.q9a;}},$5b:{configurable:!0,enumerable:!0,get:function(){var m;m=this;this.cCa || (this.config().gIb?this.cCa=Promise.all([this.Kq.LB(),this.mediaKeys]).then(function(l){var n;n=ra(l);l=n.next().value;n=n.next().value;if(!m.jSb(l))return (m.tw="not HW_SECURE_ALL",m.log.trace("hdcpStatus: " + m.tw),!1);if(n && n.getStatusForPolicy)return (m.Y4a=m.La.Nf,n.getStatusForPolicy({minHdcpVersion:"2.2"}).then(function(p){m.W4a=m.La.Nf;m.tw=p;m.log.trace("hdcpStatus: " + m.tw);return "usable" === m.tw;}));m.tw="not available";m.log.trace("hdcpStatus: " + m.tw);return !1;}).catch(function(l){m.tw="exception";m.log.error("Exception in supportsHdcpLevel",{hdcpStatus:m.tw},l);return !1;}).then(function(l){m.Uhb();return l;}):(this.tw="not enabled",this.log.trace("hdcpStatus: " + this.tw),this.Uhb(),this.cCa=Promise.resolve(!1)));return this.cCa;}}});b.tFa=c;},function(q,b,a){var k,g;function c(f){this.navigator=f;this.n9a=("mediaCapabilities" in this.navigator) && ("decodingInfo" in this.navigator.mediaCapabilities);}Object.defineProperty(b,"__esModule",{value:!0});b.SKa=void 0;q=a(2);k=a(0);a=a(42);c.prototype.Gra=function(f){return this.n9a?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:f.contentType,width:f.width,height:f.height,bitrate:f.bitrate,framerate:f.framerate}}).then(function(d){return {supported:d.supported,smooth:d.smooth,powerEfficient:d.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};g=c;g=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(a.WM))],g);b.SKa=g;},function(q,b,a){var k,g,f,d;function c(h,m){this.mediaCapabilities=h;this.log=m.Bb("MediaCapabilities");this.p1=d.G4.Ft();}Object.defineProperty(b,"__esModule",{value:!0});b.TKa=void 0;q=a(2);k=a(525);g=a(7);f=a(0);d=a(307);c.prototype.Gra=function(h){var m,l,n,p;m=this;n={dd:void 0};if(this.mediaCapabilities.n9a){p={contentType:'video/mp4;codecs="' + (null !== (l=this.p1[h.ef]) && void 0 !== l?l:"avc1.640028") + '"',width:h.width,height:h.height,bitrate:1E3 * h.bitrate,framerate:24};this.mediaCapabilities.Gra(p).then(function(r){return n.dd=Object.assign(Object.assign({},r),p);}).catch(function(r){return m.log.error("Error calling MediaCapabilities API",r);});}return n;};a=c;a=q.__decorate([(0,f.X)(),q.__param(0,(0,f.u)(k.VKa)),q.__param(1,(0,f.u)(g.Ib))],a);b.TKa=a;},function(q,b,a){var k,g,f;function c(d){this.v_b=d;}Object.defineProperty(b,"__esModule",{value:!0});b.zHa=void 0;q=a(2);k=a(0);g=a(314);a=a(527);c.prototype.AJb=function(){var d,h;d={EP:g.iA.Wqb};try{h=this.v_b.PresentationRequest;h && (new h("https://netflix.com").getAvailability() || Promise.reject()).then(function(m){var l;d.EP=m.value?g.iA.LOa:g.iA.yDa;if(d.EP === g.iA.yDa){l=function(){m.value && (d.EP=g.iA.LOa);m.removeEventListener("change",l);};m.addEventListener("change",l);}}).catch(function(){d.EP=g.iA.Error;});}catch(m){d.EP=g.iA.Error;}return d;};f=c;f=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(a.MOa))],f);b.zHa=f;},function(q,b,a){var k,g,f,d,h,m,l,n,p;function c(r,t,w,v){this.config=r;this.navigator=t;this.au=w;this.ZF=v;this.type=g.pm.Fx;this.kWa={};this.Iib={};this.Dna={};this.log=this.au.Bb("MediaCapabilityDetector");this.kWa=this.uEb();this.Iib=this.xFb();}Object.defineProperty(b,"__esModule",{value:!0});b.QKa=void 0;q=a(2);k=a(0);g=a(30);f=a(45);d=a(7);h=a(42);m=a(80);l=a(170);n=a(50);p=a(11);c.prototype.Hy=function(r){var t;t=this;return this.ZF.LB().then(function(w){return t.NJb(r,w);}).catch(function(){return {supported:!1,reason:"mc-ksa-exception"};});};c.prototype.BRb=function(r){return ! !r.colorGamut || ! !r.hdrMetadataType || ! !r.transferFunction;};c.prototype.dva=function(){return pb.matchMedia("(dynamic-range: high)").matches;};c.prototype.NJb=function(r,t){var w,v,u;try{w={type:"media-source"};v=this.kWa[r];u=this.Iib[r];if(v)w.audio=v;else if(u){w.video=u;if(this.BRb(u) && !this.dva())return Promise.resolve({supported:!1,reason:"mc-non-hdr-display"});t && (w.keySystemConfiguration=this.LMb(t));}else return Promise.resolve({supported:!1,reason:"mc-missing-config"});return Promise.all([this.jBb(w),this.gBb((v || u).contentType)]).then(function(x){var y;y=ra(x);x=y.next().value;y=y.next().value;return x?y?{supported:!0}:{supported:!1,reason:"mc-add-source-buffer"}:{supported:!1,reason:"mc-decoding-info"};});}catch(x){return (this.log.error("mediaCapabilitiesIsTypeSupported failed",x),Promise.resolve({supported:!1,reason:"mc-exception"}));}};c.prototype.jBb=function(r){var t;t=this;return this.navigator.mediaCapabilities.decodingInfo(r).then(function(w){var v;w.configuration || (w.configuration=r);v=t.aSb(r,w);v?t.log.trace("mediaCapabilities.decodingInfo: " + JSON.stringify(w)):t.log.warn("mediaCapabilities.decodingInfo: " + JSON.stringify(w));return v;}).catch(function(w){t.log.error("mediaCapabilities.decodingInfo failed",w);return !1;});};c.prototype.gBb=function(r){var t;t=this;if(!this.config().pIb)return Promise.resolve(!0);this.Dna[r] || (this.Dna[r]=new Promise(function(w){var v;try{v=new p.HD();document.createElement("video").src=URL.createObjectURL(v);v.addEventListener("sourceopen",function(){try{v.addSourceBuffer(r);t.log.trace("addSourceBuffer succeeded for " + r);w(!0);}catch(u){t.log.warn("addSourceBuffer failed",u);w(!1);}});}catch(u){t.log.warn("addSourceBuffer failed",u);w(!1);}}));return this.Dna[r];};c.prototype.LMb=function(r){this.keySystemConfiguration || (this.keySystemConfiguration={keySystem:r.keySystem},(r=(0,n.Aaa)(r)) && (this.keySystemConfiguration.video={robustness:r}));return this.keySystemConfiguration;};c.prototype.uEb=function(){var r,t;r={};t={contentType:"audio/mp4;codecs=mp4a.40.2"};r[f.ke.IH]=t;r[f.ke.i5]=t;r[f.ke.JH]=t;r[f.ke.yA]=t;t={contentType:"audio/mp4;codecs=ec-3"};r[f.ke.yT]=t;r[f.ke.r4]=t;r[f.ke.zT]=t;return r;};c.prototype.xFb=function(){var r,t,w,v,u,x,y,z,A,B,D,C,F,G,E,I,K,L,H,P;r={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};t={contentType:'video/mp4; codecs="dvh1.05.04"'};w={width:1920,height:1080};v={width:3840,height:2160};u=Object.assign(Object.assign({},w),{bitrate:12E6,framerate:30});x=Object.assign(Object.assign({},w),{bitrate:2E7,framerate:60});y=Object.assign(Object.assign({},v),{bitrate:25E6,framerate:30});z=Object.assign(Object.assign({},v),{bitrate:4E7,framerate:60});A={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};B={hdrMetadataType:"smpteSt2094-10",colorGamut:"rec2020",transferFunction:"pq"};v=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.4D4028"'}),u);w=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),u);D=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="vp09.02.31.10.01"'}),u);C=Object.assign(Object.assign({},r),u);F=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),x);G=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),y);E=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),z);I=Object.assign(Object.assign(Object.assign({},r),u),A);K=Object.assign(Object.assign(Object.assign({},r),x),A);L=Object.assign(Object.assign(Object.assign({},r),y),A);r=Object.assign(Object.assign(Object.assign({},r),z),A);A=Object.assign(Object.assign(Object.assign({},t),u),B);H=Object.assign(Object.assign(Object.assign({},t),x),B);P=Object.assign(Object.assign(Object.assign({},t),y),B);t=Object.assign(Object.assign(Object.assign({},t),z),B);u=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.08M.10"'}),u);x=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.09M.10"'}),x);y=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.12M.10"'}),y);z=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.13M.10"'}),z);B={};return (B[f.H.GH]=v,B[f.H.HH]=v,B[f.H.lia]=v,B[f.H.WHa]=v,B[f.H.XHa]=v,B[f.H.YHa]=v,B[f.H.UHa]=w,B[f.H.KT]=w,B[f.H.MT]=w,B[f.H.jia]=w,B[f.H.VHa]=w,B[f.H.LT]=w,B[f.H.NT]=w,B[f.H.kia]=w,B[f.H.Mka]=D,B[f.H.QU]=D,B[f.H.RU]=D,B[f.H.G6]=D,B[f.H.nia]=C,B[f.H.oia]=C,B[f.H.pia]=C,B[f.H.qia]=F,B[f.H.l5]=C,B[f.H.o5]=C,B[f.H.r5]=C,B[f.H.u5]=F,B[f.H.RT]=G,B[f.H.ST]=E,B[f.H.m5]=C,B[f.H.p5]=C,B[f.H.s5]=C,B[f.H.v5]=F,B[f.H.x5]=G,B[f.H.z5]=E,B[f.H.k5]=C,B[f.H.n5]=C,B[f.H.q5]=C,B[f.H.t5]=F,B[f.H.w5]=G,B[f.H.y5]=E,B[f.H.S4]=I,B[f.H.V4]=I,B[f.H.PT]=I,B[f.H.a5]=K,B[f.H.d5]=L,B[f.H.g5]=r,B[f.H.T4]=I,B[f.H.W4]=I,B[f.H.Y4]=I,B[f.H.b5]=K,B[f.H.e5]=L,B[f.H.h5]=r,B[f.H.R4]=I,B[f.H.U4]=I,B[f.H.X4]=I,B[f.H.Z4]=K,B[f.H.c5]=L,B[f.H.f5]=r,B[f.H.t4]=A,B[f.H.v4]=A,B[f.H.AT]=A,B[f.H.y4]=H,B[f.H.A4]=P,B[f.H.C4]=t,B[f.H.Nha]=A,B[f.H.Oha]=H,B[f.H.Pha]=P,B[f.H.Qha]=t,B[f.H.u4]=A,B[f.H.w4]=A,B[f.H.x4]=A,B[f.H.z4]=H,B[f.H.B4]=P,B[f.H.D4]=t,B[f.H.wDa]=u,B[f.H.xDa]=u,B[f.H.mD]=u,B[f.H.nD]=u,B[f.H.Y3]=u,B[f.H.Z3]=x,B[f.H.a4]=y,B[f.H.b4]=z,B);};c.prototype.aSb=function(r,t){return r.video && this.config().UZb?t.supported && t.powerEfficient:t.supported;};a=c;a=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(l.zM)),q.__param(1,(0,k.u)(h.WM)),q.__param(2,(0,k.u)(d.Ib)),q.__param(3,(0,k.u)(m.Mx))],a);b.QKa=a;},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;q=a(0);c=a(528);k=a(204);g=a(529);f=a(1252);d=a(315);h=a(1253);m=a(1256);l=a(1257);n=a(102);p=a(530);r=a(1259);b.storage=new q.Nd(function(t){t(k.GLa).Tf(function(){return function(){return pb.localStorage;};});t(k.GIa).Tf(function(){return function(){return pb.indexedDB;};});t(p.rLa).to(r.qLa).ha();t(n.pD).to(l.KDa).ha();t(g.TJa).to(f.SJa).ha();t(c.G5).to(m.gJa).ha();t(d.iJa).to(h.hJa).ha();t(d.FIa).to(h.EIa).ha();t(d.kJa).to(h.jJa).ha();});},function(q,b,a){var k,g,f;function c(d){this.sG=d;}Object.defineProperty(b,"__esModule",{value:!0});b.SJa=void 0;q=a(2);k=a(0);g=a(3);a=a(204);c.prototype.load=function(d){var h;h=this;return new Promise(function(m,l){var n,p;try{n=h.sG.getItem(d);if(n){p=n;if("{" === n[0])try{p=JSON.parse(n) || n;}catch(r){}m({key:d,value:p});}else l({Ea:g.S.SD});}catch(r){l({Ea:g.S.vPa,cause:r});}});};c.prototype.save=function(d,h,m){var l;l=this;return new Promise(function(n,p){if(m && l.sG.getItem(d))n(!1);else try{"string" === typeof h?l.sG.setItem(d,h):l.sG.setItem(d,JSON.stringify(h));n(!0);}catch(r){p({Ea:g.S.wPa,cause:r});}});};c.prototype.remove=function(d){var h;h=this;return new Promise(function(m,l){try{h.sG.removeItem(d);m();}catch(n){l({Ea:g.S.rka,cause:n});}});};c.prototype.loadAll=function(){return Promise.reject("Not supported");};c.prototype.removeAll=function(){return Promise.reject("Not supported");};f=c;f=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(a.Mob))],f);b.SJa=f;},function(q,b,a){var f,d,h,m,l,n,p,r,t,w,v,u;function c(x,y,z,A,B,D){this.config=y;this.KX=z;this.gr=A;this.W8b=B;this.km=D;this.Ha=x.Bb(n.lQa);}function k(x,y){this.config=x;this.c3=y;}function g(x,y,z,A,B){this.config=y;this.c3=z;this.km=B;this.Ha=x.Bb(n.lQa);this.KX=new Promise(function(D,C){var F;try{F=A();F?D(F):C({Ea:l.S.IIa});}catch(G){C({Ea:l.S.F5,cause:G});}});}Object.defineProperty(b,"__esModule",{value:!0});b.jJa=b.hJa=b.EIa=void 0;q=a(2);f=a(0);d=a(7);h=a(1254);m=a(204);l=a(3);n=a(1255);p=a(528);r=a(69);t=a(102);w=a(83);v=a(315);u=a(64);g.prototype.create=function(){this.mqa || (this.mqa=this.XO());return this.mqa;};g.prototype.$r=function(x){var y;y=this;this.mqa=null;return this.c3.ru(this.config.timeout,new Promise(function(z,A){x.close();y.delete(x.name).then(function(){z();}).catch(function(B){A(B);});})).catch(function(z){return z instanceof r.ft?Promise.reject({Ea:l.S.F5}):z.Ea?Promise.reject(z):Promise.reject({Ea:l.S.F5,cause:z});});};g.prototype.delete=function(x){var y;y=this;return this.c3.ru(this.config.timeout,new Promise(function(z,A){y.KX.then(function(B){var D;D=B.deleteDatabase(x);D.onsuccess=function(){z();};D.onerror=function(){A({Ea:l.S.F5,cause:D.error});};}).catch(function(B){A(B);});}));};g.prototype.XO=function(){var x,y;x=this;return this.c3.ru(this.config.timeout,new Promise(function(z,A){if(x.config.sBa)return A({Ea:x.config.sBa});x.KX.then(function(B){x.km.mark(u.Sk.jnb);y=B.open(x.config.name,x.config.version);if(!y)return A({Ea:l.S.JIa});y.onblocked=function(){x.km.mark(u.Sk.gnb);A({Ea:l.S.cnb});};y.onupgradeneeded=function(){var D;x.km.mark(u.Sk.qnb);D=y.result;try{D.createObjectStore(x.config.t0,{keyPath:"name"});}catch(C){x.Ha.error("Exception while creating object store",C);}};y.onsuccess=function(D){var C,F;x.km.mark(u.Sk.pnb);try{C=D.target.result;F=C.objectStoreNames.length;x.Ha.trace("objectstorenames length ",F);if(0 === F){x.Ha.error("invalid indexedDb state, deleting");x.km.mark(u.Sk.inb);try{C.close();}catch(G){}B.deleteDatabase(x.config.name);setTimeout(function(){A({Ea:l.S.bnb});},1);return;}}catch(G){x.Ha.error("Exception while inspecting indexedDb objectstorenames",G);}z(y.result);};y.onerror=function(){x.km.mark(u.Sk.hnb);x.Ha.error("IndexedDB open error",y.error);A({Ea:l.S.dnb,cause:y.error});};}).catch(function(B){A(B);});})).catch(function(z){if(z instanceof r.ft){try{y && y.readyState && x.km.mark("readyState-" + y.readyState);}catch(A){}if(x.config.K8 && y && "done" === y.readyState){if(x.R8b(y))return (x.km.mark(u.Sk.nnb),Promise.resolve(y.result));x.km.mark(u.Sk.mnb);}x.km.mark(u.Sk.lnb);return Promise.reject({Ea:l.S.fnb});}if(z.Ea)return Promise.reject(z);x.km.mark(u.Sk.knb);x.Ha.error("IndexedDB open exception occurred",z);return Promise.reject({Ea:l.S.enb,cause:z});});};g.prototype.R8b=function(x){try{return 0 < x.result.objectStoreNames.length;}catch(y){this.km.mark(u.Sk.onb);this.Ha.error("failed to check open request state",y);}return !1;};a=g;a=q.__decorate([(0,f.X)(),q.__param(0,(0,f.u)(d.Ib)),q.__param(1,(0,f.u)(p.G5)),q.__param(2,(0,f.u)(r.gI)),q.__param(3,(0,f.u)(m.GIa)),q.__param(4,(0,f.u)(w.iN))],a);b.EIa=a;k.prototype.create=function(x){return Promise.resolve(new h.fJa(this.config,this.c3,x));};a=k;a=q.__decorate([(0,f.X)(),q.__param(0,(0,f.u)(p.G5)),q.__param(1,(0,f.u)(r.gI))],a);b.hJa=a;c.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.EX || (this.EX=this.XO(this.W8b));return this.EX;};c.prototype.XO=function(x){var y;y=this;x=void 0 === x?[]:x;return new Promise(function(z,A){y.km.mark(u.Sk.xqb);y.KX.create().then(function(B){y.gr.create(B).then(function(D){Promise.all(x.map(function(C){return C.validate(D);})).then(function(){y.storage=D;z(y.storage);}).catch(function(C){y.Ha.debug("DB validation failed, cause: " + C);y.config.y1a?(y.Ha.debug("Fixing corrupt DB"),y.KX.$r(B).then(function(){y.Ha.error("Invalid database deleted, creating new database.");y.XO().then(function(F){y.Ha.error("Invalid database successfully recreated.");y.storage=F;z(y.storage);});}).catch(function(F){y.Ha.error("Couldn't delete invalid database.");A(F);})):(y.Ha.debug("Ignoring invalid DB due to config"),y.storage=D,z(y.storage));});}).catch(function(D){A(D);});}).catch(function(B){A(B);});});};a=c;a=q.__decorate([(0,f.X)(),q.__param(0,(0,f.u)(d.Ib)),q.__param(1,(0,f.u)(p.G5)),q.__param(2,(0,f.u)(v.FIa)),q.__param(3,(0,f.u)(v.iJa)),q.__param(4,(0,f.optional)()),q.__param(4,(0,f.TK)(t.Eqb)),q.__param(5,(0,f.u)(w.iN))],a);b.jJa=a;},function(q,b,a){var g,f,d;function c(h,m,l){this.config=h;this.ku=m;this.sG=l;}function k(h,m){this.reason=h;this.cause=m;}Object.defineProperty(b,"__esModule",{value:!0});b.fJa=b.ZOa=void 0;g=a(3);f=a(69);(function(h){h[h.mja=0]="NoData";h[h.Error=1]="Error";h[h.hN=2]="Timeout";})(d=b.ZOa || (b.ZOa={}));c.prototype.load=function(h){var m;m=this;return new Promise(function(l,n){m.D$("get",!1,h).then(function(p){l({key:h,value:p});}).catch(function(p){var r;r=g.S.vPa;switch(p.reason){case d.mja:r=g.S.SD;break;case d.hN:r=g.S.yqb;}n({Ea:r,cause:p.cause});});});};c.prototype.save=function(h,m,l){var n;n=this;return new Promise(function(p,r){n.D$(l?"add":"put",!0,{name:h,data:m}).then(function(){p(!l);}).catch(function(t){var w;w=g.S.wPa;switch(t.reason){case d.hN:w=g.S.Bqb;}r({Ea:w,cause:t.cause});});});};c.prototype.remove=function(h){var m;m=this;return new Promise(function(l,n){m.D$("delete",!0,h).then(function(){l();}).catch(function(p){var r;r=g.S.rka;switch(p.reason){case d.hN:r=g.S.uPa;}n({Ea:r,cause:p.cause});});});};c.prototype.removeAll=function(){var h;h=this;return new Promise(function(m,l){h.D$("clear",!0,"").then(function(){m();}).catch(function(n){var p;p=g.S.rka;switch(n.reason){case d.hN:p=g.S.uPa;}l({Ea:p,cause:n.cause});});});};c.prototype.loadAll=function(){var h;h=this;return this.ku.ru(this.config.timeout,new Promise(function(m,l){var n,p,r;if(h.config.rBa)l(new k(h.config.rBa));else {n=[];p=h.sG.transaction(h.config.t0,"readonly");r=p.objectStore(h.config.t0).openCursor();p.onerror=function(){l(new k(d.Error,r.error));};r.onsuccess=function(t){if(t=t.target.result)try{n.push({key:t.value.name,value:t.value.data});t.continue();}catch(w){l(new k(d.Error,w));}else m(n);};r.onerror=function(){l(new k(d.Error,r.error));};}})).catch(function(m){return m instanceof f.ft?Promise.reject(new k(d.hN,m)):m instanceof k?Promise.reject(m):Promise.reject(new k(d.Error,m));});};c.prototype.D$=function(h,m,l){var n;n=this;return this.ku.ru(this.config.timeout,new Promise(function(p,r){var t,w;t=n.sG.transaction(n.config.t0,m?"readwrite":"readonly");w=t.objectStore(n.config.t0)[h](l);t.onerror=function(){r(new k(d.Error,w.error));};w.onsuccess=function(v){var u;if("get" == h)try{u=v.target.result;u?p(u.data):r(new k(d.mja));}catch(x){r(new k(d.mja,x));}else p(void 0);};w.onerror=function(){r(new k(d.Error,w.error));};})).catch(function(p){return p instanceof f.ft?Promise.reject(new k(d.hN,p)):p instanceof k?Promise.reject(p):Promise.reject(new k(d.Error,p));});};b.fJa=c;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.lQa="Storage";},function(q,b,a){var k,g,f,d,h;function c(m,l){m=f.Ef.call(this,m,"IndexedDBConfigImpl") || this;m.config=l;m.version=1;m.t0="namedatapairs";return m;}Object.defineProperty(b,"__esModule",{value:!0});b.gJa=void 0;q=a(2);k=a(0);g=a(51);f=a(52);d=a(43);a=a(37);na(c,f.Ef);Ya.Object.defineProperties(c.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return "netflix.player" + (this.config.DB?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.Kfb;}},K8:{configurable:!0,enumerable:!0,get:function(){return this.config.K8;}},sBa:{configurable:!0,enumerable:!0,get:function(){return 0;}},rBa:{configurable:!0,enumerable:!0,get:function(){return 0;}},y1a:{configurable:!0,enumerable:!0,get:function(){return !0;}}});h=c;q.__decorate([g.config(g.fD,"simulateIdbOpenError")],h.prototype,"sBa",null);q.__decorate([g.config(g.fD,"simulateIdbLoadAllError")],h.prototype,"rBa",null);q.__decorate([g.config(g.Td,"fixInvalidDatabase")],h.prototype,"y1a",null);h=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(a.qn)),q.__param(1,(0,k.u)(d.Dp))],h);b.gJa=h;},function(q,b,a){var g,f,d,h,m,l,n;function c(p,r,t,w){this.Ha=p;this.config=r;this.eQb=t;this.cxa=w;this.xJ={mem:{storage:this.cxa,key:"mem"}};this.ZG=this.config.ZG;}function k(p,r,t,w){this.mg=p;this.gr=r;this.cxa=t;this.config=w;}Object.defineProperty(b,"__esModule",{value:!0});b.Xga=b.KDa=void 0;q=a(2);g=a(0);f=a(3);d=a(315);h=a(7);m=a(530);l=a(1258);a=a(43);k.prototype.create=function(){this.EX || (this.EX=this.XO());return this.EX;};k.prototype.XO=function(){this.pyb=new c(this.mg.Bb("AppStorage"),this.config,this.gr,this.cxa);return this.pyb.create();};n=k;n=q.__decorate([(0,g.X)(),q.__param(0,(0,g.u)(h.Ib)),q.__param(1,(0,g.u)(d.kJa)),q.__param(2,(0,g.u)(m.rLa)),q.__param(3,(0,g.u)(a.Dp))],n);b.KDa=n;c.prototype.create=function(){var p;p=this;return this.SEb().then(function(r){if(!p.PAb(r,p.config.QZ))throw p.xWb(r);return p;});};c.prototype.load=function(p){var r;r=this;return new Promise(function(t,w){r.YY(p).storage.load(p).then(function(v){t(v);}).catch(function(v){w(v);});});};c.prototype.save=function(p,r,t){var w;w=this;return new Promise(function(v,u){w.YY(p).storage.save(p,r,t).then(function(x){v(x);}).catch(function(x){u(x);});});};c.prototype.remove=function(p){var r;r=this;return new Promise(function(t,w){r.YY(p).storage.remove(p).then(function(){t();}).catch(function(v){w(v);});});};c.prototype.removeAll=function(){var p;p=this;return new Promise(function(r,t){p.Kcb("mem").then(function(){return p.Kcb("idb");}).catch(function(w){return Promise.reject(w);}).then(function(){r();}).catch(function(w){p.Ha.error("remove all failed");t(w);});});};c.prototype.loadAll=function(){var p,r;p=this;r=[];return this.N7a("mem").then(function(t){r=r.concat(t);return p.N7a("idb");}).catch(function(t){p.YRb(t) || p.Ha.error("IndexedDb.LoadAll exception",t);return [];}).then(function(t){return r=r.concat(t);}).catch(function(t){p.Ha.error("load all failed",t);throw t;});};c.prototype.SEb=function(){var p;p=this;return this.eQb.create().then(function(r){p.xJ.idb={storage:r,key:"idb"};}).catch(function(r){p.Ha.error("idb failed to load",r);return r || ({Ea:f.S.wo});});};c.prototype.PAb=function(p,r){return !p || p && r?!0:!1;};c.prototype.xWb=function(p){var r;r="";p && (r+=p.Ea);return {Ea:r};};c.prototype.Kcb=function(p){return (p=this.xJ[p])?p.storage.removeAll():Promise.resolve();};c.prototype.N7a=function(p){return (p=this.xJ[p])?p.storage.loadAll():Promise.resolve([]);};c.prototype.XJb=function(p){for(var r in this.ZG){if(p.startsWith(r))return this.ZG[r];}return this.ZG[l.zlb];};c.prototype.YY=function(p){var r,t;r=this;this.XJb(p).every(function(w){return r.xJ[w]?(t=r.xJ[w],!1):!0;});if(!t){this.Ha.error("component not found for storageKey",{r5b:p,Uec:Object.keys(this.xJ),rules:this.ZG});t=this.xJ.mem;}this.Ha.trace("component found for key",{storageKey:p,componentKey:t.key});return t;};c.prototype.YRb=function(p){return (p && (p.Ea || p.errorSubCode)) === f.S.SD;};b.Xga=c;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.zlb="__default_rule_key__";},function(q,b,a){var k,g,f;function c(d){this.mg=d;this.UK={};this.Ha=this.mg.Bb("MemoryStorage");}Object.defineProperty(b,"__esModule",{value:!0});b.qLa=void 0;q=a(2);k=a(0);g=a(3);a=a(7);c.prototype.load=function(d){var h;if(this.UK.hasOwnProperty(d)){h=this.UK[d];this.Ha.debug("Storage entry loaded",{key:d});return Promise.resolve({key:d,value:h});}this.Ha.debug("Storage entry not found",{key:d});return Promise.reject({Ea:g.S.SD});};c.prototype.save=function(d,h,m){if(m && this.UK.hasOwnProperty(d))return Promise.resolve(!1);this.UK[d]=h;return Promise.resolve(!0);};c.prototype.remove=function(d){delete this.UK[d];return Promise.resolve();};c.prototype.loadAll=function(){var d;d=Object.entries(this.UK).map(function(h){var m;m=ra(h);h=m.next().value;m=m.next().value;return {key:h,value:m};});return Promise.resolve(d);};c.prototype.removeAll=function(){this.UK={};return Promise.resolve();};f=c;f=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(a.Ib))],f);b.qLa=f;},function(q,b,a){var c,k,g,f,d,h;Object.defineProperty(b,"__esModule",{value:!0});b.DO=void 0;q=a(0);c=a(531);k=a(532);g=a(533);f=a(1261);d=a(1262);h=a(1263);b.DO=new q.Nd(function(m){m(c.EEa).to(f.DEa).ha();m(k.CEa).to(d.zEa).ha();m(g.BEa).to(h.AEa).ha();});},function(q,b,a){var k,g,f,d,h,m;function c(l,n,p,r){this.d9=n;this.Mb=p;this.Lzb=r;this.Ha=l.Bb("Bookmark");}Object.defineProperty(b,"__esModule",{value:!0});b.DEa=void 0;q=a(2);k=a(0);g=a(532);f=a(533);d=a(7);h=a(31);m=a(6);c.prototype.Zxb=function(l){var n,p;n=l.ob.playbackState && l.ob.playbackState.currentTime;p=this.OLb(l.L);n=this.Mb.FJ(n)?(0,m.Vc)(n):p;if(this.Mb.jh(n))(this.Ha.info("Overriding bookmark",{From:l.lM.ia(m.sa),To:n.ia(m.sa)}),l=Object.assign({},l,{lM:n}));else if(this.iQb(l))return (this.Ha.trace("Ignoring bookmark because it's too close to beginning"),(0,m.Nh)(0));return l.lM.jva()?(this.Ha.trace("Ignoring bookmark because it's negative"),(0,m.Nh)(0)):this.hQb(l)?(this.Ha.trace("Ignoring bookmark because it's too close to end"),(0,m.Nh)(0)):this.gQb(l)?(this.Ha.trace("Ignoring bookmark because it's too close to the end to start decoding"),(0,m.Nh)(0)):l.lM;};c.prototype.iQb=function(l){return 0 > l.lM.zm(this.Wsa(l));};c.prototype.Wsa=function(l){return this.MWa(this.d9.Wsa(),l.Zda);};c.prototype.hQb=function(l){return 0 < l.lM.zm(this.Xsa(l));};c.prototype.Xsa=function(l){var n;n=l.ob.ei?this.d9.BMb():this.d9.Xsa();return l.Zda.Ia(this.MWa(n,l.Zda));};c.prototype.gQb=function(l){return 0 < l.lM.zm(this.kMb(l));};c.prototype.kMb=function(l){return l.Zda.Ia((0,m.Vc)(l.nG));};c.prototype.OLb=function(l){var n;l=this.d9.Bsa()[l];n=-1;this.Mb.uv(l)?n=parseInt(l):this.Mb.Fo(l) && (n=l);if(this.Mb.zW(n))return (0,m.Vc)(n);};c.prototype.MWa=function(l,n){return this.Lzb.E5b(l,n);};a=c;a=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(d.Ib)),q.__param(1,(0,k.u)(g.CEa)),q.__param(2,(0,k.u)(h.Wg)),q.__param(3,(0,k.u)(f.BEa))],a);b.DEa=a;},function(q,b,a){var k,g;function c(f){this.config=f;}Object.defineProperty(b,"__esModule",{value:!0});b.zEa=void 0;q=a(2);k=a(0);a=a(12);c.prototype.Wsa=function(){return this.WJ().Mzb;};c.prototype.Xsa=function(){return this.WJ().Nzb;};c.prototype.BMb=function(){return this.WJ().Ozb;};c.prototype.Bsa=function(){return this.WJ().LWa;};c.prototype.WJ=function(){return this.config();};g=c;g=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(a.jd))],g);b.zEa=g;},function(q,b,a){var k,g,f;function c(d){this.Mb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.AEa=void 0;q=a(2);k=a(0);g=a(31);f=a(6);c.prototype.E5b=function(d,h){var m,l;m=parseFloat(d);l=0;"%" === d[d.length - 1] && this.Mb.Fo(m)?l=Math.round(m * h.ia(f.sa) / 100):(d=parseInt(d),this.Mb.zW(d) && (l=d));return (0,f.Vc)(Math.min(l,h.ia(f.sa)));};a=c;a=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(g.Wg))],a);b.AEa=a;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.lXa=void 0;q=a(0);c=a(534);k=a(1265);b.lXa=new q.Nd(function(g){g(c.VEa).to(k.UEa).ha();});},function(q,b,a){var k,g,f,d,h,m,l,n,p;function c(r,t,w,v,u,x){this.config=r;this.fG=w;this.profile=v;this.bga=u;this.jX=x;this.log=t.Bb("CDMAttestedDescriptor");this.s2a(n.Nx.BU);}Object.defineProperty(b,"__esModule",{value:!0});b.UEa=void 0;q=a(2);k=a(0);g=a(12);f=a(7);d=a(172);h=a(316);m=a(78);l=a(180);n=a(43);p=a(61);c.prototype.s2a=function(r){var t;t=this;return this.bga.sfa(r)?this.config().cIb?this.q2a().then(function(w){if(w)return (!1,Promise.resolve(void 0));t.G7a || (!1,t.G7a=t.jX.Dta(p.Zi.Ep));return t.G7a;}).catch(function(w){t.log.error("Failed to generate challenge",w);}).then(function(w){null === w || void 0 === w?void 0:w.tc.close();return null === w || void 0 === w?void 0:w.dpa;}).then(function(w){return Promise.all([Promise.resolve(w),t.q2a()]);}).then(function(w){var v;w=ra(w);v=w.next().value;if(w.next().value)!1;else return v;}):this.fG().then(function(w){w.e0.removeServiceToken("cad");}):Promise.resolve(void 0);};c.prototype.q2a=function(){var r;r=this;return this.fG().then(function(t){return (t=t.e0.getServiceTokens(r.profile)) && t.find(function(w){return "cad" === w.name;});});};a=c;a=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(g.jd)),q.__param(1,(0,k.u)(f.Ib)),q.__param(2,(0,k.u)(d.qU)),q.__param(3,(0,k.u)(m.bN)),q.__param(4,(0,k.u)(h.F6)),q.__param(5,(0,k.u)(l.n4))],a);b.UEa=a;},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r;Object.defineProperty(b,"__esModule",{value:!0});b.z8a=void 0;q=a(0);c=a(295);k=a(1267);g=a(535);f=a(1274);d=a(539);h=a(541);m=a(1275);l=a(139);n=a(1276);p=a(543);r=a(1277);b.z8a=new q.Nd(function(t){t(g.GKa).to(f.FKa).ha();t(c.dja).to(k.HKa).ha();t(d.gOa).$m(function(w){for(var v=[],u=0;u < arguments.length;++u){v[u - 0]=arguments[u];}u=a(318).kI;return new (Function.prototype.bind.apply(u,[null].concat(ka(v))))();});t(h.KKa).Tf(function(){return function(w){return new m.LKa(w);};});t(l.OM).to(n.DKa).ha();t(p.CKa).to(r.BKa).ha();});},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t;function c(w,v,u,x){this.mg=w;this.config=v;this.Rya=u;this.vCa=x;}Object.defineProperty(b,"__esModule",{value:!0});b.HKa=void 0;q=a(2);k=a(0);g=a(7);f=a(535);d=a(1268);h=a(1269);m=a(1270);l=a(1271);n=a(1272);p=a(1273);r=a(539);a=a(540);c.prototype.create=function(w){var v,u;v=this.mg.Bb("ManifestParser",w);u=new d.pFa(v,this.config);return new m.IKa(u,new h.CQa(v,this.config,w,u,this.Rya),new l.XQa(v,w,this.vCa),new n.oEa(v,this.config,w),new p.xRa(v));};t=c;t=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(g.Ib)),q.__param(1,(0,k.u)(f.GKa)),q.__param(2,(0,k.u)(r.gOa)),q.__param(3,(0,k.u)(a.VQa))],t);b.HKa=t;},function(q,b,a){var k,g,f;function c(d,h){this.log=d;this.config=h;}Object.defineProperty(b,"__esModule",{value:!0});b.pFa=void 0;k=a(110);g=a(317);f=a(24);c.prototype.pya=function(d,h,m){var l,n,p,r;l=this;n=this.config.bpa;p=this.config.apa;d=ra((0,k.Nw)(function(t){return (!n.length || 0 <= n.indexOf(t.id)) && 0 > p.indexOf(t.id);},d || []));r=d.next().value;d.next().value.forEach(function(t){return l.log.warn("Cdn is not allowed",{Id:t.id});});d=r.map(function(t){var w;w=(h?h.find(function(v){return v.key === t.key;}):void 0) || ({});return {id:t.id,name:t.name,oc:t.oc,type:t.type,V7a:t.key,HRb:t.l8a,location:{id:w.key,oc:w.oc,level:w.level,weight:w.weight}};});d.sort(function(t,w){return t.oc - w.oc;});this.log.trace("Transformed cdns",{Count:d.length});if(m && !d.length)throw Error("no valid cdns");return d;};c.prototype.aQb=function(d,h,m,l){var n;n=d.filter(function(p){return -1 === m.findIndex(function(r){return r.id === p.id;});}).map(function(p){return {kab:!0,Xc:p};}).concat(m.map(function(p){return {kab:!1,Xc:p};})).sort(function(p,r){return p.Xc.oc === r.Xc.oc?p.kab?-1:1:p.Xc.oc - r.Xc.oc;}).map(function(p,r){(0,g.IQ)(p.Xc).oc=r + 1;return p.Xc;});d=h.filter(function(p){return -1 === l.findIndex(function(r){return r.key === p.key;});}).concat(l).map(function(p){var r;r=n.findIndex(function(t){return t.key === p.key;});(0,f.Db)(-1 !== r);r=n[r];(0,g.IQ)(p).oc=r.oc;return p;});return {k3b:n,GTb:d};};b.pFa=c;},function(q,b,a){var k,g,f,d;function c(h,m,l,n,p){this.log=h;this.config=m;this.j=l;this.lX=n;this.Rya=p;}Object.defineProperty(b,"__esModule",{value:!0});b.CQa=void 0;k=a(45);g=a(11);f=a(138);d=a(536);c.prototype.Iab=function(h,m){var l;l=this;m=m.map(function(n){var p,r,t,w,v;t=l.e7b(n);n.OF || !n.jj || t && 0 < t.length || l.log.error("track without downloadables",l.UMb(n));w={};v=[];0 < t.length && (w=n.language && 0 <= l.config.kQ.indexOf(n.language)?t[1] && t[1].profile === k.pn.HIa?t[1]:t[0]:t[0],w.profile == k.pn.UM && (w=l.$2b(t),!1),v=l.lX.pya(n.BXa,void 0,!1));n=l.Rya(l.j,n.Qg,n.id,null !== (p=n.oc) && void 0 !== p?p:-1,null !== (r=n.jj) && void 0 !== r?r:!0,h,w.Ec,w.urls || ({}),v,n.language,n.TF,f.D6[n.Ti.toLowerCase()] || f.Br.ZM,n.UL,n.variant,n.CG.toUpperCase(),w.profile,l.aNb(w) || ({}),n.OF,n.Mba,n.Pba,n.uw);l.log.trace("Transformed timed text track",n);return n;});this.log.trace("Transformed timed text tracks",{Count:m.length});return m;};c.prototype.K6b=function(h){var m,l;m=this;l=this.config.isa;if(l){if(h=ra(h.filter(function(n){return n.Vf == l || n.trackId == l;})).next().value)return h;}else if(this.j.T$ && (h=ra(h.filter(function(n){return n.trackId == m.j.T$;})).next().value))return h;};c.prototype.e7b=function(h){var m,l;m=this;l=h.R_a;h=Object.entries(h.ACa || ({})).map(function(n){var p;p=ra(n);n=p.next().value;p=p.next().value;return {Ec:l[n],profile:n,size:p.size || 0,priority:m.eMb(n,p),offset:p.jxa || 0,iZb:p.width,Wab:p.height,urls:p.Sv};});h.sort(function(n,p){return n.priority - p.priority;});return h;};c.prototype.eMb=function(h,m){var l,n;l=this.config.rx.indexOf(h);m=m.size;n=this.config.wS;return h === k.pn.Gha && 0 < n && m > n?this.config.rx.length + 1:0 <= l?l:this.config.rx.length;};c.prototype.aNb=function(h){if(h.profile === k.pn.UM)return {offset:h.offset,length:h.size,pp:{width:h.iZb,height:h.Wab}};};c.prototype.$2b=function(h){var m,l;m=this.config.Aua || d.Dka.T3a();l=ra(h.filter(function(n){return n.profile === k.pn.UM;}).filter(function(n){return n.Wab === m;})).next().value;if(l)return l;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:g.Px.height,intendedResolution:m});return h[0];};c.prototype.UMb=function(h){return {isNone:h.OF,isForced:h.Mba,bcp47:h.language,id:h.Qg};};b.CQa=c;},function(q,b,a){var k,g;function c(f,d,h,m,l){this.lX=f;this.hCa=d;this.n7b=h;this.QW=m;this.Nib=l;}Object.defineProperty(b,"__esModule",{value:!0});b.IKa=void 0;k=a(317);g=a(24);c.prototype.Gab=function(f){var d,h,m,l,n,p,r,t,w,v,u,x,y,z,A,B,D,C;m=f.Tb;l={jg:null !== (h=null === (d=m.mX) || void 0 === d?void 0:d.mp) && void 0 !== h?h:"",Uz:m.Uz};n=! !m.C1;d=this.lX.pya(m.jm,m.hk,!0);h=this.hCa.Iab(l,m.b3);f=this.n7b.OYb(m.q7b);p=n?this.QW.Fab(l,m.zv,h):this.QW.JYb(l,m.zv,m.media,h);l=this.Nib.PYb(l,m.Tz);r=l[0];t=this.QW.izb(p) || p.find(function(F){return n?F.trackId === m.C1.Lo:F.Wy === m.U9[0].Lo;}) || p[0];w=this.hCa.K6b(t.Si) || h.find(function(F){return n?F.trackId === m.C1.xS:F.Wy === m.U9[0].agb;}) || t.Si[0];v=this.Nib.LYb(m.Tz);u=m.lj;x=m.XBb;y=m.jK;z=m.Bm;A=m.zv.findIndex(function(F){return F.Qg == t.trackId;});B=m.Tz.findIndex(function(F){return F.Qg == r.trackId;});D=m.Rfb;C=m.nca;(0,g.Db)("LIVE" === D && ! !C || "VOD" === D && !C,"streamingType and liveMetadata mismatch - streamingType:" + D + ", liveMetadata:" + C);return {Zw:v,Ai:d,yj:p,jD:l,Si:h,eD:f,lj:u,o3b:x,xK:y,Bm:z,jGb:A,rGb:B,V9:r,OX:t,SX:w,cp:"LIVE" === D && ! !C};};c.prototype.bQb=function(f,d,h){var m,l,n,p,r,t;m=this;p=this.lX.aQb(f.Tb.jm,f.Tb.hk,h.Tb.jm,h.Tb.hk);r=p.k3b;p=p.GTb;(0,k.IQ)(f.Tb).jm=r;(0,k.IQ)(f.Tb).hk=p;d.Ai=this.lX.pya(r,p,!0);t={jg:null !== (n=null === (l=h.Tb.mX) || void 0 === l?void 0:l.mp) && void 0 !== n?n:"",Uz:h.Tb.Uz};h=h.Tb;l=h.zv;h.b3.forEach(function(w){var v;if(w.jj){v=m.Xcb(f.Tb.b3,d.Si,w,function(u){return m.hCa.Iab(t,[u])[0];});v && d.yj.forEach(function(u){var x;u=u.Si;x=u.findIndex(function(y){return y.trackId === v.trackId;});-1 !== x && (u[x]=v);});}});l.forEach(function(w){w.jj && m.Xcb(f.Tb.zv,d.yj,w,function(v){return m.QW.Fab(t,[v],d.Si)[0];});});return {pa:f,Kc:d};};c.prototype.C2b=function(f,d){return this.QW.LJb(f,d);};c.prototype.Xcb=function(f,d,h,m){var l,n,p,r;l=f.findIndex(function(t){return t.Qg === h.Qg;});n=-1 !== l?f[l]:void 0;p=d.findIndex(function(t){return t.trackId === h.Qg;});r=-1 !== p?d[p]:void 0;if(n && !n.jj && r && !r.jj)return (m=m(h),f[l]=h,d[p]=m);};b.IKa=c;},function(q,b){function a(c,k,g){this.log=c;this.j=k;this.vCa=g;}Object.defineProperty(b,"__esModule",{value:!0});b.XQa=void 0;a.prototype.OYb=function(c){var k;k=this;c=(c || []).filter(function(g){return g.urls && 0 < g.urls.length;}).map(function(g){return k.vCa(k.j,g.id,g.height,g.width,g.lZb,g.mZb,g.size,g.uw,{unknown:g.urls[0]});});0 === c.length && this.log.warn("There are no trickplay tracks");c.sort(function(g,f){return g.size - f.size;});this.log.trace("Transformed trick play tracks",{Count:c.length});return c;};b.XQa=a;},function(q,b,a){var k,g,f,d,h,m,l;function c(n,p,r){n=g.nU.call(this,n) || this;n.config=p;n.j=r;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.oEa=void 0;k=a(521);g=a(537);f=a(110);d=a(96);h=a(138);m=a(3);l=a(41);na(c,g.nU);c.prototype.Fab=function(n,p,r){var t,w;t=this;w=this.config.Kfa;p=p.filter(function(v){var u,x;u=v.OF || !v.jj || v.streams && 0 < v.streams.length;u || t.log.warn("Audio track is missing streams",t.Maa(v));x=0 === w.length || 0 <= w.indexOf(v.Ti);x || t.log.warn("Audio track is not supported",t.Maa(v));return u && x;});if(!p.length)throw Error("no valid audio tracks");p=p.map(function(v){return t.Eab(n,v,t.iLb(v,r));});this.log.trace("Parsed audio tracks",{Count:p.length});return p;};c.prototype.JYb=function(n,p,r,t){var w,v,u,x;w=this;v=ra((0,f.Nw)(function(y){return y.OF;},p));p=v.next().value;v=v.next().value;v=ra((0,f.Nw)(function(y){return y.streams && 0 < y.streams.length;},v));u=v.next().value;v.next().value.forEach(function(y){return w.log.warn("Audio track is missing streams",w.Maa(y));});x=this.config.Kfa;v=ra((0,f.Nw)(function(y){return 0 === x.length || 0 <= x.indexOf(y.Ti);},u));u=v.next().value;v.next().value.forEach(function(y){return w.log.warn("Audio track is not supported",w.Maa(y));});p=[].concat(ka(u),ka(p)).map(function(y){return w.Eab(n,y,w.OMb(y.Qg,r,t));});if(!p.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:p.length});return p;};c.prototype.izb=function(n){var p,r;p=this;r=this.config.esa;if(r){if(n=ra(n.filter(function(t){return t.Vf == r || t.trackId == r;})).next().value)return n;}else if(this.j.S$ && (n=ra(n.filter(function(t){return t.trackId == p.j.S$;})).next().value))return n;};c.prototype.LJb=function(n,p){this.config.wWa.forEach(function(r){var t,w,v;t=p.zv.filter(function(u){return u.profile === r;}).reduce(function(u,x){x.streams.map(function(y){return y.bitrate;}).forEach(function(y){u.add(y);});return u;},new Set());w=!1;v=n.Tb.zv.map(function(u){var x;if(u.profile === r){x=u.streams.filter(function(y){return t.has(y.bitrate);});if(x.length === u.streams.length)return u;w=!0;if(0 === x.length)throw new l.Ad(m.W.pKa,m.S.Jjb);return Object.assign(Object.assign({},u),{streams:x});}return u;});w && (n.Tb=Object.assign(Object.assign({},n.Tb),{zv:v}));});return n;};c.prototype.Eab=function(n,p,r){var t,w,v,u;u=p.Ti;n=Object.assign(Object.assign({},n),{type:d.uj.audio,UL:p.UL,variant:p.variant,trackId:p.Qg,Wy:p.CS,Ti:h.D6[u.toLowerCase()] || h.Br.ZM,CG:u,Vf:p.language,displayName:p.TF,oc:null !== (t=p.oc) && void 0 !== t?t:-1,jj:null !== (w=p.jj) && void 0 !== w?w:!0,channels:p.channels,nfc:p.channels,Si:r,Lh:{Bcp47:p.language,TrackId:p.Qg},streams:[],isNative:p.isNative,rs:p.OF,Q2:p.Q2});n.streams=this.ihb(p.streams,n);this.log.trace("Transformed audio track",n,{StreamCount:n.streams.length,AllowedTimedTextTracks:n.Si.length});n.fCb=k.pEa[null === (v=n.streams[0]) || void 0 === v?void 0:v.ef];return n;};c.prototype.Maa=function(n){return {language:n.TF,bcp47:n.language,type:n.Ti};};c.prototype.iLb=function(n,p){return p.filter(function(r){if(0 <= n.cHb.indexOf(r.Wy))return !1;if(n.i_a){if(n.i_a !== r.Wy && (r.rs() || r.Gq()))return !1;}else if(n.jXb){if(r.rs() || r.Gq())return !1;}else if(r.Gq())return !1;return !0;});};c.prototype.OMb=function(n,p,r){return p.filter(function(t){return t.sf.mc === n;}).map(function(t){return t.sf.nn;}).map(function(t){return r.find(function(w){return w.trackId === t;});}).filter(Boolean);};b.oEa=c;},function(q,b,a){var k,g,f,d;function c(h){return g.nU.call(this,h) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.xRa=void 0;k=a(110);g=a(537);f=a(96);d=a(138);na(c,g.nU);c.prototype.PYb=function(h,m){var l,n;l=this;m=ra((0,k.Nw)(function(p){return p.streams && 0 < p.streams.length;},m));n=m.next().value;m.next().value.forEach(function(p){return l.log.warn("Video track is missing streams",{trackId:p.Qg});});m=n.map(function(p){var r;r=p.Ti;r=Object.assign(Object.assign({},h),{type:f.uj.video,trackId:p.Qg,Wy:p.CS,Ti:d.D6[r.toLowerCase()] || d.Br.ZM,CG:r,streams:[],Lh:{},n1:p.n1});r.streams=l.ihb(p.streams,r);l.log.trace("Transformed video track",{StreamCount:r.streams.length});return r;});if(!m.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:m.length});return m;};c.prototype.LYb=function(h){var m;m=h.map(function(l){return l.n1;}).filter(Boolean);m=[].concat.apply([],ka(m)).map(function(l){return l.ga;});h=h.map(function(l){return l.Rqa;}).filter(Boolean).map(function(l){return l.ga;});return 0 < m.length?m:h;};b.xRa=c;},function(q,b,a){var k,g,f,d,h,m;function c(l,n){l=g.Ef.call(this,l,"ManifestParserConfigImpl") || this;l.Gh=n;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.FKa=void 0;q=a(2);k=a(0);g=a(52);f=a(37);d=a(51);h=a(116);m=a(55);na(c,g.Ef);Ya.Object.defineProperties(c.prototype,{Kfa:{configurable:!0,enumerable:!0,get:function(){return [];}},esa:{configurable:!0,enumerable:!0,get:function(){return "";}},bpa:{configurable:!0,enumerable:!0,get:function(){return [];}},apa:{configurable:!0,enumerable:!0,get:function(){return [];}},isa:{configurable:!0,enumerable:!0,get:function(){return "";}},Aua:{configurable:!0,enumerable:!0,get:function(){return 0;}},wS:{configurable:!0,enumerable:!0,get:function(){return this.Gh.wS.ia(m.Bx);}},rx:{configurable:!0,enumerable:!0,get:function(){return this.Gh.rx;}},kQ:{configurable:!0,enumerable:!0,get:function(){return this.Gh.kQ;}},wWa:{configurable:!0,enumerable:!0,get:function(){return ["heaac-2-dash"];}}});a=c;q.__decorate([d.config(d.TL,"supportedAudioTrackTypes")],a.prototype,"Kfa",null);q.__decorate([d.config(d.string,"forceAudioTrack")],a.prototype,"esa",null);q.__decorate([d.config(d.CCa,"cdnIdWhiteList")],a.prototype,"bpa",null);q.__decorate([d.config(d.CCa,"cdnIdBlackList")],a.prototype,"apa",null);q.__decorate([d.config(d.string,"forceTimedTextTrack")],a.prototype,"isa",null);q.__decorate([d.config(d.fD,"imageSubsResolution")],a.prototype,"Aua",null);q.__decorate([d.config(d.fD,"timedTextSimpleFallbackThreshold")],a.prototype,"wS",null);q.__decorate([d.config(d.TL,"timedTextProfiles")],a.prototype,"rx",null);q.__decorate([d.config(d.TL,"imscLanguageList")],a.prototype,"kQ",null);q.__decorate([d.config(d.TL,"auxiliaryManifestAudioProfileNeedsBitrateMatching")],a.prototype,"wWa",null);a=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(f.qn)),q.__param(1,(0,k.u)(h.bI))],a);b.FKa=a;},function(q,b){function a(c){this.Kc=c;this.ac=JSON.stringify(this.XMb());}Object.defineProperty(b,"__esModule",{value:!0});b.LKa=void 0;a.prototype.XMb=function(){var c;c=[];(!this.Kc.Ai || 0 >= this.Kc.Ai.length) && c.push({error:"No CDN."});this.Kc.OX || c.push({error:"No default audio track.",foundTracks:this.Usa(this.Kc.yj)});this.Kc.V9 || c.push({error:"No default video track.",foundTracks:this.Usa(this.Kc.jD)});this.Kc.SX || c.push({error:"No default subtitle track.",foundTracks:this.Usa(this.Kc.Si)});return c;};a.prototype.Usa=function(c){return c && 0 < c.length?c.map(function(k){return k.trackId;}):"No tracks found.";};b.LKa=a;},function(q,b,a){var k,g,f,d,h;function c(m,l){this.bTb=m;this.jUb=l;}Object.defineProperty(b,"__esModule",{value:!0});b.DKa=void 0;q=a(2);k=a(0);g=a(542);f=a(543);d=a(41);h=a(3);c.prototype.create=function(m){var l;if(m && !this.ERb(m)){if(this.KRb(m))throw d.Ad.H9b(h.W.NM,h.S.Cqb,m);l=this.bTb();l.iVa(m.links);this.jUb.yP(m);return {Tb:m,rl:l,v6a:!1,u6a:!1};}};c.prototype.KRb=function(m){return ("type" in m) && "muxed" === m.type;};c.prototype.ERb=function(m){return ("runtime" in m) && ! !m.runtime;};a=c;a=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(g.TMa)),q.__param(1,(0,k.u)(f.CKa))],a);b.DKa=a;},function(q,b,a){var k,g;function c(f){this.NIb=f;this.w8a={Ro:"drmType",Tfc:"drmVersion",expiration:"expiration",L:"movieId",Pq:"packageId",duration:"duration",lj:"playbackContextId",U9:["defaultTrackOrderList",{MQ:"mediaId",OS:"videoTrackId",agb:"subtitleTrackId",Lo:"audioTrackId",Bic:"preferenceOrder"}],Xfc:["eligibleABTestMap",{Tk:g.Tk}],Xec:["badgingInfo",{Mfc:"dolbyDigitalAudio",Hgc:"hdrVideo",Nfc:"dolbyVisionVideo",Sjc:"ultraHdVideo","3dVideo":"3dVideo",Lfc:"dolbyAtmosAudio",Pec:"assistiveAudio",ajc:"sdVideo",Ggc:"hdVideo"}],type:"type",Sec:["audioTextShortcuts",{id:"id",Lo:"audioTrackId",Hjc:"textTrackId"}],wic:"partiallyHydrated",$8a:"maxRecommendedAudioRank",a9a:"maxRecommendedTextRank",Bm:"drmContextId",mPb:"hasDrmProfile",lPb:"hasClearProfile",jK:"hasDrmStreams",aua:"hasClearStreams",hk:["locations",{oc:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],jm:["servers",{id:"id",name:"name",type:"type",oc:"rank",l8a:"lowgrade",lHb:["dns",{host:"host",dRb:"ipv4",eRb:"ipv6",wKb:"forceLookup"}],key:"key"}],zv:["audio_tracks",{type:"type",UL:"subType",variant:"variant",Ti:"trackType",Qg:"new_track_id",CS:"track_id",V_b:"profileType",o5b:"stereo",profile:"profile",channels:"channels",language:"language",fBb:"channelsFormat",Q2:"surroundFormatLabel",TF:"languageDescription",cHb:"disallowedSubtitleTracks",i_a:"defaultTimedText",isNative:"isNative",OF:"isNoneTrack",streams:["streams",{pq:"downloadable_id",size:"size",AJ:"content_profile",Ti:"trackType",bitrate:"bitrate",Fj:"isDrm",urls:["urls",{hq:"cdn_id",url:"url"}],qWb:"new_stream_id",type:"type",channels:"channels",fBb:"channelsFormat",Q2:"surroundFormatLabel",language:"language",Rec:"audioKey",bWb:["moov",{size:"size",offset:"offset"}],dr:["sidx",{size:"size",offset:"offset"}],XC:["ssix",{size:"size",offset:"offset"}],Nj:"tags",O1:"representationId"}],fCb:"codecName",CG:"rawTrackType",id:"id",oc:"rank",jj:"hydrated",jXb:"offTrackDisallowed"}],Tz:["video_tracks",{Ti:"trackType",Qg:"new_track_id",type:"type",CS:"track_id",mPb:"hasDrmProfile",lPb:"hasClearProfile",jK:"hasDrmStreams",aua:"hasClearStreams",hK:"groupName",streams:["streams",{pq:"downloadable_id",size:"size",AJ:"content_profile",Ti:"trackType",JJ:"drmHeaderId",bitrate:"bitrate",Fj:"isDrm",urls:["urls",{hq:"cdn_id",url:"url"}],qWb:"new_stream_id",type:"type",yic:"peakBitrate",VGb:"dimensionsCount",WGb:"dimensionsLabel",Yab:"pix_w",Xab:"pix_h",ldb:"res_w",eAa:"res_h",GFb:"crop_x",HFb:"crop_y",FFb:"crop_w",EFb:"crop_h",T1a:"framerate_value",S1a:"framerate_scale",sfb:"startByteOffset",nb:"vmaf",bWb:["moov",{size:"size",offset:"offset"}],dr:["sidx",{size:"size",offset:"offset"}],XC:["ssix",{size:"size",offset:"offset"}],Ks:["segmentVmaf",{offset:"offset",nb:"vmaf"}],Nj:"tags",O1:"representationId"}],V_b:"profileType",o5b:"stereo",profile:"profile",VGb:"dimensionsCount",WGb:"dimensionsLabel",sjc:["snippets",{Tk:[g.Tk,{rjc:"snippetSpec",ya:"startTimeMs",za:"endTimeMs"}]}],Rqa:["drmHeader",{ga:"bytes",BBb:"checksum",JJ:"drmHeaderId",gi:"keyId",pp:["resolution",{height:"height",width:"width"}]}],n1:["prkDrmHeaders",{ga:"bytes",BBb:"checksum",JJ:"drmHeaderId",gi:"keyId",pp:["resolution",{height:"height",width:"width"}]}],dw:"flavor",Rgc:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",Gya:"pixelAspectX",Hya:"pixelAspectY",zhc:"maxCroppedWidth",yhc:"maxCroppedHeight",Ahc:"maxCroppedX",Bhc:"maxCroppedY",Jhc:"max_framerate_value",Ihc:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",Shc:"minCroppedWidth",Rhc:"minCroppedHeight",Thc:"minCroppedX",Uhc:"minCroppedY",Jh:["license",{YSb:"licenseResponseBase64",Hic:"providerSessionToken",ejc:"secureStopExpected",Sfc:"drmSessionId",links:["links",{}]}]}],mX:["cdnResponseData",{HL:"sessionABTestCell",mp:"pbcid"}],Mo:["choiceMap",{xe:"initialSegment",type:"type",M:"viewableId",P:["segments",{Tk:[g.Tk,{ya:"startTimeMs",za:"endTimeMs",next:["next",{Tk:[g.Tk,{weight:"weight"}]}],vc:"defaultNext",tq:"exitZones"}]}]}],Hn:["contentPlaygraph",{la:["playgraph",{xe:"initialSegment",P:["segments",{Tk:[g.Tk,{M:"viewableId",ya:"startTimeMs",za:"endTimeMs",next:["next",{Tk:[g.Tk,{weight:"weight"}]}],vc:"defaultNext"}]}]}],xjc:["startIdent",{Sgc:"identToken",M:"viewableId"}]}],media:["media",{id:"id",sf:["tracks",{mc:"AUDIO",nn:"TEXT",Vb:"VIDEO"}]}],C1:["recommendedMedia",{OS:"videoTrackId",Lo:"audioTrackId",xS:"timedTextTrackId"}],b3:["timedtexttracks",{Ti:"trackType",Qg:"new_track_id",type:"type",UL:"subType",variant:"variant",CG:"rawTrackType",TF:"languageDescription",language:"language",id:"id",OF:"isNoneTrack",Mba:"isForcedNarrative",R_a:["downloadableIds",{}],BXa:["cdnlist",{id:"id",name:"name",type:"type",oc:"rank",l8a:"lowgrade",lHb:["dns",{host:"host",dRb:"ipv4",eRb:"ipv6",wKb:"forceLookup"}],key:"key"}],ACa:["ttDownloadables",{Tk:[g.Tk,{id:"id",size:"size",Gjc:"textKey",Fgc:"hashValue",Egc:"hashAlgo",dhc:"isImage",jxa:"midxOffset",A9a:"midxSize",height:"height",width:"width",Sv:["downloadUrls",{}],urls:["urls",{url:"url",hq:"cdn_id"}]}]}],Pba:"isLanguageLeftToRight",uw:"headIdentDuration",oc:"rank",jj:"hydrated"}],q7b:["trickplays",{pq:"downloadable_id",size:"size",urls:"urls",id:"id",interval:"interval",mZb:"pixelsAspectY",lZb:"pixelsAspectX",width:"width",height:"height",uw:"headIdentDuration"}],Xib:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],Rfc:"dpsid",ei:"isBranching",Uz:"viewableType",zQ:"isSupplemental",XBb:"clientIpAddress",Xjc:"urlExpirationDuration",uhc:"manifestExpirationDuration",zjc:["steeringAdditionalInfo",{Ajc:"steeringId",Mec:"additionalGroupNames",Cjc:["streamingClientConfig",{}]}],Yj:"auxiliaryManifestToken",nca:["liveMetadata",{zHb:["downloadableIdToSegmentTemplateId",{Tk:g.Tk}],V2b:["segmentTemplateIdToSegmentTemplate",{Tk:[g.Tk,{Tec:"availabilityStartTime",OQb:"initialization",media:"media",Cic:"presentationTimeOffset",yjc:"startNumber",duration:"duration",I:"timescale"}]}]}],Rfb:"streamingType"};this.kUb=Object.assign(Object.assign({},this.w8a),{xWa:["auxiliaryManifests",this.w8a]});}Object.defineProperty(b,"__esModule",{value:!0});b.BKa=void 0;q=a(2);k=a(0);g=a(233);c.prototype.yP=function(f){this.NIb.yP(f,this.kUb);};a=c;a=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(g.pHa))],a);b.BKa=a;},function(q,b,a){var k;function c(g,f,d,h,m){this.t8=this.Wn=this.E0=this.D0=k.Qx;this.request=g;this.type=g.responseType;this.Km=h;this.abort=f;this.timeout=d;this.t8=m;}Object.defineProperty(b,"__esModule",{value:!0});b.CIa=void 0;k=a(16);c.prototype.J3b=function(g){this.D0=g;};c.prototype.P3b=function(g){this.E0=g;};c.prototype.A3b=function(g){this.Wn=g;};b.CIa=c;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.vZa=void 0;b.vZa=function(a,c,k,g){return {JNb:function(){var f;f=a.pta();g.uw && (f+=g.uw);return f;},Ha:c,request:k,Zf:!1};};},function(q,b,a){var k,g,f,d;function c(h){return -1 < ["simplesdh","dfxp-ls-sdh","imsc1.1"].indexOf(h);}Object.defineProperty(b,"__esModule",{value:!0});b.Mqb=void 0;k=a(2);q=a(121);g=a(1281);f=a(1286);d=a(1293);a=(function(h){function m(l,n){var p,r,t,w;t=h.call(this) || this;t.Yk=!0;t.yV=[];t.ky=0;t.dUa=!0;w=l.Zf || !1;t.Wa=l.Ha || console;t.OI=l.request;t.fy=l.JNb;t.t7=null !== (p=l.Cgc) && void 0 !== p?p:function(v,u){return v - (null !== u && void 0 !== u?u:t.fy());};t.Ch=null;t.Yk=!0;t.yV=[];t.SV=n.profile;t.wm=n.url;t.MI=n.Xd;t.RV=n.preferences;t.iV=n.Gh;t.ky=t.MI || 0;t.dUa=null !== (r=n.Kic) && void 0 !== r?r:!0;l={url:t.wm,request:t.OI,Xd:t.MI,xml:n.xml,preferences:t.RV,Gh:t.iV,Ha:t.Wa,Zf:w,bufferSize:n.bufferSize,Hw:n.Hw,rza:n.rza || 0,YWa:n.YWa};if("nflx-cmisc" === t.SV)(l.offset=n.jxa,l.size=n.A9a,l.efa=n.efa,l.i0a=n.i0a,t.Bd=new f(l));else if(c(t.SV) && "function" === typeof g)t.Bd=new g(l);else throw Error("SubtitleManager: " + t.SV + " is an unsupported profile");t.Bd.on("ready",function(){var v,u;v=! !n.vWa;t.Wa.info("ready event fired by subtitle stream");t.emit("ready");u=t.Bd.QP.bind(t.Bd);t.Ch=new d(t.fy,u,t.t7,function(){return t.Yk;},t.Wa,n);if("dfxp-ls-sdh" === t.SV && "function" === typeof g)t.Ch.on("stagesubtitle",t.Z4b.bind(t));t.Ch.on("showsubtitle",t.nBa.bind(t));t.Ch.on("removesubtitle",t.Qza.bind(t));t.Ch.on("underflow",t.yp.bind(t));t.Ch.on("bufferingComplete",t.yf.bind(t));v && (t.Wa.info("autostarting subtitles"),setTimeout(function(){t.vx(t.fy());},10));});t.Bd.on("error",t.emit.bind(t,"error"));return t;}k.__extends(m,h);m.prototype.start=function(){this.Bd.start();};m.prototype.Zbb=function(){this.Yk || (this.Yk=!0,this.y0a(this.ky));};m.prototype.vx=function(l){this.dUa && !this.Yk && 1E4 < Math.abs(l - this.ky) && (this.Wa.warn("Detected an unexpected pts jump larger than",1E4,"at",l,". If this is a seamless segment transition then the ptsShift API","should have been called before the pts change was reflected."),this.Zbb());this.ky=l;this.Yk && (this.Yk=!1,this.a5b(l));null !== this.Ch && (this.V7b(l),this.Ch.vx(l));};m.prototype.stop=function(){var l;this.Wa.info("stop called");this.Yk || this.pause();this.Bd.removeAllListeners(["ready"]);null !== this.Ch && this.Ch.stop();l=this.yV.reduce(function(n,p){n.afb+=p.u2;n.E$+=p.F$ || 0;n.aRb.push(p);return n;},{afb:0,E$:0,aRb:[]});"object" === typeof this.Bd && this.Bd.close();this.Wa.info("metrics: " + JSON.stringify(l));return l;};m.prototype.pause=function(){var l;l=this.fy();this.Yk?this.Wa.warn("pause called on subtitle manager, but it was already paused!"):(this.Wa.info("pause called at " + l),this.Yk=!0,this.y0a(l));null !== this.Ch && this.Ch.pause();};m.prototype.Kaa=function(l,n){return "function" === typeof this.Bd.Kaa?this.Bd.Kaa(l,n):[];};m.prototype.nw=function(l,n){return this.Bd.nw(l,n);};m.prototype.QP=function(l){return this.Bd.QP(l);};m.prototype.SG=function(l){var p;function n(){p.Wa.info("bufferingComplete from setStreamStartPosition");p.emit("bufferingComplete");}p=this;"function" === typeof this.Bd.SG?this.Bd.SG(l,n):n();};m.prototype.oj=function(l,n){"function" === typeof this.Bd.oj && this.Bd.oj(l,n);};m.prototype.Oj=function(l,n){"function" === typeof this.Bd.Oj && this.Bd.Oj(l,n);};m.prototype.Ksa=function(){return this.yV[this.yV.length - 1];};m.prototype.nBa=function(l){var n,p,r,v;p=0;this.Wa.info("show subtitle called at " + this.fy() + " for displayTime " + l.displayTime);this.emit("showsubtitle",l);r=this.Ksa();r.dS || (r.dS={});if(c(this.SV))try{for(var t=k.__values(l.blocks),w=t.next();!w.done;w=t.next()){v=w.value;r.dS[v.id] || (p++,r.dS[v.id]=!0);}}catch(x){var u;u={error:x};}finally{try{w && !w.done && (n=t.return) && n.call(t);}finally{if(u)throw u.error;}}else r.dS[l.id] || (p++,r.dS[l.id]=!0);r.u2+=p;};m.prototype.Qza=function(l){this.Wa.info("remove subtitle called at " + this.fy() + " for remove time " + (l.displayTime + l.duration));this.emit("removesubtitle",l);};m.prototype.Z4b=function(l){this.Wa.info("stage subtitle called at " + this.fy() + " for displayTime " + l.displayTime);this.emit("stagesubtitle",l);};m.prototype.yp=function(){this.Wa.info("underflow fired by the subtitle timer");this.emit("underflow");};m.prototype.yf=function(){this.Wa.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");};m.prototype.a5b=function(l){this.Wa.info("creating a new subtitle interval at " + l);this.yV.push({da:l,u2:0});};m.prototype.V7b=function(l){var n;n=this.Ksa();n && (n.Qva=l);};m.prototype.y0a=function(l){var n;this.Wa.info("ending subtitle interval at " + l);n=this.Ksa();n && (n.Ta=l,n.Ta < n.da && (this.Wa.warn("correcting for interval where endPts is smaller than startPts"),n.da=0 < n.Ta?n.Ta - 1:0),n.F$=this.Bd.nw(n.da,n.Ta),delete n.dS,n.F$ > n.u2 && n.Qva && 500 > n.Ta - n.Qva && (n.F$=this.Bd.nw(n.da,n.Qva)),this.Wa.info("showed " + n.u2 + " during this interval"),this.Wa.info("expected " + n.F$ + " for this interval"));};return m;})(q.EventEmitter);b.Mqb=a;b.default=a;},function(q,b,a){var v,u,x,y,z,A,B,D,C;function c(F){var G,E,I,K,L;G=F.preferences;E=F.Gh;I=F.Xd;K=F.xml;L=F.Ha;if(!F.xml && !F.request)throw Error("FullTextStream requires either a 'request' function or the 'xml' data");v.call(this);this.Te=this.Vla=null;this.RV="object" === typeof G?F.preferences:{};this.iV="object" === typeof E?F.Gh:{};this.sE="number" === typeof I?F.Xd:0;this.$I="string" === typeof K?F.xml:"";this.Wa="object" === typeof L?F.Ha:C;this.OI=F.request;this.wm=F.url;this.sI=[];this.ky=this.sE;this.Ch=null;this.Ema=this.eUa=!1;this.Hrb=F.rza || 0;}function k(F,G){return F && "object" === typeof F[G] && null !== F[G]?F[G]:{};}function g(F,G){return F !== G && !(F && 0 === Object.keys(F).length && G && 0 === Object.keys(G).length);}function f(){var F,G,E;F=this;G=F.$I.indexOf("<p");if(-1 < G){E=F.$I.slice(0,G);m(E,function(I,K){null !== I?(I.Kgc=E,F.emit("error",I)):(F.Vla=K,F.Te=new x(F.$I,K.tickRate),h.call(F,F.sE));});}else F.emit("error",Error("paragraph tag not found when searching for '<p'; could not build index"));}function d(F,G){var E;E=F.filter(function(I){return I.startTime <= G && G <= I.endTime;});F=F.filter(function(I){return I.startTime > G;});return 0 < F.length?E.concat([F[0]]):E;}function h(F){var G,E,I,K,L,H,P;G=this;E=G.Vla;I=0;K=[];L=E.defaultStyle?[E.defaultStyle]:[];G.Wa.info("parsing the next 5 entries...");H=G.Te.kNb(F);G.Wa.info(H);P=u.ub(!0);P.onerror=function(N){N.xml=H;G.emit("error",N);};P.onend=function(){var N;N=G.sI.reduce(function(J,M){M=M.blocks.reduce(function(O,Q){return O.concat([Q.id]);},[]);return J.concat(M);},[]);K.forEach(function(J){var M;if(-1 === N.indexOf(J.id)){M=J && J.blocks && J.blocks.filter(function(O){return 0 < O.textNodes.length;});M && 0 < M.length && (J.blocks=M,G.sI.push(J));}});G.Ema=!1;G.eUa || (G.eUa=!0,G.emit("ready"));};P.ontext=function(N){("" !== N.trim() || N.match(/ +/)) && r(r(K).blocks).textNodes.push({text:N.match(/ +/)?N:N.trim(),style:r(L),lineBreaks:I});I=0;};P.onclosetag=function(){"undefined" !== typeof P.tag.attributes.style && L.pop();};P.onopentag=function(N){var J,M,O,Q,T;J=N.attributes;M=N.name;N=E.tickRate;if("p" === M){I=0;M=J["xml:id"];J.style && L.push(J.style);O=Math.floor(parseInt(J.begin) / N * 1E3);if(0 === K.length || r(K).displayTime !== O){O=K.push;Q={};T=parseInt(J.begin) / N;N=parseInt(J.end) / N;Q.id=M;Q.startTime=Math.floor(1E3 * T);Q.endTime=Math.floor(1E3 * N);Q.style=J.style;Q.region=J.region;Q.displayTime=Q.startTime;Q.duration=Q.endTime - Q.startTime;Q.extent=J["tts:extent"] || null;Q.origin=J["tts:origin"] || null;Q.latestEndSoFar=0 > Q.endTime?0:Q.endTime;Q.blocks=[{textNodes:[],region:Q.region,id:M,extent:Q.extent,origin:Q.origin}];O.call(K,Q);}else r(K).blocks.push({textNodes:[],region:J.region,id:M,extent:J["tts:extent"] || null,origin:J["tts:origin"] || null});}else "span" === M?L.push(J.style):"br" === M && I++;};P.write("<entries>").write(H).write("</entries>").close();}function m(F,G){var E,I,K,L,H,P;E=u.ub(!0);I={};K=[];L=null;H=[];P={};E.onerror=function(N){G(N,null);};E.onend=function(){G(null,I);};E.onclosetag=function(){K.pop();};E.onopentag=function(N){var J,M,O,Q;J=N.attributes;M=N.name;O=I.regions;Q=I.styles;K.push(N);if("tt" === M)I=l(J);else if("body" === M)"undefined" !== typeof J.style && (I.defaultStyle=J.style,H.push(J.style));else if("initial" === M && p(K,"styling"))P=n(J,A);else if("style" === M && p(K,"styling")){O=J["xml:id"];N=P;J=n(J,A);if(Object.keys(N).length)for(var T in N){"undefined" === typeof J[T] && (J[T]=N[T]);}Q[O]=J;}else "style" === M && p(K,"region")?(Q=Object.keys(J)[0],"string" === typeof Q && (O[L][Q.slice(4)]=J[Q])):"region" === M && p(K,"layout") && (L=J["xml:id"],O[L]=n(J,D));};setTimeout(function(){var N;for(E.write(F);0 < K.length && !E.error;){N=r(K).name;E.write("</" + N + ">");}E.close();},10);}function l(F){var G;F=n(F,B);if("string" === typeof F.extent){G=F.extent.split(" ").map(function(E){return parseInt(E,10);});F.width=G[0];F.height=G[1];}else (F.width=1280,F.height=720);F.aspectRatio=F.width / F.height;"string" === typeof F.cellResolution?(G=F.cellResolution.split(" ").map(function(E){return parseInt(E,10);}),F.cellResolution={},F.cellResolution.x=G[0],F.cellResolution.y=G[1]):F.cellResolution={x:52,y:19};return F;}function n(F,G){var E;E={};G.forEach(function(I){"undefined" !== typeof F["tts:" + I]?E[I]=F["tts:" + I]:"undefined" !== typeof F["ttp:" + I]?E[I]=F["ttp:" + I]:"undefined" !== typeof F["ebutts:" + I]?E[I]=F["ebutts:" + I]:"undefined" !== typeof F["xml:" + I] && (E[I]=F["xml:" + I]);});E.styles={};E.regions={};return E;}function p(F,G){var E;for(E=F.length - 1;0 <= E;E--){if(F[E].name === G)return !0;}return !1;}function r(F){if(!Array.isArray(F))throw Error("last called on non-array: " + F);return F[F.length - 1];}function t(F,G){return {lineBreaks:G.lineBreaks,text:G.text,style:z.rFb(F[G.style] || ({}),this.iV,this.RV),id:G.id};}function w(F,G){var E,I;E=this;I=F.styles || ({});return {startTime:G.startTime,id:G.id,endTime:G.endTime,displayTime:G.displayTime,duration:G.duration,blocks:G.blocks.map(function(K){var L;L=y.mFb(F,K);return {textNodes:K.textNodes.map(t.bind(E,I)),region:L,id:K.id};})};}v=a(121).EventEmitter;u=a(1282);x=a(1283);y=a(1284);z=a(1285);A=("color fontSize fontWeight fontStyle textAlign fontFamily backgroundColor textDecoration textOutline multiRowAlign direction").split(" ");B=("cellResolution pixelAspectRatio tickRate timeBase extent lang").split(" ");D=("backgroundColor displayAlign extent origin writingMode multiRowAlign").split(" ");C={info:function(){}};b=Object.create(v.prototype);c.prototype=b;b.start=function(){var F;F=this;F.Wa.info("incremental text stream created, starting at pts " + F.sE);F.$I?f.call(F):F.OI({url:F.wm},function(G,E){F.$I=E;f.call(F);});};b.QP=function(F){var G,E,I;G=this;F < G.ky - G.Hrb && (G.sI=[]);E=G.sI;I=0 < E.length?E[E.length - 1].startTime:F;G.ky=F;for(!G.Ch && 5 > G.sI.length && !G.Ema && (G.Wa.info("buffer size: " + G.sI.length + "; minimum: 5"),G.Ema=!0,G.Ch=setTimeout(function(){G.Ch=null;h.call(G,I + 1);},10));0 < E.length && E[0].endTime < F;){E.shift();}E=d(E,F).map(w.bind(G,G.Vla));F < G.Te.OJb() && 0 === E.length && (E=null);return E;};b.nw=function(F,G){return this.Te?this.Te.nw(F,G):0;};b.close=function(){};b.Wjc=function(F){var G;G=k(F,"preferences");F=k(F,"defaults");return g(G,this.RV) || g(F,this.iV)?(this.RV=G,this.iV=F,!0):!1;};q.exports=c;},function(q,b){(function(a){var x,y,z,A,B,D,C,F,G,E,I,K,L,H,P,N;function c(){}function k(J,M){if(!(this instanceof k))return new k(J,M);for(var O=0,Q=x.length;O < Q;O++){this[x[O]]="";}this.q=this.c=this.Uo=this.textNode="";this.RWa=a.Xia;this.lp=M || ({});this.lp.j8a=this.lp.j8a || this.lp.nhc;this.vwa=this.lp.j8a?"toLowerCase":"toUpperCase";this.Nj=[];this.closed=this.pX=this.QR=!1;this.tag=this.error=null;this.jo=! !J;this.v$a=!(!J && !this.lp.v$a);this.state=N.jha;this.eA=(this.Sfb=this.lp.Sfb)?Object.create(a.erb):Object.create(a.eA);this.CE=[];this.lp.T3 && (this.vl=Object.create(L));if(this.$fa=!1 !== this.lp.position)this.position=this.line=this.qX=0;this.onready && this.onready(void 0);}function g(J,M){var O;if(!(this instanceof g))return new g(J,M);c.apply(this);this.MA=new k(J,M);this.readable=this.writable=!0;O=this;this.MA.onend=function(){O.emit("end");};this.MA.onerror=function(Q){O.emit("error",Q);O.MA.error=null;};y.forEach(function(Q){Object.defineProperty(O,"on" + Q,{get:function(){return O.MA["on" + Q];},set:function(T){if(!T)return (O.removeAllListeners(Q),O.MA["on" + Q]=T);O.on(Q,T);},enumerable:!0,configurable:!1});});}function f(J){return J.split("").reduce(function(M,O){M[O]=!0;return M;},{});}function d(J,M){return "[object RegExp]" === Object.prototype.toString.call(J)?! !M.match(J):J[M];}function h(J,M,O){J.textNode && m(J);J[M] && J[M](O);}function m(J){J.textNode=l(J.lp,J.textNode);J.textNode && J.ontext && J.ontext(J.textNode);J.textNode="";}function l(J,M){J.trim && (M=M.trim());J.normalize && (M=M.replace(/\s+/g," "));return M;}function n(J,M){m(J);J.$fa && (M+="\nLine: " + J.line + "\nColumn: " + J.qX + "\nChar: " + J.c);M=Error(M);J.error=M;J.onerror && J.onerror(M);return J;}function p(J){J.QR && !J.pX && r(J,"Unclosed root tag");J.state !== N.jha && J.state !== N.kha && J.state !== N.nn && n(J,"Unexpected end");m(J);J.c="";J.closed=!0;J.onend && J.onend(void 0);k.call(J,J.jo,J.lp);return J;}function r(J,M){if("object" !== typeof J || !(J instanceof k))throw Error("bad call to strictFail");J.jo && n(J,M);}function t(J,M){var O,Q;O=0 > J.indexOf(":")?["",J]:J.split(":");Q=O[0];O=O[1];M && "xmlns" === J && (Q="xmlns",O="");return {prefix:Q,local:O};}function w(J){var M,O,Q;J.jo || (J.Wj=J.Wj[J.vwa]());if(-1 !== J.CE.indexOf(J.Wj) || J.tag.attributes.hasOwnProperty(J.Wj))return J.Wj=J.Xj="";if(J.lp.T3){M=t(J.Wj,!0);O=M.local;if("xmlns" === M.prefix)if("xml" === O && J.Xj !== I)r(J,"xml: prefix must be bound to " + I + "\nActual: " + J.Xj);else if("xmlns" === O && J.Xj !== K)r(J,"xmlns: prefix must be bound to " + K + "\nActual: " + J.Xj);else {M=J.tag;Q=J.Nj[J.Nj.length - 1] || J;M.vl === Q.vl && (M.vl=Object.create(Q.vl));M.vl[O]=J.Xj;}J.CE.push([J.Wj,J.Xj]);}else (J.tag.attributes[J.Wj]=J.Xj,h(J,"onattribute",{name:J.Wj,value:J.Xj}));J.Wj=J.Xj="";}function v(J,M){var O,Q,V,da,pa,xa,ya;if(J.lp.T3){O=J.tag;Q=t(J.tagName);O.prefix=Q.prefix;O.local=Q.local;O.uri=O.vl[Q.prefix] || "";O.prefix && !O.uri && (r(J,"Unbound namespace prefix: " + JSON.stringify(J.tagName)),O.uri=Q.prefix);Q=J.Nj[J.Nj.length - 1] || J;O.vl && Q.vl !== O.vl && Object.keys(O.vl).forEach(function(sa){h(J,"onopennamespace",{prefix:sa,uri:O.vl[sa]});});Q=0;for(var T=J.CE.length;Q < T;Q++){V=J.CE[Q];da=V[0];pa=V[1];xa=t(da,!0);V=xa.prefix;ya="" == V?"":O.vl[V] || "";pa={name:da,value:pa,prefix:V,local:xa.local,uri:ya};V && "xmlns" != V && !ya && (r(J,"Unbound namespace prefix: " + JSON.stringify(V)),pa.uri=V);J.tag.attributes[da]=pa;h(J,"onattribute",pa);}J.CE.length=0;}J.tag.ghc=! !M;J.QR=!0;J.Nj.push(J.tag);h(J,"onopentag",J.tag);M || (J.state=J.v$a || "script" !== J.tagName.toLowerCase()?N.nn:N.dN,J.tag=null,J.tagName="");J.Wj=J.Xj="";J.CE.length=0;}function u(J){var M,O,T;if(J.tagName){if(J.Bl){if("script" !== J.tagName){J.Bl+="</" + J.tagName + ">";J.tagName="";J.state=N.dN;return;}h(J,"onscript",J.Bl);J.Bl="";}M=J.Nj.length;O=J.tagName;J.jo || (O=O[J.vwa]());for(var Q=O;M--;){if(J.Nj[M].name !== Q)r(J,"Unexpected close tag");else break;}if(0 > M)(r(J,"Unmatched closing tag: " + J.tagName),J.textNode+="</" + J.tagName + ">");else {J.tagName=O;for(O=J.Nj.length;O-- > M;){T=J.tag=J.Nj.pop();J.tagName=J.tag.name;h(J,"onclosetag",J.tagName);for(var V in T.vl){;}Q=J.Nj[J.Nj.length - 1] || J;J.lp.T3 && T.vl !== Q.vl && Object.keys(T.vl).forEach(function(da){h(J,"onclosenamespace",{prefix:da,uri:T.vl[da]});});}0 === M && (J.pX=!0);J.tagName=J.Xj=J.Wj="";J.CE.length=0;}}else (r(J,"Weird empty close tag."),J.textNode+="</>");J.state=N.nn;}a.ub=function(J,M){return new k(J,M);};a.gdc=k;a.hdc=g;a.sZa=function(J){return new g(J,void 0);};a.Xia=65536;x=("comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script").split(" ");a.tf=("text processinginstruction sgmldeclaration doctype comment attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace").split(" ");Object.create || (Object.create=function(J){function M(){this.__proto__=J;}M.prototype=J;return new M();});Object.getPrototypeOf || (Object.getPrototypeOf=function(J){return J.__proto__;});Object.keys || (Object.keys=function(J){var M,O;M=[];for(O in J){J.hasOwnProperty(O) && M.push(O);}return M;});k.prototype={end:function(){p(this);},write:function(J){var T,V,da,pa,xa,ya;if(this.closed)return n(this,"Cannot write after close. Assign an onready handler.");if(null === J)return p(this);if(this.error)throw this.error;for(var M=0,O;this.c=O=J.charAt(M++);){switch((this.$fa && (this.position++,"\n" === O?(this.line++,this.qX=0):this.qX++),this.state)){case N.jha:if((this.state=N.kha,"\ufeff" === O))continue;case N.kha:"<" === O?(this.state=N.pja,this.HBa=this.position):d(z,O) || (r(this,"Non-whitespace before first tag."),this.textNode=O,this.state=N.nn);continue;case N.nn:if(this.QR && !this.pX){for(var Q=M - 1;O && "<" !== O && "&" !== O;){(O=J.charAt(M++)) && this.$fa && (this.position++,"\n" === O?(this.line++,this.qX=0):this.qX++);}this.textNode+=J.substring(Q,M - 1);}"<" !== O || this.QR && this.pX && !this.jo?(d(z,O) || this.QR && !this.pX || r(this,"Text data outside of root node."),"&" === O?this.state=N.Eka:this.textNode+=O):(this.state=N.pja,this.HBa=this.position);continue;case N.dN:"<" === O?this.state=N.oPa:this.Bl+=O;continue;case N.oPa:"/" === O?this.state=N.Bha:(this.Bl+="<" + O,this.state=N.dN);continue;case N.pja:"!" === O?(this.state=N.pka,this.yu=""):d(z,O) || (d(H,O)?(this.state=N.XLa,this.tagName=O):"/" === O?(this.state=N.Bha,this.tagName=""):"?" === O?(this.state=N.tMa,this.uea=this.pL=""):(r(this,"Unencoded <"),this.HBa + 1 < this.position && (O=Array(this.position - this.HBa).join(" ") + O),this.textNode+="<" + O,this.state=N.nn));continue;case N.pka:(this.yu + O).toUpperCase() === G?(h(this,"onopencdata"),this.state=N.k4,this.Cn=this.yu=""):"--" === this.yu + O?(this.state=N.m4,this.yu=this.Gn=""):(this.yu + O).toUpperCase() === E?(this.state=N.s4,(this.doctype || this.QR) && r(this,"Inappropriately located doctype declaration"),this.yu=this.doctype=""):">" === O?(h(this,"onsgmldeclaration",this.yu),this.yu="",this.state=N.nn):(d(D,O) && (this.state=N.rPa),this.yu+=O);continue;case N.rPa:O === this.q && (this.state=N.pka,this.q="");this.yu+=O;continue;case N.s4:">" === O?(this.state=N.nn,h(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=O,"[" === O?this.state=N.Hha:d(D,O) && (this.state=N.WFa,this.q=O));continue;case N.WFa:this.doctype+=O;O === this.q && (this.q="",this.state=N.s4);continue;case N.Hha:this.doctype+=O;"]" === O?this.state=N.s4:d(D,O) && (this.state=N.VFa,this.q=O);continue;case N.VFa:this.doctype+=O;O === this.q && (this.state=N.Hha,this.q="");continue;case N.m4:"-" === O?this.state=N.aFa:this.Gn+=O;continue;case N.aFa:"-" === O?(this.state=N.$Ea,(this.Gn=l(this.lp,this.Gn)) && h(this,"oncomment",this.Gn),this.Gn=""):(this.Gn+="-" + O,this.state=N.m4);continue;case N.$Ea:">" !== O?(r(this,"Malformed comment"),this.Gn+="--" + O,this.state=N.m4):this.state=N.nn;continue;case N.k4:"]" === O?this.state=N.SEa:this.Cn+=O;continue;case N.SEa:"]" === O?this.state=N.TEa:(this.Cn+="]" + O,this.state=N.k4);continue;case N.TEa:">" === O?(this.Cn && h(this,"oncdata",this.Cn),h(this,"onclosecdata"),this.Cn="",this.state=N.nn):"]" === O?this.Cn+="]":(this.Cn+="]]" + O,this.state=N.k4);continue;case N.tMa:"?" === O?this.state=N.Bja:d(z,O)?this.state=N.Aja:this.uea+=O;continue;case N.Aja:if(!this.pL && d(z,O))continue;else "?" === O?this.state=N.Bja:this.pL+=O;continue;case N.Bja:">" === O?(h(this,"onprocessinginstruction",{name:this.uea,body:this.pL}),this.uea=this.pL="",this.state=N.nn):(this.pL+="?" + O,this.state=N.Aja);continue;case N.XLa:if(d(P,O))this.tagName+=O;else {this.jo || (this.tagName=this.tagName[this.vwa]());Q=this.Nj[this.Nj.length - 1] || this;T=this.tag={name:this.tagName,attributes:{}};this.lp.T3 && (T.vl=Q.vl);this.CE.length=0;">" === O?v(this):"/" === O?this.state=N.V5:(!d(z,O) && r(this,"Invalid character in tag name"),this.state=N.uM);}continue;case N.V5:">" === O?(v(this,!0),u(this)):(r(this,"Forward-slash in opening tag not followed by >"),this.state=N.uM);continue;case N.uM:if(d(z,O))continue;else ">" === O?v(this):"/" === O?this.state=N.V5:d(H,O)?(this.Wj=O,this.Xj="",this.state=N.X3):r(this,"Invalid attribute name");continue;case N.X3:"=" === O?this.state=N.Rga:">" === O?(r(this,"Attribute without value"),this.Xj=this.Wj,w(this),v(this)):d(z,O)?this.state=N.tDa:d(P,O)?this.Wj+=O:r(this,"Invalid attribute name");continue;case N.tDa:if("=" === O)this.state=N.Rga;else if(d(z,O))continue;else (r(this,"Attribute without value"),this.Xj=this.tag.attributes[this.Wj]="",h(this,"onattribute",{name:this.Wj,value:""}),this.Wj="",">" === O?v(this):d(H,O)?(this.Wj=O,this.state=N.X3):(r(this,"Invalid attribute name"),this.state=N.uM));continue;case N.Rga:if(d(z,O))continue;else d(D,O)?(this.q=O,this.state=N.Uga):(r(this,"Unquoted attribute value"),this.state=N.Vga,this.Xj=O);continue;case N.Uga:if(O !== this.q){"&" === O?this.state=N.Sga:this.Xj+=O;continue;}w(this);this.q="";this.state=N.uDa;continue;case N.uDa:d(z,O)?this.state=N.uM:">" === O?v(this):"/" === O?this.state=N.V5:d(H,O)?(r(this,"No whitespace between attributes"),this.Wj=O,this.Xj="",this.state=N.X3):r(this,"Invalid attribute name");continue;case N.Vga:if(!d(F,O)){"&" === O?this.state=N.Tga:this.Xj+=O;continue;}w(this);">" === O?v(this):this.state=N.uM;continue;case N.Bha:if(this.tagName)">" === O?u(this):d(P,O)?this.tagName+=O:this.Bl?(this.Bl+="</" + this.tagName,this.tagName="",this.state=N.dN):(!d(z,O) && r(this,"Invalid tagname in closing tag"),this.state=N.YEa);else if(d(z,O))continue;else d(H,O)?this.tagName=O:this.Bl?(this.Bl+="</" + O,this.state=N.dN):r(this,"Invalid tagname in closing tag.");continue;case N.YEa:if(d(z,O))continue;">" === O?u(this):r(this,"Invalid characters in closing tag");continue;case N.Eka:case N.Sga:case N.Tga:switch(this.state){case N.Eka:(V=N.nn,da="textNode");break;case N.Sga:V=N.Uga;da="attribValue";break;case N.Tga:(V=N.Vga,da="attribValue");}if(";" === O){O=da;Q=this[O];T=this.Uo;pa=T.toLowerCase();xa="";if(this.eA[T])T=this.eA[T];else if(this.eA[pa])T=this.eA[pa];else {T=pa;if("#" === T.charAt(0))if("x" === T.charAt(1)){T=T.slice(2);ya=parseInt(T,16);xa=ya.toString(16);}else (T=T.slice(1),ya=parseInt(T,10),xa=ya.toString(10));T=T.replace(/^0+/,"");T=xa.toLowerCase() !== T?(r(this,"Invalid character entity"),"&" + this.Uo + ";"):String.fromCodePoint(ya);}this[O]=Q + T;this.Uo="";this.state=V;}else d(C,O)?this.Uo+=O:(r(this,"Invalid character entity"),this[da]+="&" + this.Uo + O,this.Uo="",this.state=V);continue;default:throw Error(this,"Unknown state: " + this.state);}}if(this.position >= this.RWa){J=Math.max(a.Xia,10);O=M=0;for(V=x.length;O < V;O++){da=this[x[O]].length;if(da > J)switch(x[O]){case "textNode":m(this);break;case "cdata":h(this,"oncdata",this.Cn);this.Cn="";break;case "script":h(this,"onscript",this.Bl);this.Bl="";break;default:n(this,"Max buffer length exceeded: " + x[O]);}M=Math.max(M,da);}this.RWa=a.Xia - M + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);},flush:function(){m(this);"" !== this.Cn && (h(this,"oncdata",this.Cn),this.Cn="");"" !== this.Bl && (h(this,"onscript",this.Bl),this.Bl="");}};y=a.tf.filter(function(J){return "error" !== J && "end" !== J;});g.prototype=Object.create(c.prototype,{constructor:{value:g}});g.prototype.write=function(J){this.MA.write(J.toString());this.emit("data",J);return !0;};g.prototype.end=function(J){J && J.length && this.write(J);this.MA.end();return !0;};g.prototype.on=function(J,M){var O;O=this;O.MA["on" + J] || -1 === y.indexOf(J) || (O.MA["on" + J]=function(){var Q;Q=1 === arguments.length?[arguments[0]]:Array.apply(null,arguments);Q.splice(0,0,J);O.emit.apply(O,Q);});return c.prototype.on.call(O,J,M);};z="\r\n\t ";A="0124356789";B="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";D="'\"";C=A + B + "#";F=z + ">";G="[CDATA[";E="DOCTYPE";I="http://www.w3.org/XML/1998/namespace";K="http://www.w3.org/2000/xmlns/";L={xml:I,T3:K};z=f(z);A=f(A);B=f(B);H=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;P=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;D=f(D);C=f(C);F=f(F);N=0;a.RD={jha:N++,kha:N++,nn:N++,Eka:N++,pja:N++,pka:N++,rPa:N++,s4:N++,WFa:N++,Hha:N++,VFa:N++,bac:N++,m4:N++,aFa:N++,$Ea:N++,k4:N++,SEa:N++,TEa:N++,tMa:N++,Aja:N++,Bja:N++,XLa:N++,V5:N++,uM:N++,X3:N++,tDa:N++,Rga:N++,Uga:N++,uDa:N++,Vga:N++,Sga:N++,Tga:N++,Bha:N++,YEa:N++,dN:N++,oPa:N++};a.erb={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};a.eA={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(a.eA).forEach(function(J){var M;M=a.eA[J];M="number" === typeof M?String.fromCharCode(M):M;a.eA[J]=M;});for(N in a.RD){a.RD[a.RD[N]]=N;}N=a.RD;String.fromCodePoint || (function(){var M,O;function J(){var Q,T,V,pa,xa;Q=[];T=-1;V=arguments.length;if(!V)return "";for(var da="";++T < V;){pa=Number(arguments[T]);if(!isFinite(pa) || 0 > pa || 1114111 < pa || O(pa) != pa)throw RangeError("Invalid code point: " + pa);if(65535 >= pa)Q.push(pa);else {pa-=65536;xa=(pa >> 10) + 55296;pa=pa % 1024 + 56320;Q.push(xa,pa);}if(T + 1 == V || 16384 < Q.length)(da+=M.apply(null,Q),Q.length=0);}return da;}M=String.fromCharCode;O=Math.floor;Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:J,configurable:!0,writable:!0}):String.fromCodePoint=J;})();})(b);},function(q){function b(a,c){var k,g,f,d,h,m;k=[];g=a.indexOf("<p");f=-1;do {d={};d.T4b=g;h=a.indexOf("begin=",g) + 7;m=a.indexOf("end=",g) + 5;h=Math.floor(parseInt(a.substr(h,25),10) / c * 1E3);m=Math.floor(parseInt(a.substr(m,25),10) / c * 1E3);f=m > f?m:f;d.startTime=h;d.endTime=m;d.latestEndSoFar=f;d.J0a=a.indexOf("/p>",g) + 3;g=d.J0a;k.push(d);g=a.indexOf("<p",g);}while(-1 !== g);this.q7=k;this.$I=a;}b.prototype.OJb=function(){return this.q7[this.q7.length - 1].endTime;};b.prototype.nw=function(a,c){return this.q7.filter(function(k){return k.startTime <= c && k.endTime >= a;}).length;};b.prototype.kNb=function(a){for(var c="",k=this.q7.filter(function(f){return f.startTime <= a && a < f.endTime || f.startTime >= a;}),g=4;g + 1 < k.length && k[g + 1].startTime === k[4].startTime;){g++;}k=k.slice(0,g + 1);0 < k.length && (c=this.$I.slice(k[0].T4b,k[k.length - 1].J0a));return c;};q.exports=b;},function(q,b,a){var f,d,h,m;function c(l){return "string" !== typeof l?null:d[l];}function k(l){return "string" !== typeof l?null:h[l];}function g(l,n){var p;p=l.split(" ");l=p[0];p=p[1];-1 < l.indexOf("px")?(l=parseFloat(l) / n.width,p=parseFloat(p) / n.height):(l=.01 * parseFloat(l),p=.01 * parseFloat(p));return [l,p];}f=a(544);q.exports={mFb:function(l,n){var p,r,t,w,v,u;p=n.textNodes[0] || ({});r=l.regions;t=l.styles;w=l.aspectRatio;r=r && r[n.region]?r[n.region]:{};p=t && t[p.style]?t[p.style]:{};t=g(f(n.extent,r.extent,"80% 80%"),l);n=g(f(n.origin,r.origin,"10% 10%"),l);l=Object;w/=1280 / 720;v=(1 - w) / 2;u=n[0];n=n[1];t=l.create.call(l,{marginLeft:u * w + v,marginTop:n,marginRight:(1 - (u + t[0])) * w + v,marginBottom:1 - (n + t[1])});1 < Object.keys(r).length?t.verticalAlignment=c(f(p.displayAlign,r.displayAlign,"before")):t.verticalAlignment=c(f(p.displayAlign,"after"));t.horizontalAlignment=k(f(p.textAlign,r.textAlign,"center"));w=r.writingMode?r.writingMode:"lrtb";t.writingMode="string" !== typeof w?null:m[w];t.multiRowAlignment=k(f(p.multiRowAlign,r.multiRowAlign,p.textAlign,r.textAlign,"center"));return t;}};d={before:"top",center:"center",after:"bottom"};h={left:"left",start:"start",center:"center",right:"right",end:"end"};m={lrtb:"horizontal-tb",rltb:"horizontal-tb",tblr:"vertical-lr",tbrl:"vertical-rl"};},function(q,b,a){var g,f,d,h,m,l,n;function c(p){return "string" !== typeof p || "#" === p[0] && 7 === p.length?p:"#" === p[0] && 4 === p.length?"#" + p[1] + p[1] + p[2] + p[2] + p[3] + p[3]:d[p.toLowerCase()];}function k(p){var r,t,w;r=(p || "").split(" ");t=(/^[0-9]/).test(r);p=t?"#000000":c(r[0]);w=t?0:1;t=parseInt(r[w]);r=parseInt(r[w + 1]);return {color:p,width:0 < t?t:0,blur:0 < r?r:0};}g=a(544);q.exports={rFb:function(p,r,t){var w,v,u,x,y,z,A,B,D,C,F,G,E,I,K,L;w=g(t.characterSize,r.characterSize,"MEDIUM");v=p.fontFamily;v=g(t.characterStyle,"string" !== typeof v?null:h[v],r.characterStyle,"PROPORTIONAL_SANS_SERIF");u=(p.fontSize || "").split(" ")[0] || "";x=-1 < u.indexOf("%")?parseInt(u,10) / 100:-1 < u.indexOf("em")?parseFloat(u):1;u="underline" === p.textDecoration;y="italic" === p.fontStyle;z=f[g(t.C9b,r.C9b,"OPAQUE")];A=f[g(t.characterOpacity,r.characterOpacity,"OPAQUE")];B=f[g(t.backgroundOpacity,p.opacity,r.backgroundOpacity,"OPAQUE")];D=c(g(t.characterColor,p.color,r.characterColor,"#ffffff"));C=c(g(t.backgroundColor,p.backgroundColor,r.backgroundColor,null));F=c(g(t.Zib,p.Zib,r.Zib,null));G=g(t.characterEdgeAttributes,r.characterEdgeAttributes,null);x*=m[w] || 1;E=1;l[w] && (E=l[w][v] || 1);x*=1 / 19 * E;E=0;n[w] && (E=n[w][v] || 0);w=E;E=p.textOutline;E="string" !== typeof E?null:k(E).width;E=g(E,0);I=p.textOutline;I="string" !== typeof I?null:k(I).blur;I=g(I,0);K=t.characterEdgeColor;L=p.textOutline;L="string" !== typeof L?null:k(L).color;return {characterUnderline:u,characterItalic:y,characterStyle:v,windowOpacity:z,characterOpacity:A,backgroundOpacity:B,characterColor:D,backgroundColor:C,windowColor:F,characterEdgeAttributes:G,characterSize:x,characterTracking:w,characterEdgeWidth:E,characterEdgeBlur:I,characterEdgeColor:c(g(K,L,r.characterEdgeColor,"#000000")),direction:g(t.direction,p.direction,r.direction,"ltr")};}};f={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};d={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb",transparent:null};h={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};m={SMALL:.5,MEDIUM:1,"MEDIUM-LARGE":1.3,LARGE:2};l={MEDIUM:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15},SMALL:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15}};n={MEDIUM:{MONOSPACED_SANS_SERIF:2,MONOSPACED_SERIF:2},SMALL:{MONOSPACED_SANS_SERIF:1,MONOSPACED_SERIF:1}};},function(q,b,a){var k,g,f,d,h,m;function c(l){k.call(this);this.wm=l.url;this.OI=l.request;this.MI=l.Xd || 0;this.Wa=l.Ha;this.wj=this.pt=null;l.Hw?this.pt=l.Hw:(this.xf=l.offset,this.eO=l.size);this.xn;this.Bma=l;}k=a(121).EventEmitter;g=a(1287);f=a(1288);d=a(1289);h=a(173);m=c.events={fob:"midxready",pqb:"sidxready",cqb:"ready",rg:"error"};c.prototype=Object.create(k.prototype);c.prototype.constructor=c;Object.defineProperties(c.prototype,{Fr:{get:function(){return this.xn && this.xn.kqa;}}});c.prototype.start=function(){this.pt?(this.Wa.warn("midx was prefectched and provided"),this.xSa(this.pt)):this.usb(this.xf,this.eO,this.uvb.bind(this));};c.prototype.close=function(){};c.prototype.Kaa=function(l,n){return this.xn && this.xn.Lta(l,n);};c.prototype.nw=function(l,n){return (l=this.Kaa(l,n))?l.length:l;};c.prototype.SG=function(l,n){this.Wa.debug("setStreamStartPosition: buffering subtitles at pts " + l);this.MI=l;this.xn?this.xn.SG(l,n):n && n();};c.prototype.QP=function(l){var n,p,r;if(!this.xn || l > h.qMb(this.pt))return [];this.xn && this.xn.Pqa(l);n=this.Fr.dr;p=this.Fr.index;r=[];p=h.Gd(p) && this.wj[p + 1];if(!(p && p.entries.length || n && !(l > n.endTime)))return [];n && n.images.length && (r=this.KSa(n,l,[]));2 > r.length && p && p.images.length && (n=this.KSa(p,l,r),r.push.apply(r,n));return this.xn.lBa(l)?null:h.HYa(r);};c.prototype.Oj=function(l,n){this.xn && this.xn.Oj(l,n);};c.prototype.oj=function(l,n){this.xn && this.xn.oj(l,n);};c.prototype.usb=function(l,n,p){this.Wa.debug("downloading midx...");this.WSa(l,n,"binary",p);};c.prototype.wsb=function(l,n,p){this.Wa.debug("downloading sidx...");this.WSa(l,n,void 0,p);};c.prototype.WSa=function(l,n,p,r){this.OI({url:this.wm,offset:l,size:n,responseType:p},r);};c.prototype.uvb=function(l,n){if(l)this.emit(m.rg,h.gZ(l,"midxdownloaderror"));else try{this.pt=new g(n);this.xSa(this.pt);}catch(p){this.emit(m.rg,h.gZ(p,"midxparseerror"));}};c.prototype.xSa=function(l){var n;n=l.entries.reduce(function(p,r){return p + r.size;},0);n?(this.emit(m.fob,l),this.wsb(l.startOffset,n,this.xvb.bind(this,l))):this.emit(m.rg,h.gZ({},"nosidxfoundinmidx"));};c.prototype.xvb=function(l,n,p){var r,t,w,v;r=this;if(n)r.emit(m.rg,h.gZ(n,"sidxdownloaderror"));else {t=0;w=0;r.wj=[];try{v=0;l.entries.forEach(function(u){var x;x=new f(p,t,l.Nua,r.Wa,w,w + u.duration,v);r.wj.push(x);u.H4b=x;w=x.Es;t+=u.size;v++;});}catch(u){r.emit(m.rg,h.gZ(u,"sidxparseerror"));return;}r.emit(m.pqb,r.wj);this.xn=new d(r.Bma,l,r.wj);n=r.MI;r.Bma && r.Bma.efa || (n=Math.max(r.MI - 1E4,0));this.xn.Pqa(n,function(u){u && r.Wa.error("initial sidx download failed");r.emit(m.cqb);});}};c.prototype.KSa=function(l,n,p){var y;for(var r=l.entries,t=0,w=r.length,v=[],u,x=this.pt;t < w;){u=r[t];if(u.displayTime <= n)u.displayTime + u.duration >= n && v.push(h.cqa(u,l.images[t].data,x));else {y=v.length && v[v.length - 1] || p.length && p[p.length - 1];if(y && y.displayTime > n && y.displayTime !== u.displayTime)break;y.nK !== u.nK && v.push(h.cqa(u,l.images[t].data,x));}t++;}return v;};q.exports=c;},function(q,b,a){var k,g;function c(f,d){this.duration=f;this.size=d;this.H4b=void 0;}k=a(319);g=a(173);q.exports=function(f){var l;f=new k(f);this.identifier=f.Aza(4);g.assert("midx" === this.identifier);this.version=f.Fs(4);g.assert(0 === this.version);this.Nua=f.Sg(36);this.creationTime=f.BR();this.Pq=f.BR();this.L=f.BR();this.q2b=f.ii();this.r2b=f.ii();this.language=f.Sg(16);f.Sg(16);this.startOffset=f.BR();this.Kt=f.ii();for(var d=[],h=0,m=0;m < this.Kt;m++){l=new c(f.Fs(4),f.ii());d.push(l);h+=l.duration;}this.entries=d;this.endTime=h;};},function(q,b,a){var g,f;function c(d,h,m,l,n,p,r,t){this.displayTime=d;this.duration=h;this.dYb=m;this.eYb=l;this.N4b=n;this.O4b=p;this.nK=r;this.zua=t;}function k(d,h,m,l,n,p,r){var t;d=new g(d);t=0;d.position=h;this.Wa=l;this.identifier=d.Aza(4);f.assert("sidx" === this.identifier,l);this.Nua=d.Sg(36);f.lCb(this.Nua,m,l);this.duration=d.Fs(4);this.Kt=d.ii();this.xz=n;this.Es=p;this.index=r || 0;this.entries=[];this.images=[];for(this.Pma=0;t < this.Kt;){h=new c(d.Fs(4),d.Fs(4),d.ii(),d.ii(),d.ii(),d.ii(),d.BR(),d.Fs(4));t++;this.entries.push(h);}this.entries.length && (this.startTime=this.entries[0].displayTime,this.endTime=this.entries[this.entries.length - 1].displayTime + this.entries[this.entries.length - 1].duration);}g=a(319);f=a(173);k.prototype.AQb=function(){this.Pma++;};k.prototype.iGb=function(){var d;d=0;this.Pma--;1 > this.Pma?this.images && 0 < this.images.length && (d+=f.Hta([this]),this.images=[]):this.Wa.debug("Not cleaning up shared sidx with range",this.xz,"-",this.Es);return d;};q.exports=k;},function(q,b,a){var f,d;function c(h,m){var n;h=h || 0;if(m)for(var l in m.P){n=m.P[l];if(h >= (n.ya || 0) && (!n.za || h < n.za))return l;}}function k(h,m){return h && m && m.P[h];}function g(h,m,l){var n;this.Wa=h.Ha;this.wj=l;this.qE=this.Zrb(h.efa);this.Th=[];n=l && l[l.length - 1];this.ky=n && (n.endTime || n.Es);this.Zg=new f(h,m,l);h=c(h.Xd || 0,this.qE);this.Qp=this.EA(h);}f=a(1290);d=a(1292);Object.defineProperties(g.prototype,{kqa:{get:function(){return this.Zg.kqa;}}});g.prototype.Lta=function(h,m){return this.Zg && this.Zg.Lta(h,m);};g.prototype.Pqa=function(h,m){this.Zg.v3b(h);this.MUa(h);if(!this.qE && this.ky && h > this.ky)m && m();else if((h=this.rSa(h,this.Qp,2,m),this.qE && 0 < this.Qp.k$a.length))m && m();else if(this.qE && this.Qp.uQ && h){2 > this.Th.length && this.fsb(this.Qp);m=Math.ceil(2 / (this.Th.length - 1));for(var l=0;l < this.Th.length && h && 3 > l;l++){h=this.Th[l];h=this.rSa(h.startTime,h,m);}}};g.prototype.lBa=function(h){return this.Zg.lBa(h)?(this.Zg.dyb(),this.Pqa(h),this.Qp.uQ=!1,!0):!1;};g.prototype.SG=function(h,m){var l;this.MUa(h);this.Th.forEach(function(n){n.uQ=!1;});l=this.Qp.vp && this.Qp.vp[0];this.Zg.SG(h,l && l.index);(h=this.Zg.cOb(h)) && h.length?this.Zg.P_a(h,m):m && m();};g.prototype.oj=function(h,m){var l;this.Wa.debug("Set next segment to",m,"for segment",h);h=this.CSa(h) || this.EA(h);h.Xdb=m;l=this;h.l0=h.l0.filter(function(n){if(n.id === m)return !0;l.yla(n);return !1;});};g.prototype.Oj=function(h,m){var l;l=k(h,this.qE);Object.keys(l.next).forEach(function(n){l.next[n].weight=m[n] || 0;});};g.prototype.Zrb=function(h){var m,n;m={};if(h=(h || ({})).P){m.P={};for(var l in h){n=h[l] || ({});m.P[l]={ya:n.ya,za:n.za,vc:n.vc,next:this.Yrb(n.next)};}}return m;};g.prototype.Yrb=function(h){var m,l;m={};for(l in h){m[l]={weight:(h[l] || ({})).weight};}return m;};g.prototype.MUa=function(h){var m,l;if(this.qE && this.Qp.startTime > h || this.Qp.endTime && this.Qp.endTime < h){m=this.Qp;l=c(h,this.qE);l?(this.Wa.debug("Switching segments from",this.Qp.id,"to",l,"at pts",h),this.Qp=this.CSa(l) || this.EA(l),this.yla(m)):this.Wa.debug("The pts is outside of the current segment but not in a new one yet");}};g.prototype.EA=function(h){this.Wa.debug("SegmentManager: creating segment",h);h=new d(h,k(h,this.qE),this.wj,this.Wa);this.Th.push(h);this.Wa.debug("SegmentManager: segment contains",h.vp.length,"sidxes");return h;};g.prototype.yla=function(h){var m;if(h && h !== this.Qp){this.Wa.debug("SegmentManager: deleting segment",h.id);h.l0.forEach(this.yla.bind(this));this.Th=this.Th.filter(function(l){return l !== h;});m=h.TXa();this.Zg.f1b(m && m.size || 0,m && m.vp);}};g.prototype.CSa=function(h){var l;for(var m=0;h && m < this.Th.length;m++){l=this.Th[m];if(h === l.id)return l;}};g.prototype.fsb=function(h){var m,n;m=h.Xdb;if(m && "" !== m)h.l0.push(this.EA(m));else {m=h.k$a;for(var l in m){n=m[l];if(!n || !n.weight)break;h.l0.push(this.EA(l));}}};g.prototype.rSa=function(h,m,l,n){if(!m || m.uQ)return (this.Wa.debug("Done driving segment",m && m.id),!0);if(!this.Zg.LAb)return (this.Wa.debug("Throttling buffering in quiet period"),!1);this.Wa.debug("Drive streaming of segment",m.id,"from pts",h);l=(h=this.Zg.dOb(h,m,l)) && h.length || 0;if(0 === l)return (this.Wa.debug("Segment is fully downloaded",m && m.id),m.uQ=!0,n && n(),!0);this.Wa.debug("Downloading",l,"sidxes in segment",m.id);return this.Zg.P_a(h,function(p,r){p && (m.uQ=!1);n && n(p,r);});};q.exports=g;},function(q,b,a){var m,l;function c(n,p,r){var t;t=r.displayTime <= n && n <= r.displayTime + r.duration;return n <= r.displayTime && r.displayTime <= p || t;}function k(n,p,r){return p && (!p.entries.length && n > p.xz || n > p.endTime) && r.entries.length && n < r.endTime;}function g(n,p,r){this.RI=this.by=0;this.Ntb=n.bufferSize || 4194304;this.Fr=new h();this.LI;this.AI=n.Zf;this.Wa=n.Ha;this.pt=p;this.wj=r;this.Yp=new m(n);this.aJ=new d(this.wj.length,n.i0a);this.UV=new f(n.YWa);}function f(n){this.Csb=0 !== n;this.on=!1;this.Vk=n || 3E3;this.Ch;}function d(n,p){if(this.enabled=p)this.vp=Array.apply(null,Array(n)).map(function(){return "-";});}function h(n,p){this.dr=n;this.index=p;}m=a(1291);l=a(173);h.prototype.reset=function(){this.index=this.dr=void 0;};d.prototype.ia=function(n){this.enabled && n < this.vp.length && (this.vp[n]="x");};d.prototype.nab=function(n){this.enabled && n < this.vp.length && (this.vp[n]="-");};d.prototype.toString=function(){return this.enabled && "|" + this.vp.join("") + "|";};f.prototype.start=function(){var n;if(this.Csb){n=this;this.on=!0;this.Ch=setTimeout(function(){n.on=!1;n.Ch=void 0;},this.Vk);}};f.prototype.stop=function(){this.on=!1;clearTimeout(this.Ch);this.Ch=void 0;};Object.defineProperties(g.prototype,{kqa:{get:function(){return this.Fr;}},LAb:{get:function(){return !this.UV.on;}}});g.prototype.GV=function(){this.aJ.enabled && this.Wa.debug("Buffer: " + this.aJ.toString());};g.prototype.Svb=function(n){this.RI+=n;this.Wa.debug("Reserved buffer size is",this.by + this.RI,"after reserving",n);};g.prototype.Hwb=function(n){this.RI-=n;this.Wa.debug("Reserved buffer size is",this.by + this.RI,"after unreserving",n);};g.prototype.Xrb=function(n){this.by+=n;this.Wa.debug("Buffer size is",this.by,"after claiming",n);};g.prototype.iUa=function(n){this.by-=n;this.Wa.debug("Buffer size is",this.by,"after clearing",n);};g.prototype.f1b=function(n,p){var r;this.iUa(n);r=this;p && this.aJ.enabled && (p.forEach(function(t){r.aJ.nab(t.index);}),this.GV());};g.prototype.lBa=function(n){var p;p=this.Psb(n);return l.s5a(p) && l.O5b(n,p);};g.prototype.v3b=function(n){var p;p=this.PSa(n);(!p || p.index) !== (!this.Fr || this.Fr.index) && (this.LI=this.Fr.dr,p?(this.AI && this.Wa.debug("Current sidx is index",p.index),this.Fr=p):(this.AI && this.Wa.debug("Current sidx is out of range"),this.Fr.reset()));this.LI && "number" === typeof this.LI.index && (n < this.LI.xz - 35E3 || n > this.LI.Es + 35E3) && (this.mla(this.LI.index),this.LI=void 0,this.GV());};g.prototype.SG=function(n,p){var r,t;r=this.wj && this.wj.length;for(p;p < r;p++){(t=this.wj[p]) && ((t.endTime || t.Es) >= n - 1E4 && (t.endTime || t.Es) < n + 3E5 || this.mla(p));}this.UV.stop();this.GV();};g.prototype.dyb=function(){var n,p;this.Wa.debug("executing aggressive cleanup");n=this.wj && this.wj.length;for(p=0;p < n;p++){p === this.Fr.index && (p+=2);this.mla(p);}this.UV.stop();this.GV();};g.prototype.cOb=function(n){var p,r,t,w;p=[];r=this.PSa(n);if(!r)return (this.Fr.reset(),p);this.Fr=r;t=n + 1E4;r=r.index;w=this.wj[r];r;for(w;r < this.wj.length && t > w.xz;(r++,w=this.wj[r])){l.s5a(w) && l.P5b(n,t,w) && p.push(w);}return p;};g.prototype.P_a=function(n,p){var r,t,w,v,u,x;if(!n || !n.length)return (p && p(null),!0);this.Yp.NV && 2 <= Object.keys(this.Yp.NV).length && !this.UV.on && (this.Wa.debug("Enabling buffering quiet period"),this.UV.start());r=this;t=n[0];w=n[n.length - 1];if(0 < t.entries.length)(v=t.entries[0].nK,u=t.entries[t.entries.length - 1]);0 < w.entries.length && (l.Gd(v) || (v=w.entries[0].nK),u=w.entries[w.entries.length - 1]);if(v)x=u.nK + u.zua - v;else return (p && p(null),!0);t=l.Psa(v,x);if(this.Yp.NV[t])(this.Wa.debug("The request for",t,"is already pending. Not requesting again"),p && p());else if(this.jtb(l.Hta(n)))(this.Wa.debug("Reserving",x,"bytes for subtitle request",n[0].xz,n[n.length - 1].Es),this.Svb(x),this.Yp.tHb(n,v,x,function(y,z){r.Wa.debug("Claiming reserved space.  Expected",x,"received",z);r.aJ.enabled && (n.forEach(function(A){r.aJ.ia(A.index);}),r.GV());r.Hwb(x);r.Xrb(z);p && p(y);}));else return (this.Wa.debug("Not enough space in buffer to download all of the imaages in the list"),p && p(),!1);return !0;};g.prototype.Lta=function(n,p){var r,t,w;r=this.pt;t=this.OSa(n,p,this.wj);if(!t || 0 === t.length)return [];w=[];p=c.bind(null,n,p);for(var v=0;v < t.length;v++){n=t[v];w=w.concat(n.entries.filter(p));}w=w.map(function(u){return l.cqa(u,null,r);});return l.HYa(w);};g.prototype.dOb=function(n,p,r){return this.OSa(n,p.endTime,p.vp,r,!0);};g.prototype.OSa=function(n,p,r,t,w){var v,u,x,y;if(p && n > p || 0 > n)this.Wa.error("invalid range startPts: " + n + ", endPts: " + p);else {v=r && r.length || 0;u=[];if(r && 0 !== v){x=r[0].duration;y=r[0].xz;if(l.Gd(x) && 0 < x)x=Math.floor((n - y) / x);else for((this.AI && this.Wa.warn("The duration of the first sidx is not defined or sidx","durations vary, so use brute force to get starting sidx"),x=0);x < v && (y=r[x],!l.nHb(y,n));x++){;}for(;x < v && (!t || u.length < t);){y=r[x];if(!w || !y.images.length && y.endTime > n)u.push(y);else if(u.length)break;if(p && p <= y.Es)break;x++;}return u;}}};g.prototype.Psb=function(n){var p,r,w;p=this.wj;if(p && 0 !== p.length){r=p[Math.floor(n / 6E4)];if(r && (r.xz > n || n > r.Es))a:{this.Esb || (this.Esb=!0,r=l.MMb(this.pt.language),this.Wa.error("bruteforce search for ",{movieId:this.pt.L,packageId:this.pt.Pq,lang:r}));r=p.length;for(var t=0;t < r;t++){w=p[t];if(w.xz <= n && n <= w.Es){r=w;break a;}}r=void 0;}return r;}};g.prototype.PSa=function(n){var p,r,t,w,v,u,x,y;p=this.Fr;r=p.dr;t=p.index;w=this.wj;this.vla(l.Gd(n));if(r)if(r.entries.length){if(0 === t && n <= r.startTime || n >= r.startTime && n <= r.endTime)(v=!0,u=p);else {if(0 < t){x=w[t - 1];k(n,x,r) && (v=!0,u=p);}}}else {x=w[t - 1];y=w[t + 1];k(n,x,r)?(v=!0,u=p):y && y.endTime && n <= y.endTime && (n >= r.endTime || n >= r.Es) && (v=!0,u=new h(y,t + 1));}if(!v)for((p=w.length,r=0);r < p;r++){if((t=w[r],t.entries.length && n <= t.endTime)){u=new h(t,r);break;}}return u;};g.prototype.jtb=function(n){return this.by + this.RI + n <= this.Ntb;};g.prototype.mla=function(n){var p,r,t;p=this.wj[n];r=p && p.images && p.images.length || 0;if(0 < r){t=l.Hta([p]);p.images=[];this.aJ.nab(n);this.iUa(t);this.AI && this.Wa.debug("cleaning up space from sidx",{index:n,start:p.startTime,size:t,images:r,hic:this.by});}};g.prototype.vla=function(n){this.AI && l.assert(n,this.Wa);};q.exports=g;},function(q,b,a){var k,g;function c(f){this.wm=f.url;this.OI=f.request;this.MI=f.Xd || 0;this.AI=f.Zf;this.Wa=f.Ha;this.NV={};}k=a(319);g=a(173);c.prototype.tHb=function(f,d,h,m){this.NV[g.Psa(d,h)]=!0;f && f.forEach(function(l){l.bdb=!0;});this.OI({url:this.wm,offset:d,size:h},this.Sub.bind(this,f,d,h,m));};c.prototype.Sub=function(f,d,h,m,l,n){var p,r,t,w;p=this;r=g.Psa(d,h);setTimeout(function(){delete p.NV[r];},1E3);if(l)(m && m(l,0),f && f.forEach(function(v){delete v.bdb;}));else {t=new k(n);w=0;f && f.forEach(function(v){delete v.bdb;v.entries.forEach(function(u,x){t.position=u.nK - d;u={data:t.Sg(u.zua)};v.images[x]=u;g.T8b(v.images[x].data,p.vla.bind(p));w+=v.images[x].data.length;});});m && m(null,w);}};c.prototype.vla=function(f){this.AI && g.assert(f,this.Wa);};q.exports=c;},function(q){function b(a,c,k,g){this.Wa=g;this.id=a;this.startTime=c && c.ya || 0;this.endTime=c && c.za;this.k$a=c && c.next || [];this.Xdb;this.l0=[];this.uQ=!1;a=this.startTime;c=this.endTime;for(var f=[],d=0;d < k.length;d++){(g=k[d]) && (!c || c > g.xz) && a < g.Es && (g.AQb(),f.push(g));}this.vp=f;}b.prototype.TXa=function(){this.Wa.debug("Cleaning up segment",this.id);for(var a,c=0,k,g=[],f=0;f < this.vp.length;f++){a=this.vp[f];(k=a.iGb()) && g.push(a);a && (c+=k);}this.vp=[];return {size:c,vp:g};};q.exports=b;},function(q,b,a){var k;function c(g,f,d){return {timeout:d,type:g,entry:f};}k=a(121).EventEmitter;a(1294)({});b=function p(f,d,h,m,l,n){if(!(this instanceof p))return new p(f,d,h,m,l,n);k.call(this);this.fy=f;this.$sb=d;this.t7=h;this.ztb=m;this.SA={};this.WI={};this.Wa=l || console;this.aV=!1;this.Avb=n && n.rza || 0;};b.prototype=Object.create(k.prototype);b.prototype.stop=function(){clearTimeout(this.Ch);this.i1b();};b.prototype.i1b=function(){var f;f=this;Object.keys(f.SA).forEach(function(d){f.emit("removesubtitle",f.SA[d]);});f.SA={};f.WI={};};b.prototype.pause=function(){this.aV || clearTimeout(this.Ch);};b.prototype.vx=function(f,d){var h,m;h=this;m=h.fy();clearTimeout(this.Ch);f=h.$sb(m);null !== f && h.aV && (h.aV=!1,this.Wa.info("bufferingComplete"),h.emit("bufferingComplete"),this.ztb())?this.Wa.info("bufferingComplete while paused, no longer scheduling internal pts events"):(d="number" === typeof d?d:0,Object.keys(h.SA).forEach(function(l){l=h.SA[l];l.displayTime - h.Avb <= m && m < l.displayTime + l.duration || (delete h.SA[l.id],h.emit("removesubtitle",l));}),Object.keys(h.WI).forEach(function(l){l=h.WI[l];m >= l.displayTime + l.duration && delete h.WI[l.id];}),null !== f && 0 < f.length?(d=f.length,h.Wa.info("found " + d + " entries for pts " + m),f.forEach(function(l){l.displayTime - 0 <= m && m < l.displayTime + l.duration && !h.SA[l.id] && (h.emit("showsubtitle",l),h.SA[l.id]=l,delete h.WI[l.id]);}),d=f[f.length - 1],h.SA[d.id] || h.WI[d.id] || (h.emit("stagesubtitle",d),h.WI[d.id]=d),d=h.eub(m,f),0 < d.length?h.S7(d[0].timeout):h.S7(2E4)):null === f?(f=250 * Math.pow(2,d),2E3 < f && (f=2E3),h.Wa.warn("checking buffer again in " + f + "ms"),h.aV || (h.aV=!0,h.emit("underflow")),h.S7(f,d + 1)):h.S7(2E4));};b.prototype.S7=function(f,d){var h;h=this;h.Wa.info("Scheduling pts check.");h.Ch=setTimeout(function(){h.vx(h.fy(),d);},f);};b.prototype.eub=function(f,d){return d.reduce(this.fub.bind(this,f),[]);};b.prototype.fub=function(f,d,h){var m,l;m=this.t7(h.displayTime,f);f=this.t7(h.displayTime + h.duration,f);l=0 < d.length?d[0].timeout:Infinity;return 0 < m && m < l?[c("showsubtitle",h,m)]:m === l?d.concat([c("showsubtitle",h,m)]):0 < f && f < l?[c("removesubtitle",h,f)]:f === l?d.concat([c("removesubtitle",h,f)]):d;};q.exports=b;},function(q){function b(a){return Object.keys(a).every(function(c){return "function" === typeof a[c];});}q.exports=function(a){var f,d,h;function c(m,l,n){throw new TypeError(("undefined" !== typeof n.key?"Types: expected " + n.key:"Types: expected argument " + n.index) + (" to be '" + m + "' but found '" + l + "'"));}function k(m,l,n){var p;p=d[m];"undefined" !== typeof p?p(l) || c(m,l,n):m !== typeof l && c(m,l,n);}function g(m,l){var n;n=m.filter(function(p){return "object" !== typeof p && -1 === h.indexOf(p);});n=n.concat(m.filter(function(p){return "object" === typeof p;}).reduce(function(p,r){return p.concat(Object.keys(r).map(function(t){return r[t];}).filter(function(t){return -1 === h.indexOf(t);}));},[]));if(0 < n.length)throw Error(n.join(",") + " are invalid types");return function(){var p;p=Array.prototype.slice.call(arguments);if(p.length !== m.length)throw new TypeError("Types: unexpected number of arguments");m.forEach(function(r,t){var w;w=p[t];if("string" === typeof r)k(r,w,{index:t});else if("object" === typeof r)Object.keys(r).forEach(function(v){k(r[v],w[v],{key:v});});else throw Error("Types: unexpected type in type array");});return l.apply(this,p);};}f=("number boolean string object function symbol").split(" ");d={array:function(m){return Array.isArray(m);}};if("undefined" !== typeof a){if("object" !== typeof a || !b(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(m){if("undefined" !== typeof d[m] || -1 < f.indexOf(m))throw new TypeError("Types: attempting to override a built in type with " + m);d[m]=a[m];});}h=Object.keys(d).concat(f);return g(["array","function"],g);};},function(q,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});b.fG=void 0;q=a(0);c=a(545);k=a(1296);g=a(172);b.fG=new q.Nd(function(f){f(c.lja).to(k.ALa).ha();f(g.qU).d3(function(d){return function(){return d.hb.get(c.lja).jWb;};});});},function(q,b,a){var k;function c(){var g;g=this;this.ready=!1;this.jWb=new Promise(function(f){g.f2b=f;});}Object.defineProperty(b,"__esModule",{value:!0});b.ALa=void 0;q=a(2);a=a(0);c.prototype.kWb=function(g){this.ready || (this.f2b(g),this.ready=!0);};c.prototype.isReady=function(){return this.ready;};k=c;k=q.__decorate([(0,a.X)()],k);b.ALa=k;},function(q,b,a){var c,k,g,f,d;Object.defineProperty(b,"__esModule",{value:!0});b.jl=void 0;q=a(0);c=a(97);k=a(546);g=a(1298);f=a(548);d=a(1299);b.jl=new q.Nd(function(h){h(c.dA).Tf(function(){return function(){return pb._cad_global.device;};});h(f.pGa).to(d.oGa).ha();h(k.mGa).to(g.lGa).ha();});},function(q,b,a){var k,g,f,d,h,m;function c(l,n){this.La=l;this.xza=n;}Object.defineProperty(b,"__esModule",{value:!0});b.lGa=void 0;q=a(2);k=a(38);g=a(6);f=a(148);d=a(547);h=a(58);a=a(0);c.prototype.UKb=function(){for(var l="",n=this.La.Nf.ia(g.sa),p=6;p--;){l=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[n % 32] + l;n=Math.floor(n / 32);}for(;30 > l.length;){l+=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[this.xza.gcb(new d.lka(0,31,h.N$a))];}return l;};m=c;m=q.__decorate([(0,a.X)(),q.__param(0,(0,a.u)(k.Wi)),q.__param(1,(0,a.u)(f.o6))],m);b.lGa=m;},function(q,b,a){var k,g,f,d,h,m,l,n;function c(p,r,t,w,v){this.QGb=p;this.gr=r;this.Mb=w;this.UYb=v;this.ZGa=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=t.Bb("Device");}Object.defineProperty(b,"__esModule",{value:!0});b.oGa=void 0;q=a(2);k=a(3);g=a(31);f=a(1300);d=a(7);h=a(546);m=a(0);l=a(102);a=a(549);c.prototype.V0a=function(p){try{return p.match(this.ZGa)[2];}catch(r){}};c.prototype.pJb=function(p){try{return p.match(this.ZGa)[1];}catch(r){}};c.prototype.create=function(p){var r;r=this;return new Promise(function(t,w){r.gr.create().then(function(v){var x,y,z,A,B,D;function u(C){r.Mb.Go(C) && r.Mb.Go(x)?(y=new f.nGa(C,x,void 0,z,p.dY || "cadmium"),t(y)):w({Ea:k.S.SFa});}x=p.sq;if(p.Nsa){z="bind_device";r.UYb.mh(r.log,{}).then(function(C){u(C.esn);}).catch(function(C){w(C);});}else if(p.MP){B=p.Xl;if(r.Mb.Go(B)){D=r.pJb(B);D != p.sq && r.log.error("esn prefix from ui is different",{ui:D,cad:p.sq,ua:p.userAgent});}else p.kwa && r.log.error("esn from ui is missing");!p.IS && r.Mb.Go(B)?(z="config",u(B)):v.load(p.u_a).then(function(C){A=C.value;r.Mb.Go(A) && (!1,r.Mb.Go(B)?(C=r.V0a(B),z=C === A?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):z="storage_esn_not_in_config",u(x + A));}).catch(function(C){var E;function F(){v.save(p.u_a,E,!1).then(function(){u(x + E);}).catch(function(I){w(I);});}function G(){E=r.QGb.UKb();!1;F();}if(C.Ea === k.S.SD){if(r.Mb.Go(p.Xl)){E=r.V0a(p.Xl);r.Mb.Go(E)?(z="config_since_not_in_storage",F()):(z="generated_since_invalid_in_config_and_not_in_storage",r.log.error("invalid esn passed from UI",p.Xl),G());}else (z="generated_since_not_in_config_and_storage",G());}else w(C);});}else u();}).catch(function(v){w(v);});});};n=c;n=q.__decorate([(0,m.X)(),q.__param(0,(0,m.u)(h.mGa)),q.__param(1,(0,m.u)(l.pD)),q.__param(2,(0,m.u)(d.Ib)),q.__param(3,(0,m.u)(g.Wg)),q.__param(4,(0,m.u)(a.FMa))],n);b.oGa=n;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.nGa=void 0;b.nGa=function(a,c,k,g){this.Xl=a;this.sq=c;this.x$=g;};},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r,t,w,v,u,x,y,z,A,B,D,C,F,G,E;Object.defineProperty(b,"__esModule",{value:!0});b.c8a=void 0;q=a(0);c=a(172);k=a(1302);g=a(1303);f=a(1304);d=a(1305);h=a(1306);m=a(12);l=a(1307);n=a(1308);p=a(1309);r=a(53);t=a(97);w=a(554);v=a(551);u=a(550);x=a(92);y=a(320);z=a(54);A=a(203);B=a(1310);D=a(556);C=a(557);F=a(1313);G=a(558);E=a(1314);b.c8a=new q.Nd(function(I){I(z.ro).to(g.WJa).ha();I(v.tLa).to(f.sLa).ha();I(u.kKa).to(d.jKa).ha();I(y.gKa).to(h.fKa).ha();I(z.Oia).to(l.VJa).ha();I(x.mA).to(n.cKa).ha();I(y.eKa).to(p.dKa).ha();I(A.fU).to(B.eU).ha();I(A.Ria).to(F.hKa).ha();I(G.iU).to(E.hU).ha();I(D.xGa).to(C.wGa).ha();I(w.JDa).to(k.IDa).ha();I(z.XJa).d3(function(K){return function(){return K.hb.get(c.qU)().then(function(L){return new Promise(function(H){var N,J,M;function P(){J() && M() && L.e0?H(K.hb.get(z.ro)):N.Vm(P);}N=K.hb.get(r.Rk);J=K.hb.get(m.jd);M=K.hb.get(t.dA);N.Vm(P);});});};});});},function(q,b,a){var k,g,f,d,h,m,l;function c(n,p,r,t){var w;w=this;this.UTb=n;this.hC=p;this.config=t;this.Iza=[];this.UTb.Gea(k.qjb,this.XOb.bind(this));r().then(function(v){var u;u=t().cs.vKb;w.KUb=u?l.Pk[u.toUpperCase()]:l.Pk.rg;w.Cg=v;w.g3b();});}Object.defineProperty(b,"__esModule",{value:!0});b.IDa=void 0;q=a(2);g=a(0);f=a(12);d=a(120);h=a(54);m=a(92);l=a(7);c.prototype.XOb=function(n,p){this.Cg?this.ccb(n,p):this.Iza.push([n,p]);};c.prototype.g3b=function(){var n,p;n=this;p=this.Iza;this.Iza=[];p.forEach(function(r){n.ccb(r[0],r[1]);});};c.prototype.ccb=function(n,p){var r;if(this.Cg && this.r4b(n)){r={debugMessage:n.message,debugCategory:n.gq};n.cb.forEach(function(t){return r=Object.assign(Object.assign({},r),t.value);});r=Object.assign(Object.assign({},r),{prefix:"debug"});n=this.hC.Nv("debug",l.Pk[n.level].toLowerCase(),r,p);this.Cg.Wc(n);}};c.prototype.r4b=function(n){var p;p=this.KUb;return void 0 !== p && n.level <= p && !n.cb.find(function(r){return r.xY(l.DT);});};a=k=c;a.qjb="adaptorAll";a=k=q.__decorate([(0,g.X)(),q.__param(0,(0,g.u)(d.MM)),q.__param(1,(0,g.u)(m.mA)),q.__param(2,(0,g.u)(h.XJa)),q.__param(3,(0,g.u)(f.jd))],a);b.IDa=a;},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t;function c(w,v,u,x,y,z){this.config=w;this.json=v;this.bd=u;this.KTb=x;this.T_=z;this.Oba=this.xw=!1;this.listeners=[];(0,g.Iq)(this,"json");this.Ha=y.Bb("LogBatcher");}Object.defineProperty(b,"__esModule",{value:!0});b.WJa=void 0;q=a(2);k=a(0);g=a(58);f=a(42);d=a(550);h=a(53);m=a(7);l=a(54);n=a(551);p=a(3);r=a(118);a(205);t=a(308);c.prototype.xa=function(){this.xw=!0;};c.prototype.Wc=function(w){var v;v=this;this.z4b(w) || (!1,0 < w.size.zm(this.config.GUb)?this.Ha.error("Logblob is too large, dropping from the queue",{logblobType:w.type,logblobSize:w.size.toString()}):(this.listeners.forEach(function(u){return u.sVb(w);}),!1,this.T_.xna(w),this.bd.Vm(function(){v.fKb();})));};c.prototype.flush=function(w){var v;v=this;w=void 0 === w?!1:w;return this.Oba?(this.Ha.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(u,x){v.Ha.trace("Flushing",m.DT);v.Bu();v.bd.Vm(function(){v.KAa(w).then(function(){u();}).catch(function(y){x(y);});});});};c.prototype.addListener=function(w){this.listeners.push(w);};c.prototype.removeListener=function(w){w=this.listeners.indexOf(w);0 <= w && this.listeners.splice(w,1);};c.prototype.KAa=function(w){var v,u;v=this;w=void 0 === w?!1:w;if(!this.xw)return (this.Ha.trace("LogBatcher is not initialized"),Promise.resolve());if(this.Oba)return (this.Ha.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve());u=this.T_.uLb();if(0 === u.length && !w)return (this.Ha.trace("No logblobs to send"),Promise.resolve());!1;this.Bu();this.listeners.forEach(function(){});w=Promise.resolve();for(var x={},y=ra(u),z=y.next();!z.done;(x={Iga:x.Iga},z=y.next())){x.Iga=z.value;w=w.then((function(A){return function(){return v.d3b(A.Iga);};})(x));}return w.then(function(){return v.OJ();}).catch(function(A){u.filter(function(B){return !B.aC;}).forEach(function(B){return B.Zv();});v.OJ();throw Error("Send failure. " + A);});};c.prototype.d3b=function(w){var v;v=this;this.Ha.trace("Sending batch: " + w.size,m.DT);return Promise.resolve(this.T_.j1b(w)).then(function(){return v.KTb.send(w.MK);}).then(function(){return w.qS();}).catch(function(u){v.Ha.warn("Failed to send batch of logblobs.",u,m.DT);w.Zv();v.o4b(u) && v.T_.mxb(w);v.A4b(u) && (v.Oba=!0);throw u;});};c.prototype.o4b=function(w){return w.fe === p.D5.zMa?!1:this.config.tna;};c.prototype.A4b=function(w){return w.Sc === p.S.OHa || w.Sc === p.S.TT || w.Sc === p.S.XT?!0:!1;};c.prototype.fKb=function(){var w;w=this;0 < this.T_.size.zm(this.config.V8a)?this.KAa().catch(function(v){return w.Ha.warn("Failed to send log messages on size threshold. " + v);}):this.OJ();};c.prototype.Bu=function(){this.$ba && (!1,this.$ba.cancel(),this.$ba=void 0);};c.prototype.OJ=function(){this.$ba || (!1,this.$ba=this.bd.Al(this.config.e3b,this.fR.bind(this)));};c.prototype.fR=function(){var w;w=this;this.Oba=!1;this.Bu();this.KAa().catch(function(v){return w.Ha.warn("Failed to send log messages on timer. " + v);});};c.prototype.stringify=function(w){var v;v="";try{v=this.json.stringify(w.data,void 0,"  ");}catch(u){}return v;};c.prototype.z4b=function(w){return 0 <= this.config.Veb.indexOf(w.type)?!0:w.type === t.wd.debug?0 <= this.config.Ueb.indexOf(w.data.debugCategory):!1;};a=c;a=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(l.Oia)),q.__param(1,(0,k.u)(f.OH)),q.__param(2,(0,k.u)(h.Rk)),q.__param(3,(0,k.u)(d.kKa)),q.__param(4,(0,k.u)(m.Ib)),q.__param(5,(0,k.u)(n.tLa)),q.__param(6,(0,k.u)(r.E4))],a);b.WJa=a;},function(q,b,a){var g,f,d,h,m,l,n;function c(p){this.eO=d.ib;this.rma=[];this.zV=this.x7=!1;p && (this.eO=p.size,this.rma=p.MK);}function k(p,r,t,w){this.tVb=p;this.config=r;this.mg=t;this.json=w;(0,f.Iq)(this,"json");this.Ha=this.mg.Bb("MessageQueue");this.Bv=[];}Object.defineProperty(b,"__esModule",{value:!0});b.sLa=void 0;q=a(2);g=a(0);f=a(58);d=a(55);h=a(320);m=a(7);l=a(42);a=a(54);k.prototype.xna=function(p){var r,t;0 === this.Bv.length && this.Bv.push(this.Rsa());if(p=this.UNb(p)){r=this.tVb.measure([p]);t=this.Bv[this.Bv.length - 1];0 < t.size.add(r).zm(this.config.V8a) && (t=this.Rsa(),this.Bv.push(t));t.xna(p);}};k.prototype.uLb=function(){var p;p=this.Bv.filter(function(r){return r.QAb;});this.Bv.push(this.Rsa());p.forEach(function(r){return r.tUb();});return p;};k.prototype.mxb=function(p){p.aC || this.Bv.unshift(new c(p));};k.prototype.j1b=function(p){p=this.Bv.indexOf(p);0 <= p && this.Bv.splice(p,1);};k.prototype.UNb=function(p){try{return {data:this.json.parse(this.json.stringify(p.data)),severity:p.severity,size:p.size,timestamp:p.timestamp,type:p.type};}catch(w){var r,t;r={};p=p.data;t=p.debugMessage;t && "string" === typeof t && (r.originalDebugMessage=t);(p=p.debugCategory) && "string" === typeof p && (r.originalDebugCategory=p);this.Ha.error("JSON.stringify error: " + w.message,r);}};k.prototype.Rsa=function(){return new c();};Ya.Object.defineProperties(k.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.Bv.reduce(function(p,r){return p.add(r.size);},d.ib);}}});n=k;n=q.__decorate([(0,g.X)(),q.__param(0,(0,g.u)(h.gKa)),q.__param(1,(0,g.u)(a.Oia)),q.__param(2,(0,g.u)(m.Ib)),q.__param(3,(0,g.u)(l.OH))],n);b.sLa=n;c.prototype.qS=function(){this.x7=!1;this.zV=!0;};c.prototype.Zv=function(){this.x7=!1;};c.prototype.xna=function(p){this.rma.push(p);this.eO=this.eO.add(p.size);};c.prototype.tUb=function(){this.x7=!0;};Ya.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.eO;}},MK:{configurable:!0,enumerable:!0,get:function(){return this.rma;}},QAb:{configurable:!0,enumerable:!0,get:function(){return 0 < this.MK.length && !1 === this.x7;}},aC:{configurable:!0,enumerable:!0,get:function(){return this.zV;}}});},function(q,b,a){var g,f,d,h,m,l,n,p,r,t,w;function c(v,u,x,y,z,A,B,D){this.Ma=v;this.platform=x;this.jl=y;this.json=z;this.Ui=A;this.Ni=B;this.STb=D;(0,f.Iq)(this,"json");this.Ha=u.Bb("LogblobSender");}function k(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.jKa=void 0;q=a(2);g=a(0);f=a(58);d=a(42);h=a(6);m=a(35);l=a(20);n=a(49);p=a(97);r=a(7);t=a(552);a=a(81);c.prototype.send=function(v){var u;u=this;return new Promise(function(x,y){var z;try{z=v.reduce(function(A,B){A.entries.push(u.XEb(B));return A;},new k());x(u.XKb(z));}catch(A){u.Ha.error(A.message);y(A);}}).then(function(x){return u.MAa(x);});};c.prototype.XEb=function(v){return this.Ui.RK(this.Ui.RK({},v.data),{esn:this.jl().Xl,sev:v.severity,type:v.type,lver:this.platform.pwa,jssid:this.Ma.id,devmod:this.platform.bF,jsoffms:v.timestamp.Ia(this.Ma.fC).ia(h.sa),clienttime:v.timestamp.ia(h.sa),client_utc:v.timestamp.ia(h.Mp),uiver:this.Ni.Mz});};c.prototype.XKb=function(v){var u;u=this;try{return this.json.stringify(v);}catch(z){for(var x={},y=0;y < v.entries.length;(x={YS:x.YS,xx:x.xx},++y)){x.xx=Object.assign({},v.entries[y]);try{this.json.stringify(x.xx);}catch(A){x.YS=void 0;this.Ui.nF(x.xx,(function(B){return function(D,C){try{u.json.stringify(C);}catch(F){B.YS=F.message;B.xx[D]=B.YS;}};})(x));x.xx.stringifyException=x.YS;x.xx.originalType=x.xx.type;x.xx.type="debug";x.xx.sev="error";}}return this.json.stringify(v);}};c.prototype.MAa=function(v){var u;u=this;return this.STb.mh(this.Ha,{logblobs:v}).then(function(){!1;}).catch(function(x){u.Ha.error("PBO logblob failed",x);return Promise.reject(x);});};w=c;w=q.__decorate([(0,g.X)(),q.__param(0,(0,g.u)(l.Jd)),q.__param(1,(0,g.u)(r.Ib)),q.__param(2,(0,g.u)(n.Kp)),q.__param(3,(0,g.u)(p.dA)),q.__param(4,(0,g.u)(d.OH)),q.__param(5,(0,g.u)(m.si)),q.__param(6,(0,g.u)(a.rA)),q.__param(7,(0,g.u)(t.XMa))],w);b.jKa=w;},function(q,b,a){var k,g,f;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.fKa=void 0;q=a(2);k=a(0);g=a(320);f=a(55);c.prototype.measure=function(d){var h;h=this;return d.map(function(m){return m.size.add(h.config.NTb());}).reduce(function(m,l){return m.add(l);},(0,f.ga)(0));};a=c;a=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(g.eKa))],a);b.fKa=a;},function(q,b,a){var k,g,f,d,h,m,l;function c(n,p){n=m.Ef.call(this,n,"LogBatcherConfigImpl") || this;n.config=p;n.GUb=(0,k.ga)(5E5);n.e3b=(0,g.eda)(1);n.V8a=(0,k.ga)(1E6);return n;}Object.defineProperty(b,"__esModule",{value:!0});b.VJa=void 0;q=a(2);k=a(55);g=a(6);f=a(0);d=a(12);h=a(51);m=a(52);a=a(37);na(c,m.Ef);Ya.Object.defineProperties(c.prototype,{tna:{configurable:!0,enumerable:!0,get:function(){return this.config().tna;}},Veb:{configurable:!0,enumerable:!0,get:function(){return [];}},Ueb:{configurable:!0,enumerable:!0,get:function(){return ["MslTransport","Pbo","LogblobSender"];}}});l=c;q.__decorate([h.config(h.object(),"shedLogblobTypes")],l.prototype,"Veb",null);q.__decorate([h.config(h.bB("string"),"shedDebugTypes")],l.prototype,"Ueb",null);l=q.__decorate([(0,f.X)(),q.__param(0,(0,f.u)(a.qn)),q.__param(1,(0,f.u)(d.jd))],l);b.VJa=l;},function(q,b,a){var g,f,d,h,m,l,n,p,r;function c(t,w,v,u,x,y,z,A,B,D){this.platform=w;this.gqa=v;this.type=u;this.severity=x;this.timestamp=y;this.Ma=A;this.data=z;this.data.type=u;this.data.sev=x;this.data.devmod=this.platform.bF;this.data.clver=this.platform.version;t && t.we && (t.we.os && (this.data.osplatform=t.we.os.name,this.data.osver=t.we.os.version),this.data.browsername=t.we.name,this.data.browserver=t.we.version);t.xva && (this.data.tester=!0);t.hK && !this.data.groupname && (this.data.groupname=t.hK);t.MO && (this.data.groupname=this.data.groupname?this.data.groupname + "|" + t.MO:t.MO);t.o3 && (this.data.uigroupname=t.o3);this.data.uigroupname && (this.data.groupname=this.data.groupname?this.data.groupname + ("|" + this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.Ma.VMb();this.data.uniqueLogId=B.Z1a();this.data.appId=this.Ma.id;D && (t=this.Ma.ec(),this.data.soffms=t.Ia(D.Ij).ia(h.sa),this.data.mid=this.data.mid || D.L,this.data.lvpi=D.owa,this.data.uiLabel=D.ze,this.data.uxLabels=D.sga,u="startup" === u?"playbackxid":"xid",this.data[u]="xid" === u && this.data.xid || D.ja,D.HL && (u=D.HL,(D=D.HL.split(".")) && 1 < D.length && "S" !== D[0][0] && (u="SABTest" + D[0] + ".Cell" + D[1]),this.data.groupname=this.data.groupname?this.data.groupname + "|" + u:u));}function k(t,w,v,u,x,y){this.La=t;this.gqa=w;this.config=v;this.Ma=u;this.Q8b=x;this.platform=y;}Object.defineProperty(b,"__esModule",{value:!0});b.cKa=void 0;q=a(2);g=a(55);f=a(0);d=a(38);h=a(6);m=a(379);l=a(43);n=a(20);p=a(553);a=a(49);k.prototype.Nv=function(t,w,v,u){return new c(this.config,this.platform,this.gqa,t,w,this.La.Nf,v,this.Ma,this.Q8b,u);};r=k;r=q.__decorate([(0,f.X)(),q.__param(0,(0,f.u)(d.Wi)),q.__param(1,(0,f.u)(m.NFa)),q.__param(2,(0,f.u)(l.Dp)),q.__param(3,(0,f.u)(n.Jd)),q.__param(4,(0,f.u)(p.lRa)),q.__param(5,(0,f.u)(a.Kp))],r);b.cKa=r;Ya.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.kXa || (this.kXa=(0,g.ga)(this.gqa.encode(this.data).length));return this.kXa;}}});},function(q,b,a){var k,g,f;function c(d){this.jl=d;}Object.defineProperty(b,"__esModule",{value:!0});b.dKa=void 0;q=a(2);k=a(0);g=a(55);a=a(97);c.prototype.NTb=function(){var d;d=this.jl()?this.jl().Xl.length:40;return (0,g.ga)(d + 33);};f=c;f=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(a.dA))],f);b.dKa=f;},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t,w,v,u,x,y,z,A,B,D,C;function c(F,G,E,I,K,L,H,P,N,J,M,O,Q,T,V,da,pa,xa,ya){this.Cgb=F;this.Cg=G;this.Ywa=E;this.Bra=I;this.Qe=K;this.h$=L;this.Bf=H;this.config=P;this.Zd=N;this.La=J;this.Ma=M;this.platform=O;this.Cs=Q;this.hC=T;this.Jj=V;this.fw=da;this.OK=pa;this.Jc=xa;this.ZF=ya;}Object.defineProperty(b,"__esModule",{value:!0});b.eU=void 0;q=a(2);k=a(518);g=a(54);f=a(35);d=a(526);h=a(314);m=a(0);l=a(203);n=a(555);p=a(556);r=a(72);t=a(12);w=a(38);v=a(20);u=a(49);x=a(92);y=a(125);z=a(174);A=a(42);B=a(43);D=a(321);a=a(80);c.prototype.create=function(F,G){return new n.gU(F,G,this.Cgb,this.Cg,this.Ywa,this.Bra,this.Qe,this.h$,this.Bf,this.config,this.Zd,this.La,this.Ma,this.Cs,this.hC,this.Jj,this.fw,this.OK,this.Jc,this.ZF);};C=c;C=q.__decorate([(0,m.X)(),q.__param(0,(0,m.u)(k.GQa)),q.__param(1,(0,m.u)(g.ro)),q.__param(2,(0,m.u)(d.UKa)),q.__param(3,(0,m.u)(h.eia)),q.__param(4,(0,m.u)(f.si)),q.__param(5,(0,m.u)(p.xGa)),q.__param(6,(0,m.u)(r.Ix)),q.__param(7,(0,m.u)(t.jd)),q.__param(8,(0,m.u)(y.pI)),q.__param(9,(0,m.u)(w.Wi)),q.__param(10,(0,m.u)(v.Jd)),q.__param(11,(0,m.u)(u.Kp)),q.__param(12,(0,m.u)(A.c6)),q.__param(13,(0,m.u)(x.mA)),q.__param(14,(0,m.u)(z.dI)),q.__param(15,(0,m.u)(B.Dp)),q.__param(16,(0,m.u)(D.ija)),q.__param(17,(0,m.u)(l.Ria)),q.__param(18,(0,m.u)(a.Mx))],C);b.eU=C;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.vGa=void 0;c=a(55);b.vGa=function(k,g){this.vHb=k;this.size=g.jva()?c.ib:g;};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pwa=void 0;b.Pwa=function(a,c){var d,h;if(0 !== a.length){if(1 === a.length)return a[0];for(var k=a[0],g=c(k),f=1;f < a.length;f++){d=a[f];h=c(d);h > g && (k=d,g=h);}return k;}};},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t;function c(w,v,u,x){this.platform=w;this.config=v;this.Ma=u;this.userAgentData=x;this.uRa=/-?l(\d\d)/i;}Object.defineProperty(b,"__esModule",{value:!0});b.hKa=void 0;q=a(2);k=a(0);g=a(34);f=a(20);d=a(3);h=a(49);m=a(6);l=a(12);n=a(26);p=a(11);r=a(206);a=a(231);c.prototype.ns=function(w,v,u){u && (w.adlid=u.Ec,w.abitrate=u.bitrate);v && (w.vdlid=v.Ec,w.vbitrate=v.bitrate);};c.prototype.y5a=function(w,v,u){u?w=Object.assign(w,(0,r.P3a)(this.platform.Lt,u)):w.errorcode=d.W.wo;w.errorcode === this.platform.Lt + d.W.lMa && (w.lastSyncWithVideoElement=this.getTime() - v.S2);};c.prototype.D5a=function(w,v){var u;Object.assign(w,(0,r.yta)());try{u=v.getBoundingClientRect();w.rendersize=u.width + "x" + u.height;w.renderpos=u.left + "x" + u.top;}catch(x){}};c.prototype.C5a=function(w,v){var u,x,y;u=v.Hc[g.$b.kb.Vb].value;x=v.Hc[g.$b.kb.mc].value;y=v.bg.value;v=v.Le.value;u && (w.cdnid=u.id,w.cdnname=u.name);x && (w.acdnid=x.id,w.acdnname=x.name);if(null === y || void 0 === y?0:y.stream)(w.adlid=y.stream.Ec,w.abitrate=y.stream.bitrate);if(null === v || void 0 === v?0:v.stream)(w.vdlid=v.stream.Ec,w.vbitrate=v.stream.bitrate,w.vheight=v.stream.height,w.vwidth=v.stream.width);};c.prototype.qQb=function(w,v){var u,x;x=null === (u=v.Ra) || void 0 === u?void 0:u.JFb;x && (null === x || void 0 === x?void 0:x.M) !== v.VE && (w.auxMid=x.M);};c.prototype.A5a=function(w,v){0 <= v.mediaTime.value && (v=v.hQ() && !v.ob.ei?v.K9:v.mediaTime.value,w.moff=(0,n.vq)(v),w.moffms=(0,n.xg)(v));};c.prototype.w5a=function(w,v){v.jg && (w.pbcid=v.jg);v.lj && (w.playbackcontextid=v.lj);};c.prototype.Gua=function(w){var v,u;w.browserua=p.XH;w.browseruad=null === (u=null === (v=p.$e.userAgentData) || void 0 === v?void 0:v.brands) || void 0 === u?void 0:u.map(function(x){return [x.brand,x.version];});w.browseruadpv=this.userAgentData.platformVersion;w.browserhref=location.href;(v=p.$e && p.$e.connection && p.$e.connection.type) && (w.nettype=v);};c.prototype.mQ=function(w){var v,u,x,y,z;if(this.config().tIb){z=null === (v=null === p.$e || void 0 === p.$e?void 0:p.$e.connection) || void 0 === v?void 0:v.effectiveType;v=null === p.$e || void 0 === p.$e?void 0:p.$e.deviceMemory;z && (w.effectiveType=z);v && (w.deviceMemory=v);}(z=null === (u=null === p.$e || void 0 === p.$e?void 0:p.$e.connection) || void 0 === u?void 0:u.type) && (w.connectionType=z);u=null === (x=null === p.$e || void 0 === p.$e?void 0:p.$e.connection) || void 0 === x?void 0:x.downlink;"number" === typeof u && isFinite(u) && (w.downlink=u);x=null === (y=null === p.$e || void 0 === p.$e?void 0:p.$e.connection) || void 0 === y?void 0:y.rtt;"number" === typeof x && isFinite(x) && (w.rtt=x);};c.prototype.qba=function(w,v){if(v=v.ob.ho)(v.isUIAutoPlay && (w.isUIAutoPlay=!0),v.clLogId && (w.cl_log_id=v.clLogId));};c.prototype.nQ=function(w,v,u,x){var y,z,A,B,D;y=this;if(u=u && u.streams){A=new Set();B=new Set();D=new Set();u.forEach(function(C){C=C.ef;A.add(C);B.add(C.replace(y.uRa,""));(C=C.match(y.uRa)) && 0 < C.length && D.add(C[1]);});w.videoProfiles=[].concat(ka(A));w.videoProfile=0 === B.size?"none":[].concat(ka(B))[0];w.videoProfileLevels=[].concat(ka(D));u && u.length && (w.isMcClearen=! !u[0].Nj.find(function(C){return 0 <= C.toLowerCase().indexOf("mcclearen");}));}v && (null === (z=x.pa) || void 0 === z?0:z.F3) && (w.videoProfilesStatus=this.E8a(x.pa.F3));};c.prototype.E8a=function(w){return this.qUb(w.$P(),function(v){return v.supported?!0:v.reason;});};c.prototype.qUb=function(w,v){return Object.entries(w).reduce(function(u,x){var y;y=ra(x);x=y.next().value;y=y.next().value;u[x]=v(y);return u;},{});};c.prototype.t5a=function(w,v,u){var x,y;if(v=v && v.streams){y={};v.forEach(function(z){y[z.ef]=void 0;});w.audioProfiles=Object.keys(y);}(null === (x=u.pa) || void 0 === x?0:x.LW) && (w.audioProfilesStatus=this.E8a(u.pa.LW));};c.prototype.x5a=function(w){w.configversion=this.config().version;this.config().endpoint || (w.configendpoint="error");};c.prototype.getTime=function(){return this.Ma.ec().ia(m.sa);};t=c;t=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(h.Kp)),q.__param(1,(0,k.u)(l.jd)),q.__param(2,(0,k.u)(f.Jd)),q.__param(3,(0,k.u)(a.Lka))],t);b.hKa=t;},function(q,b,a){var k,g,f,d,h,m,l;function c(n,p,r,t,w){this.Cg=n;this.config=p;this.La=r;this.Ma=t;this.rwa=w;}Object.defineProperty(b,"__esModule",{value:!0});b.hU=void 0;q=a(2);k=a(54);g=a(0);f=a(203);d=a(12);h=a(38);m=a(20);l=a(1315);c.prototype.create=function(n,p,r){var t;t=this.rwa.create(n,p);return new l.jU(n,p,r,this.Cg,this.config,this.Ma,t);};a=c;a=q.__decorate([(0,g.X)(),q.__param(0,(0,g.u)(k.ro)),q.__param(1,(0,g.u)(d.jd)),q.__param(2,(0,g.u)(h.Wi)),q.__param(3,(0,g.u)(m.Jd)),q.__param(4,(0,g.u)(f.fU))],a);b.hU=a;},function(q,b,a){var k,g,f,d,h;function c(m,l,n,p,r,t,w){var v;v=this;this.j=m;this.Fa=l;this.Cg=p;this.config=r;this.Ma=t;this.Lb=w;this.gC=function(u,x){return function(y){var z;z=x(y);if("number" !== typeof z)throw Error("Event " + JSON.stringify(y) + " does not have movie Id");z === v.L && u(y);};};this.A8a=this.gC(function(u){v.zfa(u.uK);},function(u){return u.L;});this.x8a=this.gC(function(){v.oX();},function(u){return u.L;});this.eYa=this.gC(function(){v.oX();},function(u){return u.movieId;});this.hpa=this.gC(function(){v.j.Ob.value === h.zb.$c && (v.j.Ob.removeListener(v.hpa),v.Ow());},function(){return v.j.L;});this.bD=function(u){v.DC && v.Lb.bD(u);};this.kYa=this.gC(this.Lb.hCb,function(u){return u.L;});this.M_a=this.gC(this.Lb.pHb,function(u){return u.L;});this.X7a=this.gC(this.Lb.C_,function(u){return v.j.nl(u.segmentId).L;});this.eeb=this.gC(this.Lb.l2,function(u){return v.j.nl(u.segmentId).L;});this.C_a=this.gC(this.Lb.Mqa,function(u){return u.L;});this.xl=function(u){u.skip && (v.xp=!0);switch(u.cause){case h.uf.hI:case h.uf.A6:v.su && v.sr && v.Lb.Iya(v.getTime() - v.sr,v.su);v.su="repos";v.Lb.IR(u.Txa,u.bg,u.Le);v.sr=v.getTime();(0,d.wg)(v.Ay);break;case h.uf.N4:(v.su="force_rebuffer",v.sr=v.getTime(),(0,d.wg)(v.Ay));}};this.An=function(u){v.dC=u.oldValue;v.Lb.An(u);};this.Ay=function(){var u;if(v.sr && v.j.Ob.value !== h.zb.tg){u=v.getTime() - v.sr;v.Lb.OR(u,v.xp,v.su);v.dC && v.dC != v.j.Nc.value && v.Lb.koa();v.sr=void 0;v.su=void 0;v.xp=void 0;}};this.Ow=function(){v.DC || (v.DC=!0,v.Lb.XG(!1),v.Pua(),v.config().xba && (v.$B=pb.setTimeout(function(){v.Cg.flush(!1).catch(function(){return v.log.warn("failed to flush log batcher on initialLogFlushTimeout");});v.$B=void 0;},v.config().xba)));};this.Fh=function(){v.$B && (pb.clearTimeout(v.$B),v.$B=void 0);if(v.config().i$ || v.config().xO)(v.Oqa && (pb.clearInterval(v.Oqa),v.Oqa=void 0),v.Lb.A_a());v.q3 && v.q3();v.DC?v.Lb.NJ(! !v.j.gj):v.j.gj?v.Lb.XG(!0):v.Fa.background || v.Lb.Jya();};this.H3=function(u){u.oldValue && u.Kn && u.Kn.sJ && v.Lb.QO(u.oldValue,u.newValue,u.Kn.sJ,u.Kn.VW);};this.j1=function(u){var x;if(u.newValue){x=u.newValue.stream;v.BK != x && (v.BK && x && v.Lb.Tza(v.BK,x,u.newValue.Dn.startTime),v.BK=x);}};this.L=l.L;this.log=(0,g.hj)(m,"LogblobBuilder");this.xa();n && this.zfa();}Object.defineProperty(b,"__esModule",{value:!0});b.jU=void 0;k=a(16);g=a(9);f=a(6);d=a(62);h=a(18);c.prototype.xa=function(){this.j.addEventListener(h.ka.GK,this.A8a);this.j.addEventListener(h.ka.Gwa,this.x8a);this.j.addEventListener(h.ka.C_,this.X7a);this.j.addEventListener(h.ka.l2,this.eeb);this.j.addEventListener(h.ka.Fh,this.eYa);this.j.addEventListener(h.ka.gF,this.C_a,k.X5);if(this.config().i$ || this.config().xO)(this.j.addEventListener(h.ka.gF,this.M_a),this.Oqa=pb.setInterval(this.Lb.A_a,this.config().uHb));this.config().Zza && this.j.addEventListener(h.ka.gF,this.kYa);};c.prototype.zfa=function(m){var l;l=this;this.R9a || (this.j.Ob.value !== h.zb.$c || (void 0 === m?0:m)?this.j.Ob.addListener(this.hpa):this.Ow(),this.j.xj.addListener(this.bD),this.j.Cc.addListener(this.Lb.Zm),this.j.Nc.addListener(this.An),this.j.Uh.addListener(this.Lb.MW),this.j.paused.addListener(this.Lb.Uda),this.j.Le.addListener(this.j1),this.j.Ob.addListener(this.Ay),this.j.Ob.addListener(this.Lb.ehb),this.j.Df.addListener(this.H3),this.j.playbackRate.addListener(this.Lb.z2),this.j.addEventListener(h.ka.ej,this.Lb.ej),this.j.addEventListener(h.ka.wO,this.Lb.wO),this.j.addEventListener(h.ka.pS,this.Lb.pS),this.j.addEventListener(h.ka.gB,function(n){l.su="rebuffer";l.Lb.gB(n);l.sr=l.getTime();(0,d.wg)(l.Ay);}),this.j.addEventListener(h.ka.xl,this.xl),this.j.addEventListener(h.ka.vS,this.Lb.vS),this.Fa.Sr && this.Fa.Sr.addListener(this.Lb.Sr),this.R9a=!0);};c.prototype.oX=function(){this.Fh();this.R9a && (this.j.removeEventListener(h.ka.GK,this.A8a),this.j.removeEventListener(h.ka.Gwa,this.x8a),this.j.removeEventListener(h.ka.C_,this.X7a),this.j.removeEventListener(h.ka.l2,this.eeb),this.j.xj.removeListener(this.bD),this.j.Cc.removeListener(this.Lb.Zm),this.j.Nc.removeListener(this.An),this.j.Uh.removeListener(this.Lb.MW),this.j.paused.removeListener(this.Lb.Uda),this.j.Le.removeListener(this.j1),this.j.Ob.removeListener(this.Ay),this.j.Ob.removeListener(this.hpa),this.j.Ob.removeListener(this.Lb.ehb),this.j.Df.removeListener(this.H3),this.j.playbackRate.removeListener(this.Lb.z2),this.j.removeEventListener(h.ka.gF,this.C_a),this.j.removeEventListener(h.ka.Fh,this.eYa),this.j.removeEventListener(h.ka.ej,this.Lb.ej),this.j.removeEventListener(h.ka.wO,this.Lb.wO),this.j.removeEventListener(h.ka.pS,this.Lb.pS),this.j.removeEventListener(h.ka.gB,this.Lb.gB),this.j.removeEventListener(h.ka.xl,this.xl),this.j.removeEventListener(h.ka.vS,this.Lb.vS),this.Fa.Sr && this.Fa.Sr.removeListener(this.Lb.Sr),this.j.removeEventListener(h.ka.gF,this.M_a),this.j.removeEventListener(h.ka.gF,this.kYa));};c.prototype.getTime=function(){return this.Ma.ec().ia(f.sa);};c.prototype.Pua=function(){var m,l,n;m=this;n=[];this.config().y9a && (this.config().z9a.forEach(function(p){n.push(pb.setTimeout(m.Lb.aG,p));}),this.config().Tca && (l=pb.setInterval(this.Lb.aG,this.config().Tca)),this.q3=function(){n.forEach(function(p){pb.clearTimeout(p);});l && pb.clearInterval(l);});};b.jU=c;},function(q,b,a){var c,k,g,f,d,h,m,l,n;Object.defineProperty(b,"__esModule",{value:!0});b.e$a=void 0;q=a(0);c=a(1317);k=a(72);g=a(559);f=a(1318);d=a(561);h=a(560);m=a(1319);l=a(504);n=a(1323);b.e$a=new q.Nd(function(p){p(g.JRa).to(c.IRa).ha();p(k.Ix).fH(function(){return pb._cad_global.http;});p(d.MLa).to(f.LLa).ha();p(h.NLa).$m(m.default);p(l.yIa).to(n.xIa).ha();});},function(q,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.IRa=void 0;q=a(2);a=a(0);c.prototype.create=function(){return new XMLHttpRequest();};k=c;k=q.__decorate([(0,a.X)()],k);b.IRa=k;},function(q,b,a){var k,g,f,d;function c(h,m,l){this.config=h;this.ETb=m;this.jc=l;}Object.defineProperty(b,"__esModule",{value:!0});b.LLa=void 0;q=a(2);k=a(371);g=a(0);f=a(204);a=a(560);c.prototype.dFb=function(){if(this.config.oib)return this.jc(this.ETb());};d=c;d=q.__decorate([(0,g.X)(),q.__param(0,(0,g.u)(k.KLa)),q.__param(1,(0,g.u)(f.GLa)),q.__param(2,(0,g.u)(a.NLa))],d);b.LLa=d;},function(q,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(1320);k=a(1321);g=a(1322);b.default=function(f){var d;f=new c.Xga(f);d=new g.Oob(f);return new k.Nob(f,d);};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});q=(function(){function a(c){this.U7a=c;}a.prototype.XAa=function(c){try{this.U7a.setItem("gtp",JSON.stringify(c));}catch(k){return !1;}return !0;};a.prototype.Y2a=function(){var c;try{c=this.U7a.getItem("gtp");if(c)return JSON.parse(c);}catch(k){}};a.prototype.Yo=function(){var c;c=this.Y2a();if(c && c.tp)return c.tp.a;};a.prototype.GMb=function(){var c;c=this.Zsa();if(c)return c.p25;};a.prototype.HMb=function(){var c;c=this.Zsa();if(c)return c.p50;};a.prototype.IMb=function(){var c;c=this.Zsa();if(c)return c.p75;};a.prototype.Zsa=function(){var c;c=this.Y2a();if(c && (c=c.iqr))return c;};return a;})();b.Xga=q;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});q=(function(){function a(c,k){this.uy=c;this.Cxa=k;}a.prototype.XAa=function(c){return this.uy.XAa(c);};a.prototype.Yo=function(){return this.uy.Yo();};return a;})();b.Nob=q;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});q=(function(){function a(c){this.uy=c;}a.prototype.Cxa=function(){var c,k,g;c=this.uy.GMb();k=this.uy.HMb();g=this.uy.IMb();if("number" === typeof c && "number" === typeof k && "number" === typeof g)return (g - c) / k;};return a;})();b.Oob=q;},function(q,b,a){var k,g,f;function c(d,h){this.Bf=h;this.Ha=d.Bb("HttpDispatcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.xIa=void 0;q=a(2);k=a(0);g=a(7);a=a(72);c.prototype.download=function(d,h){var m;m=this;h=void 0 === h?{d9a:0}:h;return new Promise(function(l,n){var r;function p(t){if(t.fa)return l(t.content);if(r === h.d9a)return n({Ea:t.Ea,lK:t.Wl});r++;!1;m.Bf.download(d,p);}r=0;m.Bf.download(d,p);});};f=c;f=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(g.Ib)),q.__param(1,(0,k.u)(a.Ix))],f);b.xIa=f;},function(q,b,a){var c,k,g,f,d,h,m,l;Object.defineProperty(b,"__esModule",{value:!0});b.V1a=void 0;q=a(0);c=a(1325);k=a(1326);g=a(1327);f=a(1328);d=a(1329);h=a(562);m=a(563);l=a(181);b.V1a=new q.Nd(function(n){n(l.MHa).to(c.LHa).ha();n(l.ePa).to(k.dPa).ha();n(l.cPa).to(g.bPa).ha();n(h.IHa).to(f.HHa).ha();n(m.BIa).to(d.AIa).ha();});},function(q,b,a){var k,g,f,d,h,m,l,n;function c(p,r,t,w,v,u,x){this.config=p;this.l5a=r;this.bd=t;this.ub=w;this.I1b=v;this.Wza=u;this.pSb=0;this.Ha=x.Bb("FTL");}Object.defineProperty(b,"__esModule",{value:!0});b.LHa=void 0;q=a(2);g=a(0);f=a(6);d=a(53);h=a(7);m=a(562);l=a(563);a=a(181);c.prototype.start=function(){this.config.enabled && !this.tu && (this.tu=this.bd.Al(this.config.tfb,this.Bz.bind(this)));};c.prototype.stop=function(){this.tu && (this.tu.cancel(),this.tu=void 0);};c.prototype.Bz=function(){var p,r;p=this;r="" + this.config.endpoint + (-1 === this.config.endpoint.indexOf("?")?"?":"&") + "iter=" + this.pSb++;this.rOb(r).then(function(t){return Promise.all(t.urls.map(function(w){return p.hPb(t,w.url,w.name);})).then(function(w){0 < w.length && p.I1b.L1({data:w,context:t.context,swa:t.swa});}).then(function(){return t;});}).then(function(t){p.tu && (t.e7a?p.tu=p.bd.Al(t.e7a,p.Bz.bind(p)):p.stop());}).catch(function(t){return p.Ha.error("FTL run failed",t);});};c.prototype.rOb=function(p){var r;r=this;return this.l5a.get(p,!1).then(function(t){var w;if(200 != t.status || null == t.body)return (r.Wza.L1({url:p,status:t.status,Eya:"FTL API request failed",Je:t.Je}),Promise.reject(Error("FTL API request failed: " + t.status)));w=r.ub.parse(t.body);return w instanceof Error?(r.Wza.L1({url:p,status:4,Eya:"FTL Probe API JSON parsing error",Je:t.Je}),Promise.reject(w)):Promise.resolve(w);}).catch(function(t){t instanceof Error && (r.Wza.L1({url:p,status:0,Eya:t.message}),r.Ha.error("FTL API call failed",t.message));return Promise.reject(t);});};c.prototype.hPb=function(p,r,t){var w;w=this;return new Promise(function(v,u){var F;for(var x,y,z,A,B=[],D={},C=0;C < p.e0b;(D={Jga:D.Jga,Kga:D.Kga},++C)){D.Jga=C < p.$bb.length?p.$bb[C]:f.ib;D.Kga="" + r + (-1 === r.indexOf("?")?"?":"&") + "pulse=" + (C + 1);F=(function(G){return function(){return new Promise(function(E,I){w.bd.Al(G.Jga,function(){k.J_b(w.l5a,G.Kga,p.d0b).then(function(K){function L(H,P,N){H || (H=N.headers[P]);return H;}x=L(x,"via",K);y=L(y,"x-ftl-probe-data",K);z=L(z,"x-ftl-error",K);A=L(A,"latency-trace",K);K={status:K.status,Je:K.Je,$8b:x || "",FBb:y || "",yY:z || "",TSb:w.NYb(A)};E(K);}).catch(function(K){I(K);});});});};})(D);B.push(0 < C?B[C - 1].then(F):F());}Promise.all(B).then(function(G){v({url:r,name:t,data:G});}).catch(function(G){u(G);});});};c.prototype.NYb=function(p){var r;if(p){r={};p=ra(p.split(";"));for(var t=p.next();!t.done;t=p.next()){if((t=t.value.trim().split("=")) && 2 == t.length)try{r[t[0].trim()]=Number.parseInt(t[1]);}catch(w){}}return r;}};c.J_b=function(p,r,t){return p.get(r,!1,t).then(function(w){return Object.assign({},w);});};n=k=c;n=k=q.__decorate([(0,g.X)(),q.__param(0,(0,g.u)(a.KHa)),q.__param(1,(0,g.u)(l.BIa)),q.__param(2,(0,g.u)(d.Rk)),q.__param(3,(0,g.u)(m.IHa)),q.__param(4,(0,g.u)(a.ePa)),q.__param(5,(0,g.u)(a.cPa)),q.__param(6,(0,g.u)(h.Ib))],n);b.LHa=n;},function(q,b,a){var k,g,f,d,h,m;function c(l,n){this.Cg=l;this.exa=n;}Object.defineProperty(b,"__esModule",{value:!0});b.dPa=void 0;q=a(2);g=a(0);f=a(55);d=a(6);h=a(54);a=a(92);c.prototype.L1=function(l){var n;n={ctx:l.context,data:l.data.map(function(p){return {name:p.name,url:p.url,data:p.data.map(function(r){return k.J9b({d:r.Je.duration.ia(d.sa),sc:r.status,sz:r.Je.size.ia(f.Bx),via:r.$8b,cip:r.FBb,err:r.yY},r);})};})};l=this.exa.Nv(l.swa,"info",n);this.Cg.Wc(l);};c.J9b=function(l,n){k.sy(l,"dns",n.Je.H_a);k.sy(l,"tcp",n.Je.gCa);k.sy(l,"tls",n.Je.qCa);k.sy(l,"ttfb",n.Je.mCa);k.Exb(l,n.TSb);return l;};c.Exb=function(l,n){n && (l.rtts=n);};c.sy=function(l,n,p){p && (l[n]=p.ia(d.sa));};m=k=c;m=k=q.__decorate([(0,g.X)(),q.__param(0,(0,g.u)(h.ro)),q.__param(1,(0,g.u)(a.mA))],m);b.dPa=m;},function(q,b,a){var k,g,f,d,h,m;function c(l,n){this.Cg=l;this.exa=n;}Object.defineProperty(b,"__esModule",{value:!0});b.bPa=void 0;q=a(2);g=a(0);f=a(55);d=a(6);h=a(54);a=a(92);c.prototype.L1=function(l){l=this.exa.Nv("ftlProbeError","info",k.I9b({url:l.url,sc:l.status,pf_err:l.Eya},l));this.Cg.Wc(l);};c.I9b=function(l,n){n.Je && (n=n.Je,k.sy(l,"d",n.duration),k.sy(l,"dns",n.H_a),k.sy(l,"tcp",n.gCa),k.sy(l,"tls",n.qCa),k.sy(l,"ttfb",n.mCa),l.sz=n.size.ia(f.Bx));return l;};c.sy=function(l,n,p){p && (l[n]=p.ia(d.sa));};m=k=c;m=k=q.__decorate([(0,g.X)(),q.__param(0,(0,g.u)(h.ro)),q.__param(1,(0,g.u)(a.mA))],m);b.bPa=m;},function(q,b,a){var k,g,f,d,h;function c(m,l){this.is=m;this.json=l;(0,g.Iq)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.HHa=void 0;q=a(2);k=a(0);g=a(58);f=a(42);d=a(6);a=a(31);c.prototype.parse=function(m){var n;m=this.json.parse(m);if(!this.is.jna(m))throw Error("FtlProbe: param: not an object");if(m.next && !this.is.mW(m.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.mW(m.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(m.pulse_delays && !this.is.AE(m.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.mW(m.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.AE(m.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.Go(m.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.yW(m.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var l=0;l < m.urls.length;++l){n=m.urls[l];if(!this.is.jna(n))throw Error("FtlProbe: param.urls[" + l + "]: not an object");if(!this.is.uv(n.name))throw Error("FtlProbe: param.urls[" + l + "].name: not a string");if(!this.is.uv(n.url))throw Error("FtlProbe: param.urls[" + l + "].url: not a string");}return {e0b:m.pulses,$bb:m.pulse_delays?m.pulse_delays.map(d.Vc):[],d0b:(0,d.Vc)(m.pulse_timeout),e7a:m.next?(0,d.Vc)(m.next):void 0,urls:m.urls,swa:m.logblob,context:m.ctx};};h=c;h=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(a.Wg)),q.__param(1,(0,k.u)(f.OH))],h);b.HHa=h;},function(q,b,a){var k,g,f,d,h,m,l,n,p;function c(r,t,w){this.La=r;this.L9b=t;this.performance=w;(0,g.Iq)(this,"performance");}Object.defineProperty(b,"__esModule",{value:!0});b.AIa=void 0;q=a(2);g=a(58);f=a(317);d=a(55);h=a(42);m=a(38);l=a(0);n=a(559);p=a(6);c.prototype.get=function(r,t,w){var v;v=this;return new Promise(function(u,x){var y,z,A;try{y=v.L9b.create();("withCredentials" in y) || x(Error("Missing CORS support"));y.open("GET",r,!0);t && (y.withCredentials=!0);w && (y.timeout=w.ia(p.sa));z=v.La.Nf;A=void 0;y.onreadystatechange=function(){var B;switch(y.readyState){case XMLHttpRequest.HEADERS_RECEIVED:A=v.La.Nf.Ia(z);break;case XMLHttpRequest.DONE:B=v.La.Nf.Ia(z);B={body:y.responseText,status:y.status,headers:k.qya(y.getAllResponseHeaders()),Je:v.ita(r,(0,d.ga)(y.responseText.length),B,A)};u(B);}};y.send();}catch(B){x(B);}});};c.qya=function(r){var t,v,u;t={};r=r.split("\r\n");for(var w=0;w < r.length;w++){v=r[w];u=v.indexOf(": ");0 < u && (t[v.substring(0,u).toLowerCase()]=v.substring(u + 2));}return t;};c.prototype.ita=function(r,t,w,v){t={size:t,duration:w,mCa:v};if(!this.performance || !this.performance.getEntriesByName)return t;w=this.performance.getEntriesByName(r);if(0 == w.length && (w=this.performance.getEntriesByName(r + "/"),0 == w.length))return t;r=w[w.length - 1];t=(0,f.IQ)(t);r.decodedBodySize && (t.size=(0,d.ga)(r.decodedBodySize));0 < r.duration?t.duration=(0,p.timestamp)(r.duration):0 < r.startTime && 0 < r.responseEnd && (t.duration=(0,p.timestamp)(r.responseEnd - r.startTime));0 < r.requestStart && (t.H_a=(0,p.timestamp)(r.domainLookupEnd - r.domainLookupStart),t.gCa=(0,p.timestamp)(r.connectEnd - r.connectStart),t.mCa=(0,p.timestamp)(r.responseStart - r.startTime),0 === r.secureConnectionStart?t.qCa=(0,p.timestamp)(0):void 0 !== r.secureConnectionStart && (w=r.connectEnd - r.secureConnectionStart,t.qCa=(0,p.timestamp)(w),t.gCa=(0,p.timestamp)(r.connectEnd - r.connectStart - w)));return t;};a=k=c;a=k=q.__decorate([(0,l.X)(),q.__param(0,(0,l.u)(m.Wi)),q.__param(1,(0,l.u)(n.JRa)),q.__param(2,(0,l.u)(h.Kja)),q.__param(2,(0,l.optional)())],a);b.AIa=a;},function(q,b,a){var c,k,g,f;Object.defineProperty(b,"__esModule",{value:!0});b.Xbb=void 0;q=a(0);c=a(372);k=a(1331);g=a(207);f=a(1332);b.Xbb=new q.Nd(function(d){d(c.FGa).to(k.EGa).ha();d(g.dU).to(f.QJa).ha();});},function(q,b,a){var k,g,f,d,h,m,l,n;function c(p,r,t,w){this.Ui=p;this.DE=r;this.O8b=t;this.FQ=w;}Object.defineProperty(b,"__esModule",{value:!0});b.EGa=void 0;q=a(2);k=a(0);g=a(35);f=a(36);d=a(73);h=a(128);m=a(61);l=a(50);a=a(207);c.prototype.Jh=function(p){var r;r=this;return this.Ui.PE(p.fl[0].data[0],[8,4])?Promise.resolve({Ve:[{id:"ddd",EK:"cert",y_:void 0}],gk:[{sessionId:"ddd",data:new Uint8Array(this.DE.decode(l.yRa))}]}):this.Ui.PE(p.fl[0].data[0],this.O8b.decode("certificate"))?Promise.resolve({Ve:[{id:"ddd",EK:"cert",y_:void 0}],gk:[{sessionId:"ddd",data:new Uint8Array(this.DE.decode(l.M4))}]}):this.FQ.XA(this.LKb(p)).then(function(t){return r.MKb(t);});};c.prototype.release=function(p){return this.FQ.release(this.PKb(p)).then(function(){});};c.prototype.LKb=function(p){var r,t;r=this;t=p.fl.map(function(w){return w.data.map(function(v){return {sessionId:w.sessionId,dataBase64:r.DE.encode(v)};});});return {ja:p.ja,lj:p.lj,j$:p.j$,Bg:(0,m.cwa)(p.Bg),Ro:h.hn[p.Ro],fl:t.reduce(function(w,v){return w.concat(v);},[]),rl:p.rl};};c.prototype.PKb=function(p){return {ja:p.ja,Ve:p.Ve};};c.prototype.MKb=function(p){return {Ve:p.Ve,gk:p.gk};};n=c;n=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(g.si)),q.__param(1,(0,k.u)(f.Vi)),q.__param(2,(0,k.u)(d.gv)),q.__param(3,(0,k.u)(a.dU))],n);b.EGa=n;},function(q,b,a){var k,g,f,d,h,m;function c(l,n,p,r,t){this.cxb=l;this.d1b=n;this.gdb=r;this.j2b=t;this.Ha=p.Bb("LicenseProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.QJa=void 0;q=a(2);k=a(0);g=a(7);f=a(564);a(565);d=a(569);h=a(570);a=a(322);c.prototype.XA=function(l){var n,p;n=this;!1;p=this.gdb.d7b(l);return this.cxb.Mt(this.Ha,l.rl,p).then(function(r){r.map(function(t){return t.YSb;});return n.j2b.hhb(r);}).catch(function(r){n.Ha.error("PBO license failed",r);return Promise.reject(r);});};c.prototype.release=function(l){var n;n=this;!1;l=this.gdb.g7b(l);return this.d1b.mh(this.Ha,l).then(function(){return {fa:!0};}).catch(function(p){n.Ha.error("PBO release license failed",p);return Promise.reject(p);});};m=c;m=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(f.BMa)),q.__param(1,(0,k.u)(d.oNa)),q.__param(2,(0,k.u)(g.Ib)),q.__param(3,(0,k.u)(h.RMa)),q.__param(4,(0,k.u)(a.Gja))],m);b.QJa=m;},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t,w,v,u;function c(x){return function(){return x.hb.get(k.jNa).xa();};}Object.defineProperty(b,"__esModule",{value:!0});b.iL=void 0;q=a(0);k=a(169);g=a(290);f=a(323);d=a(571);h=a(1334);m=a(1335);l=a(572);n=a(1336);p=a(573);r=a(1337);t=a(324);w=a(1338);v=a(574);u=a(1339);b.iL=new q.Nd(function(x){x(l.XNa).to(n.WNa).ha();x(g.Ija).to(f.fNa).ha();x(d.HMa).to(h.GMa).ha();x(k.jNa).to(m.iNa).ha();x(k.yU).d3(c);x(v.hNa).to(u.gNa).ha();x(p.NMa).to(r.MMa).ha().L3();x(t.lNa).to(w.kNa).ha();x(t.cNa).to(w.bNa).ha();x(t.eNa).to(w.dNa).ha();});},function(q,b,a){var f,d,h,m,l,n,p,r,t,w;function c(){}function k(){}function g(v,u,x,y,z){var A;A=this;this.is=v;this.gr=u;this.config=x;this.GJ=y;this.WYb=z;this.tx=function(){return new c().encode({version:A.version,data:A.iL});};this.r8b=function(B){B=A.upgrade(B);A.WYb.validate(B);return B;};this.upgrade=function(B){var D;if(A.is.Go(B))return A.s8b(B);D=B.version;if(void 0 != D && A.is.Fo(D) && 1 == D)return A.t8b(B);D=B.version;if(void 0 != D && A.is.Fo(D) && 2 == D)return new c().decode(B);if(B.version && A.is.Fo(B.version))throw new l.Ad(h.W.BD,h.S.REa,void 0,void 0,void 0,"Version number is not supported. Version: " + B.version,void 0,B);throw new l.Ad(h.W.BD,h.S.sD,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,B);};this.im=new n.Cia(2,this.config().ibb,"" !== this.config().ibb && 0 < this.config().xZb,this.gr,this.tx);}Object.defineProperty(b,"__esModule",{value:!0});b.GMa=void 0;q=a(2);f=a(0);d=a(12);h=a(3);m=a(31);l=a(41);n=a(362);p=a(102);r=a(97);t=a(323);a=a(324);g.prototype.q0b=function(){return this.im.load(this.r8b).catch(function(v){throw new l.Ad(h.W.BD,v.Ea || v.Sc,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,v);});};g.prototype.Ixb=function(v){return this.im.add(v);};g.prototype.Qcb=function(v){return this.im.remove(v,function(u,x){return u.ja === x.ja;});};g.prototype.OCa=function(v){return this.im.update(v,function(u,x){return u.ja === x.ja;});};g.prototype.toString=function(){return JSON.stringify(this.tx(),null,"  ");};g.prototype.eib=function(v){return v?"/events?playbackContextId=" + v + "&esn=" + this.GJ().Xl:"";};g.prototype.SCa=function(v){return v.map(function(u){return {Ec:u.downloadableId,duration:u.duration};});};g.prototype.fib=function(v){var u;return v?{total:v.playTimes.total,eM:null !== (u=v.playTimes.totalContentTime) && void 0 !== u?u:v.playTimes.total,AS:v.playTimes.total,gH:0,hH:0,audio:this.SCa(v.playTimes.audio || []),video:this.SCa(v.playTimes.video || []),text:this.SCa(v.playTimes.timedtext || [])}:{total:0,eM:0,AS:0,gH:0,hH:0,audio:[],video:[],text:[]};};g.prototype.s8b=function(v){var u,x,y;u=this;v=JSON.parse(v);x={type:"online",href:this.eib(v.playbackContextId),ja:v.xid?v.xid.toString():"",L:v.movieId,position:v.position,nX:v.timestamp,m2:v.playback?1E3 * v.playback.startEpoch:-1,MQ:v.mediaId,X0:this.fib(v.playback),trackId:"",ho:{},profileId:v.accountKey};y=JSON.stringify({keySessionIds:v.keySessionIds,movieId:v.movieId,xid:v.xid,licenseContextId:v.licenseContextId,profileId:v.profileId});this.gr.create().then(function(z){z.save(u.config().nY,y,!1);});if("" === x.href || "" === x.ja)throw new l.Ad(h.W.BD,h.S.sD);return {version:2,data:[x]};};g.prototype.t8b=function(v){var u;u=this;if(!v.playdata || !this.is.AE(v.playdata))throw new l.Ad(h.W.BD,h.S.sD,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,v);return {version:2,data:(function(x){return x.map(function(y){return {type:y.type,href:u.eib(y.playbackContextId),ja:y.xid?y.xid.toString():"",L:y.movieId,position:y.position,nX:y.timestamp,m2:y.playback?1E3 * y.playback.startEpoch:-1,MQ:y.mediaId,X0:u.fib(y.playback),trackId:"",ho:{},profileId:y.profileId};});})(v.playdata)};};Ya.Object.defineProperties(g.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.im.version;}},iL:{configurable:!0,enumerable:!0,get:function(){return this.im.Bn;}}});w=g;w=q.__decorate([(0,f.X)(),q.__param(0,(0,f.u)(m.Wg)),q.__param(1,(0,f.u)(p.pD)),q.__param(2,(0,f.u)(d.jd)),q.__param(3,(0,f.u)(r.dA)),q.__param(4,(0,f.u)(a.eNa))],w);b.GMa=w;k.prototype.encode=function(v){var u;u=new t.b6();return v.map(u.encode);};k.prototype.decode=function(v){var u;u=new t.b6();return v.map(u.decode);};c.prototype.encode=function(v){return {version:v.version,data:new k().encode(v.data)};};c.prototype.decode=function(v){return {version:v.version,data:new k().decode(v.data)};};},function(q,b,a){var f,d,h,m,l,n,p,r,t,w,v,u,x;function c(y,z,A,B,D,C,F,G){this.config=y;this.bd=A;this.Nz=B;this.Qw=D;this.eea=C;this.Oi=F;this.zK=Promise.resolve();this.closed=!1;this.log=z.Bb("PlaydataServices");this.hL=[];this.active=new Set();this.n2b=new k(y,G);}function k(y,z){this.config=y;this.La=z;}function g(y,z,A,B,D,C){this.log=y;this.bd=z;this.mj=A;this.Qw=B;this.Nz=D;this.qZb=C;this.X0a=this.Vh=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.iNa=b.Qpb=void 0;q=a(2);f=a(0);d=a(6);h=a(7);m=a(53);l=a(290);n=a(571);p=a(572);r=a(3);t=a(323);w=a(573);v=a(110);u=a(38);a=a(149);g.prototype.gda=function(y,z){var B;function A(){var D;D=B.Qw.create(B.mj);B.Nz.OCa(D).catch(function(C){var F;F=B.X0a?h.Pk.Qka:h.Pk.rg;B.X0a=!0;B.log.write(F,"Unable to save playdata changes to IDB",C);});}B=this;this.log.trace("Adding initial playdata",z);this.Nz.Ixb(z).then(function(){B.log.trace("Scheduling monitor",{interval:y});B.tu=B.bd.bfa(y,A);}).catch(function(D){B.log.error("Unable to add playdata",{error:D,playdata:new t.b6().encode(z)});B.tu=B.bd.bfa(y,A);});};g.prototype.stop=function(y){var z,A;z=this;if(this.Vh)return Promise.resolve();this.tu && this.tu.cancel();A=this.Qw.create(this.mj);return this.Nz.OCa(A).catch(function(B){z.log.error("Unable to update playdata changes during stop",B);}).then(function(){if(y){if(z.mj.background)return (z.log.trace("Playback is currently in the background and never played, not sending the playdata",A),Promise.resolve());z.log.trace("Sending final playdata to the server",A);return z.qZb.beb(A);}z.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(y)return (z.log.trace("Removing playdata from the persisted store",A),z.Nz.Qcb(A));z.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){z.log.info("Successfully stopped the playback",A.L);}).catch(function(B){z.log.error("Unable to remove playdata changes",B);throw B;});};g.prototype.cancel=function(){this.Vh=!0;this.tu && this.tu.cancel();this.Nz.OCa(this.Qw.create(this.mj));};Ya.Object.defineProperties(k.prototype,{MAb:{configurable:!0,enumerable:!0,get:function(){var y;y=this.La.Nf;return !this.zK || 0 <= y.Ia(this.zK).zm(this.config.g7a)?(this.zK=y,!0):!1;}}});b.Qpb=k;c.prototype.xa=function(){var y;y=this;this.KF || (this.log.trace("Starting playdata services"),this.KF=this.Nz.q0b().then(function(){!1;return y;}).catch(function(z){y.log.error("Unable to read the playdata, it will be deleted and not sent to the server",z);return y;}));return this.KF;};c.prototype.close=function(){this.closed=!0;this.hL.forEach(function(y){y.gda.cancel();});};c.prototype.send=function(y){var z;if(this.closed)return Promise.resolve();z=this.config;return z.fL && z.LAa?this.c3b(y):Promise.resolve();};c.prototype.fr=function(y,z,A){var B;B=this;this.closed || (this.GBa(y),this.NAa(y).catch(function(D){B.log.error("Start command failed",{playdata:D.iL,error:D.yY});}),z && this.DBa(this.JMb(y),y,A));};c.prototype.G2=function(y){var z,A,B;z=this;if(this.closed)return Promise.resolve();A=this.Qw.create(y);this.active.delete(A.ja);y=ra((0,v.Nw)(function(D){return D.key === A.ja;},this.hL));B=y.next().value;this.hL=y.next().value;return Promise.all(B.map(function(D){D.stopped=!0;return D.gda.stop(z.config.LAa);})).then(function(){});};c.prototype.GBa=function(y){var z,A;y.We("pdb");if(this.config.Cya.QRb()){z=this.Qw.create(y);A=z.ja;this.hL.some(function(B){return B.key === A;})?this.log.trace("Already collecting playdata, ignoring",z):(this.log.info("Starting to collect playdata",z),this.active.add(A),this.hL.push({key:A,gda:this.dNb(y,z),Iz:!1,stopped:!1}));}};c.prototype.c3b=function(y){var z,A,B,D;z=this;A=this.Nz.iL.filter(function(C){return !z.active.has(C.ja);});B=void 0;D=void 0;y && Infinity === y?B=A:(A=ra((0,v.Nw)(function(C){return C.L === y;},A)),B=A.next().value,D=A.next().value);D && 0 < D.length && this.bd.Al(this.config.Zdb,function(){z.aeb(D);});return B && 0 !== B.length?this.aeb(B):Promise.resolve();};c.prototype.aeb=function(y){var A;function z(B){return A.eea.beb(B).then(function(){return A.q1b(B);});}A=this;return y.reduce(function(B,D){return B.then(function(){return z(D);});},Promise.resolve());};c.prototype.q1b=function(y){var z;z=this;return this.Nz.Qcb(y).then(function(){}).catch(function(A){z.log.error("Unable to complete the stop lifecycle event",A);throw A;});};c.prototype.dNb=function(y,z){y=new g(this.log,this.bd,y,this.Qw,this.Nz,this.eea);y.gda(this.config.Cya,z);return y;};c.prototype.NAa=function(y){var z,A;z=this;A=this.Qw.create(y);return this.eea.NAa(y,A).then(function(){!1;z.hL.filter(function(B){return B.key === y.ja.toString();}).forEach(function(B){B.Iz=!0;});}).catch(function(B){throw {iL:A,yY:B};});};c.prototype.$db=function(y){return this.n2b.MAb?this.i2(w.Fja.m_,y,r.W.Iia):Promise.resolve();};c.prototype.hfa=function(y){return this.i2(w.Fja.splice,y,r.W.sPa);};c.prototype.i2=function(y,z,A){var D;function B(C){var F;F=D.hL.filter(function(G){return G.key === C.ja.toString();});return 0 === F.length?!0:F.reduce(function(G,E){return G || E.stopped || !E.Iz;},!1);}D=this;return B(z)?this.zK:this.zK=this.zK.catch(function(){return Promise.resolve();}).then(function(){var C;if(B(z))return Promise.resolve();!1;C=D.Qw.create(z);return D.eea.i2(y,z,C);}).then(function(C){!1;return C;}).catch(function(C){var F;D.log.error("Failed to send event",{eventKey:y,xid:z.ja,error:C});C.ml?F=D.Oi(A,C):C.vC === r.O5.Kka && (F=D.Oi(A,C));throw {yY:C,sR:F};});};c.prototype.DBa=function(y,z,A){var B;B=this;!1;this.xpa();this.Dva=this.bd.Al(y,function(){B.xpa();B.i2(w.Fja.m_,z,r.W.Iia).then(function(){B.DBa(y,z,A);}).catch(function(D){var C;C=D.yY;(D=D.sR) && A(D);C.vC === r.O5.Kka && B.DBa(y,z,A);});});};c.prototype.Gfb=function(){this.xpa();};c.prototype.xpa=function(){this.Dva && (this.Dva.cancel(),this.Dva=void 0);};c.prototype.JMb=function(y){return y.ob.iua?(0,d.Vc)(y.ob.iua):this.config.f7a;};x=c;x=q.__decorate([(0,f.X)(),q.__param(0,(0,f.u)(p.XNa)),q.__param(1,(0,f.u)(h.Ib)),q.__param(2,(0,f.u)(m.Rk)),q.__param(3,(0,f.u)(n.HMa)),q.__param(4,(0,f.u)(l.Ija)),q.__param(5,(0,f.u)(w.NMa)),q.__param(6,(0,f.u)(a.AU)),q.__param(7,(0,f.u)(u.Wi))],x);b.iNa=x;},function(q,b,a){var k,g,f,d,h,m;function c(l,n){l=g.Ef.call(this,l,"PlaydataConfigImpl") || this;l.config=n;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.WNa=void 0;q=a(2);k=a(0);g=a(52);f=a(37);d=a(51);h=a(6);a=a(43);na(c,g.Ef);Ya.Object.defineProperties(c.prototype,{fL:{configurable:!0,enumerable:!0,get:function(){return this.config.DB?"unsentplaydatatest":"unsentplaydata";}},LAa:{configurable:!0,enumerable:!0,get:function(){return !0;}},Zdb:{configurable:!0,enumerable:!0,get:function(){return (0,h.Vc)(1E4);}},Cya:{configurable:!0,enumerable:!0,get:function(){return (0,h.Vc)(4E3);}},f7a:{configurable:!0,enumerable:!0,get:function(){return (0,h.eda)(1);}},g7a:{configurable:!0,enumerable:!0,get:function(){return (0,h.Nh)(30);}}});m=c;q.__decorate([d.config(d.string,"playdataPersistKey")],m.prototype,"fL",null);q.__decorate([d.config(d.Td,"sendPersistedPlaydata")],m.prototype,"LAa",null);q.__decorate([d.config(d.ul,"playdataSendDelayMilliseconds")],m.prototype,"Zdb",null);q.__decorate([d.config(d.ul,"playdataPersistIntervalMilliseconds")],m.prototype,"Cya",null);q.__decorate([d.config(d.ul,"heartbeatCooldown")],m.prototype,"f7a",null);q.__decorate([d.config(d.ul,"keepAliveWindow")],m.prototype,"g7a",null);m=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(f.qn)),q.__param(1,(0,k.u)(a.Dp))],m);b.WNa=m;},function(q,b,a){var k,g,f;function c(d,h){this.sX=h;this.log=d.Bb("PboEventSenderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.MMa=void 0;q=a(2);k=a(93);g=a(7);a=a(0);c.prototype.NAa=function(d,h){var m;m=this.sX(k.xr.start);return this.Q0a(m,d,h);};c.prototype.beb=function(d){var h;h=this;return this.sX(k.xr.stop).mh(this.log,d).then(function(){}).catch(function(m){h.log.error("PBO stop event failed",m);throw m;});};c.prototype.i2=function(d,h,m){d=this.sX(d);return this.Q0a(d,h,m);};c.prototype.Q0a=function(d,h,m){var l;l=this;return d.Mt(this.log,h.pa.rl,m).then(function(){}).catch(function(n){l.log.error("PBO event failed",n);throw n;});};f=c;f=q.__decorate([(0,a.X)(),q.__param(0,(0,a.u)(g.Ib)),q.__param(1,(0,a.u)(k.cia))],f);b.MMa=f;},function(q,b,a){var f,d,h,m;function c(){}function k(l){this.VYb=l;}function g(l){this.XYb=l;}Object.defineProperty(b,"__esModule",{value:!0});b.kNa=b.dNa=b.bNa=void 0;q=a(2);f=a(0);d=a(324);h=a(41);m=a(3);g.prototype.validate=function(l){l.map(this.XYb.validate);};a=g;a=q.__decorate([(0,f.X)(),q.__param(0,(0,f.u)(d.lNa))],a);b.bNa=a;k.prototype.validate=function(l){this.VYb.validate(l.data);};a=k;a=q.__decorate([(0,f.X)(),q.__param(0,(0,f.u)(d.cNa))],a);b.dNa=a;c.prototype.validate=function(l){var n;l.ja && "string" === typeof l.ja?l.href && "string" === typeof l.href?l.profileId && "string" === typeof l.profileId || (n="ProfileId value is corrupted."):n="Href value is corrupted.":n="Xid value is corrupted.";if(n)throw new h.Ad(m.W.BD,m.S.sD,void 0,void 0,void 0,n,void 0,l.ja);};d=c;d=q.__decorate([(0,f.X)()],d);b.kNa=d;},function(q,b,a){var k,g,f,d;function c(h,m){this.Pab=m;this.log=h.Bb("PlaydataServices");}Object.defineProperty(b,"__esModule",{value:!0});b.gNa=void 0;q=a(2);k=a(0);g=a(7);f=a(18);a=a(169);c.prototype.fr=function(h){var m;m=this;this.Pab().then(function(l){h.addEventListener(f.ka.GK,function(n){var p;if(void 0 !== n.vR){p=h.Oy(n.vR);l.G2(p);n.uK || new Promise(function(r){var t;if(h.xk.value)r();else {t=function(w){w.newValue && (r(),h.xk.removeListener(t));};h.xk.addListener(t);}}).then(function(){return l.fr(h,m.Yeb(h),function(r){return h.vJ(r);});});}});h.addEventListener(f.ka.Ow,function(){l.fr(h.oa,m.Yeb(h),function(n){return h.vJ(n);});});h.background || h.addEventListener(f.ka.z_,function(n){var p;n=h.Oy(n.L);if(n.zi){p=h.Oy(n.zi.cL);m.log.trace("Auxiliary viewable segment (viewableId: " + n.L + "). Starting playdata monitor for parent viewable " + p.L);n=p;}l.GBa(n);});h.addEventListener(f.ka.Fh,function(){l.Gfb();});h.addEventListener(f.ka.yib,function(){l.$db(h.oa).catch(function(n){(n=n.sR) && h.vJ(n);});});h.Cc.addListener(function(){h.ob.Kqa?m.log.trace("stickiness is disabled for timedtext"):l.hfa(h.oa);});h.Nc.addListener(function(){h.ob.Kqa?m.log.trace("stickiness is disabled for audio"):l.hfa(h.oa).catch(function(n){(n=n.sR) && h.vJ(n);});});});};c.prototype.Yeb=function(h){return h.state.value == f.qc.Re;};d=c;d=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(g.Ib)),q.__param(1,(0,k.u)(a.yU))],d);b.gNa=d;},function(q,b,a){var k,g,f,d,h,m,l,n;function c(p){return function(){return new Promise(function(r,t){var w;w=p.hb.get(g.OGa);w.xa().then(function(){r(w);}).catch(function(v){t(v);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.Y_a=void 0;q=a(0);k=a(575);g=a(576);f=a(1341);d=a(108);h=a(1342);m=a(577);l=a(1343);n=a(1344);b.Y_a=new q.Nd(function(p){p(m.ZJa).to(l.YJa).ha();p(k.LGa).to(n.$Ja);p(d.hT).to(h.PDa).ha();p(g.OGa).to(f.MGa).ha();p(g.NGa).d3(c);});},function(q,b,a){var k,g;function c(f){this.gHb=f;}Object.defineProperty(b,"__esModule",{value:!0});b.MGa=void 0;q=a(2);k=a(0);a=a(575);c.prototype.xa=function(){var f;f=this;this.KF || (this.KF=new Promise(function(d,h){var m;m=[];f.gHb.forEach(function(l){m.push(l.xa());});Promise.all(m).then(function(){d();}).catch(function(l){h(l);});}));return this.KF;};g=c;g=q.__decorate([(0,k.X)(),q.__param(0,(0,k.TK)(a.LGa))],g);b.MGa=g;},function(q,b,a){var k,g;function c(){this.DAa="";this.Qib=[[],[]];this.Z=[[],[]];}Object.defineProperty(b,"__esModule",{value:!0});b.PDa=void 0;q=a(2);k=a(0);a(6);g=a(108);c.prototype.downloadRequest=function(f){var d;"" === this.DAa && (this.DAa=f.ea);if(!f.Qc){d=this.Q6b(f);this.Z[f.mediaType].push(d);this.Qib[f.mediaType].forEach(function(h){h.Lec(d);});}};c.prototype.Q6b=function(f){return {id:f.ij(),ea:f.ea,mediaType:f.mediaType,il:f.il,startTime:f.JC,endTime:f.wz,offset:f.$w,KO:f.KO,IO:f.IO,duration:f.Ht,bitrate:f.bitrate,state:g.$ga.S_a,xk:!1,Wgc:!1,M4a:!1,Ofc:g.Zga.waiting};};c.prototype.update=function(f){this.Qib[f.mediaType].forEach(function(d){d.Vjc(f);});};Ya.Object.defineProperties(c.prototype,{ea:{configurable:!0,enumerable:!0,get:function(){return this.DAa;}}});a=c;a=q.__decorate([(0,k.X)()],a);b.PDa=a;},function(q,b,a){var k,g,f,d,h;function c(m,l){m=f.Ef.call(this,m,"LogDisplayConfigImpl") || this;m.Gh=l;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.YJa=void 0;q=a(2);k=a(0);g=a(51);f=a(52);d=a(37);a=a(116);na(c,f.Ef);Ya.Object.defineProperties(c.prototype,{I1:{configurable:!0,enumerable:!0,get:function(){return !0;}},GQ:{configurable:!0,enumerable:!0,get:function(){return this.Gh.GQ;}},b8a:{configurable:!0,enumerable:!0,get:function(){return -1;}}});h=c;q.__decorate([g.config(g.Td,"renderDomDiagnostics")],h.prototype,"I1",null);q.__decorate([g.config(g.LF,"logDisplayMaxEntryCount")],h.prototype,"GQ",null);q.__decorate([g.config(g.LF,"logDisplayAutoshowLevel")],h.prototype,"b8a",null);h=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(d.qn)),q.__param(1,(0,k.u)(a.bI))],h);b.YJa=h;},function(q,b,a){var f,d,h,m,l,n,p,r,t,w,v,u,x,y,z,A;function c(B,D,C,F,G,E,I,K,L,H){var P;P=this;this.La=B;this.Jg=D;this.Ui=C;this.bd=F;this.wp=G;this.config=E;this.GJ=I;this.iCa=K;this.OFb=L;this.gr=H;this.x6b=function(){P.u3.Vm(function(){P.update();});};this.clear=function(){P.entries=[];P.update();};this.H9a=function(){P.pf.yQ=!P.pf.yQ;P.YF && P.bG && (P.pf.yQ?(P.YF.style.display="inline-block",P.bG.style.display="none"):(P.bG.style.display="inline-block",P.YF.style.display="none"));P.LL(!1);};this.TTb=function(N){var J;P.entries.push(N);J=P.config.GQ;0 <= J && P.entries.length > J && P.entries.shift();void 0 === P.pf.jB[N.gq] && (P.pf.jB[N.gq]=!0,P.LL(!1));P.pf.isVisible && !P.vgb?P.x6b():P.u3.Vm();};this.oHb=function(){g.download("all",P.entries.map(function(N){return N.Ufa(!1,!1);})).catch(function(N){console.error("Unable to download all logs to the file",N);});};this.xw=!1;this.pf={isVisible:!1,yQ:!0,f$:!0,mwa:w.Pk.yia,jB:{}};this.u3=this.iCa((0,p.Nh)(1));this.JJb=this.OFb((0,p.Vc)(250));this.entries=[];!1;!1;}function k(B){var D;this.elements=[];D=document.createElementNS(k.R2,"svg");D.setAttribute("viewBox",B);this.elements.push(D);}function g(){}Object.defineProperty(b,"__esModule",{value:!0});b.$Ja=void 0;q=a(2);f=a(0);d=a(35);h=a(119);m=a(388);l=a(53);n=a(38);p=a(6);r=a(20);t=a(97);w=a(7);v=a(120);u=a(325);x=a(577);y=a(102);z=a(209);A=a(1345);g.download=function(B,D){return g.oMb(B).then(function(C){return g.sOb(C,D.join("\r\n")).then(function(F){return g.mHb(F.filename,F.text);});});};g.oMb=function(B){return new Promise(function(D,C){var F,G,E,I,K,L,H;try{F=new Date();G=F.getDate().toString();E=(F.getMonth() + 1).toString();I=F.getFullYear().toString();K=F.getHours().toString();L=F.getMinutes().toString();H=F.getSeconds().toString();1 === G.length && (G="0" + G);1 === E.length && (E="0" + E);1 === K.length && (K="0" + K);1 === L.length && (L="0" + L);1 === H.length && (H="0" + H);D(I + E + G + K + L + H + "." + B + ".log");}catch(P){C(P);}});};g.sOb=function(B,D){return new Promise(function(C,F){try{C({filename:B,text:URL.createObjectURL(new Blob([D],{type:"text/plain"}))});}catch(G){F(G);}});};g.mHb=function(B,D){var C;try{C=document.createElement("a");C.setAttribute("href",D);C.setAttribute("download",B);C.style.display="none";document.body.appendChild(C);C.click();document.body.removeChild(C);return Promise.resolve();}catch(F){return Promise.reject(F);}};k.prototype.jS=function(){var B;B=document.createElementNS(k.R2,"g");B.setAttribute("stroke","none");B.setAttribute("stroke-width",(1).toString());B.setAttribute("fill","none");B.setAttribute("fill-rule","evenodd");B.setAttribute("stroke-linecap","round");this.addElement(B);return this;};k.prototype.lS=function(B,D,C){var F;F=document.createElementNS(k.R2,"path");F.setAttribute("d",B);D && F.setAttribute("fill",D);C && F.setAttribute("fill-rule",C);this.addElement(F);return this;};k.prototype.D2=function(B,D,C,F,G){var E;G=void 0 === G?"#000000":G;E=document.createElementNS(k.R2,"rect");E.setAttribute("x",B.toString());E.setAttribute("y",D.toString());E.setAttribute("height",C.toString());E.setAttribute("width",F.toString());G && E.setAttribute("fill",G);this.addElement(E);return this;};k.prototype.g5b=function(){var B;B=document.createElementNS(k.R2,"polygon");B.setAttribute("points","0 0 24 0 24 24 0 24");B.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(B);return this;};k.prototype.end=function(){this.elements.pop();return this;};k.prototype.ak=function(){if(1 < this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0 === this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};k.prototype.addElement=function(B){if(0 === this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length - 1].appendChild(B);this.elements.push(B);};Ya.Object.defineProperties(k,{background:{configurable:!0,enumerable:!0,get:function(){return "transparent";}},DJ:{configurable:!0,enumerable:!0,get:function(){return "#000000";}}});k.R2="http://www.w3.org/2000/svg";c.prototype.xa=function(){var B;B=this;this.KF || (this.KF=new Promise(function(D){pb.addEventListener("keydown",function(C){C.ctrlKey && C.altKey && C.shiftKey && (C.keyCode == z.DD.Snb?B.toggle():C.keyCode == z.DD.E && A.vFa.SCb(B.GJ().Xl));});B.wp.Gea(u.Sia.Elb,B.TTb);D();}));return this.KF;};c.prototype.show=function(){document.body && (this.element || (this.EEb(),this.xw=!0),!this.pf.isVisible && this.element && (document.body.appendChild(this.element),this.pf.isVisible=!0,this.update(!0)));};c.prototype.Ty=function(){this.xw && this.pf.isVisible && this.element && (document.body.removeChild(this.element),this.pf.isVisible=!1);};c.prototype.toggle=function(){this.pf.isVisible?this.Ty():this.show();this.LL(!1);};c.prototype.EEb=function(){var B,D;try{B=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});D=this.createElement("style");D.type="text/css";D.appendChild(document.createTextNode("button:focus { outline: none; }"));B.appendChild(D);B.appendChild(this.hr=this.tFb());B.appendChild(this.uFb());B.appendChild(this.yEb());this.element=B;}catch(C){console.error("Unable to create the log console",C);}};c.prototype.tFb=function(){var B,D;B=this;D=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");D.setAttribute("wrap","off");D.setAttribute("readonly","readonly");D.addEventListener("focus",function(){B.vgb=!0;B.update();B.hr && (B.hr.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});D.addEventListener("blur",function(){B.vgb=!1;B.update();B.hr && (B.hr.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return D;};c.prototype.uFb=function(){var B;B=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");B.appendChild(this.WEb());B.appendChild(this.OEb());B.appendChild(this.JEb());B.appendChild(this.vFb());B.appendChild(this.CEb());B.appendChild(this.bFb());B.appendChild(this.$Eb());B.appendChild(this.LEb());B.appendChild(this.DEb());return B;};c.prototype.yEb=function(){var B,D,C,F,G,E;B=this;D=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");C=this.createElement("div","padding:2px");F=this.createElement("select",this.Ny(22,160,1,2),"<option>Select categories</option>");G=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");D.appendChild(C);D.appendChild(G);C.appendChild(F);C.addEventListener("mousedown",function(I){I.preventDefault();});E=!1;C.addEventListener("click",function(){E?G.style.display="none":(G.innerHTML="",["all","none"].concat(Object.keys(B.pf.jB).sort()).forEach(function(I){G.appendChild(B.zEb(I,C));}),G.style.display="block");E=!E;});return D;};c.prototype.zEb=function(B,D){var C,F,G;C=this;F=this.createElement("label","display: block;margin:1px");F.htmlFor=B;G=this.createElement("input","margin:1px");G.type="checkbox";G.id=B;G.checked=this.pf.jB[B];G.addEventListener("click",function(){"all" === B || "none" === B?(Object.keys(C.pf.jB).forEach(function(E){C.pf.jB[E]="all" === B;}),D.click()):C.pf.jB[B]=!C.pf.jB[B];C.LL(!0);});F.appendChild(G);F.insertAdjacentText("beforeend",18 < B.length?B.slice(0,15) + "...":B);return F;};c.prototype.WEb=function(){var B,D;B=this;D=this.createElement("select",this.Ny(22,NaN,1,2),'<option value="' + w.Pk.rg + '">Error</option><option value="' + (w.Pk.Qka + '">Warn</option><option value="') + (w.Pk.yia + '">Info</option><option value="') + (w.Pk.yQa + '">Trace</option><option value="') + (w.Pk.aa + '">Debug</option>'));D.value=this.pf.mwa.toString();D.addEventListener("change",function(C){B.pf.mwa=parseInt(C.target.value);B.LL(!0);},!1);return D;};c.prototype.OEb=function(){var D,C;function B(F){return D.JJb.Vm(function(){var G;G=F.target.value;D.pf.filter=G?new RegExp(G):void 0;D.LL(!0);});}D=this;C=this.createElement("input",this.Ny(14,150,1,2));C.value=this.pf.filter?this.pf.filter.source:"";C.title="Filter (RegEx)";C.placeholder="Filter (RegEx)";C.addEventListener("keydown",B,!1);C.addEventListener("change",B,!1);return C;};c.prototype.JEb=function(){var B,D,C,F;B=this;D=this.createElement("div",this.Ny(NaN,NaN));C=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");C.id="details";C.type="checkbox";C.title="Details";C.checked=this.pf.f$;C.addEventListener("change",function(G){B.pf.f$=G.target.checked;B.LL(!0);},!1);F=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");F.setAttribute("for","details");F.innerHTML="View details";D.appendChild(C);D.appendChild(F);return D;};c.prototype.vFb=function(){var B,D,C;B=this;D=this.createElement("button",this.Ny());C=new k("0 0 24 24").jS().g5b().end().lS("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",k.DJ,"nonzero").end().end().ak();D.appendChild(C);D.addEventListener("click",function(){B.update();},!1);D.setAttribute("title","Refresh the log console");return D;};c.prototype.CEb=function(){var B,D;B=this.createElement("button",this.Ny());D=new k("0 0 24 24").jS().D2(0,0,24,24,k.background).end().lS("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",k.DJ).end().end().ak();B.appendChild(D);B.addEventListener("click",this.clear,!1);B.setAttribute("title","Remove all log messages");return B;};c.prototype.bFb=function(){var B;this.bG=this.createElement("button",this.Ny());this.bG.style.display=this.pf.yQ?"none":"inline-block";B=new k("0 0 24 24").jS().D2(0,0,24,24,k.background).end().lS("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",k.DJ,"nonzero").end().end().ak();this.bG.addEventListener("click",this.H9a,!1);this.bG.appendChild(B);this.bG.setAttribute("title","Shrink the log console");return this.bG;};c.prototype.$Eb=function(){var B;this.YF=this.createElement("button",this.Ny());this.YF.style.display=this.pf.yQ?"inline-block":"none";B=new k("0 0 24 24").jS().D2(4,4,16,16,k.background).end().lS("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",k.DJ,"nonzero").end().end().ak();this.YF.addEventListener("click",this.H9a,!1);this.YF.appendChild(B);this.YF.setAttribute("title","Expand the log console");return this.YF;};c.prototype.LEb=function(){var B,D;B=this.createElement("button",this.Ny());D=new k("0 0 26 26").jS().D2(0,0,24,24,k.background).end().lS("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",k.DJ,"nonzero").end().end().ak();B.appendChild(D);B.addEventListener("click",this.oHb,!1);B.setAttribute("title","Download all log messages");return B;};c.prototype.DEb=function(){var B,D,C;B=this;D=this.createElement("button",this.Ny());C=new k("0 0 24 24").jS().D2(0,0,24,24,k.background).end().lS("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",k.DJ,"nonzero").end().end().ak();D.appendChild(C);D.addEventListener("click",function(){B.toggle();},!1);D.setAttribute("title","Close the log console");return D;};c.prototype.LL=function(B){var D;B=void 0 === B?!1:B;D=void 0 === D?!1:D;!1;B && this.update(D);};c.prototype.update=function(B){var D;D=this;B=void 0 === B?!1:B;this.element && this.config.I1 && Promise.resolve(this.bAb() + this.pMb().join("\r\n")).then(function(C){D.element && D.hr && (D.hr.value=C,D.element.style.cssText=D.pf.yQ?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",B && D.bd.Al(p.ib,function(){D.hr.scrollTop=D.hr.scrollHeight;}));}).catch(function(C){console.error("Unable to update the log console",C);});};c.prototype.pMb=function(){var B,D;B=this;D=[];this.entries.forEach(function(C){(C.level || C.level) <= B.pf.mwa && B.pf.jB[C.gq] && (C=C.Ufa(!B.pf.f$,!B.pf.f$),B.pf.filter && !B.pf.filter.test(C) || D.push(C));});return D;};c.prototype.bAb=function(){var B;B=this.GJ();return "Version: 6.0036.280.911 \n" + ((B?"Esn: " + B.Xl:"") + "\nJsSid: ") + (this.Jg.id + ", Epoch: " + this.La.Nf.ia(p.Mp) + ", Start: " + this.Jg.fC.ia(p.Mp) + ", TimeZone: " + new Date().getTimezoneOffset() + "\nHref: ") + (location.href + "\nUserAgent: ") + (navigator.userAgent + "\n--------------------------------------------------------------------------------\n");};c.prototype.createElement=function(B,D,C,F){return this.Ui.createElement(B,D,C,F);};c.prototype.Ny=function(B,D,C,F){B=void 0 === B?26:B;D=void 0 === D?26:D;return "display:inline-block;border:" + (void 0 === C?0:C) + "px solid " + k.DJ + ";padding:3px;" + (isNaN(B)?"":"height:" + B + "px") + ";" + (isNaN(D)?"":"width:" + D + "px") + ";margin:0px 3px;background-color:transparent;" + (F?"border-radius:" + F + "px;":"");};a=c;a.r5b="logDxDisplay";a=q.__decorate([(0,f.X)(),q.__param(0,(0,f.u)(n.Wi)),q.__param(1,(0,f.u)(r.Jd)),q.__param(2,(0,f.u)(d.si)),q.__param(3,(0,f.u)(l.Rk)),q.__param(4,(0,f.u)(v.MM)),q.__param(5,(0,f.u)(x.ZJa)),q.__param(6,(0,f.u)(t.dA)),q.__param(7,(0,f.u)(h.gN)),q.__param(8,(0,f.u)(m.aGa)),q.__param(9,(0,f.u)(y.pD))],a);b.$Ja=a;},function(q,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.vFa=void 0;k=a(11);c.SCb=function(g){var f;if(k.Qh.queryCommandSupported && k.Qh.queryCommandSupported("copy")){f=k.Qh.createElement("textarea");f.textContent=g;f.style.position="fixed";k.Qh.body.appendChild(f);f.select();try{k.Qh.execCommand("copy");}catch(d){console.warn("Copy to clipboard failed.",d);}finally{k.Qh.body.removeChild(f);}}};b.vFa=c;},function(q,b,a){var c,k,g,f,d,h,m,l,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.Qe=void 0;q=a(0);c=a(1347);k=a(1348);g=a(1349);f=a(147);d=a(370);h=a(553);m=a(1350);l=a(1351);n=a(578);p=a(1352);b.Qe=new q.Nd(function(r){r(f.z6).to(c.sQa).ha();r(d.hka).to(g.SOa).ha();r(h.lRa).to(k.kRa).ha();r(m.Yob).to(l.ZLa).ha();r(n.FRa).to(p.ERa).ha();});},function(q,b,a){var k,g,f,d,h,m;function c(l,n){this.is=l;this.json=n;(0,g.Iq)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.sQa=void 0;q=a(2);g=a(58);f=a(42);d=a(0);h=a(31);m=a(147);c.prototype.ocb=function(l){var n;n=this;return k.read(l,function(p){return parseInt(p);},function(p){return n.is.Pna(p);});};c.prototype.zza=function(l){var n;n=this;return k.read(l,function(p){return "true" == p?!0:"false" == p?!1:void 0;},function(p){return n.is.o8(p);});};c.prototype.Gs=function(l){var n;n=this;return k.read(l,function(p){return parseInt(p);},function(p){return n.is.zW(p);});};c.prototype.o0b=function(l){var n;n=this;return k.read(l,function(p){return parseFloat(p);},function(p){return n.is.Fo(p);});};c.prototype.ncb=function(l,n){return k.read(l,function(p){return k.SJb(p,n);},function(p){return void 0 !== p;});};c.prototype.Cza=function(l,n){return k.read(l,function(p){return p;},function(p){return n?n.test(p):!0;});};c.prototype.pcb=function(l){var n,p;n=this;p=void 0 === p?function(){return !0;}:p;try{return k.read(l,function(r){return n.json.parse(decodeURIComponent(r));},function(r){return n.is.yW(r) && p(r);});}catch(r){return new m.zr();}};c.prototype.Sg=function(l,n,p){var r,t;r=this;p=void 0 === p?1:p;l=l.trim();t=n instanceof Function?n:this.cFb(n,p);n=l.indexOf("[");p=l.lastIndexOf("]");if(0 != n || p != l.length - 1)return new m.zr();l=l.substring(n + 1,p);try{return k.KYb(l).map(function(w){w=t(r,k.U8b(w));if(w instanceof m.zr)throw w;return w;});}catch(w){return w instanceof m.zr?w:new m.zr();}};c.prototype.cFb=function(l,n){var p;p=this;n=void 0 === n?1:n;return function(r,t){r=k.qNb(l);return 1 < n?p.Sg(t,l,n - 1):r(p,t);};};c.SJb=function(l,n){var r;for(var p in n){r=parseInt(p);if(n[r] == l)return r;}};c.read=function(l,n,p){l=n(l);return void 0 !== l && p(l)?l:new m.zr();};c.qNb=function(l){switch(l){case "int":return function(n,p){return n.ocb(p);};case "bool":return function(n,p){return n.zza(p);};case "uint":return function(n,p){return n.Gs(p);};case "float":return function(n,p){return n.o0b(p);};case "string":return function(n,p){return n.Cza(p);};case "object":return function(n,p){return n.pcb(p);};}};c.KYb=function(l){var x;for(var n=[["[","]"]],p=[],r=0,t=0,w=0,v=[],u={};t < l.length;(u={VS:u.VS},++t)){u.VS=l.charAt(t);x=void 0;"," == u.VS && 0 == w?(p.push(l.substr(r,t - r)),r=t + 1):(x=n.find((function(y){return function(z){return z[0] == y.VS;};})(u)))?(++w,v.push(x)):0 < v.length && v[v.length - 1][1] == u.VS && (--w,v.pop());}if(r != t)p.push(l.substr(r,t - r));else if(r == t && 0 < r)throw new m.zr();return p;};c.U8b=function(l){var n;n=l.charAt(0);if('"' == n || "'" == n){if(l.charAt(l.length - 1) != n)throw new m.zr();return l.substring(1,l.length - 1);}return l;};a=k=c;a=k=q.__decorate([(0,d.X)(),q.__param(0,(0,d.u)(h.Wg)),q.__param(1,(0,d.u)(f.OH))],a);b.sQa=a;},function(q,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.kRa=void 0;q=a(2);a=a(0);c.prototype.Z1a=function(g){var f;f=this;return g?(g ^ 16 * Math.random() >> g / 4).toString(16):("10000000-1000-4000-8000-100000000000").replace(/[018]/g,function(d){return f.Z1a(d);});};k=c;k=q.__decorate([(0,a.X)()],k);b.kRa=k;},function(q,b,a){var k,g,f,d;function c(h){this.location=h;(0,g.Iq)(this,"location");}Object.defineProperty(b,"__esModule",{value:!0});b.SOa=void 0;q=a(2);g=a(58);f=a(42);a=a(0);c.P0=function(h){var m,n,p;m={};if(0 < h.length){h=h.split("&");for(var l=0;l < h.length;l++){n=h[l].trim();p=n.indexOf("=");0 <= p?m[decodeURIComponent(n.substr(0,p).replace(k.sMa,"%20"))]=decodeURIComponent(n.substr(p + 1).replace(k.sMa,"%20")):m[n.toLowerCase()]="";}}return m;};Ya.Object.defineProperties(c.prototype,{h0b:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=k.P0(this.bcb);}},bcb:{configurable:!0,enumerable:!0,get:function(){var h;if(void 0 !== this.v1)return this.v1;this.v1=this.location.search.substr(1);h=this.v1.indexOf("#");0 <= h && (this.v1=this.bcb.substr(0,h));return this.v1;}}});d=k=c;d.sMa=/[+]/g;d=k=q.__decorate([(0,a.X)(),q.__param(0,(0,a.u)(f.UJa))],d);b.SOa=d;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yob="ObjectComparerSymbol";},function(q,b,a){var k,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.ZLa=void 0;q=a(2);k=a(0);g=a(218);c.prototype.compare=function(f,d){var h;h=[];this.Hpa(f,d,"",h);return h;};c.prototype.Hpa=function(f,d,h,m){var l;l=this;if(g.NH.AE(f))g.NH.AE(d) && f.length === d.length?f.forEach(function(r,t){l.Hpa(f[t],d[t],h + "[" + t + "]",m);}):m.push({a:f,b:d,path:h});else if(g.NH.yW(f) && null != f){if(g.NH.yW(d) && null != d){for(var n in f){this.Hpa(f[n],d[n],h + "." + n,m);}for(var p in d){(p in f) || void 0 === d[p] || m.push({a:void 0,b:d[p],path:h + "." + p});}}else m.push({a:f,b:d,path:h});}else f !== d && m.push({a:f,b:d,path:h});};a=c;a=q.__decorate([(0,k.X)()],a);b.ZLa=a;},function(q,b,a){var k,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.ERa=void 0;q=a(2);k=a(0);g=a(11);c.prototype.QNb=function(){var f;f=pb.devicePixelRatio || 1;return {width:g.Px.width * f,height:g.Px.height * f};};a=c;a=q.__decorate([(0,k.X)()],a);b.ERa=a;},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r,t,w,v,u,x;Object.defineProperty(b,"__esModule",{value:!0});b.Zd=void 0;q=a(0);c=a(579);k=a(1354);g=a(125);f=a(326);d=a(1355);h=a(1356);m=a(1358);l=a(1359);n=a(1360);p=a(580);r=a(581);t=a(175);w=a(328);v=a(1361);u=a(327);x=a(1363);b.Zd=new q.Nd(function(y){y(c.ANa).to(k.zNa).ha();y(f.dka).to(d.KOa).ha();y(g.pI).to(h.tRa).ha();y(p.JOa).to(n.JKa).ha();y(p.IOa).to(l.PJa).ha();y(p.HOa).to(m.HJa).ha();y(w.aEa).U6b(function(){var z;return null === (z=t.yv.pj) || void 0 === z?void 0:z.Uw;});y(w.$Da).to(v.ZDa).ha();y(r.bka).to(r.wOa);y(u.Cha).to(x.hFa).ha();});},function(q,b,a){var k,g,f;function c(d,h){this.Mb=h;this.Ha=d.Bb("PlayPredictionDeserializer");}Object.defineProperty(b,"__esModule",{value:!0});b.zNa=void 0;q=a(2);k=a(0);g=a(7);a=a(31);c.prototype.KGb=function(d){var h;h=this;try{return {direction:d.direction,lhc:d.layoutHasChanged,Vic:d.rowInteractionIndex,Zb:d.lolomos.map(function(m){return h.FGb(m);})};}catch(m){this.Ha.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(d)});}};c.prototype.FGb=function(d){var h;h=this;return {context:d.context,list:d.list.map(function(m){return h.EGb(m);}),requestId:d.requestId,rowIndex:d.rowIndex,Wic:d.rowSegment};};c.prototype.EGb=function(d){var h,m;h={Xd:d.pts,property:d.property,M:d.viewableId,index:d.index};m=d.preplay;this.Mb.jh(m) && (h.qea=this.JGb(m));d=d.params;this.Mb.jh(d) && (h.Nb=this.q_a(d));return h;};c.prototype.JGb=function(d){var h;h={Xd:d.pts,M:d.viewableId,oR:d.pipelineNum,index:d.index};d=d.params;this.Mb.jh(d) && (h.Nb=this.q_a(d));return h;};c.prototype.q_a=function(d){return {ze:d.uiLabel,Lk:d.trackingId,ho:d.sessionParams};};c.prototype.IGb=function(d){var h;h=this;try{return d.map(function(m){return h.GGb(m);});}catch(m){this.Ha.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(d)});}};c.prototype.GGb=function(d){var h,m;m=d.params;this.Mb.jh(m) && (h=this.HGb(m));return {L:d.movieId,priority:d.priority,force:d.force,Nb:h,ze:d.uiLabel,Rjc:d.uiExpectedStartTime,Qjc:d.uiExpectedEndTime,Dm:d.firstTimeAdded};};c.prototype.HGb=function(d){var h,m;h=void 0;m=d.sessionParams;this.Mb.jh(m) && (h=m);return {Z8:this.DGb(d.authParams),ho:h,Lk:d.trackingId,da:d.startPts,pa:d.manifest,ei:d.isBranching};};c.prototype.DGb=function(d){return {hZb:null === d || void 0 === d?void 0:d.pinCapableClient};};f=c;f=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(g.Ib)),q.__param(1,(0,k.u)(a.Wg))],f);b.zNa=f;},function(q,b,a){var k,g,f,d,h,m,l,n,p,r;function c(t,w,v,u){this.is=v;this.Jg=u;this.log=t.Bb("TaskScheduler");this.dc=new p.El();this.config=w();this.currentIteration=this.IX=0;this.ZL=[];this.paused=!1;this.Bfa=[];this.wYa=[];this.VQb=this.config.n_b || r.append;this.addEventListener=this.dc.addListener;}Object.defineProperty(b,"__esModule",{value:!0});b.KOa=void 0;q=a(2);k=a(0);g=a(326);f=a(7);d=a(12);h=a(140);m=a(31);l=a(20);n=a(6);p=a(75);(function(t){t.prepend="prepend";t.append="append";t.fQb="ignore";})(r || (r={}));c.prototype.Oxb=function(t){this.log.trace("adding tasks, number of tasks: " + t.length);this.paused=!1;this.ZL=this.WQb(t);this.IX=0;this.currentIteration+=1;this.wg();};c.prototype.pause=function(){this.paused=!0;};c.prototype.wg=function(){var t,w,v,u;t=this;if(this.IX === this.ZL.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.IX,numberOfTasks:this.ZL.length});else {w=this.lNb();v=this.currentIteration;w.startTime=this.Jg.ec().ia(n.sa);w.status=h.Gl.Iz;this.dc.rd(g.aN.t6b,{L:w.L,type:w.type});this.Bfa.push(w);u=function(x){w.endTime=t.Jg.ec().ia(n.sa);x();t.wYa.push(w);t.Bfa.splice(t.Bfa.indexOf(w),1);t.currentIteration === v && (t.IX++,t.wg());};w.w2b().then(function(){u(function(){w.status=h.Gl.qS;t.mza(w,g.aN.u6b,"task succeeded");});}).catch(function(x){u(function(){0 <= [h.Gl.Vh,h.Gl.SAb,h.Gl.$oa].indexOf(x.status)?(w.status=x.status,t.mza(w,g.aN.r6b,"cancelled task")):(w.status=h.Gl.Zv,t.mza(w,g.aN.s6b,"task failed",x));});});}};c.prototype.lNb=function(){return this.ZL[this.IX];};c.prototype.getStats=function(t,w,v){var u,x,y,z;u=this.wYa.map(function(A){return A.kw();});x=this.Bfa.map(function(A){return A.kw();});y=this.is.jh(t) && this.is.jh(w);z={};if(this.is.jh(v))return (z.rCb=u.filter(function(A){return A.movieId === v;}),z);u.concat(x).forEach(function(A){var B;z[A.type + "_" + A.status]=(z[A.type + "_" + A.status] | 0) + 1;B=A.status == h.Gl.Iz?A.startTime:A.endTime;y && B && B >= t && B < w && (z[A.type + "_" + A.status + "_delta"]=(z[A.type + "_" + A.status + "_delta"] | 0) + 1);});return z;};c.prototype.mza=function(t,w,v,u){var x;x=t.kw();u?this.log.warn(v,x,u):this.log.trace(v,x);this.dc.rd(w,{L:t.L,type:t.type,reason:t.status});t.bR(x);};c.prototype.WQb=function(t){var w,v;w=this.ZL.filter(function(u){return u.eZb && u.status === h.Gl.iq;});v=this.VQb;return v === r.fQb?[].concat(t):v === r.prepend?w.concat(t):t.concat(w);};a=c;a=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(f.Ib)),q.__param(1,(0,k.u)(d.jd)),q.__param(2,(0,k.u)(m.Wg)),q.__param(3,(0,k.u)(l.Jd))],a);b.KOa=a;},function(q,b,a){var g,f,d,h,m,l,n,p,r,t,w,v,u,x;function c(y,z,A,B,D,C,F,G,E,I,K){this.M9b=A;this.Mb=B;this.Jg=D;this.qf=C;this.e1a=F;this.BJb=G;this.CJb=E;this.Fra=I;this.events=new x.EventEmitter();this.log=y.Bb("VideoPreparer");this.config=z();this.qDa={};this.hda={};this.kc={num_of_calls:0,num_of_movies:0};this.hh=K.hh;}function k(y){return void 0 !== y;}Object.defineProperty(b,"__esModule",{value:!0});b.tRa=void 0;q=a(2);g=a(1357);f=a(12);d=a(0);h=a(7);m=a(84);l=a(31);n=a(326);p=a(20);r=a(6);t=a(140);w=a(327);v=a(580);u=a(328);x=a(13);c.prototype.oeb=function(y,z,A){this.hh.setData(y,"ldl",z,A);};c.prototype.J4a=function(y){return this.hh.JZ(y,"ldl");};c.prototype.UXa=function(y){this.hh.clearData(y,"ldl",void 0,!0);};c.prototype.NP=function(y,z){return this.hh.getData(y,z);};c.prototype.o2a=function(y){var z;z=this.hh.getData(y,"ldl");this.hh.clearData(y,"ldl",void 0,!0);return z;};c.prototype.Pib=function(y){return this.Cfb === y || this.zZa === y;};c.prototype.kL=function(y,z){var A,B,D;A=this;y=y.map(function(C){C.Nb=C.Nb || ({Z8:{hZb:!1},Lk:0});A.Mb.FJ(C.Nb.Lk) || (C.Nb.Lk=0);A.Mb.FJ(C.Xd) && (C.Nb.da=C.Xd);return C;});B=y.map(function(C){return A.sFb(C,z);}).reduce(function(C,F){return C.concat(F);},[]);D=B.map(function(C){return C.L + "-" + C.type;});this.log.trace("prepare tasks",D);this.qf.Oxb(B);this.kc.num_of_calls++;this.kc.num_of_movies+=y.length;};c.prototype.getStats=function(y,z,A){return Object.assign(Object.assign({},A && this.hda[A] || ({})),{ZL:this.qf.getStats(y,z,A),cache:this.hh.getStats(y,z),TKb:Object.assign(Object.assign({},this.kc),this.Fra.getStats())});};c.prototype.dPb=function(y){this.Cfb=y;};c.prototype.bPb=function(y){this.log.trace("task scheduler paused on playback created");this.qf.pause();this.config.BGb && this.hh.tpa(y,["manifest"]);this.config.AGb && this.hh.tpa(y,["ldl"]);this.config.xGb && this.hh.clearData(y,"manifest");this.Fra.Mcb(y);this.zZa=y;};c.prototype.G4a=function(){this.log.info("track changed, clearing all manifests from cache");this.hh.tpa("none",["manifest"]);};c.prototype.aPb=function(y){var z;z=this;this.config.yGb?this.hh.clearData(y,"manifest"):this.hh.JZ(y,"manifest") && this.hh.getData(y,"manifest").then(function(A){A.Tb.isSupplemental || z.hh.clearData(y,"manifest");},function(A){z.log.warn("Failed to get manifest for movieId [" + y + "] from cacheManager.",A);});this.Apa(y);this.Cfb=this.zZa=void 0;};c.prototype.Apa=function(y){delete this.qDa[y];};c.prototype.OB=function(y){return this.qDa[y];};c.prototype.yZa=function(y){return this.qDa[y]=this.M9b.uB();};c.prototype.Web=function(y,z){if(this.J4a(y))return t.Gl.Vh;if(!z.jK)return t.Gl.$oa;};c.prototype.sFb=function(y,z){var A,B;y.ze && y.Nb && (y.Nb.ze=y.ze);this.h8b(y.L,y.Dm);A=this.ZEb(y,z);B=this.VEb(y,null === A || void 0 === A?void 0:A.id,z);y=this.aFb(y,null === A || void 0 === A?void 0:A.id,z);return [A,B,y].filter(k);};c.prototype.ZEb=function(y,z){if(this.hh.JZ(y.L,"manifest"))this.log.trace("manifest exists in cache for " + y.L);else return new g.CU("manifest",this.Jg.ec().ia(r.sa),! !y.Nb.Ri,void 0,z,this.e1a,y,this);};c.prototype.VEb=function(y,z,A){if(this.config.tY)if(this.hh.JZ(y.L,"ldl"))!1;else return this.config.Ju?new g.CU("ldl",this.Jg.ec().ia(r.sa),! !y.Nb.Ri,z,A,this.BJb,y,this):new g.CU("ldl",this.Jg.ec().ia(r.sa),! !y.Nb.Ri,z,A,this.CJb,y,this);};c.prototype.aFb=function(y,z,A){if(this.config.r0a)return new g.CU("getMedia",this.Jg.ec().ia(r.sa),! !y.Nb.Ri,z,A,this.Fra,y,this);};c.prototype.h8b=function(y,z){this.hda[y] || (this.hda[y]={oea:0,Dm:0});y=this.hda[y];y.oea=(void 0 !== y?void 0 !== y.oea?y.oea:0:0) + 1;y.Dm=z;};a=c;a=q.__decorate([(0,d.X)(),q.__param(0,(0,d.u)(h.Ib)),q.__param(1,(0,d.u)(f.jd)),q.__param(2,(0,d.u)(m.kA)),q.__param(3,(0,d.u)(l.Wg)),q.__param(4,(0,d.u)(p.Jd)),q.__param(5,(0,d.u)(n.dka)),q.__param(6,(0,d.u)(v.JOa)),q.__param(7,(0,d.u)(v.IOa)),q.__param(8,(0,d.u)(v.HOa)),q.__param(9,(0,d.u)(u.$Da)),q.__param(10,(0,d.u)(w.Cha))],a);b.tRa=a;},function(q,b,a){var k,g;function c(f,d,h,m,l,n,p,r){this.type=f;this.iq=d;this.eZb=void 0 === h?!1:h;this.notify=l;this.DJb=n;this.uR=p;this.Zd=r;this.id=++g;this.status=k.Gl.iq;}Object.defineProperty(b,"__esModule",{value:!0});b.CU=void 0;k=a(140);g=0;c.prototype.kw=function(){var f;f={id:this.id,type:this.type,created:this.iq,status:this.status,movieId:this.L};this.startTime && (f.startTime=this.startTime);this.endTime && this.startTime && (f.duration=this.endTime - this.startTime,f.endTime=this.endTime);return f;};c.prototype.bR=function(f){this.notify && this.notify(f);};c.prototype.w2b=function(){return this.DJb.fetch(this.uR,this.Zd);};Ya.Object.defineProperties(c.prototype,{L:{configurable:!0,enumerable:!0,get:function(){return this.uR.L;}},priority:{configurable:!0,enumerable:!0,get:function(){return this.uR.priority;}}});b.CU=c;},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t,w,v,u,x,y,z;function c(A,B,D,C,F,G,E,I,K,L,H){this.gu=D;this.x2=C;this.Dc=F;this.La=G;this.Ma=E;this.FQ=I;this.nZb=K;this.kk=L;this.kl=H;this.log=A.Bb("VideoPreparer");this.config=B();}Object.defineProperty(b,"__esModule",{value:!0});b.HJa=void 0;q=a(2);k=a(0);g=a(7);f=a(12);d=a(140);h=a(64);m=a(61);l=a(49);n=a(171);p=a(207);r=a(36);t=a(6);w=a(38);v=a(20);u=a(210);x=a(222);y=a(124);a=a(68);c.prototype.fetch=function(A,B){var D;D=this;this.log.trace("Fetching LDL",(0,u.GM)(A));this.L=A.L;this.Zd=B;return B.NP(A.L,"ldl").catch(function(){D.log.trace("Requesting a new license",(0,u.GM)(A));return D.kk.jaa(A.L).then(function(C){var F,G;D.pa=C;D.Tb=C.Tb;if(C=D.Zd.Web(A.L,D.Tb))throw {status:C};C=D.Tb.Tz[0].n1;F=D.Tb.Tz[0].Rqa;G=(C?C:[F]).map(function(E){return D.Dc.decode(E.bytes);});D.gf=D.UE({f0a:D.log,nra:function(E){return D.handleError(E);},We:void 0,Lxa:function(){},La:{getTime:function(){return D.Ma.ec().ia(t.sa);},vgc:function(){return D.La.Nf.ia(t.Mp);}}});B.oeb(A.L,D.gf);return D.gf.create(D.config.Sn).then(function(){return D.gf.Jh(m.Zi.Ep,G,!0);}).then(function(){return D.gf;}).catch(function(E){D.handleError(E);throw E;});}).catch(function(C){D.log.warn("Manifest not available for ldl request",C);if(void 0 !== C.status)throw C;throw {status:d.Gl.Vh};});});};c.prototype.handleError=function(A){this.log.warn("ldl is now invalid",A);this.gf.close();this.Zd.UXa(this.L);this.Zd.Apa(this.L);};c.prototype.UE=function(A){var B,D;B=this;if(!this.gu.EM || !this.gu.CM){D=this.nZb();this.gu.EM=D.tc;this.gu.CM=D.request;}D=new this.gu.CM(A.f0a,function(C){var F;F=[];C.fl.forEach(function(G){F.push({sessionId:G.sessionId,dataBase64:B.Dc.encode(G.data)});});C={fl:F,j$:[B.Tb.Bm],Bg:h.Cp.UYa(C.Bg),lj:B.Tb.lj,ja:B.Zd.yZa(B.L),rl:B.pa.rl};B.log.trace("xid created ",{MovieId:B.L,xid:C.ja});return B.FQ.XA(C);},void 0,{Zf:!1,Yl:!1});return this.gu.EM(A.f0a,A.We,{Zf:!1,Yl:!1,Qm:D,q1:this.config.Tbb,ca:void 0,hD:this.config.m0a,onerror:A.nra,Lxa:A.Lxa,La:A.La,gL:!1,bzb:this.x2.D9([]),e9b:this.x2.J9([]),bwa:this.kl.H8.ia(t.sa)});};z=c;z=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(g.Ib)),q.__param(1,(0,k.u)(f.jd)),q.__param(2,(0,k.u)(l.d6)),q.__param(3,(0,k.u)(n.JU)),q.__param(4,(0,k.u)(r.Vi)),q.__param(5,(0,k.u)(w.Wi)),q.__param(6,(0,k.u)(v.Jd)),q.__param(7,(0,k.u)(p.dU)),q.__param(8,(0,k.u)(x.Pja)),q.__param(9,(0,k.u)(y.UH)),q.__param(10,(0,k.u)(a.Vu))],z);b.HJa=z;},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t;function c(w,v,u,x,y,z){this.Dc=u;this.DHb=x;this.NQ=y;this.kk=z;this.log=w.Bb("VideoPreparer");}Object.defineProperty(b,"__esModule",{value:!0});b.PJa=void 0;q=a(2);k=a(0);g=a(7);f=a(12);d=a(61);h=a(36);m=a(130);l=a(146);n=a(140);p=a(210);r=a(124);t=a(50);c.prototype.fetch=function(w,v){var u;u=this;this.log.trace("Fetching LDL",(0,p.GM)(w));this.L=w.L;this.Zd=v;return v.NP(w.L,"ldl").then(function(x){return x.lfa;}).catch(function(){u.log.trace("Requesting a new license",(0,p.GM)(w));return u.kk.jaa(w.L).then(function(x){var y,z,A,B;u.Tb=x.Tb;if(v.J4a(w.L))return v.NP(w.L,"ldl").then(function(D){return D.lfa;});y=u.Zd.Web(w.L,u.Tb);if(y)throw {status:y};y=u.Tb.Tz[0].n1;z=u.Tb.Tz[0].Rqa;A=(y?y:[z]).map(function(D){return u.Dc.decode(D.bytes);});B=u.DHb().then(function(D){var C;C={type:d.Zi.Ep,initData:A,context:{bca:(0,t.ata)(x.Tb.Tz[0].streams)},wk:{L:w.L,ja:v.yZa(w.L),lj:u.Tb.lj,Bm:u.Tb.Bm,rl:x.rl}};return D.Jh(C,u.NQ());}).catch(function(D){u.handleError("Unable to prepare an EME session.",D);throw D;});u.Zd.oeb(w.L,{lfa:B,source:"videopreparer"},function(){if(!u.Zd.Pib(w.L))try{B.then(function(D){return D.close();}).catch(function(D){u.handleError("Unable to cleanup LDL session, Unable to get the session.",D);});}catch(D){u.handleError("Unable to cleanup LDL session, unexpected exception.",D);}});return B;}).catch(function(x){u.log.warn("Manifest not available for ldl request",x);if(void 0 !== x.status)throw x;throw {status:n.Gl.Vh};});});};c.prototype.handleError=function(w,v){this.log.warn(w + " LDL is now invalid.",v);this.Zd.UXa(this.L);this.Zd.Apa(this.L);};a=c;a=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(g.Ib)),q.__param(1,(0,k.u)(f.jd)),q.__param(2,(0,k.u)(h.Vi)),q.__param(3,(0,k.u)(m.I4)),q.__param(4,(0,k.u)(l.mU)),q.__param(5,(0,k.u)(r.UH))],a);b.PJa=a;},function(q,b,a){var k,g,f,d,h,m,l,n,p,r;function c(t,w,v,u,x){this.I_=v;this.Jg=u;this.kk=x;this.log=t.Bb("VideoPreparer");this.config=w();}Object.defineProperty(b,"__esModule",{value:!0});b.JKa=void 0;q=a(2);k=a(12);g=a(0);f=a(7);d=a(20);h=a(6);m=a(139);l=a(109);n=a(210);p=a(124);r=a(61);c.prototype.fetch=function(t,w){var v,u;this.log.trace("Fetching manifest",(0,n.GM)(t));u=t.Nb;this.config.axb && u && u.pa && !this.kk.Xaa(t.L) && (!(("clientGenesis" in u.pa) && u.pa.clientGenesis) || Date.now() - u.pa.clientGenesis < this.config.Ebb) && (u=this.I_.create(u.pa)) && (u.uL=this.Jg.ec().ia(h.sa),u.LR=this.Jg.ec().ia(h.sa),this.kk.H2(t.L,u));return this.kk.UP({M:t.L,ob:null !== (v=t.Nb) && void 0 !== v?v:{},dw:l.so.aI,Bg:r.Zi.Ep},!0,function(){w.events.emit("manifestRemovedFromCache",{target:w,type:"manifestRemovedFromCache",M:t.L});});};a=c;a=q.__decorate([(0,g.X)(),q.__param(0,(0,g.u)(f.Ib)),q.__param(1,(0,g.u)(k.jd)),q.__param(2,(0,g.u)(m.OM)),q.__param(3,(0,g.u)(d.Jd)),q.__param(4,(0,g.u)(p.UH))],a);b.JKa=a;},function(q,b,a){var g,f,d,h,m,l,n,p,r,t,w,v,u,x;function c(){var y;y=this;this.promise=new Promise(function(z,A){y.resolve=z;y.reject=A;});}function k(y,z,A,B,D){var C;C=this;this.Uya=A;this.k_b=B;this.kk=D;this.M3=[];this.HC=new Map();this.KXb=function(F){var G,E;F=F.wishListItem.key.M;if(C.HC.has(F)){E=C.HC.get(F);F=E.uR;E=E.Lpa;null === (G=E.resolve) || void 0 === G?void 0:G.call(E,F);}};this.Y$a=function(F){!F.target.Pib(F.M) && C.HC.has(F.M) && (C.Mcb(F.M),C.Peb(C.M3),C.Pj.has({M:F.M}) && (C.Pj.Wo(F.M).Wv=!0));};this.Ha=y.Bb("VideoPreparer");this.config=z();this.Pj=new u.Pka();}Object.defineProperty(b,"__esModule",{value:!0});b.ZDa=void 0;q=a(2);g=a(7);a(210);f=a(175);d=a(34);h=a(12);m=a(19);l=a(109);n=a(328);p=a(0);r=a(581);t=a(13);w=a(124);v=a(61);u=a(582);x=a(1362);k.prototype.fetch=function(y,z){if(-1 === z.events.listeners("manifestRemovedFromCache").indexOf(this.Y$a))z.events.on("manifestRemovedFromCache",this.Y$a);!1;this.Peb(this.jCb(this.BFb(y,z)));return this.HC.get(y.L).Lpa.promise;};k.prototype.getStats=function(){return this.Uw.getStats();};k.prototype.jCb=function(y){return [y].concat(ka(this.M3.filter(function(z){return z.key.M !== y.key.M;}))).slice(0,this.config.i_b).map(this.config.j_b?function(z,A){return Object.assign({},z,{priority:A});}:function(z){return z;});};k.prototype.UP=function(y){var z;return this.kk.UP({M:y.L,dw:l.so.aI,Bg:v.Zi.Ep,ob:null !== (z=y.Nb) && void 0 !== z?z:{}}).then(function(A){return A.Tb;});};k.prototype.BFb=function(y,z){var A,B,D,C,F,G;D=new c();if(this.HC.has(y.L)){C=this.HC.get(y.L);F=C.uR;if(F.L === y.L && F.ze === y.ze)G=C.G9b.key;this.Uw.getStats().contents.some(function(E){return E.id === y.L;}) && (D=C.Lpa);}C=f.yv.Kf.Xr((0,m.Opa)(y.ze));G || (G={M:y.L,config:C});F={M:y.L};this.Pj.has(F) || this.Pj.store(F,this.AFb(y,z,C));z={key:G,ehc:!1,priority:y.priority,c9:d.O.Sa(null !== (B=null === (A=y.Nb) || void 0 === A?void 0:A.da) && void 0 !== B?B:0),Pj:this.Pj};this.HC.set(y.L,{G9b:z,uR:y,Lpa:D});return z;};k.prototype.AFb=function(y,z,A){var B,D,C;B=this;D=y.L;return {get ja() {return z.OB(D);},Wv:!1,events:new t.EventEmitter(),Zoa:function(){},get Qs() {C || (C=B.UP(y).then(function(F){return {pa:F,Cj:F.aua && !F.jK,config:A,bfb:{}};}));return C;},M:D,fgb:!1,equals:function(F){var G;G=z.OB(D);return F && F.M === D && (!F.ja || !G || G === F.ja);}};};k.prototype.xeb=function(y){this.M3=y;};k.prototype.Peb=function(y){this.xeb(y);this.Uw.Oeb(this.M3);};k.prototype.Mcb=function(y){this.HC.has(y) && (this.xeb(this.M3.filter(function(z){return z.key.M !== y;})),this.HC.delete(y));};Ya.Object.defineProperties(k.prototype,{Uw:{configurable:!0,enumerable:!0,get:function(){this.NA || (this.NA=this.k_b(),this.NA.$Aa(this.Uya).Geb(new x.mJa()).neb({oK:this.config.h_b}),this.NA.events.on("prefetchComplete",this.KXb));return this.NA;}}});a=k;a=q.__decorate([(0,p.X)(),q.__param(0,(0,p.u)(g.Ib)),q.__param(1,(0,p.u)(h.jd)),q.__param(2,(0,p.u)(r.bka)),q.__param(3,(0,p.u)(n.aEa)),q.__param(4,(0,p.u)(w.UH))],a);b.ZDa=a;},function(q,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.mJa=void 0;a.prototype.n1a=function(c,k){var g;return null !== (g=this.TJb(c,k)) && void 0 !== g?g:this.WJb(c,k);};a.prototype.TJb=function(c,k){var g,f;g=this;f=k.la;return c.find(function(d){var h;return g.R9(f,null === (h=d.la) || void 0 === h?void 0:h.la);});};a.prototype.WJb=function(c,k){var g,f;g=k.la.xe;f=k.la.P[g];return c.find(function(d){var h;d=null === (h=d.la) || void 0 === h?void 0:h.la;d=(h=null === d || void 0 === d?void 0:d.xe) && (null === d || void 0 === d?void 0:d.P[h]) || void 0;return g === h && f.M === (null === d || void 0 === d?void 0:d.M) && f.ya === (null === d || void 0 === d?void 0:d.ya);});};a.prototype.R9=function(c,k){var g;g=this;return c === k?!0:"object" !== typeof c || "object" !== typeof k?c === k:Object.keys(c).length === Object.keys(k).length && Object.keys(c).every(function(f){return g.R9(c[f],k[f]);});};b.mJa=a;},function(q,b,a){var k,g,f,d,h,m;function c(l,n,p){var r;r=this;this.Jg=n;n=p();this.hh=new m({log:l.Bb("CacheManager"),La:{getTime:function(){return r.Jg.ec().ia(d.sa);}},Promise:Promise,Zf:!1,mAb:n.q_b,lAb:n.o_b,fJb:n.Ebb,eJb:n.p_b});}Object.defineProperty(b,"__esModule",{value:!0});b.hFa=void 0;q=a(2);k=a(0);g=a(20);f=a(7);d=a(6);h=a(12);m=a(1364);c=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(f.Ib)),q.__param(1,(0,k.u)(g.Jd)),q.__param(2,(0,k.u)(h.jd))],c);b.hFa=c;},function(q,b,a){var d;function c(){return Object.create(null);}function k(h){this.log=h.log;this.La=h.La;this.eG=c();this.Promise=h.Promise;this.qB=h.qB;this.DCa=h.DCa;this.Zf=h.Zf || !1;this.Gy=c();this.LE=c();this.nJ=c();this.kwb(h);h.fs && (this.fs=h.fs);}function g(h){return "undefined" !== typeof h;}function f(h){var n;for(var m=0,l=arguments.length;m < l;){n=arguments[m++];if(g(n))return n;}}a(1365);d=a(1366);k.prototype.kwb=function(h){this.Gy.manifest=f(h.fJb,d.Gy.pa);this.Gy.ldl=f(h.eJb,d.Gy.t_);this.Gy.metadata=f(h.fgc,d.Gy.Oc);this.LE.manifest=f(h.mAb,d.LE.pa);this.LE.ldl=f(h.lAb,d.LE.t_);this.LE.metadata=f(h.kfc,d.LE.Oc);this.nJ.manifest=f(h.ifc,d.nJ.pa);this.nJ.ldl=f(h.hfc,d.nJ.t_);this.nJ.metadata=f(h.jfc,d.nJ.Oc);};k.prototype.JZ=function(h,m){this.Rv("undefined" !== typeof h);this.Rv("undefined" !== typeof m);return ! !this.BSa(h,m,void 0).value;};k.prototype.BSa=function(h,m,l){var n,p;n={value:null,reason:"",log:""};p=this.eG[m];if("undefined" === typeof p)return (n.log="cache miss: no data exists for field:" + m,n.reason="unavailable",n);"undefined" === typeof p[h]?(n.log="cache miss: no data exists for movieId:" + h,n.reason="unavailable"):(l=p[h][l?l:"DEFAULTCAPS"]) && l.value?this.Kba(m,l.creationTime)?(n.log="cache miss: " + m + " data expired for movieId:" + h,n.reason="expired"):(n.log=this.Promise && l.value instanceof this.Promise?"cache hit: " + m + " request in flight for movieId:" + h:"cache hit: " + m + " available for movieId:" + h,n.value=l.value):(n.log="cache miss: " + m + " data not available for movieId:" + h,n.reason="unavailable");return n;};k.prototype.getData=function(h,m,l){this.Rv("undefined" !== typeof h);this.Rv("undefined" !== typeof m);h=this.BSa(h,m,l);this.log.trace(h.log);return h.value?this.Promise?h.value instanceof this.Promise?h.value:Promise.resolve(h.value):this.DCa?JSON.parse(this.DCa(h.value,"gzip",!1)):h.value:this.Promise?Promise.reject(h.reason):h.reason;};k.prototype.setData=function(h,m,l,n,p){var r,t,w;this.Rv("undefined" !== typeof h);this.Rv("undefined" !== typeof m);r=this.eG;t=p?p:"DEFAULTCAPS";r[m] || (r[m]=c(),Object.defineProperty(r[m],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(r[m],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));l=this.qB?this.qB(JSON.stringify(l),"gzip",!0):l;r=r[m];this.Mtb(h,m,t,r);w=this;n={creationTime:this.La.getTime(),value:l,size:0,type:m,Cqa:n,dJb:setTimeout(function(){w.clearData(h,m,t,!1,"expired");},this.Gy[m] + 1)};r[h]=r[h] || c();r[h][t]=r[h][t] || c();r[h][t]=n;r.size+=0;r.numEntries++;this.fs && this.fs.emit("addedCacheItem",n);return n;};k.prototype.Mtb=function(h,m,l,n){var p,r,t,w,v,u,x,y,z;p=this;r=n.numEntries;t=this.LE[m];w=n[h] && n[h][l];if(w && w.value)(v=h,u="promise_or_expired");else if(r >= t){y=Number.POSITIVE_INFINITY;Object.keys(n).every(function(A){var B;B=n[A] && n[A][l];B && B.value && p.Kba(m,B.creationTime) && (z=A);B && B.value && B.creationTime < y && (y=B.creationTime,x=A);return !0;});v=z || x;u="cache_full";}this.Zf && this.log.debug("makespace ",{maxCount:t,currentCount:n.numEntries,field:m,movieId:h,movieToBeRemoved:v});v && (p.clearData(v,m,l,void 0,u),this.log.debug("removed from cache: ",v,m));};k.prototype.tpa=function(h,m){var l,n;l=this;l.Rv("undefined" !== typeof h);n=h + "";m.forEach(function(p){var r;r=l.eG[p];r && Object.keys(r).forEach(function(t){t != n && l.clearData(t,p,void 0,void 0,"clear_all");});});};k.prototype.clearData=function(h,m,l,n,p){var r;this.Rv("undefined" !== typeof h);this.Rv("undefined" !== typeof m);r=this.eG[m];m=r?r[h]:void 0;l=l?l:"DEFAULTCAPS";if(m && m[l]){r.size-=m[l].size;r.numEntries--;if(r=m && m[l])(clearTimeout(r.dJb),m[l]=void 0,!n && r.Cqa && r.Cqa());this.fs && (h={creationTime:r.creationTime,destroyFn:r.Cqa,size:r.size,type:r.type,value:r.value,reason:p,movieId:h},this.fs.emit("deletedCacheItem",h));}};k.prototype.flush=function(h){var m;this.Rv("undefined" !== typeof h);m=this.eG;m[h]=c();m[h].numEntries=0;m[h].size=0;};k.prototype.TXa=function(){var h,m;this.Rv(!1);h=this;m=this.eG;m[void 0] instanceof Object && Object.keys(m[void 0]).forEach(function(l){var n;n=m[void 0][l].DEFAULTCAPS;h.La.getTime() - n.creationTime > h.Gy[void 0] && this.clearData(l,void 0,"DEFAULTCAPS",void 0,"clean_up");});};k.prototype.Kba=function(h,m){return this.La.getTime() - m > this.Gy[h];};k.prototype.getStats=function(h,m,l){var n,p,r,t,w;n={};p=this;r=p.eG;t=g(h) && g(m);w=l || "DEFAULTCAPS";Object.keys(r).forEach(function(v){var u,x;u=Object.keys(r[v]);x=r[v];u.forEach(function(y){!(y=x && x[y] && x[y][w]) || !g(y.value) || y.value instanceof this.Promise || (n[v]=(n[v] | 0) + 1,p.Kba(y.type,y.creationTime) && (n[v + "_expired"]=(n[v + "_expired"] | 0) + 1),t && y.creationTime >= h && y.creationTime < m && (n[v + "_delta"]=(n[v + "_delta"] | 0) + 1));});});return n;};k.prototype.getState=function(h){var m,l,n,p;m=[];l=this;n=l.eG;p=h || "DEFAULTCAPS";Object.keys(n).forEach(function(r){var t,w;t=Object.keys(n[r]);w=n[r];t.forEach(function(v){var u,x;u=w && w[v] && w[v][p];if(u && g(u.value)){x=l.Kba(u.type,u.creationTime)?"expired":u.value instanceof this.Promise?"loading":"cached";m.push({movieId:v,state:x,type:r,size:u.size});}});});return m;};k.prototype.Rv=function(h){if(!h && (this.log.error("Debug Assert Failed",void 0),this.Zf))throw Error("Debug Assert Failed ");};q.exports=k;},function(q){function b(a){var c;c=[];return (function f(g){if(g && "object" === typeof g){if(-1 !== c.indexOf(g))return !0;c.push(g);for(var d in g){if(g.hasOwnProperty(d) && f(g[d]))return !0;}}return !1;})(a);}q.exports=function(a,c){var g;if(c && b(a))return -1;c=[];a=[a];for(var k=0;a.length;){g=a.pop();if("boolean" === typeof g)k+=4;else if("string" === typeof g)k+=2 * g.length;else if("number" === typeof g)k+=8;else if("object" === typeof g && -1 === c.indexOf(g)){c.push(g);for(var f in g){a.push(g[f]);}}}return k;};},function(q){q.exports={Gy:{pa:12E5,t_:9E5,Oc:12E5},LE:{pa:10,t_:10,Oc:10},nJ:{pa:10240,t_:10240,Oc:10240}};},function(q,b,a){var c,k,g,f,d,h,m,l,n;Object.defineProperty(b,"__esModule",{value:!0});b.Ra=void 0;q=a(0);c=a(211);k=a(1368);g=a(583);f=a(1369);d=a(584);h=a(1370);m=a(1371);l=a(585);n=a(1372);b.Ra=new q.Nd(function(p){p(c.Tha).to(k.yGa).ha();p(g.aLa).to(f.$Ka).ha();p(d.cMa).to(h.bMa).ha();p(d.kLa).to(m.jLa).ha();p(l.iLa).to(n.hLa).ha();});},function(q,b,a){var k,g,f,d;function c(h){function m(l,n){this.K=l;this.sn=n;this.H$=!1;this.emit=d.prototype.emit;this.addListener=d.prototype.addListener;this.on=d.prototype.on;this.once=d.prototype.once;this.removeListener=d.prototype.removeListener;this.removeAllListeners=d.prototype.removeAllListeners;this.listeners=d.prototype.listeners;this.listenerCount=d.prototype.listenerCount;d.call(this);this.ug=h.Bb("DownloadTrack");}m.prototype.$r=function(){!1;this.fW=void 0;this.emit("destroyed");};m.prototype.toString=function(){return "id:" + this.fW + " config: " + JSON.stringify(this.K);};m.prototype.toJSON=function(){return "Download Track id:" + this.fW + " config: " + JSON.stringify(this.K);};m.prototype.AQ=function(){return void 0 === this.fW?!1:!0;};m.prototype.Dea=function(l){this.K.connections !== l.connections && (this.K=l);};m.prototype.Aw=function(){return 1 < this.K.connections?!0:!1;};Ya.Object.defineProperties(m.prototype,{trackId:{configurable:!0,enumerable:!0,get:function(){return this.fW;}},iq:{configurable:!0,enumerable:!0,get:function(){return void 0 === this.fW;}},config:{configurable:!0,enumerable:!0,get:function(){return this.K;}},aea:{configurable:!0,enumerable:!0,get:function(){return this.ug;}},KK:{configurable:!0,enumerable:!0,get:function(){return this.sn.KK;}}});this.AM=Object.assign(m,new f.zGa());}Object.defineProperty(b,"__esModule",{value:!0});b.yGa=void 0;q=a(2);k=a(0);g=a(7);f=a(211);d=a(121).EventEmitter;c=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(g.Ib))],c);b.yGa=c;},function(q,b,a){var k,g,f,d,h,m,l,n,p,r;function c(t,w,v,u,x,y){this.vO=t;this.Bf=v;this.Mb=u;this.Ma=x;this.config=y;this.log=w.Bb("MediaHttp");}Object.defineProperty(b,"__esModule",{value:!0});b.$Ka=void 0;q=a(2);k=a(212);g=a(108);f=a(3);d=a(7);h=a(0);m=a(72);l=a(31);n=a(20);p=a(6);a=a(12);c.prototype.IB=function(){return this.Ma.ec().ia(p.sa);};c.prototype.z$a=function(t,w){t.GWb({mediaRequest:t,timestamp:w});};c.prototype.U$a=function(t){var w;w=t.mediaRequest.sC;w.readyState=k.Mc.kd.tA;t=t.connect?t:{timestamp:this.IB(),connect:!1};t.mediaRequest=w;t.readyState=w.readyState;w.Kxa(t);};c.prototype.D0=function(t){this.z$a(t.mediaRequest.sC,t.timestamp);};c.prototype.E0=function(t){var w,v;w=t.mediaRequest.sC;v=t.bytes;"undefined" === typeof w?!1:(w.readyState === k.Mc.kd.vA && this.U$a(t),this.Mb.Fo(v) && (t.mediaRequest=w,t.timestamp=this.IB(),v > w.bytesReceived && (t.newBytes=v - w.bytesReceived,t.bytesLoaded=v,w.KWb(t))));};c.prototype.Wn=function(t){var w,v,u,x;w=t.mediaRequest;v=t.errorcode;u=t.httpcode;x=k.Mc.L4;if("undefined" === typeof w)!1;else if((w=w.sC,"undefined" === typeof w))!1;else if(w.readyState !== k.Mc.kd.FM)if(v === f.S.AD)(w.readyState=k.Mc.kd.ZS,t.mediaRequest=w,t.readyState=w.readyState,w.CWb(t));else {w.readyState=k.Mc.kd.FM;switch(v){case f.S.XT:u=x.bFa;break;case f.S.wia:u=x.sia;break;case f.S.UT:u=400 < u && 500 > u?x.uia:500 <= u?x.lIa:x.sia;break;case f.S.VT:u=x.tia;break;case f.S.TT:u=x.cFa;break;case f.S.WT:u=x.B5;break;case f.S.KH:u=x.B5;break;case f.S.kIa:u=x.jIa;break;case f.S.gIa:u=x.uia;break;case f.S.dmb:u=x.tia;break;default:u=x.B5;}t.mediaRequest=w;t.readyState=w.readyState;t.errorcode=u;t.nativecode=v;w.Mxa(t);}};c.prototype.Wxa=function(t,w){var v,u;v=w.request.sC;if(v)if(w.fa){if((!1,t.j && v.readyState !== k.Mc.kd.DONE)){switch(v.readyState){case k.Mc.kd.ZS:!1;return;case k.Mc.kd.FM:!1;break;case k.Mc.kd.tA:break;case k.Mc.kd.vA:this.U$a({mediaRequest:w.request});break;default:!1;}v.readyState=k.Mc.kd.DONE;if(!v.Qc){u={mediaRequest:v,readyState:v.readyState,timestamp:this.IB(),cadmiumResponse:w};t.j.rCa+=1;v.xOb();v.TRb() && (t.j.lAa+=1,w.Km.nj=Math.ceil(v.Ura),w.Km.Zq=Math.ceil(v.wJ),w.Km.Is=Math.floor(v.VF));v.x9=u;v.bR(u);}}}else (!1,v.readyState === k.Mc.kd.ZS?!1:(t={mediaRequest:w.request,timestamp:this.IB(),errorcode:w.Ea,httpcode:w.Wl},this.Wn(t)));};c.prototype.download=function(t,w){var v,u;v=this;w=this.Bf.download(t,w);if(t.sC){u=t.sC;-1 < [k.Mc.kd.OPENED,k.Mc.kd.FM].indexOf(u.readyState) && (u.readyState=k.Mc.kd.vA,this.config().axa?w.J3b(function(x){v.D0(x);}):this.z$a(u,this.IB()));}w.t8(function(x){v.Wxa(t,x);});w.P3b(function(x){v.E0(x);});w.A3b(function(x){v.Wn(x);});return w;};r=c;r=q.__decorate([(0,h.X)(),q.__param(0,(0,h.u)(g.hT)),q.__param(1,(0,h.u)(d.Ib)),q.__param(2,(0,h.u)(m.Ix)),q.__param(3,(0,h.u)(l.Wg)),q.__param(4,(0,h.u)(n.Jd)),q.__param(5,(0,h.u)(a.jd))],r);b.$Ka=r;},function(q,b,a){var k,g,f;function c(d,h){this.Bf=h;this.log=d.Bb("OpenConnectSideChannel");}Object.defineProperty(b,"__esModule",{value:!0});b.bMa=void 0;q=a(2);k=a(0);g=a(7);a=a(72);c.prototype.RY=function(d,h,m){d={url:d.url,M2b:m};!1;this.Bf.G4b(d);};c.prototype.bJ=function(d){try{d.wua();}catch(h){this.log.warn("exception aborting request");}};f=c;f=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(g.Ib)),q.__param(1,(0,k.u)(a.Ix))],f);b.bMa=f;},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t;function c(w,v,u,x,y,z){this.Ma=w;this.fw=v;this.config=u;this.Bf=y;this.iVb=z;this.log=x.Bb("MediaRequestDownloader");}Object.defineProperty(b,"__esModule",{value:!0});b.jLa=void 0;q=a(2);k=a(34);g=a(0);f=a(7);d=a(72);h=a(583);m=a(96);l=a(212);n=a(20);p=a(6);r=a(43);a=a(12);c.prototype.RY=function(w,v,u){var y,z,A;function x(){w.removeEventListener(l.Mc.tf.ZH,x);w.AY?w.AY++:w.AY=1;w.AY >= y.config().Dra.length && (w.AY=y.config().Dra.length - 1);setTimeout(function(){y.RY(w,v,u);},y.config().Dra[w.AY]);}y=this;w.fhc=!0;z=0 === v.start && -1 === v.end;z=this.iVb.download({url:w.url,responseType:this.Bf.n6.rEa,withCredentials:!1,cF:w.mediaType === k.$b.kb.mc?"audio":"video",offset:z?void 0:v.start,length:z?void 0:w.rf,track:{type:w.mediaType === k.$b.kb.mc?m.uj.audio:m.uj.video},stream:{Ec:w.Za,bitrate:w.bitrate},Hc:w.Pe,sC:w,ufa:u,Iu:this.fw.Iu,xu:w.xu},function(B){B.fa && w.readyState !== l.Mc.kd.DONE && (w.readyState === l.Mc.kd.ZS?!1:(w.readyState === l.Mc.kd.FM?!1:w.readyState === l.Mc.kd.vA?(w.readyState=l.Mc.kd.tA,w.Kxa({mediaRequest:w,readyState:w.readyState,timestamp:y.IB(),connect:!1})):w.readyState !== l.Mc.kd.vA && w.readyState !== l.Mc.kd.tA && !1,w.readyState=l.Mc.kd.DONE,B={mediaRequest:w,readyState:w.readyState,timestamp:y.IB(),cadmiumResponse:B,response:B.content},w.x9=B,w.bR(B)));});if(w.Qc){A={mediaRequest:w,readyState:w.readyState,timestamp:this.IB(),connect:!1};w.Kxa(A);}w.addEventListener(l.Mc.tf.ZH,x);w.wua=z.abort;};c.prototype.bJ=function(w){try{w.wua();}catch(v){this.log.warn("exception aborting request");}};c.prototype.IB=function(){return this.Ma.ec().ia(p.sa);};t=c;t=q.__decorate([(0,g.X)(),q.__param(0,(0,g.u)(n.Jd)),q.__param(1,(0,g.u)(r.Dp)),q.__param(2,(0,g.u)(a.jd)),q.__param(3,(0,g.u)(f.Ib)),q.__param(4,(0,g.u)(d.Ix)),q.__param(5,(0,g.u)(h.aLa))],t);b.jLa=t;},function(q,b,a){var k,g,f,d,h,m,l,n,p,r;function c(t,w,v,u,x,y){function z(B,D){this.track=B;this.label=D;this.vi=n.Mc.kd.UNSENT;this.bytesReceived=0;this.yL=[];this.requestId=y.uB().toString();this.Mb=v;this.log=w.Bb("MediaRequest");this.config=t;this.dc=new l.El();"notification" === this.label?this.config().BB && (this.KK=u):this.KK=x;!1;}function A(B,D){this.requestId=y.uB().toString();this.Mb=v;this.log=w.Bb("MediaRequest");this.config=t;this.dc=new l.El();this.label=D;"notification" === this.label?this.config().BB && (this.KK=u):this.KK=x;this.ZZ=this.IO=this.KO=void 0;this.track=B;this.JO=this.url=this.responseType=void 0;this.vi=n.Mc.kd.UNSENT;this.nk=this.GP=this.Zh=this.status=void 0;this.iu=this.bytesReceived=0;this.connect=this.Ura=this.wJ=this.VF=this.Nva=this.$f=this.Tra=this.loadTime=this.bO=void 0;this.yL=[];this.iq=!1;!1;}z.prototype.addEventListener=function(B,D,C){this.dc.addListener.call(this,B,D,C);};z.prototype.removeEventListener=function(B,D){this.dc.removeListener.call(this,B,D);};z.prototype.emit=function(B,D,C){this.dc.rd.call(this,B,D,C);};z.prototype.GWb=function(B){this.vi === n.Mc.kd.OPENED && (this.ZZ=!0,this.loadTime=this.$f=B.timestamp,!1,this.vi=n.Mc.kd.vA,this.emit(n.Mc.tf.VLa,B));};z.prototype.Kxa=function(B){var D;if(this.vi < n.Mc.kd.tA){this.yL=[];D=B.timestamp - this.loadTime;!this.Qc && 0 < D && (this.connect=!0,this.yL.push(D));!0 === this.config().jQb?this.Tra=B.timestamp:this.Tra=this.$f=B.timestamp;!1;this.vi=n.Mc.kd.tA;this.emit(n.Mc.tf.ULa,B);}};z.prototype.KWb=function(B){this.vi === n.Mc.kd.tA && (!1,this.Nva=this.$f=B.timestamp,B.newBytes=B.bytesLoaded - this.bytesReceived,this.bytesReceived=B.bytesLoaded,this.Mb.jh(this.Nva) && this.emit(n.Mc.tf.WLa,B));};z.prototype.bR=function(B){var D;if(-1 < [n.Mc.kd.vA,n.Mc.kd.tA].indexOf(this.vi)){this.ZZ=!1;!1;this.$f=B.timestamp;this.vi=n.Mc.kd.DONE;D=this.bytesReceived;this.bytesReceived=B.cadmiumResponse.Km.zX;(0,r.Db)(this.bytesReceived === this.rf,"bytesReceived do not match expected totalBytes.");B.newBytes=this.rf - D;this.Mb.jh(this.wJ) && (this.$f=this.wJ,0 === B.newBytes && (this.Nva=this.wJ));this.Mb.jh(this.VF) && (this.loadTime=this.VF);this.bO=B.response;this.emit(n.Mc.tf.uU,B);this.track.emit("mediaRequestComplete",{type:"mediaRequestComplete",N1b:B});}};z.prototype.CWb=function(B){this.ZZ=!1;!1;this.emit(n.Mc.tf.Uob,B);};z.prototype.Mxa=function(B){this.$f=B.timestamp;this.status=B.httpcode;this.Zh=B.errorcode;this.GP=n.Mc.L4.name[this.Zh];this.nk=B.nativecode;!1;this.emit(n.Mc.tf.ZH,B);this.ZZ=!1;};z.prototype.open=function(B,D,C,F,G,E,I,K){this.Iz=!1;this.JO=D;this.xu=K;this.url=B;this.responseType=C;!1;if(!this.url)return (!1,!1);this.vi=n.Mc.kd.OPENED;this.KK.RY(this,D,I);return !0;};z.prototype.sd=function(){!1;-1 !== [n.Mc.kd.OPENED,n.Mc.kd.vA,n.Mc.kd.tA].indexOf(this.vi) && this.abort();return !0;};z.prototype.NBb=function(){this.bO=void 0;this.x9 && (this.x9.response=void 0,this.x9.cadmiumResponse.content=void 0);this.wua=void 0;};z.prototype.Mfa=function(B){!1;this.url=B;return !0;};z.prototype.abort=function(){this.vi=n.Mc.kd.ZS;this.KK.bJ(this);return !0;};z.prototype.pause=function(){};z.prototype.getResponseHeader=function(){return null;};z.prototype.getAllResponseHeaders=function(){return "";};z.prototype.Hea=function(){};z.prototype.ij=function(){return this.requestId;};z.prototype.toString=function(){var B;B={requestId:this.ij(),segmentId:this.ea,isHeader:this.Qc,ptsStart:this.JC,ptsOffset:this.$w,responseType:this.responseType,duration:this.Ht,readystate:this.vi};this.stream && (B.bitrate=this.stream.bitrate);return JSON.stringify(B);};z.prototype.toJSON=function(){return this.toString();};z.prototype.xOb=function(){var B,D;if(this.config().tib && d.Ox && d.Ox.getEntriesByType && (!this.Mb.jh(this.VF) || !this.Mb.jh(this.wJ) && this.Mb.jh(this.url))){B="" + this.url.split("nflxvideo.net")[0].split("//").pop() + ("*nflxvideo.net/range/" + this.KO + "-" + this.IO + "*");D=new RegExp(B);B=d.Ox.getEntriesByType("resource").filter(function(C){return D.exec(C.name);})[0];this.Mb.jh(B) && (0 < B.startTime && (this.VF=B.startTime,0 < B.requestStart && (this.VF=Math.max(this.VF,B.requestStart))),0 < B.responseStart && (this.Ura=B.responseStart),0 < B.responseEnd && (this.wJ=B.responseEnd));}};z.prototype.TRb=function(){return this.Mb.jh(this.VF) && this.Mb.jh(this.wJ) && this.Mb.jh(this.Ura);};Ya.Object.defineProperties(z.prototype,{rf:{configurable:!0,enumerable:!0,get:function(){return 0 === this.JO.start && -1 === this.JO.end?this.bytesReceived:this.JO.end - this.JO.start + 1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.IO - this.KO + 1;}},M4a:{configurable:!0,enumerable:!0,get:function(){return ! !(this.response && 0 < this.response.byteLength);}},Qc:{configurable:!0,enumerable:!0,get:function(){return !this.NF;}},response:{configurable:!0,enumerable:!0,get:function(){return this.bO;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.vi;},set:function(){}}});Object.getOwnPropertyNames(z.prototype).forEach(function(B){var D;D=Object.getOwnPropertyDescriptor(z.prototype,B);Object.defineProperty(A.prototype,B,D);});this.Zs=Object.assign(A,n.Mc);}Object.defineProperty(b,"__esModule",{value:!0});b.hLa=void 0;q=a(2);k=a(0);g=a(7);f=a(12);d=a(11);h=a(31);m=a(584);l=a(75);n=a(212);p=a(84);r=a(24);c=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(f.jd)),q.__param(1,(0,k.u)(g.Ib)),q.__param(2,(0,k.u)(h.Wg)),q.__param(3,(0,k.u)(m.cMa)),q.__param(4,(0,k.u)(m.kLa)),q.__param(5,(0,k.u)(p.kA))],c);b.hLa=c;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.W9a=void 0;q=a(0);c=a(381);k=a(1374);b.W9a=new q.Nd(function(g){g(c.kja).to(k.zLa).ha();});},function(q,b,a){var k,g,f,d,h;function c(m){return g.Ef.call(this,m,"MseConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.zLa=void 0;q=a(2);k=a(51);g=a(52);f=a(0);d=a(37);h=a(6);na(c,g.Ef);Ya.Object.defineProperties(c.prototype,{M9a:{configurable:!0,enumerable:!0,get:function(){return (0,h.Vc)(5E3);}},iab:{configurable:!0,enumerable:!0,get:function(){return (0,h.Vc)(1E3);}},jab:{configurable:!0,enumerable:!0,get:function(){return (0,h.Vc)(1E3);}},cYb:{configurable:!0,enumerable:!0,get:function(){return (0,h.Vc)(1E3);}}});a=c;q.__decorate([k.config(k.ul,"minDecoderBufferMilliseconds")],a.prototype,"M9a",null);q.__decorate([k.config(k.ul,"optimalDecoderBufferMilliseconds")],a.prototype,"iab",null);q.__decorate([k.config(k.ul,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"jab",null);q.__decorate([k.config(k.ul,"optimalDecoderBufferMillisecondsLive")],a.prototype,"cYb",null);a=q.__decorate([(0,f.X)(),q.__param(0,(0,f.u)(d.qn))],a);b.zLa=a;},function(q,b,a){var c,k,g,f,d,h,m,l,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.Oab=void 0;q=a(0);c=a(586);k=a(1376);g=a(81);f=a(1378);d=a(589);h=a(1379);m=a(542);l=a(1380);n=a(329);p=a(1381);b.Oab=new q.Nd(function(r){r(g.rA).to(f.JMa).ha();r(c.LMa).to(k.KMa).ha();r(m.VMa).to(l.UMa);r(m.TMa).Tf(function(t){return function(){return t.hb.get(m.VMa);};});r(d.qNa).to(h.pNa).ha();r(n.Jja).to(p.mNa).ha();});},function(q,b,a){var f,d,h,m,l,n,p,r,t,w,v,u,x,y,z,A,B;function c(D){this.config=D;this.nB=[];}function k(D,C,F){this.Ma=D;this.FS=C;this.context=F;this.startTime=this.Ma.ec();}function g(D,C,F,G,E,I,K,L,H,P){this.lhb=C;this.json=F;this.Ma=G;this.fw=E;this.xza=I;this.bd=K;this.config=L;this.dc=H;this.receiver=P;this.log=D.Bb("Pbo");L.Ecb && (this.nB=new c(L));this.FS=this.lhb();}Object.defineProperty(b,"__esModule",{value:!0});b.KMa=void 0;q=a(2);f=a(0);d=a(6);h=a(587);m=a(7);l=a(42);n=a(20);p=a(43);r=a(148);t=a(53);w=a(588);v=a(81);u=a(118);x=a(18);y=a(76);z=a(1377);a=a(329);A={"shakti-":"akira"};g.prototype.send=function(D,C){var F;F=new k(this.Ma,this.FS,D);this.nB && this.nB.append(F);return this.MAa(D,C,F);};g.prototype.MAa=function(D,C,F){var G;G=this;return new Promise(function(E,I){G.retry(D,C).then(function(K){var L,H;G.h3b(K);L=ra(G.V8b(K));H=L.next().value;L=L.next().value;H && (G.receiver.uza({command:D.Oo,inputs:C,outputs:H}),G.dCb(F),E(K));L && (G.receiver.uza({command:D.Oo,inputs:C,outputs:L}),G.gYa(F,L),I(L));}).catch(function(K){var L;G.receiver.uza({command:D.Oo,inputs:C,outputs:K});L=G.gYa(F,K);K.ac && (K.ac=[K.ac," ",L].join(""));I(K);});});};g.prototype.h3b=function(D){(D=D.serverTime) && this.dc.rd(x.Dia.feb,(0,d.Vc)(D));};g.prototype.V8b=function(D){var C;!1;C=D.result;if(("deviceCommand" in D)){D=D.deviceCommand;this.log.trace("Received device command '" + D + "'");switch(D){case "reset":C="RESET_DEVICE";break;case "reload":C="RELOAD_DEVICE";break;case "exit":C="EXIT_DEVICE";break;default:(C="FAIL",this.log.error("Unhandled device command '" + D + "'"));}return [,{rG:!0,code:C,detail:{message:"Server sent device action to '" + D + "' device"}}];}if(C)return (!1,[C,void 0]);if(D.code)return (this.log.error("Response did not contain a result or an error but did contain an error code",D),[,{code:D.code,detail:{message:D.message}}]);this.log.error("Response did not contain a result or an error",D);return [,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};g.prototype.Wyb=function(D,C,F){var G;G=this;this.n8b(C,D);this.FS=this.lhb(F);return this.FS.send(C,F).then(function(E){return {retry:!1,result:z.a6.MYb(G.json,E.body)};}).catch(function(E){var I,K;I=z.a6.ZMb(E);K=void 0 !== I?Math.min(I,C.oAa):C.oAa;return G.rfa(C,E,D,K)?(I=G.BAb(E,D,K),G.log.warn("Method failed, retrying",Object.assign({Method:C.Oo,Attempt:D + 1,WaitTime:I,MaxRetries:K},G.sqa(E))),Promise.resolve({retry:!0,delay:I,error:E})):Promise.resolve({retry:!1,error:E});});};g.prototype.bLb=function(D){var C,F;if(!this.kna || this.kna.kYb !== D){C="";F=D;Object.entries(A).find(function(G){var E;E=ra(G);G=E.next().value;E=E.next().value;if(0 === D.indexOf(G))return (C=E,D=D.slice(G.length),!0);});this.kna={bYa:C,Mz:D,kYb:F};}return this.kna;};g.prototype.n8b=function(D,C){var F,G,E,I;I=D.url.searchParams;I.set(y.QD.fqb,(C + 1).toString());I.set(y.QD.gqb,D.Hs);D=this.bLb(null !== (F=this.config.Mz) && void 0 !== F?F:"");D.bYa && (I.set(y.QD.dlb,D.bYa),D.Mz && I.set(y.QD.Sqb,encodeURIComponent(D.Mz)),F=this.fw.we,(null === F || void 0 === F?0:F.name) && I.set(y.QD.zkb,encodeURIComponent(F.name)),(null === F || void 0 === F?0:F.version) && I.set(y.QD.Ekb,encodeURIComponent(F.version)),(null === (G=null === F || void 0 === F?void 0:F.os) || void 0 === G?0:G.name) && I.set(y.QD.Vob,encodeURIComponent(F.os.name)),(null === (E=null === F || void 0 === F?void 0:F.os) || void 0 === E?0:E.version) && I.set(y.QD.Wob,encodeURIComponent(F.os.version)));};g.prototype.retry=function(D,C,F){var G;G=this;F=void 0 === F?0:F;return this.Wyb(F++,D,C).then(function(E){if(E.retry)return G.wait(E.delay).then(function(){return G.retry(D,C,F);});if(E.error)throw E.error;if(void 0 === E.result)throw {pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return E.result;});};g.prototype.rfa=function(D,C,F,G){var E;E=z.a6.URb(C);if(E && F < G)return !0;E?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:D.Oo,Attempt:F + 1,MaxRetries:G},this.sqa(C))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:D.Oo},this.sqa(C)));return !1;};g.prototype.BAb=function(D,C,F){if(D && D.LG && void 0 !== D.LG.retryAfterSeconds)return (0,d.Nh)(D.LG.retryAfterSeconds);D=1E3 * (0 === C?1:C);C=1E3 * Math.pow(2,Math.min(C,F));return (0,d.Vc)(this.xza.gcb(D,C));};g.prototype.wait=function(D){var C;C=this;return new Promise(function(F){C.bd.Al(D || d.ib,F);});};g.prototype.sqa=function(D){return (0,w.B6a)(D)?D:{message:D.message,subCode:D.Sc,extCode:D.fe,mslCode:D.vC,data:D.data};};g.prototype.dCb=function(D){D.qS();};g.prototype.gYa=function(D,C){var F;D.Zv(C);if(this.nB)try{F=this.json.stringify(this.nB);this.log.error("PBO command history",F);return F;}catch(G){}return "";};B=g;B=q.__decorate([(0,f.X)(),q.__param(0,(0,f.u)(m.Ib)),q.__param(1,(0,f.u)(h.UQa)),q.__param(2,(0,f.u)(l.OH)),q.__param(3,(0,f.u)(n.Jd)),q.__param(4,(0,f.u)(p.Dp)),q.__param(5,(0,f.u)(r.o6)),q.__param(6,(0,f.u)(t.Rk)),q.__param(7,(0,f.u)(v.rA)),q.__param(8,(0,f.u)(u.gia)),q.__param(9,(0,f.u)(a.Jja))],B);b.KMa=B;k.prototype.qS=function(){this.fa=!0;this.elapsedTime=this.Ma.ec().Ia(this.startTime);};k.prototype.Zv=function(D){this.fa=!1;this.elapsedTime=this.Ma.ec().Ia(this.startTime);this.I5b=D.Sc || D.subCode;this.jJb=D.fe || D.extCode;};k.prototype.toString=function(){return JSON.stringify(this);};k.prototype.toJSON=function(){var D;D=Object.assign({success:this.fa,method:this.context.Oo,startTime:this.startTime.ia(d.sa),elapsedTime:this.elapsedTime?this.elapsedTime.ia(d.sa):"in progress"},this.FS.Tpa());return this.fa?D:Object.assign(Object.assign(Object.assign({},D),this.FS.Tpa()),{subcode:this.I5b,extcode:this.jJb});};c.prototype.append=function(D){this.nB.push(D);0 < this.config.qua && this.nB.length > this.config.qua && this.nB.shift();};c.prototype.toJSON=function(){return this.nB;};},function(q,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.a6=void 0;k=a(3);c.URb=function(g){var f,d;f=g && g.code;d=g && (g.Ea || g.Sc);g=g.fe !== k.D5.zMa;d=! !d && d >= k.S.XT && d <= k.S.VT && g;return !("RETRY" !== f && "FAIL" !== f) || d;};c.ZMb=function(g){var f,d;d=null === (f=null === g || void 0 === g?void 0:g.LG) || void 0 === f?void 0:f.maxRetries;return "number" === typeof d?d:"FAIL" === (null === g || void 0 === g?void 0:g.code)?1:void 0;};c.MYb=function(g,f){var d;if(f){try{d=g.parse(f);}catch(h){throw {rG:!0,code:"FAIL",message:"Unable to parse the response body",data:f};}if(d.error)throw d.error;if(d.result){if(Array.isArray(d.result) && (g=d.result.find(function(h){return h.error;})))throw g.error;return d;}throw {rG:!0,code:"FAIL",message:"There is no result property on the response"};}throw {rG:!0,code:"FAIL",message:"There is no body property on the response"};};b.a6=c;},function(q,b,a){var k,g,f,d,h,m,l;function c(n,p,r,t){n=g.Ef.call(this,n,"PboConfigImpl") || this;n.config=p;n.oyb=r;n.Gh=t;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.JMa=void 0;q=a(2);k=a(0);g=a(52);f=a(37);d=a(51);h=a(12);m=a(182);a=a(116);na(c,g.Ef);Ya.Object.defineProperties(c.prototype,{Mz:{configurable:!0,enumerable:!0,get:function(){return this.config().cs.Mz || "";}},gga:{configurable:!0,enumerable:!0,get:function(){return this.config().cs.gga || "";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},organization:{configurable:!0,enumerable:!0,get:function(){return "cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().cs.aza;}},z6a:{configurable:!0,enumerable:!0,get:function(){return !1;}},geb:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isPlayApiDirect:!0,version:"1"},manifest:{service:"manifest",isPlayApiDirect:!0,version:"1"},licensedmanifest:{service:"licensedmanifest",isPlayApiDirect:!0,version:"1"},license:{service:"pbo_licenses",version:"^1.0.0"},events:{service:"event",isPlayApiDirect:!0,version:"1"},bind:{service:this.oyb.GWa,version:"^1.0.0"},ping:{service:"pbo_events",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.heb);}},heb:{configurable:!0,enumerable:!0,get:function(){return {};}},Ecb:{configurable:!0,enumerable:!0,get:function(){return !1;}},qua:{configurable:!0,enumerable:!0,get:function(){return 10;}},uVa:{configurable:!0,enumerable:!0,get:function(){return !1;}},By:{configurable:!0,enumerable:!0,get:function(){return this.Gh.By;}},lF:{configurable:!0,enumerable:!0,get:function(){return this.Gh.lF;}},oM:{configurable:!0,enumerable:!0,get:function(){return this.Gh.oM;}},vib:{configurable:!0,enumerable:!0,get:function(){return !1;}},p0a:{configurable:!0,enumerable:!0,get:function(){return !0;}},w0a:{configurable:!0,enumerable:!0,get:function(){return !0;}},uP:{configurable:!0,enumerable:!0,get:function(){return this.Gh.uP;}},zJ:{configurable:!0,enumerable:!0,get:function(){return this.Gh.zJ;}}});l=c;q.__decorate([d.config(d.string,"uiVersion")],l.prototype,"Mz",null);q.__decorate([d.config(d.string,"uiPlatform")],l.prototype,"gga",null);q.__decorate([d.config(d.fD,"pboVersion")],l.prototype,"version",null);q.__decorate([d.config(d.string,"pboOrganization")],l.prototype,"organization",null);q.__decorate([d.config(d.TL,"pboLanguages")],l.prototype,"languages",null);q.__decorate([d.config(d.Td,"hasLimitedPlaybackFunctionality")],l.prototype,"z6a",null);q.__decorate([d.config(d.object(),"pboCommands")],l.prototype,"geb",null);q.__decorate([d.config(d.object(),"pboCommandsOverride")],l.prototype,"heb",null);q.__decorate([d.config(d.Td,"pboRecordHistory")],l.prototype,"Ecb",null);q.__decorate([d.config(d.fD,"pboHistorySize")],l.prototype,"qua",null);q.__decorate([d.config(d.Td,"pboAddXEsnHeader")],l.prototype,"uVa",null);q.__decorate([d.config(d.Td,"combineManifestAndLicense")],l.prototype,"By",null);q.__decorate([d.config(d.Td,"enableLicensedManifestForPrefetch")],l.prototype,"lF",null);q.__decorate([d.config(d.Td,"useLdlForPrefetchLicensedManifest")],l.prototype,"oM",null);q.__decorate([d.config(d.Td,"pboUseStudioManifest")],l.prototype,"vib",null);q.__decorate([d.config(d.Td,"pboEnableLeanManifest")],l.prototype,"p0a",null);q.__decorate([d.config(d.Td,"pboEnableV2OptimizedManifest")],l.prototype,"w0a",null);q.__decorate([d.config(d.Td,"pboEnableManifestPartialHydrationSupport")],l.prototype,"uP",null);q.__decorate([d.config(d.TL,"pboContentPlaygraphTypes")],l.prototype,"zJ",null);l=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(f.qn)),q.__param(1,(0,k.u)(h.jd)),q.__param(2,(0,k.u)(m.c4)),q.__param(3,(0,k.u)(a.bI))],l);b.JMa=l;},function(q,b,a){var g,f;function c(d,h,m,l,n,p,r){this.version=d;this.url=h;this.id=m;this.languages=l;this.Nb=n;this.MHb=p;this.hWb=r;}function k(d){this.Ni=d;}Object.defineProperty(b,"__esModule",{value:!0});b.pNa=void 0;q=a(2);g=a(0);a=a(81);k.prototype.create=function(d,h,m,l,n){return new c(this.Ni.version,h,d,this.Ni.languages,m,l,n);};f=k;f=q.__decorate([(0,g.X)(),q.__param(0,(0,g.u)(a.rA))],f);b.pNa=f;c.prototype.toJSON=function(){return {version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.Nb,echo:this.MHb};};},function(q,b,a){var k,g,f;function c(d,h){this.GJ=h;this.log=d.Bb("Pbo");this.links={};}Object.defineProperty(b,"__esModule",{value:!0});b.UMa=void 0;q=a(2);k=a(0);g=a(7);a=a(97);c.prototype.iVa=function(d){d && (!1,this.links=Object.assign(Object.assign({},this.links),d));};c.prototype.kZ=function(d){!1;return this.links[d];};f=c;f=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(g.Ib)),q.__param(1,(0,k.u)(a.dA))],f);b.UMa=f;},function(q,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.mNa=void 0;q=a(2);a=a(0);c.prototype.I3b=function(g){this.listener=g;};c.prototype.uza=function(g){var f;null === (f=this.listener) || void 0 === f?void 0:f.call(this,g);};k=c;k=q.__decorate([(0,a.X)()],k);b.mNa=k;},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r,t,w,v,u,x,y,z,A,B,D,C,F,G,E,I,K,L,H,P,N,J,M,O,Q,T,V,da,pa,xa;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;q=a(0);c=a(540);k=a(590);g=a(1383);f=a(592);d=a(1384);h=a(489);m=a(392);l=a(1385);n=a(1395);p=a(12);r=a(20);t=a(117);w=a(31);v=a(7);u=a(1396);x=a(294);y=a(1397);z=a(6);A=a(1398);B=a(1399);D=a(612);C=a(1400);F=a(118);G=a(593);E=a(1401);I=a(119);K=a(35);L=a(171);H=a(97);P=a(321);N=a(617);J=a(1402);M=a(83);O=a(43);Q=a(594);T=a(1403);V=a(330);da=a(30);pa=a(615);xa=a(1404);b.j=new q.Nd(function(ya){ya(N.Wja).to(J.SNa).ha();ya(V.bha).Tf(function(sa){var X;X=sa.hb;return function(S,R){return new (a(1405).UDa)(S,R,X.get(t.bA),X.get(F.E4));};});ya(c.VQa).Tf(function(sa){var X;X=sa.hb;return function(S,R,W,ia,za,Ra,Fa,$a,Ta){return new (a(1408).WQa)(X.get(A.aRa),S,R,W,ia,za,Ra,Fa,$a,Ta);};});ya(A.aRa).to(B.$Qa).ha();ya(k.ZQa).to(g.YQa).ha();ya(m.NNa).to(l.MNa).ha();ya(Q.iPa).to(T.hPa);ya(Q.gPa).Sgb(Q.iPa);ya(h.rGa).Tf(function(sa){var X;X=sa.hb;return function(S){return new (a(1409).sGa)(X.get(F.qGa),X.get(t.bA),X.get(r.Jd),S);};});ya(f.wEa).Tf(function(){return function(sa){return new d.xEa(sa);};});ya(pa.Zja).Tf(function(sa){var X;X=sa.hb;return function(S){return new xa.YNa(S,X.get(v.Ib),X.get(w.Wg));};});ya(u.ENa).Tf(function(sa){var X;X=sa.hb;return function(S){return new n.FNa(S,X.get(v.Ib),X.get(p.jd),X.get(w.Wg),X.get(t.bA),X.get(pa.Zja));};});ya(x.Yja).Tf(function(sa){var X;X=sa.hb;return function(S,R,W,ia,za,Ra,Fa,$a,Ta,Xa,eb){Xa=void 0 === Xa?function(){return !1;}:Xa;return new y.UNa(S,R,W,ia,za,Ra,Fa,$a,Ta,X.get(u.ENa),X.get(N.Wja),Xa,eb);};});ya(D.CPa).Tf(function(sa){return function(X){var S,R;S=sa.hb.get(p.jd);R=sa.hb.get(v.Ib);return new C.DPa(S,X,R);};});ya(G.PNa).Tf(function(sa){return function(X){var S,R,W,ia,za;S=sa.hb.get(H.dA);R=sa.hb.get(I.gN);W=sa.hb.get(K.si);ia=sa.hb.get(L.JU);za=sa.hb.get(da.cA);return new E.QNa(X,S,R((0,z.Nh)(1)),W,ia,za);};});ya(P.ija).fH(function(sa){return new (a(1410).vLa)(sa.hb.get(M.pU),sa.hb.get(O.Dp));}).ha();});},function(q,b,a){var k,g,f,d,h,m;function c(l,n){this.Jg=l;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.YQa=void 0;q=a(2);k=a(18);g=a(591);f=a(20);d=a(0);h=a(6);a=a(12);c.prototype.wP=function(l){var n;l.k3={};if(!l.zQ() && l.eD && 0 < l.eD.length && (l.dD=this.$2a(l),l.dD)){n=this.h4b(l);n() || (l.Ob.addListener(n),l.Df.addListener(n));}};c.prototype.h4b=function(l){var p;function n(){var r,t;if(!l.Df.value || l.Ob.value === k.zb.tg)return !1;r=l.dD;t=r.getState();return t === g.Cr.LOADING?!1:t !== g.Cr.PH && r.retry?(r=p.AOb(l))?(l.k3.offset=p.Jg.ec().ia(h.sa),l.dD=r,r.download(),!0):!1:(l.Ob.removeListener(n),l.Df.removeListener(n),!1);}p=this;return n;};c.prototype.AOb=function(l){var n,p;n=this.config();p=l.Om.Ry() < n.m7b;n=(l.Df.value?l.Df.value.bitrate:0) > n.l7b;return this.VNb(l,p && n);};c.prototype.VNb=function(l,n){if(n && (n=this.$2a(l),this.b4a(l,n.size)))return (l.k3.kdb="h",n);n=this.WMb(l);if(this.b4a(l,n.size))return (l.k3.kdb="l",n);};c.prototype.b4a=function(l,n){var p,r;p=this.config();r=Math.min(l.HW(),l.B3());return l.wzb.rAb(n) * (1 + .01 * p.Wxb[2]) < r * p.p7b;};c.prototype.$2a=function(l){return l.eD[l.eD.length - 1];};c.prototype.WMb=function(l){return l.eD[0];};m=c;m=q.__decorate([(0,d.X)(),q.__param(0,(0,d.u)(f.Jd)),q.__param(1,(0,d.u)(a.jd))],m);b.YQa=m;},function(q,b){function a(c){this.j=c;}Object.defineProperty(b,"__esModule",{value:!0});b.xEa=void 0;a.prototype.Yhb=function(){var c;c=this.j.Ra;if(null !== c && void 0 !== c && c.bE){c=c.jc.get();if(null === c || void 0 === c?0:c.yl)this.j.yl=c.yl.Ca;if(null === c || void 0 === c?0:c.fb)this.j.fb=c.fb.Ca;}};a.prototype.Yo=function(){-1 === this.j.fb && this.Yhb();return this.j.fb;};a.prototype.rAb=function(c){-1 !== this.j.yl && -1 !== this.j.fb || this.Yhb();return -1 === this.j.yl || -1 === this.j.fb?Number.MAX_VALUE:this.j.yl + 8 * c / this.j.fb;};b.xEa=a;},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t,w,v,u,x,y,z,A,B,D,C,F,G,E,I,K,L;function c(H,P,N,J,M,O,Q,T,V,da,pa,xa,ya,sa,X,S,R,W,ia,za,Ra,Fa,$a,Ta,Xa){this.VB=H;this.BE=P;this.Ma=N;this.La=J;this.xzb=M;this.iCa=O;this.J_=Q;this.Hwa=T;this.HQ=V;this.Zd=da;this.Oi=pa;this.Jj=xa;this.DO=ya;this.a1=sa;this.kk=X;this.wCa=S;this.Cg=R;this.Xn=W;this.Qe=ia;this.Kya=za;this.K1b=Ra;this.Zna=Fa;this.OK=$a;this.vya=Ta;this.vO=Xa;}Object.defineProperty(b,"__esModule",{value:!0});b.MNa=void 0;q=a(2);k=a(84);g=a(0);f=a(119);d=a(40);h=a(20);m=a(38);l=a(592);n=a(295);p=a(541);r=a(558);t=a(125);w=a(149);v=a(174);u=a(108);x=a(531);y=a(294);z=a(590);A=a(54);B=a(35);D=a(593);C=a(83);F=a(594);G=a(330);E=a(321);I=a(124);K=a(574);c.prototype.create=function(H,P,N,J,M,O,Q,T){return new (a(595).ONa)(H,P,O,Q,J,M,this.VB,N,this.Ma,this.BE,this.La,this.J_,this.xzb,this.iCa,this.Hwa,this.HQ,this.Zd,this.Oi,this.Jj,this.DO,this.a1,this.kk,this.wCa,this.Cg,this.Qe,this.Kya,this.Xn,this.K1b(),this.Zna,this.OK,this.vya,void 0,T);};L=c;L=q.__decorate([(0,g.X)(),q.__param(0,(0,g.u)(k.kA)),q.__param(1,(0,g.u)(d.sj)),q.__param(2,(0,g.u)(h.Jd)),q.__param(3,(0,g.u)(m.Wi)),q.__param(4,(0,g.u)(l.wEa)),q.__param(5,(0,g.u)(f.gN)),q.__param(6,(0,g.u)(n.dja)),q.__param(7,(0,g.u)(p.KKa)),q.__param(8,(0,g.u)(r.iU)),q.__param(9,(0,g.u)(t.pI)),q.__param(10,(0,g.u)(w.AU)),q.__param(11,(0,g.u)(v.dI)),q.__param(12,(0,g.u)(x.EEa)),q.__param(13,(0,g.u)(y.Yja)),q.__param(14,(0,g.u)(I.UH)),q.__param(15,(0,g.u)(z.ZQa)),q.__param(16,(0,g.u)(A.ro)),q.__param(17,(0,g.u)(C.pU)),q.__param(18,(0,g.u)(B.si)),q.__param(19,(0,g.u)(D.PNa)),q.__param(20,(0,g.u)(F.gPa)),q.__param(21,(0,g.u)(G.bha)),q.__param(22,(0,g.u)(E.ija)),q.__param(23,(0,g.u)(K.hNa)),q.__param(24,(0,g.u)(u.hT)),q.__param(24,(0,g.optional)())],L);b.MNa=L;},function(q,b,a){var d,h,m,l,n,p,r,t,w,v,u,x,y,z,A,B,D,C,F,G,E,I,K,L;function c(){this.Xfa=[];this.$6b=50;}function k(H){var P;P=this;this.j=H;this.Wib=Promise.resolve();this.cHa=pb.WebKitMediaKeys?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.VI=[];this.Kl=new n.El();this.kSa=0;this.Z6=[];this.ug=(0,t.hj)(this.j,"MediaElementASE");this.nUa=m.Qx;this.wla=!1;this.Hb=new c();this.$p={};this.QSa={};this.paa=this.b7(function(){var N;if(P.ca)return null !== (N=P.ca.webkitDecodedFrameCount) && void 0 !== N?N:0;});this.JB=this.b7(function(){var N;if(P.ca){N=P.Sla();return N?N.totalVideoFrames:P.ca.webkitDecodedFrameCount;}});this.YJ=this.b7(function(){var N;if(P.ca){N=P.Sla();return N?N.droppedVideoFrames:P.ca.webkitDroppedFrameCount;}});this.ZY=this.b7(function(){var N;if(P.ca){N=P.Sla();return N && N.corruptedVideoFrames;}});this.nTa=function(N){!1;P.Kl.rd(C.Qk.I7a,{M:N});};this.Jm=t.Ga.get(D.NJa).create(l.config.Ju,this,this.j);l.config.UF && (this.Wib=new Promise(function(N){P.nUa=N;P.j.addEventListener(E.ka.Fh,N);}));this.ug.trace("Created Media Element");this.addEventListener=this.Kl.addListener;this.removeEventListener=this.Kl.removeListener;}function g(H){var P,N;P=t.Ga.get(F.FRa).QNb();H=H.width / H.height * P.height;N=(P.width - H) / 2;return l.config.c4b?(0,r.createElement)("VIDEO","position:absolute;width:" + H + "px;height:" + P.height + "px;left:" + N + "px;top:0px"):(0,r.createElement)("VIDEO","position:absolute;width:100%;height:100%");}function f(H){H.preventDefault();return !1;}Object.defineProperty(b,"__esModule",{value:!0});b.YKa=void 0;d=a(34);h=a(335);m=a(16);l=a(19);n=a(75);p=a(66);r=a(46);t=a(9);w=a(3);v=a(24);u=a(98);x=a(375);y=a(26);z=a(336);A=a(11);B=a(14);D=a(601);C=a(337);F=a(578);G=a(6);E=a(18);I=a(64);K=a(50);L=! !(A.HD && HTMLVideoElement && URL && HTMLVideoElement.prototype.play);k.prototype.aZ=function(H){try{this.ca && (this.kSa=this.ca.currentTime);}catch(P){this.ug.error("Exception while getting VIDEO.currentTime",P);H && this.fV(w.W.Gpb,P);}return (0,A.Fp)(this.kSa * m.Xu);};k.prototype.seek=function(H){var P;(0,v.Db)(!this.Mr);this.gUa();P=this.aZ(!0);if(!l.config.jyb && (0,A.M5)(P - H) <= this.CAa)(this.ug.trace("Seek delta too small",{currentTime:P,seekTime:H,min:this.CAa}),this.Hb.trace("smallseek",H));else {this.Hb.trace("seek",H);try{this.ug.trace("Setting video elements currentTime",{From:(0,u.Sj)(P),To:(0,u.Sj)(H)});this.Mr={};this.ca.currentTime=H / m.Xu;this.Kl.rd(C.Qk.Zr);}catch(N){this.ug.error("Exception while setting VIDEO.currentTime",N);this.fV(w.W.Hpb,N);}}};k.prototype.c4a=function(){return ! !this.Mr;};k.prototype.addSourceBuffer=function(H){var P;try{P=new h.fja(this.j,H,this.Hg,this.ug);this.VI.push(P);H == m.kU && P.Vra && P.Vra.addListener(this.nUa);return P;}catch(N){P=(0,y.hf)(N);this.ug.error("Unable to add source buffer.",{error:P});this.j.de(w.W.yja,{Ea:H === d.$b.Fl.mc?w.S.aja:w.S.bja,ac:P});}};k.prototype.w8=function(H){var P;P=this;H.forEach(function(N){return P.addSourceBuffer(N);});this.Kl.rd(C.Qk.nfb);return !0;};k.prototype.removeSourceBuffer=function(H){this.VI=this.VI.filter(function(P){return !(0,r.qYa)(H,P);});this.Hg.removeSourceBuffer(H);};k.prototype.endOfStream=function(){this.Hb.trace("endofstream");!1;l.config.Xoa && this.Hg.endOfStream();};k.prototype.$r=function(H){!1;this.VI=[];H && H.mic();return !0;};k.prototype.x3a=function(){if(this.Hg)return (0,G.Abb)(this.Hg.duration);};k.prototype.RGb=function(){var H;if(!this.wla && this.ca && this.ca.readyState >= I.Cp.A5.HAVE_CURRENT_DATA){H=this.ca.webkitDecodedFrameCount;if(void 0 === H || 0 < H || l.config.z9b)this.wla=!0;}return this.wla;};k.prototype.open=function(){var H,P,N;H=this;this.ca=g(this.j.qH.value);this.sourceBuffers=this.VI;this.j.addEventListener(E.ka.Zeb,function(J){return H.Xub(J);});if(L){this.j.xK && !l.config.kib && this.Jm.Ida();try{this.Hg=new A.HD();}catch(J){this.fV(w.W.xpb,J);return;}try{this.wm=URL.createObjectURL(this.Hg);}catch(J){this.fV(w.W.ypb,J);return;}try{this.Jm.yxb(this.nTa);this.Hg.addEventListener("sourceopen",function(J){return H.NTa(J);});this.Hg.addEventListener(this.cHa + "sourceopen",function(J){return H.NTa(J);});this.ca.addEventListener("error",this.$p.error=function(J){return H.JV(J);});this.ca.addEventListener("seeking",this.$p.seeking=function(){return H.Wub();});this.ca.addEventListener("seeked",this.$p.seeked=function(){return H.Vub();});this.ca.addEventListener("timeupdate",this.$p.timeupdate=function(){return H.Yub();});this.ca.addEventListener("loadstart",this.$p.loadstart=function(){return H.zma();});this.ca.addEventListener("volumechange",this.$p.volumechange=function(J){return H.Zub(J);});this.ca.addEventListener(this.Jm.hG,this.$p[this.Jm.hG]=function(){H.ug.trace(H.Jm.hG);H.Tub();});P=this.j.qp;N=P.lastChild;N?P.insertBefore(this.ca,N):P.appendChild(this.ca);l.config.y_a && this.ca.addEventListener("contextmenu",f);this.ca.src=this.wm;p.zf.addListener(p.Pt,this.QSa[p.Pt]=function(){return H.MTa();});this.MTa();}catch(J){this.fV(w.W.zpb,J);}}else this.V6(w.W.qMa);};k.prototype.close=function(){var P;function H(){P.wm && (P.gUa(),p.zf.removeListener(p.Pt,P.QSa[p.Pt]),P.$rb());}P=this;this.Hb.trace("close");this.ca.removeEventListener(this.Jm.hG,this.$p[this.Jm.hG]);this.ca.removeEventListener("error",this.$p.error);this.ca.removeEventListener("seeking",this.$p.seeking);this.ca.removeEventListener("seeked",this.$p.seeked);this.ca.removeEventListener("timeupdate",this.$p.timeupdate);this.ca.removeEventListener("loadstart",this.$p.loadstart);this.ca.removeEventListener("volumechange",this.$p.volumechange);this.Jm.o1b(this.nTa);l.config.Ju?this.Jm.MC().then(function(){return H();}):H();this.Jm.Vcb && clearTimeout(this.Jm.Vcb);};k.prototype.yF=function(){return this.Hb.yF();};k.prototype.Tub=function(){l.config.kib && this.Jm.Ida();};k.prototype.Sla=function(){if(this.ca)return this.ca.getVideoPlaybackQuality && this.ca.getVideoPlaybackQuality() || this.ca.videoPlaybackQuality || this.ca.playbackQuality;};k.prototype.mwb=function(){var H;H=this.j.gj;return (H=H && H.errorCode) && 0 <= [w.W.Y5,w.W.E5].indexOf(H);};k.prototype.$rb=function(){var H;H=!1;l.config.A_b && this.mwb() && (H=!0);l.config.WBb && !H && (this.ca.removeAttribute("src"),this.ca.load && this.ca.load());URL.revokeObjectURL(this.wm);l.config.y_a && this.ca.removeEventListener("contextmenu",f);!H && this.ca && this.j.qp.removeChild(this.ca);this.ca=this.Hg=void 0;this.wm="";};k.prototype.MTa=function(){!0 === A.Qh.hidden?this.Z6.forEach(function(H){H.refresh();H.$4b();}):this.Z6.forEach(function(H){H.refresh();H.p5b();});};k.prototype.b7=function(H){var P;P=t.Ga.get(x.$La)(H);this.Z6.push(P);return function(){P.refresh();return P.RLb();};};k.prototype.fV=function(H,P){var N,J;N={Ea:w.S.jn,ac:(0,y.hf)(P)};try{(J=P.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase()) && 8 == J.length && (N.Xf=J);}catch(M){}this.j.de(H,N);};k.prototype.gUa=function(){this.Z6.forEach(function(H){H.refresh();});};k.prototype.Wsb=function(){return this.ca && this.ca.msGraphicsTrustStatus;};k.prototype.V6=function(H,P){this.j.de(H,P,void 0);};k.prototype.Xub=function(H){var P,J,M,O,Q,T,V;if(this.ca){H=H.D3;P=this.Wsb();P && (H.ConstrictionActive=P.constrictionActive,H.Status=P.status);try{H.readyState="" + this.ca.readyState;H.currentTime="" + this.ca.currentTime;H.pbRate="" + this.ca.playbackRate;}catch(da){}P=this.VI.length;for(var N;P--;){N=this.VI[P];J="";N.type == m.J5?J="audio":N.type == m.kU && (J="video");(0,y.Ke)(H,N.iaa(),{prefix:J});}this.Hg && (P=this.Hg.duration) && !isNaN(P) && (H.duration=P.toFixed(4));if(l.config.LTb)try{M=this.j.gf;O=M && M.Xb;if(O){Q=O.expiration;isNaN(Q) || (H.exp=Q);T=O.keyStatuses.entries();if(T.next){V=T.next().value;V && (H.keyStatus=V[1]);}}}catch(da){}}};k.prototype.NTa=function(H){!1;this.owb || (this.owb=!0,this.Kl.rd(C.Qk.pfb,H));};k.prototype.Wub=function(){this.Hb.trace("seeking");this.ug.trace("Video element event: seeking");this.Mr?this.Mr.cXb=!0:(this.ug.error("unexpected seeking event"),l.config.yJb && this.V6(w.W.Mpb,{ac:{Trace:this.yF()}}));};k.prototype.Vub=function(){this.Hb.trace("seeked");this.ug.trace("Video element event: seeked");this.Mr?((0,v.Db)(this.Mr.cXb),this.Mr.bXb=!0,this.IUa()):(this.ug.error("unexpected seeked event"),l.config.xJb && this.V6(w.W.Lpb,{ac:{Trace:this.yF()}}));};k.prototype.Yub=function(){var H;this.Hb.trace("timeupdate",null === (H=this.ca) || void 0 === H?void 0:H.currentTime);!1;this.Mr && (this.Mr.eXb=!0,this.IUa());this.Kl.rd(C.Qk.Zr);};k.prototype.zma=function(){this.ug.trace("Video element event: loadstart");};k.prototype.Zub=function(H){this.ug.trace("Video element event:",H.type);try{this.j.volume.set(this.ca.volume);this.j.muted.set(this.ca.muted);}catch(P){this.ug.error("error updating volume",P);}};k.prototype.JV=function(H){var P,N,J,M,O,Q,T,V;P=this.V6;N=w.W.pMa;J=w.tHa;M=this.yF();O=H.target;Q=O && O.error;T=H.errorCode;O=Q && Q.code;(0,B.Gd)(O) || (O=T && T.code);T=Q && Q.message;V=Q && Q.msExtendedCode;(0,B.Gd)(V) || (V=Q && Q.systemCode);(0,B.Gd)(V) || (V=H.systemCode);(0,B.Gd)(V) || (V=(0,K.ota)(T));H=(0,y.Ke)({},{code:O,systemCode:V,trace:JSON.stringify(M)},{Lda:!0});J={Ea:J(O),ac:(0,z.Cwa)(H)};try{T && (J.R_=T);}catch(da){}V=(0,y.tk)(V);(0,B.Oa)(V) && (J.Xf=(0,t.voa)(V,4));P.call(this,N,J);};k.prototype.IUa=function(){this.Mr && this.Mr.bXb && this.Mr.eXb && (this.Hb.trace("seekcomplete"),this.Mr=void 0,this.Kl.rd(C.Qk.f2));};Ya.Object.defineProperties(k.prototype,{CAa:{configurable:!0,enumerable:!0,get:function(){return l.config.S4b;}}});b.YKa=k;c.prototype.trace=function(H,P){this.Xfa.push([H,P]);this.Xfa.length > this.$6b && this.Xfa.shift();};c.prototype.yF=function(){return this.Xfa;};},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t;function c(w){var v;v=this;this.j=w;this.$Ba=this.$9a=0;this.Fh=this.Yn=!1;this.Vea=0;this.Zm=function(){var u,x;v.Sea();v.CJ && (v.log.info("Deactivating",v.CJ),v.$C.NFb(v.Ue()));v.j.xj.set(null);v.bM.yeb(void 0);v.YXa();u=v.j.Cc.value;u && u.rs() && !u.Gq() && (u=null);if(u && v.j.Ob.value !== r.zb.tg){x=v.Ue();v.$C.fxb(x,u);}u?(v.log.info("Activating",u),v.j.lo.set(u.getState() === k.kI.RD.PH?r.eg.Re:r.eg.Md),v.Yn || v.j.We("tt_start"),u.tba().then(v.pO).catch(v.pO)):v.j.lo.set(r.eg.Re);v.CJ=u;v.mM();};this.sync=function(){v.Yn && (v.bM.start(),v.j.Ob.value !== r.zb.$c && v.bM.stop());};this.mM=function(){var u;v.j.state.value === r.qc.Re && v.j.Ob.value !== r.zb.tg && (v.ji?u=v.bM.dLb():v.j.Cc.value && (u=c.k5b[v.j.Cc.value.getState()]));u && (0,p.Gd)(u.startTime) && v.j.qx.value !== u && (v.$9a++,v.$Ba+=v.bM.y3a() - u.startTime,v.zWa=Math.ceil(v.$Ba / (v.$9a + 0)));v.j.qx.set(u);};this.Ue=function(){var u;u=v.j.pta();v.CJ && v.CJ.uw && (u+=v.CJ.uw);return u;};this.TXb=function(u){v.fireEvent(c.F4b,u);u && u.id && (v.$C.cib(u.id),!1);v.log.trace("showsubtitle",v.j4a(u));};this.OXb=function(u){v.fireEvent(c.x1b,u);v.log.trace("removesubtitle",v.j4a(u));};this.pk=function(){v.log.warn("imagesubs buffer underflow",v.j.Cc.value.Lh);v.j.lo.set(r.eg.Md);};this.qXb=function(){v.log.info("imagesubs buffering complete",v.j.Cc.value.Lh);v.j.lo.set(r.eg.Re);};this.Eda=function(){v.Yn && v.ji && v.ji.vx(v.Ue());};this.bab=function(u){v.Yn && v.ji && (v.ji.pause(),v.ji.SG(u.il));};this.mG=function(){v.Yn && v.ji && v.ji.Zbb();};this.Z$a=function(u){v.ji && v.ji.oj(u.Yh,u.ZQ);};this.fab=function(u){v.ji && v.ji.Oj(u.ea,u.q8b);};this.HXb=function(){v.Yn=!0;(0,n.wg)(function(){var u,x;(null === (u=v.CJ) || void 0 === u?0:u.Zl)?null === (x=v.ji) || void 0 === x?void 0:x.vx(v.Ue()):v.sync();v.mM();});};this.EXb=function(){v.YXa();v.bM.stop();v.mM();v.Fh=!0;v.Sea();};this.gya=function(u){(u=u.newValue) && (0,p.isArray)(u.blocks) && (v.$C.cib.apply(v.$C,ka(u.blocks.map(function(x){return x.id;}))),!1);};this.LXb=function(u){v.k8b(u.newValue,u.oldValue);v.sync();v.mM();};this.pO=function(u){var x;if(!v.Fh){x=u.track;if(x === v.j.Cc.value)try{v.ji=x.XBa;x.Zl?v.dxb(u):v.exb(u);}catch(y){v.log.error("Error activating track:",y,x);return;}v.Yn || v.j.We(u.fa?"tt_comp":"tt_err");u.fa?(d.config.Fdb?setTimeout(function(){v.j.lo.set(r.eg.Re);},d.config.Fdb):v.j.lo.set(r.eg.Re),x.Zl || v.mM()):u.aborted?v.log.warn("aborted timed text track loading"):d.config.wJb?v.j.de(l.W.Anb,{ac:u.track?u.track.Lh:{}}):(v.log.error("ignore subtitle initialization error",u),v.j.lo.set(r.eg.Re));}};this.dc=new f.El();this.$C=new m.tQa((0,h.hj)(w,"SubtitleTracker"),d.config.yIb);this.log=(0,h.hj)(w,"TimedTextManager");this.bM=new g.NQa(this.Ue,this.mM);this.j.Cc.addListener(this.Zm);d.config.WZb?(this.j.addEventListener(r.ka.Yn,this.HXb),this.Zm()):(this.j.lo.set(r.eg.Re),this.j.addEventListener(r.ka.Yn,function(){v.Yn=!0;v.Zm();}));this.j.Ob.addListener(this.LXb);this.j.addEventListener(r.ka.jCa,this.sync);this.j.qx.addListener(this.gya);this.j.addEventListener(r.ka.Fh,this.EXb);}Object.defineProperty(b,"__esModule",{value:!0});b.LQa=void 0;k=a(318);g=a(602);f=a(75);d=a(19);h=a(9);m=a(1388);l=a(3);n=a(62);p=a(14);r=a(18);t=a(1389);c.prototype.addEventListener=function(w,v,u){this.dc.addListener(w,v,u);};c.prototype.removeEventListener=function(w,v){this.dc.removeListener(w,v);};c.prototype.fireEvent=function(w,v,u){this.dc.rd(w,v,u);};c.prototype.rna=function(w,v,u){var x,y;x=this;y=t.JQa.GEb(this.j,w,v,u);this.Y5a(this.j.Si,y);this.j.yj.forEach(function(z){x.Y5a(z.Si,y);});this.j.Cc.set(y);this.j.fireEvent(r.ka.sx);};c.prototype.b_b=function(w){this.dAa(w)?w.tba().then(function(){}):Promise.resolve();};c.prototype.pOb=function(w){return this.$C.WNb(w);};c.prototype.Mta=function(w){return this.$C.Mta(w);};c.prototype.yZ=function(){var w,v;w=this.j.a3;v=d.config.Ngb.characterSize;v={size:d.config.oCa.characterSize || v};w && (v.visibility=w.Sta(),v.XW=w.Qta(),v.cu=w.Rta());return v;};c.prototype.Z3b=function(w){d.config.oCa.characterSize=w;w=this.j.Cc.value;this.dAa(w) && !w.Zl && w.tba().then(this.pO).catch(this.pO);};c.prototype.k8b=function(w,v){var u;w === r.zb.$c || w == r.zb.Rh?v !== r.zb.$c && v !== r.zb.Rh && ((v=this.j.Cc.value) && !this.dAa(v) || this.$C.f$a(this.Ue(),v || void 0,"presentingstate:" + w)):w !== r.zb.tg && w !== r.zb.Vs || this.$C.hra(null !== (u=this.Ue()) && void 0 !== u?u:void 0,"presentingstate:" + w);};c.prototype.Sea=function(){this.Vea=0;clearTimeout(this.p2b);};c.prototype.YXa=function(){var w;this.ji && this.ji.stop();(null === (w=this.CJ) || void 0 === w?0:w.Zl) && this.t8a("removeListener");this.ji=void 0;};c.prototype.t8a=function(w){this.ji && (this.ji[w]("showsubtitle",this.TXb),this.ji[w]("removesubtitle",this.OXb),this.ji[w]("underflow",this.pk),this.ji[w]("bufferingComplete",this.qXb),"addListener" === w?(this.j.addEventListener(r.ka.Zr,this.Eda),this.j.addEventListener(r.ka.xl,this.bab),this.j.addEventListener(r.ka.BL,this.mG),this.j.addEventListener(r.ka.sda,this.Z$a),this.j.addEventListener(r.ka.MCa,this.fab)):(this.j.removeEventListener(r.ka.Zr,this.Eda),this.j.removeEventListener(r.ka.xl,this.bab),this.j.removeEventListener(r.ka.BL,this.mG),this.j.removeEventListener(r.ka.sda,this.Z$a),this.j.removeEventListener(r.ka.MCa,this.fab)));};c.prototype.j4a=function(w){return {currentPts:this.Ue(),displayTime:w.displayTime,duration:w.duration,id:w.id,originX:w.originX,originY:w.originY,sizeX:w.sizeX,sizeY:w.sizeY,rootContainerExtentX:w.rootContainerExtentX,rootContainerExtentY:w.rootContainerExtentY};};c.prototype.dxb=function(w){var v,u;v=this;u=w.track;if(!u || !u.Zl)throw Error("Not an image base subtitle");w.fa?(this.Sea(),this.t8a("addListener"),this.log.info("Activated",u),this.j.xj.set(u),this.Yn?(0,n.wg)(function(){v.ji.vx(v.Ue());}):this.ji.pause()):this.wdb(u,w);};c.prototype.exb=function(w){var v,u;v=w.track;u=w.fa;if(!v || v.Zl)throw Error("Not a valid text track");u?(this.Sea(),this.bM.yeb(this.ji),this.log.info("Activated",v),this.j.xj.set(v)):this.wdb(v,(0,l.hA)(w));this.mM();};c.prototype.wdb=function(w,v){var u,x;u=this;x=this.Vea < d.config.RUb;x && (this.p2b=setTimeout(function(){u.Vea++;w.tba().then(u.pO).catch(u.pO);},d.config.J6b));this.log.error("Failed to activate" + ((null === w || void 0 === w?0:w.Zl)?" img subtitle":""),{retry:x},v,w);};c.prototype.dAa=function(w){return !(!w || w.rs() && !w.Gq());};c.prototype.Y5a=function(w,v){var u;u=w.findIndex(function(x){return x.oc >= v.oc;});-1 === u && (u=0);w.splice(u,0,v);};b.LQa=c;q={};c.k5b=(q[k.kI.RD.LOADING]={B_:!0},q[k.kI.RD.cU]={Zv:!0},q);c.F4b="showsubtitle";c.x1b="removesubtitle";},function(q,b,a){var g;function c(f,d,h){this.start=f;this.track=d;this.VL=Array.isArray(h)?h:[];}function k(f,d){this.log=f;this.hD=d;this.yza=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.tQa=void 0;g=a(24);k.prototype.fxb=function(f,d){this.f$a(f,d,"activating");};k.prototype.NFb=function(f){this.hra(f,"de-activating");};k.prototype.f$a=function(f,d,h){var m;this.Sl && this.hra(f,"close current for new");m=[];this.orphans.length && (m.push.apply(m,ka(this.orphans)),this.orphans=[]);this.Sl=new c(f,d,m);this.hD && this.log.trace("new range: " + h,this.Sl);};k.prototype.hra=function(f,d){this.Sl && (this.Sl.end=f,this.yza.push(this.Sl),this.hD && this.log.trace("end range: " + d,this.Sl || ({})),this.Sl=void 0);};k.prototype.cib=function(f){for(var d=[],h=0;h < arguments.length;++h){d[h - 0]=arguments[h];}this.Sl?this.Sl.VL.push.apply(this.Sl.VL,ka(d)):this.orphans.push.apply(this.orphans,ka(d));};k.prototype.Mta=function(f){var d,h;d=this.yza.slice(0);if(this.Sl && "undefined" !== typeof f){h=new c(this.Sl.start,this.Sl.track,this.Sl.VL);h.end=f;d.push(h);}f=d.reduce(function(m,l){var n,p,r,t;if(!l.track)return m;p=l.track.Ec;r=l.track.nw(l.start,l.end);if(void 0 === r || null === r)return m;t=new Set(l.VL);m[p]?(l=m[p],l.expected+=r,l.missed+=r - t.size):m[p]={dlid:p,bcp47:l.track.Vf,profile:l.track.profile,expected:r,missed:r - t.size,startPts:null !== (n=l.track.hOb()) && void 0 !== n?n:0};return m;},{});f=Object.values(f);this.hD && this.log.trace("subtitleqoe:",JSON.stringify(f,null,"\t"));return f;};k.prototype.WNb=function(f){var d,h,m,l;d=this.yza.slice(0);h=0;m=0;if(this.Sl && "undefined" != typeof f){l=new c(this.Sl.start,this.Sl.track,this.Sl.VL);l.end=f;d.push(l);}d.forEach(function(n){var p,r;if(n.track){if(n.end < n.start){(0,g.Db)(!1,"negative range");n.ar=0;return;}p=new Set(n.VL);r=n.track.nw(n.start,n.end);n.E$=r;n.ar=void 0 === r || null === r?0:0 === r?100:100 * p.size / r;}else n.ar=100;p=n.end - n.start;h+=p;m+=n.ar * p;});l=h?Math.round(m / h):100;this.log.trace("qoe score " + l + ", at pts: " + f);this.hD && (f=d.map(function(n){return {start:n.start,"end  ":n.end,duration:n.end - n.start,score:Math.round(n.ar),lang:n.track?n.track.Vf:"none","actual  ":n.VL.join(" "),expected:n.E$};}),this.log.trace("score for each range: ",JSON.stringify(f,function(n,p){return p;}," ")));return l;};b.tQa=k;},function(q,b,a){var k,g,f,d,h,m,l,n,p;function c(r,t,w,v,u,x){var y,z;r=h.kI.call(this,t,r,r,u,!0,{jg:"",Uz:"custom"},"1",{0:w},[{id:0,name:"custom"}],"xx",v || r,m.Br.ZM,void 0,void 0,"primary",null !== (y=null === x || void 0 === x?void 0:x.profile) && void 0 !== y?y:"dfxp-ls-sdh",null !== (z=null === x || void 0 === x?void 0:x.midx) && void 0 !== z?z:{},!1,!1,null === x || void 0 === x?void 0:x.isLanguageLeftToRight) || this;r.j=t;r.url=w;r.options=x;r.Iu=null === x || void 0 === x?void 0:x.useRangeHeader;return r;}Object.defineProperty(b,"__esModule",{value:!0});b.JQa=void 0;q=a(65);k=a(19);g=a(66);f=a(9);d=a(46);h=a(318);m=a(138);l=a(112);n=a(209);p=a(18);(0,q.KNa)(q.Sja,function(r){var w;function t(v){var u;if(v.ctrlKey && v.altKey && v.shiftKey && v.keyCode == n.DD.Nqb){u=(0,d.createElement)("INPUT",void 0,void 0,{type:"file"});u.addEventListener("change",function(){var x,y,z;x=u.files[0];if(x){y=x.name;w.info("Loading file",{FileName:y});z=new FileReader();z.readAsText(x);z.addEventListener("load",function(){return r.Ps.rna("nourl",y,{content:z.result});});}});u.click();}}w=(0,f.hj)(r,"TimedTextCustomTrack");k.config.lqa && (w.info("Loading url",{Url:k.config.lqa}),r.Ps.rna(k.config.lqa,"custom"));g.zf.addListener(g.CF,t);r.addEventListener(p.ka.Fh,function(){g.zf.removeListener(g.CF,t);});});na(c,h.kI);c.GEb=function(r,t,w,v){var u;u="custom" + c.XQb++;return new c(u,r,t,w,-1,v);};c.prototype.Q_a=function(){var r;r=this;return new Promise(function(t,w){var v,u;if(null === (v=r.options) || void 0 === v?0:v.content)t(r.options.content);else if(r.url){u={responseType:l.sua,url:r.url,track:r,Hc:void 0,cF:"tt-" + r.Vf,xu:"unknown"};r.j.lba.download(u,function(x){x.fa?t(x.content):(x.reason="downloadfailed",x.url=u.url,x.track=r,w(x));});}});};b.JQa=c;c.XQb=0;},function(q,b,a){var k,g,f,d,h,m;function c(l){var n,p;n=this;this.j=l;this.tXb=function(){var r;f.zf.removeListener(f.Saa,n.dab);r=n.Tt.Xo();r && r.parentNode && r.parentNode.removeChild(r);};this.gya=function(r){n.Tt.z3b(r.newValue);};this.WXb=function(r){n.Tt.G3b(r.newValue?r.newValue.Pba:void 0);};this.dab=function(){n.Tt.FR();};this.Tt=new h.KQa(d.config.nCa,l.Cc.value?l.Cc.value.Pba:void 0);p=l.qH.value;(0,g.Db)(.1 < p.width / p.height);this.Tt.p3b(p.width / p.height);l.qp.appendChild(this.Tt.Xo());l.qx.addListener(this.gya);l.Cc.addListener(this.WXb);l.addEventListener(m.ka.Fh,this.tXb,k.XM);f.zf.addListener(f.Saa,this.dab);}Object.defineProperty(b,"__esModule",{value:!0});b.MQa=void 0;k=a(16);g=a(24);f=a(66);d=a(19);h=a(607);m=a(18);c.prototype.gBa=function(l){this.Tt.gBa(l);};c.prototype.Sta=function(){return this.Tt.Sta();};c.prototype.eBa=function(l){this.Tt.eBa(l);};c.prototype.Qta=function(){return this.Tt.Qta();};c.prototype.fBa=function(l){this.Tt.fBa(l);};c.prototype.Rta=function(){return this.Tt.Rta();};b.MQa=c;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vbb=void 0;b.Vbb=function(a){var c,k;c=!1;k=!1;return function(){if(c)k=!0;else for(k=!0;k;){k=!1;c=!0;a();c=!1;}};};},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t,w,v,u;function c(x){this.j=x;this.d6b=!1;this.log=(0,d.hj)(this.j,"MediaAppendManager");this.ic=this.j.ic;this.ca=this.ic.ca;this.I3=this.NW=!1;this.audio={type:f.uj.audio,Ey:[],Lm:[],mR:!1};this.video={type:f.uj.video,Ey:[],Lm:[],mR:!1};x={};this.gM=(x[k.$b.Fl.Vb]=this.video,x[k.$b.Fl.mc]=this.audio,x);this.closed=!1;this.mC=g.config.mC;this.Zca=g.config.Zca;this.nG=this.j.Kc.cp?g.config.lya:this.j.ob.ei?g.config.kya:g.config.nG;this.AWa=!0;this.Dc=d.Ga.get("Base64EncoderSymbol");this.Wra=!1;this.zya=[];(0,m.Db)(this.mC > this.Zca,"bad config");(0,m.Db)(this.mC > this.nG,"bad config");}Object.defineProperty(b,"__esModule",{value:!0});b.PKa=void 0;k=a(34);g=a(19);f=a(96);d=a(9);h=a(3);m=a(24);l=a(26);n=a(16);p=a(18);r=a(183);t=a(6);w=a(64);v=a(45);u=a(613);c.prototype.haa=function(){var z,A;function x(B,D){return y(B,D.Pca);}function y(B,D){var C,F,G,E;G=! !D.response;E=D.response;if(D.Qc)return B + (E.byteLength || 0);D=(null !== (C=null === D || void 0 === D?void 0:D.IO) && void 0 !== C?C:0) - (null !== (F=null === D || void 0 === D?void 0:D.KO) && void 0 !== F?F:0);return (G?E.byteLength:D) + B;}z=this.gM[k.$b.Fl.Vb];A=this.gM[k.$b.Fl.mc];return {videoToAppend:z.Lm.reduce(y,0),videoInBuffer:z.Ey.reduce(x,0),audioToAppend:A.Lm.reduce(y,0),audioInBuffer:A.Ey.reduce(x,0)};};c.prototype.TWb=function(){this.audio.Mj && !this.audio.Mj.Hi() && (!1,this.audio.Mj.QVa(new Uint8Array([0,0,0,8,102,114,101,101])));};c.prototype.R3b=function(){this.audio.mBa=!0;this.video.mBa=!0;};c.prototype.X3b=function(x){x === k.$b.Fl.mc?this.NW=!0:x === k.$b.Fl.Vb && (this.I3=!0);};c.prototype.Hi=function(){var x,y;return !(null === (x=this.audio.Mj) || void 0 === x || !x.Hi()) || !(null === (y=this.video.Mj) || void 0 === y || !y.Hi());};c.prototype.nfa=function(x){var y,z;null === (y=this.audio.Mj) || void 0 === y?void 0:y.nfa(x);null === (z=this.video.Mj) || void 0 === z?void 0:z.nfa(x);};c.prototype.syb=function(x){var y;x.mediaType === k.$b.Fl.mc?this.NW=!1:x.mediaType === k.$b.Fl.Vb && (this.I3=!1);y=this.gM[x.mediaType];y?y.Lm.push(x):(0,m.Db)(!1);};c.prototype.ryb=function(x,y,z){var A;A=this;y=this.eXa(x.mediaType,y,z);if(!this.Wra)if(x.mediaType === k.$b.kb.Vb)(this.t_b(x),this.Wra=!0,this.zya.forEach(function(B){return A.Tna(B);}),this.zya=[]);else {this.zya.push(y);return;}this.Tna(y);};c.prototype.Tna=function(x){var y;y=this.gM[x.mediaType];y?y.Lm.push(x):(0,m.Db)(!1);};c.prototype.eXa=function(x,y,z){return {mediaType:x,NF:!1,response:y,ij:function(){return "header";},get Qc() {return !this.NF;},profile:z.profile};};c.prototype.t_b=function(x){(0,m.Db)(! !x.vfb,"startOfSegment properties need to be set before first header is appended");!this.Wra && g.config.tKb && this.j.hQ() && !x.vfb.m6a && (this.log.trace("Force appending encrypted stream header first to allow mixed clear & encrypted content"),x=this.Dc.decode(n.qEa),this.Tna(this.eXa(k.$b.Fl.Vb,x,{profile:v.H.GH})));};c.prototype.V3b=function(x){var y;y=this.gM[x.type];if(y)try{y.Mj=x;}catch(z){this.de(h.W.yja,{Ea:(0,r.saa)(x.type),ac:(0,l.hf)(z)});}};c.prototype.close=function(){this.ca=this.ic=void 0;this.closed=!0;};c.prototype.de=function(x,y,z){this.closed || this.j.de(x,y,z);};c.prototype.uqa=function(x){return this.I_a(this.audio,x,this.N9()) && this.I_a(this.video,x,this.N9());};c.prototype.N9=function(){return this.j.Ob.value === p.zb.tg?this.nG:this.Zca;};c.prototype.P6b=function(){var x,y;x=this.video.Lm.filter(function(z){return !z.Qc;}).reduce(function(z,A){return z + A.Ht;},0);y=this.audio.Lm.filter(function(z){return !z.Qc;}).reduce(function(z,A){return z + A.Ht;},0);return Math.min(x,y);};c.prototype.I_a=function(x,y,z){var A;A=x.vqa;A=A && A.Pca;return !x.Mj || 0 === x.Lm.length && (x.type === f.uj.audio && this.NW || x.type === f.uj.video && this.I3)?!0:A && A.wz - y >= z || !1;};c.prototype.phb=function(x){this.d6b || (this.ohb(this.audio,x),this.ohb(this.video,x));this.closed || this.LXa();};c.prototype.LXa=function(){var x,y,z,A,B,D;A=!this.audio.Mj || 0 !== this.audio.Ey.length;B=0 === this.video.Lm.length && this.I3;D=!this.video.Mj || 0 !== this.video.Ey.length;!(!(0 === this.audio.Lm.length && this.NW && D || B && A) || (null === (x=this.audio.Mj) || void 0 === x?0:x.Hi()) || (null === (y=this.video.Mj) || void 0 === y?0:y.Hi()) || this.gra) && this.ca.readyState > w.Cp.A5.HAVE_NOTHING && (this.gra=!0,null === (z=this.ic) || void 0 === z?void 0:z.endOfStream());};c.prototype.ohb=function(x,y){var z,A,B,D;if(!this.closed && x.Mj){A=x.Mj;B=x.Ey;!A.Hi() && 0 < B.length && (x.vqa=B[B.length - 1]);if(x.mBa){if(A.Hi())return;x.mBa=!1;D=null === (z=this.ic) || void 0 === z?void 0:z.x3a().zbb(t.Mp);D && 0 < D && A.remove(0,D);}for(z=x.Lm[0];z && z.response && (z.Qc || z.JC - y <= this.mC);){if((this.gra=!1,this.w7b(z)))(x.Lm.shift(),z=x.Lm[0]);else break;}!A.Hi() && 0 < B.length && (x.vqa=B[B.length - 1]);}};c.prototype.w7b=function(x){var y,z,A;!1;(0,m.Db)(x && ! !x.response);y=x.response;z=x.mediaType;A=this.gM[z];if(!this.closed && A.Mj && !A.Mj.Hi()){try{x.Qc && x.profile && A.Mj.dBb(x.profile);this.log.trace("Feeding media segment to decoder",{Bytes:y.byteLength});A.Mj.QVa(y,x);x.Qc || A.Ey.push(this.IEb(x));}catch(B){"QuotaExceededError" === B.name?(this.j.P9=this.j.P9?this.j.P9 + 1:1,this.AWa=!1,A.mR=!0):(this.log.error("Exception while appending media",x,B),this.de("CodecSwitchingError" === B.name?h.W.rMa:h.W.Ipb,(0,r.saa)(z)));return;}return !0;}};c.prototype.AEb=function(x){var y;if(u.fQa[x.Za])return u.fQa[x.Za];y=this.j.kPb(x.Pe);y || (this.log.warn("Could not find CDN",{cdnId:x.Pe}),y={id:x.Pe,V7a:x.location});return y;};c.prototype.sZa=function(x){var y,z;y=x.Za;if(u.hQa[y])return u.hQa[y];x.mediaType === k.$b.Fl.mc?z=this.j.H4a(y):x.mediaType === k.$b.Fl.Vb && (z=this.j.T4a(y));z || this.log.error("Could not find stream",{stream:y});return z;};c.prototype.IEb=function(x){var y;y=this.sZa(x);return {Pca:x,stream:y,Dn:{startTime:Math.floor(x.JC),endTime:Math.floor(x.wz)},Hc:this.AEb(x)};};c.prototype.gpa=function(x){this.PXa(x,k.$b.Fl.mc);this.PXa(x,k.$b.Fl.Vb);};c.prototype.PXa=function(x,y){var z,A,B,D,C,F,G,E,I;z=this;A=x;this.AWa && (A-=g.config.V1);B=this.gM[y];D=B.Ey;G=!1;D.some(function(K,L){var H;H=K.Pca;if(x < H.JC)return ((0,m.Db)(!1,"decoder content does not contain media time"),!0);A >= H.wz && (C=L);if(x < H.wz)return (F=L,L=y === k.$b.Fl.mc?z.j.bg:z.j.Le,K !== L.value && (L.set(K),G=!0),!0);});if((B.mR || G) && void 0 !== C && !this.gra){if(C + 1 === F){if(0 === C)return;C--;}E=D[C].Pca.wz - 1;if(0 < E){I=B.Mj;I && !I.Hi()?(I.remove(0,E / n.Xu),B.mR=!1,D.splice(0,C + 1)):(B.mR=!0,!1);}}};c.prototype.ndb=function(){!1;[this.audio,this.video].forEach(function(x){x.Ey=[];x.vqa=void 0;x.Lm=[];});this.I3=this.NW=!1;this.j.fireEvent(p.ka.Lca);};c.prototype.Uta=function(){return [this.audio,this.video].filter(function(x){return x.Mj;});};c.prototype.ALb=function(){var x,y;if(this.Hi())(0,m.Db)(!1,"should not be busy while checking buffer ranges");else {x=this.Uta().map(function(z){var A,B,D,C,F;C=z.Lm.filter(function(G){return G.NF;});F=z.Mj.buffered();z=F.length?Math.ceil(1E3 * F.start(0)):void 0;F=F.length?Math.floor(1E3 * F.end(F.length - 1)):void 0;z=null !== z && void 0 !== z?z:null === (A=C[0]) || void 0 === A?void 0:A.JC;A=null !== (D=null === (B=C[C.length - 1]) || void 0 === B?void 0:B.wz) && void 0 !== D?D:F;if(void 0 !== z && void 0 !== A)return {start:z,end:A};});if(x.every(function(z){return z;})){y=Math.max.apply(Math,ka(x.map(function(z){return z.start;})));x=Math.min.apply(Math,ka(x.map(function(z){return z.end;})));if(x > y)return {start:(0,t.Vc)(y),end:(0,t.Vc)(x)};}}};c.prototype.skip=function(x){(0,m.Db)(!this.Hi(),"should not be busy while skipping");this.Uta().forEach(function(y){y.mR=!0;});this.gpa(x);this.Uta().forEach(function(y){0 < y.Ey.length || (y.Lm=y.Lm.filter(function(z){return z.Qc || z.wz > x?!0:!1;}));});};b.PKa=c;},function(q,b){function a(k,g,f){var d,h,m,l;d=[];k.forEach(function(n){-1 == d.indexOf(n.ef) && d.push(n.ef);});h=null;m=null;g.forEach(function(n){null === h?m=h=n.bitrate:m < n.bitrate?m=n.bitrate:h > n.bitrate && (h=n.bitrate);});l=[];d.forEach(function(n){var p;p={ranges:[],profile:n};h && m && (p.ranges.push({min:h,max:m}),f && (p.disallowed=f.filter(function(r){return r.stream.ef === n;}).map(function(r){return {stream:{bitrate:r.stream.bitrate},disallowedBy:r.d$};})),l.push(p));});return l;}function c(k,g){var f;f=void 0;return {pF:k.filter(function(d){var h;h=g(d);h && (f=f || [],f.push({stream:d,d$:h}));return !h;}),bHb:f};}Object.defineProperty(b,"__esModule",{value:!0});b.aHb=b.Mv=b.wFb=b.u4a=void 0;b.u4a=function(k,g){g=c(k,g);return a(k,g.pF,g.bHb);};b.wFb=a;b.Mv=c;b.aHb=function(k){if(k.Fj && k.lower && 1080 < k.height)return ["Prefetch UHD"];};},function(q,b,a){var k,g;function c(f,d){f=k.uc.call(this,f) || this;f.Twa=d;return f;}Object.defineProperty(b,"__esModule",{value:!0});b.TNa=void 0;k=a(82);g=a(98);na(c,k.uc);c.prototype.set=function(f){k.uc.prototype.set.call(this,(0,g.LD)(f,0,this.Twa));};b.TNa=c;},function(q,b,a){var g,f,d,h,m,l,n,p,r;function c(t,w,v,u,x,y){var z;z=this;this.mj=t;this.config=v;this.Mb=u;this.debug=x;this.kJ={};this.J_a=!1;this.UW={};this.Xua=0;this.raa=function(A){var B,D,C;B=A.stream;if(B){A=B.Ec;D=B.bitrate;C=B.nb;}else A=A.track.Ec;return {key:A + "$" + D + "$" + C,Ec:A,bitrate:D,nb:C};};this.H2a=function(A){var B,D,C;D=z.raa(A);C=null === (B=A.Hc) || void 0 === B?void 0:B.id;A=A.track.jg;return Object.assign({},D,{key:D.key + "$" + C + "$" + A,zy:C,jg:A});};this.yLb=function(A){var B;B=A.stream;A=null === B || void 0 === B?void 0:B.Ec;B=null === B || void 0 === B?void 0:B.bitrate;return {key:A + "$" + B,Ec:null !== A && void 0 !== A?A:"",U_:B};};this.LOb=function(A){var B;B=A.stream;A=null === B || void 0 === B?void 0:B.Ec;B=null === B || void 0 === B?void 0:B.nb;return {key:A + "$" + B,Ec:null !== A && void 0 !== A?A:"",U_:B};};this.log=w.Bb("PlayTimeTracker");this.fea=y(t);this.pz=y(t);this.Nya=y(t);this.startTime=this.mj.mediaTime.value;this.sca=this.config().$wb;this.rM();this.kJ.abrdel=0;this.sca.forEach(function(A){A="abrdel" + A;z.UW[A]=0;z.kJ[A]=0;});}function k(){}Object.defineProperty(b,"__esModule",{value:!0});b.FNa=void 0;q=a(2);g=a(0);f=a(7);d=a(12);h=a(78);a(6);m=a(31);l=a(117);n=a(16);p=a(26);a=a(615);k.prototype.encode=function(t){return {downloadableId:t.Ec,correlationId:t.jg,bitrate:t.bitrate,vmaf:t.nb,duration:t.duration,metric:t.U_,cdnId:t.zy};};k.prototype.decode=function(t){return {Ec:t.downloadableId,jg:t.correlationId,bitrate:t.bitrate,nb:t.vmaf,duration:t.duration,U_:t.metric,zy:t.cdnId};};c.prototype.Ry=function(t){t=void 0 === t?"content":t;this.OL(this.mj.mediaTime.value);return Math.floor(this.pz.Ry(t));};c.prototype.zZ=function(t){t=void 0 === t?"content":t;this.OL(this.mj.mediaTime.value);t=this.pz.zZ(t);this.debug.assert(t === Math.floor(t),"Value of totalContentPlayTime is not an integer.");return Math.floor(t);};c.prototype.oLb=function(){this.OL(this.mj.mediaTime.value);return {audio:this.fZ(this.fea,this.H2a),video:this.fZ(this.pz,this.H2a)};};c.prototype.yNb=function(){var t,w,v;t=this.Ry("content");w=this.Ry("ads");v=this.Ry("other");t={total:t,totalAdDuration:w,totalOtherDuration:v,totalCombinedDuration:t + w + v,totalContentTime:this.zZ("content"),audio:this.fZ(this.fea,this.raa),video:this.fZ(this.pz,this.raa),timedtext:this.fZ(this.Nya,this.raa)};this.debug.assert(!(!t.audio || !t.video));return t;};c.prototype.zsa=function(){var t,w;this.OL(this.mj.mediaTime.value);t=this.pz.ssa(this.yLb);try{w=this.g2a(t);}catch(v){return (this.log.warn("Failed to calc average bitrate."),null);}this.kJ.abrdel=Math.round(w);return this.kJ.abrdel;};c.prototype.h2a=function(){var t,w;this.OL(this.mj.mediaTime.value);t=this.pz.ssa(this.LOb);try{w=this.g2a(t);}catch(v){return (this.log.warn("Failed to calc average vmaf."),null);}return Math.round(w);};c.prototype.f2a=function(){var t,w;t=this;if(!this.J_a){w=this.Ry();this.sca.forEach(function(v){var u,x,y;if(0 === t.UW["abrdel" + v] && w > v * n.Xu){u=0;x=0;y=0;t.pz.some(function(z){u+=z.stream.bitrate * (z.endTime - z.startTime);x+=z.endTime - z.startTime;y=z.stream.bitrate;return x > v * n.Xu;});u && (t.UW["abrdel" + v]=Math.round((u - y * (x - v * n.Xu)) / (v * n.Xu)));}});0 !== this.UW["abrdel" + this.sca[this.sca.length - 1]] && (this.J_a=!0);(0,p.kh)(this.UW,function(v,u){t.kJ[v]=0 === u?t.kJ.abrdel:u;});}return this.kJ;};c.prototype.wxb=function(t){this.Xua+=t;};c.prototype.eba=function(){return this.pz.eba();};c.prototype.rM=function(){var t;t=this;this.mj.bg.addListener(function(w){t.$O=t.GXa(t.$O,t.fea,w.newValue);});this.mj.Le.addListener(function(w){t.bP=t.GXa(t.bP,t.pz,w.newValue);});this.mj.playbackRate.addListener(function(w){t.OL(t.mj.mediaTime.value,w.oldValue);});this.mj.xj.addListener(this.kXb.bind(this));};c.prototype.Nxa=function(t,w){this.OL(t);this.startTime=w;this.bP=this.$O=void 0;this.aP && (this.aP.startTime=this.startTime);!1;};c.prototype.kXb=function(t){this.Nya.Dh(this.aP,this.mj.mediaTime.value);this.aP=(t=t.newValue)?{qR:this.eQ(t.Uz),track:t,startTime:this.mj.mediaTime.value,endTime:h.Jx}:void 0;};c.prototype.eQ=function(t){t=t.toLowerCase();return ["padding"].includes(t)?"other":["ad"].includes(t)?"ads":"content";};c.prototype.OL=function(t,w){w=void 0 === w?this.mj.playbackRate.value:w;t && this.$O && this.bP && (t=Math.min(t,this.$O.endTime,this.bP.endTime),this.fea.Dh(this.$O,t,w),this.$O.startTime=t,this.pz.Dh(this.bP,t,w),this.bP.startTime=t,this.aP && (this.Nya.Dh(this.aP,t,w),this.aP.startTime=t),this.startTime=t,!1);};c.prototype.GXa=function(t,w,v){t && w.Dh(t,Math.min(t.endTime,this.mj.mediaTime.value));if(v && v.stream)return (t=v.Dn,w=v.stream,v=v.Hc,{qR:this.eQ(w.track.Uz),Hc:v,track:w.track,stream:w,startTime:Math.max(t.startTime,this.startTime),endTime:t.endTime});};c.prototype.fZ=function(t,w){return t.ssa(w,"content").map(function(v){return new k().encode(v);});};c.prototype.g2a=function(t){var w,v,u;w=this;v=0;t.forEach(function(x){if(w.Mb.jh(x.duration) && w.Mb.jh(x.U_))v+=x.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!v)return 0;u=0;t.forEach(function(x){u+=x.U_ * x.duration / v;});return u;};r=c;r=q.__decorate([(0,g.X)(),q.__param(1,(0,g.u)(f.Ib)),q.__param(2,(0,g.u)(d.jd)),q.__param(3,(0,g.u)(m.Wg)),q.__param(4,(0,g.u)(l.bA)),q.__param(5,(0,g.u)(a.Zja))],r);b.FNa=r;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.ENa="PlayTimeTrackerFactorySymbol";},function(q,b,a){var k,g;function c(f,d,h,m,l,n,p,r,t,w,v,u,x){this.index=f;this.L=d;this.ea=h;this.ob=m;this.ja=l;this.Ij=n;this.owa=p;this.JCb=t;this.B9a=v;this.hQ=void 0 === u?function(){return !1;}:u;this.zi=x;this.Nc=new k.uc(null);this.Ug=new k.uc(null);this.Cc=new k.uc(null);this.xj=new k.uc(null);this.qx=new k.uc(void 0);this.Df=new k.uc(null);this.Uh=new k.uc(null);this.bg=new k.uc(null);this.Le=new k.uc(null);this.Hc=[new k.uc(null),new k.uc(null)];this.mediaTime=new k.uc(void 0);this.playbackRate=new k.uc(1);this.Sr=new k.uc(null);this.pJ=this.oJ="notcached";this.b$=this.background=!1;r && (this.Df.set(r.Df.value),this.Uh.set(r.Uh.value));this.Om=w(this);this.Xn=this.B9a.Z0b(this.ja,this.Ij);}Object.defineProperty(b,"__esModule",{value:!0});b.UNa=void 0;k=a(82);g=a(6);c.prototype.We=function(f){this.Xn.Qr(f);};c.prototype.WB=function(f){var d;d=this;Object.entries(f).forEach(function(h){var m;m=ra(h);h=m.next().value;m=m.next().value;d.Xn.Qr(h,(0,g.Vc)(m - d.Ij.ia(g.sa)));});};c.prototype.Ada=function(){this.B9a.r1b(this.ja);};Ya.Object.defineProperties(c.prototype,{ze:{configurable:!0,enumerable:!0,get:function(){return this.ob.ze;}},sga:{configurable:!0,enumerable:!0,get:function(){return this.ob.sga;}},Bm:{configurable:!0,enumerable:!0,get:function(){return this.Kc && this.Kc.Bm;}},yj:{configurable:!0,enumerable:!0,get:function(){var f;return null !== (f=this.Kc && this.Kc.yj) && void 0 !== f?f:[];}},jD:{configurable:!0,enumerable:!0,get:function(){var f;return null !== (f=this.Kc && this.Kc.jD) && void 0 !== f?f:[];}},eD:{configurable:!0,enumerable:!0,get:function(){var f;return null !== (f=this.Kc && this.Kc.eD) && void 0 !== f?f:[];}},Si:{configurable:!0,enumerable:!0,get:function(){var f;return null !== (f=this.Kc && this.Kc.Si) && void 0 !== f?f:[];}},lj:{configurable:!0,enumerable:!0,get:function(){return this.Kc && this.Kc.lj;}},xK:{configurable:!0,enumerable:!0,get:function(){var f;return null !== (f=this.Kc && this.Kc.xK) && void 0 !== f?f:!1;}},Zw:{configurable:!0,enumerable:!0,get:function(){var f;return null !== (f=this.Kc && this.Kc.Zw) && void 0 !== f?f:[];}},Ai:{configurable:!0,enumerable:!0,get:function(){var f;return null !== (f=this.Kc && this.Kc.Ai) && void 0 !== f?f:[];}},sB:{configurable:!0,enumerable:!0,get:function(){var f,d,h;return this.ola && 0 < this.ola.ia(g.sa)?this.ola:(0,g.Vc)((null === (f=this.Kc) || void 0 === f?0:f.cp)?Infinity:null !== (h=null === (d=this.pa) || void 0 === d?void 0:d.Tb.duration) && void 0 !== h?h:0);},set:function(f){this.ola=f;}},Lk:{configurable:!0,enumerable:!0,get:function(){return this.ob.Lk || 0;}},K9:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.AX?this.AX:void 0 === this.mediaTime.value?null:this.JCb(this.mediaTime.value,this.ea);}},jg:{configurable:!0,enumerable:!0,get:function(){var f,d;return null === (d=null === (f=this.pa) || void 0 === f?void 0:f.Tb.mX) || void 0 === d?void 0:d.mp;}},HL:{configurable:!0,enumerable:!0,get:function(){var f,d;return null === (d=null === (f=this.pa) || void 0 === f?void 0:f.Tb.mX) || void 0 === d?void 0:d.HL;}},Hd:{configurable:!0,enumerable:!0,get:function(){return this.Xn.Hd;}}});b.UNa=c;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.aRa="TrickPlayParserSymbol";},function(q,b,a){var k,g,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.$Qa=void 0;q=a(2);g=a(179);a=a(0);c.prototype.parse=function(d){var h,m;if(!d)throw Error("invalid array buffer");h=new Uint8Array(d);m=new g.BT(h);d=this.GYb(m);h=this.HYb(m,h,d);return {header:d,images:h};};c.prototype.GYb=function(d){var h,m,l,n;if(d.wta() < this.Y1b())throw Error("array buffer too short");k.oKa.forEach(function(p){if(p != d.KC())throw Error("BIF has invalid magic.");});h=d.AR();if(h > k.VERSION)throw Error("BIF version in unsupported");m=d.AR();if(0 == m)throw Error("BIF has no frames.");l=d.AR();n=d.Sg(k.UOa);return {version:h,ZWb:m,Pgb:l,fAa:n};};c.prototype.HYb=function(d,h,m){var p,r;for(var l=[],n=0;n <= m.ZWb;n++){p={timestamp:d.AR(),offset:d.AR()};void 0 != r && l.push(h.subarray(r.offset,p.offset));r=p;}return l;};c.prototype.Y1b=function(){return k.oKa.length + 4 + 4 + 4 + k.UOa;};f=k=c;f.oKa=[137,66,73,70,13,10,26,10];f.VERSION=0;f.UOa=44;f=k=q.__decorate([(0,a.X)()],f);b.$Qa=f;},function(q,b,a){var k,g,f,d;function c(h,m,l){this.config=h;this.j=m;this.mg=l;this.U0=void 0;this.Vda=!1;this.Rva=0;this.log=this.mg.Bb();}Object.defineProperty(b,"__esModule",{value:!0});b.DPa=void 0;k=a(18);g=a(6);f=a(98);d=a(14);c.prototype.hNb=function(h,m,l,n,p){var r,t,w,v;l=void 0 === l?this.j.ea:l;n=void 0 === n?!1:n;r=m === k.uf.eN;t=this.DAb(r?h:this.LBb(h,l),n,l);n=this.j.Ra;r?(h=t,t=n.Kv(t)):h=n.WO(l,t);m === k.uf.jA && (this.j.NWa=t);p=this.Aj(h,m,p);w=(r=r || p)?h:t;if(this.j.Rw){v=this.j.Kc.cp?this.config().lya:this.j.ob.ei?this.config().kya:this.config().nG;this.j.K4a(w,v) || m !== k.uf.hI || (w=this.j.Rw.ia(g.sa) - v - 1E3,r?(h=w,t=n.Kv(w)):(h=n.WO(l,w),t=w));}return {rda:w,il:t,DZb:h,Aj:p};};c.prototype.DAb=function(h,m,l){this.RRb() || m?h=Math.round(h):(m=this.j.Ra.Woa(h,l),h=(0,d.Oa)(m)?m:Math.round(h));this.j.ob.ei && (h=this.yKb(h));this.config().BAa && (h+=this.config().BAa);return h;};c.prototype.Aj=function(h,m,l){if(this.config().$Gb || m === k.uf.jA || m === k.uf.A6 || m === k.uf.N4 || !l || h < l.start.ia(g.sa) || h >= l.end.ia(g.sa))return !1;m=this.j.Ra;return (null === m || void 0 === m?void 0:m.bj) && m.Aj(h) || !1;};c.prototype.RRb=function(){return this.j.ob.ei?!0:"boolean" === typeof this.j.ob.e1?this.j.ob.e1:navigator.hardwareConcurrency && 2 >= navigator.hardwareConcurrency?this.config().e1 && this.config().YZb:this.config().e1;};c.prototype.LBb=function(h,m){var l;m=this.j.nl(m);l=m.sB;m=(m.SUb || l).ia(g.sa) - this.config().K9b;return (0,f.LD)(h,0,m);};c.prototype.yKb=function(h){var m,l,n;m=this.j.WY();if(Object.values(m).find(function(p){var r;r=p.za;r=h < (null !== r && void 0 !== r?r:Infinity);return p.ya <= h && r;}))return (!1,h);n=h;Object.entries(m).forEach(function(p){var r;p=ra(p);p.next();p=p.next().value.ya;r=p - h;0 < r && (void 0 === l || r < l) && (l=r,n=p);});!1;return n;};Ya.Object.defineProperties(c.prototype,{mva:{configurable:!0,enumerable:!0,get:function(){return this.Vda || ! !this.U0;}}});b.DPa=c;},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t,w,v,u;function c(x,y,z,A,B,D){var C;C=this;this.j=x;this.jl=y;this.u3=z;this.Ui=A;this.x2=B;this.Qo=D;this.IZa={};this.update=function(){var F;if(C.hr.selectionStart == C.hr.selectionEnd){F="";C.hZ().forEach(function(G){F=F?F + "\n":"";Object.entries(G).forEach(function(E){var I;I=ra(E);E=I.next().value;I=I.next().value;F+=E + ": " + I + "\n";});});C.hr.style.fontSize=(0,d.LD)((0,m.PM)(C.element.clientHeight / 60),8,18) + "px";C.hr.value=F;}};this.xXb=function(){var F,G;if(C.j.ng){G=C.j.ng.YJ();G && (C.iqa=G - (null !== (F=C.Xgb) && void 0 !== F?F:0),C.Xgb=G,C.dR());}};this.dR=function(){C.u3.Vm(C.update);};this.onkeydown=function(F){F.ctrlKey && F.altKey && F.shiftKey && (F.keyCode == p.DD.glb || F.keyCode == p.DD.Q) && C.toggle();};this.fbb=[x.mediaTime,x.Hc[k.$b.kb.mc],x.Hc[k.$b.kb.Vb],x.bg,x.Le,x.Uh,x.Df,x.xj,x.state,x.zt,x.Ob,x.volume,x.muted];this.element=this.Ui.createElement("div","position:fixed;left:10px;top:10px;right:10px;bottom:10px;z-index:9999",void 0,{"class":"player-info"});this.hr=this.Ui.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto;",void 0,{readonly:"readonly"});this.element.appendChild(this.hr);this.controls=this.Ui.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);y=this.Ui.createElement("button",void 0,"X");y.addEventListener("click",function(){return C.Ty();},!1);this.controls.appendChild(y);f.zf.addListener(f.CF,this.onkeydown);x.addEventListener(n.ka.Fh,function(){f.zf.removeListener(f.CF,C.onkeydown);C.Ty();});}Object.defineProperty(b,"__esModule",{value:!0});b.QNa=void 0;k=a(34);g=a(65);f=a(66);d=a(98);h=a(336);m=a(11);l=a(14);n=a(18);p=a(209);r=a(6);q={};t=(q[n.qc.VM]="Not Loaded",q[n.qc.LOADING]="Loading",q[n.qc.Re]="Normal",q[n.qc.CLOSING]="Closing",q[n.qc.CLOSED]="Closed",q);q={};w=(q[n.eg.Re]="Normal",q[n.eg.Md]="Pre-buffering",q[n.eg.tPa]="Network stalled",q);q={};v=(q[n.zb.tg]="Waiting for decoder",q[n.zb.$c]="Playing",q[n.zb.Rh]="Paused",q[n.zb.Vs]="Media ended",q);u=[n.ka.Lca];c.prototype.w3b=function(x){this.IZa.DFR=x;};c.prototype.show=function(){var x;x=this;this.visible || (this.a_=pb.setInterval(this.xXb,1E3),document.body.appendChild(this.element),this.fbb.forEach(function(y){y.addListener(x.dR);}),u.forEach(function(y){x.j.addEventListener(y,x.dR);}),this.visible=!0,this.Qo.O2().then(function(y){x.fua=y;x.dR();}));this.update();};c.prototype.Ty=function(){var x;x=this;this.visible && (clearInterval(this.a_),this.Xgb=this.iqa=void 0,document.body.removeChild(this.element),this.fbb.forEach(function(y){y.removeListener(x.dR);}),u.forEach(function(y){x.j.removeEventListener(y,x.dR);}),this.u3.Vm(),this.visible=!1);};c.prototype.toggle=function(){this.visible?this.Ty():this.show();};c.prototype.hZ=function(){var x,y,z,A,B,D,C,F,G,E,I,K,L,H,P,N,J,M,O,Q,T,V,da,pa,xa,ya,sa,X,S,R,W,ia,za,Ra,Fa,$a,Ta,Xa,eb,rb,U,fa,la,wa,Ka;H=[];P=this.jl();H.push({Version:"6.0036.280.911",Esn:P?P.Xl:"UNKNOWN",PBCID:this.j.jg,UserAgent:m.XH});try{N={MovieId:this.j.L,TrackingId:this.j.Lk,Xid:this.j.ja + " (" + g.Lp.map(function(ab){return ab.ja;}).join(", ") + ")",Position:(0,d.Sj)(this.j.mediaTime.value),Duration:(0,d.Sj)(this.j.sB.ia(r.sa)),PlayerDuration:(0,d.Sj)(this.j.Rw.ia(r.sa)),Volume:(0,m.Fp)(100 * this.j.volume.value) + "%" + (this.j.muted.value?" (Muted)":"")};if(this.j.ob.ei || this.j.ob.Rba)(N["Segment Position"]=(0,d.Sj)(this.j.wF()),N.Segment=this.j.qta());H.push(N);}catch(ab){}try{H.push({"Player state":t[this.j.state.value],"Buffering state":w[this.j.zt.value],"Rendering state":v[this.j.Ob.value]});}catch(ab){}try{J=this.j.bDa() + this.j.doa();M=this.j.bg.value;O=null === M || void 0 === M?void 0:M.stream;Q=this.j.Le.value;T=null === Q || void 0 === Q?void 0:Q.stream;V=null !== (x=null === O || void 0 === O?void 0:O.bitrate) && void 0 !== x?x:"?";da=T?T.bitrate + " (" + T.width + "x" + T.height + ")":"?";pa=null !== (y=null === T || void 0 === T?void 0:T.nb) && void 0 !== y?y:"?";xa=null !== (A=null === (z=this.j.Df.value) || void 0 === z?void 0:z.nb) && void 0 !== A?A:"?";ya=null !== (D=null === (B=this.j.Uh.value) || void 0 === B?void 0:B.bitrate) && void 0 !== D?D:"?";sa=null !== (F=null === (C=this.j.Df.value) || void 0 === C?void 0:C.bitrate) && void 0 !== F?F:"?";X=this.j.Hc[k.$b.kb.Vb].value;S=this.j.Hc[k.$b.kb.mc].value;H.push({"Playing bitrate (a/v)":V + " / " + da,"Playing/Buffering vmaf":pa + "/" + xa,"Buffering bitrate (a/v)":ya + " / " + sa,"Buffer size in Bytes (a/v)":this.j.doa() + " / " + this.j.bDa(),"Buffer size in Bytes":"" + J,"Buffer size in Seconds (a/v)":(0,d.Sj)(this.j.HW()) + " / " + (0,d.Sj)(this.j.B3()),"Current CDN (a/v)":(S?S.name + ", Id: " + S.id:"?") + " / " + (X?X.name + ", Id: " + X.id:"?")});}catch(ab){}try{R=this.j.bg.value;W=this.j.Le.value;if(R && R.stream && W && W.stream){ia=R.stream;za=ia.track;Ra=W.stream;Fa=this.j.xj.value;$a=this.x2.J9(this.j.Ug.value?this.j.Ug.value.streams:[]);Ta=this.x2.D9(za.streams);Xa=Ra.ef;eb=(/hevc/).test(Xa)?"hevc":(/vp9/).test(Xa)?"vp9":(/h264hpl/).test(Xa)?"avchigh":(/av1/).test(Xa)?"av1":"avc";(/hdr/).test(Xa) && (eb+=", hdr");(/dv/).test(Xa) && (eb+=", dv");(/prk/).test(Xa) && (eb+=", prk");rb=ia.ef;U=(/xheaac/).test(rb)?"xhe-aac":(/heaac/).test(rb)?"he-aac":(/ddplus/).test(rb)?"ddplus":"unknown";(/atmos/).test(rb) && (U+=", atmos");H.push({"Audio Track":za.Vf + ", Id: " + za.trackId + ", Channels: " + za.channels + ", Codec: " + Ta + " (" + U + ")","Video Track":"Codec: " + $a + " (" + eb + ")","Timed Text Track":Fa?Fa.Vf + ", Profile: " + Fa.profile + ", Id: " + Fa.trackId:"none","Audio Tags":null === (G=R.stream) || void 0 === G?void 0:G.Nj.toString(),"Video Tags":null === (E=W.stream) || void 0 === E?void 0:E.Nj.toString()});}}catch(ab){}try{fa=this.j.ng;la=this.j.Df.value?this.j.Df.value.framerate:0;wa=a(616).p8a;H.push({Framerate:la.toFixed(3),"Current Dropped Frames":(0,l.Oa)(this.iqa)?this.iqa:"","Total Frames":fa.JB(),"Total Dropped Frames":fa.YJ(),"Total Corrupted Frames":fa.ZY(),"Main Thread stall/sec":wa?wa.AMb().join(" "):"DISABLED",KeySystem:null === (I=this.j.gf) || void 0 === I?void 0:I.jZ(),KeyStatus:null === (L=null === (K=this.j.gf) || void 0 === K?void 0:K.h3a) || void 0 === L?void 0:L.call(K),VideoDiag:(0,h.Cwa)(this.j.Oaa()),"HDR support":this.fua?this.fua.result + " (" + this.fua.reason + ")":"unknown"});}catch(ab){}try{H.push({Throughput:this.j.fb + " kbps"});}catch(ab){}Ka=void 0;try{Object.entries(this.IZa).forEach(function(ab){var ob;ob=ra(ab);ab=ob.next().value;ob=ob.next().value;Ka=Ka || ({});Ka[ab]=JSON.stringify(ob);});Ka && H.push(Ka);}catch(ab){}return H;};b.QNa=c;},function(q,b,a){var g,f,d,h;function c(m,l,n,p){this.ja=m;this.U1b=l;this.Ha=n;this.Jg=p;this.Hd={};}function k(m,l){this.mg=m;this.Jg=l;this.Oc={};this.Ha=m.Bb("PlaybackMilestoneStoreImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Upb=b.SNa=void 0;q=a(2);g=a(0);f=a(7);d=a(20);h=a(6);k.prototype.Z0b=function(m,l){this.Oc[m] && this.Ha.warn("registerPlayback: xid " + m + " already registered, overriding");l=(l?l:this.Jg.ec()).ia(h.sa);this.Ha.trace("registerPlayback: xid " + m + " at " + l);this.Oc[m]=new c(m,l,this.Ha,this.Jg);return this.Oc[m];};k.prototype.ANb=function(m){this.Oc[m] || this.Ha.warn("getPlaybackMilestones: xid " + m + " is not registered");return this.Oc[m];};k.prototype.r1b=function(m){this.Ha.trace("removePlayback: xid " + m);delete this.Oc[m];};a=k;a=q.__decorate([(0,g.X)(),q.__param(0,(0,g.u)(f.Ib)),q.__param(1,(0,g.u)(d.Jd))],a);b.SNa=a;c.prototype.Qr=function(m,l){l=l?l.ia(h.sa):this.Jg.ec().ia(h.sa) - this.U1b;this.Ha.trace("addMilestone: xid " + this.ja + " " + m + " at " + l);this.Hd[m]=l;};b.Upb=c;},function(q,b,a){var k,g,f,d;function c(h){this.Ma=h;this.trace=[];}Object.defineProperty(b,"__esModule",{value:!0});b.hPa=void 0;q=a(2);k=a(18);g=a(0);f=a(20);d=a(6);c.prototype.xl=function(h){h.cause !== k.uf.jA && (this.trace.unshift({time:this.Ma.ec(),event:h}),5 < this.trace.length && this.trace.pop());};c.prototype.l4a=function(){var h,m;h=this;if(0 === this.trace.length)return {};m=this.trace[0];return {timeSinceLastRepositionMs:this.Kgb(m.time),lastRepositionCause:this.r2a(m.event.cause),repositionTrace:this.trace.map(function(l){return {timeSince:h.Kgb(l.time),cause:h.r2a(l.event.cause),newMediaTime:l.event.rda,oldMediaTime:l.event.Txa,contentPts:l.event.il,skip:l.event.skip};})};};c.prototype.Kgb=function(h){return this.Ma.ec().Ia(h).ia(d.sa);};c.prototype.r2a=function(h){switch(h){case k.uf.jA:return "initial";case k.uf.hI:return "seek";case k.uf.eN:return "segment_changed";case k.uf.A6:return "track_changed";case k.uf.N4:return "force_rebuffer";}};a=c;a=q.__decorate([(0,g.X)(),q.__param(0,(0,g.u)(f.Jd))],a);b.hPa=a;},function(q,b,a){var k,g,f;function c(d,h,m){this.mj=d;this.Mb=m;this.P=[];this.log=h.Bb("PlayedSegmentsTrackerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.YNa=void 0;k=a(2);q=a(0);g=a(31);f=a(7);a(6);c.prototype.some=function(d){return this.P.some(d);};c.prototype.eba=function(){return ! !(this.P[0] && this.P[0].stream && this.Mb.jh(this.P[0].stream.nb));};c.prototype.Ry=function(d){return this.P.filter(function(h){return h.qR === d;}).reduce(function(h,m){return h + (m.endTime - m.startTime) / m.rate;},0);};c.prototype.zZ=function(d){return this.P.filter(function(h){return h.qR === d;}).reduce(function(h,m){return h + m.endTime - m.startTime;},0);};c.prototype.ssa=function(d,h){var m,l;m=this;l={};return this.P.filter(function(n){return !h || n.qR === h;}).reduce(function(n,p){var r,t,w;r=d.bind(m,p)();t=r.key;r=k.__rest(r,["key"]);p=p.endTime - p.startTime;w=l[t];w?w.duration+=p:(w=r,w.duration=p,n.push(w),l[t]=w);return n;},[]);};c.prototype.Dh=function(d,h,m){var l;m=void 0 === m?this.mj.playbackRate.value:m;l=this.P;d && h && h >= d.startTime && (d={qR:d.qR,Hc:d.Hc,track:d.track,stream:d.stream,startTime:d.startTime,endTime:h,rate:m},(h=l[l.length - 1]) && h.track === d.track && h.stream === d.stream && h.Hc === d.Hc && h.endTime === d.startTime && h.rate === d.rate?h.endTime=d.endTime:l.push(d),!1);};a=c;a=k.__decorate([k.__param(1,(0,q.u)(f.Ib)),k.__param(2,(0,q.u)(g.Wg))],a);b.YNa=a;},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t,w,v,u,x;function c(y,z,A){var B;B=this;this.Eb=y;this.j=z;this.debug=A;this.mt=this.bj=this.bE=!1;this.eca=this.ot=this.Co=void 0;this.yf=function(){var D,C,F,G,E,I;B.debug.assert(B.va,"has access to asePlaygraph");B.debug.assert(B.xd,"has access to internalLogger");B.debug.assert(B.Gw,"has access to mediaBufferGetLogFields");E=B.fq;I=null === (C=null === (D=B.jc.get()) || void 0 === D?void 0:D.fb) || void 0 === C?void 0:C.Ca;D={type:"logdata",target:"startplay",fields:{hasasereport:B.j.qP,hashindsight:!1,buffCompleteReason:E.reason,actualbw:I,initSelReason:null !== (F=E.initSelReason) && void 0 !== F?F:"unknown",bcVBufferLevelMs:E.vBufferLevelMs,bcABufferLevelMs:E.aBufferLevelMs}};(0,m.coa)({O0a:D,sl:B.sl,loadTime:B.loadTime});B.va.l3("startplay",f.ue.fr);null !== (G=B.Na) && void 0 !== G && G.Af?(B.xd.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:E},B.Gw()),B.j.fq=E,B.j.zt.set(l.eg.Re),B.oKb || (B.oKb=!0,B.j.We("pb")),B.mf.value !== k.Da.et && B.mf.value !== k.Da.Tj && B.play()):B.xd.error("Shim received buffering complete but player has no position (player " + (B.Na?"":"un") + "defined, state " + B.j.state + ")");};this.PW=function(){var D,C;B.debug.assert(B.xd,"has access to internalLogger");!1;B.Co=void 0;B.j.paused.value && B.dL && (B.dL=!1,B.j.paused.set(!1,{Ixa:!0}));null === (D=B.j.ng) || void 0 === D?void 0:D.pCb();null === (C=B.z0) || void 0 === C?void 0:C.call(B);B.z0=void 0;};this.events=new x();this.Pj=new u.Pka(this.ooa.bind(this));}Object.defineProperty(b,"__esModule",{value:!0});b.UDa=void 0;k=a(34);g=a(13);f=a(330);d=a(62);h=a(3);m=a(1406);l=a(18);n=a(19);p=a(14);r=a(6);t=a(1407);w=a(98);v=a(82);u=a(582);a(205);x=a(121).EventEmitter;c.prototype.sd=function(){var y;!1;this.mt=!1;this.jc.$R(null);this.debug.assert(this.pj,"has access to streamingEngine");this.va && this.pj.bx(this.va);this.Na && this.pj.DR(this.Na);this.pj.Pza(this.Pj.Wo(this.Eb.oa.M));this.Pj.clear();null === (y=this.lk) || void 0 === y?void 0:y.$r();};c.prototype.g4b=function(y){var z,A,B,D,C,F,G,E,I,K,L,H,P;z=y.config;A=y.yv;B=y.xd;D=y.Qe;C=y.Gw;F=y.dk;G=y.o2;y=y.CL;this.xd=B;this.log=B.G9("AseIntegrationImpl");!1;this.Gw=C;this.o2=G;this.CL=y;C=this.j.oa;this.debug.assert(C,"has a playback segment");this.debug.assert(z,"has access to config");this.debug.assert(D,"has access to utils");this.debug.assert(F,"has access to getCategoryLog");this.debug.assert(A,"has access to aseGlobals");this.debug.assert(A.pj,"has access to streamingEngine");this.debug.assert(C.Kc,"has access to parsedManifest");this.debug.assert(C.pa,"has access to manifest");this.pj=A.pj;A.Kf.set(a(200)(z),!0,F("ASE"));A.Kf.set({maxNumberTitlesScheduled:null !== (I=null === (E=z.VZb) || void 0 === E?void 0:E.maxNumberTitlesScheduled) && void 0 !== I?I:1},!0,B);z.TCb && !C.Kc.cp && 3E5 > C.pa.Tb.duration?A.Kf.M0({expandDownloadTime:!1},!0,B):A.Kf.M0({expandDownloadTime:A.Kf.Uab().expandDownloadTime},!0,B);z=C.background || z.TZb && "postplay" === C.ze?"historical":A.Kf.Uab().initBitrateSelectorAlgorithm;A.Kf.M0({initBitrateSelectorAlgorithm:z},!0,B);z=null === (P=null === (H=null === (L=null === (K=C.Ug) || void 0 === K?void 0:K.value) || void 0 === L?void 0:L.streams) || void 0 === H?void 0:H[0]) || void 0 === P?void 0:P.ef;A.Kf.M0((0,n.DYa)(! !C.ob.ei,! !C.ob.Rba,z),!0,B);B=D.RK({},(0,n.Opa)(C.ze));this.Kf=A.Kf.Xr(B);k.platform.events.emit("networkchange",C.Kc.o3b);this.bE=!0;};c.prototype.zba=function(y){var z,A;this.debug.assert(this.pj,"has access to streamingEngine");z=this.j.nl(y.ea);this.debug.assert(z.Kc,"has access to playback parsedManifest");!1;A=y.flags;this.jc.reset();this.Qd=new Set([k.$b.kb.mc,k.$b.kb.Vb]);(A.pH || A.KW) && this.Qd.delete(A.pH?k.$b.kb.mc:k.$b.kb.Vb);this.BS=[z.Kc.jGb,z.Kc.rGb];this.GX(y.ea,y.Dy);this.PQb(y);this.YO();};c.prototype.Oz=function(y){var z;!1;null === (z=this.va) || void 0 === z?void 0:z.Oz(y);};c.prototype.Izb=function(y){var z,A,B,D;z=this;A=y.loadTime;B=y.sl;this.debug.assert(this.va,"has access to asePlaygraph");this.debug.assert(this.Na,"has access to asePlayer");!1;this.sl=B;this.loadTime=A;y=this.va.events;D=this.Na.events;y.addListener("error",function(C){!1;"NFErr_MC_StreamingFailure" === C.error && (z.xd.trace("receiving an unrecoverable streaming error: " + JSON.stringify(C)),z.xd.trace("StreamingFailure, buffer status:" + JSON.stringify(z.Gw())),(0,d.wg)(function(){z.j.de(h.W.xjb,{Ea:C.nativeCode,ac:C.errormsg,Wl:C.httpCode,mda:C.networkErrorCode});}));});y.addListener("logdata",function(C){var F;!1;"string" === typeof C.target && "object" === typeof C.fields && (C.fields.aseApiVersion=null === (F=z.va) || void 0 === F?void 0:F.gJ,(0,m.coa)({O0a:C,sl:B,loadTime:A}));});y.addListener("bufferingStarted",function(){!1;z.j.zt.set(l.eg.Md);});y.addListener("bufferingComplete",function(C){!1;z.fq=C;});this.j.paused.addListener(function(C){var F;z.debug.assert(z.xd,"has access to internalLogger");null !== (F=C.Kn) && void 0 !== F && F.Ixa || !z.bE || (C.newValue && z.mf.value === k.Da.$c?(z.mf.set(k.Da.Rh),z.Vd.emit("paused",{type:"paused",pts:z.Vd.Ac})):C.newValue || z.mf.value !== k.Da.Rh || (z.mf.set(k.Da.$c),z.Vd.emit("playing",{type:"playing",pts:z.Vd.Ac})));C.newValue || (z.dL=!1);z.xd.info("Paused changed",{From:C.oldValue,To:C.newValue,MediaTime:(0,w.Sj)(z.j.mediaTime.value)});});this.j.Nc.addListener(function(C){var F,G,E,I;if(z.bE)if((z.debug.assert(z.xd,"has access to internalLogger"),C.Kn && C.Kn.GVa))z.xd.trace("Not processing already applied track",null === (F=C.newValue) || void 0 === F?void 0:F.trackId);else {I=C.newValue;z.Nfa({Lo:I.Wy,toJSON:function(){return I.Lh;}})?z.xd.trace("ASE accepted the audio track switch",null === (E=C.newValue) || void 0 === E?void 0:E.trackId):(z.xd.trace("ASE rejected the audio track switch",null === (G=C.newValue) || void 0 === G?void 0:G.trackId),C.oldValue && C.oldValue.Wy !== I.Wy && z.j.Nc.set(C.oldValue,{GVa:!0}));}});y.addListener("serverSwitch",function(C){var F;!1;z.j.fireEvent(l.ka.l2,C);if("video" === C.mediatype)F=k.$b.kb.Vb;else "audio" === C.mediatype && (F=k.$b.kb.mc);(0,p.Gd)(F) && z.o2(C.segmentId,C.server,F);});y.addListener("streamSelected",function(C){var F,G,E,I;!1;G=(null === (F=z.va) || void 0 === F?void 0:F.QB(C.position)).In.V;F=[];if(C.mediaType === k.$b.kb.Vb){E=z.j.T4a(C.streamId);I=z.j.Df;F=z.j.zF();}else C.mediaType === k.$b.kb.mc && (E=z.j.H4a(C.streamId),I=z.j.Uh,F=z.j.lLb());E && I?(!1,I.set(E,{sJ:G,VW:C.bandwidth})):z.xd.error("no matching stream for streamSelected event",{streamId:C.streamId,mediaType:C.mediaType,streamList:F,cachedManifest:z.j.pJ});});y.addListener("segmentNormalized",function(C){var F,G;!1;F=C.segmentId;G=Math.floor(C.viewableContentEnd.V);C=Math.floor(C.viewableEarliestContentEnd.V);G=(0,r.Vc)(G);C=(0,r.Vc)(C);if(F=z.j.nl(F))(F.sB=G,F.SUb=C);z.j.Rw || (z.j.Rw=G);});D.addListener("segmentPresenting",function(C){var F,G,E,I;!1;z.debug.assert(z.va,"has access to asePlaygraph");z.debug.assert(z.Na,"has access to asePlayer");z.debug.assert(z.CL,"has access to segmentPresentingHandler");G=z.va.QB(C.position);E=void 0;I=null === (F=C.inner) || void 0 === F?void 0:F.position;I && z.pd && (E=z.pd.P[I.ea]);z.CL({M:G.M,TO:E,uK:!1});z.j.fireEvent(l.ka.BL,{type:"segmentPresenting",position:{segmentId:C.position.ea,offset:C.position.offset},playerTimestamp:C.playerTimestamp,metrics:C.metrics});!1;z.ot=z.Na.Qn();});D.addListener("ptsChanged",function(){!1;z.Vd.emit("skipped");});y.addListener("locationSelected",function(C){!1;z.j.fireEvent(l.ka.C_,C);});y.addListener("aseReportEnabled",function(){!1;z.j.qP=!0;});y.addListener("aseReport",function(C){!1;z.j.fireEvent(l.ka.wO,C);});y.addListener("mediaRequestComplete",function(C){C=null === C || void 0 === C?void 0:C.N1b;(C=null === C || void 0 === C?void 0:C.cadmiumResponse) && z.j.fireEvent(l.ka.gF,{response:C,L:z.j.oa.L});});};c.prototype.Qn=function(){var y,z,A,B,D,C,F,G,E;G=null === (y=this.Na) || void 0 === y?void 0:y.dba();y=(null !== (z=this.ot) && void 0 !== z?z:G && this.Na.Qn()) || ({});z=y.G;G=y.Cd;E=y.EC;y=y.Qq;return {id:String(null === z || void 0 === z?void 0:z.id),df:null !== (A=null === G || void 0 === G?void 0:G.V) && void 0 !== A?A:0,ud:null !== (B=null === z || void 0 === z?void 0:z.Yd.V) && void 0 !== B?B:Infinity,Uc:null !== (D=null === z || void 0 === z?void 0:z.Ng.V) && void 0 !== D?D:0,lf:null !== (C=null === E || void 0 === E?void 0:E.V) && void 0 !== C?C:Infinity,Rd:null !== (F=null === y || void 0 === y?void 0:y.V) && void 0 !== F?F:0};};c.prototype.laa=function(){return {df:0};};c.prototype.Aba=function(){var y,z;this.debug.assert(this.va,"has access to asePlaygraph");y={};z=this.va.My();y.vbuflmsec=z.totalvbuflmsecs;y.vbuflbytes=z.vbuflbytes;y.abuflmsec=z.totalabuflmsecs;y.abuflbytes=z.abuflbytes;return y;};c.prototype.paused=function(){};c.prototype.Mya=function(){!1;this.Vd.emit("playbackRateChanged",{type:"playbackRateChanged",pts:this.Vd.Ac});};c.prototype.OW=function(y,z){var A;this.debug.assert(this.j.pa,"has access to playback manifest");A=this.BS[k.$b.kb.mc];return y.L === this.j.pa.Tb.L?A:this.VJb(this.j.pa.Tb.zv[A],z);};c.prototype.VJb=function(y,z){var A,B,D;this.debug.assert(this.xd,"has access to internalLogger");!1;A=z.filter(function(C){return C.profile === y.profile;}).sort(function(C,F){var G,E,I;G=(C.language === y.language || "zxx" === C.language?0:1) - (F.language === y.language || "zxx" === F.language?0:1);0 === G && (G=(C.Ti === y.Ti?0:1) - (F.Ti === y.Ti?0:1));if(0 === G){C=(null !== (E=C.oc) && void 0 !== E?E:0) - (null !== (I=F.oc) && void 0 !== I?I:0);}else C=G;return C;});B=0;D=ra(A).next().value;D && z.some(function(C,F){if(C === D)return (B=F,!0);});!1;return B;};c.prototype.Nfa=function(y){var z,A,B;z=this;this.debug.assert(this.xd,"has access to internalLogger");this.debug.assert(this.va,"has access to asePlaygraph");this.debug.assert(this.Na,"has access to asePlayer");this.debug.assert(this.j.pa,"has access to playback manifest");if(this.hM)return (!1,!1);if(!this.j.pa.Tb.audio_tracks.some(function(D,C){if(D.track_id === y.Lo)return (B=C,!0);}))return (!1,!1);!1;this.Co=B;null === (A=this.j.ng) || void 0 === A?void 0:A.j5b();this.j.paused.value || (this.Na.pause([k.$b.kb.mc]),this.dL=!0,this.j.paused.set(!0,{Ixa:!0}));this.debug.aoa(this.Co,"has access to valid requestedAudioTrackIndex number");this.BS[k.$b.kb.mc]=this.Co;(this.va.Ez({vu:this.OW.bind(this)},{vu:function(){return z.BS[k.$b.kb.Vb];}}) || this.dL) && this.Na.resume(this.dL?[k.$b.kb.mc]:void 0);this.Rs(this.PW);return !0;};c.prototype.yp=function(){var y;!1;this.mf.set(k.Da.sg);null === (y=this.va) || void 0 === y?void 0:y.l3("intrplay",f.ue.yp);this.Vd.emit("underflow",{type:"underflow",pts:this.Vd.Ac});this.Rs(this.yf);};c.prototype.Ms=function(y,z){this.iD.Ms(y,z);};c.prototype.open=function(){this.mt || (this.debug.assert(this.va,"has access to asePlaygraph"),this.debug.assert(this.Na,"has access to asePlayer"),!1,this.mt=this.bj=!0,this.va.open(),this.debug.assert(this.Hz,"invalid start position relative to playgraph"),this.va.SC(this.Hz),this.mf.set(k.Da.Md),this.Rs(this.yf),this.va.AO(this.Na),this.uTb());};c.prototype.play=function(){this.debug.assert(this.va,"has access to asePlaygraph");this.debug.assert(this.Na,"has access to asePlayer");!1;0 !== this.va.state && (this.Na.resume(this.dL?[k.$b.kb.mc]:void 0),this.mf.set(k.Da.$c),this.Vd.emit("playing",{type:"playing",pts:this.Vd.Ac}));};c.prototype.stop=function(){var y;!1;this.mf.set(k.Da.et);null === (y=this.Na) || void 0 === y?void 0:y.pause();this.events.emit("stop");this.Vd.emit("paused",{type:"paused",pts:this.Vd.Ac});};c.prototype.flush=function(){this.debug.assert(this.va,"has access to asePlaygraph");this.debug.assert(this.pj,"has access to streamingEngine");!1;this.mt && this.mf.value !== k.Da.Tj && this.mf.value !== k.Da.et && this.stop();this.va.l3("endplay",f.ue.rq);this.va.Mf();this.pj.Ji.save();this.pj.fp.save();};c.prototype.Kv=function(y){var z;this.debug.assert(this.va,"has access to asePlaygraph");z=k.O.Sa(y);return (z=this.va.Rq(z,{jfb:!0,ifb:!0}))?this.va.la.P[z.ea].ya + Number(z.offset.V.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert playerPts: " + y);};c.prototype.WO=function(y,z){this.debug.assert(this.va,"has access to asePlaygraph");this.debug.assert(this.xd,"has access to internalLogger");!1;this.va.la.P[y] || (y=this.IY(z));this.debug.S8(y,"has access to segmentId");y={ea:y,offset:k.O.Sa(z - this.va.la.P[y].ya)};if(y=this.va.gK(y))return y.V;!1;return z;};c.prototype.Woa=function(y,z){var A,B,D;this.debug.assert(this.va,"has access to asePlaygraph");this.debug.assert(this.Na,"has access to asePlayer");!1;z && this.va.la.P[z] || (z=null !== (A=this.IY(y)) && void 0 !== A?A:null === (B=this.Na) || void 0 === B?void 0:B.Xh.ea);z=this.j.nl(z);y={In:k.O.Sa(y),M:z.L};return null === (D=this.va.On(y)) || void 0 === D?void 0:D.ud;};c.prototype.zB=function(y){var z;z=void 0 === z?!0:z;!1;this.bj?Number.isFinite(y) && (this.debug.assert(this.Na,"has access to asePlayer"),z?this.Na.q2(y):this.Na.VAa(y)):this.fail("Must call open prior to drmReady");};c.prototype.bba=function(){var y;return null !== (y=this.Na) && void 0 !== y && y.Af?this.Na.ap(this.Eb.oa.M):!1;};c.prototype.Aj=function(y){!1;return this.Na?this.Na.Aj(k.O.Sa(y)):(!1,!1);};c.prototype.uu=function(y,z){var A;this.debug.assert(this.va,"has access to asePlaygraph");this.debug.assert(this.Na,"has access to asePlayer");!1;z && this.va.la.P[z] || (z=null !== (A=this.IY(y)) && void 0 !== A?A:this.Eb.Yh);this.debug.S8(z,"has access to segmentId");this.debug.assert(this.va.la.P[z],"segment exists in playgraph map");y={ea:z,offset:k.O.Sa(y - this.va.la.P[z].ya)};this.va.SC(y);this.Na.resume();this.mf.set(k.Da.Md);this.Rs(this.yf);y=this.va.$ea(y);this.debug.assert(y,"Valid position must be provided for seek");return y.offset.V;};c.prototype.addEventListener=function(y,z){this.events.addListener(y,z);return this;};c.prototype.removeEventListener=function(y,z){this.events.removeListener(y,z);return this;};c.prototype.HS=function(y,z){var A;!1;A={};this.va.Oj((A[y]=z,A));};c.prototype.Ct=function(y,z){var A,B;this.debug.assert(this.xd,"has access to internalLogger");this.debug.assert(this.va,"has access to asePlaygraph");this.debug.assert(this.Na,"has access to asePlayer");!1;A=this.Qn().id;B=this.va.WP(A,y);if(z){if(!B.Cib)return (this.xd.warn("chooseNextSegment, seamless transition, invalid destination: " + (y + " for current segment: " + A)),!1);if(void 0 !== B.YQ)return (!1,B.YQ === y);this.va.oj(A,y,!1,z);return !0;}if(void 0 !== B.YQ)return (!1,!1);B.GO && (this.Na.reset(),this.va.oj(A,y,!1,z),this.Na.resume(),this.mf.set(k.Da.Md),this.Rs(this.yf));return ! !B.GO;};c.prototype.oj=function(y,z,A,B){this.debug.assert(this.va,"has access to asePlaygraph");!1;this.va.oj(y,z,A,B);};c.prototype.xp=function(){var y;this.debug.assert(this.xd,"has access to internalLogger");!1;y=this.Vd.Ac;!1;this.Vd.emit("skipped",{type:"skipped",pts:y});return new k.lI(Promise.resolve()).nAa;};c.prototype.IY=function(y){var z,A,B,D,C,F,G,E;this.debug.assert(this.va,"has access to asePlaygraph");this.debug.assert(this.xd,"has access to internalLogger");!1;z=this.va.la;A=[];B=Infinity;for(D in z.P){C=z.P[D];F=C.ya;C=C.za;G=y < Number(null !== C && void 0 !== C?C:Infinity);if(F <= y && G)(!1,A.push(D));else if((F=Math.min(Math.abs(y - F),Math.abs(y - C)),F < B)){B=F;E=D;}}y=A[0] || E;this.debug.S8(y,"has access to locatedSegmentId");!1;return y;};c.prototype.uTb=function(){var y,z;y=this;this.debug.assert(this.j.ic,"has access to mediaElement");z=this.j.ic.ca;this.debug.assert(z,"has access to videoElement");z.addEventListener("play",function(){y.mf.value === k.Da.Rh && (y.mf.set(k.Da.$c),y.Vd.emit("playing",{type:"playing",pts:y.Vd.Ac}));});z.addEventListener("pause",function(){y.mf.value === k.Da.$c && (y.mf.set(k.Da.Rh),y.Vd.emit("paused",{type:"paused",pts:y.Vd.Ac}));});};c.prototype.fail=function(y){var z;null === (z=this.va) || void 0 === z?void 0:z.events.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:y});};c.prototype.Rs=function(y){var z,A,B,D,C,F,G,E;z=this;if(y !== this.PW && this.hM)(!1,this.z0=y);else {E=null === (A=this.Na) || void 0 === A?void 0:A.gz.value;A=null === (B=this.va) || void 0 === B?void 0:B.Lf.value;B=!0 === E;E=A === k.Zc.Uj;!1;null === (D=this.Na) || void 0 === D?void 0:D.gz.removeListener(this.k9a);null === (C=this.va) || void 0 === C?void 0:C.Lf.removeListener(this.cXa);B && E?y():(this.k9a=function(){return z.Rs(y);},this.cXa=function(){return z.Rs(y);},null === (F=this.Na) || void 0 === F?void 0:F.gz.addListener(this.k9a),null === (G=this.va) || void 0 === G?void 0:G.Lf.addListener(this.cXa));}};c.prototype.$1a=function(y){var z,A;z=this;y=this.j.nl(y);return Promise.resolve(null !== (A=y.pa) && void 0 !== A?A:this.yea(y)).then(function(B){B=B.Tb;return {pa:B,Cj:B.aua && !B.jK,config:z.Kf,Qd:[].concat(ka(z.Qd))};});};c.prototype.yea=function(y){var z,A,B,D,C;z=this;!1;B=Promise.resolve();if(y.zi){D=y.zi.cL;(C=null === (A=this.j.Oy(D).pa) || void 0 === A?void 0:A.Tb)?y.zi.Sda=C:B=this.Pj.Wo(D).Qs.then(function(F){return F.pa;}).then(function(F){y.zi.Sda=F;}).catch(function(){return z.j.de(h.W.NM,h.S.Ijb);});}return B.then(function(){return z.j.yea(y);}).then(function(){return y.pa;});};c.prototype.ooa=function(y,z){this.debug.assert(this.eca,"Auxiliary viewable config request needs to happen after main viewable");this.debug.assert(void 0 !== this.eca.ja,"Auxiliary viewable xid is the same as main viewable, needs to be defined");this.j.eFb(y,z,this.eca.ja);};c.prototype.GX=function(y,z){var A,B,D,C,F;A=this;this.debug.assert(this.pj,"has access to streamingEngine");!1;B=this.j.nl(y);D=B.zi;C={M:B.L,Yj:null === D || void 0 === D?void 0:D.Yj};this.eca=z;if(!this.Pj.has(C)){this.Pj.store(C,{Zoa:function(){},equals:function(G){return G && G.M === C.M && (z.ja === G.ja || !G.ja || !z.ja);},get Qs() {F || (F=A.$1a(y));return F;},set Qs(G) {F=G;},events:new g.EventEmitter(),ja:z.ja,M:C.M,Wv:!1,fgb:!1});this.Kf.BB && this.pj.QG(this.Pj.Wo(C.M,D?{TW:{Yj:D.Yj,cL:D.cL}}:void 0),{ja:z.ja,mp:z.mp,eF:z.AB});}};c.prototype.Pz=function(y){var z,A;this.debug.assert(this.pj,"has access to streamingEngine");!1;z=this.j.nl(y);A=z.zi;z={M:z.L,Yj:null === A || void 0 === A?void 0:A.Yj};A=this.Eb.kf(y).M;if(!this.Pj.has(z))return Promise.resolve();z=this.Pj.Wo(A);z.Qs=this.$1a(y);return this.pj.Pz(z);};c.prototype.WP=function(y){var z;this.debug.assert(this.Na,"has access to asePlayer");this.debug.assert(this.va,"has access to asePlaygraph");return this.va.WP(null === (z=this.Na.Qn().G) || void 0 === z?void 0:z.id,y);};c.prototype.PQb=function(y){var z,A,B;z=this;A=y.Dy;B=y.ea;this.debug.assert(this.pj,"has access to streamingEngine");this.debug.assert(this.xd,"has access to internalLogger");!1;y=this.j.nl(B);y=this.Eb.Gaa(y);B=y.P[B];this.debug.assert(B,"segment exists");this.Hz=(0,t.wZ)(B.M,y,this.j.da,B.ya);A=Object.create(this.Kf,{AB:{value:A.AB}});this.mf=new v.uc(k.Da.Sh);this.va=this.pj.dJ(y,this.Kf.mbb,A,this.Pj);this.iD=new k.oI(this.xd);A=this.va.TE(this.iD);y=this.va.SE();this.va.qfa(y,A);this.va.Ez({vu:function(){return z.BS[k.$b.kb.mc];}},{vu:function(){return z.BS[k.$b.kb.Vb];}});this.dL=!1;};c.prototype.YO=function(){var y,z;y=this;this.debug.assert(this.pj,"has access to streamingEngine");!1;z=Object.create(this.Kf,{Qd:{value:[].concat(ka(this.Qd))},oZ:{value:function(){return y.Daa();}}});this.Vd=Object.create(new g.EventEmitter(),{Ac:{get:function(){y.debug.aoa(y.j.mediaTime.value,"has access to mediaTime.value");return k.O.Sa(y.j.mediaTime.value);}},playbackRate:{get:function(){return Math.max(y.j.playbackRate.value,.01);}},nZ:{value:function(){y.debug.assert(y.j.ic,"has access to mediaElement");return y.j.ic;}}});this.Na=this.pj.mVa(this.Vd,z);};c.prototype.Daa=function(){this.lk || (this.lk=new k.platform.MediaSource(this.Vd),this.lk.dd || (this.lk.dd=k.platform.MediaSource.dd));return this.lk;};Ya.Object.defineProperties(c.prototype,{hM:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.Co;}},jc:{configurable:!0,enumerable:!0,get:function(){this.debug.assert(this.pj,"has access to streamingEngine");return this.pj.jc;}},pd:{configurable:!0,enumerable:!0,get:function(){for(var y,z=null === (y=this.va) || void 0 === y?void 0:y.pd;null === z || void 0 === z?0:z.pd;){z=z.pd;}return null === z || void 0 === z?void 0:z.la;}},mYa:{configurable:!0,enumerable:!0,get:function(){for(var y=this.Na;null === y || void 0 === y?0:y.YZ;){y=y.YZ;}return y;}},JFb:{configurable:!0,enumerable:!0,get:function(){var y,z,A;if(null === (y=this.mYa) || void 0 === y?0:y.Af){A=(y=this.mYa.Xh) && (null === (z=this.pd) || void 0 === z?void 0:z.P[y.ea]);if(A)return {In:k.O.Sa(y.offset.V + A.ya),M:A.M};}}}});b.UDa=c;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.coa=void 0;c=a(14);b.coa=function(k){var g,f,d,h;g=k.sl;f=k.loadTime;k=k.O0a;d=(0,c.Oa)(f)?f:0;h=g[k.target] || ({});g[k.target] !== h && (g[k.target]=h);Object.entries(k.fields).forEach(function(m){var l,n,p,r;l=ra(m);m=l.next().value;l=l.next().value;if("object" !== typeof l || null === l)h[m]=l;else {n=l.type;if("count" === n)(void 0 === h[m] && (h[m]=0),++h[m]);else if(void 0 !== l.value){if("array" === n){n=h[m];p=l.adjust;r=l.value;n || (n=h[m]=[]);p && 0 < p.length && p.forEach(function(t){r[t]-=d || 0;});n.push(r);}else h[m]="sum" === n?(h[m] || 0) + l.value:l.value;}else h[m]=l;}});};},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.wZ=void 0;c=a(34);k=a(24);b.wZ=function(g,f,d,h){return f.P[f.xe].ya === h?(g=(0,c.VO)(f,g,c.O.Sa(d)),(0,k.Db)(g,"has valid start position relative to playgraph"),g):{ea:f.xe,offset:c.O.ib};};},function(q,b,a){var k,g,f,d,h,m,l;function c(n,p,r,t,w,v,u,x,y,z){var A;A=this;this.o7b=n;this.j=p;this.id=r;this.height=t;this.width=w;this.jZb=v;this.kZb=u;this.size=x;this.uw=y;this.urls=z;this.type=k.uj.xCa;this.retry=!0;this.state=h.Cr.S5;this.Lh={};this.U8={};this.R_b=function(B){if(B.fa)try{A.data=A.o7b.parse(B.content);A.state=h.Cr.PH;A.log.trace("TrickPlay parsed",{Images:A.data.images.length},A.Lh);A.j.fireEvent(m.ka.j3);}catch(D){A.state=h.Cr.dMa;A.log.error("TrickPlay parse failed.",D);}else (A.state=h.Cr.S5,A.log.error("TrickPlay download failed.",(0,l.hA)(B),A.Lh));};this.log=(0,f.hj)(p,"TrickPlay");}Object.defineProperty(b,"__esModule",{value:!0});b.WQa=void 0;k=a(96);g=a(19);f=a(9);d=a(112);h=a(591);m=a(18);l=a(3);c.prototype.tMb=function(n){if(this.data && (this.uw && (n+=this.uw),n=Math.floor(n / this.data.header.Pgb),0 <= n && n < this.data.images.length))return {image:this.data.images[n],time:n * this.data.header.Pgb,height:this.height,width:this.width,pixelAspectHeight:this.jZb,pixelAspectWidth:this.kZb};};c.prototype.$P=function(){switch(this.state){case h.Cr.PH:return "downloaded";case h.Cr.LOADING:return "loading";case h.Cr.cU:return "downloadfailed";case h.Cr.dMa:return "parsefailed";default:return "notstarted";}};c.prototype.download=function(){var n;n=this.COb();n?(this.state=h.Cr.LOADING,this.sHb(n)):this.retry=!1;};c.prototype.getState=function(){return this.state;};c.prototype.COb=function(){var n,p,r;n=this;p=Object.keys(this.urls).find(function(t){return (n.U8[n.urls[t]] || 0) <= g.config.k7b;});if(p){r=this.urls[p];(r in this.U8)?this.U8[r]++:this.U8[r]=1;return {url:r,zy:p};}};c.prototype.sHb=function(n){var p,r;this.log.trace("Downloading",n.url,this.Lh);r=this.Fsa(n.zy);n={responseType:d.OZ,Hc:r,url:n.url,track:this,xu:null !== (p=null === r || void 0 === r?void 0:r.type) && void 0 !== p?p:"unknown",cF:"trickplay"};this.j.lba.download(n,this.R_b);};c.prototype.Fsa=function(n){return this.j.Ai.find(function(p){return p && p.id === n;});};b.WQa=c;},function(q,b,a){var k;function c(g,f,d,h){this.Gqa=g;this.debug=f;this.Ma=d;this.j=h;this.Rda=[];this.fda={};this.Iqa={};this.Rra=!1;this.sgb=1;this.sEa=7.8125;}Object.defineProperty(b,"__esModule",{value:!0});b.sGa=void 0;k=a(6);a(18);a(14);a(112);c.prototype.register=function(g,f){this.debug.assert(!(0 <= this.Rda.indexOf(g)),"panel already registered");this.fda[g]=f;this.Rda.push(g);};c.prototype.F$a=function(g){var f;f=this;this.Iqa[g]=!0;this.Rra || (this.Rra=!0,setTimeout(function(){return f.hKb();},0));};c.prototype.cNb=function(g){return (g=this.fda[g])?g():void 0;};c.prototype.hZ=function(){var g;g=this.j.$da;return g?g.hZ():[];};c.prototype.addEventListener=function(g,f){this.Gqa.addListener(g,f);this.fda[g] && this.F$a(g);};c.prototype.removeEventListener=function(g,f){this.Gqa.removeListener(g,f);};c.prototype.getTime=function(){return this.Ma.ec().ia(k.sa);};c.prototype.hKb=function(){this.Rra=!1;for(var g=this.Rda.length,f;g--;){f=this.Rda[g];this.Iqa[f] && (this.Iqa[f]=!1,this.Gqa.rd(f + "changed",{getModel:this.fda[f]}));}};b.sGa=c;},function(q,b,a){var k,g,f,d,h,m,l;function c(n,p){var r;r=this;this.Xn=n;this.fw=p;this.chb=function(t){var w,v,u,x,y,z,A;w=r.sgb++;v=t.request.cF || "dl";u=r.r4a(v,"start");if(u){x=t.request.sC;y=x.stream.R.Sq;x=ra(x.stream.R.$i).next().value;if(y || x)if((y=null !== y && void 0 !== y?y:x.G.id,!r.Dfb.has(y))){z=r.M3a(y);A=t.ou;r.Xn.mark(u,z,A?v + "-" + A + "-" + w:v);t.t8(function(){var B,D;B=r.r4a(v,"end");D=A?v + "-" + A + "-" + w:v;B && r.Xn.mark(B,z,D);});}}};this.sgb=0;this.Dfb=new Set();this.EAa=new Map();p.uY && this.D9b();}Object.defineProperty(b,"__esModule",{value:!0});b.vLa=void 0;q=a(2);k=a(0);g=a(64);f=a(83);d=a(6);h=a(112);a=a(43);m={start:{video:g.Ua.vT,audio:g.Ua.rT},end:{video:g.Ua.uT,audio:g.Ua.qT}};c.prototype.N3a=function(n){var r,t,w,v,u,x,y,z;function p(A){return (0,d.timestamp)(r.yVa((0,d.timestamp)(A),n,!0));}r=this;t=new Set();w=n.Hd;v=n.ja;u=void 0 === n.xfb?null:n.xfb;x=n.ea;y=this.Xn.s3a(v);z=x && this.M3a(x);z && y.push.apply(y,ka(this.Xn.s3a(z)));this.Xn.Ocb(n.ja);z && this.Xn.Ocb(z);x && this.Dfb.add(x);x=[];("pr_ats" in w) && x.push({name:g.Ua.m6,Du:p(w.pr_ats),ja:v,jg:"request-pre-manifest"});("ats" in w) && x.push({name:g.Ua.k6,Du:p(w.ats),ja:v,jg:"request-manifest"});("pr_at" in w) && x.push({name:g.Ua.l6,Du:p(w.pr_at),ja:v,jg:"request-pre-manifest"});("at" in w) && x.push({name:g.Ua.j6,Du:p(w.at),ja:v,jg:"request-manifest"});("lg" in w) && x.push({name:g.Ua.i6,Du:p(w.lg),ja:v,jg:"request-license"});("lr" in w) && (x.push({name:g.Ua.h6,Du:p(w.lr),ja:v,jg:"request-license"}),x.push({name:g.Ua.W3,Du:p(w.lr),ja:v,jg:"apply-license"}));("ld" in w) && x.push({name:g.Ua.V3,Du:p(w.ld),ja:v,jg:"apply-license"});("tt_start" in w) && x.push({name:g.Ua.tT,Du:p(w.tt_start),ja:v,jg:"request-timed-text"});("tt_comp" in w) && x.push({name:g.Ua.sT,Du:p(w.tt_comp),ja:v,jg:"request-timed-text"});return x.concat(y).map(function(A){return r.N6b(A,n);}).filter(function(A){return A.ts <= (null !== u && void 0 !== u?u:A.ts)?("end" === A.step && t.add(A.eventId),!0):!1;}).filter(function(A){return "start" !== A.step || t.has(A.eventId)?!0:!1;}).sort(function(A,B){return A.ts - B.ts;}).reduce(function(A,B){var D;D=B.eventName;delete B.eventName;D && (A[D]=B);return A;},{});};c.prototype.Yxb=function(n,p,r){return (void 0 === r?0:r)?n.ia(d.sa) + p.Ij.ia(d.sa):n.ia(d.sa) - p.Ij.ia(d.sa);};c.prototype.yVa=function(n,p,r){r=void 0 === r?!1:r;if(p.mo)if(r)n.ia(d.sa) + p.mo;else return n.ia(d.sa) - p.mo;return this.Yxb(n,p,r);};c.prototype.N6b=function(n,p){var r,t;r=n.jg;t=n.name;return {eventName:this.yWb(t,r),eventId:r || t,ts:this.yVa(n.Du,p),comp:this.YY(t),cat:this.ELb(t),step:this.lOb(t)};};c.prototype.yWb=function(n,p){switch(n){case g.Ua.tT:case g.Ua.sT:case g.Ua.rT:case g.Ua.qT:case g.Ua.vT:case g.Ua.uT:return n + "-" + p;default:return n;}};c.prototype.YY=function(n){switch(n){case g.Ua.m6:case g.Ua.l6:case g.Ua.k6:case g.Ua.j6:return "manifest";case g.Ua.i6:case g.Ua.h6:case g.Ua.oka:case g.Ua.nka:case g.Ua.P4:case g.Ua.O4:case g.Ua.W3:case g.Ua.V3:return "license";case g.Ua.tT:case g.Ua.sT:case g.Ua.rT:case g.Ua.qT:case g.Ua.vT:case g.Ua.uT:case g.Ua.Pga:case g.Ua.Oga:return "buffering";case g.Ua.vja:case g.Ua.uja:return "playback";default:return null;}};c.prototype.ELb=function(n){switch(n){case g.Ua.m6:case g.Ua.l6:case g.Ua.k6:case g.Ua.j6:return "aws";case g.Ua.i6:case g.Ua.h6:return "mixed";case g.Ua.vja:case g.Ua.uja:case g.Ua.oka:case g.Ua.nka:case g.Ua.P4:case g.Ua.O4:case g.Ua.W3:case g.Ua.V3:case g.Ua.Pga:case g.Ua.Oga:return "device";case g.Ua.tT:case g.Ua.sT:case g.Ua.rT:case g.Ua.qT:case g.Ua.vT:case g.Ua.uT:return "cdn";default:return null;}};c.prototype.lOb=function(n){switch(n){case g.Ua.m6:case g.Ua.vja:case g.Ua.k6:case g.Ua.i6:case g.Ua.Pga:case g.Ua.tT:case g.Ua.rT:case g.Ua.vT:case g.Ua.oka:case g.Ua.P4:case g.Ua.W3:return "start";case g.Ua.l6:case g.Ua.uja:case g.Ua.j6:case g.Ua.h6:case g.Ua.nka:case g.Ua.O4:case g.Ua.V3:case g.Ua.Oga:case g.Ua.sT:case g.Ua.qT:case g.Ua.uT:return "end";default:return null;}};c.prototype.r4a=function(n,p){if((n in m[p]))return m[p][n];};c.prototype.L7b=function(){h.Bf.removeEventListener(h.kba,this.chb);};c.prototype.D9b=function(){this.L7b();h.Bf.addEventListener(h.kba,this.chb);};c.prototype.M3a=function(n){var p;if(this.EAa.has(n))return this.EAa.get(n);p=Date.now();this.EAa.set(n,p);return p;};l=c;l=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(f.pU)),q.__param(1,(0,k.u)(a.Dp))],l);b.vLa=l;},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r,t,w,v,u,x,y,z,A,B,D,C,F,G,E,I,K,L,H,P,N,J,M,O;Object.defineProperty(b,"__esModule",{value:!0});b.oYa=void 0;q=a(0);c=a(552);k=a(1412);g=a(109);f=a(1413);d=a(564);h=a(1414);m=a(569);l=a(1415);n=a(570);p=a(1416);r=a(322);t=a(1417);w=a(93);v=a(1418);u=a(1419);x=a(41);y=a(3);z=a(1420);A=a(1421);B=a(1422);D=a(59);C=a(1423);F=a(619);G=a(1424);E=a(549);I=a(1425);K=a(1426);L=a(1427);H=a(490);P=a(1428);N=a(81);J=a(618);M=a(1429);O=a(1430);b.oYa=new q.Nd(function(Q){Q(D.Jp).to(C.IMa);Q(c.XMa).to(k.WMa);Q(F.DMa).to(G.CMa);Q(E.FMa).to(I.EMa);Q(g.Hja).to(f.YMa);Q(J.ZMa).Tf(function(T){return function(){var V;V=T.hb.get(N.rA);return V && V.vib?T.hb.resolve(O.rNa):T.hb.resolve(M.$Ma);};});Q(d.BMa).to(h.AMa);Q(m.oNa).to(l.nNa);Q(n.RMa).to(p.QMa);Q(r.Gja).to(t.SMa);Q(w.cQa).to(v.bQa);Q(w.kQa).to(u.jQa);Q(w.yJa).to(z.xJa);Q(w.YPa).to(A.XPa);Q(w.mHa).to(B.lHa);Q(L.Rpb).to(K.aNa);Q(H.PMa).to(P.OMa);Q(w.cia).Tf(function(T){return function(V){switch(V){case w.xr.start:return T.hb.get(w.cQa);case w.xr.stop:return T.hb.get(w.kQa);case w.xr.m_:return T.hb.get(w.yJa);case w.xr.splice:return T.hb.get(w.YPa);case w.xr.xP:return T.hb.get(w.mHa);}throw new x.Ad(y.W.fpb,void 0,void 0,void 0,void 0,"The event key was invalid - " + V);};});});},function(q,b,a){var k,g,f,d,h;function c(m){return d.Nk.call(this,m,g.W.Wnb,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.WMa=void 0;q=a(2);k=a(0);g=a(3);f=a(76);d=a(99);a=a(59);na(c,d.Nk);c.prototype.mh=function(m,l){var n;n=this;return this.send(m,{url:"/" + f.ri.qwa,name:f.ri.qwa,Hs:f.ri.qwa},l).then(function(p){return p.result;}).catch(function(p){throw n.wq(p);});};c.prototype.Mt=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};h=c;h=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(a.Jp))],h);b.WMa=h;},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t;function c(w,v,u,x,y){w=d.Nk.call(this,w,g.W.NM,3) || this;w.platform=v;w.I_=u;w.ZSb=x;w.lUb=y;return w;}Object.defineProperty(b,"__esModule",{value:!0});b.YMa=void 0;q=a(2);k=a(109);g=a(3);f=a(76);a(205);d=a(99);h=a(59);m=a(49);l=a(43);n=a(139);p=a(322);r=a(0);a=a(618);na(c,d.Nk);c.prototype.mh=function(w,v){var u,x,y,z;u=this;x=v.dw === k.so.aI?"prefetch/manifest":f.ri.pa;y=f.ri.pa;z=v.dw === k.so.u6?l.Nx.DOa:l.Nx.BU;return this.lUb().transform(v,z).then(function(A){var B,D;A=ra(A);B=A.next().value;D=A.next().value;!1;"licensedManifest" === D.Oo && (x=v.dw === k.so.aI?"prefetch/licensedManifest":"licensedManifest",y=f.ri.$Sb);return u.send(w,{url:D.Oo,name:y,Hs:x},B,void 0,void 0,z).then(function(C){var F;C=u.I_.create(C.result);F=C.Tb.Tz.map(function(G){return G.Jh;}).filter(Boolean);D.yB && (0 < F.length?(F=u.ZSb.hhb(F),D.yB.gVa(F),C.yB=D.yB,C.v6a=v.dw === k.so.aI,C.u6a=!0):D.yB.close());C.LW=D.LW;C.F3=D.F3;!1;return C;});}).catch(function(A){!1;throw u.wq(A);});};c.prototype.Mt=function(){return Promise.reject(Error("Links are not supported with manifest command"));};t=c;t=q.__decorate([(0,r.X)(),q.__param(0,(0,r.u)(h.Jp)),q.__param(1,(0,r.u)(m.Kp)),q.__param(2,(0,r.u)(n.OM)),q.__param(3,(0,r.u)(p.Gja)),q.__param(4,(0,r.u)(a.ZMa))],t);b.YMa=t;},function(q,b,a){var k,g,f,d,h;function c(m){return d.Nk.call(this,m,g.W.KM,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.AMa=void 0;q=a(2);k=a(0);g=a(3);f=a(76);d=a(99);a=a(59);na(c,d.Nk);c.prototype.mh=function(){return Promise.reject(Error("Links are required with acquire command"));};c.prototype.Mt=function(m,l,n){var p;p=this;l={url:l.kZ(n.K7a).href,name:f.ri.Jh,Hs:"ldl" === n.K7a?"prefetch/license":f.ri.Jh};return this.send(m,l,n.inputs,"drmSessionId").then(function(r){r=r.result;p.mBb(r);return r;}).catch(function(r){throw p.wq(r);});};c.prototype.mBb=function(m){m.forEach(function(l){if(!l.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};h=c;h=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(a.Jp))],h);b.AMa=h;},function(q,b,a){var k,g,f,d,h;function c(m){return d.Nk.call(this,m,g.W.jka,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.nNa=void 0;q=a(2);k=a(0);g=a(3);f=a(76);d=a(99);a=a(59);na(c,d.Nk);c.prototype.mh=function(m,l){var n;n=this;return this.send(m,{url:"/bundle",name:f.ri.Jh,Hs:"release/license"},l).then(function(p){return p.result;}).catch(function(p){throw n.wq(p);});};c.prototype.Mt=function(){return Promise.reject(Error("Links are unsupported with release"));};h=c;h=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(a.Jp))],h);b.nNa=h;},function(q,b,a){var k,g,f;function c(d){this.La=d;}Object.defineProperty(b,"__esModule",{value:!0});b.QMa=void 0;q=a(2);k=a(0);g=a(38);f=a(6);c.prototype.d7b=function(d){var h;h=this.La.Nf.ia(f.Mp);return {inputs:d.fl.map(function(m){return {drmSessionId:m.sessionId,clientTime:h,challengeBase64:m.dataBase64,xid:d.ja.toString()};}),K7a:"standard" === d.Bg.toLowerCase()?"license":"ldl"};};c.prototype.g7b=function(d){var h,m;h=this;m=[];return d.Ve.map(function(l){m.push(l.id);return {url:h.dAb(l.EK,l.y_),echo:"drmSessionId",params:{drmSessionId:l.id,xid:d.ja.toString()}};});};c.prototype.dAb=function(d,h){return "/releaseLicense?drmLicenseContextId=" + d + (h?"&licenseId=" + h:"");};a=c;a=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(g.Wi))],a);b.QMa=a;},function(q,b,a){var k,g,f;function c(d,h){this.Ui=d;this.DE=h;}Object.defineProperty(b,"__esModule",{value:!0});b.SMa=void 0;q=a(2);k=a(0);g=a(35);a=a(36);c.prototype.hhb=function(d){var h,m;h=this;m=d.map(function(l){return l.links.releaseLicense.href;}).map(function(l){return h.Ui.P0(l.substring(l.indexOf("?") + 1));});return {fa:!0,Ve:d.map(function(l,n){return {id:l.drmSessionId,EK:m[n].drmlicensecontextid,y_:m[n].licenseid};}),gk:d.map(function(l){return {data:h.DE.decode(l.licenseResponseBase64),sessionId:l.drmSessionId};})};};f=c;f=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(g.si)),q.__param(1,(0,k.u)(a.Vi))],f);b.SMa=f;},function(q,b,a){var k,g,f,d,h;function c(m){return f.Us.call(this,m,g.W.vqb,d.xr.start,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.bQa=void 0;q=a(2);k=a(0);g=a(3);f=a(176);d=a(93);a=a(59);na(c,f.Us);h=c;h=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(a.Jp))],h);b.bQa=h;},function(q,b,a){var k,g,f,d,h;function c(m){return f.Us.call(this,m,g.W.wqb,d.xr.stop,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.jQa=void 0;q=a(2);k=a(0);g=a(3);f=a(176);d=a(93);a=a(59);na(c,f.Us);h=c;h=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(a.Jp))],h);b.jQa=h;},function(q,b,a){var k,g,f,d,h;function c(m){return f.Us.call(this,m,g.W.Iia,d.xr.m_,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.xJa=void 0;q=a(2);k=a(0);g=a(3);f=a(176);d=a(93);a=a(59);na(c,f.Us);h=c;h=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(a.Jp))],h);b.xJa=h;},function(q,b,a){var k,g,f,d,h;function c(m){return f.Us.call(this,m,g.W.sPa,d.xr.splice,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.XPa=void 0;q=a(2);k=a(0);g=a(3);f=a(176);d=a(93);a=a(59);na(c,f.Us);h=c;h=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(a.Jp))],h);b.XPa=h;},function(q,b,a){var k,g,f,d,h;function c(m){return f.Us.call(this,m,g.W.Fmb,d.xr.xP,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.lHa=void 0;q=a(2);k=a(0);g=a(3);f=a(176);d=a(93);a=a(59);na(c,f.Us);c.prototype.j9=function(m){return Object.assign(Object.assign({},f.Us.prototype.j9.call(this,m)),{action:m.action});};h=c;h=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(a.Jp))],h);b.lHa=h;},function(q,b,a){var k,g,f,d,h,m,l,n,p;function c(r,t,w,v,u,x,y,z,A){this.wi=r;this.Bf=t;this.Ni=w;this.fHb=v;this.VB=u;this.x8b=x;this.O1b=z;this.GJ=A;}Object.defineProperty(b,"__esModule",{value:!0});b.IMa=void 0;q=a(2);k=a(0);g=a(182);f=a(81);d=a(589);h=a(586);m=a(84);l=a(72);n=a(383);p=a(118);a=a(97);c=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(g.c4)),q.__param(1,(0,k.u)(l.Ix)),q.__param(2,(0,k.u)(f.rA)),q.__param(3,(0,k.u)(h.LMa)),q.__param(4,(0,k.u)(m.kA)),q.__param(5,(0,k.u)(n.eRa)),q.__param(6,(0,k.u)(p.E4)),q.__param(7,(0,k.u)(d.qNa)),q.__param(8,(0,k.u)(a.dA))],c);b.IMa=c;},function(q,b,a){var k,g,f,d,h;function c(m){return d.Nk.call(this,m,g.W.Tjb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.CMa=void 0;q=a(2);k=a(0);g=a(3);f=a(76);d=a(99);a=a(59);na(c,d.Nk);c.prototype.mh=function(m,l,n){var p;p=this;return this.send(m,{url:"/" + f.ri.bind,name:f.ri.bind,Hs:f.ri.bind},l,void 0,n).then(function(r){return r.result;}).catch(function(r){throw p.wq(r);});};c.prototype.Mt=function(){return Promise.reject(Error("Links are unsupported with bind"));};h=c;h=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(a.Jp))],h);b.CMa=h;},function(q,b,a){var k,g,f,d,h;function c(m){return d.Nk.call(this,m,g.W.Ujb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.EMa=void 0;q=a(2);k=a(0);g=a(3);f=a(76);d=a(99);a=a(59);na(c,d.Nk);c.prototype.mh=function(m,l,n){var p;p=this;return this.send(m,{url:"/bindDevice",name:f.ri.bind,Hs:f.ri.bind},l,void 0,n).then(function(r){return r.result;}).catch(function(r){throw p.wq(r);});};c.prototype.Mt=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};h=c;h=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(a.Jp))],h);b.EMa=h;},function(q,b,a){var k,g,f,d,h;function c(m){return d.Nk.call(this,m,g.W.spb,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.aNa=void 0;q=a(2);k=a(0);g=a(3);f=a(76);d=a(99);a=a(59);na(c,d.Nk);c.prototype.mh=function(m,l,n){var p;p=this;return this.send(m,{url:"/" + f.ri.ping,name:f.ri.ping,Hs:f.ri.ping},l,void 0,n).then(function(r){return r.result;}).catch(function(r){throw p.wq(r);});};c.prototype.Mt=function(){return Promise.reject(Error("Links are unsupported with ping"));};h=c;h=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(a.Jp))],h);b.aNa=h;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rpb="PboPingCommandSymbol";},function(q,b,a){var k,g,f,d,h;function c(m){return d.Nk.call(this,m,g.W.Rmb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.OMa=void 0;q=a(2);k=a(0);g=a(3);f=a(76);d=a(99);a=a(59);na(c,d.Nk);c.prototype.mh=function(m,l){var n;n=this;return this.send(m,{url:"/generateScreenshots",name:f.ri.pa,Hs:"generateScreenshots"},l).then(function(p){return p.result;}).catch(function(p){throw n.wq(p);});};c.prototype.Mt=function(m,l,n){var p;p=this;l={url:l.kZ("generateScreenshots").href,name:f.ri.pa,Hs:"generateScreenshots"};return this.send(m,l,n).then(function(r){return r.result;}).catch(function(r){throw p.wq(r);});};h=c;h=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(a.Jp))],h);b.OMa=h;},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t,w,v,u,x;function c(y,z,A,B,D,C,F,G,E,I){this.Ni=y;this.platform=z;this.config=A;this.VAb=B;this.uZb=D;this.Kq=C;this.jX=F;this.La=G;this.Nca=E;this.Qo=I;}Object.defineProperty(b,"__esModule",{value:!0});b.$Ma=void 0;q=a(2);k=a(0);g=a(109);f=a(12);d=a(536);h=a(534);m=a(617);l=a(80);n=a(49);p=a(38);r=a(6);t=a(180);w=a(81);v=a(385);u=a(30);x=a(61);c.prototype.transform=function(y,z){var A,B,D,C,F,G,E,I;A=this;B=y.ob;D=Object.assign({},B.Z8,B.ho);C={};F=y.M;C[F]={unletterboxed:! !D.preferUnletterboxed};G=this.config();E=G.G8b?30:25;G=G.Ju?this.Kq.hMb():Promise.resolve(this.Nca.gw());I={ze:null === B || void 0 === B?void 0:B.ze};return Promise.all([this.Qo.m4a(I),this.Qo.o4a(I),this.Qo.tZ(),this.Qo.Faa(),this.FLb(y.ja,z),this.jMb(y),G]).then(function(K){var L,H,P,N,J,M,O,Q,T,V,da,pa,xa,ya,sa,X;L=ra(K);H=L.next().value;P=L.next().value;N=L.next().value;J=L.next().value;M=L.next().value;K=L.next().value;O=L.next().value;L=H.Laa().concat(P.Laa()).concat(A.config().rx).concat(["BIF240","BIF320"]).filter(Boolean);J=J?J.DEVICE_SECURITY_LEVEL:void 0;X="postplay" === B.ze?!0:! !D.isUIAutoPlay;N={type:"standard",manifestVersion:A.Ni.w0a?"v2":"v1",viewableId:F,profiles:L,flavor:y.dw,drmType:O,drmVersion:E,usePsshBox:!0,isBranching:! !y.ob.ei,useHttpsStreams:!0,supportsUnequalizedDownloadables:A.config().c6b,imageSubtitleHeight:d.Dka.T3a(),uiVersion:A.Ni.Mz,uiPlatform:A.Ni.gga,clientVersion:A.platform.version,platform:null === (Q=A.config().we) || void 0 === Q?void 0:Q.version,osVersion:null === (V=null === (T=A.config().we) || void 0 === T?void 0:T.os) || void 0 === V?void 0:V.version,osName:null === (pa=null === (da=A.config().we) || void 0 === da?void 0:da.os) || void 0 === pa?void 0:pa.name,supportsPreReleasePin:A.config().cs.X5b,supportsWatermark:A.config().cs.Y5b,packageId:A.tNb(B),deviceSecurityLevel:J,videoOutputInfo:N,titleSpecificData:C,preferAssistiveAudio:! !D.assistiveAudioPreferred,preferredTextLocale:D.preferredTextLocale,preferredAudioLocale:D.preferredAudioLocale,isUIAutoPlay:X,challenge:M,isNonMember:A.Ni.z6a,pin:B.Vab,desiredVmaf:A.config().nib?A.config().s_a:A.config().t_a,desiredSegmentVmaf:A.config().nib?A.config().s_a:A.config().t_a,requestSegmentVmaf:A.config().T1b,supportsPartialHydration:A.Ni.uP,contentPlaygraph:y.ob.ei?[]:A.Ni.zJ,auxiliaryManifestToken:y.ob.ei?void 0:null === (xa=y.zi) || void 0 === xa?void 0:xa.Yj,originalPlaybackContextId:!y.ob.ei && (null === (ya=y.zi) || void 0 === ya?0:ya.Yj)?null === (sa=y.zi) || void 0 === sa?void 0:sa.mya:void 0,liveMetadataFormat:"INDEXED_SEGMENT_TEMPLATE"};B.U0a && (N.extraParams=B.U0a);B.r_a && (N.desiredDownloadables=B.r_a);B.bAa && (N.requestReference=B.bAa);Q={Oo:K?"licensedManifest":"manifest",yB:null === K || void 0 === K?void 0:K.tc,LW:H,F3:P};K && (K={drmSessionId:K.tc.KB() || "session",clientTime:A.La.k2.ia(r.Mp),challengeBase64:K.dpa},N.challenges={"default":[K]},N.profileGroups=[{name:"default",profiles:L}],N.licenseType=y.Bg == x.Zi.Ep?"limited":"standard",y.ja && (N.xid=y.ja.toString()));A.Ni.uP || (N.showAllSubDubTracks=A.config().cs.E4b || ! !D.showAllSubDubTracks,A.Ni.p0a && y.dw === g.so.u6 && (N.maxSupportedLanguages=2));y.Zfa && (N.originalPlaybackContextId=y.Zfa.mya,N.requiredAudioTrackId=y.Zfa.X1b,N.requiredTextTrackId=y.Zfa.$1b);return [N,Q];});};c.prototype.tNb=function(y){if(this.config().wea.enabled){if(void 0 !== y.Pq)return y.Pq;if(void 0 !== this.config().wea.Pq)return Number(this.config().wea.Pq);}};c.prototype.FLb=function(y,z){var A;A=this;return this.VAb.s2a(z).then(function(B){var D;D=y && A.uZb.ANb(y);D && D.Qr("cad");return B;});};c.prototype.jMb=function(y){var z;if(void 0 === y.Bg || !this.config().Ju)return Promise.resolve(void 0);z=y.Bg === x.Zi.Ar && this.Ni.By;return y.Bg === x.Zi.Ep && this.Ni.lF || z?this.jX.Dta(y.Bg):Promise.resolve(void 0);};a=c;a=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(w.rA)),q.__param(1,(0,k.u)(n.Kp)),q.__param(2,(0,k.u)(f.jd)),q.__param(3,(0,k.u)(h.VEa)),q.__param(4,(0,k.u)(m.Wja)),q.__param(5,(0,k.u)(l.Mx)),q.__param(6,(0,k.u)(t.n4)),q.__param(7,(0,k.u)(p.Wi)),q.__param(8,(0,k.u)(v.eja)),q.__param(9,(0,k.u)(u.cA))],a);b.$Ma=a;},function(q,b,a){var k,g,f,d,h,m;function c(l,n,p,r){this.platform=l;this.config=n;this.jX=p;this.Qo=r;}Object.defineProperty(b,"__esModule",{value:!0});b.rNa=void 0;q=a(2);k=a(0);g=a(12);f=a(49);d=a(180);h=a(30);m=a(61);c.prototype.transform=function(l){var n,p,r;n=this;p=l.ob;r={ze:void 0};return Promise.all([this.Qo.m4a(r),this.Qo.o4a(r),this.jX.Dta(m.Zi.Ar)]).then(function(t){var w,v;w=ra(t);t=w.next().value;v=w.next().value;w=w.next().value;return [{viewableId:l.M,packageId:p.Pq,assetId:p.boa,challenge:w.dpa,audioProfiles:t.Laa(),textProfiles:n.config().rx,trickplayProfiles:["BIF240","BIF320"],videoProfiles:v.Laa(),audioLanguages:p.czb,textLanguages:p.v6b,videoLanguages:p.Jib?[p.Jib]:void 0,requestReference:p.bAa,additionalAudioAssets:p.Vxb,additionalTextAssets:p.Xxb},{yB:null === w || void 0 === w?void 0:w.tc,Oo:"studioManifest",LW:t,F3:v}];});};a=c;a=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(f.Kp)),q.__param(1,(0,k.u)(g.jd)),q.__param(2,(0,k.u)(d.n4)),q.__param(3,(0,k.u)(h.cA))],a);b.rNa=a;},function(q,b,a){var c,k,g,f,d,h;Object.defineProperty(b,"__esModule",{value:!0});b.transports=void 0;q=a(0);c=a(316);k=a(587);g=a(1432);f=a(1433);d=a(1434);h=a(43);b.transports=new q.Nd(function(m){m(c.F6).to(d.TQa).ha();m(k.CLa).to(g.BLa);m(k.$Pa).to(f.ZPa);m(k.UQa).Tf(function(l){return function(n){var p;return l.hb.get(c.F6).sfa(null !== (p=null === n || void 0 === n?void 0:n.hWb) && void 0 !== p?p:h.Nx.BU)?l.hb.get(k.CLa):l.hb.get(k.$Pa);};});});},function(q,b,a){var k,g,f,d,h,m;function c(l,n,p){var r;r=this;this.fG=n;this.profile=p;this.log=l.Bb("MslTransport");this.fG().then(function(t){return r.jda=t;});}Object.defineProperty(b,"__esModule",{value:!0});b.BLa=void 0;q=a(2);k=a(0);g=a(7);f=a(172);d=a(6);a=a(78);h={license:!0};c.prototype.send=function(l,n){var p,r;p=this;r={vxa:Object.assign({Bf:l.Bf,log:l.log,profile:this.profile},l.Hzb),method:l.Oo,url:l.url.href,body:JSON.stringify(n),timeout:l.timeout.ia(d.sa),xib:this.profile,E1b:!h[l.Oo],r$a:! !h[l.Oo],Ej:!0,Vea:l.oAa,headers:l.headers};!1;return this.fG().then(function(t){return t.send(r).catch(function(w){var v;if(!w.error)throw (w.Sc=w.Ea || w.Sc,w);v=w.error;v.LG=w.LG;p.log.error("Error sending MSL request",{mslCode:v.vC,subCode:v.Sc,data:v.data,message:v.message});throw v;});});};c.prototype.Tpa=function(){var l;return {userTokens:null === (l=this.jda) || void 0 === l?void 0:l.e0.getUserIdTokenKeys()};};m=c;m=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(g.Ib)),q.__param(1,(0,k.u)(f.qU)),q.__param(2,(0,k.u)(a.bN))],m);b.BLa=m;},function(q,b,a){var k,g,f,d;function c(h,m){this.Bf=m;this.log=h.Bb("SslTransport");}Object.defineProperty(b,"__esModule",{value:!0});b.ZPa=void 0;q=a(2);k=a(0);g=a(6);f=a(7);a=a(72);c.prototype.send=function(h,m){var l,n;l=this;n={url:h.url.href,cF:"nq-" + h.Oo,vbb:JSON.stringify(m),z9:h.timeout.ia(g.sa),headers:h.headers,withCredentials:!0,xu:"pbo"};!1;return new Promise(function(p,r){l.Bf.download(n,function(t){t.fa?p(t):r(t);});}).then(function(p){return {status:"success",body:p.content};}).catch(function(p){var r;if(!p.error)throw (p.Sc=p.Ea || p.Sc,p);r=p.error;r.LG=p.LG;l.log.error("Error sending SSL request",{subCode:r.Sc,data:r.content,message:r.message});throw r;});};c.prototype.Tpa=function(){return {};};d=c;d=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(f.Ib)),q.__param(1,(0,k.u)(a.Ix))],d);b.ZPa=d;},function(q,b,a){var k,g,f,d,h;function c(m){return g.Ef.call(this,m,"TransportConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.TQa=void 0;q=a(2);k=a(0);g=a(52);f=a(37);d=a(51);h=a(43);na(c,g.Ef);c.prototype.sfa=function(m){var l,n;l=this.IS;n=this.DVa;switch(m){case h.Nx.BU:return l;case h.Nx.DOa:return l && !n;case h.Nx.Rob:return !1;}};Ya.Object.defineProperties(c.prototype,{IS:{configurable:!0,enumerable:!0,get:function(){return !0;}},DVa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;q.__decorate([d.config(d.Td,"usesMsl")],a.prototype,"IS",null);q.__decorate([d.config(d.Td,"allowRequestsWithoutMsl")],a.prototype,"DVa",null);a=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(f.qn))],a);b.TQa=a;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.Jm=void 0;q=a(0);c=a(601);k=a(1436);b.Jm=new q.Nd(function(g){g(c.NJa).to(k.MJa);});},function(q,b,a){var k,g,f,d,h,m,l,n;function c(p,r,t,w,v){this.KJ=p;this.kl=r;this.config=t;this.NQ=w;this.Zd=v;}Object.defineProperty(b,"__esModule",{value:!0});b.MJa=void 0;q=a(2);k=a(0);g=a(130);f=a(1437);d=a(1438);h=a(68);m=a(12);l=a(146);a=a(125);c.prototype.create=function(p,r,t){return p?new f.OJa(this.config(),this.kl,this.Zd,r,t,this.KJ,this.NQ()):new d.GJa(this.config,this.kl,this.Zd,r,t);};n=c;n=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(g.I4)),q.__param(1,(0,k.u)(h.Vu)),q.__param(2,(0,k.u)(m.jd)),q.__param(3,(0,k.u)(l.mU)),q.__param(4,(0,k.u)(a.pI))],n);b.MJa=n;},function(q,b,a){var k,g,f,d,h,m,l,n,p,r;function c(t,w,v,u,x,y,z){u=l.oT.call(this,u,x) || this;u.config=t;u.kl=w;u.Zd=v;u.KJ=y;u.Oca=z;u.log=(0,g.hj)(u.j,"LicenseBroker");u.w_=new Set();u.Zwa=!1;return u;}Object.defineProperty(b,"__esModule",{value:!0});b.OJa=void 0;q=a(2);k=a(3);g=a(9);f=a(368);d=a(6);h=a(0);m=a(620);l=a(621);n=a(61);p=a(18);r=a(50);na(c,l.oT);c.prototype.Ida=function(){var t,w;t=this;w=this.j.oa;this.w_.has(w.L) || (this.w_.add(w.L),this.vyb(w).catch(function(){return t.adb(w);}).then(function(){return t.VVa(w);}).catch(function(v){return t.UVa(w,v);}).catch(function(v){return t.de(v.code,v,v.fe);}));};c.prototype.vyb=function(t){var w;w=this;return Promise.all([this.Zd.o2a(t.L),this.KJ()]).then(function(v){var u,x;v=ra(v);u=v.next().value;x=v.next().value;return u.lfa.then(function(y){var z;z=w.Oca.mediaKeys;if(z && z !== y.mediaKeys)return (w.log.warn("Cannot use cached license session as its uses different MediaKeys"),Promise.reject());"manifest" === u.source && (z=w.n3a(t),x.Q9a(z,y));return y;}).then(function(y){return w.J8(y,t,u.source);});}).catch(function(v){w.log.warn("eme not in cache",v);throw v;});};c.prototype.J8=function(t,w,v){this.Obb(t,w);w.oJ=v;this.Oca.jVa(t.mediaKeys);return t.Wna();};c.prototype.BKb=function(t){var w;w={};t.forEach(function(v){w[(0,f.V_a)(v.V_)]=v.time.ia(d.sa);});return w;};c.prototype.Obb=function(t,w){var v;v=this;w.gf=t;t.B3b(function(u){v.de(u.code,u,u.fe);});};c.prototype.VVa=function(t){this.log.info("Successfully applied license for xid: " + t.ja + ", viewable: " + t.L + ", segment: " + t.ea);this.WB(t);this.Zwa?this.O$(t.L):this.setMediaKeys(t);};c.prototype.UVa=function(t,w){this.WB(t);throw w;};c.prototype.WB=function(t){t.gf && t.WB(this.BKb(t.gf.Hd));};c.prototype.n3a=function(t){var w;w=void 0;t.Ug.value && (w=(0,r.ata)(t.Ug.value.streams));return {type:this.yaa(!1),initData:t.Zw.map(function(v){return (0,g.At)(v);}),context:{ca:this.ic.ca,bca:w},wk:{L:t.L,ja:t.ja,lj:t.lj,Bm:t.Bm,rl:t.pa.rl}};};c.prototype.adb=function(t){var w;w=this;return this.KJ().then(function(v){var u;u=w.n3a(t);w.w_.add(t.L);return v.Jh(u,w.Oca).then(function(x){w.Obb(x,t);w.j.fireEvent(p.ka.z_,{L:t.L});return x.Wna();});});};c.prototype.setMediaKeys=function(t){var w;w=this;if(this.Zwa)this.log.trace("Media Keys already set");else try{this.ic.ca?(this.Zwa=!0,this.ic.ca.setMediaKeys(t.gf.mediaKeys).then(function(){w.O$(t.L);}).catch(function(v){v=w.t4a(v);w.de(k.W.YM,v,v.Xf);})):this.O$(t.L);}catch(v){this.de(k.W.YM,v,void 0);}};c.prototype.MC=function(){var t,w;t=this;w=this.j.oa.gf;return w?this.KJ().then(function(v){return v.release(w,t.Oca).then(function(u){t.log.trace("Successfully released the license");return u.close();}).catch(function(u){t.log.error("Unable to release the license",u);});}):Promise.resolve();};c.prototype.$cb=function(t){var w;w=this;t=void 0 === t?this.j:t;return this.adb(t).then(function(){return w.VVa(t);}).catch(function(v){return w.UVa(t,v);});};c.prototype.yaa=function(t){return this.kl.OY?n.Zi.Ep:t?n.Zi.Ep:n.Zi.Ar;};Ya.Object.defineProperties(c.prototype,{hG:{configurable:!0,enumerable:!0,get:function(){return "encrypted";}},Sn:{configurable:!0,enumerable:!0,get:function(){return this.config.Sn;}}});a=c;q.__decorate([m.kca],a.prototype,"hG",null);a=q.__decorate([(0,h.X)()],a);b.OJa=a;},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t,w;function c(v,u,x,y,z){y=p.oT.call(this,y,z) || this;y.config=v;y.kl=u;y.Zd=x;y.log=(0,g.hj)(y.j,"LegacyLicenseBroker");y.Sn=y.config().Sn;y.config().Tbb?(0,d.F6a)()?y.rga=!0:y.log.error("Promise based eme requested but platform does not support it",{browserua:h.XH}):y.rga=!1;return y;}Object.defineProperty(b,"__esModule",{value:!0});b.GJa=void 0;q=a(2);k=a(3);g=a(9);f=a(171);d=a(46);h=a(11);m=a(0);l=a(620);n=a(49);p=a(621);r=a(61);t=a(6);na(c,p.oT);c.prototype.dZa=function(v){var u;u=void 0 === u?this.j:u;return new this.gu.CM(v,function(x){return u.A9.ZJ(x);},function(x){return u.A9.release(x);},{Zf:!1,Yl:!1});};c.prototype.UE=function(v){var u,x,y,z,A,B;u=this;v=void 0 === v?this.j:v;x=a(63).No;this.gu.CM || this.de(k.W.KM,k.S.umb);y=(0,g.hj)(v,"Eme");z=this.dZa(y);A=g.Ga.get(f.JU);B=A.D9(v.Nc.value.streams);A=A.J9(v.Ug.value.streams);return this.gu.EM(y,function(D){return v.We(D);},{Zf:!1,Yl:!1,La:{getTime:x},Qm:z,q1:! !this.rga,ca:this.ic.ca,hD:this.config().m0a,onerror:function(D,C,F){return u.de(D,C,F);},Lxa:function(){},gL:!0,bzb:B,e9b:A,bwa:this.kl.H8.ia(t.sa)});};c.prototype.setMediaKeys=function(v){var u;u=this;return this.rga?new Promise(function(x,y){if(u.ic.ca)u.ic.ca.setMediaKeys(v).then(function(){x();}).catch(function(z){var A;A=u.t4a(z);y({fa:!1,code:k.W.YM,Sc:A.Ea,fe:A.Xf,ac:A.ac,message:"Set media keys is a failure",cause:z});});else return Promise.resolve();}):Promise.resolve();};c.prototype.M0a=function(v){return {code:v.code,subCode:v.Sc,extCode:v.fe,edgeCode:v.So,message:v.message,errorDetails:v.ac,errorData:v.PJ,state:v.state};};c.prototype.YAa=function(v,u,x){var z,A,B;function y(){A.qL().catch(function(D){z.log.error("Unable to set the license",z.M0a(D));D.cause && D.cause.ac && (D.ac=D.ac?D.ac + D.cause.ac:D.cause.ac);z.de(D.code,D,D.fe);});}z=this;x=void 0 === x?this.j:x;A=x.gf;this.log.info("Setting the license");B=u?function(){return Promise.resolve();}:function(){return A.Jh(z.yaa(!1),v);};return (u?function(){return A.J8(z.ic.ca);}:function(){return A.create(z.Sn).then(function(){return Promise.resolve();});})().then(B).then(function(){return z.setMediaKeys(A.mediaKeys);}).then(function(){z.log.info("license set");z.O$(x.L);z.ic.Wib.then(function(){z.config().UF && (u || z.config().OY) && (z.Vcb=pb.setTimeout(y,z.config().UF));});}).catch(function(D){z.log.error("Unable to set the license",z.M0a(D));D.cause && D.cause.ac && (D.ac=D.ac?D.ac + D.cause.ac:D.cause.ac);if(u)throw Error(D && D.message?D.message:"failed to set license");z.de(D.code,D,D.fe);});};c.prototype.MC=function(){return Promise.resolve();};c.prototype.Ida=function(){var u;function v(){var x;u.j.gf=u.UE();x=[];u.j.Zw.forEach(function(y){x.push((0,g.At)(y));});u.YAa(x);}u=this;this.w_ || (this.w_=!0,this.gu.EM?this.j.Zw?this.config().tY && this.config().Vw?this.Zd.o2a(this.j.L).then(function(x){u.j.gf=x;return x.kDa.then(function(){var y;y=[];u.j.Zw.forEach(function(z){y.push((0,g.At)(z));});return u.YAa(y,!0).then(function(){var z;if(x.ufc)u.de(k.W.ymb);else {z=(0,g.hj)(u.j,"Eme");x.Whb({log:z,kp:function(A){return u.j.We(A);}},{Qm:u.dZa(z),onerror:function(A,B,D){return u.de(A,B,D);}});u.j.WB(x.Hd || ({}));u.j.oJ="videopreparer";}});});}).catch(function(x){u.log.warn("eme not in cache",x);v();}):v():(this.log.error("Missing the PSSH on the video track, closing the player"),this.de(k.W.Epb)):this.de(k.W.KM,k.S.vmb));};c.prototype.$cb=function(v){var u;v=void 0 === v?this.j:v;v.gf=this.UE();u=[];v.Zw.forEach(function(x){u.push((0,g.At)(x));});return this.YAa(u,!1,v);};c.prototype.yaa=function(v){return this.config().OY?r.Zi.Ep:v?r.Zi.Ep:r.Zi.Ar;};Ya.Object.defineProperties(c.prototype,{gu:{configurable:!0,enumerable:!0,get:function(){return g.Ga.get(n.d6);}},hG:{configurable:!0,enumerable:!0,get:function(){return this.rga?"encrypted":this.ic.cHa + "needkey";}}});w=c;q.__decorate([l.kca],w.prototype,"gu",null);q.__decorate([l.kca],w.prototype,"hG",null);w=q.__decorate([(0,m.X)()],w);b.GJa=w;},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r,t,w,v,u;Object.defineProperty(b,"__esModule",{value:!0});b.Mh=void 0;q=a(0);c=a(338);k=a(1440);g=a(339);f=a(1445);d=a(126);h=a(1447);m=a(1448);l=a(174);n=a(622);p=a(1449);r=a(623);t=a(1451);w=a(84);v=a(624);u=a(1452);b.Mh=new q.Nd(function(x){x(c.aka).to(k.oOa).ha();x(g.cka).to(f.AOa).ha();x(d.$M).to(h.mOa).ha();x(l.dI).to(m.jOa).ha();x(n.uOa).to(p.tOa).ha();x(r.yOa).Tf(function(y){var z;z=y.hb;return function(A){return new t.zOa(A,z.get(w.kA),z.get(l.dI));};});x(v.KJa).Tf(function(y){var z;z=y.hb;return function(A,B,D){return new u.LJa(A,B,D,z.get(l.dI),z.get(d.$M));};});});},function(q,b,a){var k,g,f,d,h,m,l,n,p;function c(r,t,w,v,u,x,y){this.mg=r;this.wra=t;this.Jj=w;this.uCa=v;this.IZb=u;this.KZb=x;this.JZb=y;}Object.defineProperty(b,"__esModule",{value:!0});b.oOa=void 0;q=a(2);k=a(0);g=a(1441);f=a(7);d=a(174);h=a(386);m=a(622);l=a(488);n=a(623);a=a(339);c.prototype.create=function(r){return new g.pOa(r,this.mg,this.wra,this.Jj,this.uCa,this.IZb,this.KZb,this.JZb);};p=c;p=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(f.Ib)),q.__param(1,(0,k.u)(h.IT)),q.__param(2,(0,k.u)(d.dI)),q.__param(3,(0,k.u)(l.RQa)),q.__param(4,(0,k.u)(m.uOa)),q.__param(5,(0,k.u)(n.yOa)),q.__param(6,(0,k.u)(a.cka))],p);b.oOa=p;},function(q,b,a){var k,g,f;function c(d,h,m,l,n,p,r,t){this.uCa=n;this.fDa=t;this.LY=!1;l.qga && (d=new f.qOa().f7b(d));this.Eb=r(d);this.Dl=new g.BOa(this.Eb);this.Dl.reb(this.Eb.oa.M);this.log=h.Bb("PlaygraphManager");this.dc=m.create();this.Pw=p.create(this.Eb,this.Dl,this.log,this.dc);this.j4b();}Object.defineProperty(b,"__esModule",{value:!0});b.pOa=void 0;k=a(18);g=a(1442);f=a(1444);c.prototype.DNb=function(){return this.Eb.jea;};c.prototype.Lsa=function(){return this.Eb.oa;};c.prototype.A2a=function(){return this.Eb.Yh;};c.prototype.eK=function(){return this.Eb.dm;};c.prototype.oj=function(d){for(var h=[],m=0;m < arguments.length;++m){h[m - 0]=arguments[m];}this.Eb.oj.apply(this.Eb,ka(h));};c.prototype.SBb=function(d){for(var h=[],m=0;m < arguments.length;++m){h[m - 0]=arguments[m];}this.Eb.fWa(h);};c.prototype.Oz=function(d){this.Eb.dm=d;};c.prototype.Oj=function(d,h){this.Eb.Oj(d,h);};c.prototype.Wta=function(d,h,m,l){var n,p;m=void 0 === m?{}:m;l=void 0 === l?!0:l;if(d !== this.Eb.Yh)throw Error("Invalid currentSegmentId");if(-1 === Object.keys(null !== (n=this.eK().P[d].next) && void 0 !== n?n:{}).indexOf(h))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: " + d + " -> " + h);this.Teb();null === (p=m.ho) || void 0 === p?void 0:p.isUIAutoPlay;return this.Pw.Xta(h,m,l);};c.prototype.isReady=function(){return this.Pw.isReady();};c.prototype.addListener=function(d,h,m){this.dc.addListener(d,h,m);};c.prototype.removeListener=function(d,h){this.dc.removeListener(d,h);};c.prototype.Xo=function(){return this.Pw.Xo();};c.prototype.Wb=function(){return this.Pw.cK();};c.prototype.lFb=function(d,h,m){var l;d=void 0 === d?this.eK().xe:d;h=void 0 === h?{}:h;l=this.fDa.qZa(this);this.m_b(null !== d && void 0 !== d?d:this.eK().xe,h,m);return l;};c.prototype.Sxb=function(d){var h;this.log.info("Adding segment - movieId: " + d.L + ", startPts: " + d.da + ", logicalEnd: " + d.ik);h=Object.assign({},d.Nb,d.da?{da:d.da}:{},d.ik?{ik:d.ik}:{});this.Mfb(d.L,h,d.pa);d=this.Pw.tVa(d);this.Teb();return d;};c.prototype.transition=function(d){var h;h=this.Eb.qZ(this.Eb.Yh);return h?this.Wta(this.Eb.Yh,h,d):(this.log.error("Next segment is not defined"),Promise.reject());};c.prototype.close=function(d){return this.Pw.close(d);};c.prototype.m_b=function(d,h,m){var l;void 0 === d && (d=null === (l=this.eK()) || void 0 === l?void 0:l.xe);(h || m) && this.Mfb(this.eK().P[d].M,null !== h && void 0 !== h?h:{},m);this.Pw.lL(d);};c.prototype.Mfb=function(d,h,m){m && this.Dl.rO(d,m);this.Dl.Hxb(d,h);};c.prototype.j4b=function(){var d;d=this;this.Eb.M5b(function(){d.Dl.lz();d.Pw.lz();});this.Eb.N5b(function(h){d.Pw.dya(h);});this.Eb.L5b(function(h){d.Pw.YK(h);});this.addListener(k.eI.h2,function(){return d.RXb();});this.addListener(k.Qa.$5a,function(h){return d.FXb(h);});};c.prototype.Teb=function(){var d;d=this;this.LY || (this.Wb().Ana(k.ka.BL,function(h){return d.mG(h);}),this.LY=!0);};c.prototype.FXb=function(d){var h;h=this;this.Pw.thb(d).catch(function(){return h.dc.rd(k.Qa.error,d.e3());});};c.prototype.RXb=function(){var d;d=this.Wb().getError();d?this.dc.rd(k.Qa.HO,d):(this.dc.rd(k.Qa.Y8),this.dc.rd(k.Qa.An),this.dc.rd(k.Qa.sx),this.dc.rd(k.Qa.Zm),this.dc.rd(k.Qa.j3),this.dc.rd(k.Qa.HO));};c.prototype.mG=function(d){var h,m,l;!1;h=d.metrics;if(h){m=this.Wb();l=m.nl(d.position.segmentId);h=m.nl(h.srcsegment);this.uCa.T_b(d,l,h,! !m.O3a().ei);}};b.pOa=c;},function(q,b,a){var k;function c(g){this.la=g;this.PS={};this.lz();}Object.defineProperty(b,"__esModule",{value:!0});b.BOa=void 0;k=a(1443);c.prototype.lz=function(){var g;g=this;Object.values(this.la.dm.P).forEach(function(f){f=f.M;g.PS[f] || g.T5a(f);});this.iga();};c.prototype.fQ=function(g){return this.PS[g];};c.prototype.D3b=function(g){this.sZ(g).state=k.xA.GHa;this.iga();};c.prototype.C3b=function(g,f){g=this.sZ(g);g.state=k.xA.Error;g.error=f;g.vdb(!1);this.iga();};c.prototype.reb=function(g){g=this.sZ(g);g.state=k.xA.lmb;g.vdb(!0);this.iga();};c.prototype.Hxb=function(g,f){this.sZ(g).Nb=f;};c.prototype.rO=function(g,f){this.sZ(g).pa=f;};c.prototype.sZ=function(g){var f;return null !== (f=this.fQ(g)) && void 0 !== f?f:this.T5a(g);};c.prototype.T5a=function(g){var f,d;f=void 0;d=new Promise(function(h,m){f=function(l){(l?h:m)();};});return this.PS[g]={state:k.xA.PLa,s0b:d,vdb:f};};c.prototype.iga=function(){var f;for(var g=this.la.Yh;g=this.la.qZ(g);){f=this.Cq(g);if(this.PS[f].state === k.xA.Error)break;if(this.PS[f].state === k.xA.GHa)break;if(this.PS[f].state === k.xA.PLa)break;}};c.prototype.Cq=function(g){return this.la.dm.P[g].M;};b.BOa=c;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.xA=void 0;q=b.xA || (b.xA={});q[q.PLa=0]="None";q[q.GHa=1]="Fetching";q[q.lmb=2]="Done";q[q.Error=3]="Error";},function(q,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.qOa=void 0;k=a(47);c.prototype.f7b=function(g){var f;if(!this.XRb(g.P))return g;f=new k.Rx().IL(g.xe);Object.entries(g.P).forEach(function(d){var h;h=ra(d);d=h.next().value;h=h.next().value;d === g.xe?f.Dh(d,Object.assign(Object.assign({},h),{next:void 0,za:void 0,vc:void 0})):f.Dh(d,h);});return f.ak();};c.prototype.XRb=function(g){g=Object.values(g).map(function(f){return f.M;});return 1 === new Set(g).size;};b.qOa=c;},function(q,b,a){var k,g,f,d;function c(h,m){this.Ma=h;this.XSb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.AOa=void 0;q=a(2);k=a(0);g=a(20);f=a(624);c.prototype.create=function(h){return new (a(340).I6)(this.Ma.ec(),h);};c.prototype.qZa=function(h){return new (a(1446).pRa)(this.Ma.ec(),h,this.XSb);};d=c;d=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(g.Jd)),q.__param(1,(0,k.u)(f.KJa))],d);b.AOa=d;},function(q,b,a){var k;function c(g,f,d){var h;h=k.I6.call(this,g,f) || this;h.seek=function(m){return h.Wb().seek(m);};h.addEpisode=function(m){return h.awa.rxb(m);};h.playNextEpisode=function(m){m=void 0 === m?{}:m;return h.awa.rZb(m);};h.watchCredits=function(m){return h.awa.x9b(m);};h.playSegment=function(m){return h.Wb().cbb(m);};h.queueSegment=function(m){return h.Wb().dcb(m);};h.updateNextSegmentWeights=function(m,l){return h.Wb().Oj(m,l);};h.setNextSegment=function(m){for(var l=[],n=0;n < arguments.length;++n){l[n - 0]=arguments[n];}l=l.map(function(p){return {ea:p.segmentId,ZQ:p.nextSegmentId};});h.Mh.oj.apply(h.Mh,ka(l));};h.clearNextSegment=function(m){for(var l=[],n=0;n < arguments.length;++n){l[n - 0]=arguments[n];}return h.Mh.SBb.apply(h.Mh,ka(l));};h.goToNextSegment=function(m,l){return h.Mh.Wta(m,l);};h.getPlaying=function(){return h.isPlaying();};h.getPaused=function(){return h.isPaused();};h.getMuted=function(){return h.isMuted();};h.getEnded=function(){return h.isEnded();};h.getTimedTextVisibility=function(){return h.isTimedTextVisible();};h.isTimedTextVisible=function(){return ! !h.Wb().yZ().visibility;};h.setTimedTextVisibility=function(m){return h.setTimedTextVisible(m);};h.setTimedTextSize=function(m){return h.Wb().cS({size:m});};h.setTimedTextBounds=function(m){return h.Wb().cS({bounds:m});};h.setTimedTextMargins=function(m){return h.Wb().cS({margins:m});};h.setTimedTextVisible=function(m){return h.Wb().cS({visibility:m});};h.getCongestionInfo=function(m){m && m({success:!1,name:null,isCongested:null});};h.awa=d(g,f,h.log);return h;}Object.defineProperty(b,"__esModule",{value:!0});b.pRa=void 0;k=a(340);na(c,k.I6);b.pRa=c;},function(q,b,a){var k,g,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.mOa=void 0;q=a(2);k=a(126);g=a(0);f=a(47);c.prototype.hFb=function(d){var l,n,p;for(var h=[],m=0;m < arguments.length;++m){h[m - 0]=arguments[m];}l=this;if(0 === h.length)throw Error("Empty playgraph");n=new f.Rx().IL(this.Ot(h[0]));h.reverse().forEach(function(r){var t;t=l.Ot(r);n.Dh(t,Object.assign({M:r,ya:0,za:Infinity},p?{vc:p}:{}));p=t;});return n.ak();};c.prototype.Ot=function(d,h){h=void 0 === h?k.fI.Via:h;return d + ":" + h;};c.prototype.uyb=function(d,h){var m,l,n,p;if(void 0 === n)n=null !== (m=h.id) && void 0 !== m?m:this.Ot(h.L);m=this.k3a(d);p=new f.Rx(d);p.Dh(n,{M:h.L,ya:null !== (l=h.da) && void 0 !== l?l:0,za:Infinity});d=d.P[m];h={};p.Dh(m,Object.assign({},d,{vc:n,next:Object.assign({},d.next || ({}),(h[n]={},h))}));return p.ak();};c.prototype.k3a=function(d){for(var h=d.xe,m=h;m=d.P[m].vc;){h=m;}return h;};a=c;a=q.__decorate([(0,g.X)()],a);b.mOa=a;},function(q,b,a){var k,g,f,d,h;function c(m){return g.Ef.call(this,m,"PlaygraphConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.jOa=void 0;q=a(2);k=a(0);g=a(52);f=a(37);d=a(51);h=a(6);na(c,g.Ef);Ya.Object.defineProperties(c.prototype,{s_b:{configurable:!0,enumerable:!0,get:function(){return 2;}},r_b:{configurable:!0,enumerable:!0,get:function(){return (0,h.eda)(3);}},ZCa:{configurable:!0,enumerable:!0,get:function(){return !1;}},qga:{configurable:!0,enumerable:!0,get:function(){return !1;}},uib:{configurable:!0,enumerable:!0,get:function(){return !1;}},D1a:{configurable:!0,enumerable:!0,get:function(){return !1;}},mea:{configurable:!0,enumerable:!0,get:function(){return !0;}}});a=c;q.__decorate([d.config(d.fD,"prepareSegmentsUpfront")],a.prototype,"s_b",null);q.__decorate([d.config(d.ul,"prepareSegmentsDuration")],a.prototype,"r_b",null);q.__decorate([d.config(d.Td,"usePlaygraphForPostPlay")],a.prototype,"ZCa",null);q.__decorate([d.config(d.Td,"usePlaygraphForSkipSegment")],a.prototype,"qga",null);q.__decorate([d.config(d.Td,"useSinglePlayerPlayback")],a.prototype,"uib",null);q.__decorate([d.config(d.Td,"forcePlaygraphTrace")],a.prototype,"D1a",null);q.__decorate([d.config(d.Td,"postPlayDefaultNextEpisode")],a.prototype,"mea",null);a=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(f.qn))],a);b.jOa=a;},function(q,b,a){var k,g,f,d,h,m,l,n,p,r;function c(t,w,v,u,x,y,z){this.Ma=t;this.S2b=v;this.Jj=x;this.Zn=z;this.R2b=w.WJ(!1,"6.0036.280.911",t.id,y,u);}Object.defineProperty(b,"__esModule",{value:!0});b.tOa=void 0;q=a(2);k=a(0);g=a(20);f=a(174);d=a(1450);h=a(391);m=a(235);l=a(12);n=a(625);p=a(42);a=a(126);c.prototype.create=function(t,w,v,u){var x,y;x=this.S2b.YEb(t,this.R2b,w);y=t.$Ca;v.debug("Using " + (y?"single":"multiple") + " player playback strategy");return y?new d.VPa(this.Jj,t,w,v,x,u,this.Zn):new n.WH(t,w,x,u,this.Zn);};r=c;r=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(g.Jd)),q.__param(1,(0,k.u)(h.HPa)),q.__param(2,(0,k.u)(m.vka)),q.__param(3,(0,k.u)(l.jd)),q.__param(4,(0,k.u)(f.dI)),q.__param(5,(0,k.u)(p.c6)),q.__param(6,(0,k.u)(a.$M))],r);b.tOa=r;},function(q,b,a){var k,g,f,d,h;function c(m,l,n,p,r,t,w){var v;v=d.WH.call(this,l,n,r,t,w) || this;v.Jj=m;v.Ha=p;v.LY=!1;v.ora=new Map();v.IXb=function(){v.cK().Ana(g.ka.BL,function(u){v.dc.rd(g.eI.h2);v.Eb.Yh=u.position.segmentId;});};v.EQb();t.addListener(g.Qa.loaded,v.IXb);return v;}Object.defineProperty(b,"__esModule",{value:!0});b.VPa=void 0;k=a(47);g=a(18);f=a(3);d=a(625);h=a(126);na(c,d.WH);c.prototype.tVa=function(m){var l,n,p,r,t,w,v,u,x,y,z;l=this;p=this.Eb.dm;r=this.Zn.Ot(m.L,"ident");t=this.Zn.Ot(m.L,"main");w=this.Zn.Ot(m.L,"credits");v=isFinite(m.ik);u=isFinite(m.da) && m.L !== p.P[p.xe].M;x={};y=new k.Rx(p).Dh(t,Object.assign({M:m.L,ya:u && m.da || 0,za:null !== (n=m.ik) && void 0 !== n?n:Infinity},v?{next:(x[w]={},x),vc:w}:{}));u && (n={},y.Dh(r,{M:m.L,ya:0,za:m.da,next:(n[t]={},n),vc:t}));v && y.Dh(w,{M:m.L,ya:m.ik,za:Infinity});if(!this.Eb.TC(t)){m=p.P[this.Zn.k3a(p)].M;z=this.Zn.Ot(m,h.fI.fFa);[this.Zn.Ot(m,h.fI.Via),z].filter(function(A){return l.Eb.TC(A);}).forEach(function(A){var B,D,C;B=l.Eb.kf(A);D=A === z || l.Jj.mea;C={};y.Dh(A,Object.assign({},B,{next:Object.assign({},B.next,(C[t]={},C))},D?{vc:t}:{}));});}this.Eb.dm=y.ak();return this.lL(t);};c.prototype.lz=function(){this.isReady() && this.cK().lz();};c.prototype.dya=function(){};c.prototype.YK=function(m){this.cK().YK(m);};c.prototype.Xta=function(m,l,n){l=void 0 === l?{}:l;this.Ha.debug("goToSegment " + m);return this.cK().GZ(m,l,n);};c.prototype.lL=function(m){if(m === this.Q2b)return null;this.Q2b=m;return this.LY?this.Dl.fQ(this.Eb.kf(m).M).s0b:(this.LY=!0,d.WH.prototype.lL.call(this,m));};c.prototype.thb=function(m){return m.errorCode && this.ora.has(m.errorCode)?this.ora.get(m.errorCode)(m):Promise.reject(Error("Error " + m.errorCode + " isn't recoverable"));};c.prototype.EQb=function(){var m;m=this;this.ora.set(f.W.rMa,function(){var l,n;return null !== (n=null === (l=d.WH.prototype.lL.call(m,m.Eb.Yh)) || void 0 === l?void 0:l.then(function(){var p,r;d.WH.prototype.Xta.call(m,m.Eb.Yh,null !== (r=null === (p=m.Dl.fQ(m.Eb.oa.M)) || void 0 === p?void 0:p.Nb) && void 0 !== r?r:{});})) && void 0 !== n?n:Promise.reject(Error("Couldn't prepare segment for transition"));});};b.VPa=c;},function(q,b,a){var k,g;function c(f,d,h){this.VB=d;this.Jj=h;this.H7={};this.Ohb=[];this.gfb=[];this.i$a=[];this.$na=new WeakMap();this.reset(f);}Object.defineProperty(b,"__esModule",{value:!0});b.zOa=void 0;k=a(47);g=a(47);c.prototype.reset=function(f){var d;d=1 < Object.keys(f.P).length && 1 === new Set(Object.values(f.P).map(function(h){return h.M;})).size;this.Nwb=this.Jj.uib || d;this.Feb(f);this.Yh=f.xe;this.lvb=this.VB.uB();this.yBa=new Map();};c.prototype.Gaa=function(f){if(this.$Ca)return this.dm;this.$na.has(f) || this.$na.set(f,(0,k.UG)(f.L,f.ea));return this.$na.get(f);};c.prototype.Feb=function(f){this.mvb=f;this.H7={};f=Object.keys(f.P);this.fWa(f);this.SWb();};c.prototype.oj=function(f){var m;for(var d=[],h=0;h < arguments.length;++h){d[h - 0]=arguments[h];}m=this;d.filter(function(l){return m.TC(l.ea);}).filter(function(l){l=l.ZQ;return !l || m.TC(l);}).forEach(function(l){var n;n=l.ea;m.H7[n]=m.H$a(l.ZQ);m.JWb(n);});};c.prototype.fWa=function(f){var d;d=this;f.filter(function(h){return d.TC(h);}).forEach(function(h){d.H7[h]=d.H$a(d.kf(h).vc);});};c.prototype.Oj=function(f,d){var h,m,l;h=this.kf(f);if(h && h.next){m=new g.Rx(this.dm);l=Object.keys(h.next).reduce(function(n,p){n[p]=void 0 === d[p]?h.next[p]:Object.assign({},h.next[p],{weight:d[p]});return n;},{});l=Object.assign({},h,{next:l});m.Dh(f,l);this.dm=m.ak();}};c.prototype.TC=function(f,d){d=void 0 === d?this.dm.P:d;return (f in d);};c.prototype.qZ=function(f){return this.H7[f];};c.prototype.kf=function(f){return this.dm.P[f];};c.prototype.eOb=function(f){if(this.yBa.has(f))return this.yBa.get(f);f=this.kf(f);return isFinite(f.za)?f.za:void 0;};c.prototype.g8b=function(f,d){this.yBa.set(f,d);this.OWb(f);};c.prototype.M5b=function(f){this.Ohb.push(f);};c.prototype.N5b=function(f){this.gfb.push(f);};c.prototype.L5b=function(f){this.i$a.push(f);};c.prototype.SWb=function(){var f;f=this;this.Ohb.forEach(function(d){return d(f.dm);});};c.prototype.JWb=function(f){this.i$a.forEach(function(d){return d(f);});};c.prototype.OWb=function(f){this.gfb.forEach(function(d){return d(f);});};c.prototype.H$a=function(f){return null === f?void 0:f;};Ya.Object.defineProperties(c.prototype,{jea:{configurable:!0,enumerable:!0,get:function(){return this.lvb;}},$Ca:{configurable:!0,enumerable:!0,get:function(){return this.Nwb;}},dm:{configurable:!0,enumerable:!0,get:function(){return this.mvb;},set:function(f){if(this.Yh && !this.TC(this.Yh,f.P))throw Error("Provided playgraphMap does not contain the current segmentId " + this.Yh);this.Feb(f);}},Yh:{configurable:!0,enumerable:!0,get:function(){return this.nsb;},set:function(f){if(!this.TC(f))throw Error("Provided currentSegmentId " + f + " does not exist in the current playgraph");this.nsb=f;}},oa:{configurable:!0,enumerable:!0,get:function(){return this.kf(this.Yh);}}});b.zOa=c;},function(q,b,a){var k,g;function c(f,d,h,m,l){this.Ij=f;this.Mh=d;this.log=h;this.Jj=m;this.Zn=l;this.bea=new k.Xja();}Object.defineProperty(b,"__esModule",{value:!0});b.LJa=void 0;k=a(626);g=a(126);c.prototype.rxb=function(f){var d,h,m,l,n,p,r;this.log.info("Next episode added",f);p=this.bea.Iwa(f.playbackParams);r=Math.max(0,null !== (m=null !== (h=null !== (d=f.startPts) && void 0 !== d?d:f.nextStartPts) && void 0 !== h?h:p.da) && void 0 !== m?m:0);d=null !== (n=null !== (l=f.endPts) && void 0 !== l?l:f.currentEndPts) && void 0 !== n?n:p.ik;return this.Mh.Sxb({L:f.movieId,da:r,ik:d,Nb:p,pa:f.manifest,Ij:this.Ij});};c.prototype.rZb=function(f){var d,h,m,l,n,p;f=this.bea.Iwa(f);this.log.info("Playing the next episode",f);m=this.Mh.A2a();l=this.Mh.eK();n=l.P[m];p=Object.keys(null !== (d=n.next) && void 0 !== d?d:{}).find(function(r){return n.M !== l.P[r].M;});d=!this.Jj.mea || !(null === (h=f.ho) || void 0 === h?0:h.isUIAutoPlay);return p?this.Mh.Wta(m,p,f,d):Promise.reject(Error("Next episode not found"));};c.prototype.x9b=function(f){var d,h;d=this.Zn.Ot(f,g.fI.Via);f=this.Zn.Ot(f,g.fI.fFa);h=this.Mh.Eb;this.Jj.mea && h.Yh !== f && h.TC(f) && h.qZ(d) !== f && this.Mh.oj({ea:d,ZQ:f});};b.LJa=c;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.iWa=void 0;q=a(0);c=a(1454);k=a(40);b.iWa=new q.Nd(function(g){g(k.sj).to(c.jEa).ha();});},function(q,b,a){var k,g,f,d,h,m,l,n,p,r,t,w,v;function c(u,x,y,z,A,B){var D;D=this;this.km=u;this.config=y;this.ku=z;this.debug=A;this.Ma=B;this.Tgb=[];this.Hd={};this.log=x.Bb("loadAsync");this.fUb=(0,t.NHa)(function(C){D.$0b=!0;D.startTime=D.Ma.ec().ia(p.sa);D.load(D.Tgb).then(function(){D.endTime=D.Ma.ec().ia(p.sa);C(v.Xg);}).catch(function(F){D.endTime=D.Ma.ec().ia(p.sa);C(F);});});}Object.defineProperty(b,"__esModule",{value:!0});b.jEa=void 0;q=a(2);k=a(83);g=a(3);f=a(1455);d=a(64);h=a(0);m=a(7);l=a(12);n=a(69);p=a(6);r=a(117);t=a(627);w=a(20);v=a(16);c.prototype.A_=function(u){this.fUb(u);};c.prototype.register=function(u,x){this.debug.assert(!this.$0b);this.Tgb.push({zTb:this.JAb(x),errorCode:u});};c.prototype.We=function(u){this.debug.assert(void 0 === this.Hd[u]);this.Hd[u]=this.Ma.ec().ia(p.sa);};c.prototype.load=function(u){var x;x=this;return (0,f.Mbb)(u).then(function(y){x.km.mark(d.Cp.Sk.Fjb);return y.reduce(function(z,A){return z.then(function(){return x.wTb(A);});},Promise.resolve()).then(function(){x.km.mark(d.Cp.Sk.Djb);});});};c.prototype.wTb=function(u){var x,y;x=this;y=u.zTb;!1;return this.ku.ru((0,p.Vc)(this.config().Qyb),y()).catch(function(z){x.log.error("Failed to load component " + u.errorCode,z);x.km.mark(d.Cp.Sk.Ejb);if(z instanceof n.ft)throw {Ea:g.S.Cjb,errorCode:u.errorCode};z.errorCode=z.errorCode || u.errorCode;z.Ea=z.Ea || g.S.Bjb;throw z;});};c.prototype.JAb=function(u){return function(){return new Promise(function(x,y){u(function(z){z.fa?x():y(z);});});};};a=c;a=q.__decorate([(0,h.X)(),q.__param(0,(0,h.u)(k.iN)),q.__param(1,(0,h.u)(m.Ib)),q.__param(2,(0,h.u)(l.jd)),q.__param(3,(0,h.u)(n.gI)),q.__param(4,(0,h.u)(r.bA)),q.__param(5,(0,h.u)(w.Jd))],a);b.jEa=a;},function(q,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});b.Mbb=void 0;c=a(3);k=[c.W.unb,c.W.SIa,c.W.TIa,c.W.XIa,c.W.PIa,c.W.NIa,c.W.Aia,c.W.ynb,c.W.QIa,c.W.OIa,c.W.BD,c.W.KIa,c.W.MIa,c.W.UIa,c.W.VIa,c.W.WIa,c.W.RIa,c.W.LIa];(function(f){f.Pob=function(d){var l;for(var h={},m=0;m < d.length;m++){l=d[m];if(h[l.errorCode])return {errorCode:l.errorCode,Ea:c.S.zjb};h[l.errorCode]=1;}};f.Qob=function(d){var m;for(var h=0;h < d.length;h++){m=d[h];if(-1 === k.indexOf(m.errorCode))return {errorCode:m.errorCode,Ea:c.S.Ajb};}};})(g || (g={}));b.Mbb=function(f){return new Promise(function(d,h){var m;m=g.Qob(f);m && h(m);(m=g.Pob(f)) && h(m);d(f.sort(function(l,n){return k.indexOf(l.errorCode) - k.indexOf(n.errorCode);}));});};},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.pa=void 0;q=a(0);c=a(1457);k=a(124);b.pa=new q.Nd(function(g){g(k.UH).to(c.EKa).ha();});},function(q,b,a){var k,g,f,d,h,m,l,n,p,r;function c(t,w,v,u,x,y){this.Jg=w;this.y8a=u;this.I_=y;this.F1=new Map();this.log=t.Bb("ManifestFetcher");this.hh=v.hh;this.kAb=x().mIb;}Object.defineProperty(b,"__esModule",{value:!0});b.EKa=void 0;q=a(2);k=a(0);g=a(20);f=a(41);d=a(7);h=a(6);m=a(12);l=a(109);n=a(63);p=a(327);a=a(139);c.prototype.UP=function(t,w,v){var u;u=this;w=void 0 === w?!0:w;v && this.Lxb(t.M,v);return w && this.Xaa(t.M)?this.jaa(t.M).catch(function(){return u.cdb(t,w);}):this.cdb(t,w);};c.prototype.Xaa=function(t){return this.hh.JZ(t,"manifest");};c.prototype.H2=function(t,w){var v;v=this;this.kAb && this.hh.setData(t,"manifest",w,function(){return v.YOb(t);});};c.prototype.jaa=function(t){var w;w=this;return this.hh.getData(t,"manifest").then(function(v){if(!v)throw Error("Manifest not found");if(v.Tb.expiration <= (0,n.u9)())throw (w.hh.clearData(t,"manifest"),Error("Manifest has expired"));return v;});};c.prototype.YOb=function(t){var w;null === (w=this.F1.get(t)) || void 0 === w?void 0:w.forEach(function(v){return v();});this.F1.delete(t);};c.prototype.Lxb=function(t,w){this.F1.has(t) || this.F1.set(t,[]);this.F1.get(t).push(w);};c.prototype.cdb=function(t,w){var v,u,x;v=this;this.log.trace("Requesting a new manifest",t.M);u=this.Jg.ec().ia(h.sa);x=(t.zi?this.x7b(t).catch(function(y){v.log.warn(y.message);return v.y8a.mh(v.log,t);}):this.y8a.mh(this.log,t)).then(function(y){var z,A;if(y.yB){z=y.yB;A={lfa:Promise.resolve(z),source:"manifest"};delete y.yB;v.hh.setData(t.M,"ldl",A,function(){z.close().catch(function(B){v.log.info("Unable to cleanup LDL session.",B);});});}t.dw === l.so.aI && (y.uL=u,y.LR=v.Jg.ec().ia(h.sa));return y;}).catch(function(y){w && v.H2(t.M,void 0);v.log.error("Failed to fetch manifest",f.Ad.hf(y));throw y;});w && this.H2(t.M,x);return x;};c.prototype.x7b=function(t){var w;w=this;return new Promise(function(v,u){var x,y,z,A,B;w.log.trace("Trying to retrieve an auxiliary manifest from parent manifest",t.M);A=null === (x=t.zi) || void 0 === x?void 0:x.Sda;if(!A)return u(Error("Parent manifest does not exist."));B=null === (y=t.zi) || void 0 === y?void 0:y.Yj;x=null === (z=A.xWa) || void 0 === z?void 0:z.find(function(D){return D.L === t.M && (void 0 === B || D.Yj === B);});if(!x)return u(Error("Auxiliary manifest not found in parent manifest."));v(w.I_.create(x));});};r=c;r=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(d.Ib)),q.__param(1,(0,k.u)(g.Jd)),q.__param(2,(0,k.u)(p.Cha)),q.__param(3,(0,k.u)(l.Hja)),q.__param(4,(0,k.u)(m.jd)),q.__param(5,(0,k.u)(a.OM))],r);b.EKa=r;},function(q,b,a){var c,k,g,f;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.NVa=void 0;c=a(1459);k=a(182);q=a(0);g=a(78);f=a(12);b.NVa=new q.Nd(function(d){d(k.c4).to(c.HDa).ha();});b.profile=new q.Nd(function(d){d(g.bN).fH(function(h){return (h=h.hb.get(f.jd)()) && h.DB?"browsertest":"browser";});});},function(q,b,a){var k,g,f,d,h,m;function c(l,n,p,r){l=d.Ef.call(this,l,void 0 === r?"AppInfoConfigImpl":r) || this;l.config=n;l.bga=p;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.HDa=void 0;q=a(2);k=a(0);g=a(43);f=a(51);d=a(52);h=a(37);a=a(316);na(c,d.Ef);c.prototype.nNb=function(l){return "" + this.D0a + (this.bga.sfa(l)?"/msl_v1":"");};c.prototype.xNb=function(l){return "" + this.host + (this.bga.sfa(l)?"/msl":"") + "/playapi";};Ya.Object.defineProperties(c.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host + "/api";}},D0a:{configurable:!0,enumerable:!0,get:function(){return this.host + "/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var l;switch(this.config.zP){case g.gA.Dqb:l="www.stage";break;case g.gA.BQa:l="www-qa.test";break;case g.gA.pJa:l="www-int.test";break;default:l="www";}return "https://" + l + ".netflix.com";}},GWa:{configurable:!0,enumerable:!0,get:function(){return "pbo_licenses";}}});m=c;q.__decorate([f.config(f.string,"apiEndpoint")],m.prototype,"endpoint",null);q.__decorate([f.config(f.string,"nqEndpoint")],m.prototype,"D0a",null);q.__decorate([f.config(f.string,"bindService")],m.prototype,"GWa",null);m=q.__decorate([(0,k.X)(),q.__param(0,(0,k.u)(h.qn)),q.__param(1,(0,k.u)(g.Dp)),q.__param(2,(0,k.u)(a.F6)),q.__param(3,(0,k.u)(h.p4)),q.__param(3,(0,k.optional)())],m);b.HDa=m;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.N8b=b.Lqb=b.Jqb=b.Iqb=b.Kqb=void 0;c=a(14);k=a(11);b.Kqb=function(g,f,d){for(d=(d - g.length) / f.length;0 < d--;){g+=f;}return g;};b.Iqb=function(g,f,d){d=(0,c.Ag)(d)?d:"...";return g.length <= f?g:g.substr(0,g.length - (g.length + d.length - f)) + d;};b.Jqb=function(g,f){var h;for(var d=1;d < arguments.length;++d){;}h=k.slice.call(arguments,1);return g.replace(/{(\d+)}/g,function(m,l){return "undefined" != typeof h[l]?h[l]:m;});};b.Lqb=function(g){for(var f=g.length,d=new Uint16Array(f),h=0;h < f;h++){d[h]=g.charCodeAt(h);}return d.buffer;};b.N8b=function(g){var f;f=new Uint8Array(g.length);Array.prototype.forEach.call(g,function(d,h){f[h]=d.charCodeAt(0);});return f;};},function(q,b,a){Object.defineProperty(b,"__esModule",{value:!0});q=a(9);b=a(120);a=a(325);q.Ga.get(b.MM).Gea(a.Sia.Vkb,function(c){var k,g;k=c.level;if(!pb._cad_global.config || k <= pb._cad_global.config.RTb){c=c.Ufa();g=pb.console;1 >= k?g.error(c):2 >= k?g.warn(c):g.log(c);}});},function(q,b,a){var m,l,n,p,r;function c(t){var w,u;(0,l.MX)(t);if((0,p.Ag)(t) && b.aJa.test(t)){w=t.split(".");if(4 === w.length){for(var v=0;v < w.length;v++){u=(0,r.tk)(w[v]);if(0 > u || !(0,p.QF)(u,0,255) || 1 !== w[v].length && 0 === w[v].indexOf("0"))return;}return t;}}}function k(t){var w;w=0;if(c(t) === t)return (t=t.split("."),w+=(0,r.tk)(t[0]) << 24,w+=(0,r.tk)(t[1]) << 16,w+=(0,r.tk)(t[2]) << 8,w + (0,r.tk)(t[3]));}function g(t){var w,v;(0,l.MX)(t);if((0,p.Ag)(t) && t.match(b.bJa)){w=t.split(":");-1 !== w[w.length - 1].indexOf(".") && (t=f(w[w.length - 1]),w.pop(),w.push(t[0]),w.push(t[1]),t=w.join(":"));t=t.split("::");if(!(2 < t.length || 1 === t.length && 8 !== w.length) && (w=1 < t.length?d(t):w,t=w.length,8 === t)){for(;t--;){v=parseInt(w[t],16);if(!(0,p.QF)(v,0,m.rKa))return;}return w.join(":");}}}function f(t){var w;t=k(t) >>> 0;w=[];w.push((t >>> 16 & 65535).toString(16));w.push((t & 65535).toString(16));return w;}function d(t){var w,v,u;w=t[0].split(":");t=t[1].split(":");1 === w.length && "" === w[0] && (w=[]);1 === t.length && "" === t[0] && (t=[]);v=8 - (w.length + t.length);if(1 > v)return [];for(u=0;u < v;u++){w.push("0");}for(u=0;u < t.length;u++){w.push(t[u]);}return w;}function h(t){return -1 << 32 - t;}Object.defineProperty(b,"__esModule",{value:!0});b.Jnb=b.Onb=b.Lnb=b.Knb=b.Nnb=b.Inb=b.Mnb=b.MH=b.bJa=b.aJa=void 0;m=a(16);l=a(24);n=a(11);p=a(14);r=a(26);b.aJa=/^[0-9.]*$/;b.bJa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.MH="0000000000000000";b.Mnb=c;b.Inb=k;b.Nnb=g;b.Knb=f;b.Lnb=d;b.Onb=function(t,w,v){var u,x,y,z;u=c(t);x=g(t);y=c(w);z=g(w);if(!u && !x || !y && !z || u && !y || x && !z)return !1;if(t === u)return (v=h(v),(k(t) & v) !== (k(w) & v)?!1:!0);if(t === x){t=t.split(":");w=w.split(":");for(u=(0,n.PM)(v / b.MH.length);u--;){if(t[u] !== w[u])return !1;}v%=b.MH.length;if(0 !== v)for((t=parseInt(t[u],16).toString(2),w=parseInt(w[u],16).toString(2),t=b.MH.substring(0,b.MH.length - t.length) + t,w=b.MH.substring(0,b.MH.length - w.length) + w,u=0);u < v;u++){if(t[u] !== w[u])return !1;}return !0;}return !1;};b.Jnb=h;},function(q,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(19);a(16);q=a(9);a(120);a(325);a(3);a(119);a(6);a=a(40);q.Ga.get(a.sj);!1;},function(q,b,a){var c,k,g,f,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(46);k=a(16);g=a(3);f=a(11);q=a(9);a=a(40);d=q.Ga.get(a.sj);d.register(g.W.XIa,function(h){f.Yr && f.Yr.generateKey && f.Yr.importKey && f.Yr.unwrapKey?(d.We("wcs"),(0,c.aL)(f.Yr.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){d.We("wcdone");h(k.Xg);},function(m){var l;m="" + m;if(0 <= m.indexOf("missing crypto.subtle"))l=g.S.Rka;else 0 <= m.indexOf("timeout waiting for iframe to load") && (l=g.S.$qb);h({Ea:l,ac:m});})):h({Ea:g.S.Rka});});},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});q=a(3);c=a(9);k=a(576);a=a(40);c.Ga.get(a.sj).register(q.W.NIa,function(g){c.Ga.get(k.NGa)().then(function(){g({fa:!0});}).catch(function(f){c.log.error("error in initializing indexedDb debug tool",f);g({fa:!0});});});},function(q,b,a){var f,d,h,m;function c(l,n,p,r){var t,w,v;(0,f.Db)((0,m.fk)(l) && !(0,m.isArray)(l));r=r || "";t="";w=l.hasOwnProperty(h.S3) && l[h.S3];w && (0,d.kh)(w,function(u,x){t && (t+=" ");t+=u + '="' + g(x) + '"';});p=(n?n + ":":"") + p;w=r + "<" + p + (t?" " + t:"");v=l.hasOwnProperty(h.Wz) && l[h.Wz].trim && "" !== l[h.Wz].trim() && l[h.Wz];if(v)return w + ">" + g(v) + "</" + p + ">";l=k(l,n,r + "  ");return w + (l?">\n" + l + "\n" + r + "</" + p + ">":"/>");}function k(l,n,p){var r;(0,f.Db)((0,m.fk)(l) && !(0,m.isArray)(l));p=p || "";r="";(0,d.kh)(l,function(t,w){var x;if("$" != t[0])for(var v=(0,d.$y)(w),u=0;u < v.length;u++){if((w=v[u],r && (r+="\n"),(0,m.fk)(w)))r+=c(w,n,t,p);else {x=(n?n + ":":"") + t;r+=p + "<" + x + ">" + g(w) + "</" + x + ">";}}});return r;}function g(l){if((0,m.Ag)(l))return (0,d.rua)(l);if((0,m.Oa)(l))return ((0,f.LX)(l,"Convert non-integer numbers to string for xml serialization."),"" + l);if(null === l || void 0 === l)return "";(0,f.Db)(!1,"Invalid xml value.");return "";}Object.defineProperty(b,"__esModule",{value:!0});b.W6b=b.sSb=b.rSb=void 0;f=a(24);d=a(26);h=a(208);m=a(14);b.rSb=c;b.sSb=k;b.W6b=g;},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r,t,w,v,u,x,y,z,A,B,D,C,F;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);k=a(331);g=a(213);f=a(19);d=a(16);h=a(3);m=a(24);l=a(9);n=a(83);p=a(64);r=a(102);t=a(26);w=a(11);v=a(14);u=a(46);x=a(119);y=a(6);q=a(40);z=a(545);A=a(142);B=a(72);D=a(78);C={};F=l.Ga.get(q.sj);F.register(h.W.QIa,function(G){var L,H,P,N,J,M,O,Q,T,V,da,pa,xa,ya;function E(sa){sa && sa.userList && f.config.t4b && (sa.userList=[]);N({esn:g.jl.Xl,esnPrefix:g.jl.sq,authenticationKeyNames:f.config.lzb,systemKeyWrapFormat:f.config.i6b,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:xa,storeState:sa,notifyMilestone:F.We.bind(F),log:O,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:h.S.sob,MSL_READ_TIMEOUT:h.S.rob}},{result:function(X){I(X);},timeout:function(){G({Ea:h.S.yKa});},error:function(X){G(K(h.S.yKa,void 0,X));}});}function I(sa){var S,R,W,ia;function X(){pa && l.Ga.get(r.pD).create().then(function(za){return za.save(V,W,!1);}).catch(function(za){O.error("Error persisting msl store",(0,h.hA)(za));});}S=this;R=l.Ga.get(x.gN)((0,y.Vc)(100));ia=J.extend({init:function(za){this.CTa=za;},getResponse:function(za,Ra,Fa){var $a,Ta;Ra=this.CTa;$a=Ra.vxa.Bf || $a;za=(0,v.yva)(za.body)?(0,l.x3)(za.body):za.body;(0,m.MX)(za,"Msl should not be sending empty request");za={url:Ra.url,vbb:za,withCredentials:!0,cF:"nq-" + Ra.method,headers:Ra.headers};Ra=this.CTa.timeout;za.z9=Ra;za.Exa=Ra;Ta=$a.download(za,function(Xa){try{if(Xa.fa)Fa.result({body:Xa.content});else if(400 === Xa.Wl && Xa.ac)Fa.result({body:Xa.ac});else throw (0,t.Ke)(new M("HTTP error, SubCode: " + Xa.Ea + (Xa.Wl?", HttpCode: " + Xa.Wl:"")),{cadmiumResponse:Xa});}catch(eb){Fa.error(eb);}});return {abort:function(){Ta.abort();}};}});T && sa.addEventHandler("shouldpersist",function(za){W=za.storeState;R.Vm(X);});(0,t.Ke)(C,{Xgc:function(){da=!0;},send:function(za){function Ra(){var Fa,$a;Fa=za.vxa;$a={method:za.method,nonReplayable:za.r$a,encrypted:za.Ej,userId:za.xib,body:za.body,timeout:2 * za.timeout,url:new ia(za),allowTokenRefresh:pa,sendUserAuthIfRequired:ya,shouldSendUserAuthData:f.config.y4b};Fa.email?($a.email=Fa.email,$a.password=Fa.password || ""):da && ($a.useNetflixUserAuthData=!0);return $a;}return new Promise(function(Fa,$a){var Ta;Ta=Ra();sa.send(Ta).then(function(Xa){da && (da=!1);Fa({fa:!0,body:Xa.body});}).catch(function(Xa){var eb,rb;if(Xa.error){eb=Xa.error.cadmiumResponse && Xa.error.cadmiumResponse.Ea?Xa.error.cadmiumResponse.Ea:sa.isErrorReauth(Xa.error)?h.S.xKa:sa.isErrorHeader(Xa.error)?h.S.lob:h.S.kob;rb=sa.getErrorCode(Xa.error);$a(K(eb,rb,Xa.error));}else (O.error("Unknown MSL error",Xa),Xa.Sc=Xa.subCode,$a({Ea:Xa.Sc?Xa.Sc:h.S.tob}));});});},e0:sa});A.qI.zO.mslFetch=function(za,Ra){return c.__awaiter(S,void 0,void 0,function $a(){var Ta,Xa,eb;return Ma($a,function(rb){if(1 == rb.kG)return (Ta=l.Ga.get(D.bN),Oa(rb,C.send({vxa:{Bf:l.Ga.get(B.Ix),profile:Ta},timeout:3E3,url:za.toString(),body:null === Ra || void 0 === Ra?void 0:Ra.body,headers:{"Content-Type":"application/x-msl+json"},xib:Ta,E1b:!1,r$a:!0,Ej:!0})));Xa=rb.Hga;eb={get body() {this.bodyUsed=!0;return Xa.body;}};return rb.return((eb.bodyUsed=!1,eb.ok=Xa.fa,eb.status=Xa.fa?200:400,eb.statusText=Xa.fa?"OK":"Bad Request",eb.type="basic",eb.url=za.toString(),eb.headers=new Headers({"Content-Type":"application/json"}),eb.text=function(){return Promise.resolve(this.body);},eb.json=function(){return Promise.resolve(JSON.parse(this.body));},eb.arrayBuffer=function(){return Promise.resolve(new Uint8Array(this.body));},eb.clone=function(){return Object.assign({},this);},eb.blob=function(){return this.arrayBuffer().then(function(U){return new Blob([U]);});},eb.formData=function(){throw Error("Not implemented");},eb.redirected=!1,eb));});});};G(d.Xg);l.Ga.get(z.lja).kWb(C);}function K(sa,X,S){var R,W,ia,za;ia={Ea:sa,w$:X};if(S){za=function(Ra){var Fa;Ra=Ra || "" + S;if(S.stack){Fa="" + S.stack;Ra=0 <= Fa.indexOf(Ra)?Fa:Ra + Fa;}return Ra;};if(W=S.cadmiumResponse){if(R=W.Xf && W.Xf.toString())W.Xf=R;W.Ea=sa;W.w$=X;W.ac=za(S.message);W.error={Sc:sa,fe:R,vC:X,data:S.cause,message:S.message};return W;}za=za(S.errorMessage);R=(0,t.tk)(S.internalCode) || (0,t.tk)(S.error && S.error.internalCode);W=void 0 !== S.VIb?(0,u.Rxa)(S.VIb):void 0;}za && (ia.ac=za);R && (ia.Xf=R);ia.error={Sc:sa,fe:R.toString(),vC:X,data:W,message:za};return ia;}(0,m.Db)(f.config);L=l.Ga.get(n.iN);H=p.Cp.Sk;if(w.JD && w.Yr && w.Yr.unwrapKey){try{P=pb.netflix.msl;N=P.createMslClient;J=P.IHttpLocation;M=P.MslIoException;}catch(sa){G({Ea:h.S.mob});return;}O=(0,l.dk)("Msl");Q=f.config.gWb;T=f.config.iWb;V=f.config.DB?"mslstoretest":"mslstore";P=k.RL.jeb;da=!0;pa=!P || P.fa;xa=(0,l.At)(f.config.DB?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");ya=! !f.config.OAa;l.Ga.get(r.pD).create().then(function(sa){Q?sa.remove(V).then(function(){E();}).catch(function(X){O.error("Unable to delete MSL store",(0,h.hA)(X));E();}):T?sa.load(V).then(function(X){L.mark(H.oob);E(X.value);}).catch(function(X){X.Ea == h.S.SD?(L.mark(H.qob),E()):(O.error("Error loading msl store",(0,h.hA)(X)),L.mark(H.pob),sa.remove(V).then(function(){E();}).catch(function(S){G(S);}));}):E();}).catch(function(sa){O.error("Error creating app storage while loading msl store",(0,h.hA)(sa));G(sa);});}else G({Ea:h.S.nob});});},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r,t,w,v,u;Object.defineProperty(b,"__esModule",{value:!0});c=a(206);k=a(16);g=a(19);f=a(65);d=a(63);q=a(3);h=a(9);m=a(83);l=a(11);n=a(62);p=a(14);r=a(54);t=a(92);a=a(40);u=h.Ga.get(a.sj);u.register(q.W.OIa,function(x){var z;function y(){var A,B,D;A=u.startTime;B={browserua:l.XH,browserhref:l.Q5.href,initstart:A,initdelay:u.endTime - A};(A=l.Qh.documentMode) && (B.browserdm="" + A);(0,p.BQ)(g.config.c1a) && (B.fesn=g.config.c1a);Object.assign(B,(0,c.yta)());D=l.Ox && l.Ox.timing;D && g.config.OTb.map(function(C){var F;F=D[C];F && (B["pt_" + C]=F - (0,d.cYa)());});A=z.YMb();Object.entries(A).forEach(function(C){var F;F=ra(C);C=F.next().value;F=F.next().value;return B["m_" + C]=F;});A=v.Nv("startup","info",B,f.PD.Yra);w.Wc(A);}v=h.Ga.get(t.mA);w=h.Ga.get(r.ro);z=h.Ga.get(m.iN);u.A_(function(){w.xa();(0,n.wg)(y);});x(k.Xg);});},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r,t,w,v,u,x,y;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);k=a(34);g=a(585);f=a(1471);d=a(335);h=a(19);m=a(16);l=a(211);n=a(628);p=a(63);q=a(3);r=a(9);t=a(561);w=a(11);v=a(332);b=a(40);u=a(65);x=a(175);y=a(377);r.Ga.get(b.sj).register(q.W.KIa,function(z){var A,B,D,C,F,G,E,I;A=r.Ga.get(t.MLa).dFb();B=r.Ga.get(l.Tha).AM;D=r.Ga.get(g.iLa).Zs;C=new y.oha();F={aea:(0,r.TY)("ASE"),Cyb:(0,r.TY)("JS-ASE",void 0,"Platform"),dk:r.TY,storage:v.storage,mNb:w.ZFa,getTime:p.No,rqa:function(K){return C.decode(K).buffer;},EQ:{},Zs:D,Sx:f.Sx,AM:B,MediaSource:n.lLa,SourceBuffer:d.fja,yq:function(){return [h.config.N8,h.config.Q8];},Mv:function(K){u.Lp.forEach(function(L){L.Keb(K);});}};B=new Promise(function(K){v.storage.load("nh",function(L){F.EQ.nh=L.fa?L.data:void 0;K();});});D=new Promise(function(K){v.storage.load("lh",function(L){F.EQ.lh=L.fa?L.data:void 0;K();});});G=new Promise(function(K){v.storage.load("gh",function(L){F.EQ.gh=L.fa?L.data:void 0;K();});});E=new Promise(function(K){v.storage.load("sth",function(L){F.EQ.sth=L.fa?L.data:void 0;K();});});I=new Promise(function(K){v.storage.load("vb",function(L){F.EQ.vb=L.fa?L.data:void 0;K();});});Promise.all([B,D,I,E,G]).then(function(){return c.__awaiter(this,void 0,void 0,function L(){var H,P;return Ma(L,function(N){if(1 == N.kG)return (H=a(1473)(F),x.yv.Kf=a(629),x.yv.Kf.declare(k.Gh),x.yv.Kf.set(a(200)(h.config),!0,(0,r.TY)("ASE")),Oa(N,k.aK(H)));P=N.Hga;P.open(x.yv.Kf,A);P.TAa({audio:h.config.N8,video:h.config.Q8},{V:h.config.V1,ga:void 0});x.yv.pj=P;z(m.Xg);N.kG=0;});});}).catch(function(K){F.aea.error("Exception loading location history from local storage",K);});});},function(q,b,a){var k,g,f,d,h,m,l;function c(){var n;n=new g.El();this.addEventListener=n.addListener.bind(this);this.removeEventListener=n.removeListener.bind(this);this.emit=n.rd.bind(this);this.O7=m++;this.ug=(0,f.dk)("ProbeRequest");this.YTa=k.OOa;(0,d.Db)(void 0 !== this.YTa);this.vi=b.Sx.kd.UNSENT;!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Sx=void 0;k=a(1472);g=a(75);f=a(9);d=a(24);h=a(26);m=0;(function(){function n(){return JSON.stringify({url:this.wm,id:this.O7,affected:this.O6,readystate:this.vi});}(0,h.Ke)(c.prototype,{bR:function(p){p.affected=this.O6;p.probed={requestId:this.O7,url:this.wm,Pe:this.$V,groupId:this.u7};this.emit(b.Sx.tf.uU,p);},Mxa:function(p){this.twb=p.httpcode;p.affected=this.O6;p.probed={requestId:this.O7,url:this.wm,Pe:this.$V,groupId:this.u7};this.emit(b.Sx.tf.ZH,p);},open:function(p,r,t,w){if(!p)return (!1,!1);this.wm=p;this.O6=r;this.$V=t;this.vi=b.Sx.kd.OPENED;this.Htb=w;this.YTa.RY(this);return !0;},sd:function(){!1;return !0;},ij:function(){return this.O7;},toString:n,toJSON:n});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.vi;},set:function(){}},status:{get:function(){return this.twb;}},url:{get:function(){return this.wm;}},Nec:{get:function(){return this.O6;}},FTb:{get:function(){return this.Htb;}}});})();(function(n){n.tf={uU:"pr0",ZH:"pr1"};n.kd={UNSENT:0,OPENED:1,vA:2,DONE:3,FM:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};})(l || (l={}));b.Sx=Object.assign(c,l);},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.OOa=void 0;c=a(9);k=a(112);b.OOa=(function(){(0,c.dk)("ProbeDownloader");return {RY:function(g){g={url:g.url,F_b:g};!1;k.Bf.I_b(g);}};})();},function(q,b,a){var h,m,l,n,p,r,t,w,v,u,x,y,z,A,B,D;function c(C,F,G){this.gq=C;this.groups=F;this.prefix=G;C=u(C,F,G);this.info=C.info.bind(C);this.fatal=C.fatal.bind(C);this.error=C.error.bind(C);this.warn=C.warn.bind(C);this.trace=C.trace.bind(C);this.debug=C.debug.bind(C);this.log=C.log.bind(C);}function k(){this.bZa=function(){throw Error("Not implemented");};this.eHb={query:function(){throw Error("Not implemented");},read:function(){throw Error("Not implemented");},create:function(){throw Error("Not implemented");},append:function(){throw Error("Not implemented");}};}function g(){}function f(){return v?v:"0.0.0.0";}function d(C){C({mab:0,T2:0,c5a:0,b1a:0});}h=a(13);k.prototype.set=function(C,F){n[C]=F;p.save(C,F);};k.prototype.get=function(C,F){if(n.hasOwnProperty(C))return n[C];w.trace("key: " + C + ", is not available in storage cache and needs to be retrieved asynchronously");p.load(C,function(G){G.fa?(n[C]=G.data,F && F(G.data)):n[C]=void 0;});};k.prototype.remove=function(C){p.remove(C);};k.prototype.clear=function(){w.info("WARNING: Calling unimplemented function Storage.clear()");};g.prototype.now=function(){return r();};g.prototype.ma=function(){return t();};g.prototype.txa=function(C){return C + r() - t();};g.prototype.Oxa=function(C){return C + t() - r();};c.prototype.tZa=function(C){var F;F=[];this.prefix && Array.isArray(this.prefix)?F.push.apply(F,ka(this.prefix)):this.prefix && F.push(this.prefix);F.push(C);return new c(this.gq,this.groups,F);};x=(function(){var C;C=Promise;C.prototype.fail=Promise.prototype.catch;return C;})();q.exports=function(C){m=C.aea;u=C.dk;p=C.storage;n=C.EQ;r=C.mNb;t=C.getTime;w=C.Cyb;y=C.Zs;D=C.Sx;z=C.AM;A=C.SourceBuffer;B=C.MediaSource;v=C.ahc;l=C.Mv;return {name:"cadmium",Mv:l,aea:m,storage:new k(),Storage:k,time:new g(),events:new h.EventEmitter(),console:new c("JS-ASE",void 0,"default"),Console:c,options:{},Promise:x,Zs:y,AM:z,wob:A,MediaSource:B,Sx:D,Mq:{name:f},memory:{yMb:d},yq:C.yq,rqa:C.rqa};};},function(q,b,a){q.exports={EventEmitter:a(1475),Fg:a(1476)};},function(q){function b(c,k){var g;if(void 0 === k || "function" !== typeof k || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Sd)return (this.Sd={},this.Sd[c]=[k],!0);g=this.Sd[c];return void 0 === g?(this.Sd[c]=[k],!0):0 > g.indexOf(k)?(g.push(k),!0):!1;}function a(c,k){c=this.Sd?this.Sd[c]:void 0;if(!c)return !1;c.forEach(function(g){g(k);});return !0;}q.exports={addEventListener:b,on:b,removeEventListener:function(c,k){var g;if(void 0 === k || "function" !== typeof k || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Sd)return !1;g=this.Sd[c];if(void 0 === g)return !1;k=g.indexOf(k);if(0 > k)return !1;if(1 === g.length)return (delete this.Sd[c],!0);g.splice(k,1);return !0;},mb:a,emit:a,removeAllListeners:function(c){this.Sd && (void 0 === c?delete this.Sd:delete this.Sd[c]);return this;}};},function(q){function b(c,k,g,f){c.trace(":",g,":",f);k(f);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,k,g,f){g=f?g.bind(f):g;f=!1;if(c){this.console && (g=b.bind(null,this.console,g,k));if("function" === typeof c.addEventListener)f=c.addEventListener(k,g);else if("function" === typeof c.addListener)f=c.addListener(k,g);else throw Error("Emitter does not have a function to add listeners for '" + k + "'");this.listeners.push([c,k,g]);}return f;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(k){var g,f;g=k[0];f=k[1];k=k[2];"function" === typeof g.removeEventListener?g.removeEventListener(f,k):"function" === typeof g.removeListener && g.removeListener(f,k);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};q.exports=a;},function(q,b,a){var k,g;function c(f,d){var h,m;h=(0,g.hj)(f,"MSS");if(k.config.BVb)return {CY:"mss",Fz:function(l){var n,p;if(l.lower && 2160 <= l.height)a:{for(n=l;n.lower;){if(2160 > n.height && 1080 < n.height){n=!0;break a;}if(1080 >= n.height)break;n=n.lower;}n=!1;}else n=void 0;if(n){if(void 0 === m){try{p=pb.MSMediaKeys;m=p && p.isTypeSupportedWithFeatures?"probably" === p.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(r){h.error("hasUltraHdDisplay exception");m=!0;}m || (h.warn("Restricting resolution due screen size",{MaxHeight:l.height}),d.Sr.set({reason:"microsoftScreenSize",height:l.height}));}return !m;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.yob=void 0;q=a(141);k=a(19);g=a(9);(0,q.SM)(c);b.yob=c;},function(q,b,a){var c,k,g,f,d,h,m;Object.defineProperty(b,"__esModule",{value:!0});q=a(141);c=a(1479);k=a(9);g=a(49);f=a(80);d=a(12);h=a(1480);m=a(20);(0,q.SM)(function(l){var n;if(k.Ga.get(g.Kp).E1){n=k.Ga.get(f.Mx);return new c.AJa(l,k.mg,n);}});(0,q.SM)(function(l,n){var p,r;p=k.Ga.get(d.jd);if(p().GHb){r=k.Ga.get(m.Jd);return new h.KGa(l,n,k.mg,r,p);}});},function(q,b,a){var k;function c(g,f,d){var h;h=this;this.j=g;this.Ha=f;this.ZF=d;this.vva=!1;this.log=this.Ha.Bb("KeySystemRobustness",this.j);this.vva=!1;this.ZF.LB().then(function(m){var l,n;n=null === (l=m.getConfiguration().videoCapabilities) || void 0 === l?void 0:l.map(function(p){return p.robustness;});h.vva=!(null === n || void 0 === n || !n.some(function(p){return p === k.LH;}));g.Leb("keySystem",m.m7a);g.Leb("robustness",null === n || void 0 === n?void 0:n.toString());h.log.trace("KeySystemRobustness: " + n);}).catch(function(m){h.log.error("KeySystemRobustness exception",m);});}Object.defineProperty(b,"__esModule",{value:!0});b.AJa=void 0;k=a(50);c.prototype.Fz=function(g){return g.lower && g.Fj && !this.vva && 720 < g.height;};Ya.Object.defineProperties(c.prototype,{CY:{configurable:!0,enumerable:!0,get:function(){return "KeySystemRobustness";}}});b.AJa=c;},function(q,b,a){var k,g,f,d,h,m;function c(l,n,p,r,t){var w;w=this;this.j=l;this.Fa=n;this.Ha=p;this.Ma=r;this.Cda={};this.nP={};this.gS=[];this.b6a=1E3;this.Ffa=k.qKa;this.eya=function(){var v;v=w.j.Ob.value === d.zb.$c && w.j.state.value === d.qc.Re && w.j.L === w.Fa.L;w.a_?v || (clearInterval(w.a_),w.a_=void 0,w.r_=void 0):v && (w.a_=pb.setInterval(w.F6b,w.b6a));};this.F6b=function(){var v,u,x,y;u=w.j.Le.value;u=u && u.stream;u=null !== (v=u && u.height) && void 0 !== v?v:null;if(null !== u && 0 < u){v=w.Ma.ec().ia(m.sa);x=w.j.ng.YJ();if(x){if(w.r_ && v - w.r_.time < 2 * w.b6a && u === w.r_.height){y=x - w.r_.FHb;w.zna(u,y);w.Dxb(u,y);}w.r_={time:v,FHb:x,height:u};w.j.$da && w.j.$da.w3b(w.Cda);}}};this.Asa=function(){var v;v={};w.nP && w.gS.forEach(function(u){var x,y,z;x=w.nP[u];if(x){y=0;z=0;(0,h.kh)(x,function(A,B){z+=(0,h.tk)(A);y+=B;});v[u]=z / y;}});return v;};this.bK=function(v){var u;u={};v.forEach(function(x){u[x]={};});w.nP && ((0,g.d4)(v),w.gS.forEach(function(x){var y,z,A,B;y=w.nP[x];if(y){z=0;A=0;(0,h.kh)(y,function(E,I){z+=I;});B=Object.keys(y).map(Number);(0,g.d4)(B);for(var D=B.length - 1,C=B[D],F=v.length - 1;0 <= F;F--){for(var G=v[F];C >= G && 0 <= D;){(C=y[C]) && (A+=C);C=B[--D];}u[G][x]=(0,f.Fp)(A / z * 100);}}}));return u;};this.log=this.Ha.Bb("DFF",l);this.OZb=t().JHb;this.NUb=t().HHb;this.K9a=t().IHb;this.Fa.Uqa={Asa:this.Asa,bK:this.bK};l.state.addListener(this.eya);l.Ob.addListener(this.eya);l.addEventListener(d.ka.GK,this.eya);}Object.defineProperty(b,"__esModule",{value:!0});b.KGa=void 0;k=a(16);g=a(46);f=a(11);d=a(18);h=a(26);m=a(6);c.prototype.Fz=function(l){return l.lower && l.height > this.K9a?l.height >= this.mOb():!1;};c.prototype.zna=function(l,n){var p;p=this.Cda[l];p || (this.Cda[l]=p=[],l > this.K9a && (this.gS.push(l),(0,g.d4)(this.gS)));0 < n && !(this.$_ && this.$_ < l) && (this.$_=l);p.push(n);p.length > this.NUb && p.shift();};c.prototype.Dxb=function(l,n){var p;p=this.nP[l];p || (this.nP[l]=p={});l=p[n];p[n]=l?l + 1:1;};c.prototype.mOb=function(){var p,r;if(this.$_){for(var l=this.gS.length,n=0;n < l;n++){p=this.gS[n];if(p >= this.$_ && p < this.Ffa){r=this.Cda[p];if(r && this.qBb(this.OZb,r) && this.Ffa != p)return (this.log.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:p}),this.Fa.Sr.set({reason:"droppedFrames",height:p}),this.Ffa=p);}}this.$_=void 0;}return this.Ffa;};c.prototype.qBb=function(l,n){var w,v;for(var p=l.length,r=n.length,t=0;t < p;t++){w=l[t];v=w[0];w=w[1];for(var u=0;u < r;u++){if(n[u] >= w && 0 >= --v)return !0;}}return !1;};Ya.Object.defineProperties(c.prototype,{CY:{configurable:!0,enumerable:!0,get:function(){return "df";}}});b.KGa=c;},function(q,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});q=a(141);c=a(19);k=a(9);g=a(1482);(0,q.SM)(function(f,d){if(c.config.vSb)return new g.zJa(f,d,k.mg,c.config,k.La,k.bd);});},function(q,b,a){var k,g,f;function c(d,h,m,l,n,p){var r;r=this;this.j=d;this.Fa=h;this.Ha=m;this.config=l;this.La=n;this.bd=p;this.kyb=function(t){!0 === t.oldValue && !1 === t.newValue && (r.log.error("RestartStreaming: UHD key is no longer usable"),r.j.l2b());};this.z7b=function(t){var w,v,u;r.log.trace("UhdKeyStatus: " + t.oldValue + " -> " + t.newValue);v=null === t || void 0 === t?void 0:t.newValue;u=null === t || void 0 === t?void 0:t.oldValue;"usable" !== v && (r.q3b(v,(null === (w=null === t || void 0 === t?void 0:t.Kn) || void 0 === w?void 0:w.height) || 0),"usable" === u && (t=r.La.Nf.Ia(r.xSb),r.log.error("UHD KeyStatus unexpectedly changed: " + t.ia(f.sa))));};this.R6a=!1;this.log=this.Ha.Bb("KeyStatusStreamFilter",this.j);this.EVa=new g.uc(!1,this.kyb);this.y7b=new g.uc(void 0,this.z7b);}Object.defineProperty(b,"__esModule",{value:!0});b.zJa=void 0;k=a(230);g=a(82);f=a(6);c.prototype.Fz=function(d){return d.Fj && (this.J5b(),this.EVa.set(this.R6a && this.yPb),d.lower && 1080 < d.height && !this.EVa.value)?!0:!1;};c.prototype.oCb=function(){this.yPb=!0;this.log.trace("HDCP enagement wait is complete: " + this.config.X4a);};c.prototype.g$a=function(d){var h;h=this;Object.entries(d).forEach(function(m){var l,n,p;l=ra(m);m=l.next().value;l=l.next().value;m=null !== (p=null === (n=h.wSb) || void 0 === n?void 0:n[m]) && void 0 !== p?p:0;1080 < m && (h.R6a="usable" === l,h.y7b.set(l,{height:m}));});};c.prototype.J5b=function(){var d,h,m;d=this;m=this.Fa.gf;!this.$Rb && (0,k.$ua)(m) && (this.$Rb=!0,this.wSb=null === (h=null === m || void 0 === m?void 0:m.context) || void 0 === h?void 0:h.bca,this.g$a(m.keyStatuses.value),m.keyStatuses.addListener(function(l){return d.g$a(l.newValue);}),this.bd.Al((0,f.Vc)(this.config.X4a),function(){return d.oCb();}),this.xSb=this.La.Nf);};c.prototype.q3b=function(d,h){this.log.error("Restricting resolution due to keyStatus",{keyHeight:h,keyStatus:d});this.Fa.Sr.set({reason:"keyStatus",height:h});};Ya.Object.defineProperties(c.prototype,{CY:{configurable:!0,enumerable:!0,get:function(){return "UhdKeyStatus";}}});b.zJa=c;},function(q,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});q=a(141);c=a(19);k=a(9);(0,q.SM)(function(g,f){var d,h,m,l;d={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(d,c.config.A7b);h=d[f.ze];if(c.config.B7b && h){m={};l=(0,k.hj)(g,"MediaStreamFilter");return {CY:"uiLabel",Fz:function(n){if(n.lower && n.height > h)return (m[n.height] || (m[n.height]=!0,l.warn("Restricting resolution due to uiLabel",{MaxHeight:h,streamHeight:n.height}),f.Sr.set({reason:"uiLabel",height:n.height})),!0);}};}});},function(q,b,a){var c,k,g,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(19);k=a(16);q=a(3);g=a(9);f=a(181);a=a(40);g.Ga.get(a.sj).register(q.W.MIa,function(d){c.config.aaa && g.Ga.get(f.MHa).start();d(k.Xg);});},function(q,b,a){var c,k,g,f,d,h,m,l,n,p;Object.defineProperty(b,"__esModule",{value:!0});c=a(213);k=a(142);g=a(16);f=a(19);q=a(3);d=a(9);h=a(24);m=a(26);l=a(14);n=a(54);p=a(92);a=a(40);d.Ga.get(a.sj).register(q.W.UIa,function(r){var t,w;t=(0,d.dk)("NccpApi");w=(0,m.aWa)(["info","warn","trace","error"]);k.qI.zO.nccp={getEsn:function(){return c.jl.Xl;},getPreferredLanguages:function(){return f.config.cs.aza;},setPreferredLanguages:function(v){(0,h.Db)((0,l.isArray)(v) && (0,l.BQ)(v[0]));f.config.cs.aza=v;},queueLogblob:function(v,u,x){var y;if(v && u)if((u=u.toLowerCase(),w[u])){y=d.Ga.get(n.ro);v=d.Ga.get(p.mA).Nv(v,u,x);y.Wc(v);}else t.warn("Invalid severity",{severity:u});},flushLogblobs:function(){d.Ga.get(n.ro).flush(!0);}};r(g.Xg);});},function(q,b,a){var c,k,g,f,d,h,m,l,n,p;Object.defineProperty(b,"__esModule",{value:!0});q=a(40);b=a(3);c=a(7);k=a(49);g=a(329);f=a(16);d=a(19);h=a(9);m=a(65);l=a(142);n=a(619);p=a(125);h.Ga.get(q.sj).register(b.W.WIa,function(r){var v,u,x;function t(y,z){return void 0 === y || void 0 === z?Promise.reject("Invalid email and/or password"):h.Ga.get(n.DMa).mh(this.log,{},{email:y,password:z}).then(function(){});}function w(y){var z;z=h.Ga.get(p.pI);return z.e1a.fetch(y,z);}if(d.config.hJb){v=h.Ga.get(g.Jja);u=h.Ga.get(k.Kp);x=h.Ga.get(c.Ib).Bb("Test");l.qI.zO.test={setPboRequestsListener:function(y){return v.I3b(y);},playbacks:m.Lp,getPlayback:function(y){return m.Lp.find(function(z){return z.ja === y;});},playgraphManager:{isNextSegmentReady:function(y,z){var A,B;return void 0 !== (null === (B=null === (A=m.Lp.find(function(D){return D.ja === y;})) || void 0 === A?void 0:A.Ra) || void 0 === B?void 0:B.laa(z));},isNextSegmentBuffering:function(y,z){var A,B;return null === (B=null === (A=m.Lp.find(function(D){return D.ja === y;})) || void 0 === A?void 0:A.Ra) || void 0 === B?void 0:B.WP(z).GO;}},device:{esn:pb._cad_global.device.Xl,esnPrefix:u.sq,errorPrefix:u.Lt},log:{info:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.info(y,A);},error:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.error(y,A);},warn:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.warn(y,A);},trace:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.trace(y,A);},log:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.log(y,A);},debug:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.debug(y,A);}},login:t,getManifest:w};}r(f.Xg);});},function(q,b,a){var c,k,g,f,d,h,m;Object.defineProperty(b,"__esModule",{value:!0});q=a(1488);c=a(19);k=a(65);b=a(7);g=a(9);f=a(54);d=a(120);h=a(24);m=a(14);pb.netflix=pb.netflix || ({});(0,h.Db)(!pb.netflix.player);pb.netflix.player={VideoSession:q.wRa,diag:{togglePanel:function(l,n){var p;p=[];if(!c.config || c.config.I1){switch(l){case "info":p=k.Lp.map(function(r){return r.$da;});break;case "streams":p=k.Lp.map(function(r){return r.cea;});break;case "log":p=[];}p.forEach(function(r){(0,m.Gd)(n)?n?r.show():r.Ty():r.toggle();});}},addLogMessageSink:function(l){g.Ga.get(f.ro).addListener({ljc:function(){},sVb:function(n){l({data:n.data});}});}},log:(0,g.dk)("Ext"),LogLevel:b.Pk,addLogSink:function(l,n){g.Ga.get(d.MM).Gea(l,n);},getVersion:function(){return "6.0036.280.911";},getMostRecentPlaybackDiagnosticGroups:function(){var l;return null === (l=k.PD.T9a) || void 0 === l?void 0:l.Z9.hZ();}};},function(q,b,a){var k,g,f,d,h,m;function c(l){var n;n=f.qI.call(this,l) || this;n.createPlayer=function(p,r){var t,w,v;r=void 0 === r?{}:r;r="number" === typeof r?{Lk:r}:r;t=k.Ga.get(g.$M);w=k.Ga.get(h.OM).create(r.manifest);v=k.Ga.get(d.cka);p=t.hFb(p);t=k.Ga.get(m.aka).create(p);p=t.Lsa();v=v.qZa(t);v.addEpisode({movieId:p.M,playbackParams:n.rWa(r,p),manifest:w});return v;};return n;}Object.defineProperty(b,"__esModule",{value:!0});b.wRa=void 0;k=a(9);g=a(126);f=a(142);d=a(339);h=a(139);m=a(338);na(c,f.qI);b.wRa=c;},function(q,b,a){var c,k,g,f,d,h,m,l,n,p,r,t,w;Object.defineProperty(b,"__esModule",{value:!0});c=a(142);k=a(213);g=a(16);f=a(46);q=a(3);d=a(9);h=a(179);m=a(24);l=a(14);n=a(11);b=a(40);p=a(63);r=a(78);t=a(172);w=a(178);d.Ga.get(b.sj).register(q.W.VIa,function(v){var B;function u(){return k.jl.Xl;}function x(D){var C;C=d.Ga.get(r.bN);d.Ga.get(t.qU)().then(function(F){var G,E;G=F.e0.getStateForMdx(C);E=G.cryptoContext;F=G.masterToken;G=G.userIdToken;F && G?((0,m.Db)(E),F=["1",(0,d.eB)(JSON.stringify(F.toJSON())),(0,d.eB)(JSON.stringify(G.toJSON()))].join(),D({success:!0,cryptoContext:{cTicket:F,encrypt:function(I,K){I=(0,l.Ag)(I)?(0,d.JS)(I):I;E.encrypt(I,{result:function(L){L=(0,d.eB)(L);K({success:!0,mslEncryptionEnvelopeBase64:L});},timeout:function(){K({success:!1});},error:function(L){(0,m.Db)(!1,"Encrypt error: " + L);K({success:!1});}});},decrypt:function(I,K){I=(0,d.At)(I);E.decrypt(I,{result:function(L){K({success:!0,text:(0,d.x3)(L)});},timeout:function(){K({success:!1});},error:function(L){(0,m.Db)(!1,"Decrypt error: " + L);K({success:!1});}});},hmac:function(I,K){I=(0,l.Ag)(I)?(0,d.JS)(I):I;E.sign(I,{result:function(L){K({success:!0,hmacBase64:(0,d.eB)(L)});},timeout:function(){K({success:!1});},error:function(L){(0,m.Db)(!1,"Hmac error: " + L);K({success:!1});}});}}})):((0,m.Db)(!1,"Must login first"),D({success:!1}));});}function y(D,C){var F;F=(0,d.At)(D);D=F.subarray(32,48);F=F.subarray(0,32);if(16 != D.length || 32 != F.length)throw Error("Bad shared secret");Promise.all([(0,f.aL)(n.Yr.importKey("raw",D,{name:"AES-CBC"},!1,["encrypt","decrypt"])),(0,f.aL)(n.Yr.importKey("raw",F,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(G){C({success:!0,cryptoContext:z(G[0],G[1])});},function(){C({success:!1});});}function z(D,C){function F(G){G=new h.BT((0,d.At)(G));G.KC();return {iv:G.kcb(),JIb:G.kcb()};}return {encrypt:function(G,E){var I;G=(0,l.Ag)(G)?(0,d.JS)(G):G;I=n.JD.getRandomValues(new Uint8Array(16));(0,f.aL)(n.Yr.encrypt({name:"AES-CBC",iv:I},D,G)).then(function(K){var L,H;K=new Uint8Array(K);L=[];H=new h.BT(L);H.Gga(2);H.cjb(I);H.cjb(K);K=(0,d.eB)(L);E({success:!0,encryptedDataAsn1Base64:K});},function(K){(0,m.Db)(!1,"Encrypt error: " + K);E({success:!1});});},decrypt:function(G,E){var I;I=F(G);G=I.iv;I=I.JIb;(0,f.aL)(n.Yr.decrypt({name:"AES-CBC",iv:G},D,I)).then(function(K){K=new Uint8Array(K);E({success:!0,text:(0,d.x3)(K)});},function(K){(0,m.Db)(!1,"Decrypt error: " + K);E({success:!1});});},hmac:function(G,E){G=(0,l.Ag)(G)?(0,d.JS)(G):G;(0,f.aL)(n.Yr.sign({name:"HMAC",hash:{name:"SHA-256"}},C,G)).then(function(I){I=new Uint8Array(I);E({success:!0,hmacBase64:(0,d.eB)(I)});},function(I){(0,m.Db)(!1,"Hmac error: " + I);E({success:!1});});}};}function A(){return (0,p.u9)();}B=d.Ga.get(w.AH);if(B.k6a || B.bC)c.qI.zO.mdx={getEsn:u,createCryptoContext:x,createCryptoContextFromSharedSecret:y,getServerEpoch:A};v(g.Xg);});},function(q,b,a){var c,k,g,f,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(19);k=a(16);q=a(3);g=a(9);b=a(40);f=a(125);g.Ga.get(b.sj).register(q.W.RIa,function(h){var m,l,n;if(c.config.Vw){m=(0,g.dk)("PlayerPredictionModel");l=g.Ga.get(f.pI);n=a(1491);m.log=m.trace.bind(m);d=new n({},m,{M1:function(){},F1b:function(){}},l,{kL:function(){}});pb._cad_global.playerPredictionModel=d;m.info("ppm v2 initialized");}h(k.Xg);});},function(q,b,a){var f,d,h,m,l,n,p;function c(r,t,w,v,u,x){this.L=this.M=r;this.priority=t;this.Xd=w;x && x.ze && (this.ze=x.ze);void 0 !== v && (this.oR=v);this.Dm=u;this.Nb=x;}function k(r,t,w,v,u){h(void 0 !== v,"video preparer is null");h(void 0 !== u,"ui preparer is null");this.J=t || console;this.J=t;this.Wa=w;this.Owb=v;this.Gwb=u;this.VTa=n.Yya;this.hO=[];this.fna=!1;this.kV=0;new p().on(n,"changed",g,this);this.reset();}function g(){this.J.log("config changed");n.Yya && (this.VTa=n.Yya);n.d0 !== this.WN && (this.reset(),this.Vza());}f=a(341);d=a(342);b=a(630);h=b.assert;m=b.m1a;l=a(1492);n=a(631).config;p=a(1493).Fg;n.declare({Yya:["ppmConfig",{S$b:{M$a:0,L$a:2,J$a:0,K$a:5,Qeb:0},Edc:{M$a:0,L$a:1,J$a:0,K$a:3,Qeb:1E3},fac:{M$a:0,L$a:1,J$a:0,K$a:3,Qeb:1E3}}]});k.prototype.constructor=k;k.prototype.reset=function(){this.Nla=!0;this.WN=n.d0;this.J.log("create model: " + n.d0,n.zdb,n.hYa);switch(n.d0){case "modelone":this.WN=new l(this.J);break;default:this.WN=new l(this.J);}};k.prototype.Vza=function(){var t,w;if(!1 === this.fna){this.fna=!0;for(var r=0;r < this.hO.length;r++){this.J.log("PlayPredictionModel replay: ",JSON.stringify(this.hO[r]));t=this.VYa(this.hO[r]);w=this.a2a(t);this.WN.update(t,w);this.Nla=!1;}this.hO=[];}};k.prototype.update=function(r){var t,w,v;this.J.log("PlayPredictionModel update: ",JSON.stringify(r));if(r && r.Zb && r.Zb[0]){!1 === this.fna && this.hO.length < n.MUb && this.hO.push(r);t=this.VYa(r);w=this.a2a(t);this.J.log("actionType",w);t="mlmodel" == n.d0?this.WN.update(r,w):this.WN.update(t,w);t=this.$Kb(t,n.mSb || 1);this.J.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(t));0 === this.kV && (this.kV=f(),this.Wa && this.Wa.M1 && this.Wa.M1({LGb:this.kV}));if(this.Wa && this.Wa.F1b){this.YLb();v=[];t.forEach(function(u){v.push({Ojc:u.M});});JSON.stringify(r);JSON.stringify(t);}this.Owb.kL(t);this.Gwb.kL(t);this.Nla=!1;}};k.prototype.YLb=function(){f();};k.prototype.M1=function(){this.kV=f();this.Wa && this.Wa.M1 && this.Wa.M1({LGb:this.kV});};k.prototype.VYa=function(r){var t,w,v,u,x;t={};v=r.Zb || [];u=(function(y){var z,A;z={};x=d.bU.name.indexOf(y.context);z.context=0 <= x?x:d.bU.qA;z.rowIndex=y.rowIndex;z.requestId=y.requestId;z.list=[];w=y.list || [];w.forEach((function(B){A={M:B.M,Xd:B.Xd,index:B.index,oR:B.oR,qea:B.qea,list:B.list,Nb:B.Nb};void 0 !== B.property && (x=d.JM.name.indexOf(B.property),A.property=0 <= x?x:d.JM.qA);z.list.push(A);}).bind(this));t.Zb.push(z);}).bind(this);if(void 0 !== r.direction){x=d.Kx.name.indexOf(r.direction);t.direction=0 <= x?x:d.Kx.qA;}void 0 !== r.NY && (t.lgc=r.NY.rowIndex,t.kgc=r.NY.iCb);t.NY=r.NY;t.Zb=[];v.forEach(u);return t;};k.prototype.a2a=function(r){var t,w,v;t=r.direction || d.Kx.qA;w=r.NY;v=r.Zb || [];!0 === this.Nla?r=d.Xz.BHa:!0 === v.some(this.wPb)?(r=d.Xz.vU,this.Mea(v,t,w)):r=v[0].context === d.bU.r6?d.Xz.r6:t === d.Kx.XOa || t === d.Kx.BJa?d.Xz.pPa:d.Xz.qA;return r;};k.prototype.wPb=function(r){return (r.list || []).some(function(t){return t.property === d.JM.vU || t.property === d.JM.RFa;});};k.prototype.Mea=function(r,t,w){var v,u;this.J.log("reportPlayFocusEvent: ",t,w);v={};u=m(r);this.Wa && this.Wa.Mea && (v.cgc=f(),v.direction=d.Kx.name[t],w && (v.rowIndex=w.rowIndex,v.iYa=w.iCb),void 0 !== u.zl && (v.requestId=r[u.zl].requestId),this.Wa.Mea && this.Wa.Mea(v));};k.prototype.$Kb=function(r,t){for(var w=r.length,v=[],u,x,y,z,A=0;A < w;A++){x=r[A];u=Math.floor(A / t) + 1;if(void 0 !== x.list){y=x.list;z=y.length;for(var B=0;B < Math.min(n.gCb,z) && !(y[B].Dm=x.Dm,this.lVa(y[B],u,v),v.length >= n.Y8a);B++){;}}else this.lVa(x,u,v);if(v.length >= n.Y8a)break;}return v;};k.prototype.lVa=function(r,t,w){var u,x;function v(y){y.ze && (y.Nb || (y.Nb={}),y.Nb.ze=y.ze);return y.Nb;}u=r.qea;if(void 0 !== u && u instanceof Array)u.forEach(function(y){void 0 !== y.M && (x=v(y),w.push(new c(y.M,t,y.Xd,y.oR,r.Dm,x)));});else if(void 0 !== u && void 0 !== u.M){u=r.qea;x=v(u);w.push(new c(u.M,t,u.Xd,u.oR,r.Dm,x));}void 0 !== r.M && (x=v(r),w.push(new c(r.M,t,r.Xd,r.oR,r.Dm,x)));};k.prototype.WJ=function(r){var t;t=this.VTa;return r?t[r]:t;};q.exports=k;},function(q,b,a){var g,f,d,h,m,l,n,p,r,t;function c(w,v){this.zl=w;this.Fn=v;}function k(w){this.J=w;this.reset();}g=a(341);f=a(342);b=a(630);d=a(631).config;h=b.QLb;m=b.xLb;l=b.NGb;n=b.iXb;p=b.hXb;r=b.gXb;t=b.m1a;k.prototype.constructor=k;k.prototype.reset=function(){this.WTa=void 0;this.Ml=[];this.KTa=this.LTa=!1;};k.prototype.update=function(w,v){var u;this.Ml && (this.Ml=this.Ml.filter(this.v4b,this));if(!1 === this.LTa){u=h(w.Zb).slice(0,d.JZa);0 < u.length && (this.SK(u,f.aA.om),this.LTa=!0,this.Ml=this.kM(u.concat(this.Ml)));}!1 === this.KTa && (u=m(w.Zb).slice(0,d.JZa),0 < u.length && (this.SK(u,f.aA.om),this.KTa=!0,this.Ml=this.kM(u.concat(this.Ml))));switch(v){case f.Xz.BHa:v=this.VOb(w);break;case f.Xz.pPa:v=this.ePb(w);break;case f.Xz.r6:v=this.fPb(w);break;case f.Xz.vU:v=this.$Ob(w);break;default:v=this.SOb(w);}this.WTa=w;return v;};k.prototype.VOb=function(w){w=n(w.Zb,d.zdb,d.hYa);this.SK(w,f.aA.om);return this.Ml=this.kM(this.Ml.concat(w));};k.prototype.ePb=function(w){var v,u;this.J.log("handleScrollHorizontal");v=w.Zb;w=n(v,d.Adb,d.jYa);u=l(v,this.WTa.Zb);v=v[u].list.slice(0,d.u2b);v.concat(w);this.SK(v,f.aA.Fka);return this.kM(v.concat(this.Ml));};k.prototype.SK=function(w,v){w.forEach(function(u){if(void 0 === u.ME || u.ME < v)u.ME=v;void 0 === u.uS && (u.uS=g());void 0 === u.Dm && (u.Dm=g());});};k.prototype.fPb=function(w){this.J.log("handleSearch");w=p(w.Zb,d.N2b);this.SK(w,f.aA.qPa);this.Ml=w.concat(this.Ml);return this.Ml=this.kM(this.Ml);};k.prototype.$Ob=function(w){var v,u,x,y,z;this.J.log("handlePlayFocus: ",d.MZ);v=w.direction;u=w.Zb;w=[];x=t(u);if(void 0 !== x.zl)switch((w.push(x),v)){case f.Kx.XOa:for(v=1;v < d.MZ;v++){w.push(new c(x.zl,x.Fn + v));}w.push(new c(x.zl - 1,x.Fn));w.push(new c(x.zl + 1,x.Fn));break;case f.Kx.BJa:for(v=1;v < d.MZ;v++){w.push(new c(x.zl,x.Fn - v));}w.push(new c(x.zl - 1,x.Fn));w.push(new c(x.zl + 1,x.Fn));break;case f.Kx.Vqb:w.push(new c(x.zl - 1,x.Fn));for(v=1;v <= d.MZ / 2;v++){w.push(new c(x.zl,x.Fn + v));w.push(new c(x.zl,x.Fn - v));}break;case f.Kx.cmb:for((w.push(new c(x.zl + 1,x.Fn)),v=1);v <= d.MZ / 2;v++){w.push(new c(x.zl,x.Fn + v));w.push(new c(x.zl,x.Fn - v));}}y=[];w.forEach(function(A){z=r(u,A.zl,A.Fn);void 0 !== z && y.push(z);});this.SK(y,f.aA.Fka);return this.kM(y.concat(this.Ml));};k.prototype.SOb=function(w){this.J.log("ModelOne: handleDefaultCase");w=n(w.Zb,d.Adb,d.jYa);this.SK(w,f.aA.Fka);return this.kM(w.concat(this.Ml));};k.prototype.v4b=function(w){return w.ME == f.aA.om | w.ME == f.aA.qPa & g() - w.uS < d.NPb;};k.prototype.kM=function(w){var v,u,x,y,z,A,B;v=[];u={};y=0;z=w.length;for(x=0;x < z;x++){A=w[x].M;B=w[x];!1 === (A in u)?(v.push(B),u[A]=y,y++):(A=v[u[A]],B.Dm < A.Dm && (A.Dm=B.Dm),B.ME > A.ME && (A.ME=B.ME),B.uS > A.uS && (A.uS=B.uS));}return v;};q.exports=k;},function(q,b,a){q.exports={EventEmitter:a(1494),Fg:a(1495)};},function(q){function b(c,k){var g;if(void 0 === k || "function" !== typeof k || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Sd)return (this.Sd={},this.Sd[c]=[k],!0);g=this.Sd[c];return void 0 === g?(this.Sd[c]=[k],!0):0 > g.indexOf(k)?(g.push(k),!0):!1;}function a(c,k){c=this.Sd?this.Sd[c]:void 0;if(!c)return !1;c.forEach(function(g){g(k);});return !0;}q.exports={addEventListener:b,on:b,removeEventListener:function(c,k){var g;if(void 0 === k || "function" !== typeof k || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Sd)return !1;g=this.Sd[c];if(void 0 === g)return !1;k=g.indexOf(k);if(0 > k)return !1;if(1 === g.length)return (delete this.Sd[c],!0);g.splice(k,1);return !0;},mb:a,emit:a,removeAllListeners:function(c){this.Sd && (void 0 === c?delete this.Sd:delete this.Sd[c]);return this;}};},function(q){function b(c,k,g,f){c.trace(":",g,":",f);k(f);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,k,g,f){g=f?g.bind(f):g;f=!1;if(c){this.console && (g=b.bind(null,this.console,g,k));if("function" === typeof c.addEventListener)f=c.addEventListener(k,g);else if("function" === typeof c.addListener)f=c.addListener(k,g);else throw Error("Emitter does not have a function to add listeners for '" + k + "'");this.listeners.push([c,k,g]);}return f;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(k){var g,f;g=k[0];f=k[1];k=k[2];"function" === typeof g.removeEventListener?g.removeEventListener(f,k):"function" === typeof g.removeListener && g.removeListener(f,k);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};q.exports=a;}]);}).call(pb);})(window);}).call(window);